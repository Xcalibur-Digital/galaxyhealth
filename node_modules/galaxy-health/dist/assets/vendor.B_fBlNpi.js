function RJ(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hI(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Cwe(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var bJ={exports:{}},fI={},TJ={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE=Symbol.for("react.element"),wwe=Symbol.for("react.portal"),Swe=Symbol.for("react.fragment"),Ewe=Symbol.for("react.strict_mode"),_we=Symbol.for("react.profiler"),Rwe=Symbol.for("react.provider"),bwe=Symbol.for("react.context"),Twe=Symbol.for("react.forward_ref"),Pwe=Symbol.for("react.suspense"),Owe=Symbol.for("react.memo"),Dwe=Symbol.for("react.lazy"),M3=Symbol.iterator;function Awe(r){return r===null||typeof r!="object"?null:(r=M3&&r[M3]||r["@@iterator"],typeof r=="function"?r:null)}var PJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OJ=Object.assign,DJ={};function ey(r,e,t){this.props=r,this.context=e,this.refs=DJ,this.updater=t||PJ}ey.prototype.isReactComponent={};ey.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};ey.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function AJ(){}AJ.prototype=ey.prototype;function bH(r,e,t){this.props=r,this.context=e,this.refs=DJ,this.updater=t||PJ}var TH=bH.prototype=new AJ;TH.constructor=bH;OJ(TH,ey.prototype);TH.isPureReactComponent=!0;var L3=Array.isArray,xJ=Object.prototype.hasOwnProperty,PH={current:null},IJ={key:!0,ref:!0,__self:!0,__source:!0};function FJ(r,e,t){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)xJ.call(e,n)&&!IJ.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:HE,type:r,key:o,ref:s,props:i,_owner:PH.current}}function xwe(r,e){return{$$typeof:HE,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function OH(r){return typeof r=="object"&&r!==null&&r.$$typeof===HE}function Iwe(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var N3=/\/+/g;function xL(r,e){return typeof r=="object"&&r!==null&&r.key!=null?Iwe(""+r.key):e.toString(36)}function GT(r,e,t,n,i){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case HE:case wwe:s=!0}}if(s)return s=r,i=i(s),r=n===""?"."+xL(s,0):n,L3(i)?(t="",r!=null&&(t=r.replace(N3,"$&/")+"/"),GT(i,e,t,"",function(u){return u})):i!=null&&(OH(i)&&(i=xwe(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(N3,"$&/")+"/")+r)),e.push(i)),1;if(s=0,n=n===""?".":n+":",L3(r))for(var a=0;a<r.length;a++){o=r[a];var l=n+xL(o,a);s+=GT(o,e,t,l,i)}else if(l=Awe(r),typeof l=="function")for(r=l.call(r),a=0;!(o=r.next()).done;)o=o.value,l=n+xL(o,a++),s+=GT(o,e,t,l,i);else if(o==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function HR(r,e,t){if(r==null)return r;var n=[],i=0;return GT(r,n,"","",function(o){return e.call(t,o,i++)}),n}function Fwe(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Ao={current:null},VT={transition:null},Mwe={ReactCurrentDispatcher:Ao,ReactCurrentBatchConfig:VT,ReactCurrentOwner:PH};function MJ(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:HR,forEach:function(r,e,t){HR(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return HR(r,function(){e++}),e},toArray:function(r){return HR(r,function(e){return e})||[]},only:function(r){if(!OH(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};en.Component=ey;en.Fragment=Swe;en.Profiler=_we;en.PureComponent=bH;en.StrictMode=Ewe;en.Suspense=Pwe;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mwe;en.act=MJ;en.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=OJ({},r.props),i=r.key,o=r.ref,s=r._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=PH.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(l in e)xJ.call(e,l)&&!IJ.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:HE,type:r.type,key:i,ref:o,props:n,_owner:s}};en.createContext=function(r){return r={$$typeof:bwe,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:Rwe,_context:r},r.Consumer=r};en.createElement=FJ;en.createFactory=function(r){var e=FJ.bind(null,r);return e.type=r,e};en.createRef=function(){return{current:null}};en.forwardRef=function(r){return{$$typeof:Twe,render:r}};en.isValidElement=OH;en.lazy=function(r){return{$$typeof:Dwe,_payload:{_status:-1,_result:r},_init:Fwe}};en.memo=function(r,e){return{$$typeof:Owe,type:r,compare:e===void 0?null:e}};en.startTransition=function(r){var e=VT.transition;VT.transition={};try{r()}finally{VT.transition=e}};en.unstable_act=MJ;en.useCallback=function(r,e){return Ao.current.useCallback(r,e)};en.useContext=function(r){return Ao.current.useContext(r)};en.useDebugValue=function(){};en.useDeferredValue=function(r){return Ao.current.useDeferredValue(r)};en.useEffect=function(r,e){return Ao.current.useEffect(r,e)};en.useId=function(){return Ao.current.useId()};en.useImperativeHandle=function(r,e,t){return Ao.current.useImperativeHandle(r,e,t)};en.useInsertionEffect=function(r,e){return Ao.current.useInsertionEffect(r,e)};en.useLayoutEffect=function(r,e){return Ao.current.useLayoutEffect(r,e)};en.useMemo=function(r,e){return Ao.current.useMemo(r,e)};en.useReducer=function(r,e,t){return Ao.current.useReducer(r,e,t)};en.useRef=function(r){return Ao.current.useRef(r)};en.useState=function(r){return Ao.current.useState(r)};en.useSyncExternalStore=function(r,e,t){return Ao.current.useSyncExternalStore(r,e,t)};en.useTransition=function(){return Ao.current.useTransition()};en.version="18.3.1";TJ.exports=en;var S=TJ.exports;const N=hI(S),hS=RJ({__proto__:null,default:N},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lwe=S,Nwe=Symbol.for("react.element"),Gwe=Symbol.for("react.fragment"),Vwe=Object.prototype.hasOwnProperty,kwe=Lwe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hwe={key:!0,ref:!0,__self:!0,__source:!0};function LJ(r,e,t){var n,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Vwe.call(e,n)&&!Hwe.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Nwe,type:r,key:o,ref:s,props:i,_owner:kwe.current}}fI.Fragment=Gwe;fI.jsx=LJ;fI.jsxs=LJ;bJ.exports=fI;var lyt=bJ.exports,G3={},NJ={exports:{}},Zs={},GJ={exports:{}},VJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(W,H){var Y=W.length;W.push(H);e:for(;0<Y;){var Q=Y-1>>>1,J=W[Q];if(0<i(J,H))W[Q]=H,W[Y]=J,Y=Q;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var H=W[0],Y=W.pop();if(Y!==H){W[0]=Y;e:for(var Q=0,J=W.length,oe=J>>>1;Q<oe;){var re=2*(Q+1)-1,ue=W[re],Ce=re+1,Re=W[Ce];if(0>i(ue,Y))Ce<J&&0>i(Re,ue)?(W[Q]=Re,W[Ce]=Y,Q=Ce):(W[Q]=ue,W[re]=Y,Q=re);else if(Ce<J&&0>i(Re,Y))W[Q]=Re,W[Ce]=Y,Q=Ce;else break e}}return H}function i(W,H){var Y=W.sortIndex-H.sortIndex;return Y!==0?Y:W.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();r.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var H=t(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=W)n(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function E(W){if(g=!1,w(W),!p)if(t(l)!==null)p=!0,j(P);else{var H=t(u);H!==null&&z(E,H.startTime-W)}}function P(W,H){p=!1,g&&(g=!1,m(_),_=-1),f=!0;var Y=h;try{for(w(H),d=t(l);d!==null&&(!(d.expirationTime>H)||W&&!M());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var J=Q(d.expirationTime<=H);H=r.unstable_now(),typeof J=="function"?d.callback=J:d===t(l)&&n(l),w(H)}else n(l);d=t(l)}if(d!==null)var oe=!0;else{var re=t(u);re!==null&&z(E,re.startTime-H),oe=!1}return oe}finally{d=null,h=Y,f=!1}}var T=!1,R=null,_=-1,b=5,D=-1;function M(){return!(r.unstable_now()-D<b)}function G(){if(R!==null){var W=r.unstable_now();D=W;var H=!0;try{H=R(!0,W)}finally{H?I():(T=!1,R=null)}}else T=!1}var I;if(typeof y=="function")I=function(){y(G)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=G,I=function(){B.postMessage(null)}}else I=function(){C(G,0)};function j(W){R=W,T||(T=!0,I())}function z(W,H){_=C(function(){W(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){p||f||(p=!0,j(P))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(W){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var Y=h;h=H;try{return W()}finally{h=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,H){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=h;h=W;try{return H()}finally{h=Y}},r.unstable_scheduleCallback=function(W,H,Y){var Q=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Q+Y:Q):Y=Q,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,W={id:c++,callback:H,priorityLevel:W,startTime:Y,expirationTime:J,sortIndex:-1},Y>Q?(W.sortIndex=Y,e(u,W),t(l)===null&&W===t(u)&&(g?(m(_),_=-1):g=!0,z(E,Y-Q))):(W.sortIndex=J,e(l,W),p||f||(p=!0,j(P))),W},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(W){var H=h;return function(){var Y=h;h=H;try{return W.apply(this,arguments)}finally{h=Y}}}})(VJ);GJ.exports=VJ;var $we=GJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bwe=S,qs=$we;function be(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kJ=new Set,fS={};function ig(r,e){cv(r,e),cv(r+"Capture",e)}function cv(r,e){for(fS[r]=e,r=0;r<e.length;r++)kJ.add(e[r])}var bc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BG=Object.prototype.hasOwnProperty,jwe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V3={},k3={};function Wwe(r){return BG.call(k3,r)?!0:BG.call(V3,r)?!1:jwe.test(r)?k3[r]=!0:(V3[r]=!0,!1)}function Uwe(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function zwe(r,e,t,n){if(e===null||typeof e>"u"||Uwe(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xo(r,e,t,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Gi[r]=new xo(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Gi[e]=new xo(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Gi[r]=new xo(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Gi[r]=new xo(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Gi[r]=new xo(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Gi[r]=new xo(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Gi[r]=new xo(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Gi[r]=new xo(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Gi[r]=new xo(r,5,!1,r.toLowerCase(),null,!1,!1)});var DH=/[\-:]([a-z])/g;function AH(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(DH,AH);Gi[e]=new xo(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(DH,AH);Gi[e]=new xo(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(DH,AH);Gi[e]=new xo(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Gi[r]=new xo(r,1,!1,r.toLowerCase(),null,!1,!1)});Gi.xlinkHref=new xo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Gi[r]=new xo(r,1,!1,r.toLowerCase(),null,!0,!0)});function xH(r,e,t,n){var i=Gi.hasOwnProperty(e)?Gi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zwe(e,t,i,n)&&(t=null),n||i===null?Wwe(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var Wc=Bwe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$R=Symbol.for("react.element"),mm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),IH=Symbol.for("react.strict_mode"),jG=Symbol.for("react.profiler"),HJ=Symbol.for("react.provider"),$J=Symbol.for("react.context"),FH=Symbol.for("react.forward_ref"),WG=Symbol.for("react.suspense"),UG=Symbol.for("react.suspense_list"),MH=Symbol.for("react.memo"),Nd=Symbol.for("react.lazy"),BJ=Symbol.for("react.offscreen"),H3=Symbol.iterator;function nC(r){return r===null||typeof r!="object"?null:(r=H3&&r[H3]||r["@@iterator"],typeof r=="function"?r:null)}var vr=Object.assign,IL;function fw(r){if(IL===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);IL=e&&e[1]||""}return`
`+IL+r}var FL=!1;function ML(r,e){if(!r||FL)return"";FL=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(r,[],e)}else{try{e.call()}catch(u){n=u}r.call(e.prototype)}else{try{throw Error()}catch(u){n=u}r()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=s&&0<=a);break}}}finally{FL=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?fw(r):""}function Kwe(r){switch(r.tag){case 5:return fw(r.type);case 16:return fw("Lazy");case 13:return fw("Suspense");case 19:return fw("SuspenseList");case 0:case 2:case 15:return r=ML(r.type,!1),r;case 11:return r=ML(r.type.render,!1),r;case 1:return r=ML(r.type,!0),r;default:return""}}function zG(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case vm:return"Fragment";case mm:return"Portal";case jG:return"Profiler";case IH:return"StrictMode";case WG:return"Suspense";case UG:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case $J:return(r.displayName||"Context")+".Consumer";case HJ:return(r._context.displayName||"Context")+".Provider";case FH:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case MH:return e=r.displayName||null,e!==null?e:zG(r.type)||"Memo";case Nd:e=r._payload,r=r._init;try{return zG(r(e))}catch{}}return null}function Ywe(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zG(e);case 8:return e===IH?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dh(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function jJ(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qwe(r){var e=jJ(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function BR(r){r._valueTracker||(r._valueTracker=qwe(r))}function WJ(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=jJ(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function jP(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function KG(r,e){var t=e.checked;return vr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function $3(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Dh(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UJ(r,e){e=e.checked,e!=null&&xH(r,"checked",e,!1)}function YG(r,e){UJ(r,e);var t=Dh(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?qG(r,e.type,t):e.hasOwnProperty("defaultValue")&&qG(r,e.type,Dh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function B3(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function qG(r,e,t){(e!=="number"||jP(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var pw=Array.isArray;function km(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Dh(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function QG(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return vr({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function j3(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(be(92));if(pw(t)){if(1<t.length)throw Error(be(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Dh(t)}}function zJ(r,e){var t=Dh(e.value),n=Dh(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function W3(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function KJ(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XG(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?KJ(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var jR,YJ=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(jR=jR||document.createElement("div"),jR.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jR.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function pS(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var $w={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qwe=["Webkit","ms","Moz","O"];Object.keys($w).forEach(function(r){Qwe.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),$w[e]=$w[r]})});function qJ(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$w.hasOwnProperty(r)&&$w[r]?(""+e).trim():e+"px"}function QJ(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=qJ(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var Xwe=vr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function JG(r,e){if(e){if(Xwe[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function ZG(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function LH(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var t1=null,Hm=null,$m=null;function U3(r){if(r=jE(r)){if(typeof t1!="function")throw Error(be(280));var e=r.stateNode;e&&(e=yI(e),t1(r.stateNode,r.type,e))}}function XJ(r){Hm?$m?$m.push(r):$m=[r]:Hm=r}function JJ(){if(Hm){var r=Hm,e=$m;if($m=Hm=null,U3(r),e)for(r=0;r<e.length;r++)U3(e[r])}}function ZJ(r,e){return r(e)}function eZ(){}var LL=!1;function tZ(r,e,t){if(LL)return r(e,t);LL=!0;try{return ZJ(r,e,t)}finally{LL=!1,(Hm!==null||$m!==null)&&(eZ(),JJ())}}function gS(r,e){var t=r.stateNode;if(t===null)return null;var n=yI(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(be(231,e,typeof t));return t}var n1=!1;if(bc)try{var rC={};Object.defineProperty(rC,"passive",{get:function(){n1=!0}}),window.addEventListener("test",rC,rC),window.removeEventListener("test",rC,rC)}catch{n1=!1}function Jwe(r,e,t,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Bw=!1,WP=null,UP=!1,r1=null,Zwe={onError:function(r){Bw=!0,WP=r}};function eSe(r,e,t,n,i,o,s,a,l){Bw=!1,WP=null,Jwe.apply(Zwe,arguments)}function tSe(r,e,t,n,i,o,s,a,l){if(eSe.apply(this,arguments),Bw){if(Bw){var u=WP;Bw=!1,WP=null}else throw Error(be(198));UP||(UP=!0,r1=u)}}function og(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function nZ(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function z3(r){if(og(r)!==r)throw Error(be(188))}function nSe(r){var e=r.alternate;if(!e){if(e=og(r),e===null)throw Error(be(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return z3(i),r;if(o===n)return z3(i),e;o=o.sibling}throw Error(be(188))}if(t.return!==n.return)t=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,n=o;break}if(a===n){s=!0,n=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,n=i;break}if(a===n){s=!0,n=o,t=i;break}a=a.sibling}if(!s)throw Error(be(189))}}if(t.alternate!==n)throw Error(be(190))}if(t.tag!==3)throw Error(be(188));return t.stateNode.current===t?r:e}function rZ(r){return r=nSe(r),r!==null?iZ(r):null}function iZ(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=iZ(r);if(e!==null)return e;r=r.sibling}return null}var oZ=qs.unstable_scheduleCallback,K3=qs.unstable_cancelCallback,rSe=qs.unstable_shouldYield,iSe=qs.unstable_requestPaint,Or=qs.unstable_now,oSe=qs.unstable_getCurrentPriorityLevel,NH=qs.unstable_ImmediatePriority,sZ=qs.unstable_UserBlockingPriority,zP=qs.unstable_NormalPriority,sSe=qs.unstable_LowPriority,aZ=qs.unstable_IdlePriority,pI=null,mu=null;function aSe(r){if(mu&&typeof mu.onCommitFiberRoot=="function")try{mu.onCommitFiberRoot(pI,r,void 0,(r.current.flags&128)===128)}catch{}}var dl=Math.clz32?Math.clz32:cSe,lSe=Math.log,uSe=Math.LN2;function cSe(r){return r>>>=0,r===0?32:31-(lSe(r)/uSe|0)|0}var WR=64,UR=4194304;function gw(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function KP(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,o=r.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?n=gw(a):(o&=s,o!==0&&(n=gw(o)))}else s=t&~i,s!==0?n=gw(s):o!==0&&(n=gw(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-dl(e),i=1<<t,n|=r[t],e&=~i;return n}function dSe(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hSe(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,o=r.pendingLanes;0<o;){var s=31-dl(o),a=1<<s,l=i[s];l===-1?(!(a&t)||a&n)&&(i[s]=dSe(a,e)):l<=e&&(r.expiredLanes|=a),o&=~a}}function i1(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function lZ(){var r=WR;return WR<<=1,!(WR&4194240)&&(WR=64),r}function NL(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function $E(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-dl(e),r[e]=t}function fSe(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-dl(t),o=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~o}}function GH(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-dl(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var xn=0;function uZ(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var cZ,VH,dZ,hZ,fZ,o1=!1,zR=[],uh=null,ch=null,dh=null,mS=new Map,vS=new Map,jd=[],pSe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y3(r,e){switch(r){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":ch=null;break;case"mouseover":case"mouseout":dh=null;break;case"pointerover":case"pointerout":mS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vS.delete(e.pointerId)}}function iC(r,e,t,n,i,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=jE(e),e!==null&&VH(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function gSe(r,e,t,n,i){switch(e){case"focusin":return uh=iC(uh,r,e,t,n,i),!0;case"dragenter":return ch=iC(ch,r,e,t,n,i),!0;case"mouseover":return dh=iC(dh,r,e,t,n,i),!0;case"pointerover":var o=i.pointerId;return mS.set(o,iC(mS.get(o)||null,r,e,t,n,i)),!0;case"gotpointercapture":return o=i.pointerId,vS.set(o,iC(vS.get(o)||null,r,e,t,n,i)),!0}return!1}function pZ(r){var e=Uf(r.target);if(e!==null){var t=og(e);if(t!==null){if(e=t.tag,e===13){if(e=nZ(t),e!==null){r.blockedOn=e,fZ(r.priority,function(){dZ(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kT(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=s1(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);e1=n,t.target.dispatchEvent(n),e1=null}else return e=jE(t),e!==null&&VH(e),r.blockedOn=t,!1;e.shift()}return!0}function q3(r,e,t){kT(r)&&t.delete(e)}function mSe(){o1=!1,uh!==null&&kT(uh)&&(uh=null),ch!==null&&kT(ch)&&(ch=null),dh!==null&&kT(dh)&&(dh=null),mS.forEach(q3),vS.forEach(q3)}function oC(r,e){r.blockedOn===e&&(r.blockedOn=null,o1||(o1=!0,qs.unstable_scheduleCallback(qs.unstable_NormalPriority,mSe)))}function yS(r){function e(i){return oC(i,r)}if(0<zR.length){oC(zR[0],r);for(var t=1;t<zR.length;t++){var n=zR[t];n.blockedOn===r&&(n.blockedOn=null)}}for(uh!==null&&oC(uh,r),ch!==null&&oC(ch,r),dh!==null&&oC(dh,r),mS.forEach(e),vS.forEach(e),t=0;t<jd.length;t++)n=jd[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<jd.length&&(t=jd[0],t.blockedOn===null);)pZ(t),t.blockedOn===null&&jd.shift()}var Bm=Wc.ReactCurrentBatchConfig,YP=!0;function vSe(r,e,t,n){var i=xn,o=Bm.transition;Bm.transition=null;try{xn=1,kH(r,e,t,n)}finally{xn=i,Bm.transition=o}}function ySe(r,e,t,n){var i=xn,o=Bm.transition;Bm.transition=null;try{xn=4,kH(r,e,t,n)}finally{xn=i,Bm.transition=o}}function kH(r,e,t,n){if(YP){var i=s1(r,e,t,n);if(i===null)zL(r,e,n,qP,t),Y3(r,n);else if(gSe(i,r,e,t,n))n.stopPropagation();else if(Y3(r,n),e&4&&-1<pSe.indexOf(r)){for(;i!==null;){var o=jE(i);if(o!==null&&cZ(o),o=s1(r,e,t,n),o===null&&zL(r,e,n,qP,t),o===i)break;i=o}i!==null&&n.stopPropagation()}else zL(r,e,n,null,t)}}var qP=null;function s1(r,e,t,n){if(qP=null,r=LH(n),r=Uf(r),r!==null)if(e=og(r),e===null)r=null;else if(t=e.tag,t===13){if(r=nZ(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return qP=r,null}function gZ(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oSe()){case NH:return 1;case sZ:return 4;case zP:case sSe:return 16;case aZ:return 536870912;default:return 16}default:return 16}}var Jd=null,HH=null,HT=null;function mZ(){if(HT)return HT;var r,e=HH,t=e.length,n,i="value"in Jd?Jd.value:Jd.textContent,o=i.length;for(r=0;r<t&&e[r]===i[r];r++);var s=t-r;for(n=1;n<=s&&e[t-n]===i[o-n];n++);return HT=i.slice(r,1<n?1-n:void 0)}function $T(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function KR(){return!0}function Q3(){return!1}function ea(r){function e(t,n,i,o,s){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?KR:Q3,this.isPropagationStopped=Q3,this}return vr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=KR)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=KR)},persist:function(){},isPersistent:KR}),e}var ty={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$H=ea(ty),BE=vr({},ty,{view:0,detail:0}),CSe=ea(BE),GL,VL,sC,gI=vr({},BE,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BH,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==sC&&(sC&&r.type==="mousemove"?(GL=r.screenX-sC.screenX,VL=r.screenY-sC.screenY):VL=GL=0,sC=r),GL)},movementY:function(r){return"movementY"in r?r.movementY:VL}}),X3=ea(gI),wSe=vr({},gI,{dataTransfer:0}),SSe=ea(wSe),ESe=vr({},BE,{relatedTarget:0}),kL=ea(ESe),_Se=vr({},ty,{animationName:0,elapsedTime:0,pseudoElement:0}),RSe=ea(_Se),bSe=vr({},ty,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),TSe=ea(bSe),PSe=vr({},ty,{data:0}),J3=ea(PSe),OSe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DSe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ASe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xSe(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=ASe[r])?!!e[r]:!1}function BH(){return xSe}var ISe=vr({},BE,{key:function(r){if(r.key){var e=OSe[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=$T(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?DSe[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BH,charCode:function(r){return r.type==="keypress"?$T(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?$T(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),FSe=ea(ISe),MSe=vr({},gI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z3=ea(MSe),LSe=vr({},BE,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BH}),NSe=ea(LSe),GSe=vr({},ty,{propertyName:0,elapsedTime:0,pseudoElement:0}),VSe=ea(GSe),kSe=vr({},gI,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),HSe=ea(kSe),$Se=[9,13,27,32],jH=bc&&"CompositionEvent"in window,jw=null;bc&&"documentMode"in document&&(jw=document.documentMode);var BSe=bc&&"TextEvent"in window&&!jw,vZ=bc&&(!jH||jw&&8<jw&&11>=jw),ez=" ",tz=!1;function yZ(r,e){switch(r){case"keyup":return $Se.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CZ(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ym=!1;function jSe(r,e){switch(r){case"compositionend":return CZ(e);case"keypress":return e.which!==32?null:(tz=!0,ez);case"textInput":return r=e.data,r===ez&&tz?null:r;default:return null}}function WSe(r,e){if(ym)return r==="compositionend"||!jH&&yZ(r,e)?(r=mZ(),HT=HH=Jd=null,ym=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vZ&&e.locale!=="ko"?null:e.data;default:return null}}var USe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nz(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!USe[r.type]:e==="textarea"}function wZ(r,e,t,n){XJ(n),e=QP(e,"onChange"),0<e.length&&(t=new $H("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Ww=null,CS=null;function zSe(r){xZ(r,0)}function mI(r){var e=Sm(r);if(WJ(e))return r}function KSe(r,e){if(r==="change")return e}var SZ=!1;if(bc){var HL;if(bc){var $L="oninput"in document;if(!$L){var rz=document.createElement("div");rz.setAttribute("oninput","return;"),$L=typeof rz.oninput=="function"}HL=$L}else HL=!1;SZ=HL&&(!document.documentMode||9<document.documentMode)}function iz(){Ww&&(Ww.detachEvent("onpropertychange",EZ),CS=Ww=null)}function EZ(r){if(r.propertyName==="value"&&mI(CS)){var e=[];wZ(e,CS,r,LH(r)),tZ(zSe,e)}}function YSe(r,e,t){r==="focusin"?(iz(),Ww=e,CS=t,Ww.attachEvent("onpropertychange",EZ)):r==="focusout"&&iz()}function qSe(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mI(CS)}function QSe(r,e){if(r==="click")return mI(e)}function XSe(r,e){if(r==="input"||r==="change")return mI(e)}function JSe(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var vl=typeof Object.is=="function"?Object.is:JSe;function wS(r,e){if(vl(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!BG.call(e,i)||!vl(r[i],e[i]))return!1}return!0}function oz(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sz(r,e){var t=oz(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=oz(t)}}function _Z(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?_Z(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function RZ(){for(var r=window,e=jP();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=jP(r.document)}return e}function WH(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function ZSe(r){var e=RZ(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&_Z(t.ownerDocument.documentElement,t)){if(n!==null&&WH(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!r.extend&&o>n&&(i=n,n=o,o=i),i=sz(t,o);var s=sz(t,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),o>n?(r.addRange(e),r.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var eEe=bc&&"documentMode"in document&&11>=document.documentMode,Cm=null,a1=null,Uw=null,l1=!1;function az(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;l1||Cm==null||Cm!==jP(n)||(n=Cm,"selectionStart"in n&&WH(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uw&&wS(Uw,n)||(Uw=n,n=QP(a1,"onSelect"),0<n.length&&(e=new $H("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=Cm)))}function YR(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var wm={animationend:YR("Animation","AnimationEnd"),animationiteration:YR("Animation","AnimationIteration"),animationstart:YR("Animation","AnimationStart"),transitionend:YR("Transition","TransitionEnd")},BL={},bZ={};bc&&(bZ=document.createElement("div").style,"AnimationEvent"in window||(delete wm.animationend.animation,delete wm.animationiteration.animation,delete wm.animationstart.animation),"TransitionEvent"in window||delete wm.transitionend.transition);function vI(r){if(BL[r])return BL[r];if(!wm[r])return r;var e=wm[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in bZ)return BL[r]=e[t];return r}var TZ=vI("animationend"),PZ=vI("animationiteration"),OZ=vI("animationstart"),DZ=vI("transitionend"),AZ=new Map,lz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bh(r,e){AZ.set(r,e),ig(e,[r])}for(var jL=0;jL<lz.length;jL++){var WL=lz[jL],tEe=WL.toLowerCase(),nEe=WL[0].toUpperCase()+WL.slice(1);Bh(tEe,"on"+nEe)}Bh(TZ,"onAnimationEnd");Bh(PZ,"onAnimationIteration");Bh(OZ,"onAnimationStart");Bh("dblclick","onDoubleClick");Bh("focusin","onFocus");Bh("focusout","onBlur");Bh(DZ,"onTransitionEnd");cv("onMouseEnter",["mouseout","mouseover"]);cv("onMouseLeave",["mouseout","mouseover"]);cv("onPointerEnter",["pointerout","pointerover"]);cv("onPointerLeave",["pointerout","pointerover"]);ig("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ig("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ig("onBeforeInput",["compositionend","keypress","textInput","paste"]);ig("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ig("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ig("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rEe=new Set("cancel close invalid load scroll toggle".split(" ").concat(mw));function uz(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,tSe(n,e,void 0,r),r.currentTarget=null}function xZ(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;uz(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;uz(i,a,u),o=l}}}if(UP)throw r=r1,UP=!1,r1=null,r}function Zn(r,e){var t=e[f1];t===void 0&&(t=e[f1]=new Set);var n=r+"__bubble";t.has(n)||(IZ(e,r,2,!1),t.add(n))}function UL(r,e,t){var n=0;e&&(n|=4),IZ(t,r,n,e)}var qR="_reactListening"+Math.random().toString(36).slice(2);function SS(r){if(!r[qR]){r[qR]=!0,kJ.forEach(function(t){t!=="selectionchange"&&(rEe.has(t)||UL(t,!1,r),UL(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[qR]||(e[qR]=!0,UL("selectionchange",!1,e))}}function IZ(r,e,t,n){switch(gZ(e)){case 1:var i=vSe;break;case 4:i=ySe;break;default:i=kH}t=i.bind(null,e,t,r),i=void 0,!n1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function zL(r,e,t,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Uf(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}tZ(function(){var u=o,c=LH(t),d=[];e:{var h=AZ.get(r);if(h!==void 0){var f=$H,p=r;switch(r){case"keypress":if($T(t)===0)break e;case"keydown":case"keyup":f=FSe;break;case"focusin":p="focus",f=kL;break;case"focusout":p="blur",f=kL;break;case"beforeblur":case"afterblur":f=kL;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=X3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=SSe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=NSe;break;case TZ:case PZ:case OZ:f=RSe;break;case DZ:f=VSe;break;case"scroll":f=CSe;break;case"wheel":f=HSe;break;case"copy":case"cut":case"paste":f=TSe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Z3}var g=(e&4)!==0,C=!g&&r==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,m!==null&&(E=gS(y,m),E!=null&&g.push(ES(y,E,w)))),C)break;y=y.return}0<g.length&&(h=new f(h,p,null,t,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=r==="mouseover"||r==="pointerover",f=r==="mouseout"||r==="pointerout",h&&t!==e1&&(p=t.relatedTarget||t.fromElement)&&(Uf(p)||p[Tc]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=t.relatedTarget||t.toElement,f=u,p=p?Uf(p):null,p!==null&&(C=og(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=X3,E="onMouseLeave",m="onMouseEnter",y="mouse",(r==="pointerout"||r==="pointerover")&&(g=Z3,E="onPointerLeave",m="onPointerEnter",y="pointer"),C=f==null?h:Sm(f),w=p==null?h:Sm(p),h=new g(E,y+"leave",f,t,c),h.target=C,h.relatedTarget=w,E=null,Uf(c)===u&&(g=new g(m,y+"enter",p,t,c),g.target=w,g.relatedTarget=C,E=g),C=E,f&&p)t:{for(g=f,m=p,y=0,w=g;w;w=Gg(w))y++;for(w=0,E=m;E;E=Gg(E))w++;for(;0<y-w;)g=Gg(g),y--;for(;0<w-y;)m=Gg(m),w--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Gg(g),m=Gg(m)}g=null}else g=null;f!==null&&cz(d,h,f,g,!1),p!==null&&C!==null&&cz(d,C,p,g,!0)}}e:{if(h=u?Sm(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var P=KSe;else if(nz(h))if(SZ)P=XSe;else{P=qSe;var T=YSe}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=QSe);if(P&&(P=P(r,u))){wZ(d,P,t,c);break e}T&&T(r,h,u),r==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&qG(h,"number",h.value)}switch(T=u?Sm(u):window,r){case"focusin":(nz(T)||T.contentEditable==="true")&&(Cm=T,a1=u,Uw=null);break;case"focusout":Uw=a1=Cm=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,az(d,t,c);break;case"selectionchange":if(eEe)break;case"keydown":case"keyup":az(d,t,c)}var R;if(jH)e:{switch(r){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ym?yZ(r,t)&&(_="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(_="onCompositionStart");_&&(vZ&&t.locale!=="ko"&&(ym||_!=="onCompositionStart"?_==="onCompositionEnd"&&ym&&(R=mZ()):(Jd=c,HH="value"in Jd?Jd.value:Jd.textContent,ym=!0)),T=QP(u,_),0<T.length&&(_=new J3(_,r,null,t,c),d.push({event:_,listeners:T}),R?_.data=R:(R=CZ(t),R!==null&&(_.data=R)))),(R=BSe?jSe(r,t):WSe(r,t))&&(u=QP(u,"onBeforeInput"),0<u.length&&(c=new J3("onBeforeInput","beforeinput",null,t,c),d.push({event:c,listeners:u}),c.data=R))}xZ(d,e)})}function ES(r,e,t){return{instance:r,listener:e,currentTarget:t}}function QP(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gS(r,t),o!=null&&n.unshift(ES(r,o,i)),o=gS(r,e),o!=null&&n.push(ES(r,o,i))),r=r.return}return n}function Gg(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cz(r,e,t,n,i){for(var o=e._reactName,s=[];t!==null&&t!==n;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=gS(t,o),l!=null&&s.unshift(ES(t,l,a))):i||(l=gS(t,o),l!=null&&s.push(ES(t,l,a)))),t=t.return}s.length!==0&&r.push({event:e,listeners:s})}var iEe=/\r\n?/g,oEe=/\u0000|\uFFFD/g;function dz(r){return(typeof r=="string"?r:""+r).replace(iEe,`
`).replace(oEe,"")}function QR(r,e,t){if(e=dz(e),dz(r)!==e&&t)throw Error(be(425))}function XP(){}var u1=null,c1=null;function d1(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h1=typeof setTimeout=="function"?setTimeout:void 0,sEe=typeof clearTimeout=="function"?clearTimeout:void 0,hz=typeof Promise=="function"?Promise:void 0,aEe=typeof queueMicrotask=="function"?queueMicrotask:typeof hz<"u"?function(r){return hz.resolve(null).then(r).catch(lEe)}:h1;function lEe(r){setTimeout(function(){throw r})}function KL(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),yS(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);yS(e)}function hh(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function fz(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var ny=Math.random().toString(36).slice(2),du="__reactFiber$"+ny,_S="__reactProps$"+ny,Tc="__reactContainer$"+ny,f1="__reactEvents$"+ny,uEe="__reactListeners$"+ny,cEe="__reactHandles$"+ny;function Uf(r){var e=r[du];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Tc]||t[du]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=fz(r);r!==null;){if(t=r[du])return t;r=fz(r)}return e}r=t,t=r.parentNode}return null}function jE(r){return r=r[du]||r[Tc],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Sm(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(be(33))}function yI(r){return r[_S]||null}var p1=[],Em=-1;function jh(r){return{current:r}}function ir(r){0>Em||(r.current=p1[Em],p1[Em]=null,Em--)}function Yn(r,e){Em++,p1[Em]=r.current,r.current=e}var Ah={},fo=jh(Ah),rs=jh(!1),Ep=Ah;function dv(r,e){var t=r.type.contextTypes;if(!t)return Ah;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function is(r){return r=r.childContextTypes,r!=null}function JP(){ir(rs),ir(fo)}function pz(r,e,t){if(fo.current!==Ah)throw Error(be(168));Yn(fo,e),Yn(rs,t)}function FZ(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(be(108,Ywe(r)||"Unknown",i));return vr({},t,n)}function ZP(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ah,Ep=fo.current,Yn(fo,r),Yn(rs,rs.current),!0}function gz(r,e,t){var n=r.stateNode;if(!n)throw Error(be(169));t?(r=FZ(r,e,Ep),n.__reactInternalMemoizedMergedChildContext=r,ir(rs),ir(fo),Yn(fo,r)):ir(rs),Yn(rs,t)}var ic=null,CI=!1,YL=!1;function MZ(r){ic===null?ic=[r]:ic.push(r)}function dEe(r){CI=!0,MZ(r)}function Wh(){if(!YL&&ic!==null){YL=!0;var r=0,e=xn;try{var t=ic;for(xn=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}ic=null,CI=!1}catch(i){throw ic!==null&&(ic=ic.slice(r+1)),oZ(NH,Wh),i}finally{xn=e,YL=!1}}return null}var _m=[],Rm=0,eO=null,tO=0,va=[],ya=0,_p=null,sc=1,ac="";function Tf(r,e){_m[Rm++]=tO,_m[Rm++]=eO,eO=r,tO=e}function LZ(r,e,t){va[ya++]=sc,va[ya++]=ac,va[ya++]=_p,_p=r;var n=sc;r=ac;var i=32-dl(n)-1;n&=~(1<<i),t+=1;var o=32-dl(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,sc=1<<32-dl(e)+i|t<<i|n,ac=o+r}else sc=1<<o|t<<i|n,ac=r}function UH(r){r.return!==null&&(Tf(r,1),LZ(r,1,0))}function zH(r){for(;r===eO;)eO=_m[--Rm],_m[Rm]=null,tO=_m[--Rm],_m[Rm]=null;for(;r===_p;)_p=va[--ya],va[ya]=null,ac=va[--ya],va[ya]=null,sc=va[--ya],va[ya]=null}var Us=null,Hs=null,lr=!1,nl=null;function NZ(r,e){var t=Sa(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function mz(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Us=r,Hs=hh(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Us=r,Hs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_p!==null?{id:sc,overflow:ac}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Sa(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,Us=r,Hs=null,!0):!1;default:return!1}}function g1(r){return(r.mode&1)!==0&&(r.flags&128)===0}function m1(r){if(lr){var e=Hs;if(e){var t=e;if(!mz(r,e)){if(g1(r))throw Error(be(418));e=hh(t.nextSibling);var n=Us;e&&mz(r,e)?NZ(n,t):(r.flags=r.flags&-4097|2,lr=!1,Us=r)}}else{if(g1(r))throw Error(be(418));r.flags=r.flags&-4097|2,lr=!1,Us=r}}}function vz(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Us=r}function XR(r){if(r!==Us)return!1;if(!lr)return vz(r),lr=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!d1(r.type,r.memoizedProps)),e&&(e=Hs)){if(g1(r))throw GZ(),Error(be(418));for(;e;)NZ(r,e),e=hh(e.nextSibling)}if(vz(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(be(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Hs=hh(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Hs=null}}else Hs=Us?hh(r.stateNode.nextSibling):null;return!0}function GZ(){for(var r=Hs;r;)r=hh(r.nextSibling)}function hv(){Hs=Us=null,lr=!1}function KH(r){nl===null?nl=[r]:nl.push(r)}var hEe=Wc.ReactCurrentBatchConfig;function aC(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(be(309));var n=t.stateNode}if(!n)throw Error(be(147,r));var i=n,o=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof r!="string")throw Error(be(284));if(!t._owner)throw Error(be(290,r))}return r}function JR(r,e){throw r=Object.prototype.toString.call(e),Error(be(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function yz(r){var e=r._init;return e(r._payload)}function VZ(r){function e(m,y){if(r){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function t(m,y){if(!r)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=mh(m,y),m.index=0,m.sibling=null,m}function o(m,y,w){return m.index=w,r?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return r&&m.alternate===null&&(m.flags|=2),m}function a(m,y,w,E){return y===null||y.tag!==6?(y=t0(w,m.mode,E),y.return=m,y):(y=i(y,w),y.return=m,y)}function l(m,y,w,E){var P=w.type;return P===vm?c(m,y,w.props.children,E,w.key):y!==null&&(y.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Nd&&yz(P)===y.type)?(E=i(y,w.props),E.ref=aC(m,y,w),E.return=m,E):(E=YT(w.type,w.key,w.props,null,m.mode,E),E.ref=aC(m,y,w),E.return=m,E)}function u(m,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=n0(w,m.mode,E),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function c(m,y,w,E,P){return y===null||y.tag!==7?(y=lp(w,m.mode,E,P),y.return=m,y):(y=i(y,w),y.return=m,y)}function d(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=t0(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $R:return w=YT(y.type,y.key,y.props,null,m.mode,w),w.ref=aC(m,null,y),w.return=m,w;case mm:return y=n0(y,m.mode,w),y.return=m,y;case Nd:var E=y._init;return d(m,E(y._payload),w)}if(pw(y)||nC(y))return y=lp(y,m.mode,w,null),y.return=m,y;JR(m,y)}return null}function h(m,y,w,E){var P=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:a(m,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $R:return w.key===P?l(m,y,w,E):null;case mm:return w.key===P?u(m,y,w,E):null;case Nd:return P=w._init,h(m,y,P(w._payload),E)}if(pw(w)||nC(w))return P!==null?null:c(m,y,w,E,null);JR(m,w)}return null}function f(m,y,w,E,P){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(w)||null,a(y,m,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $R:return m=m.get(E.key===null?w:E.key)||null,l(y,m,E,P);case mm:return m=m.get(E.key===null?w:E.key)||null,u(y,m,E,P);case Nd:var T=E._init;return f(m,y,w,T(E._payload),P)}if(pw(E)||nC(E))return m=m.get(w)||null,c(y,m,E,P,null);JR(y,E)}return null}function p(m,y,w,E){for(var P=null,T=null,R=y,_=y=0,b=null;R!==null&&_<w.length;_++){R.index>_?(b=R,R=null):b=R.sibling;var D=h(m,R,w[_],E);if(D===null){R===null&&(R=b);break}r&&R&&D.alternate===null&&e(m,R),y=o(D,y,_),T===null?P=D:T.sibling=D,T=D,R=b}if(_===w.length)return t(m,R),lr&&Tf(m,_),P;if(R===null){for(;_<w.length;_++)R=d(m,w[_],E),R!==null&&(y=o(R,y,_),T===null?P=R:T.sibling=R,T=R);return lr&&Tf(m,_),P}for(R=n(m,R);_<w.length;_++)b=f(R,m,_,w[_],E),b!==null&&(r&&b.alternate!==null&&R.delete(b.key===null?_:b.key),y=o(b,y,_),T===null?P=b:T.sibling=b,T=b);return r&&R.forEach(function(M){return e(m,M)}),lr&&Tf(m,_),P}function g(m,y,w,E){var P=nC(w);if(typeof P!="function")throw Error(be(150));if(w=P.call(w),w==null)throw Error(be(151));for(var T=P=null,R=y,_=y=0,b=null,D=w.next();R!==null&&!D.done;_++,D=w.next()){R.index>_?(b=R,R=null):b=R.sibling;var M=h(m,R,D.value,E);if(M===null){R===null&&(R=b);break}r&&R&&M.alternate===null&&e(m,R),y=o(M,y,_),T===null?P=M:T.sibling=M,T=M,R=b}if(D.done)return t(m,R),lr&&Tf(m,_),P;if(R===null){for(;!D.done;_++,D=w.next())D=d(m,D.value,E),D!==null&&(y=o(D,y,_),T===null?P=D:T.sibling=D,T=D);return lr&&Tf(m,_),P}for(R=n(m,R);!D.done;_++,D=w.next())D=f(R,m,_,D.value,E),D!==null&&(r&&D.alternate!==null&&R.delete(D.key===null?_:D.key),y=o(D,y,_),T===null?P=D:T.sibling=D,T=D);return r&&R.forEach(function(G){return e(m,G)}),lr&&Tf(m,_),P}function C(m,y,w,E){if(typeof w=="object"&&w!==null&&w.type===vm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case $R:e:{for(var P=w.key,T=y;T!==null;){if(T.key===P){if(P=w.type,P===vm){if(T.tag===7){t(m,T.sibling),y=i(T,w.props.children),y.return=m,m=y;break e}}else if(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Nd&&yz(P)===T.type){t(m,T.sibling),y=i(T,w.props),y.ref=aC(m,T,w),y.return=m,m=y;break e}t(m,T);break}else e(m,T);T=T.sibling}w.type===vm?(y=lp(w.props.children,m.mode,E,w.key),y.return=m,m=y):(E=YT(w.type,w.key,w.props,null,m.mode,E),E.ref=aC(m,y,w),E.return=m,m=E)}return s(m);case mm:e:{for(T=w.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){t(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=n0(w,m.mode,E),y.return=m,m=y}return s(m);case Nd:return T=w._init,C(m,y,T(w._payload),E)}if(pw(w))return p(m,y,w,E);if(nC(w))return g(m,y,w,E);JR(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(t(m,y.sibling),y=i(y,w),y.return=m,m=y):(t(m,y),y=t0(w,m.mode,E),y.return=m,m=y),s(m)):t(m,y)}return C}var fv=VZ(!0),kZ=VZ(!1),nO=jh(null),rO=null,bm=null,YH=null;function qH(){YH=bm=rO=null}function QH(r){var e=nO.current;ir(nO),r._currentValue=e}function v1(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function jm(r,e){rO=r,YH=bm=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Zo=!0),r.firstContext=null)}function xa(r){var e=r._currentValue;if(YH!==r)if(r={context:r,memoizedValue:e,next:null},bm===null){if(rO===null)throw Error(be(308));bm=r,rO.dependencies={lanes:0,firstContext:r}}else bm=bm.next=r;return e}var zf=null;function XH(r){zf===null?zf=[r]:zf.push(r)}function HZ(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,XH(e)):(t.next=i.next,i.next=t),e.interleaved=t,Pc(r,n)}function Pc(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var Gd=!1;function JH(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $Z(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function vc(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function fh(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,gn&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Pc(r,t)}return i=n.interleaved,i===null?(e.next=e,XH(n)):(e.next=i.next,i.next=e),n.interleaved=e,Pc(r,t)}function BT(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,GH(r,t)}}function Cz(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function iO(r,e,t,n){var i=r.updateQueue;Gd=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=r.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=r,g=a;switch(h=e,f=t,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=vr({},d,h);break e;case 2:Gd=!0}}a.callback!==null&&a.lane!==0&&(r.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bp|=s,r.lanes=s,r.memoizedState=d}}function wz(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(be(191,i));i.call(n)}}}var WE={},vu=jh(WE),RS=jh(WE),bS=jh(WE);function Kf(r){if(r===WE)throw Error(be(174));return r}function ZH(r,e){switch(Yn(bS,e),Yn(RS,r),Yn(vu,WE),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:XG(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=XG(e,r)}ir(vu),Yn(vu,e)}function pv(){ir(vu),ir(RS),ir(bS)}function BZ(r){Kf(bS.current);var e=Kf(vu.current),t=XG(e,r.type);e!==t&&(Yn(RS,r),Yn(vu,t))}function e$(r){RS.current===r&&(ir(vu),ir(RS))}var hr=jh(0);function oO(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qL=[];function t$(){for(var r=0;r<qL.length;r++)qL[r]._workInProgressVersionPrimary=null;qL.length=0}var jT=Wc.ReactCurrentDispatcher,QL=Wc.ReactCurrentBatchConfig,Rp=0,gr=null,ti=null,pi=null,sO=!1,zw=!1,TS=0,fEe=0;function Yi(){throw Error(be(321))}function n$(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!vl(r[t],e[t]))return!1;return!0}function r$(r,e,t,n,i,o){if(Rp=o,gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jT.current=r===null||r.memoizedState===null?vEe:yEe,r=t(n,i),zw){o=0;do{if(zw=!1,TS=0,25<=o)throw Error(be(301));o+=1,pi=ti=null,e.updateQueue=null,jT.current=CEe,r=t(n,i)}while(zw)}if(jT.current=aO,e=ti!==null&&ti.next!==null,Rp=0,pi=ti=gr=null,sO=!1,e)throw Error(be(300));return r}function i$(){var r=TS!==0;return TS=0,r}function Xl(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?gr.memoizedState=pi=r:pi=pi.next=r,pi}function Ia(){if(ti===null){var r=gr.alternate;r=r!==null?r.memoizedState:null}else r=ti.next;var e=pi===null?gr.memoizedState:pi.next;if(e!==null)pi=e,ti=r;else{if(r===null)throw Error(be(310));ti=r,r={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},pi===null?gr.memoizedState=pi=r:pi=pi.next=r}return pi}function PS(r,e){return typeof e=="function"?e(r):e}function XL(r){var e=Ia(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=r;var n=ti,i=n.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Rp&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:r(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,gr.lanes|=c,bp|=c}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,vl(n,e.memoizedState)||(Zo=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do o=i.lane,gr.lanes|=o,bp|=o,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function JL(r){var e=Ia(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=r(o,s.action),s=s.next;while(s!==i);vl(o,e.memoizedState)||(Zo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,n]}function jZ(){}function WZ(r,e){var t=gr,n=Ia(),i=e(),o=!vl(n.memoizedState,i);if(o&&(n.memoizedState=i,Zo=!0),n=n.queue,o$(KZ.bind(null,t,n,r),[r]),n.getSnapshot!==e||o||pi!==null&&pi.memoizedState.tag&1){if(t.flags|=2048,OS(9,zZ.bind(null,t,n,i,e),void 0,null),vi===null)throw Error(be(349));Rp&30||UZ(t,e,i)}return i}function UZ(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function zZ(r,e,t,n){e.value=t,e.getSnapshot=n,YZ(e)&&qZ(r)}function KZ(r,e,t){return t(function(){YZ(e)&&qZ(r)})}function YZ(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!vl(r,t)}catch{return!0}}function qZ(r){var e=Pc(r,1);e!==null&&hl(e,r,1,-1)}function Sz(r){var e=Xl();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:PS,lastRenderedState:r},e.queue=r,r=r.dispatch=mEe.bind(null,gr,r),[e.memoizedState,r]}function OS(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=gr.updateQueue,e===null?(e={lastEffect:null,stores:null},gr.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function QZ(){return Ia().memoizedState}function WT(r,e,t,n){var i=Xl();gr.flags|=r,i.memoizedState=OS(1|e,t,void 0,n===void 0?null:n)}function wI(r,e,t,n){var i=Ia();n=n===void 0?null:n;var o=void 0;if(ti!==null){var s=ti.memoizedState;if(o=s.destroy,n!==null&&n$(n,s.deps)){i.memoizedState=OS(e,t,o,n);return}}gr.flags|=r,i.memoizedState=OS(1|e,t,o,n)}function Ez(r,e){return WT(8390656,8,r,e)}function o$(r,e){return wI(2048,8,r,e)}function XZ(r,e){return wI(4,2,r,e)}function JZ(r,e){return wI(4,4,r,e)}function ZZ(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function eee(r,e,t){return t=t!=null?t.concat([r]):null,wI(4,4,ZZ.bind(null,e,r),t)}function s$(){}function tee(r,e){var t=Ia();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&n$(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function nee(r,e){var t=Ia();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&n$(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function ree(r,e,t){return Rp&21?(vl(t,e)||(t=lZ(),gr.lanes|=t,bp|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Zo=!0),r.memoizedState=t)}function pEe(r,e){var t=xn;xn=t!==0&&4>t?t:4,r(!0);var n=QL.transition;QL.transition={};try{r(!1),e()}finally{xn=t,QL.transition=n}}function iee(){return Ia().memoizedState}function gEe(r,e,t){var n=gh(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},oee(r))see(e,t);else if(t=HZ(r,e,t,n),t!==null){var i=Oo();hl(t,r,n,i),aee(t,e,n)}}function mEe(r,e,t){var n=gh(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(oee(r))see(e,i);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,vl(a,s)){var l=e.interleaved;l===null?(i.next=i,XH(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=HZ(r,e,i,n),t!==null&&(i=Oo(),hl(t,r,n,i),aee(t,e,n))}}function oee(r){var e=r.alternate;return r===gr||e!==null&&e===gr}function see(r,e){zw=sO=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function aee(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,GH(r,t)}}var aO={readContext:xa,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useInsertionEffect:Yi,useLayoutEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useMutableSource:Yi,useSyncExternalStore:Yi,useId:Yi,unstable_isNewReconciler:!1},vEe={readContext:xa,useCallback:function(r,e){return Xl().memoizedState=[r,e===void 0?null:e],r},useContext:xa,useEffect:Ez,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,WT(4194308,4,ZZ.bind(null,e,r),t)},useLayoutEffect:function(r,e){return WT(4194308,4,r,e)},useInsertionEffect:function(r,e){return WT(4,2,r,e)},useMemo:function(r,e){var t=Xl();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=Xl();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=gEe.bind(null,gr,r),[n.memoizedState,r]},useRef:function(r){var e=Xl();return r={current:r},e.memoizedState=r},useState:Sz,useDebugValue:s$,useDeferredValue:function(r){return Xl().memoizedState=r},useTransition:function(){var r=Sz(!1),e=r[0];return r=pEe.bind(null,r[1]),Xl().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=gr,i=Xl();if(lr){if(t===void 0)throw Error(be(407));t=t()}else{if(t=e(),vi===null)throw Error(be(349));Rp&30||UZ(n,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,Ez(KZ.bind(null,n,o,r),[r]),n.flags|=2048,OS(9,zZ.bind(null,n,o,t,e),void 0,null),t},useId:function(){var r=Xl(),e=vi.identifierPrefix;if(lr){var t=ac,n=sc;t=(n&~(1<<32-dl(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=TS++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=fEe++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},yEe={readContext:xa,useCallback:tee,useContext:xa,useEffect:o$,useImperativeHandle:eee,useInsertionEffect:XZ,useLayoutEffect:JZ,useMemo:nee,useReducer:XL,useRef:QZ,useState:function(){return XL(PS)},useDebugValue:s$,useDeferredValue:function(r){var e=Ia();return ree(e,ti.memoizedState,r)},useTransition:function(){var r=XL(PS)[0],e=Ia().memoizedState;return[r,e]},useMutableSource:jZ,useSyncExternalStore:WZ,useId:iee,unstable_isNewReconciler:!1},CEe={readContext:xa,useCallback:tee,useContext:xa,useEffect:o$,useImperativeHandle:eee,useInsertionEffect:XZ,useLayoutEffect:JZ,useMemo:nee,useReducer:JL,useRef:QZ,useState:function(){return JL(PS)},useDebugValue:s$,useDeferredValue:function(r){var e=Ia();return ti===null?e.memoizedState=r:ree(e,ti.memoizedState,r)},useTransition:function(){var r=JL(PS)[0],e=Ia().memoizedState;return[r,e]},useMutableSource:jZ,useSyncExternalStore:WZ,useId:iee,unstable_isNewReconciler:!1};function Za(r,e){if(r&&r.defaultProps){e=vr({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function y1(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:vr({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var SI={isMounted:function(r){return(r=r._reactInternals)?og(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=Oo(),i=gh(r),o=vc(n,i);o.payload=e,t!=null&&(o.callback=t),e=fh(r,o,i),e!==null&&(hl(e,r,i,n),BT(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=Oo(),i=gh(r),o=vc(n,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=fh(r,o,i),e!==null&&(hl(e,r,i,n),BT(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=Oo(),n=gh(r),i=vc(t,n);i.tag=2,e!=null&&(i.callback=e),e=fh(r,i,n),e!==null&&(hl(e,r,n,t),BT(e,r,n))}};function _z(r,e,t,n,i,o,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!wS(t,n)||!wS(i,o):!0}function lee(r,e,t){var n=!1,i=Ah,o=e.contextType;return typeof o=="object"&&o!==null?o=xa(o):(i=is(e)?Ep:fo.current,n=e.contextTypes,o=(n=n!=null)?dv(r,i):Ah),e=new e(t,o),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=SI,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=o),e}function Rz(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&SI.enqueueReplaceState(e,e.state,null)}function C1(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},JH(r);var o=e.contextType;typeof o=="object"&&o!==null?i.context=xa(o):(o=is(e)?Ep:fo.current,i.context=dv(r,o)),i.state=r.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(y1(r,e,o,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&SI.enqueueReplaceState(i,i.state,null),iO(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function gv(r,e){try{var t="",n=e;do t+=Kwe(n),n=n.return;while(n);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:r,source:e,stack:i,digest:null}}function ZL(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function w1(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var wEe=typeof WeakMap=="function"?WeakMap:Map;function uee(r,e,t){t=vc(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){uO||(uO=!0,A1=n),w1(r,e)},t}function cee(r,e,t){t=vc(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){w1(r,e)}}var o=r.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){w1(r,e),typeof n!="function"&&(ph===null?ph=new Set([this]):ph.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function bz(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new wEe;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=MEe.bind(null,r,e,t),e.then(r,r))}function Tz(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function Pz(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=vc(-1,1),e.tag=2,fh(t,e,1))),t.lanes|=1),r)}var SEe=Wc.ReactCurrentOwner,Zo=!1;function _o(r,e,t,n){e.child=r===null?kZ(e,null,t,n):fv(e,r.child,t,n)}function Oz(r,e,t,n,i){t=t.render;var o=e.ref;return jm(e,i),n=r$(r,e,t,n,o,i),t=i$(),r!==null&&!Zo?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Oc(r,e,i)):(lr&&t&&UH(e),e.flags|=1,_o(r,e,n,i),e.child)}function Dz(r,e,t,n,i){if(r===null){var o=t.type;return typeof o=="function"&&!p$(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,dee(r,e,o,n,i)):(r=YT(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!(r.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:wS,t(s,n)&&r.ref===e.ref)return Oc(r,e,i)}return e.flags|=1,r=mh(o,n),r.ref=e.ref,r.return=e,e.child=r}function dee(r,e,t,n,i){if(r!==null){var o=r.memoizedProps;if(wS(o,n)&&r.ref===e.ref)if(Zo=!1,e.pendingProps=n=o,(r.lanes&i)!==0)r.flags&131072&&(Zo=!0);else return e.lanes=r.lanes,Oc(r,e,i)}return S1(r,e,t,n,i)}function hee(r,e,t){var n=e.pendingProps,i=n.children,o=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(Pm,Ds),Ds|=t;else{if(!(t&1073741824))return r=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,Yn(Pm,Ds),Ds|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:t,Yn(Pm,Ds),Ds|=n}else o!==null?(n=o.baseLanes|t,e.memoizedState=null):n=t,Yn(Pm,Ds),Ds|=n;return _o(r,e,i,t),e.child}function fee(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function S1(r,e,t,n,i){var o=is(t)?Ep:fo.current;return o=dv(e,o),jm(e,i),t=r$(r,e,t,n,o,i),n=i$(),r!==null&&!Zo?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Oc(r,e,i)):(lr&&n&&UH(e),e.flags|=1,_o(r,e,t,i),e.child)}function Az(r,e,t,n,i){if(is(t)){var o=!0;ZP(e)}else o=!1;if(jm(e,i),e.stateNode===null)UT(r,e),lee(e,t,n),C1(e,t,n,i),n=!0;else if(r===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=t.contextType;typeof u=="object"&&u!==null?u=xa(u):(u=is(t)?Ep:fo.current,u=dv(e,u));var c=t.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Rz(e,s,n,u),Gd=!1;var h=e.memoizedState;s.state=h,iO(e,n,s,i),l=e.memoizedState,a!==n||h!==l||rs.current||Gd?(typeof c=="function"&&(y1(e,t,c,n),l=e.memoizedState),(a=Gd||_z(e,t,a,n,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,$Z(r,e),a=e.memoizedProps,u=e.type===e.elementType?a:Za(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=xa(l):(l=is(t)?Ep:fo.current,l=dv(e,l));var f=t.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Rz(e,s,n,l),Gd=!1,h=e.memoizedState,s.state=h,iO(e,n,s,i);var p=e.memoizedState;a!==d||h!==p||rs.current||Gd?(typeof f=="function"&&(y1(e,t,f,n),p=e.memoizedState),(u=Gd||_z(e,t,u,n,h,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===r.memoizedProps&&h===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&h===r.memoizedState||(e.flags|=1024),n=!1)}return E1(r,e,t,n,o,i)}function E1(r,e,t,n,i,o){fee(r,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&gz(e,t,!1),Oc(r,e,o);n=e.stateNode,SEe.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&s?(e.child=fv(e,r.child,null,o),e.child=fv(e,null,a,o)):_o(r,e,a,o),e.memoizedState=n.state,i&&gz(e,t,!0),e.child}function pee(r){var e=r.stateNode;e.pendingContext?pz(r,e.pendingContext,e.pendingContext!==e.context):e.context&&pz(r,e.context,!1),ZH(r,e.containerInfo)}function xz(r,e,t,n,i){return hv(),KH(i),e.flags|=256,_o(r,e,t,n),e.child}var _1={dehydrated:null,treeContext:null,retryLane:0};function R1(r){return{baseLanes:r,cachePool:null,transitions:null}}function gee(r,e,t){var n=e.pendingProps,i=hr.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=r!==null&&r.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),Yn(hr,i&1),r===null)return m1(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,r=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=RI(s,n,0,null),r=lp(r,n,t,null),o.return=e,r.return=e,o.sibling=r,e.child=o,e.child.memoizedState=R1(t),e.memoizedState=_1,r):a$(e,s));if(i=r.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EEe(r,e,s,n,a,i,t);if(o){o=n.fallback,s=e.mode,i=r.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=mh(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=mh(a,o):(o=lp(o,s,t,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=r.child.memoizedState,s=s===null?R1(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=r.childLanes&~t,e.memoizedState=_1,n}return o=r.child,r=o.sibling,n=mh(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function a$(r,e){return e=RI({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function ZR(r,e,t,n){return n!==null&&KH(n),fv(e,r.child,null,t),r=a$(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function EEe(r,e,t,n,i,o,s){if(t)return e.flags&256?(e.flags&=-257,n=ZL(Error(be(422))),ZR(r,e,s,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=RI({mode:"visible",children:n.children},i,0,null),o=lp(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&fv(e,r.child,null,s),e.child.memoizedState=R1(s),e.memoizedState=_1,o);if(!(e.mode&1))return ZR(r,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(be(419)),n=ZL(o,n,void 0),ZR(r,e,s,n)}if(a=(s&r.childLanes)!==0,Zo||a){if(n=vi,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pc(r,i),hl(n,r,i,-1))}return f$(),n=ZL(Error(be(421))),ZR(r,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=LEe.bind(null,r),i._reactRetry=e,null):(r=o.treeContext,Hs=hh(i.nextSibling),Us=e,lr=!0,nl=null,r!==null&&(va[ya++]=sc,va[ya++]=ac,va[ya++]=_p,sc=r.id,ac=r.overflow,_p=e),e=a$(e,n.children),e.flags|=4096,e)}function Iz(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),v1(r.return,e,t)}function e0(r,e,t,n,i){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=t,o.tailMode=i)}function mee(r,e,t){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(_o(r,e,n.children,t),n=hr.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Iz(r,t,e);else if(r.tag===19)Iz(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Yn(hr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&oO(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),e0(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&oO(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}e0(e,!0,t,null,o);break;case"together":e0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function UT(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Oc(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),bp|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(be(153));if(e.child!==null){for(r=e.child,t=mh(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=mh(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function _Ee(r,e,t){switch(e.tag){case 3:pee(e),hv();break;case 5:BZ(e);break;case 1:is(e.type)&&ZP(e);break;case 4:ZH(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Yn(nO,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Yn(hr,hr.current&1),e.flags|=128,null):t&e.child.childLanes?gee(r,e,t):(Yn(hr,hr.current&1),r=Oc(r,e,t),r!==null?r.sibling:null);Yn(hr,hr.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return mee(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(hr,hr.current),n)break;return null;case 22:case 23:return e.lanes=0,hee(r,e,t)}return Oc(r,e,t)}var vee,b1,yee,Cee;vee=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};b1=function(){};yee=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,Kf(vu.current);var o=null;switch(t){case"input":i=KG(r,i),n=KG(r,n),o=[];break;case"select":i=vr({},i,{value:void 0}),n=vr({},n,{value:void 0}),o=[];break;case"textarea":i=QG(r,i),n=QG(r,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=XP)}JG(t,n);var s;t=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fS.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fS.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zn("scroll",r),o||a===l||(o=[])):(o=o||[]).push(u,l))}t&&(o=o||[]).push("style",t);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Cee=function(r,e,t,n){t!==n&&(e.flags|=4)};function lC(r,e){if(!lr)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function qi(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function REe(r,e,t){var n=e.pendingProps;switch(zH(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(e),null;case 1:return is(e.type)&&JP(),qi(e),null;case 3:return n=e.stateNode,pv(),ir(rs),ir(fo),t$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(XR(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nl!==null&&(F1(nl),nl=null))),b1(r,e),qi(e),null;case 5:e$(e);var i=Kf(bS.current);if(t=e.type,r!==null&&e.stateNode!=null)yee(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(be(166));return qi(e),null}if(r=Kf(vu.current),XR(e)){n=e.stateNode,t=e.type;var o=e.memoizedProps;switch(n[du]=e,n[_S]=o,r=(e.mode&1)!==0,t){case"dialog":Zn("cancel",n),Zn("close",n);break;case"iframe":case"object":case"embed":Zn("load",n);break;case"video":case"audio":for(i=0;i<mw.length;i++)Zn(mw[i],n);break;case"source":Zn("error",n);break;case"img":case"image":case"link":Zn("error",n),Zn("load",n);break;case"details":Zn("toggle",n);break;case"input":$3(n,o),Zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Zn("invalid",n);break;case"textarea":j3(n,o),Zn("invalid",n)}JG(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&QR(n.textContent,a,r),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&QR(n.textContent,a,r),i=["children",""+a]):fS.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Zn("scroll",n)}switch(t){case"input":BR(n),B3(n,o,!0);break;case"textarea":BR(n),W3(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=XP)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=KJ(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=s.createElement(t,{is:n.is}):(r=s.createElement(t),t==="select"&&(s=r,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):r=s.createElementNS(r,t),r[du]=e,r[_S]=n,vee(r,e,!1,!1),e.stateNode=r;e:{switch(s=ZG(t,n),t){case"dialog":Zn("cancel",r),Zn("close",r),i=n;break;case"iframe":case"object":case"embed":Zn("load",r),i=n;break;case"video":case"audio":for(i=0;i<mw.length;i++)Zn(mw[i],r);i=n;break;case"source":Zn("error",r),i=n;break;case"img":case"image":case"link":Zn("error",r),Zn("load",r),i=n;break;case"details":Zn("toggle",r),i=n;break;case"input":$3(r,n),i=KG(r,n),Zn("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=vr({},n,{value:void 0}),Zn("invalid",r);break;case"textarea":j3(r,n),i=QG(r,n),Zn("invalid",r);break;default:i=n}JG(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?QJ(r,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&YJ(r,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&pS(r,l):typeof l=="number"&&pS(r,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fS.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Zn("scroll",r):l!=null&&xH(r,o,l,s))}switch(t){case"input":BR(r),B3(r,n,!1);break;case"textarea":BR(r),W3(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Dh(n.value));break;case"select":r.multiple=!!n.multiple,o=n.value,o!=null?km(r,!!n.multiple,o,!1):n.defaultValue!=null&&km(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=XP)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qi(e),null;case 6:if(r&&e.stateNode!=null)Cee(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(be(166));if(t=Kf(bS.current),Kf(vu.current),XR(e)){if(n=e.stateNode,t=e.memoizedProps,n[du]=e,(o=n.nodeValue!==t)&&(r=Us,r!==null))switch(r.tag){case 3:QR(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&QR(n.nodeValue,t,(r.mode&1)!==0)}o&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[du]=e,e.stateNode=n}return qi(e),null;case 13:if(ir(hr),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(lr&&Hs!==null&&e.mode&1&&!(e.flags&128))GZ(),hv(),e.flags|=98560,o=!1;else if(o=XR(e),n!==null&&n.dehydrated!==null){if(r===null){if(!o)throw Error(be(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(be(317));o[du]=e}else hv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qi(e),o=!1}else nl!==null&&(F1(nl),nl=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||hr.current&1?ii===0&&(ii=3):f$())),e.updateQueue!==null&&(e.flags|=4),qi(e),null);case 4:return pv(),b1(r,e),r===null&&SS(e.stateNode.containerInfo),qi(e),null;case 10:return QH(e.type._context),qi(e),null;case 17:return is(e.type)&&JP(),qi(e),null;case 19:if(ir(hr),o=e.memoizedState,o===null)return qi(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)lC(o,!1);else{if(ii!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(s=oO(r),s!==null){for(e.flags|=128,lC(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)o=t,r=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return Yn(hr,hr.current&1|2),e.child}r=r.sibling}o.tail!==null&&Or()>mv&&(e.flags|=128,n=!0,lC(o,!1),e.lanes=4194304)}else{if(!n)if(r=oO(s),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),lC(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lr)return qi(e),null}else 2*Or()-o.renderingStartTime>mv&&t!==1073741824&&(e.flags|=128,n=!0,lC(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Or(),e.sibling=null,t=hr.current,Yn(hr,n?t&1|2:t&1),e):(qi(e),null);case 22:case 23:return h$(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ds&1073741824&&(qi(e),e.subtreeFlags&6&&(e.flags|=8192)):qi(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function bEe(r,e){switch(zH(e),e.tag){case 1:return is(e.type)&&JP(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return pv(),ir(rs),ir(fo),t$(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return e$(e),null;case 13:if(ir(hr),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(be(340));hv()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return ir(hr),null;case 4:return pv(),null;case 10:return QH(e.type._context),null;case 22:case 23:return h$(),null;case 24:return null;default:return null}}var eb=!1,oo=!1,TEe=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Tm(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Er(r,e,n)}else t.current=null}function T1(r,e,t){try{t()}catch(n){Er(r,e,n)}}var Fz=!1;function PEe(r,e){if(u1=YP,r=RZ(),WH(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=r,h=null;t:for(;;){for(var f;d!==t||i!==0&&d.nodeType!==3||(a=s+i),d!==o||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===r)break t;if(h===t&&++u===i&&(a=s),h===o&&++c===n&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(c1={focusedElem:r,selectionRange:t},YP=!1,Qe=e;Qe!==null;)if(e=Qe,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Qe=r;else for(;Qe!==null;){e=Qe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,C=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Za(e.type,g),C);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(E){Er(e,e.return,E)}if(r=e.sibling,r!==null){r.return=e.return,Qe=r;break}Qe=e.return}return p=Fz,Fz=!1,p}function Kw(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var o=i.destroy;i.destroy=void 0,o!==void 0&&T1(e,t,o)}i=i.next}while(i!==n)}}function EI(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function P1(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function wee(r){var e=r.alternate;e!==null&&(r.alternate=null,wee(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[du],delete e[_S],delete e[f1],delete e[uEe],delete e[cEe])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function See(r){return r.tag===5||r.tag===3||r.tag===4}function Mz(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||See(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function O1(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=XP));else if(n!==4&&(r=r.child,r!==null))for(O1(r,e,t),r=r.sibling;r!==null;)O1(r,e,t),r=r.sibling}function D1(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(D1(r,e,t),r=r.sibling;r!==null;)D1(r,e,t),r=r.sibling}var bi=null,el=!1;function fd(r,e,t){for(t=t.child;t!==null;)Eee(r,e,t),t=t.sibling}function Eee(r,e,t){if(mu&&typeof mu.onCommitFiberUnmount=="function")try{mu.onCommitFiberUnmount(pI,t)}catch{}switch(t.tag){case 5:oo||Tm(t,e);case 6:var n=bi,i=el;bi=null,fd(r,e,t),bi=n,el=i,bi!==null&&(el?(r=bi,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):bi.removeChild(t.stateNode));break;case 18:bi!==null&&(el?(r=bi,t=t.stateNode,r.nodeType===8?KL(r.parentNode,t):r.nodeType===1&&KL(r,t),yS(r)):KL(bi,t.stateNode));break;case 4:n=bi,i=el,bi=t.stateNode.containerInfo,el=!0,fd(r,e,t),bi=n,el=i;break;case 0:case 11:case 14:case 15:if(!oo&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&T1(t,e,s),i=i.next}while(i!==n)}fd(r,e,t);break;case 1:if(!oo&&(Tm(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){Er(t,e,a)}fd(r,e,t);break;case 21:fd(r,e,t);break;case 22:t.mode&1?(oo=(n=oo)||t.memoizedState!==null,fd(r,e,t),oo=n):fd(r,e,t);break;default:fd(r,e,t)}}function Lz(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new TEe),e.forEach(function(n){var i=NEe.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function za(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var o=r,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:bi=a.stateNode,el=!1;break e;case 3:bi=a.stateNode.containerInfo,el=!0;break e;case 4:bi=a.stateNode.containerInfo,el=!0;break e}a=a.return}if(bi===null)throw Error(be(160));Eee(o,s,i),bi=null,el=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Er(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_ee(e,r),e=e.sibling}function _ee(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(za(e,r),$l(r),n&4){try{Kw(3,r,r.return),EI(3,r)}catch(g){Er(r,r.return,g)}try{Kw(5,r,r.return)}catch(g){Er(r,r.return,g)}}break;case 1:za(e,r),$l(r),n&512&&t!==null&&Tm(t,t.return);break;case 5:if(za(e,r),$l(r),n&512&&t!==null&&Tm(t,t.return),r.flags&32){var i=r.stateNode;try{pS(i,"")}catch(g){Er(r,r.return,g)}}if(n&4&&(i=r.stateNode,i!=null)){var o=r.memoizedProps,s=t!==null?t.memoizedProps:o,a=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&UJ(i,o),ZG(a,s);var u=ZG(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?QJ(i,d):c==="dangerouslySetInnerHTML"?YJ(i,d):c==="children"?pS(i,d):xH(i,c,d,u)}switch(a){case"input":YG(i,o);break;case"textarea":zJ(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?km(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?km(i,!!o.multiple,o.defaultValue,!0):km(i,!!o.multiple,o.multiple?[]:"",!1))}i[_S]=o}catch(g){Er(r,r.return,g)}}break;case 6:if(za(e,r),$l(r),n&4){if(r.stateNode===null)throw Error(be(162));i=r.stateNode,o=r.memoizedProps;try{i.nodeValue=o}catch(g){Er(r,r.return,g)}}break;case 3:if(za(e,r),$l(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{yS(e.containerInfo)}catch(g){Er(r,r.return,g)}break;case 4:za(e,r),$l(r);break;case 13:za(e,r),$l(r),i=r.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(c$=Or())),n&4&&Lz(r);break;case 22:if(c=t!==null&&t.memoizedState!==null,r.mode&1?(oo=(u=oo)||c,za(e,r),oo=u):za(e,r),$l(r),n&8192){if(u=r.memoizedState!==null,(r.stateNode.isHidden=u)&&!c&&r.mode&1)for(Qe=r,c=r.child;c!==null;){for(d=Qe=c;Qe!==null;){switch(h=Qe,f=h.child,h.tag){case 0:case 11:case 14:case 15:Kw(4,h,h.return);break;case 1:Tm(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,t=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Er(n,t,g)}}break;case 5:Tm(h,h.return);break;case 22:if(h.memoizedState!==null){Gz(d);continue}}f!==null?(f.return=h,Qe=f):Gz(d)}c=c.sibling}e:for(c=null,d=r;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qJ("display",s))}catch(g){Er(r,r.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Er(r,r.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===r)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:za(e,r),$l(r),n&4&&Lz(r);break;case 21:break;default:za(e,r),$l(r)}}function $l(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(See(t)){var n=t;break e}t=t.return}throw Error(be(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(pS(i,""),n.flags&=-33);var o=Mz(r);D1(r,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=Mz(r);O1(r,a,s);break;default:throw Error(be(161))}}catch(l){Er(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function OEe(r,e,t){Qe=r,Ree(r)}function Ree(r,e,t){for(var n=(r.mode&1)!==0;Qe!==null;){var i=Qe,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||eb;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||oo;a=eb;var u=oo;if(eb=s,(oo=l)&&!u)for(Qe=i;Qe!==null;)s=Qe,l=s.child,s.tag===22&&s.memoizedState!==null?Vz(i):l!==null?(l.return=s,Qe=l):Vz(i);for(;o!==null;)Qe=o,Ree(o),o=o.sibling;Qe=i,eb=a,oo=u}Nz(r)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Qe=o):Nz(r)}}function Nz(r){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oo||EI(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!oo)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Za(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wz(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}wz(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&yS(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}oo||e.flags&512&&P1(e)}catch(h){Er(e,e.return,h)}}if(e===r){Qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function Gz(r){for(;Qe!==null;){var e=Qe;if(e===r){Qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function Vz(r){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{EI(4,e)}catch(l){Er(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Er(e,i,l)}}var o=e.return;try{P1(e)}catch(l){Er(e,o,l)}break;case 5:var s=e.return;try{P1(e)}catch(l){Er(e,s,l)}}}catch(l){Er(e,e.return,l)}if(e===r){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var DEe=Math.ceil,lO=Wc.ReactCurrentDispatcher,l$=Wc.ReactCurrentOwner,ba=Wc.ReactCurrentBatchConfig,gn=0,vi=null,Ur=null,Li=0,Ds=0,Pm=jh(0),ii=0,DS=null,bp=0,_I=0,u$=0,Yw=null,Qo=null,c$=0,mv=1/0,rc=null,uO=!1,A1=null,ph=null,tb=!1,Zd=null,cO=0,qw=0,x1=null,zT=-1,KT=0;function Oo(){return gn&6?Or():zT!==-1?zT:zT=Or()}function gh(r){return r.mode&1?gn&2&&Li!==0?Li&-Li:hEe.transition!==null?(KT===0&&(KT=lZ()),KT):(r=xn,r!==0||(r=window.event,r=r===void 0?16:gZ(r.type)),r):1}function hl(r,e,t,n){if(50<qw)throw qw=0,x1=null,Error(be(185));$E(r,t,n),(!(gn&2)||r!==vi)&&(r===vi&&(!(gn&2)&&(_I|=t),ii===4&&Wd(r,Li)),os(r,n),t===1&&gn===0&&!(e.mode&1)&&(mv=Or()+500,CI&&Wh()))}function os(r,e){var t=r.callbackNode;hSe(r,e);var n=KP(r,r===vi?Li:0);if(n===0)t!==null&&K3(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&K3(t),e===1)r.tag===0?dEe(kz.bind(null,r)):MZ(kz.bind(null,r)),aEe(function(){!(gn&6)&&Wh()}),t=null;else{switch(uZ(n)){case 1:t=NH;break;case 4:t=sZ;break;case 16:t=zP;break;case 536870912:t=aZ;break;default:t=zP}t=Iee(t,bee.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function bee(r,e){if(zT=-1,KT=0,gn&6)throw Error(be(327));var t=r.callbackNode;if(Wm()&&r.callbackNode!==t)return null;var n=KP(r,r===vi?Li:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=dO(r,n);else{e=n;var i=gn;gn|=2;var o=Pee();(vi!==r||Li!==e)&&(rc=null,mv=Or()+500,ap(r,e));do try{IEe();break}catch(a){Tee(r,a)}while(!0);qH(),lO.current=o,gn=i,Ur!==null?e=0:(vi=null,Li=0,e=ii)}if(e!==0){if(e===2&&(i=i1(r),i!==0&&(n=i,e=I1(r,i))),e===1)throw t=DS,ap(r,0),Wd(r,n),os(r,Or()),t;if(e===6)Wd(r,n);else{if(i=r.current.alternate,!(n&30)&&!AEe(i)&&(e=dO(r,n),e===2&&(o=i1(r),o!==0&&(n=o,e=I1(r,o))),e===1))throw t=DS,ap(r,0),Wd(r,n),os(r,Or()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(be(345));case 2:Pf(r,Qo,rc);break;case 3:if(Wd(r,n),(n&130023424)===n&&(e=c$+500-Or(),10<e)){if(KP(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){Oo(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=h1(Pf.bind(null,r,Qo,rc),e);break}Pf(r,Qo,rc);break;case 4:if(Wd(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var s=31-dl(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=Or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DEe(n/1960))-n,10<n){r.timeoutHandle=h1(Pf.bind(null,r,Qo,rc),n);break}Pf(r,Qo,rc);break;case 5:Pf(r,Qo,rc);break;default:throw Error(be(329))}}}return os(r,Or()),r.callbackNode===t?bee.bind(null,r):null}function I1(r,e){var t=Yw;return r.current.memoizedState.isDehydrated&&(ap(r,e).flags|=256),r=dO(r,e),r!==2&&(e=Qo,Qo=t,e!==null&&F1(e)),r}function F1(r){Qo===null?Qo=r:Qo.push.apply(Qo,r)}function AEe(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],o=i.getSnapshot;i=i.value;try{if(!vl(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wd(r,e){for(e&=~u$,e&=~_I,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-dl(e),n=1<<t;r[t]=-1,e&=~n}}function kz(r){if(gn&6)throw Error(be(327));Wm();var e=KP(r,0);if(!(e&1))return os(r,Or()),null;var t=dO(r,e);if(r.tag!==0&&t===2){var n=i1(r);n!==0&&(e=n,t=I1(r,n))}if(t===1)throw t=DS,ap(r,0),Wd(r,e),os(r,Or()),t;if(t===6)throw Error(be(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Pf(r,Qo,rc),os(r,Or()),null}function d$(r,e){var t=gn;gn|=1;try{return r(e)}finally{gn=t,gn===0&&(mv=Or()+500,CI&&Wh())}}function Tp(r){Zd!==null&&Zd.tag===0&&!(gn&6)&&Wm();var e=gn;gn|=1;var t=ba.transition,n=xn;try{if(ba.transition=null,xn=1,r)return r()}finally{xn=n,ba.transition=t,gn=e,!(gn&6)&&Wh()}}function h$(){Ds=Pm.current,ir(Pm)}function ap(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,sEe(t)),Ur!==null)for(t=Ur.return;t!==null;){var n=t;switch(zH(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&JP();break;case 3:pv(),ir(rs),ir(fo),t$();break;case 5:e$(n);break;case 4:pv();break;case 13:ir(hr);break;case 19:ir(hr);break;case 10:QH(n.type._context);break;case 22:case 23:h$()}t=t.return}if(vi=r,Ur=r=mh(r.current,null),Li=Ds=e,ii=0,DS=null,u$=_I=bp=0,Qo=Yw=null,zf!==null){for(e=0;e<zf.length;e++)if(t=zf[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}t.pending=n}zf=null}return r}function Tee(r,e){do{var t=Ur;try{if(qH(),jT.current=aO,sO){for(var n=gr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}sO=!1}if(Rp=0,pi=ti=gr=null,zw=!1,TS=0,l$.current=null,t===null||t.return===null){ii=1,DS=e,Ur=null;break}e:{var o=r,s=t.return,a=t,l=e;if(e=Li,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Tz(s);if(f!==null){f.flags&=-257,Pz(f,s,a,o,e),f.mode&1&&bz(o,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){bz(o,u,e),f$();break e}l=Error(be(426))}}else if(lr&&a.mode&1){var C=Tz(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Pz(C,s,a,o,e),KH(gv(l,a));break e}}o=l=gv(l,a),ii!==4&&(ii=2),Yw===null?Yw=[o]:Yw.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=uee(o,l,e);Cz(o,m);break e;case 1:a=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ph===null||!ph.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=cee(o,a,e);Cz(o,E);break e}}o=o.return}while(o!==null)}Dee(t)}catch(P){e=P,Ur===t&&t!==null&&(Ur=t=t.return);continue}break}while(!0)}function Pee(){var r=lO.current;return lO.current=aO,r===null?aO:r}function f$(){(ii===0||ii===3||ii===2)&&(ii=4),vi===null||!(bp&268435455)&&!(_I&268435455)||Wd(vi,Li)}function dO(r,e){var t=gn;gn|=2;var n=Pee();(vi!==r||Li!==e)&&(rc=null,ap(r,e));do try{xEe();break}catch(i){Tee(r,i)}while(!0);if(qH(),gn=t,lO.current=n,Ur!==null)throw Error(be(261));return vi=null,Li=0,ii}function xEe(){for(;Ur!==null;)Oee(Ur)}function IEe(){for(;Ur!==null&&!rSe();)Oee(Ur)}function Oee(r){var e=xee(r.alternate,r,Ds);r.memoizedProps=r.pendingProps,e===null?Dee(r):Ur=e,l$.current=null}function Dee(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=bEe(t,e),t!==null){t.flags&=32767,Ur=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ii=6,Ur=null;return}}else if(t=REe(t,e,Ds),t!==null){Ur=t;return}if(e=e.sibling,e!==null){Ur=e;return}Ur=e=r}while(e!==null);ii===0&&(ii=5)}function Pf(r,e,t){var n=xn,i=ba.transition;try{ba.transition=null,xn=1,FEe(r,e,t,n)}finally{ba.transition=i,xn=n}return null}function FEe(r,e,t,n){do Wm();while(Zd!==null);if(gn&6)throw Error(be(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(be(177));r.callbackNode=null,r.callbackPriority=0;var o=t.lanes|t.childLanes;if(fSe(r,o),r===vi&&(Ur=vi=null,Li=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tb||(tb=!0,Iee(zP,function(){return Wm(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=ba.transition,ba.transition=null;var s=xn;xn=1;var a=gn;gn|=4,l$.current=null,PEe(r,t),_ee(t,r),ZSe(c1),YP=!!u1,c1=u1=null,r.current=t,OEe(t),iSe(),gn=a,xn=s,ba.transition=o}else r.current=t;if(tb&&(tb=!1,Zd=r,cO=i),o=r.pendingLanes,o===0&&(ph=null),aSe(t.stateNode),os(r,Or()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(uO)throw uO=!1,r=A1,A1=null,r;return cO&1&&r.tag!==0&&Wm(),o=r.pendingLanes,o&1?r===x1?qw++:(qw=0,x1=r):qw=0,Wh(),null}function Wm(){if(Zd!==null){var r=uZ(cO),e=ba.transition,t=xn;try{if(ba.transition=null,xn=16>r?16:r,Zd===null)var n=!1;else{if(r=Zd,Zd=null,cO=0,gn&6)throw Error(be(331));var i=gn;for(gn|=4,Qe=r.current;Qe!==null;){var o=Qe,s=o.child;if(Qe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Qe=u;Qe!==null;){var c=Qe;switch(c.tag){case 0:case 11:case 15:Kw(8,c,o)}var d=c.child;if(d!==null)d.return=c,Qe=d;else for(;Qe!==null;){c=Qe;var h=c.sibling,f=c.return;if(wee(c),c===u){Qe=null;break}if(h!==null){h.return=f,Qe=h;break}Qe=f}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}Qe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Qe=s;else e:for(;Qe!==null;){if(o=Qe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kw(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Qe=m;break e}Qe=o.return}}var y=r.current;for(Qe=y;Qe!==null;){s=Qe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Qe=w;else e:for(s=y;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:EI(9,a)}}catch(P){Er(a,a.return,P)}if(a===s){Qe=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Qe=E;break e}Qe=a.return}}if(gn=i,Wh(),mu&&typeof mu.onPostCommitFiberRoot=="function")try{mu.onPostCommitFiberRoot(pI,r)}catch{}n=!0}return n}finally{xn=t,ba.transition=e}}return!1}function Hz(r,e,t){e=gv(t,e),e=uee(r,e,1),r=fh(r,e,1),e=Oo(),r!==null&&($E(r,1,e),os(r,e))}function Er(r,e,t){if(r.tag===3)Hz(r,r,t);else for(;e!==null;){if(e.tag===3){Hz(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ph===null||!ph.has(n))){r=gv(t,r),r=cee(e,r,1),e=fh(e,r,1),r=Oo(),e!==null&&($E(e,1,r),os(e,r));break}}e=e.return}}function MEe(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=Oo(),r.pingedLanes|=r.suspendedLanes&t,vi===r&&(Li&t)===t&&(ii===4||ii===3&&(Li&130023424)===Li&&500>Or()-c$?ap(r,0):u$|=t),os(r,e)}function Aee(r,e){e===0&&(r.mode&1?(e=UR,UR<<=1,!(UR&130023424)&&(UR=4194304)):e=1);var t=Oo();r=Pc(r,e),r!==null&&($E(r,e,t),os(r,t))}function LEe(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),Aee(r,t)}function NEe(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(be(314))}n!==null&&n.delete(e),Aee(r,t)}var xee;xee=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||rs.current)Zo=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Zo=!1,_Ee(r,e,t);Zo=!!(r.flags&131072)}else Zo=!1,lr&&e.flags&1048576&&LZ(e,tO,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;UT(r,e),r=e.pendingProps;var i=dv(e,fo.current);jm(e,t),i=r$(null,e,n,r,i,t);var o=i$();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,is(n)?(o=!0,ZP(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,JH(e),i.updater=SI,e.stateNode=i,i._reactInternals=e,C1(e,n,r,t),e=E1(null,e,n,!0,o,t)):(e.tag=0,lr&&o&&UH(e),_o(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(UT(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=VEe(n),r=Za(n,r),i){case 0:e=S1(null,e,n,r,t);break e;case 1:e=Az(null,e,n,r,t);break e;case 11:e=Oz(null,e,n,r,t);break e;case 14:e=Dz(null,e,n,Za(n.type,r),t);break e}throw Error(be(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Za(n,i),S1(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Za(n,i),Az(r,e,n,i,t);case 3:e:{if(pee(e),r===null)throw Error(be(387));n=e.pendingProps,o=e.memoizedState,i=o.element,$Z(r,e),iO(e,n,null,t);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=gv(Error(be(423)),e),e=xz(r,e,n,t,i);break e}else if(n!==i){i=gv(Error(be(424)),e),e=xz(r,e,n,t,i);break e}else for(Hs=hh(e.stateNode.containerInfo.firstChild),Us=e,lr=!0,nl=null,t=kZ(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(hv(),n===i){e=Oc(r,e,t);break e}_o(r,e,n,t)}e=e.child}return e;case 5:return BZ(e),r===null&&m1(e),n=e.type,i=e.pendingProps,o=r!==null?r.memoizedProps:null,s=i.children,d1(n,i)?s=null:o!==null&&d1(n,o)&&(e.flags|=32),fee(r,e),_o(r,e,s,t),e.child;case 6:return r===null&&m1(e),null;case 13:return gee(r,e,t);case 4:return ZH(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=fv(e,null,n,t):_o(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Za(n,i),Oz(r,e,n,i,t);case 7:return _o(r,e,e.pendingProps,t),e.child;case 8:return _o(r,e,e.pendingProps.children,t),e.child;case 12:return _o(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Yn(nO,n._currentValue),n._currentValue=s,o!==null)if(vl(o.value,s)){if(o.children===i.children&&!rs.current){e=Oc(r,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=vc(-1,t&-t),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),v1(o.return,t,e),a.lanes|=t;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(be(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),v1(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}_o(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,jm(e,t),i=xa(i),n=n(i),e.flags|=1,_o(r,e,n,t),e.child;case 14:return n=e.type,i=Za(n,e.pendingProps),i=Za(n.type,i),Dz(r,e,n,i,t);case 15:return dee(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Za(n,i),UT(r,e),e.tag=1,is(n)?(r=!0,ZP(e)):r=!1,jm(e,t),lee(e,n,i),C1(e,n,i,t),E1(null,e,n,!0,r,t);case 19:return mee(r,e,t);case 22:return hee(r,e,t)}throw Error(be(156,e.tag))};function Iee(r,e){return oZ(r,e)}function GEe(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sa(r,e,t,n){return new GEe(r,e,t,n)}function p$(r){return r=r.prototype,!(!r||!r.isReactComponent)}function VEe(r){if(typeof r=="function")return p$(r)?1:0;if(r!=null){if(r=r.$$typeof,r===FH)return 11;if(r===MH)return 14}return 2}function mh(r,e){var t=r.alternate;return t===null?(t=Sa(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function YT(r,e,t,n,i,o){var s=2;if(n=r,typeof r=="function")p$(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case vm:return lp(t.children,i,o,e);case IH:s=8,i|=8;break;case jG:return r=Sa(12,t,e,i|2),r.elementType=jG,r.lanes=o,r;case WG:return r=Sa(13,t,e,i),r.elementType=WG,r.lanes=o,r;case UG:return r=Sa(19,t,e,i),r.elementType=UG,r.lanes=o,r;case BJ:return RI(t,i,o,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case HJ:s=10;break e;case $J:s=9;break e;case FH:s=11;break e;case MH:s=14;break e;case Nd:s=16,n=null;break e}throw Error(be(130,r==null?r:typeof r,""))}return e=Sa(s,t,e,i),e.elementType=r,e.type=n,e.lanes=o,e}function lp(r,e,t,n){return r=Sa(7,r,n,e),r.lanes=t,r}function RI(r,e,t,n){return r=Sa(22,r,n,e),r.elementType=BJ,r.lanes=t,r.stateNode={isHidden:!1},r}function t0(r,e,t){return r=Sa(6,r,null,e),r.lanes=t,r}function n0(r,e,t){return e=Sa(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function kEe(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=NL(0),this.expirationTimes=NL(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=NL(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g$(r,e,t,n,i,o,s,a,l){return r=new kEe(r,e,t,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Sa(3,null,null,e),r.current=o,o.stateNode=r,o.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},JH(o),r}function HEe(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mm,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function Fee(r){if(!r)return Ah;r=r._reactInternals;e:{if(og(r)!==r||r.tag!==1)throw Error(be(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(r.tag===1){var t=r.type;if(is(t))return FZ(r,t,e)}return e}function Mee(r,e,t,n,i,o,s,a,l){return r=g$(t,n,!0,r,i,o,s,a,l),r.context=Fee(null),t=r.current,n=Oo(),i=gh(t),o=vc(n,i),o.callback=e??null,fh(t,o,i),r.current.lanes=i,$E(r,i,n),os(r,n),r}function bI(r,e,t,n){var i=e.current,o=Oo(),s=gh(i);return t=Fee(t),e.context===null?e.context=t:e.pendingContext=t,e=vc(o,s),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=fh(i,e,s),r!==null&&(hl(r,i,s,o),BT(r,i,s)),s}function hO(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function $z(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function m$(r,e){$z(r,e),(r=r.alternate)&&$z(r,e)}var Lee=typeof reportError=="function"?reportError:function(r){console.error(r)};function v$(r){this._internalRoot=r}TI.prototype.render=v$.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(be(409));bI(r,e,null,null)};TI.prototype.unmount=v$.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;Tp(function(){bI(null,r,null,null)}),e[Tc]=null}};function TI(r){this._internalRoot=r}TI.prototype.unstable_scheduleHydration=function(r){if(r){var e=hZ();r={blockedOn:null,target:r,priority:e};for(var t=0;t<jd.length&&e!==0&&e<jd[t].priority;t++);jd.splice(t,0,r),t===0&&pZ(r)}};function y$(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function PI(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bz(){}function $Ee(r,e,t,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=hO(s);o.call(u)}}var s=Mee(e,n,r,0,null,!1,!1,"",Bz);return r._reactRootContainer=s,r[Tc]=s.current,SS(r.nodeType===8?r.parentNode:r),Tp(),s}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=hO(l);a.call(u)}}var l=g$(r,0,!1,null,null,!1,!1,"",Bz);return r._reactRootContainer=l,r[Tc]=l.current,SS(r.nodeType===8?r.parentNode:r),Tp(function(){bI(e,l,t,n)}),l}function OI(r,e,t,n,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=hO(s);a.call(l)}}bI(e,s,r,i)}else s=$Ee(t,e,r,i,n);return hO(s)}cZ=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=gw(e.pendingLanes);t!==0&&(GH(e,t|1),os(e,Or()),!(gn&6)&&(mv=Or()+500,Wh()))}break;case 13:Tp(function(){var n=Pc(r,1);if(n!==null){var i=Oo();hl(n,r,1,i)}}),m$(r,1)}};VH=function(r){if(r.tag===13){var e=Pc(r,134217728);if(e!==null){var t=Oo();hl(e,r,134217728,t)}m$(r,134217728)}};dZ=function(r){if(r.tag===13){var e=gh(r),t=Pc(r,e);if(t!==null){var n=Oo();hl(t,r,e,n)}m$(r,e)}};hZ=function(){return xn};fZ=function(r,e){var t=xn;try{return xn=r,e()}finally{xn=t}};t1=function(r,e,t){switch(e){case"input":if(YG(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=yI(n);if(!i)throw Error(be(90));WJ(n),YG(n,i)}}}break;case"textarea":zJ(r,t);break;case"select":e=t.value,e!=null&&km(r,!!t.multiple,e,!1)}};ZJ=d$;eZ=Tp;var BEe={usingClientEntryPoint:!1,Events:[jE,Sm,yI,XJ,JJ,d$]},uC={findFiberByHostInstance:Uf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jEe={bundleType:uC.bundleType,version:uC.version,rendererPackageName:uC.rendererPackageName,rendererConfig:uC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=rZ(r),r===null?null:r.stateNode},findFiberByHostInstance:uC.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nb.isDisabled&&nb.supportsFiber)try{pI=nb.inject(jEe),mu=nb}catch{}}Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BEe;Zs.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y$(e))throw Error(be(200));return HEe(r,e,null,t)};Zs.createRoot=function(r,e){if(!y$(r))throw Error(be(299));var t=!1,n="",i=Lee;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g$(r,1,!1,null,null,t,!1,n,i),r[Tc]=e.current,SS(r.nodeType===8?r.parentNode:r),new v$(e)};Zs.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(be(188)):(r=Object.keys(r).join(","),Error(be(268,r)));return r=rZ(e),r=r===null?null:r.stateNode,r};Zs.flushSync=function(r){return Tp(r)};Zs.hydrate=function(r,e,t){if(!PI(e))throw Error(be(200));return OI(null,r,e,!0,t)};Zs.hydrateRoot=function(r,e,t){if(!y$(r))throw Error(be(405));var n=t!=null&&t.hydratedSources||null,i=!1,o="",s=Lee;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=Mee(e,null,r,1,t??null,i,!1,o,s),r[Tc]=e.current,SS(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new TI(e)};Zs.render=function(r,e,t){if(!PI(e))throw Error(be(200));return OI(null,r,e,!1,t)};Zs.unmountComponentAtNode=function(r){if(!PI(r))throw Error(be(40));return r._reactRootContainer?(Tp(function(){OI(null,null,r,!1,function(){r._reactRootContainer=null,r[Tc]=null})}),!0):!1};Zs.unstable_batchedUpdates=d$;Zs.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!PI(t))throw Error(be(200));if(r==null||r._reactInternals===void 0)throw Error(be(38));return OI(r,e,t,!1,n)};Zs.version="18.3.1-next-f1338f8080-20240426";function Nee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nee)}catch(r){console.error(r)}}Nee(),NJ.exports=Zs;var Al=NJ.exports;const qT=hI(Al),WEe=RJ({__proto__:null,default:qT},[Al]);var jz=Al;G3.createRoot=jz.createRoot,G3.hydrateRoot=jz.hydrateRoot;var hu=function(){return hu=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},hu.apply(this,arguments)};function UE(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function ry(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})}function iy(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Wz(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function M1(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var QT="right-scroll-bar-position",XT="width-before-scroll-bar",UEe="with-scroll-bars-hidden",zEe="--removed-body-scroll-bar-size";function r0(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function KEe(r,e){var t=S.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var i=t.value;i!==n&&(t.value=n,t.callback(n,i))}}}})[0];return t.callback=e,t.facade}var YEe=typeof window<"u"?S.useLayoutEffect:S.useEffect,Uz=new WeakMap;function qEe(r,e){var t=KEe(null,function(n){return r.forEach(function(i){return r0(i,n)})});return YEe(function(){var n=Uz.get(t);if(n){var i=new Set(n),o=new Set(r),s=t.current;i.forEach(function(a){o.has(a)||r0(a,null)}),o.forEach(function(a){i.has(a)||r0(a,s)})}Uz.set(t,r)},[r]),t}function QEe(r){return r}function XEe(r,e){e===void 0&&(e=QEe);var t=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(o){var s=e(o,n);return t.push(s),function(){t=t.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(n=!0;t.length;){var s=t;t=[],s.forEach(o)}t={push:function(a){return o(a)},filter:function(){return t}}},assignMedium:function(o){n=!0;var s=[];if(t.length){var a=t;t=[],a.forEach(o),s=t}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),t}}}};return i}function JEe(r){r===void 0&&(r={});var e=XEe(null);return e.options=hu({async:!0,ssr:!1},r),e}var Gee=function(r){var e=r.sideCar,t=UE(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return S.createElement(n,hu({},t))};Gee.isSideCarExport=!0;function ZEe(r,e){return r.useMedium(e),Gee}var Vee=JEe(),i0=function(){},DI=S.forwardRef(function(r,e){var t=S.useRef(null),n=S.useState({onScrollCapture:i0,onWheelCapture:i0,onTouchMoveCapture:i0}),i=n[0],o=n[1],s=r.forwardProps,a=r.children,l=r.className,u=r.removeScrollBar,c=r.enabled,d=r.shards,h=r.sideCar,f=r.noIsolation,p=r.inert,g=r.allowPinchZoom,C=r.as,m=C===void 0?"div":C,y=r.gapMode,w=UE(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,P=qEe([t,e]),T=hu(hu({},w),i);return S.createElement(S.Fragment,null,c&&S.createElement(E,{sideCar:Vee,removeScrollBar:u,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:t,gapMode:y}),s?S.cloneElement(S.Children.only(a),hu(hu({},T),{ref:P})):S.createElement(m,hu({},T,{className:l,ref:P}),a))});DI.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};DI.classNames={fullWidth:XT,zeroRight:QT};var e_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t_e(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=e_e();return e&&r.setAttribute("nonce",e),r}function n_e(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function r_e(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var i_e=function(){var r=0,e=null;return{add:function(t){r==0&&(e=t_e())&&(n_e(e,t),r_e(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},o_e=function(){var r=i_e();return function(e,t){S.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},kee=function(){var r=o_e(),e=function(t){var n=t.styles,i=t.dynamic;return r(n,i),null};return e},s_e={left:0,top:0,right:0,gap:0},o0=function(r){return parseInt(r||"",10)||0},a_e=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],i=e[r==="padding"?"paddingRight":"marginRight"];return[o0(t),o0(n),o0(i)]},l_e=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return s_e;var e=a_e(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},u_e=kee(),Um="data-scroll-locked",c_e=function(r,e,t,n){var i=r.left,o=r.top,s=r.right,a=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(UEe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Um,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(QT,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(XT,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(QT," .").concat(QT,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(XT," .").concat(XT,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Um,`] {
    `).concat(zEe,": ").concat(a,`px;
  }
`)},zz=function(){var r=parseInt(document.body.getAttribute(Um)||"0",10);return isFinite(r)?r:0},d_e=function(){S.useEffect(function(){return document.body.setAttribute(Um,(zz()+1).toString()),function(){var r=zz()-1;r<=0?document.body.removeAttribute(Um):document.body.setAttribute(Um,r.toString())}},[])},h_e=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,i=n===void 0?"margin":n;d_e();var o=S.useMemo(function(){return l_e(i)},[i]);return S.createElement(u_e,{styles:c_e(o,!e,i,t?"":"!important")})},L1=!1;if(typeof window<"u")try{var rb=Object.defineProperty({},"passive",{get:function(){return L1=!0,!0}});window.addEventListener("test",rb,rb),window.removeEventListener("test",rb,rb)}catch{L1=!1}var Vg=L1?{passive:!1}:!1,f_e=function(r){return r.tagName==="TEXTAREA"},Hee=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!f_e(r)&&t[e]==="visible")},p_e=function(r){return Hee(r,"overflowY")},g_e=function(r){return Hee(r,"overflowX")},Kz=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=$ee(r,n);if(i){var o=Bee(r,n),s=o[1],a=o[2];if(s>a)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},m_e=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},v_e=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},$ee=function(r,e){return r==="v"?p_e(e):g_e(e)},Bee=function(r,e){return r==="v"?m_e(e):v_e(e)},y_e=function(r,e){return r==="h"&&e==="rtl"?-1:1},C_e=function(r,e,t,n,i){var o=y_e(r,window.getComputedStyle(e).direction),s=o*n,a=t.target,l=e.contains(a),u=!1,c=s>0,d=0,h=0;do{var f=Bee(r,a),p=f[0],g=f[1],C=f[2],m=g-C-o*p;(p||m)&&$ee(r,a)&&(d+=m,h+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&Math.abs(d)<1||!c&&Math.abs(h)<1)&&(u=!0),u},ib=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},Yz=function(r){return[r.deltaX,r.deltaY]},qz=function(r){return r&&"current"in r?r.current:r},w_e=function(r,e){return r[0]===e[0]&&r[1]===e[1]},S_e=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},E_e=0,kg=[];function __e(r){var e=S.useRef([]),t=S.useRef([0,0]),n=S.useRef(),i=S.useState(E_e++)[0],o=S.useState(kee)[0],s=S.useRef(r);S.useEffect(function(){s.current=r},[r]),S.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var g=M1([r.lockRef.current],(r.shards||[]).map(qz),!0).filter(Boolean);return g.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var a=S.useCallback(function(g,C){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var m=ib(g),y=t.current,w="deltaX"in g?g.deltaX:y[0]-m[0],E="deltaY"in g?g.deltaY:y[1]-m[1],P,T=g.target,R=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in g&&R==="h"&&T.type==="range")return!1;var _=Kz(R,T);if(!_)return!0;if(_?P=R:(P=R==="v"?"h":"v",_=Kz(R,T)),!_)return!1;if(!n.current&&"changedTouches"in g&&(w||E)&&(n.current=P),!P)return!0;var b=n.current||P;return C_e(b,C,g,b==="h"?w:E)},[]),l=S.useCallback(function(g){var C=g;if(!(!kg.length||kg[kg.length-1]!==o)){var m="deltaY"in C?Yz(C):ib(C),y=e.current.filter(function(P){return P.name===C.type&&(P.target===C.target||C.target===P.shadowParent)&&w_e(P.delta,m)})[0];if(y&&y.should){C.cancelable&&C.preventDefault();return}if(!y){var w=(s.current.shards||[]).map(qz).filter(Boolean).filter(function(P){return P.contains(C.target)}),E=w.length>0?a(C,w[0]):!s.current.noIsolation;E&&C.cancelable&&C.preventDefault()}}},[]),u=S.useCallback(function(g,C,m,y){var w={name:g,delta:C,target:m,should:y,shadowParent:R_e(m)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),c=S.useCallback(function(g){t.current=ib(g),n.current=void 0},[]),d=S.useCallback(function(g){u(g.type,Yz(g),g.target,a(g,r.lockRef.current))},[]),h=S.useCallback(function(g){u(g.type,ib(g),g.target,a(g,r.lockRef.current))},[]);S.useEffect(function(){return kg.push(o),r.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Vg),document.addEventListener("touchmove",l,Vg),document.addEventListener("touchstart",c,Vg),function(){kg=kg.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Vg),document.removeEventListener("touchmove",l,Vg),document.removeEventListener("touchstart",c,Vg)}},[]);var f=r.removeScrollBar,p=r.inert;return S.createElement(S.Fragment,null,p?S.createElement(o,{styles:S_e(i)}):null,f?S.createElement(h_e,{gapMode:r.gapMode}):null)}function R_e(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const b_e=ZEe(Vee,__e);var jee=S.forwardRef(function(r,e){return S.createElement(DI,hu({},r,{ref:e,sideCar:b_e}))});jee.classNames=DI.classNames;function fO(r,e){let t=r;for(;(t=t.parentElement)&&!t.matches(e););return t}function T_e(r,e,t){for(let n=r-1;n>=0;n-=1)if(!e[n].disabled)return n;if(t){for(let n=e.length-1;n>-1;n-=1)if(!e[n].disabled)return n}return r}function P_e(r,e,t){for(let n=r+1;n<e.length;n+=1)if(!e[n].disabled)return n;if(t){for(let n=0;n<e.length;n+=1)if(!e[n].disabled)return n}return r}function O_e(r,e,t){return fO(r,t)===fO(e,t)}function Wee({parentSelector:r,siblingSelector:e,onKeyDown:t,loop:n=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var l;t==null||t(a);const u=Array.from(((l=fO(a.currentTarget,r))==null?void 0:l.querySelectorAll(e))||[]).filter(g=>O_e(a.currentTarget,g,r)),c=u.findIndex(g=>a.currentTarget===g),d=P_e(c,u,n),h=T_e(c,u,n),f=o==="rtl"?h:d,p=o==="rtl"?d:h;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[p].focus(),i&&u[p].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=u.length-1;!u[g].disabled&&u[g].focus();break}}}}function D_e(r,e,t){var n;return t?Array.from(((n=fO(t,e))==null?void 0:n.querySelectorAll(r))||[]).findIndex(i=>i===t):null}function sg(r){const e=S.createContext(null);return[({children:i,value:o})=>N.createElement(e.Provider,{value:o},i),()=>{const i=S.useContext(e);if(i===null)throw new Error(r);return i}]}function AI(r){return Array.isArray(r)?r:[r]}function Qz(r,e){return t=>{if(typeof t!="string"||t.trim().length===0)throw new Error(e);return`${r}-${t}`}}const A_e=()=>{};function x_e(r,e={active:!0}){return typeof r!="function"||!e.active?e.onKeyDown||A_e:t=>{var n;t.key==="Escape"&&(r(t),(n=e.onTrigger)==null||n.call(e))}}function lc(r,e){return t=>{r==null||r(t),e==null||e(t)}}function I_e(){const[r,e]=S.useState(-1);return[r,{setHovered:e,resetHovered:()=>e(-1)}]}function F_e({data:r}){const e=[],t=[],n=r.reduce((i,o,s)=>(o.group?i[o.group]?i[o.group].push(s):i[o.group]=[s]:t.push(s),i),{});return Object.keys(n).forEach(i=>{e.push(...n[i].map(o=>r[o]))}),e.push(...t.map(i=>r[i])),e}function zE(r){return Array.isArray(r)||r===null?!1:typeof r=="object"?r.type!==N.Fragment:!1}function Uee(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=Uee(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function zee(){for(var r=0,e,t,n="";r<arguments.length;)(e=arguments[r++])&&(t=Uee(e))&&(n&&(n+=" "),n+=t);return n}const M_e={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function L_e(r){return()=>({fontFamily:r.fontFamily||"sans-serif"})}var N_e=Object.defineProperty,Xz=Object.getOwnPropertySymbols,G_e=Object.prototype.hasOwnProperty,V_e=Object.prototype.propertyIsEnumerable,Jz=(r,e,t)=>e in r?N_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zz=(r,e)=>{for(var t in e||(e={}))G_e.call(e,t)&&Jz(r,t,e[t]);if(Xz)for(var t of Xz(e))V_e.call(e,t)&&Jz(r,t,e[t]);return r};function k_e(r){return e=>({WebkitTapHighlightColor:"transparent",[e||"&:focus"]:Zz({},r.focusRing==="always"||r.focusRing==="auto"?r.focusRingStyles.styles(r):r.focusRingStyles.resetStyles(r)),[e?e.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:Zz({},r.focusRing==="auto"||r.focusRing==="never"?r.focusRingStyles.resetStyles(r):null)})}function KE(r){return e=>typeof r.primaryShade=="number"?r.primaryShade:r.primaryShade[e||r.colorScheme]}function C$(r){const e=KE(r);return(t,n,i=!0,o=!0)=>{if(typeof t=="string"&&t.includes(".")){const[a,l]=t.split("."),u=parseInt(l,10);if(a in r.colors&&u>=0&&u<10)return r.colors[a][typeof n=="number"&&!o?n:u]}const s=typeof n=="number"?n:e();return t in r.colors?r.colors[t][s]:i?r.colors[r.primaryColor][s]:t}}function Kee(r){let e="";for(let t=1;t<r.length-1;t+=1)e+=`${r[t]} ${t/(r.length-1)*100}%, `;return`${r[0]} 0%, ${e}${r[r.length-1]} 100%`}function H_e(r,...e){return`linear-gradient(${r}deg, ${Kee(e)})`}function $_e(...r){return`radial-gradient(circle, ${Kee(r)})`}function Yee(r){const e=C$(r),t=KE(r);return n=>{const i={from:(n==null?void 0:n.from)||r.defaultGradient.from,to:(n==null?void 0:n.to)||r.defaultGradient.to,deg:(n==null?void 0:n.deg)||r.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${e(i.from,t(),!1)} 0%, ${e(i.to,t(),!1)} 100%)`}}function qee(r){return e=>{if(typeof e=="number")return`${e/16}${r}`;if(typeof e=="string"){const t=e.replace("px","");if(!Number.isNaN(Number(t)))return`${Number(t)/16}${r}`}return e}}const U=qee("rem"),zs=qee("em");function Oe({size:r,sizes:e,units:t}){return r in e?e[r]:typeof r=="number"?t==="em"?zs(r):U(r):r||e.md}function yl(r){return typeof r=="number"?r:typeof r=="string"&&r.includes("rem")?Number(r.replace("rem",""))*16:typeof r=="string"&&r.includes("em")?Number(r.replace("em",""))*16:Number(r)}function B_e(r){return e=>`@media (min-width: ${zs(yl(Oe({size:e,sizes:r.breakpoints})))})`}function j_e(r){return e=>`@media (max-width: ${zs(yl(Oe({size:e,sizes:r.breakpoints}))-1)})`}function W_e(r){return/^#?([0-9A-F]{3}){1,2}$/i.test(r)}function U_e(r){let e=r.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}const t=parseInt(e,16),n=t>>16&255,i=t>>8&255,o=t&255;return{r:n,g:i,b:o,a:1}}function z_e(r){const[e,t,n,i]=r.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:e,g:t,b:n,a:i||1}}function w$(r){return W_e(r)?U_e(r):r.startsWith("rgb")?z_e(r):{r:0,g:0,b:0,a:1}}function om(r,e){if(typeof r!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(r.startsWith("var(--"))return r;const{r:t,g:n,b:i}=w$(r);return`rgba(${t}, ${n}, ${i}, ${e})`}function K_e(r=0){return{position:"absolute",top:U(r),right:U(r),left:U(r),bottom:U(r)}}function Y_e(r,e){if(typeof r=="string"&&r.startsWith("var(--"))return r;const{r:t,g:n,b:i,a:o}=w$(r),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(t)}, ${a(n)}, ${a(i)}, ${o})`}function q_e(r,e){if(typeof r=="string"&&r.startsWith("var(--"))return r;const{r:t,g:n,b:i,a:o}=w$(r),s=a=>Math.round(a+(255-a)*e);return`rgba(${s(t)}, ${s(n)}, ${s(i)}, ${o})`}function Q_e(r){return e=>{if(typeof e=="number")return U(e);const t=typeof r.defaultRadius=="number"?r.defaultRadius:r.radius[r.defaultRadius]||r.defaultRadius;return r.radius[e]||e||t}}function X_e(r,e){if(typeof r=="string"&&r.includes(".")){const[t,n]=r.split("."),i=parseInt(n,10);if(t in e.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:t,shade:i}}return{isSplittedColor:!1}}function J_e(r){const e=C$(r),t=KE(r),n=Yee(r);return({variant:i,color:o,gradient:s,primaryFallback:a})=>{const l=X_e(o,r);switch(i){case"light":return{border:"transparent",background:om(e(o,r.colorScheme==="dark"?8:0,a,!1),r.colorScheme==="dark"?.2:1),color:o==="dark"?r.colorScheme==="dark"?r.colors.dark[0]:r.colors.dark[9]:e(o,r.colorScheme==="dark"?2:t("light")),hover:om(e(o,r.colorScheme==="dark"?7:1,a,!1),r.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:o==="dark"?r.colorScheme==="dark"?r.colors.dark[0]:r.colors.dark[9]:e(o,r.colorScheme==="dark"?2:t("light")),hover:om(e(o,r.colorScheme==="dark"?8:0,a,!1),r.colorScheme==="dark"?.2:1)};case"outline":return{border:e(o,r.colorScheme==="dark"?5:t("light")),background:"transparent",color:e(o,r.colorScheme==="dark"?5:t("light")),hover:r.colorScheme==="dark"?om(e(o,5,a,!1),.05):om(e(o,0,a,!1),.35)};case"default":return{border:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4],background:r.colorScheme==="dark"?r.colors.dark[6]:r.white,color:r.colorScheme==="dark"?r.white:r.black,hover:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[0]};case"white":return{border:"transparent",background:r.white,color:e(o,t()),hover:null};case"transparent":return{border:"transparent",color:o==="dark"?r.colorScheme==="dark"?r.colors.dark[0]:r.colors.dark[9]:e(o,r.colorScheme==="dark"?2:t("light")),background:"transparent",hover:null};case"gradient":return{background:n(s),color:r.white,border:"transparent",hover:null};default:{const u=t(),c=l.isSplittedColor?l.shade:u,d=l.isSplittedColor?l.key:o;return{border:"transparent",background:e(d,c,a),color:r.white,hover:e(d,c===9?8:c+1)}}}}}function Z_e(r){return e=>{const t=KE(r)(e);return r.colors[r.primaryColor][t]}}function eRe(r){return{"@media (hover: hover)":{"&:hover":r},"@media (hover: none)":{"&:active":r}}}function tRe(r){return()=>({userSelect:"none",color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]})}function nRe(r){return()=>r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]}const Xr={fontStyles:L_e,themeColor:C$,focusStyles:k_e,linearGradient:H_e,radialGradient:$_e,smallerThan:j_e,largerThan:B_e,rgba:om,cover:K_e,darken:Y_e,lighten:q_e,radius:Q_e,variant:J_e,primaryShade:KE,hover:eRe,gradient:Yee,primaryColor:Z_e,placeholderStyles:tRe,dimmed:nRe};var rRe=Object.defineProperty,iRe=Object.defineProperties,oRe=Object.getOwnPropertyDescriptors,e5=Object.getOwnPropertySymbols,sRe=Object.prototype.hasOwnProperty,aRe=Object.prototype.propertyIsEnumerable,t5=(r,e,t)=>e in r?rRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lRe=(r,e)=>{for(var t in e||(e={}))sRe.call(e,t)&&t5(r,t,e[t]);if(e5)for(var t of e5(e))aRe.call(e,t)&&t5(r,t,e[t]);return r},uRe=(r,e)=>iRe(r,oRe(e));function Qee(r){return uRe(lRe({},r),{fn:{fontStyles:Xr.fontStyles(r),themeColor:Xr.themeColor(r),focusStyles:Xr.focusStyles(r),largerThan:Xr.largerThan(r),smallerThan:Xr.smallerThan(r),radialGradient:Xr.radialGradient,linearGradient:Xr.linearGradient,gradient:Xr.gradient(r),rgba:Xr.rgba,cover:Xr.cover,lighten:Xr.lighten,darken:Xr.darken,primaryShade:Xr.primaryShade(r),radius:Xr.radius(r),variant:Xr.variant(r),hover:Xr.hover,primaryColor:Xr.primaryColor(r),placeholderStyles:Xr.placeholderStyles(r),dimmed:Xr.dimmed(r)}})}const Xee=["xs","sm","md","lg","xl"],cRe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:M_e,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1)",sm:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 0.625rem 0.9375rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.4375rem 0.4375rem -0.3125rem",md:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.25rem 1.5625rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.625rem 0.625rem -0.3125rem",lg:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.75rem 1.4375rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 0.75rem 0.75rem -0.4375rem",xl:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 2.25rem 1.75rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 1.0625rem 1.0625rem -0.4375rem"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},radius:{xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"2rem"},spacing:{xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:"2.125rem",lineHeight:1.3,fontWeight:void 0},h2:{fontSize:"1.625rem",lineHeight:1.35,fontWeight:void 0},h3:{fontSize:"1.375rem",lineHeight:1.4,fontWeight:void 0},h4:{fontSize:"1.125rem",lineHeight:1.45,fontWeight:void 0},h5:{fontSize:"1rem",lineHeight:1.5,fontWeight:void 0},h6:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(0.0625rem)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:r=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${r.colors[r.primaryColor][r.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:r=>({outline:"none",borderColor:r.colors[r.primaryColor][typeof r.primaryShade=="object"?r.primaryShade[r.colorScheme]:r.primaryShade]})}},S$=Qee(cRe);function dRe(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function hRe(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var fRe=function(){function r(t){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hRe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=dRe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},r}(),Xi="-ms-",pO="-moz-",_n="-webkit-",Jee="comm",E$="rule",_$="decl",pRe="@import",Zee="@keyframes",gRe="@layer",mRe=Math.abs,xI=String.fromCharCode,vRe=Object.assign;function yRe(r,e){return Oi(r,0)^45?(((e<<2^Oi(r,0))<<2^Oi(r,1))<<2^Oi(r,2))<<2^Oi(r,3):0}function ete(r){return r.trim()}function CRe(r,e){return(r=e.exec(r))?r[0]:r}function Rn(r,e,t){return r.replace(e,t)}function N1(r,e){return r.indexOf(e)}function Oi(r,e){return r.charCodeAt(e)|0}function AS(r,e,t){return r.slice(e,t)}function ou(r){return r.length}function R$(r){return r.length}function ob(r,e){return e.push(r),r}function wRe(r,e){return r.map(e).join("")}var II=1,vv=1,tte=0,ls=0,jr=0,oy="";function FI(r,e,t,n,i,o,s){return{value:r,root:e,parent:t,type:n,props:i,children:o,line:II,column:vv,length:s,return:""}}function cC(r,e){return vRe(FI("",null,null,"",null,null,0),r,{length:-r.length},e)}function SRe(){return jr}function ERe(){return jr=ls>0?Oi(oy,--ls):0,vv--,jr===10&&(vv=1,II--),jr}function Ks(){return jr=ls<tte?Oi(oy,ls++):0,vv++,jr===10&&(vv=1,II++),jr}function yu(){return Oi(oy,ls)}function JT(){return ls}function YE(r,e){return AS(oy,r,e)}function xS(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nte(r){return II=vv=1,tte=ou(oy=r),ls=0,[]}function rte(r){return oy="",r}function ZT(r){return ete(YE(ls-1,G1(r===91?r+2:r===40?r+1:r)))}function _Re(r){for(;(jr=yu())&&jr<33;)Ks();return xS(r)>2||xS(jr)>3?"":" "}function RRe(r,e){for(;--e&&Ks()&&!(jr<48||jr>102||jr>57&&jr<65||jr>70&&jr<97););return YE(r,JT()+(e<6&&yu()==32&&Ks()==32))}function G1(r){for(;Ks();)switch(jr){case r:return ls;case 34:case 39:r!==34&&r!==39&&G1(jr);break;case 40:r===41&&G1(r);break;case 92:Ks();break}return ls}function bRe(r,e){for(;Ks()&&r+jr!==57;)if(r+jr===84&&yu()===47)break;return"/*"+YE(e,ls-1)+"*"+xI(r===47?r:Ks())}function TRe(r){for(;!xS(yu());)Ks();return YE(r,ls)}function PRe(r){return rte(eP("",null,null,null,[""],r=nte(r),0,[0],r))}function eP(r,e,t,n,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,f=0,p=0,g=1,C=1,m=1,y=0,w="",E=i,P=o,T=n,R=w;C;)switch(p=y,y=Ks()){case 40:if(p!=108&&Oi(R,d-1)==58){N1(R+=Rn(ZT(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:R+=ZT(y);break;case 9:case 10:case 13:case 32:R+=_Re(p);break;case 92:R+=RRe(JT()-1,7);continue;case 47:switch(yu()){case 42:case 47:ob(ORe(bRe(Ks(),JT()),e,t),l);break;default:R+="/"}break;case 123*g:a[u++]=ou(R)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:C=0;case 59+c:m==-1&&(R=Rn(R,/\f/g,"")),f>0&&ou(R)-d&&ob(f>32?r5(R+";",n,t,d-1):r5(Rn(R," ","")+";",n,t,d-2),l);break;case 59:R+=";";default:if(ob(T=n5(R,e,t,u,c,i,a,w,E=[],P=[],d),o),y===123)if(c===0)eP(R,e,T,T,E,o,d,a,P);else switch(h===99&&Oi(R,3)===110?100:h){case 100:case 108:case 109:case 115:eP(r,T,T,n&&ob(n5(r,T,T,0,0,i,a,w,i,E=[],d),P),i,P,d,a,n?E:P);break;default:eP(R,T,T,T,[""],P,0,a,P)}}u=c=f=0,g=m=1,w=R="",d=s;break;case 58:d=1+ou(R),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&ERe()==125)continue}switch(R+=xI(y),y*g){case 38:m=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(ou(R)-1)*m,m=1;break;case 64:yu()===45&&(R+=ZT(Ks())),h=yu(),c=d=ou(w=R+=TRe(JT())),y++;break;case 45:p===45&&ou(R)==2&&(g=0)}}return o}function n5(r,e,t,n,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],f=R$(h),p=0,g=0,C=0;p<n;++p)for(var m=0,y=AS(r,d+1,d=mRe(g=s[p])),w=r;m<f;++m)(w=ete(g>0?h[m]+" "+y:Rn(y,/&\f/g,h[m])))&&(l[C++]=w);return FI(r,e,t,i===0?E$:a,l,u,c)}function ORe(r,e,t){return FI(r,e,t,Jee,xI(SRe()),AS(r,2,-2),0)}function r5(r,e,t,n){return FI(r,e,t,_$,AS(r,0,n),AS(r,n+1,-1),n)}function zm(r,e){for(var t="",n=R$(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function DRe(r,e,t,n){switch(r.type){case gRe:if(r.children.length)break;case pRe:case _$:return r.return=r.return||r.value;case Jee:return"";case Zee:return r.return=r.value+"{"+zm(r.children,n)+"}";case E$:r.value=r.props.join(",")}return ou(t=zm(r.children,n))?r.return=r.value+"{"+t+"}":""}function ARe(r){var e=R$(r);return function(t,n,i,o){for(var s="",a=0;a<e;a++)s+=r[a](t,n,i,o)||"";return s}}function xRe(r){return function(e){e.root||(e=e.return)&&r(e)}}function IRe(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var FRe=function(e,t,n){for(var i=0,o=0;i=o,o=yu(),i===38&&o===12&&(t[n]=1),!xS(o);)Ks();return YE(e,ls)},MRe=function(e,t){var n=-1,i=44;do switch(xS(i)){case 0:i===38&&yu()===12&&(t[n]=1),e[n]+=FRe(ls-1,t,n);break;case 2:e[n]+=ZT(i);break;case 4:if(i===44){e[++n]=yu()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=xI(i)}while(i=Ks());return e},LRe=function(e,t){return rte(MRe(nte(e),t))},i5=new WeakMap,NRe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!i5.get(n))&&!i){i5.set(e,!0);for(var o=[],s=LRe(t,o),a=n.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},GRe=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function ite(r,e){switch(yRe(r,e)){case 5103:return _n+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+r+pO+r+Xi+r+r;case 6828:case 4268:return _n+r+Xi+r+r;case 6165:return _n+r+Xi+"flex-"+r+r;case 5187:return _n+r+Rn(r,/(\w+).+(:[^]+)/,_n+"box-$1$2"+Xi+"flex-$1$2")+r;case 5443:return _n+r+Xi+"flex-item-"+Rn(r,/flex-|-self/,"")+r;case 4675:return _n+r+Xi+"flex-line-pack"+Rn(r,/align-content|flex-|-self/,"")+r;case 5548:return _n+r+Xi+Rn(r,"shrink","negative")+r;case 5292:return _n+r+Xi+Rn(r,"basis","preferred-size")+r;case 6060:return _n+"box-"+Rn(r,"-grow","")+_n+r+Xi+Rn(r,"grow","positive")+r;case 4554:return _n+Rn(r,/([^-])(transform)/g,"$1"+_n+"$2")+r;case 6187:return Rn(Rn(Rn(r,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),r,"")+r;case 5495:case 3959:return Rn(r,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return Rn(Rn(r,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+Xi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+r+r;case 4095:case 3583:case 4068:case 2532:return Rn(r,/(.+)-inline(.+)/,_n+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ou(r)-1-e>6)switch(Oi(r,e+1)){case 109:if(Oi(r,e+4)!==45)break;case 102:return Rn(r,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+pO+(Oi(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~N1(r,"stretch")?ite(Rn(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(Oi(r,e+1)!==115)break;case 6444:switch(Oi(r,ou(r)-3-(~N1(r,"!important")&&10))){case 107:return Rn(r,":",":"+_n)+r;case 101:return Rn(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(Oi(r,14)===45?"inline-":"")+"box$3$1"+_n+"$2$3$1"+Xi+"$2box$3")+r}break;case 5936:switch(Oi(r,e+11)){case 114:return _n+r+Xi+Rn(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return _n+r+Xi+Rn(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return _n+r+Xi+Rn(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return _n+r+Xi+r+r}return r}var VRe=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case _$:e.return=ite(e.value,e.length);break;case Zee:return zm([cC(e,{value:Rn(e.value,"@","@"+_n)})],i);case E$:if(e.length)return wRe(e.props,function(o){switch(CRe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zm([cC(e,{props:[Rn(o,/:(read-\w+)/,":"+pO+"$1")]})],i);case"::placeholder":return zm([cC(e,{props:[Rn(o,/:(plac\w+)/,":"+_n+"input-$1")]}),cC(e,{props:[Rn(o,/:(plac\w+)/,":"+pO+"$1")]}),cC(e,{props:[Rn(o,/:(plac\w+)/,Xi+"input-$1")]})],i)}return""})}},kRe=[VRe],ote=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var C=g.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||kRe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var C=g.getAttribute("data-emotion").split(" "),m=1;m<C.length;m++)o[C[m]]=!0;a.push(g)});var l,u=[NRe,GRe];{var c,d=[DRe,xRe(function(g){c.insert(g)})],h=ARe(u.concat(i,d)),f=function(C){return zm(PRe(C),h)};l=function(C,m,y,w){c=y,f(C?C+"{"+m.styles+"}":m.styles),w&&(p.inserted[m.name]=!0)}}var p={key:t,sheet:new fRe({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p};function qn(){return qn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},qn.apply(null,arguments)}var o5=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}},ste={exports:{}},Fn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ci=typeof Symbol=="function"&&Symbol.for,b$=Ci?Symbol.for("react.element"):60103,T$=Ci?Symbol.for("react.portal"):60106,MI=Ci?Symbol.for("react.fragment"):60107,LI=Ci?Symbol.for("react.strict_mode"):60108,NI=Ci?Symbol.for("react.profiler"):60114,GI=Ci?Symbol.for("react.provider"):60109,VI=Ci?Symbol.for("react.context"):60110,P$=Ci?Symbol.for("react.async_mode"):60111,kI=Ci?Symbol.for("react.concurrent_mode"):60111,HI=Ci?Symbol.for("react.forward_ref"):60112,$I=Ci?Symbol.for("react.suspense"):60113,HRe=Ci?Symbol.for("react.suspense_list"):60120,BI=Ci?Symbol.for("react.memo"):60115,jI=Ci?Symbol.for("react.lazy"):60116,$Re=Ci?Symbol.for("react.block"):60121,BRe=Ci?Symbol.for("react.fundamental"):60117,jRe=Ci?Symbol.for("react.responder"):60118,WRe=Ci?Symbol.for("react.scope"):60119;function ta(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case b$:switch(r=r.type,r){case P$:case kI:case MI:case NI:case LI:case $I:return r;default:switch(r=r&&r.$$typeof,r){case VI:case HI:case jI:case BI:case GI:return r;default:return e}}case T$:return e}}}function ate(r){return ta(r)===kI}Fn.AsyncMode=P$;Fn.ConcurrentMode=kI;Fn.ContextConsumer=VI;Fn.ContextProvider=GI;Fn.Element=b$;Fn.ForwardRef=HI;Fn.Fragment=MI;Fn.Lazy=jI;Fn.Memo=BI;Fn.Portal=T$;Fn.Profiler=NI;Fn.StrictMode=LI;Fn.Suspense=$I;Fn.isAsyncMode=function(r){return ate(r)||ta(r)===P$};Fn.isConcurrentMode=ate;Fn.isContextConsumer=function(r){return ta(r)===VI};Fn.isContextProvider=function(r){return ta(r)===GI};Fn.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===b$};Fn.isForwardRef=function(r){return ta(r)===HI};Fn.isFragment=function(r){return ta(r)===MI};Fn.isLazy=function(r){return ta(r)===jI};Fn.isMemo=function(r){return ta(r)===BI};Fn.isPortal=function(r){return ta(r)===T$};Fn.isProfiler=function(r){return ta(r)===NI};Fn.isStrictMode=function(r){return ta(r)===LI};Fn.isSuspense=function(r){return ta(r)===$I};Fn.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===MI||r===kI||r===NI||r===LI||r===$I||r===HRe||typeof r=="object"&&r!==null&&(r.$$typeof===jI||r.$$typeof===BI||r.$$typeof===GI||r.$$typeof===VI||r.$$typeof===HI||r.$$typeof===BRe||r.$$typeof===jRe||r.$$typeof===WRe||r.$$typeof===$Re)};Fn.typeOf=ta;ste.exports=Fn;var URe=ste.exports,lte=URe,zRe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KRe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ute={};ute[lte.ForwardRef]=zRe;ute[lte.Memo]=KRe;var YRe=!0;function qRe(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):i&&(n+=i+" ")}),n}var QRe=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||YRe===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},cte=function(e,t,n){QRe(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function XRe(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var JRe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZRe=/[A-Z]|^ms/g,ebe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dte=function(e){return e.charCodeAt(1)===45},s5=function(e){return e!=null&&typeof e!="boolean"},s0=IRe(function(r){return dte(r)?r:r.replace(ZRe,"-$&").toLowerCase()}),a5=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(ebe,function(n,i,o){return su={name:i,styles:o,next:su},i})}return JRe[e]!==1&&!dte(e)&&typeof t=="number"&&t!==0?t+"px":t};function IS(r,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return su={name:i.name,styles:i.styles,next:su},i.name;var o=t;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)su={name:s.name,styles:s.styles,next:su},s=s.next;var a=o.styles+";";return a}return tbe(r,e,t)}case"function":{if(r!==void 0){var l=su,u=t(r);return su=l,IS(r,e,u)}break}}var c=t;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function tbe(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=IS(r,e,t[i])+";";else for(var o in t){var s=t[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":s5(a)&&(n+=s0(o)+":"+a5(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)s5(s[l])&&(n+=s0(o)+":"+a5(o,s[l])+";");else{var u=IS(r,e,s);switch(o){case"animation":case"animationName":{n+=s0(o)+":"+u+";";break}default:n+=o+"{"+u+"}"}}}return n}var l5=/label:\s*([^\s;{]+)\s*(;|$)/g,su;function O$(r,e,t){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var n=!0,i="";su=void 0;var o=r[0];if(o==null||o.raw===void 0)n=!1,i+=IS(t,e,o);else{var s=o;i+=s[0]}for(var a=1;a<r.length;a++)if(i+=IS(t,e,r[a]),n){var l=o;i+=l[a]}l5.lastIndex=0;for(var u="",c;(c=l5.exec(i))!==null;)u+="-"+c[1];var d=XRe(i)+u;return{name:d,styles:i,next:su}}var nbe=hS.useInsertionEffect?hS.useInsertionEffect:!1,u5=nbe||S.useLayoutEffect,hte=S.createContext(typeof HTMLElement<"u"?ote({key:"css"}):null);hte.Provider;var rbe=function(e){return S.forwardRef(function(t,n){var i=S.useContext(hte);return e(t,i,n)})},V1=S.createContext({}),ibe=function(e,t){if(typeof t=="function"){var n=t(e);return n}return qn({},e,t)},obe=o5(function(r){return o5(function(e){return ibe(r,e)})}),sbe=function(e){var t=S.useContext(V1);return e.theme!==t&&(t=obe(t)(e.theme)),S.createElement(V1.Provider,{value:t},e.children)},qE=rbe(function(r,e){var t=r.styles,n=O$([t],void 0,S.useContext(V1)),i=S.useRef();return u5(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),u5(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&cte(e,n.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",n,s,!1)},[e,n.name]),null});function fte(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return O$(e)}var abe=function(){var e=fte.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},lbe=Object.defineProperty,ube=Object.defineProperties,cbe=Object.getOwnPropertyDescriptors,c5=Object.getOwnPropertySymbols,dbe=Object.prototype.hasOwnProperty,hbe=Object.prototype.propertyIsEnumerable,d5=(r,e,t)=>e in r?lbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fbe=(r,e)=>{for(var t in e||(e={}))dbe.call(e,t)&&d5(r,t,e[t]);if(c5)for(var t of c5(e))hbe.call(e,t)&&d5(r,t,e[t]);return r},pbe=(r,e)=>ube(r,cbe(e));function gbe({theme:r}){return N.createElement(qE,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:r.colorScheme==="dark"?"dark":"light"},body:pbe(fbe({},r.fn.fontStyles()),{backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight,fontSize:r.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function dC(r,e,t,n=U){Object.keys(e).forEach(i=>{r[`--mantine-${t}-${i}`]=n(e[i])})}function mbe({theme:r}){const e={"--mantine-color-white":r.white,"--mantine-color-black":r.black,"--mantine-transition-timing-function":r.transitionTimingFunction,"--mantine-line-height":`${r.lineHeight}`,"--mantine-font-family":r.fontFamily,"--mantine-font-family-monospace":r.fontFamilyMonospace,"--mantine-font-family-headings":r.headings.fontFamily,"--mantine-heading-font-weight":`${r.headings.fontWeight}`};dC(e,r.shadows,"shadow"),dC(e,r.fontSizes,"font-size"),dC(e,r.radius,"radius"),dC(e,r.spacing,"spacing"),dC(e,r.breakpoints,"breakpoints",zs),Object.keys(r.colors).forEach(n=>{r.colors[n].forEach((i,o)=>{e[`--mantine-color-${n}-${o}`]=i})});const t=r.headings.sizes;return Object.keys(t).forEach(n=>{e[`--mantine-${n}-font-size`]=t[n].fontSize,e[`--mantine-${n}-line-height`]=`${t[n].lineHeight}`}),N.createElement(qE,{styles:{":root":e}})}var vbe=Object.defineProperty,ybe=Object.defineProperties,Cbe=Object.getOwnPropertyDescriptors,h5=Object.getOwnPropertySymbols,wbe=Object.prototype.hasOwnProperty,Sbe=Object.prototype.propertyIsEnumerable,f5=(r,e,t)=>e in r?vbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bl=(r,e)=>{for(var t in e||(e={}))wbe.call(e,t)&&f5(r,t,e[t]);if(h5)for(var t of h5(e))Sbe.call(e,t)&&f5(r,t,e[t]);return r},a0=(r,e)=>ybe(r,Cbe(e));function Ebe(r,e){var t;if(!e)return r;const n=Object.keys(r).reduce((i,o)=>{if(o==="headings"&&e.headings){const s=e.headings.sizes?Object.keys(r.headings.sizes).reduce((a,l)=>(a[l]=Bl(Bl({},r.headings.sizes[l]),e.headings.sizes[l]),a),{}):r.headings.sizes;return a0(Bl({},i),{headings:a0(Bl(Bl({},r.headings),e.headings),{sizes:s})})}if(o==="breakpoints"&&e.breakpoints){const s=Bl(Bl({},r.breakpoints),e.breakpoints);return a0(Bl({},i),{breakpoints:Object.fromEntries(Object.entries(s).sort((a,l)=>yl(a[1])-yl(l[1])))})}return i[o]=typeof e[o]=="object"?Bl(Bl({},r[o]),e[o]):typeof e[o]=="number"||typeof e[o]=="boolean"||typeof e[o]=="function"?e[o]:e[o]||r[o],i},{});if(e!=null&&e.fontFamily&&!((t=e==null?void 0:e.headings)!=null&&t.fontFamily)&&(n.headings.fontFamily=e.fontFamily),!(n.primaryColor in n.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color");return n}function _be(r,e){return Qee(Ebe(r,e))}function pte(r){return Object.keys(r).reduce((e,t)=>(r[t]!==void 0&&(e[t]=r[t]),e),{})}const Rbe={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:`${U(1)} dotted ButtonText`},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"}};function bbe(){return N.createElement(qE,{styles:Rbe})}var Tbe=Object.defineProperty,p5=Object.getOwnPropertySymbols,Pbe=Object.prototype.hasOwnProperty,Obe=Object.prototype.propertyIsEnumerable,g5=(r,e,t)=>e in r?Tbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qw=(r,e)=>{for(var t in e||(e={}))Pbe.call(e,t)&&g5(r,t,e[t]);if(p5)for(var t of p5(e))Obe.call(e,t)&&g5(r,t,e[t]);return r};const gO=S.createContext({theme:S$});function cs(){var r;return((r=S.useContext(gO))==null?void 0:r.theme)||S$}function Dbe(r){const e=cs(),t=n=>{var i,o,s,a;return{styles:((i=e.components[n])==null?void 0:i.styles)||{},classNames:((o=e.components[n])==null?void 0:o.classNames)||{},variants:(s=e.components[n])==null?void 0:s.variants,sizes:(a=e.components[n])==null?void 0:a.sizes}};return Array.isArray(r)?r.map(t):[t(r)]}function gte(){var r;return(r=S.useContext(gO))==null?void 0:r.emotionCache}function Ve(r,e,t){var n;const i=cs(),o=(n=i.components[r])==null?void 0:n.defaultProps,s=typeof o=="function"?o(i):o;return Qw(Qw(Qw({},e),s),pte(t))}function Abe({theme:r,emotionCache:e,withNormalizeCSS:t=!1,withGlobalStyles:n=!1,withCSSVariables:i=!1,inherit:o=!1,children:s}){const a=S.useContext(gO),l=_be(S$,o?Qw(Qw({},a.theme),r):r);return N.createElement(sbe,{theme:l},N.createElement(gO.Provider,{value:{theme:l,emotionCache:e}},t&&N.createElement(bbe,null),n&&N.createElement(gbe,{theme:l}),i&&N.createElement(mbe,{theme:l}),typeof l.globalStyles=="function"&&N.createElement(qE,{styles:l.globalStyles(l)}),s))}Abe.displayName="@mantine/core/MantineProvider";const mte=S.createContext(null);function uyt(){const r=S.useContext(mte);if(!r)throw new Error("useMantineColorScheme hook was called outside of context, make sure your app is wrapped with ColorSchemeProvider component");return r}function xbe({colorScheme:r,toggleColorScheme:e,children:t}){return N.createElement(mte.Provider,{value:{colorScheme:r,toggleColorScheme:e}},t)}xbe.displayName="@mantine/core/ColorSchemeProvider";const Ibe={app:100,modal:200,popover:300,overlay:400,max:9999};function xl(r){return Ibe[r]}function Fbe(r,e){const t=S.useRef();return(!t.current||e.length!==t.current.prevDeps.length||t.current.prevDeps.map((n,i)=>n===e[i]).indexOf(!1)>=0)&&(t.current={v:r(),prevDeps:[...e]}),t.current.v}const Mbe=ote({key:"mantine",prepend:!0});function Lbe(){return gte()||Mbe}var Nbe=Object.defineProperty,m5=Object.getOwnPropertySymbols,Gbe=Object.prototype.hasOwnProperty,Vbe=Object.prototype.propertyIsEnumerable,v5=(r,e,t)=>e in r?Nbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kbe=(r,e)=>{for(var t in e||(e={}))Gbe.call(e,t)&&v5(r,t,e[t]);if(m5)for(var t of m5(e))Vbe.call(e,t)&&v5(r,t,e[t]);return r};const l0="ref";function Hbe(r){let e;if(r.length!==1)return{args:r,ref:e};const[t]=r;if(!(t instanceof Object))return{args:r,ref:e};if(!(l0 in t))return{args:r,ref:e};e=t[l0];const n=kbe({},t);return delete n[l0],{args:[n],ref:e}}const{cssFactory:$be}=(()=>{function r(t,n,i){const o=[],s=qRe(t,o,i);return o.length<2?i:s+n(o)}function e(t){const{cache:n}=t,i=(...s)=>{const{ref:a,args:l}=Hbe(s),u=O$(l,n.registered);return cte(n,u,!1),`${n.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...s)=>r(n.registered,i,zee(s))}}return{cssFactory:e}})();function vte(){const r=Lbe();return Fbe(()=>$be({cache:r}),[r])}function Bbe({cx:r,classes:e,context:t,classNames:n,name:i,cache:o}){const s=t.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(e).reduce((a,l)=>(a[l]=r(e[l],s[l],n!=null&&n[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(o==null?void 0:o.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(o==null?void 0:o.key)||"mantine"}-${i}-${l}`:null),a),{})}var jbe=Object.defineProperty,y5=Object.getOwnPropertySymbols,Wbe=Object.prototype.hasOwnProperty,Ube=Object.prototype.propertyIsEnumerable,C5=(r,e,t)=>e in r?jbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,u0=(r,e)=>{for(var t in e||(e={}))Wbe.call(e,t)&&C5(r,t,e[t]);if(y5)for(var t of y5(e))Ube.call(e,t)&&C5(r,t,e[t]);return r};function k1(r,e){return e&&Object.keys(e).forEach(t=>{r[t]?r[t]=u0(u0({},r[t]),e[t]):r[t]=u0({},e[t])}),r}function w5(r,e,t,n){const i=o=>typeof o=="function"?o(e,t||{},n):o||{};return Array.isArray(r)?r.map(o=>i(o.styles)).reduce((o,s)=>k1(o,s),{}):i(r)}function zbe({ctx:r,theme:e,params:t,variant:n,size:i}){return r.reduce((o,s)=>(s.variants&&n in s.variants&&k1(o,s.variants[n](e,t,{variant:n,size:i})),s.sizes&&i in s.sizes&&k1(o,s.sizes[i](e,t,{variant:n,size:i})),o),{})}function Xe(r){const e=typeof r=="function"?r:()=>r;function t(n,i){const o=cs(),s=Dbe(i==null?void 0:i.name),a=gte(),l={variant:i==null?void 0:i.variant,size:i==null?void 0:i.size},{css:u,cx:c}=vte(),d=e(o,n,l),h=w5(i==null?void 0:i.styles,o,n,l),f=w5(s,o,n,l),p=zbe({ctx:s,theme:o,params:n,variant:i==null?void 0:i.variant,size:i==null?void 0:i.size}),g=Object.fromEntries(Object.keys(d).map(C=>{const m=c({[u(d[C])]:!(i!=null&&i.unstyled)},u(p[C]),u(f[C]),u(h[C]));return[C,m]}));return{classes:Bbe({cx:c,classes:g,context:s,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:c,theme:o}}return t}function mO(r){return`___ref-${r||""}`}function yte({styles:r}){const e=cs();return N.createElement(qE,{styles:fte(typeof r=="function"?r(e):r)})}var Kbe=Object.defineProperty,Ybe=Object.defineProperties,qbe=Object.getOwnPropertyDescriptors,S5=Object.getOwnPropertySymbols,Qbe=Object.prototype.hasOwnProperty,Xbe=Object.prototype.propertyIsEnumerable,E5=(r,e,t)=>e in r?Kbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hC=(r,e)=>{for(var t in e)Qbe.call(e,t)&&E5(r,t,e[t]);if(S5)for(var t of S5(e))Xbe.call(e,t)&&E5(r,t,e[t]);return r},fC=(r,e)=>Ybe(r,qbe(e));const pC={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${U(10)})`},transitionProperty:"transform, opacity"},sb={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${U(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${U(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${U(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${U(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:fC(hC({},pC),{common:{transformOrigin:"center center"}}),"pop-bottom-left":fC(hC({},pC),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":fC(hC({},pC),{common:{transformOrigin:"bottom right"}}),"pop-top-left":fC(hC({},pC),{common:{transformOrigin:"top left"}}),"pop-top-right":fC(hC({},pC),{common:{transformOrigin:"top right"}})},_5=["mousedown","touchstart"];function Jbe(r,e,t){const n=S.useRef();return S.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(t)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";t.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&r()}else n.current&&!n.current.contains(s)&&r()};return(e||_5).forEach(o=>document.addEventListener(o,i)),()=>{(e||_5).forEach(o=>document.removeEventListener(o,i))}},[n,r,t]),n}function Zbe(r,e){try{return r.addEventListener("change",e),()=>r.removeEventListener("change",e)}catch{return r.addListener(e),()=>r.removeListener(e)}}function eTe(r,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(r).matches:!1}function tTe(r,e,{getInitialValueInEffect:t}={getInitialValueInEffect:!0}){const[n,i]=S.useState(t?e:eTe(r)),o=S.useRef();return S.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(r),i(o.current.matches),Zbe(o.current,s=>i(s.matches))},[r]),n}const Cte=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Fa(r,e){const t=S.useRef(!1);S.useEffect(()=>()=>{t.current=!1},[]),S.useEffect(()=>{if(t.current)return r();t.current=!0},e)}function wte({opened:r,shouldReturnFocus:e=!0}){const t=S.useRef(),n=()=>{var i;t.current&&"focus"in t.current&&typeof t.current.focus=="function"&&((i=t.current)==null||i.focus({preventScroll:!0}))};return Fa(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),r?t.current=document.activeElement:e&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[r,e]),n}const nTe=/input|select|textarea|button|object/,Ste="a, input, select, textarea, button, object, [tabindex]";function rTe(r){return r.style.display==="none"}function iTe(r){if(r.getAttribute("aria-hidden")||r.getAttribute("hidden")||r.getAttribute("type")==="hidden")return!1;let t=r;for(;t&&!(t===document.body||t.nodeType===11);){if(rTe(t))return!1;t=t.parentNode}return!0}function Ete(r){let e=r.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function H1(r){const e=r.nodeName.toLowerCase(),t=!Number.isNaN(Ete(r));return(nTe.test(e)&&!r.disabled||r instanceof HTMLAnchorElement&&r.href||t)&&iTe(r)}function _te(r){const e=Ete(r);return(Number.isNaN(e)||e>=0)&&H1(r)}function oTe(r){return Array.from(r.querySelectorAll(Ste)).filter(_te)}function sTe(r,e){const t=oTe(r);if(!t.length){e.preventDefault();return}const n=t[e.shiftKey?0:t.length-1],i=r.getRootNode();if(!(n===i.activeElement||r===i.activeElement))return;e.preventDefault();const s=t[e.shiftKey?t.length-1:0];s&&s.focus()}function WI(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function aTe(r,e="body > :not(script)"){const t=WI(),n=Array.from(document.querySelectorAll(e)).map(i=>{var o;if((o=i==null?void 0:i.shadowRoot)!=null&&o.contains(r)||i.contains(r))return;const s=i.getAttribute("aria-hidden"),a=i.getAttribute("data-hidden"),l=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",t),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!a&&!l&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:a||null}});return()=>{n.forEach(i=>{!i||t!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}function lTe(r=!0){const e=S.useRef(),t=S.useRef(null),n=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(Ste));s=a.find(_te)||a.find(H1)||null,!s&&H1(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=S.useCallback(o=>{if(r){if(o===null){t.current&&(t.current(),t.current=null);return}t.current=aTe(o),e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),e.current=o):e.current=null)}},[r]);return S.useEffect(()=>{if(!r)return;e.current&&setTimeout(()=>n(e.current));const o=s=>{s.key==="Tab"&&e.current&&sTe(e.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),t.current&&t.current()}},[r]),i}const uTe=r=>(r+1)%1e6;function cTe(){const[,r]=S.useReducer(uTe,0);return r}const dTe=N.useId||(()=>{});function hTe(){const r=dTe();return r?`mantine-${r.replace(/:/g,"")}`:""}function Uh(r){const e=hTe(),[t,n]=S.useState(e);return Cte(()=>{n(WI())},[]),typeof r=="string"?r:typeof window>"u"?e:t}function $1(r,e,t){S.useEffect(()=>(window.addEventListener(r,e,t),()=>window.removeEventListener(r,e,t)),[r,e])}function Rte(r,e){typeof r=="function"?r(e):typeof r=="object"&&r!==null&&"current"in r&&(r.current=e)}function bte(...r){return e=>{r.forEach(t=>Rte(t,e))}}function sy(...r){return S.useCallback(bte(...r),r)}function Pp({value:r,defaultValue:e,finalValue:t,onChange:n=()=>{}}){const[i,o]=S.useState(e!==void 0?e:t),s=a=>{o(a),n==null||n(a)};return r!==void 0?[r,n,!0]:[i,s,!1]}function fTe({initialValues:r=[],limit:e}){const[{state:t,queue:n},i]=S.useState({state:r.slice(0,e),queue:r.slice(e)});return{state:t,queue:n,add:(...l)=>i(u=>{const c=[...u.state,...u.queue,...l];return{state:c.slice(0,e),queue:c.slice(e)}}),update:l=>i(u=>{const c=l([...u.state,...u.queue]);return{state:c.slice(0,e),queue:c.slice(e)}}),cleanQueue:()=>i(l=>({state:l.state,queue:[]}))}}function QE(r,e){return tTe("(prefers-reduced-motion: reduce)",r,e)}const pTe=r=>r<.5?2*r*r:-1+(4-2*r)*r,gTe=({axis:r,target:e,parent:t,alignment:n,offset:i,isList:o})=>{if(!e||!t&&typeof document>"u")return 0;const s=!!t,l=(t||document.body).getBoundingClientRect(),u=e.getBoundingClientRect(),c=d=>u[d]-l[d];if(r==="y"){const d=c("top");if(d===0)return 0;if(n==="start"){const f=d-i;return f<=u.height*(o?0:1)||!o?f:0}const h=s?l.height:window.innerHeight;if(n==="end"){const f=d+i-h+u.height;return f>=-u.height*(o?0:1)||!o?f:0}return n==="center"?d-h/2+u.height/2:0}if(r==="x"){const d=c("left");if(d===0)return 0;if(n==="start"){const f=d-i;return f<=u.width||!o?f:0}const h=s?l.width:window.innerWidth;if(n==="end"){const f=d+i-h+u.width;return f>=-u.width||!o?f:0}return n==="center"?d-h/2+u.width/2:0}return 0},mTe=({axis:r,parent:e})=>{if(!e&&typeof document>"u")return 0;const t=r==="y"?"scrollTop":"scrollLeft";if(e)return e[t];const{body:n,documentElement:i}=document;return n[t]+i[t]},vTe=({axis:r,parent:e,distance:t})=>{if(!e&&typeof document>"u")return;const n=r==="y"?"scrollTop":"scrollLeft";if(e)e[n]=t;else{const{body:i,documentElement:o}=document;i[n]=t,o[n]=t}};function yTe({duration:r=1250,axis:e="y",onScrollFinish:t,easing:n=pTe,offset:i=0,cancelable:o=!0,isList:s=!1}={}){const a=S.useRef(0),l=S.useRef(0),u=S.useRef(!1),c=S.useRef(null),d=S.useRef(null),h=QE(),f=()=>{a.current&&cancelAnimationFrame(a.current)},p=S.useCallback(({alignment:C="start"}={})=>{var m;u.current=!1,a.current&&f();const y=(m=mTe({parent:c.current,axis:e}))!=null?m:0,w=gTe({parent:c.current,target:d.current,axis:e,alignment:C,offset:i,isList:s})-(c.current?0:y);function E(){l.current===0&&(l.current=performance.now());const T=performance.now()-l.current,R=h||r===0?1:T/r,_=y+w*n(R);vTe({parent:c.current,axis:e,distance:_}),!u.current&&R<1?a.current=requestAnimationFrame(E):(typeof t=="function"&&t(),l.current=0,a.current=0,f())}E()},[e,r,n,s,i,t,h]),g=()=>{o&&(u.current=!0)};return $1("wheel",g,{passive:!0}),$1("touchmove",g,{passive:!0}),S.useEffect(()=>f,[]),{scrollableRef:c,targetRef:d,scrollIntoView:p,cancel:f}}function CTe(r=!1,e){const{onOpen:t,onClose:n}={},[i,o]=S.useState(r),s=S.useCallback(()=>{o(u=>u||(t==null||t(),!0))},[t]),a=S.useCallback(()=>{o(u=>u&&(n==null||n(),!1))},[n]),l=S.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function R5(r){return typeof r!="string"?"":r.charAt(0).toUpperCase()+r.slice(1)}var b5=Object.getOwnPropertySymbols,wTe=Object.prototype.hasOwnProperty,STe=Object.prototype.propertyIsEnumerable,ETe=(r,e)=>{var t={};for(var n in r)wTe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&b5)for(var n of b5(r))e.indexOf(n)<0&&STe.call(r,n)&&(t[n]=r[n]);return t};function ay(r){const e=r,{m:t,mx:n,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:d,pt:h,pb:f,pl:p,pr:g,bg:C,c:m,opacity:y,ff:w,fz:E,fw:P,lts:T,ta:R,lh:_,fs:b,tt:D,td:M,w:G,miw:I,maw:L,h:B,mih:j,mah:z,bgsz:W,bgp:H,bgr:Y,bga:Q,pos:J,top:oe,left:re,bottom:ue,right:Ce,inset:Re,display:Be}=e,Ge=ETe(e,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:pte({m:t,mx:n,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:d,pt:h,pb:f,pl:p,pr:g,bg:C,c:m,opacity:y,ff:w,fz:E,fw:P,lts:T,ta:R,lh:_,fs:b,tt:D,td:M,w:G,miw:I,maw:L,h:B,mih:j,mah:z,bgsz:W,bgp:H,bgr:Y,bga:Q,pos:J,top:oe,left:re,bottom:ue,right:Ce,inset:Re,display:Be}),rest:Ge}}function _Te(r,e){const t=Object.keys(r).filter(n=>n!=="base").sort((n,i)=>yl(Oe({size:n,sizes:e.breakpoints}))-yl(Oe({size:i,sizes:e.breakpoints})));return"base"in r?["base",...t]:t}function RTe({value:r,theme:e,getValue:t,property:n}){if(r==null)return;if(typeof r=="object")return _Te(r,e).reduce((s,a)=>{if(a==="base"&&r.base!==void 0){const u=t(r.base,e);return Array.isArray(n)?(n.forEach(c=>{s[c]=u}),s):(s[n]=u,s)}const l=t(r[a],e);return Array.isArray(n)?(s[e.fn.largerThan(a)]={},n.forEach(u=>{s[e.fn.largerThan(a)][u]=l}),s):(s[e.fn.largerThan(a)]={[n]:l},s)},{});const i=t(r,e);return Array.isArray(n)?n.reduce((o,s)=>(o[s]=i,o),{}):{[n]:i}}function bTe(r,e){return r==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:e.fn.variant({variant:"filled",color:r,primaryFallback:!1}).background}function TTe(r){return U(r)}function PTe(r){return r}function OTe(r,e){return Oe({size:r,sizes:e.fontSizes})}const DTe=["-xs","-sm","-md","-lg","-xl"];function ATe(r,e){return DTe.includes(r)?`calc(${Oe({size:r.replace("-",""),sizes:e.spacing})} * -1)`:Oe({size:r,sizes:e.spacing})}const xTe={identity:PTe,color:bTe,size:TTe,fontSize:OTe,spacing:ATe},ITe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var FTe=Object.defineProperty,T5=Object.getOwnPropertySymbols,MTe=Object.prototype.hasOwnProperty,LTe=Object.prototype.propertyIsEnumerable,P5=(r,e,t)=>e in r?FTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,O5=(r,e)=>{for(var t in e||(e={}))MTe.call(e,t)&&P5(r,t,e[t]);if(T5)for(var t of T5(e))LTe.call(e,t)&&P5(r,t,e[t]);return r};function D5(r,e,t=ITe){return Object.keys(t).reduce((i,o)=>(o in r&&r[o]!==void 0&&i.push(RTe({value:r[o],getValue:xTe[t[o].type],property:t[o].property,theme:e})),i),[]).reduce((i,o)=>(Object.keys(o).forEach(s=>{typeof o[s]=="object"&&o[s]!==null&&s in i?i[s]=O5(O5({},i[s]),o[s]):i[s]=o[s]}),i),{})}function A5(r,e){return typeof r=="function"?r(e):r}function NTe(r,e,t){const n=cs(),{css:i,cx:o}=vte();return Array.isArray(r)?o(t,i(D5(e,n)),r.map(s=>i(A5(s,n)))):o(t,i(A5(r,n)),i(D5(e,n)))}var GTe=Object.defineProperty,vO=Object.getOwnPropertySymbols,Tte=Object.prototype.hasOwnProperty,Pte=Object.prototype.propertyIsEnumerable,x5=(r,e,t)=>e in r?GTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,VTe=(r,e)=>{for(var t in e||(e={}))Tte.call(e,t)&&x5(r,t,e[t]);if(vO)for(var t of vO(e))Pte.call(e,t)&&x5(r,t,e[t]);return r},kTe=(r,e)=>{var t={};for(var n in r)Tte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&vO)for(var n of vO(r))e.indexOf(n)<0&&Pte.call(r,n)&&(t[n]=r[n]);return t};const Ote=S.forwardRef((r,e)=>{var t=r,{className:n,component:i,style:o,sx:s}=t,a=kTe(t,["className","component","style","sx"]);const{systemStyles:l,rest:u}=ay(a),c=i||"div";return N.createElement(c,VTe({ref:e,className:NTe(s,l,n),style:o},u))});Ote.displayName="@mantine/core/Box";const it=Ote;var HTe=Object.defineProperty,$Te=Object.defineProperties,BTe=Object.getOwnPropertyDescriptors,I5=Object.getOwnPropertySymbols,jTe=Object.prototype.hasOwnProperty,WTe=Object.prototype.propertyIsEnumerable,F5=(r,e,t)=>e in r?HTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,M5=(r,e)=>{for(var t in e||(e={}))jTe.call(e,t)&&F5(r,t,e[t]);if(I5)for(var t of I5(e))WTe.call(e,t)&&F5(r,t,e[t]);return r},UTe=(r,e)=>$Te(r,BTe(e)),zTe=Xe(r=>({root:UTe(M5(M5({},r.fn.focusStyles()),r.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:r.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,textDecoration:"none",boxSizing:"border-box"})})),KTe=Object.defineProperty,yO=Object.getOwnPropertySymbols,Dte=Object.prototype.hasOwnProperty,Ate=Object.prototype.propertyIsEnumerable,L5=(r,e,t)=>e in r?KTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,YTe=(r,e)=>{for(var t in e)Dte.call(e,t)&&L5(r,t,e[t]);if(yO)for(var t of yO(e))Ate.call(e,t)&&L5(r,t,e[t]);return r},qTe=(r,e)=>{var t={};for(var n in r)Dte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&yO)for(var n of yO(r))e.indexOf(n)<0&&Ate.call(r,n)&&(t[n]=r[n]);return t};const xte=S.forwardRef((r,e)=>{const t=Ve("UnstyledButton",{},r),{className:n,component:i="button",unstyled:o,variant:s}=t,a=qTe(t,["className","component","unstyled","variant"]),{classes:l,cx:u}=zTe(null,{name:"UnstyledButton",unstyled:o,variant:s});return N.createElement(it,YTe({component:i,ref:e,className:u(l.root,n),type:i==="button"?"button":void 0},a))});xte.displayName="@mantine/core/UnstyledButton";const D$=xte;var QTe=Object.defineProperty,XTe=Object.defineProperties,JTe=Object.getOwnPropertyDescriptors,CO=Object.getOwnPropertySymbols,Ite=Object.prototype.hasOwnProperty,Fte=Object.prototype.propertyIsEnumerable,N5=(r,e,t)=>e in r?QTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yf=(r,e)=>{for(var t in e||(e={}))Ite.call(e,t)&&N5(r,t,e[t]);if(CO)for(var t of CO(e))Fte.call(e,t)&&N5(r,t,e[t]);return r},c0=(r,e)=>XTe(r,JTe(e)),ZTe=(r,e)=>{var t={};for(var n in r)Ite.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&CO)for(var n of CO(r))e.indexOf(n)<0&&Fte.call(r,n)&&(t[n]=r[n]);return t};function ePe(r){if(!r||typeof r=="string")return 0;const e=r/36;return Math.round((4+15*e**.25+e/5)*10)}function d0(r){return r!=null&&r.current?r.current.scrollHeight:"auto"}const ab=typeof window<"u"&&window.requestAnimationFrame;function tPe({transitionDuration:r,transitionTimingFunction:e="ease",onTransitionEnd:t=()=>{},opened:n}){const i=S.useRef(null),o=0,s={display:"none",height:0,overflow:"hidden"},[a,l]=S.useState(n?{}:s),u=p=>{Al.flushSync(()=>l(p))},c=p=>{u(g=>yf(yf({},g),p))};function d(p){return{transition:`height ${r||ePe(p)}ms ${e}`}}Fa(()=>{ab(n?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),ab(()=>{const p=d0(i);c(c0(yf({},d(p)),{height:p}))})}:()=>{const p=d0(i);c(c0(yf({},d(p)),{willChange:"height",height:p})),ab(()=>c({height:o,overflow:"hidden"}))})},[n]);const h=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(n){const g=d0(i);g===a.height?u({}):c({height:g}),t()}else a.height===o&&(u(s),t())};function f(p={}){var g=p,{style:C={},refKey:m="ref"}=g,y=ZTe(g,["style","refKey"]);const w=y[m];return c0(yf({"aria-hidden":!n},y),{[m]:bte(i,w),onTransitionEnd:h,style:yf(yf({boxSizing:"border-box"},C),a)})}return f}var nPe=Object.defineProperty,wO=Object.getOwnPropertySymbols,Mte=Object.prototype.hasOwnProperty,Lte=Object.prototype.propertyIsEnumerable,G5=(r,e,t)=>e in r?nPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lb=(r,e)=>{for(var t in e||(e={}))Mte.call(e,t)&&G5(r,t,e[t]);if(wO)for(var t of wO(e))Lte.call(e,t)&&G5(r,t,e[t]);return r},rPe=(r,e)=>{var t={};for(var n in r)Mte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&wO)for(var n of wO(r))e.indexOf(n)<0&&Lte.call(r,n)&&(t[n]=r[n]);return t};const iPe={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},oPe=S.forwardRef((r,e)=>{const t=Ve("Collapse",iPe,r),{children:n,in:i,transitionDuration:o,transitionTimingFunction:s,style:a,onTransitionEnd:l,animateOpacity:u}=t,c=rPe(t,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),d=cs(),h=QE(),p=(d.respectReducedMotion?h:!1)?0:o,{systemStyles:g,rest:C}=ay(c),m=tPe({opened:i,transitionDuration:p,transitionTimingFunction:s,onTransitionEnd:l});return p===0?i?N.createElement(it,lb({},C),n):null:N.createElement(it,lb({},m(lb(lb({style:a,ref:e},C),g))),N.createElement("div",{style:{opacity:i||!u?1:0,transition:u?`opacity ${p}ms ${s}`:"none"}},n))});oPe.displayName="@mantine/core/Collapse";var sPe=Object.defineProperty,aPe=Object.defineProperties,lPe=Object.getOwnPropertyDescriptors,V5=Object.getOwnPropertySymbols,uPe=Object.prototype.hasOwnProperty,cPe=Object.prototype.propertyIsEnumerable,k5=(r,e,t)=>e in r?sPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B1=(r,e)=>{for(var t in e||(e={}))uPe.call(e,t)&&k5(r,t,e[t]);if(V5)for(var t of V5(e))cPe.call(e,t)&&k5(r,t,e[t]);return r},H5=(r,e)=>aPe(r,lPe(e));const dPe=["subtle","filled","outline","light","default","transparent","gradient"],ub={xs:U(18),sm:U(22),md:U(28),lg:U(34),xl:U(44)};function hPe({variant:r,theme:e,color:t,gradient:n}){const i=e.fn.variant({color:t,variant:r,gradient:n});return r==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":e.fn.hover({backgroundSize:"200%"})}:dPe.includes(r)?B1({border:`${U(1)} solid ${i.border}`,backgroundColor:i.background,color:i.color},e.fn.hover({backgroundColor:i.hover})):null}var fPe=Xe((r,{radius:e,color:t,gradient:n},{variant:i,size:o})=>({root:H5(B1({position:"relative",borderRadius:r.fn.radius(e),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:Oe({size:o,sizes:ub}),minHeight:Oe({size:o,sizes:ub}),width:Oe({size:o,sizes:ub}),minWidth:Oe({size:o,sizes:ub})},hPe({variant:i,theme:r,color:t,gradient:n})),{"&:active":r.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:r.colors.gray[r.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:r.fn.themeColor("gray",r.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:r.fn.themeColor("gray",r.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":H5(B1({content:'""'},r.fn.cover(U(-1))),{backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:r.fn.radius(e),cursor:"not-allowed"})}})})),pPe=Object.defineProperty,SO=Object.getOwnPropertySymbols,Nte=Object.prototype.hasOwnProperty,Gte=Object.prototype.propertyIsEnumerable,$5=(r,e,t)=>e in r?pPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B5=(r,e)=>{for(var t in e||(e={}))Nte.call(e,t)&&$5(r,t,e[t]);if(SO)for(var t of SO(e))Gte.call(e,t)&&$5(r,t,e[t]);return r},j5=(r,e)=>{var t={};for(var n in r)Nte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&SO)for(var n of SO(r))e.indexOf(n)<0&&Gte.call(r,n)&&(t[n]=r[n]);return t};function gPe(r){var e=r,{size:t,color:n}=e,i=j5(e,["size","color"]);const o=i,{style:s}=o,a=j5(o,["style"]);return N.createElement("svg",B5({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:n,style:B5({width:t},s)},a),N.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},N.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var mPe=Object.defineProperty,EO=Object.getOwnPropertySymbols,Vte=Object.prototype.hasOwnProperty,kte=Object.prototype.propertyIsEnumerable,W5=(r,e,t)=>e in r?mPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,U5=(r,e)=>{for(var t in e||(e={}))Vte.call(e,t)&&W5(r,t,e[t]);if(EO)for(var t of EO(e))kte.call(e,t)&&W5(r,t,e[t]);return r},z5=(r,e)=>{var t={};for(var n in r)Vte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&EO)for(var n of EO(r))e.indexOf(n)<0&&kte.call(r,n)&&(t[n]=r[n]);return t};function vPe(r){var e=r,{size:t,color:n}=e,i=z5(e,["size","color"]);const o=i,{style:s}=o,a=z5(o,["style"]);return N.createElement("svg",U5({viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n,style:U5({width:t,height:t},s)},a),N.createElement("g",{fill:"none",fillRule:"evenodd"},N.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},N.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),N.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},N.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var yPe=Object.defineProperty,_O=Object.getOwnPropertySymbols,Hte=Object.prototype.hasOwnProperty,$te=Object.prototype.propertyIsEnumerable,K5=(r,e,t)=>e in r?yPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Y5=(r,e)=>{for(var t in e||(e={}))Hte.call(e,t)&&K5(r,t,e[t]);if(_O)for(var t of _O(e))$te.call(e,t)&&K5(r,t,e[t]);return r},q5=(r,e)=>{var t={};for(var n in r)Hte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&_O)for(var n of _O(r))e.indexOf(n)<0&&$te.call(r,n)&&(t[n]=r[n]);return t};function CPe(r){var e=r,{size:t,color:n}=e,i=q5(e,["size","color"]);const o=i,{style:s}=o,a=q5(o,["style"]);return N.createElement("svg",Y5({viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:n,style:Y5({width:t},s)},a),N.createElement("circle",{cx:"15",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},N.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),N.createElement("circle",{cx:"105",cy:"15",r:"15"},N.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),N.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var wPe=Object.defineProperty,RO=Object.getOwnPropertySymbols,Bte=Object.prototype.hasOwnProperty,jte=Object.prototype.propertyIsEnumerable,Q5=(r,e,t)=>e in r?wPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SPe=(r,e)=>{for(var t in e)Bte.call(e,t)&&Q5(r,t,e[t]);if(RO)for(var t of RO(e))jte.call(e,t)&&Q5(r,t,e[t]);return r},EPe=(r,e)=>{var t={};for(var n in r)Bte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&RO)for(var n of RO(r))e.indexOf(n)<0&&jte.call(r,n)&&(t[n]=r[n]);return t};const h0={bars:gPe,oval:vPe,dots:CPe},_Pe={xs:U(18),sm:U(22),md:U(36),lg:U(44),xl:U(58)},RPe={size:"md"};function XE(r){const e=Ve("Loader",RPe,r),{size:t,color:n,variant:i}=e,o=EPe(e,["size","color","variant"]),s=cs(),a=i in h0?i:s.loader;return N.createElement(it,SPe({role:"presentation",component:h0[a]||h0.bars,size:Oe({size:t,sizes:_Pe}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:n||s.primaryColor}).background},o))}XE.displayName="@mantine/core/Loader";var bPe=Object.defineProperty,bO=Object.getOwnPropertySymbols,Wte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,X5=(r,e,t)=>e in r?bPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J5=(r,e)=>{for(var t in e||(e={}))Wte.call(e,t)&&X5(r,t,e[t]);if(bO)for(var t of bO(e))Ute.call(e,t)&&X5(r,t,e[t]);return r},TPe=(r,e)=>{var t={};for(var n in r)Wte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&bO)for(var n of bO(r))e.indexOf(n)<0&&Ute.call(r,n)&&(t[n]=r[n]);return t};const PPe={color:"gray",size:"md",variant:"subtle"},zte=S.forwardRef((r,e)=>{const t=Ve("ActionIcon",PPe,r),{className:n,color:i,children:o,radius:s,size:a,variant:l,gradient:u,disabled:c,loaderProps:d,loading:h,unstyled:f,__staticSelector:p}=t,g=TPe(t,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:C,cx:m,theme:y}=fPe({radius:s,color:i,gradient:u},{name:["ActionIcon",p],unstyled:f,size:a,variant:l}),w=N.createElement(XE,J5({color:y.fn.variant({color:i,variant:l}).color,size:"100%","data-action-icon-loader":!0},d));return N.createElement(D$,J5({className:m(C.root,n),ref:e,disabled:c,"data-disabled":c||void 0,"data-loading":h||void 0,unstyled:f},g),h?w:o)});zte.displayName="@mantine/core/ActionIcon";const OPe=zte;var DPe=Object.defineProperty,APe=Object.defineProperties,xPe=Object.getOwnPropertyDescriptors,TO=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Yte=Object.prototype.propertyIsEnumerable,Z5=(r,e,t)=>e in r?DPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,IPe=(r,e)=>{for(var t in e)Kte.call(e,t)&&Z5(r,t,e[t]);if(TO)for(var t of TO(e))Yte.call(e,t)&&Z5(r,t,e[t]);return r},FPe=(r,e)=>APe(r,xPe(e)),MPe=(r,e)=>{var t={};for(var n in r)Kte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&TO)for(var n of TO(r))e.indexOf(n)<0&&Yte.call(r,n)&&(t[n]=r[n]);return t};function A$(r){const e=Ve("Portal",{},r),{children:t,target:n,className:i,innerRef:o}=e,s=MPe(e,["children","target","className","innerRef"]),a=cs(),[l,u]=S.useState(!1),c=S.useRef();return Cte(()=>(u(!0),c.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(c.current),()=>{!n&&document.body.removeChild(c.current)}),[n]),l?Al.createPortal(N.createElement("div",FPe(IPe({className:i,dir:a.dir},s),{ref:o}),t),c.current):null}A$.displayName="@mantine/core/Portal";var LPe=Object.defineProperty,PO=Object.getOwnPropertySymbols,qte=Object.prototype.hasOwnProperty,Qte=Object.prototype.propertyIsEnumerable,e4=(r,e,t)=>e in r?LPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,NPe=(r,e)=>{for(var t in e)qte.call(e,t)&&e4(r,t,e[t]);if(PO)for(var t of PO(e))Qte.call(e,t)&&e4(r,t,e[t]);return r},GPe=(r,e)=>{var t={};for(var n in r)qte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&PO)for(var n of PO(r))e.indexOf(n)<0&&Qte.call(r,n)&&(t[n]=r[n]);return t};function ly(r){var e=r,{withinPortal:t=!0,children:n}=e,i=GPe(e,["withinPortal","children"]);return t?N.createElement(A$,NPe({},i),n):N.createElement(N.Fragment,null,n)}ly.displayName="@mantine/core/OptionalPortal";var VPe=Object.defineProperty,kPe=Object.defineProperties,HPe=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,$Pe=Object.prototype.hasOwnProperty,BPe=Object.prototype.propertyIsEnumerable,n4=(r,e,t)=>e in r?VPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,f0=(r,e)=>{for(var t in e||(e={}))$Pe.call(e,t)&&n4(r,t,e[t]);if(t4)for(var t of t4(e))BPe.call(e,t)&&n4(r,t,e[t]);return r},r4=(r,e)=>kPe(r,HPe(e));function jPe({variant:r,color:e,theme:t}){if(r==="filled")return{backgroundColor:t.fn.variant({variant:"filled",color:e}).background,color:t.white};if(r==="outline"){const n=t.fn.variant({variant:"outline",color:e});return{color:n.color,borderColor:n.border,backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.white}}if(r==="light"){const n=t.fn.variant({variant:"light",color:e});return{backgroundColor:n.background,color:n.color}}return null}var WPe=Xe((r,{radius:e,color:t},{variant:n})=>({root:f0(r4(f0({},r.fn.fontStyles()),{position:"relative",overflow:"hidden",paddingTop:r.spacing.sm,paddingBottom:r.spacing.sm,paddingLeft:r.spacing.md,paddingRight:r.spacing.sm,borderRadius:r.fn.radius(e),border:`${U(1)} solid transparent`}),jPe({variant:n,color:t,theme:r})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:r.spacing.xs,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:r.lineHeight,fontSize:r.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:r.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:U(20),height:U(20),display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:r.spacing.md,marginTop:1},message:r4(f0({},r.fn.fontStyles()),{lineHeight:r.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:r.fontSizes.sm,color:n==="filled"?r.white:r.colorScheme==="dark"?n==="light"?r.white:r.colors.dark[0]:r.black}),closeButton:{width:U(10),height:U(10),color:n==="filled"?r.white:r.colorScheme==="dark"?n==="light"?r.white:r.colors.dark[0]:r.black}})),UPe=Object.defineProperty,OO=Object.getOwnPropertySymbols,Xte=Object.prototype.hasOwnProperty,Jte=Object.prototype.propertyIsEnumerable,i4=(r,e,t)=>e in r?UPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,o4=(r,e)=>{for(var t in e||(e={}))Xte.call(e,t)&&i4(r,t,e[t]);if(OO)for(var t of OO(e))Jte.call(e,t)&&i4(r,t,e[t]);return r},zPe=(r,e)=>{var t={};for(var n in r)Xte.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&OO)for(var n of OO(r))e.indexOf(n)<0&&Jte.call(r,n)&&(t[n]=r[n]);return t};function Zte(r){const e=r,{width:t,height:n,style:i}=e,o=zPe(e,["width","height","style"]);return N.createElement("svg",o4({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o4({width:t,height:n},i)},o),N.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Zte.displayName="@mantine/core/CloseIcon";var KPe=Object.defineProperty,DO=Object.getOwnPropertySymbols,ene=Object.prototype.hasOwnProperty,tne=Object.prototype.propertyIsEnumerable,s4=(r,e,t)=>e in r?KPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,YPe=(r,e)=>{for(var t in e)ene.call(e,t)&&s4(r,t,e[t]);if(DO)for(var t of DO(e))tne.call(e,t)&&s4(r,t,e[t]);return r},qPe=(r,e)=>{var t={};for(var n in r)ene.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&DO)for(var n of DO(r))e.indexOf(n)<0&&tne.call(r,n)&&(t[n]=r[n]);return t};const QPe={xs:U(12),sm:U(16),md:U(20),lg:U(28),xl:U(34)},XPe={size:"sm"},nne=S.forwardRef((r,e)=>{const t=Ve("CloseButton",XPe,r),{iconSize:n,size:i,children:o}=t,s=qPe(t,["iconSize","size","children"]),a=U(n||QPe[i]);return N.createElement(OPe,YPe({ref:e,__staticSelector:"CloseButton",size:i},s),o||N.createElement(Zte,{width:a,height:a}))});nne.displayName="@mantine/core/CloseButton";const UI=nne;var JPe=Object.defineProperty,AO=Object.getOwnPropertySymbols,rne=Object.prototype.hasOwnProperty,ine=Object.prototype.propertyIsEnumerable,a4=(r,e,t)=>e in r?JPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ZPe=(r,e)=>{for(var t in e)rne.call(e,t)&&a4(r,t,e[t]);if(AO)for(var t of AO(e))ine.call(e,t)&&a4(r,t,e[t]);return r},eOe=(r,e)=>{var t={};for(var n in r)rne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&AO)for(var n of AO(r))e.indexOf(n)<0&&ine.call(r,n)&&(t[n]=r[n]);return t};const tOe={variant:"light"},nOe=S.forwardRef((r,e)=>{const t=Ve("Alert",tOe,r),{id:n,className:i,title:o,variant:s,children:a,color:l,classNames:u,icon:c,styles:d,onClose:h,radius:f,withCloseButton:p,closeButtonLabel:g,unstyled:C}=t,m=eOe(t,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:y,cx:w}=WPe({color:l,radius:f},{classNames:u,styles:d,unstyled:C,variant:s,name:"Alert"}),E=Uh(n),P=o&&`${E}-title`,T=`${E}-body`;return N.createElement(it,ZPe({id:E,role:"alert","aria-labelledby":P,"aria-describedby":T,className:w(y.root,y[s],i),ref:e},m),N.createElement("div",{className:y.wrapper},c&&N.createElement("div",{className:y.icon},c),N.createElement("div",{className:y.body},o&&N.createElement("div",{className:y.title,"data-with-close-button":p||void 0},N.createElement("span",{id:P,className:y.label},o)),N.createElement("div",{id:T,className:y.message},a)),p&&N.createElement(UI,{className:y.closeButton,onClick:h,variant:"transparent",size:16,iconSize:16,"aria-label":g})))});nOe.displayName="@mantine/core/Alert";var rOe=Object.defineProperty,iOe=Object.defineProperties,oOe=Object.getOwnPropertyDescriptors,l4=Object.getOwnPropertySymbols,sOe=Object.prototype.hasOwnProperty,aOe=Object.prototype.propertyIsEnumerable,u4=(r,e,t)=>e in r?rOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cb=(r,e)=>{for(var t in e||(e={}))sOe.call(e,t)&&u4(r,t,e[t]);if(l4)for(var t of l4(e))aOe.call(e,t)&&u4(r,t,e[t]);return r},lOe=(r,e)=>iOe(r,oOe(e));function uOe({underline:r,strikethrough:e}){const t=[];return r&&t.push("underline"),e&&t.push("line-through"),t.length>0?t.join(" "):"none"}function cOe({theme:r,color:e}){return e==="dimmed"?r.fn.dimmed():typeof e=="string"&&(e in r.colors||e.split(".")[0]in r.colors)?r.fn.variant({variant:"filled",color:e}).background:e||"inherit"}function dOe(r){return typeof r=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:r,WebkitBoxOrient:"vertical"}:null}function hOe({theme:r,truncate:e}){return e==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:r.dir==="ltr"?"rtl":"ltr",textAlign:r.dir==="ltr"?"right":"left"}:e?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var fOe=Xe((r,{color:e,lineClamp:t,truncate:n,inline:i,inherit:o,underline:s,gradient:a,weight:l,transform:u,align:c,strikethrough:d,italic:h},{size:f})=>{const p=r.fn.variant({variant:"gradient",gradient:a});return{root:lOe(cb(cb(cb(cb({},r.fn.fontStyles()),r.fn.focusStyles()),dOe(t)),hOe({theme:r,truncate:n})),{color:cOe({color:e,theme:r}),fontFamily:o?"inherit":r.fontFamily,fontSize:o||f===void 0?"inherit":Oe({size:f,sizes:r.fontSizes}),lineHeight:o?"inherit":i?1:r.lineHeight,textDecoration:uOe({underline:s,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:u,textAlign:c,fontStyle:h?"italic":void 0}),gradient:{backgroundImage:p.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),pOe=Object.defineProperty,xO=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,sne=Object.prototype.propertyIsEnumerable,c4=(r,e,t)=>e in r?pOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gOe=(r,e)=>{for(var t in e)one.call(e,t)&&c4(r,t,e[t]);if(xO)for(var t of xO(e))sne.call(e,t)&&c4(r,t,e[t]);return r},mOe=(r,e)=>{var t={};for(var n in r)one.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&xO)for(var n of xO(r))e.indexOf(n)<0&&sne.call(r,n)&&(t[n]=r[n]);return t};const vOe={variant:"text"},ane=S.forwardRef((r,e)=>{const t=Ve("Text",vOe,r),{className:n,size:i,weight:o,transform:s,color:a,align:l,variant:u,lineClamp:c,truncate:d,gradient:h,inline:f,inherit:p,underline:g,strikethrough:C,italic:m,classNames:y,styles:w,unstyled:E,span:P,__staticSelector:T}=t,R=mOe(t,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:_,cx:b}=fOe({color:a,lineClamp:c,truncate:d,inline:f,inherit:p,underline:g,strikethrough:C,italic:m,weight:o,transform:s,align:l,gradient:h},{unstyled:E,name:T||"Text",variant:u,size:i});return N.createElement(it,gOe({ref:e,className:b(_.root,{[_.gradient]:u==="gradient"},n),component:P?"span":"div"},R))});ane.displayName="@mantine/core/Text";const xu=ane,lne=S.createContext({zIndex:1e3,fixed:!1,layout:"default"}),yOe=lne.Provider;function une(){return S.useContext(lne)}function zI(r,e){if(!r)return[];const t=Object.keys(r).filter(n=>n!=="base").map(n=>[Oe({size:n,sizes:e.breakpoints,units:"em"}),r[n]]);return t.sort((n,i)=>yl(n[0])-yl(i[0])),t}var COe=Object.defineProperty,wOe=Object.defineProperties,SOe=Object.getOwnPropertyDescriptors,d4=Object.getOwnPropertySymbols,EOe=Object.prototype.hasOwnProperty,_Oe=Object.prototype.propertyIsEnumerable,h4=(r,e,t)=>e in r?COe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,db=(r,e)=>{for(var t in e||(e={}))EOe.call(e,t)&&h4(r,t,e[t]);if(d4)for(var t of d4(e))_Oe.call(e,t)&&h4(r,t,e[t]);return r},f4=(r,e)=>wOe(r,SOe(e)),ROe=Xe((r,{height:e,width:t,fixed:n,position:i,hiddenBreakpoint:o,zIndex:s,section:a,withBorder:l,layout:u})=>{const c=typeof t=="object"&&t!==null?zI(t,r).reduce((h,[f,p])=>(h[`@media (min-width: ${zs(f)})`]={width:U(p),minWidth:U(p)},h),{}):null,d=l?{[a==="navbar"?"borderRight":"borderLeft"]:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[2]}`}:{};return{root:f4(db(db(f4(db(db({},r.fn.fontStyles()),i),{top:u==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:s,height:e?U(e):u==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0rem) - var(--mantine-footer-height, 0rem))",width:t!=null&&t.base?U(t==null?void 0:t.base):"100%",position:n?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white}),d),c),{"&[data-hidden]":{[`@media (max-width: ${zs(yl(Oe({size:o,sizes:r.breakpoints}))-1)})`]:{display:"none"}}})}}),bOe=Object.defineProperty,IO=Object.getOwnPropertySymbols,cne=Object.prototype.hasOwnProperty,dne=Object.prototype.propertyIsEnumerable,p4=(r,e,t)=>e in r?bOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,g4=(r,e)=>{for(var t in e||(e={}))cne.call(e,t)&&p4(r,t,e[t]);if(IO)for(var t of IO(e))dne.call(e,t)&&p4(r,t,e[t]);return r},TOe=(r,e)=>{var t={};for(var n in r)cne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&IO)for(var n of IO(r))e.indexOf(n)<0&&dne.call(r,n)&&(t[n]=r[n]);return t};const hne=S.forwardRef((r,e)=>{var t=r,{width:n,height:i,fixed:o=!1,position:s,zIndex:a,hiddenBreakpoint:l="md",hidden:u=!1,withBorder:c=!0,className:d,classNames:h,styles:f,children:p,section:g,__staticSelector:C,unstyled:m,variant:y}=t,w=TOe(t,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled","variant"]);const E=une(),{classes:P,cx:T,theme:R}=ROe({width:n,height:i,fixed:E.fixed||o,position:s,hiddenBreakpoint:l,zIndex:a||E.zIndex||xl("app"),section:g,withBorder:c,layout:E.layout},{classNames:h,styles:f,name:C,unstyled:m,variant:y}),_=zI(n,R).reduce((b,[D,M])=>(b[`@media (min-width: ${zs(D)})`]={[`--mantine-${g}-width`]:U(M)},b),{});return N.createElement(it,g4({component:g==="navbar"?"nav":"aside",ref:e,"data-hidden":u||void 0,className:T(P.root,d)},w),p,N.createElement(yte,{styles:()=>({":root":g4({[`--mantine-${g}-width`]:n!=null&&n.base?U(n.base):"0rem"},_)})}))});hne.displayName="@mantine/core/HorizontalSection";var POe=Object.defineProperty,FO=Object.getOwnPropertySymbols,fne=Object.prototype.hasOwnProperty,pne=Object.prototype.propertyIsEnumerable,m4=(r,e,t)=>e in r?POe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,OOe=(r,e)=>{for(var t in e)fne.call(e,t)&&m4(r,t,e[t]);if(FO)for(var t of FO(e))pne.call(e,t)&&m4(r,t,e[t]);return r},DOe=(r,e)=>{var t={};for(var n in r)fne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&FO)for(var n of FO(r))e.indexOf(n)<0&&pne.call(r,n)&&(t[n]=r[n]);return t};const gne=S.forwardRef((r,e)=>{var t=r,{children:n,grow:i=!1,sx:o}=t,s=DOe(t,["children","grow","sx"]);return N.createElement(it,OOe({ref:e,sx:[{flex:i?1:0,boxSizing:"border-box"},...AI(o)]},s),n)});gne.displayName="@mantine/core/Section";const AOe=gne;var xOe=Object.defineProperty,v4=Object.getOwnPropertySymbols,IOe=Object.prototype.hasOwnProperty,FOe=Object.prototype.propertyIsEnumerable,y4=(r,e,t)=>e in r?xOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,MOe=(r,e)=>{for(var t in e||(e={}))IOe.call(e,t)&&y4(r,t,e[t]);if(v4)for(var t of v4(e))FOe.call(e,t)&&y4(r,t,e[t]);return r};const LOe={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},mne=S.forwardRef((r,e)=>{const t=Ve("Navbar",LOe,r);return N.createElement(hne,MOe({section:"navbar",__staticSelector:"Navbar",ref:e},t))});mne.Section=AOe;mne.displayName="@mantine/core/Navbar";var NOe=Object.defineProperty,GOe=Object.defineProperties,VOe=Object.getOwnPropertyDescriptors,C4=Object.getOwnPropertySymbols,kOe=Object.prototype.hasOwnProperty,HOe=Object.prototype.propertyIsEnumerable,w4=(r,e,t)=>e in r?NOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p0=(r,e)=>{for(var t in e||(e={}))kOe.call(e,t)&&w4(r,t,e[t]);if(C4)for(var t of C4(e))HOe.call(e,t)&&w4(r,t,e[t]);return r},S4=(r,e)=>GOe(r,VOe(e)),$Oe=Xe((r,{height:e,fixed:t,position:n,zIndex:i,borderPosition:o,layout:s})=>{const a=typeof e=="object"&&e!==null?zI(e,r).reduce((l,[u,c])=>(l[`@media (min-width: ${zs(u)})`]={height:U(c),minHeight:U(c)},l),{}):null;return{root:S4(p0(S4(p0(p0({},r.fn.fontStyles()),n),{zIndex:i,left:s==="alt"?"var(--mantine-navbar-width, 0)":0,right:s==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof e=="object"?U(e==null?void 0:e.base)||"100%":U(e),maxHeight:typeof e=="object"?U(e==null?void 0:e.base)||"100%":U(e),position:t?"fixed":"static",boxSizing:"border-box",backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white}),a),{borderBottom:o==="bottom"?`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[2]}`:void 0,borderTop:o==="top"?`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[2]}`:void 0})}}),BOe=Object.defineProperty,MO=Object.getOwnPropertySymbols,vne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,E4=(r,e,t)=>e in r?BOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_4=(r,e)=>{for(var t in e||(e={}))vne.call(e,t)&&E4(r,t,e[t]);if(MO)for(var t of MO(e))yne.call(e,t)&&E4(r,t,e[t]);return r},jOe=(r,e)=>{var t={};for(var n in r)vne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&MO)for(var n of MO(r))e.indexOf(n)<0&&yne.call(r,n)&&(t[n]=r[n]);return t};const Cne=S.forwardRef((r,e)=>{var t=r,{children:n,className:i,classNames:o,styles:s,height:a,fixed:l=!1,withBorder:u=!0,position:c,zIndex:d,section:h,unstyled:f,__staticSelector:p,variant:g}=t,C=jOe(t,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector","variant"]);const m=une(),y=d||m.zIndex||xl("app"),{classes:w,cx:E,theme:P}=$Oe({height:a,fixed:m.fixed||l,position:c,zIndex:typeof y=="number"&&m.layout==="default"?y+1:y,layout:m.layout,borderPosition:u?h==="header"?"bottom":"top":"none"},{name:p,classNames:o,styles:s,unstyled:f,variant:g}),T=typeof a=="object"&&a!==null?zI(a,P).reduce((R,[_,b])=>(R[`@media (min-width: ${zs(_)})`]={[`--mantine-${h}-height`]:U(b)},R),{}):null;return N.createElement(it,_4({component:h==="header"?"header":"footer",className:E(w.root,i),ref:e},C),n,N.createElement(yte,{styles:()=>({":root":_4({[`--mantine-${h}-height`]:typeof a=="object"?U(a==null?void 0:a.base)||"100%":U(a)},T)})}))});Cne.displayName="@mantine/core/VerticalSection";var WOe=Object.defineProperty,UOe=Object.defineProperties,zOe=Object.getOwnPropertyDescriptors,R4=Object.getOwnPropertySymbols,KOe=Object.prototype.hasOwnProperty,YOe=Object.prototype.propertyIsEnumerable,b4=(r,e,t)=>e in r?WOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qOe=(r,e)=>{for(var t in e||(e={}))KOe.call(e,t)&&b4(r,t,e[t]);if(R4)for(var t of R4(e))YOe.call(e,t)&&b4(r,t,e[t]);return r},QOe=(r,e)=>UOe(r,zOe(e));const XOe={fixed:!1,position:{top:0,left:0,right:0}},JOe=S.forwardRef((r,e)=>{const t=Ve("Header",XOe,r);return N.createElement(Cne,QOe(qOe({section:"header",__staticSelector:"Header"},t),{ref:e}))});JOe.displayName="@mantine/core/Header";var ZOe=Object.defineProperty,T4=Object.getOwnPropertySymbols,eDe=Object.prototype.hasOwnProperty,tDe=Object.prototype.propertyIsEnumerable,P4=(r,e,t)=>e in r?ZOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wne=(r,e)=>{for(var t in e||(e={}))eDe.call(e,t)&&P4(r,t,e[t]);if(T4)for(var t of T4(e))tDe.call(e,t)&&P4(r,t,e[t]);return r};function nDe(r,e){const t=Oe({size:r.padding,sizes:e.spacing}),n=r.navbarOffsetBreakpoint?Oe({size:r.navbarOffsetBreakpoint,sizes:e.breakpoints}):null,i=r.asideOffsetBreakpoint?Oe({size:r.asideOffsetBreakpoint,sizes:e.breakpoints}):null;if(!r.fixed)return{padding:t};const o=yl(n),s=yl(i);return wne({minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${t})`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${t})`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${t})`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${t})`},o===s?{[`@media (max-width: ${zs(o-1)})`]:{paddingLeft:t,paddingRight:t}}:{[`@media (max-width: ${zs(o-1)})`]:{paddingLeft:t},[`@media (max-width: ${zs(s-1)})`]:{paddingRight:t}})}var rDe=Xe((r,e)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:wne({flex:1,width:"100vw",boxSizing:"border-box"},nDe(e,r))})),iDe=Object.defineProperty,LO=Object.getOwnPropertySymbols,Sne=Object.prototype.hasOwnProperty,Ene=Object.prototype.propertyIsEnumerable,O4=(r,e,t)=>e in r?iDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oDe=(r,e)=>{for(var t in e)Sne.call(e,t)&&O4(r,t,e[t]);if(LO)for(var t of LO(e))Ene.call(e,t)&&O4(r,t,e[t]);return r},sDe=(r,e)=>{var t={};for(var n in r)Sne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&LO)for(var n of LO(r))e.indexOf(n)<0&&Ene.call(r,n)&&(t[n]=r[n]);return t};const aDe={fixed:!0,padding:"md"},lDe=S.forwardRef((r,e)=>{const t=Ve("AppShell",aDe,r),{children:n,navbar:i,header:o,footer:s,aside:a,fixed:l,zIndex:u,padding:c,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:h,className:f,styles:p,classNames:g,unstyled:C,hidden:m,layout:y,variant:w}=t,E=sDe(t,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout","variant"]),{classes:P,cx:T}=rDe({padding:c,fixed:l,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:h},{styles:p,classNames:g,unstyled:C,name:"AppShell",variant:w});return m?N.createElement(N.Fragment,null,n):N.createElement(yOe,{value:{fixed:l,zIndex:u,layout:y}},N.createElement(it,oDe({className:T(P.root,f),ref:e},E),o,N.createElement("div",{className:P.body},i,N.createElement("main",{className:P.main},n),a),s))});lDe.displayName="@mantine/core/AppShell";const hb={xs:U(1),sm:U(2),md:U(3),lg:U(4),xl:U(5)};function fb(r,e){const t=r.fn.variant({variant:"outline",color:e}).border;return typeof e=="string"&&(e in r.colors||e.split(".")[0]in r.colors)?t:e===void 0?r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4]:e}var uDe=Xe((r,{color:e},{size:t,variant:n})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:U(1),borderTop:`${Oe({size:t,sizes:hb})} ${n} ${fb(r,e)}`,marginRight:r.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${Oe({size:t,sizes:hb})} ${n} ${fb(r,e)}`,marginLeft:r.spacing.xs}},labelDefaultStyles:{color:e==="dark"?r.colors.dark[1]:r.fn.themeColor(e,r.colorScheme==="dark"?5:r.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:U(Oe({size:t,sizes:hb})),borderTopColor:fb(r,e),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:U(Oe({size:t,sizes:hb})),borderLeftColor:fb(r,e),borderLeftStyle:n}})),cDe=Object.defineProperty,dDe=Object.defineProperties,hDe=Object.getOwnPropertyDescriptors,NO=Object.getOwnPropertySymbols,_ne=Object.prototype.hasOwnProperty,Rne=Object.prototype.propertyIsEnumerable,D4=(r,e,t)=>e in r?cDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A4=(r,e)=>{for(var t in e||(e={}))_ne.call(e,t)&&D4(r,t,e[t]);if(NO)for(var t of NO(e))Rne.call(e,t)&&D4(r,t,e[t]);return r},fDe=(r,e)=>dDe(r,hDe(e)),pDe=(r,e)=>{var t={};for(var n in r)_ne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&NO)for(var n of NO(r))e.indexOf(n)<0&&Rne.call(r,n)&&(t[n]=r[n]);return t};const gDe={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},j1=S.forwardRef((r,e)=>{const t=Ve("Divider",gDe,r),{className:n,color:i,orientation:o,size:s,label:a,labelPosition:l,labelProps:u,variant:c,styles:d,classNames:h,unstyled:f}=t,p=pDe(t,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:C}=uDe({color:i},{classNames:h,styles:d,unstyled:f,name:"Divider",variant:c,size:s}),m=o==="vertical",y=o==="horizontal",w=!!a&&y,E=!(u!=null&&u.color);return N.createElement(it,A4({ref:e,className:C(g.root,{[g.vertical]:m,[g.horizontal]:y,[g.withLabel]:w},n),role:"separator"},p),w&&N.createElement(xu,fDe(A4({},u),{size:(u==null?void 0:u.size)||"xs",mt:U(2),className:C(g.label,g[l],{[g.labelDefaultStyles]:E})}),a))});j1.displayName="@mantine/core/Divider";var mDe=Object.defineProperty,vDe=Object.defineProperties,yDe=Object.getOwnPropertyDescriptors,x4=Object.getOwnPropertySymbols,CDe=Object.prototype.hasOwnProperty,wDe=Object.prototype.propertyIsEnumerable,I4=(r,e,t)=>e in r?mDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,F4=(r,e)=>{for(var t in e||(e={}))CDe.call(e,t)&&I4(r,t,e[t]);if(x4)for(var t of x4(e))wDe.call(e,t)&&I4(r,t,e[t]);return r},SDe=(r,e)=>vDe(r,yDe(e)),EDe=Xe((r,e,{size:t})=>({item:SDe(F4({},r.fn.fontStyles()),{boxSizing:"border-box",wordBreak:"break-all",textAlign:"left",width:"100%",padding:`calc(${Oe({size:t,sizes:r.spacing})} / 1.5) ${Oe({size:t,sizes:r.spacing})}`,cursor:"pointer",fontSize:Oe({size:t,sizes:r.fontSizes}),color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,borderRadius:r.fn.radius(),"&[data-hovered]":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[1]},"&[data-selected]":F4({backgroundColor:r.fn.variant({variant:"filled"}).background,color:r.fn.variant({variant:"filled"}).color},r.fn.hover({backgroundColor:r.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:r.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:r.colors.gray[6],paddingTop:`calc(${Oe({size:t,sizes:r.spacing})} / 2)`,paddingBottom:`calc(${Oe({size:t,sizes:r.spacing})} / 2)`,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`calc(${Oe({size:t,sizes:r.spacing})} / 1.5) ${Oe({size:t,sizes:r.spacing})}`},separatorLabel:{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]}})),_De=Object.defineProperty,M4=Object.getOwnPropertySymbols,RDe=Object.prototype.hasOwnProperty,bDe=Object.prototype.propertyIsEnumerable,L4=(r,e,t)=>e in r?_De(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,TDe=(r,e)=>{for(var t in e||(e={}))RDe.call(e,t)&&L4(r,t,e[t]);if(M4)for(var t of M4(e))bDe.call(e,t)&&L4(r,t,e[t]);return r};function bne({data:r,hovered:e,classNames:t,styles:n,isItemSelected:i,uuid:o,__staticSelector:s,onItemHover:a,onItemSelect:l,itemsRefs:u,itemComponent:c,size:d,nothingFound:h,creatable:f,createLabel:p,unstyled:g,variant:C}){const{classes:m}=EDe(null,{classNames:t,styles:n,unstyled:g,name:s,variant:C,size:d}),y=[],w=[];let E=null;const P=(R,_)=>{const b=typeof i=="function"?i(R.value):!1;return N.createElement(c,TDe({key:R.value,className:m.item,"data-disabled":R.disabled||void 0,"data-hovered":!R.disabled&&e===_||void 0,"data-selected":!R.disabled&&b||void 0,selected:b,onMouseEnter:()=>a(_),id:`${o}-${_}`,role:"option",tabIndex:-1,"aria-selected":e===_,ref:D=>{u&&u.current&&(u.current[R.value]=D)},onMouseDown:R.disabled?null:D=>{D.preventDefault(),l(R)},disabled:R.disabled,variant:C},R))};let T=null;if(r.forEach((R,_)=>{R.creatable?E=_:R.group?(T!==R.group&&(T=R.group,w.push(N.createElement("div",{className:m.separator,key:`__mantine-divider-${_}`},N.createElement(j1,{classNames:{label:m.separatorLabel},label:R.group})))),w.push(P(R,_))):y.push(P(R,_))}),f){const R=r[E];y.push(N.createElement("div",{key:WI(),className:m.item,"data-hovered":e===E||void 0,onMouseEnter:()=>a(E),onMouseDown:_=>{_.preventDefault(),l(R)},tabIndex:-1,ref:_=>{u&&u.current&&(u.current[R.value]=_)}},p))}return w.length>0&&y.length>0&&y.unshift(N.createElement("div",{className:m.separator,key:"empty-group-separator"},N.createElement(j1,null))),w.length>0||y.length>0?N.createElement(N.Fragment,null,w,y):N.createElement(xu,{size:d,unstyled:g,className:m.nothingFound},h)}bne.displayName="@mantine/core/SelectItems";var PDe=Object.defineProperty,GO=Object.getOwnPropertySymbols,Tne=Object.prototype.hasOwnProperty,Pne=Object.prototype.propertyIsEnumerable,N4=(r,e,t)=>e in r?PDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ODe=(r,e)=>{for(var t in e)Tne.call(e,t)&&N4(r,t,e[t]);if(GO)for(var t of GO(e))Pne.call(e,t)&&N4(r,t,e[t]);return r},DDe=(r,e)=>{var t={};for(var n in r)Tne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&GO)for(var n of GO(r))e.indexOf(n)<0&&Pne.call(r,n)&&(t[n]=r[n]);return t};const One=S.forwardRef((r,e)=>{var t=r,{label:n,value:i}=t,o=DDe(t,["label","value"]);return N.createElement("div",ODe({ref:e},o),n||i)});One.displayName="@mantine/core/DefaultItem";function ADe(r,e){typeof r=="function"?r(e):r!=null&&(r.current=e)}function Dne(...r){return e=>r.forEach(t=>ADe(t,e))}function ag(...r){return S.useCallback(Dne(...r),r)}const Ane=S.forwardRef((r,e)=>{const{children:t,...n}=r,i=S.Children.toArray(t),o=i.find(IDe);if(o){const s=o.props.children,a=i.map(l=>l===o?S.Children.count(s)>1?S.Children.only(null):S.isValidElement(s)?s.props.children:null:l);return S.createElement(W1,qn({},n,{ref:e}),S.isValidElement(s)?S.cloneElement(s,void 0,a):null)}return S.createElement(W1,qn({},n,{ref:e}),t)});Ane.displayName="Slot";const W1=S.forwardRef((r,e)=>{const{children:t,...n}=r;return S.isValidElement(t)?S.cloneElement(t,{...FDe(n,t.props),ref:Dne(e,t.ref)}):S.Children.count(t)>1?S.Children.only(null):null});W1.displayName="SlotClone";const xDe=({children:r})=>S.createElement(S.Fragment,null,r);function IDe(r){return S.isValidElement(r)&&r.type===xDe}function FDe(r,e){const t={...e};for(const n in e){const i=r[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?t[n]=(...a)=>{o(...a),i(...a)}:i&&(t[n]=i):n==="style"?t[n]={...i,...o}:n==="className"&&(t[n]=[i,o].filter(Boolean).join(" "))}return{...r,...t}}const MDe=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],JE=MDe.reduce((r,e)=>{const t=S.forwardRef((n,i)=>{const{asChild:o,...s}=n,a=o?Ane:e;return S.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),S.createElement(a,qn({},s,{ref:i}))});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{}),U1=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function LDe(r,e){return S.useReducer((t,n)=>{const i=e[t][n];return i??t},r)}const ZE=r=>{const{present:e,children:t}=r,n=NDe(e),i=typeof t=="function"?t({present:n.isPresent}):S.Children.only(t),o=ag(n.ref,i.ref);return typeof t=="function"||n.isPresent?S.cloneElement(i,{ref:o}):null};ZE.displayName="Presence";function NDe(r){const[e,t]=S.useState(),n=S.useRef({}),i=S.useRef(r),o=S.useRef("none"),s=r?"mounted":"unmounted",[a,l]=LDe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=pb(n.current);o.current=a==="mounted"?u:"none"},[a]),U1(()=>{const u=n.current,c=i.current;if(c!==r){const h=o.current,f=pb(u);r?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,l]),U1(()=>{if(e){const u=d=>{const f=pb(n.current).includes(d.animationName);d.target===e&&f&&Al.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===e&&(o.current=pb(n.current))};return e.addEventListener("animationstart",c),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",c),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(u=>{u&&(n.current=getComputedStyle(u)),t(u)},[])}}function pb(r){return(r==null?void 0:r.animationName)||"none"}function GDe(r,e=[]){let t=[];function n(o,s){const a=S.createContext(s),l=t.length;t=[...t,s];function u(d){const{scope:h,children:f,...p}=d,g=(h==null?void 0:h[r][l])||a,C=S.useMemo(()=>p,Object.values(p));return S.createElement(g.Provider,{value:C},f)}function c(d,h){const f=(h==null?void 0:h[r][l])||a,p=S.useContext(f);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=t.map(s=>S.createContext(s));return function(a){const l=(a==null?void 0:a[r])||o;return S.useMemo(()=>({[`__scope${r}`]:{...a,[r]:l}}),[a,l])}};return i.scopeName=r,[n,VDe(i,...e)]}function VDe(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=n.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function Gf(r){const e=S.useRef(r);return S.useEffect(()=>{e.current=r}),S.useMemo(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}const kDe=S.createContext(void 0);function HDe(r){const e=S.useContext(kDe);return r||e||"ltr"}function $De(r,[e,t]){return Math.min(t,Math.max(e,r))}function up(r,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(r==null||r(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function BDe(r,e){return S.useReducer((t,n)=>{const i=e[t][n];return i??t},r)}const xne="ScrollArea",[Ine,cyt]=GDe(xne),[jDe,Va]=Ine(xne),WDe=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:i,scrollHideDelay:o=600,...s}=r,[a,l]=S.useState(null),[u,c]=S.useState(null),[d,h]=S.useState(null),[f,p]=S.useState(null),[g,C]=S.useState(null),[m,y]=S.useState(0),[w,E]=S.useState(0),[P,T]=S.useState(!1),[R,_]=S.useState(!1),b=ag(e,M=>l(M)),D=HDe(i);return S.createElement(jDe,{scope:t,type:n,dir:D,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:P,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:C,scrollbarYEnabled:R,onScrollbarYEnabledChange:_,onCornerWidthChange:y,onCornerHeightChange:E},S.createElement(JE.div,qn({dir:D},s,{ref:b,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":w+"px",...r.style}})))}),UDe="ScrollAreaViewport",zDe=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,children:n,...i}=r,o=Va(UDe,t),s=S.useRef(null),a=ag(e,s,o.onViewportChange);return S.createElement(S.Fragment,null,S.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),S.createElement(JE.div,qn({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...r.style}}),S.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},n)))}),Uc="ScrollAreaScrollbar",KDe=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Va(Uc,r.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=r.orientation==="horizontal";return S.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?S.createElement(YDe,qn({},n,{ref:e,forceMount:t})):i.type==="scroll"?S.createElement(qDe,qn({},n,{ref:e,forceMount:t})):i.type==="auto"?S.createElement(Fne,qn({},n,{ref:e,forceMount:t})):i.type==="always"?S.createElement(x$,qn({},n,{ref:e})):null}),YDe=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Va(Uc,r.__scopeScrollArea),[o,s]=S.useState(!1);return S.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),S.createElement(ZE,{present:t||o},S.createElement(Fne,qn({"data-state":o?"visible":"hidden"},n,{ref:e})))}),qDe=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Va(Uc,r.__scopeScrollArea),o=r.orientation==="horizontal",s=YI(()=>l("SCROLL_END"),100),[a,l]=BDe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),S.useEffect(()=>{const u=i.viewport,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const h=()=>{const f=u[c];d!==f&&(l("SCROLL"),s()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),S.createElement(ZE,{present:t||a!=="hidden"},S.createElement(x$,qn({"data-state":a==="hidden"?"hidden":"visible"},n,{ref:e,onPointerEnter:up(r.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:up(r.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),Fne=S.forwardRef((r,e)=>{const t=Va(Uc,r.__scopeScrollArea),{forceMount:n,...i}=r,[o,s]=S.useState(!1),a=r.orientation==="horizontal",l=YI(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,c=t.viewport.offsetHeight<t.viewport.scrollHeight;s(a?u:c)}},10);return yv(t.viewport,l),yv(t.content,l),S.createElement(ZE,{present:n||o},S.createElement(x$,qn({"data-state":o?"visible":"hidden"},i,{ref:e})))}),x$=S.forwardRef((r,e)=>{const{orientation:t="vertical",...n}=r,i=Va(Uc,r.__scopeScrollArea),o=S.useRef(null),s=S.useRef(0),[a,l]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Gne(a.viewport,a.content),c={...n,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,f){return rAe(h,s.current,a,f)}return t==="horizontal"?S.createElement(QDe,qn({},c,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,f=G4(h,a,i.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}})):t==="vertical"?S.createElement(XDe,qn({},c,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,f=G4(h,a);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}})):null}),QDe=S.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...i}=r,o=Va(Uc,r.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),u=ag(e,l,o.onScrollbarXChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),S.createElement(Lne,qn({"data-orientation":"horizontal"},i,{ref:u,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":KI(t)+"px",...r.style},onThumbPointerDown:c=>r.onThumbPointerDown(c.x),onDragScroll:c=>r.onDragScroll(c.x),onWheelScroll:(c,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+c.deltaX;r.onWheelScroll(h),kne(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:VO(s.paddingLeft),paddingEnd:VO(s.paddingRight)}})}}))}),XDe=S.forwardRef((r,e)=>{const{sizes:t,onSizesChange:n,...i}=r,o=Va(Uc,r.__scopeScrollArea),[s,a]=S.useState(),l=S.useRef(null),u=ag(e,l,o.onScrollbarYChange);return S.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),S.createElement(Lne,qn({"data-orientation":"vertical"},i,{ref:u,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":KI(t)+"px",...r.style},onThumbPointerDown:c=>r.onThumbPointerDown(c.y),onDragScroll:c=>r.onDragScroll(c.y),onWheelScroll:(c,d)=>{if(o.viewport){const h=o.viewport.scrollTop+c.deltaY;r.onWheelScroll(h),kne(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:VO(s.paddingTop),paddingEnd:VO(s.paddingBottom)}})}}))}),[JDe,Mne]=Ine(Uc),Lne=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...h}=r,f=Va(Uc,t),[p,g]=S.useState(null),C=ag(e,b=>g(b)),m=S.useRef(null),y=S.useRef(""),w=f.viewport,E=n.content-n.viewport,P=Gf(c),T=Gf(l),R=YI(d,10);function _(b){if(m.current){const D=b.clientX-m.current.left,M=b.clientY-m.current.top;u({x:D,y:M})}}return S.useEffect(()=>{const b=D=>{const M=D.target;(p==null?void 0:p.contains(M))&&P(D,E)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[w,p,E,P]),S.useEffect(T,[n,T]),yv(p,R),yv(f.content,R),S.createElement(JDe,{scope:t,scrollbar:p,hasThumb:i,onThumbChange:Gf(o),onThumbPointerUp:Gf(s),onThumbPositionChange:T,onThumbPointerDown:Gf(a)},S.createElement(JE.div,qn({},h,{ref:C,style:{position:"absolute",...h.style},onPointerDown:up(r.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),m.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_(b))}),onPointerMove:up(r.onPointerMove,_),onPointerUp:up(r.onPointerUp,b=>{const D=b.target;D.hasPointerCapture(b.pointerId)&&D.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=y.current,m.current=null})})))}),z1="ScrollAreaThumb",ZDe=S.forwardRef((r,e)=>{const{forceMount:t,...n}=r,i=Mne(z1,r.__scopeScrollArea);return S.createElement(ZE,{present:t||i.hasThumb},S.createElement(eAe,qn({ref:e},n)))}),eAe=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,style:n,...i}=r,o=Va(z1,t),s=Mne(z1,t),{onThumbPositionChange:a}=s,l=ag(e,d=>s.onThumbChange(d)),u=S.useRef(),c=YI(()=>{u.current&&(u.current(),u.current=void 0)},100);return S.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(c(),!u.current){const f=iAe(d,a);u.current=f,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,c,a]),S.createElement(JE.div,qn({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:up(r.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),p=d.clientX-f.left,g=d.clientY-f.top;s.onThumbPointerDown({x:p,y:g})}),onPointerUp:up(r.onPointerUp,s.onThumbPointerUp)}))}),Nne="ScrollAreaCorner",tAe=S.forwardRef((r,e)=>{const t=Va(Nne,r.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?S.createElement(nAe,qn({},r,{ref:e})):null}),nAe=S.forwardRef((r,e)=>{const{__scopeScrollArea:t,...n}=r,i=Va(Nne,t),[o,s]=S.useState(0),[a,l]=S.useState(0),u=!!(o&&a);return yv(i.scrollbarX,()=>{var c;const d=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),yv(i.scrollbarY,()=>{var c;const d=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?S.createElement(JE.div,qn({},n,{ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...r.style}})):null});function VO(r){return r?parseInt(r,10):0}function Gne(r,e){const t=r/e;return isNaN(t)?0:t}function KI(r){const e=Gne(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-t)*e;return Math.max(n,18)}function rAe(r,e,t,n="ltr"){const i=KI(t),o=i/2,s=e||o,a=i-s,l=t.scrollbar.paddingStart+s,u=t.scrollbar.size-t.scrollbar.paddingEnd-a,c=t.content-t.viewport,d=n==="ltr"?[0,c]:[c*-1,0];return Vne([l,u],d)(r)}function G4(r,e,t="ltr"){const n=KI(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-n,l=t==="ltr"?[0,s]:[s*-1,0],u=$De(r,l);return Vne([0,s],[0,a])(u)}function Vne(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function kne(r,e){return r>0&&r<e}const iAe=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},n=0;return function i(){const o={left:r.scrollLeft,top:r.scrollTop},s=t.left!==o.left,a=t.top!==o.top;(s||a)&&e(),t=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function YI(r,e){const t=Gf(r),n=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(n.current),[]),S.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function yv(r,e){const t=Gf(e);U1(()=>{let n=0;if(r){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return i.observe(r),()=>{window.cancelAnimationFrame(n),i.unobserve(r)}}},[r,t])}const oAe=WDe,sAe=zDe,V4=KDe,k4=ZDe,aAe=tAe;var lAe=Xe((r,{scrollbarSize:e,offsetScrollbars:t,scrollbarHovered:n,hidden:i})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:t?U(e):void 0,paddingBottom:t?U(e):void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${U(e)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[8]:r.colors.gray[0],[`& .${mO("thumb")}`]:{backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.white,.5):r.fn.rgba(r.black,.5)}},'&[data-orientation="vertical"]':{width:U(e)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:U(e)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:mO("thumb"),flex:1,backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.white,.4):r.fn.rgba(r.black,.4),borderRadius:U(e),position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:U(44),minHeight:U(44)}},corner:{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0],transition:"opacity 150ms ease",opacity:n?1:0,display:i?"none":void 0}})),uAe=Object.defineProperty,cAe=Object.defineProperties,dAe=Object.getOwnPropertyDescriptors,kO=Object.getOwnPropertySymbols,Hne=Object.prototype.hasOwnProperty,$ne=Object.prototype.propertyIsEnumerable,H4=(r,e,t)=>e in r?uAe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,K1=(r,e)=>{for(var t in e||(e={}))Hne.call(e,t)&&H4(r,t,e[t]);if(kO)for(var t of kO(e))$ne.call(e,t)&&H4(r,t,e[t]);return r},Bne=(r,e)=>cAe(r,dAe(e)),jne=(r,e)=>{var t={};for(var n in r)Hne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&kO)for(var n of kO(r))e.indexOf(n)<0&&$ne.call(r,n)&&(t[n]=r[n]);return t};const Wne={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},qI=S.forwardRef((r,e)=>{const t=Ve("ScrollArea",Wne,r),{children:n,className:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:f,unstyled:p,variant:g,viewportProps:C}=t,m=jne(t,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[y,w]=S.useState(!1),E=cs(),{classes:P,cx:T}=lAe({scrollbarSize:a,offsetScrollbars:d,scrollbarHovered:y,hidden:u==="never"},{name:"ScrollArea",classNames:o,styles:s,unstyled:p,variant:g});return N.createElement(oAe,{type:u==="never"?"always":u,scrollHideDelay:l,dir:c||E.dir,ref:e,asChild:!0},N.createElement(it,K1({className:T(P.root,i)},m),N.createElement(sAe,Bne(K1({},C),{className:P.viewport,ref:h,onScroll:typeof f=="function"?({currentTarget:R})=>f({x:R.scrollLeft,y:R.scrollTop}):void 0}),n),N.createElement(V4,{orientation:"horizontal",className:P.scrollbar,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},N.createElement(k4,{className:P.thumb})),N.createElement(V4,{orientation:"vertical",className:P.scrollbar,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},N.createElement(k4,{className:P.thumb})),N.createElement(aAe,{className:P.corner})))}),Une=S.forwardRef((r,e)=>{const t=Ve("ScrollAreaAutosize",Wne,r),{children:n,classNames:i,styles:o,scrollbarSize:s,scrollHideDelay:a,type:l,dir:u,offsetScrollbars:c,viewportRef:d,onScrollPositionChange:h,unstyled:f,sx:p,variant:g,viewportProps:C}=t,m=jne(t,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return N.createElement(it,Bne(K1({},m),{ref:e,sx:[{display:"flex"},...AI(p)]}),N.createElement(it,{sx:{display:"flex",flexDirection:"column",flex:1}},N.createElement(qI,{classNames:i,styles:o,scrollHideDelay:a,scrollbarSize:s,type:l,dir:u,offsetScrollbars:c,viewportRef:d,onScrollPositionChange:h,unstyled:f,variant:g,viewportProps:C},n)))});Une.displayName="@mantine/core/ScrollAreaAutosize";qI.displayName="@mantine/core/ScrollArea";qI.Autosize=Une;const hAe=qI;var fAe=Object.defineProperty,pAe=Object.defineProperties,gAe=Object.getOwnPropertyDescriptors,HO=Object.getOwnPropertySymbols,zne=Object.prototype.hasOwnProperty,Kne=Object.prototype.propertyIsEnumerable,$4=(r,e,t)=>e in r?fAe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B4=(r,e)=>{for(var t in e||(e={}))zne.call(e,t)&&$4(r,t,e[t]);if(HO)for(var t of HO(e))Kne.call(e,t)&&$4(r,t,e[t]);return r},mAe=(r,e)=>pAe(r,gAe(e)),vAe=(r,e)=>{var t={};for(var n in r)zne.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&HO)for(var n of HO(r))e.indexOf(n)<0&&Kne.call(r,n)&&(t[n]=r[n]);return t};const I$=S.forwardRef((r,e)=>{var t=r,{style:n}=t,i=vAe(t,["style"]);return N.createElement(hAe,mAe(B4({},i),{style:B4({width:"100%"},n),viewportProps:{tabIndex:-1},viewportRef:e}),i.children)});I$.displayName="@mantine/core/SelectScrollArea";var yAe=Xe(()=>({dropdown:{},itemsWrapper:{padding:U(4),display:"flex",width:"100%",boxSizing:"border-box"}}));const Cl=Math.min,so=Math.max,$O=Math.round,gb=Math.floor,Cu=r=>({x:r,y:r}),CAe={left:"right",right:"left",bottom:"top",top:"bottom"},wAe={start:"end",end:"start"};function Y1(r,e,t){return so(r,Cl(e,t))}function Dc(r,e){return typeof r=="function"?r(e):r}function wl(r){return r.split("-")[0]}function uy(r){return r.split("-")[1]}function F$(r){return r==="x"?"y":"x"}function M$(r){return r==="y"?"height":"width"}function Ac(r){return["top","bottom"].includes(wl(r))?"y":"x"}function L$(r){return F$(Ac(r))}function SAe(r,e,t){t===void 0&&(t=!1);const n=uy(r),i=L$(r),o=M$(i);let s=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=BO(s)),[s,BO(s)]}function EAe(r){const e=BO(r);return[q1(r),e,q1(e)]}function q1(r){return r.replace(/start|end/g,e=>wAe[e])}function _Ae(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:s;default:return[]}}function RAe(r,e,t,n){const i=uy(r);let o=_Ae(wl(r),t==="start",n);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(q1)))),o}function BO(r){return r.replace(/left|right|bottom|top/g,e=>CAe[e])}function bAe(r){return{top:0,right:0,bottom:0,left:0,...r}}function N$(r){return typeof r!="number"?bAe(r):{top:r,right:r,bottom:r,left:r}}function Cv(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function j4(r,e,t){let{reference:n,floating:i}=r;const o=Ac(e),s=L$(e),a=M$(s),l=wl(e),u=o==="y",c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-i.width,y:d};break;default:f={x:n.x,y:n.y}}switch(uy(e)){case"start":f[s]-=h*(t&&u?-1:1);break;case"end":f[s]+=h*(t&&u?-1:1);break}return f}const TAe=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:r,floating:e,strategy:i}),{x:c,y:d}=j4(u,n,l),h=n,f={},p=0;for(let g=0;g<a.length;g++){const{name:C,fn:m}=a[g],{x:y,y:w,data:E,reset:P}=await m({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:f,rects:u,platform:s,elements:{reference:r,floating:e}});c=y??c,d=w??d,f={...f,[C]:{...f[C],...E}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:r,floating:e,strategy:i}):P.rects),{x:c,y:d}=j4(u,h,l)),g=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}};async function G$(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=r,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Dc(e,r),p=N$(f),C=a[h?d==="floating"?"reference":"floating":d],m=Cv(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),E=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},P=Cv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(m.top-P.top+p.top)/E.y,bottom:(P.bottom-m.bottom+p.bottom)/E.y,left:(m.left-P.left+p.left)/E.x,right:(P.right-m.right+p.right)/E.x}}const PAe=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=Dc(r,e)||{};if(u==null)return{};const d=N$(c),h={x:t,y:n},f=L$(i),p=M$(f),g=await s.getDimensions(u),C=f==="y",m=C?"top":"left",y=C?"bottom":"right",w=C?"clientHeight":"clientWidth",E=o.reference[p]+o.reference[f]-h[f]-o.floating[p],P=h[f]-o.reference[f],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let R=T?T[w]:0;(!R||!await(s.isElement==null?void 0:s.isElement(T)))&&(R=a.floating[w]||o.floating[p]);const _=E/2-P/2,b=R/2-g[p]/2-1,D=Cl(d[m],b),M=Cl(d[y],b),G=D,I=R-g[p]-M,L=R/2-g[p]/2+_,B=Y1(G,L,I),j=!l.arrow&&uy(i)!=null&&L!==B&&o.reference[p]/2-(L<G?D:M)-g[p]/2<0,z=j?L<G?L-G:L-I:0;return{[f]:h[f]+z,data:{[f]:B,centerOffset:L-B-z,...j&&{alignmentOffset:z}},reset:j}}}),OAe=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...C}=Dc(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const m=wl(i),y=Ac(a),w=wl(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=h||(w||!g?[BO(a)]:EAe(a)),T=p!=="none";!h&&T&&P.push(...RAe(a,g,p,E));const R=[a,...P],_=await G$(e,C),b=[];let D=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&b.push(_[m]),d){const L=SAe(i,s,E);b.push(_[L[0]],_[L[1]])}if(D=[...D,{placement:i,overflows:b}],!b.every(L=>L<=0)){var M,G;const L=(((M=o.flip)==null?void 0:M.index)||0)+1,B=R[L];if(B)return{data:{index:L,overflows:D},reset:{placement:B}};let j=(G=D.filter(z=>z.overflows[0]<=0).sort((z,W)=>z.overflows[1]-W.overflows[1])[0])==null?void 0:G.placement;if(!j)switch(f){case"bestFit":{var I;const z=(I=D.filter(W=>{if(T){const H=Ac(W.placement);return H===y||H==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(H=>H>0).reduce((H,Y)=>H+Y,0)]).sort((W,H)=>W[1]-H[1])[0])==null?void 0:I[0];z&&(j=z);break}case"initialPlacement":j=a;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function Yne(r){const e=Cl(...r.map(o=>o.left)),t=Cl(...r.map(o=>o.top)),n=so(...r.map(o=>o.right)),i=so(...r.map(o=>o.bottom));return{x:e,y:t,width:n-e,height:i-t}}function DAe(r){const e=r.slice().sort((i,o)=>i.y-o.y),t=[];let n=null;for(let i=0;i<e.length;i++){const o=e[i];!n||o.y-n.y>n.height/2?t.push([o]):t[t.length-1].push(o),n=o}return t.map(i=>Cv(Yne(i)))}const AAe=function(r){return r===void 0&&(r={}),{name:"inline",options:r,async fn(e){const{placement:t,elements:n,rects:i,platform:o,strategy:s}=e,{padding:a=2,x:l,y:u}=Dc(r,e),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(n.reference))||[]),d=DAe(c),h=Cv(Yne(c)),f=N$(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(C=>l>C.left-f.left&&l<C.right+f.right&&u>C.top-f.top&&u<C.bottom+f.bottom)||h;if(d.length>=2){if(Ac(t)==="y"){const D=d[0],M=d[d.length-1],G=wl(t)==="top",I=D.top,L=M.bottom,B=G?D.left:M.left,j=G?D.right:M.right,z=j-B,W=L-I;return{top:I,bottom:L,left:B,right:j,width:z,height:W,x:B,y:I}}const C=wl(t)==="left",m=so(...d.map(D=>D.right)),y=Cl(...d.map(D=>D.left)),w=d.filter(D=>C?D.left===y:D.right===m),E=w[0].top,P=w[w.length-1].bottom,T=y,R=m,_=R-T,b=P-E;return{top:E,bottom:P,left:T,right:R,width:_,height:b,x:T,y:E}}return h}const g=await o.getElementRects({reference:{getBoundingClientRect:p},floating:n.floating,strategy:s});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function xAe(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=wl(t),a=uy(t),l=Ac(t)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=Dc(e,r);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const IAe=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await xAe(e,r);return s===((t=a.offset)==null?void 0:t.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},FAe=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:m,y}=C;return{x:m,y}}},...l}=Dc(r,e),u={x:t,y:n},c=await G$(e,l),d=Ac(wl(i)),h=F$(d);let f=u[h],p=u[d];if(o){const C=h==="y"?"top":"left",m=h==="y"?"bottom":"right",y=f+c[C],w=f-c[m];f=Y1(y,f,w)}if(s){const C=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=p+c[C],w=p-c[m];p=Y1(y,p,w)}const g=a.fn({...e,[h]:f,[d]:p});return{...g,data:{x:g.x-t,y:g.y-n,enabled:{[h]:o,[d]:s}}}}}},MAe=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Dc(r,e),c={x:t,y:n},d=Ac(i),h=F$(d);let f=c[h],p=c[d];const g=Dc(a,e),C=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",E=o.reference[h]-o.floating[w]+C.mainAxis,P=o.reference[h]+o.reference[w]-C.mainAxis;f<E?f=E:f>P&&(f=P)}if(u){var m,y;const w=h==="y"?"width":"height",E=["top","left"].includes(wl(i)),P=o.reference[d]-o.floating[w]+(E&&((m=s.offset)==null?void 0:m[d])||0)+(E?0:C.crossAxis),T=o.reference[d]+o.reference[w]+(E?0:((y=s.offset)==null?void 0:y[d])||0)-(E?C.crossAxis:0);p<P?p=P:p>T&&(p=T)}return{[h]:f,[d]:p}}}},LAe=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...u}=Dc(r,e),c=await G$(e,u),d=wl(i),h=uy(i),f=Ac(i)==="y",{width:p,height:g}=o.floating;let C,m;d==="top"||d==="bottom"?(C=d,m=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(m=d,C=h==="end"?"top":"bottom");const y=g-c.top-c.bottom,w=p-c.left-c.right,E=Cl(g-c[C],y),P=Cl(p-c[m],w),T=!e.middlewareData.shift;let R=E,_=P;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(_=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=y),T&&!h){const D=so(c.left,0),M=so(c.right,0),G=so(c.top,0),I=so(c.bottom,0);f?_=p-2*(D!==0||M!==0?D+M:so(c.left,c.right)):R=g-2*(G!==0||I!==0?G+I:so(c.top,c.bottom))}await l({...e,availableWidth:_,availableHeight:R});const b=await s.getDimensions(a.floating);return p!==b.width||g!==b.height?{reset:{rects:!0}}:{}}}};function QI(){return typeof window<"u"}function cy(r){return qne(r)?(r.nodeName||"").toLowerCase():"#document"}function Ys(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Hu(r){var e;return(e=(qne(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function qne(r){return QI()?r instanceof Node||r instanceof Ys(r).Node:!1}function Sl(r){return QI()?r instanceof Element||r instanceof Ys(r).Element:!1}function Iu(r){return QI()?r instanceof HTMLElement||r instanceof Ys(r).HTMLElement:!1}function W4(r){return!QI()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Ys(r).ShadowRoot}function e_(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=El(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function NAe(r){return["table","td","th"].includes(cy(r))}function XI(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function V$(r){const e=k$(),t=Sl(r)?El(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function GAe(r){let e=xh(r);for(;Iu(e)&&!wv(e);){if(V$(e))return e;if(XI(e))return null;e=xh(e)}return null}function k$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wv(r){return["html","body","#document"].includes(cy(r))}function El(r){return Ys(r).getComputedStyle(r)}function JI(r){return Sl(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function xh(r){if(cy(r)==="html")return r;const e=r.assignedSlot||r.parentNode||W4(r)&&r.host||Hu(r);return W4(e)?e.host:e}function Qne(r){const e=xh(r);return wv(e)?r.ownerDocument?r.ownerDocument.body:r.body:Iu(e)&&e_(e)?e:Qne(e)}function yc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Qne(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),s=Ys(i);if(o){const a=Q1(s);return e.concat(s,s.visualViewport||[],e_(i)?i:[],a&&t?yc(a):[])}return e.concat(i,yc(i,[],t))}function Q1(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Xne(r){const e=El(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Iu(r),o=i?r.offsetWidth:t,s=i?r.offsetHeight:n,a=$O(t)!==o||$O(n)!==s;return a&&(t=o,n=s),{width:t,height:n,$:a}}function H$(r){return Sl(r)?r:r.contextElement}function Km(r){const e=H$(r);if(!Iu(e))return Cu(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=Xne(e);let s=(o?$O(t.width):t.width)/n,a=(o?$O(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const VAe=Cu(0);function Jne(r){const e=Ys(r);return!k$()||!e.visualViewport?VAe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kAe(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ys(r)?!1:e}function Op(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=H$(r);let s=Cu(1);e&&(n?Sl(n)&&(s=Km(n)):s=Km(r));const a=kAe(o,t,n)?Jne(o):Cu(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const h=Ys(o),f=n&&Sl(n)?Ys(n):n;let p=h,g=Q1(p);for(;g&&n&&f!==p;){const C=Km(g),m=g.getBoundingClientRect(),y=El(g),w=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*C.x,E=m.top+(g.clientTop+parseFloat(y.paddingTop))*C.y;l*=C.x,u*=C.y,c*=C.x,d*=C.y,l+=w,u+=E,p=Ys(g),g=Q1(p)}}return Cv({width:c,height:d,x:l,y:u})}function $$(r,e){const t=JI(r).scrollLeft;return e?e.left+t:Op(Hu(r)).left+t}function Zne(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:$$(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function HAe(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",s=Hu(n),a=e?XI(e.floating):!1;if(n===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},u=Cu(1);const c=Cu(0),d=Iu(n);if((d||!d&&!o)&&((cy(n)!=="body"||e_(s))&&(l=JI(n)),Iu(n))){const f=Op(n);u=Km(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}const h=s&&!d&&!o?Zne(s,l,!0):Cu(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:t.y*u.y-l.scrollTop*u.y+c.y+h.y}}function $Ae(r){return Array.from(r.getClientRects())}function BAe(r){const e=Hu(r),t=JI(r),n=r.ownerDocument.body,i=so(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=so(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-t.scrollLeft+$$(r);const a=-t.scrollTop;return El(n).direction==="rtl"&&(s+=so(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}function jAe(r,e){const t=Ys(r),n=Hu(r),i=t.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=k$();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function WAe(r,e){const t=Op(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=Iu(r)?Km(r):Cu(1),s=r.clientWidth*o.x,a=r.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function U4(r,e,t){let n;if(e==="viewport")n=jAe(r,t);else if(e==="document")n=BAe(Hu(r));else if(Sl(e))n=WAe(e,t);else{const i=Jne(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Cv(n)}function ere(r,e){const t=xh(r);return t===e||!Sl(t)||wv(t)?!1:El(t).position==="fixed"||ere(t,e)}function UAe(r,e){const t=e.get(r);if(t)return t;let n=yc(r,[],!1).filter(a=>Sl(a)&&cy(a)!=="body"),i=null;const o=El(r).position==="fixed";let s=o?xh(r):r;for(;Sl(s)&&!wv(s);){const a=El(s),l=V$(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||e_(s)&&!l&&ere(r,s))?n=n.filter(c=>c!==s):i=a,s=xh(s)}return e.set(r,n),n}function zAe(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const s=[...t==="clippingAncestors"?XI(e)?[]:UAe(e,this._c):[].concat(t),n],a=s[0],l=s.reduce((u,c)=>{const d=U4(e,c,i);return u.top=so(d.top,u.top),u.right=Cl(d.right,u.right),u.bottom=Cl(d.bottom,u.bottom),u.left=so(d.left,u.left),u},U4(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function KAe(r){const{width:e,height:t}=Xne(r);return{width:e,height:t}}function YAe(r,e,t){const n=Iu(e),i=Hu(e),o=t==="fixed",s=Op(r,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Cu(0);if(n||!n&&!o)if((cy(e)!=="body"||e_(i))&&(a=JI(e)),n){const h=Op(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=$$(i));const u=i&&!n&&!o?Zne(i,a):Cu(0),c=s.left+a.scrollLeft-l.x-u.x,d=s.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:s.width,height:s.height}}function g0(r){return El(r).position==="static"}function z4(r,e){if(!Iu(r)||El(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Hu(r)===t&&(t=t.ownerDocument.body),t}function tre(r,e){const t=Ys(r);if(XI(r))return t;if(!Iu(r)){let i=xh(r);for(;i&&!wv(i);){if(Sl(i)&&!g0(i))return i;i=xh(i)}return t}let n=z4(r,e);for(;n&&NAe(n)&&g0(n);)n=z4(n,e);return n&&wv(n)&&g0(n)&&!V$(n)?t:n||GAe(r)||t}const qAe=async function(r){const e=this.getOffsetParent||tre,t=this.getDimensions,n=await t(r.floating);return{reference:YAe(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function QAe(r){return El(r).direction==="rtl"}const XAe={convertOffsetParentRelativeRectToViewportRelativeRect:HAe,getDocumentElement:Hu,getClippingRect:zAe,getOffsetParent:tre,getElementRects:qAe,getClientRects:$Ae,getDimensions:KAe,getScale:Km,isElement:Sl,isRTL:QAe};function nre(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function JAe(r,e){let t=null,n;const i=Hu(r);function o(){var a;clearTimeout(n),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=r.getBoundingClientRect(),{left:c,top:d,width:h,height:f}=u;if(a||e(),!h||!f)return;const p=gb(d),g=gb(i.clientWidth-(c+h)),C=gb(i.clientHeight-(d+f)),m=gb(c),w={rootMargin:-p+"px "+-g+"px "+-C+"px "+-m+"px",threshold:so(0,Cl(1,l))||1};let E=!0;function P(T){const R=T[0].intersectionRatio;if(R!==l){if(!E)return s();R?s(!1,R):n=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!nre(u,r.getBoundingClientRect())&&s(),E=!1}try{t=new IntersectionObserver(P,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(P,w)}t.observe(r)}return s(!0),o}function ZAe(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=H$(r),c=i||o?[...u?yc(u):[],...yc(e)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",t,{passive:!0}),o&&m.addEventListener("resize",t)});const d=u&&a?JAe(u,t):null;let h=-1,f=null;s&&(f=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),t()}),u&&!l&&f.observe(u),f.observe(e));let p,g=l?Op(r):null;l&&C();function C(){const m=Op(r);g&&!nre(g,m)&&t(),g=m,p=requestAnimationFrame(C)}return t(),()=>{var m;c.forEach(y=>{i&&y.removeEventListener("scroll",t),o&&y.removeEventListener("resize",t)}),d==null||d(),(m=f)==null||m.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const rre=IAe,B$=FAe,ire=OAe,exe=LAe,K4=PAe,ore=AAe,txe=MAe,nxe=(r,e,t)=>{const n=new Map,i={platform:XAe,...t},o={...i.platform,_c:n};return TAe(r,e,{...i,platform:o})},sre=r=>{const{element:e,padding:t}=r;function n(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:r,fn(i){return n(e)?e.current!=null?K4({element:e.current,padding:t}).fn(i):{}:e?K4({element:e,padding:t}).fn(i):{}}}};var tP=typeof document<"u"?S.useLayoutEffect:S.useEffect;function jO(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!jO(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!jO(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function Y4(r){const e=S.useRef(r);return tP(()=>{e.current=r}),e}function rxe(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,whileElementsMounted:o,open:s}=r,[a,l]=S.useState({x:null,y:null,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[u,c]=S.useState(n);jO(u,n)||c(n);const d=S.useRef(null),h=S.useRef(null),f=S.useRef(a),p=Y4(o),g=Y4(i),[C,m]=S.useState(null),[y,w]=S.useState(null),E=S.useCallback(D=>{d.current!==D&&(d.current=D,m(D))},[]),P=S.useCallback(D=>{h.current!==D&&(h.current=D,w(D))},[]),T=S.useCallback(()=>{if(!d.current||!h.current)return;const D={placement:e,strategy:t,middleware:u};g.current&&(D.platform=g.current),nxe(d.current,h.current,D).then(M=>{const G={...M,isPositioned:!0};R.current&&!jO(f.current,G)&&(f.current=G,Al.flushSync(()=>{l(G)}))})},[u,e,t,g]);tP(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,l(D=>({...D,isPositioned:!1})))},[s]);const R=S.useRef(!1);tP(()=>(R.current=!0,()=>{R.current=!1}),[]),tP(()=>{if(C&&y){if(p.current)return p.current(C,y,T);T()}},[C,y,T,p]);const _=S.useMemo(()=>({reference:d,floating:h,setReference:E,setFloating:P}),[E,P]),b=S.useMemo(()=>({reference:C,floating:y}),[C,y]);return S.useMemo(()=>({...a,update:T,refs:_,elements:b,reference:E,floating:P}),[a,T,_,b,E,P])}var Sv=typeof document<"u"?S.useLayoutEffect:S.useEffect;let m0=!1,ixe=0;const q4=()=>"floating-ui-"+ixe++;function oxe(){const[r,e]=S.useState(()=>m0?q4():void 0);return Sv(()=>{r==null&&e(q4())},[]),S.useEffect(()=>{m0||(m0=!0)},[]),r}const sxe=hS.useId,Q4=sxe||oxe;function axe(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){r.set(e,(r.get(e)||[]).filter(n=>n!==t))}}}const lxe=S.createContext(null),uxe=S.createContext(null),are=()=>{var r;return((r=S.useContext(lxe))==null?void 0:r.id)||null},j$=()=>S.useContext(uxe);function eh(r){return(r==null?void 0:r.ownerDocument)||document}function cxe(){const r=navigator.userAgentData;return r!=null&&r.platform?r.platform:navigator.platform}function dxe(){const r=navigator.userAgentData;return r&&Array.isArray(r.brands)?r.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function W$(r){return eh(r).defaultView||window}function pu(r){return r?r instanceof W$(r).Element:!1}function lre(r){return r?r instanceof W$(r).HTMLElement:!1}function hxe(r){if(typeof ShadowRoot>"u")return!1;const e=W$(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function fxe(r){if(r.mozInputSource===0&&r.isTrusted)return!0;const e=/Android/i;return(e.test(cxe())||e.test(dxe()))&&r.pointerType?r.type==="click"&&r.buttons===1:r.detail===0&&!r.pointerType}function pxe(r){return r.width===0&&r.height===0||r.width===1&&r.height===1&&r.pressure===0&&r.detail===0&&r.pointerType!=="mouse"||r.width<1&&r.height<1&&r.pressure===0&&r.detail===0}function ure(r,e){const t=["mouse","pen"];return t.push("",void 0),t.includes(r)}function X4(r){const e=S.useRef(r);return Sv(()=>{e.current=r}),e}const J4="data-floating-ui-safe-polygon";function nP(r,e,t){return t&&!ure(t)?0:typeof r=="number"?r:r==null?void 0:r[e]}const gxe=function(r,e){let{enabled:t=!0,delay:n=0,handleClose:i=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=e===void 0?{}:e;const{open:l,onOpenChange:u,dataRef:c,events:d,elements:{domReference:h,floating:f},refs:p}=r,g=j$(),C=are(),m=X4(i),y=X4(n),w=S.useRef(),E=S.useRef(),P=S.useRef(),T=S.useRef(),R=S.useRef(!0),_=S.useRef(!1),b=S.useRef(()=>{}),D=S.useCallback(()=>{var L;const B=(L=c.current.openEvent)==null?void 0:L.type;return(B==null?void 0:B.includes("mouse"))&&B!=="mousedown"},[c]);S.useEffect(()=>{if(!t)return;function L(){clearTimeout(E.current),clearTimeout(T.current),R.current=!0}return d.on("dismiss",L),()=>{d.off("dismiss",L)}},[t,d]),S.useEffect(()=>{if(!t||!m.current||!l)return;function L(){D()&&u(!1)}const B=eh(f).documentElement;return B.addEventListener("mouseleave",L),()=>{B.removeEventListener("mouseleave",L)}},[f,l,u,t,m,c,D]);const M=S.useCallback(function(L){L===void 0&&(L=!0);const B=nP(y.current,"close",w.current);B&&!P.current?(clearTimeout(E.current),E.current=setTimeout(()=>u(!1),B)):L&&(clearTimeout(E.current),u(!1))},[y,u]),G=S.useCallback(()=>{b.current(),P.current=void 0},[]),I=S.useCallback(()=>{if(_.current){const L=eh(p.floating.current).body;L.style.pointerEvents="",L.removeAttribute(J4),_.current=!1}},[p]);return S.useEffect(()=>{if(!t)return;function L(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function B(W){if(clearTimeout(E.current),R.current=!1,o&&!ure(w.current)||s>0&&nP(y.current,"open")===0)return;c.current.openEvent=W;const H=nP(y.current,"open",w.current);H?E.current=setTimeout(()=>{u(!0)},H):u(!0)}function j(W){if(L())return;b.current();const H=eh(f);if(clearTimeout(T.current),m.current){l||clearTimeout(E.current),P.current=m.current({...r,tree:g,x:W.clientX,y:W.clientY,onClose(){I(),G(),M()}});const Y=P.current;H.addEventListener("mousemove",Y),b.current=()=>{H.removeEventListener("mousemove",Y)};return}M()}function z(W){L()||m.current==null||m.current({...r,tree:g,x:W.clientX,y:W.clientY,onClose(){I(),G(),M()}})(W)}if(pu(h)){const W=h;return l&&W.addEventListener("mouseleave",z),f==null||f.addEventListener("mouseleave",z),a&&W.addEventListener("mousemove",B,{once:!0}),W.addEventListener("mouseenter",B),W.addEventListener("mouseleave",j),()=>{l&&W.removeEventListener("mouseleave",z),f==null||f.removeEventListener("mouseleave",z),a&&W.removeEventListener("mousemove",B),W.removeEventListener("mouseenter",B),W.removeEventListener("mouseleave",j)}}},[h,f,t,r,o,s,a,M,G,I,u,l,g,y,m,c]),Sv(()=>{var L;if(t&&l&&(L=m.current)!=null&&L.__options.blockPointerEvents&&D()){const z=eh(f).body;if(z.setAttribute(J4,""),z.style.pointerEvents="none",_.current=!0,pu(h)&&f){var B,j;const W=h,H=g==null||(B=g.nodesRef.current.find(Y=>Y.id===C))==null||(j=B.context)==null?void 0:j.elements.floating;return H&&(H.style.pointerEvents=""),W.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{W.style.pointerEvents="",f.style.pointerEvents=""}}}},[t,l,C,f,h,g,m,c,D]),Sv(()=>{l||(w.current=void 0,G(),I())},[l,G,I]),S.useEffect(()=>()=>{G(),clearTimeout(E.current),clearTimeout(T.current),I()},[t,G,I]),S.useMemo(()=>{if(!t)return{};function L(B){w.current=B.pointerType}return{reference:{onPointerDown:L,onPointerEnter:L,onMouseMove(){l||s===0||(clearTimeout(T.current),T.current=setTimeout(()=>{R.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){d.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),M(!1)}}}},[d,t,s,l,u,M])},cre=S.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),dre=()=>S.useContext(cre),mxe=r=>{let{children:e,delay:t,timeoutMs:n=0}=r;const[i,o]=S.useReducer((l,u)=>({...l,...u}),{delay:t,timeoutMs:n,initialDelay:t,currentId:null,isInstantPhase:!1}),s=S.useRef(null),a=S.useCallback(l=>{o({currentId:l})},[]);return Sv(()=>{i.currentId?s.current===null?s.current=i.currentId:o({isInstantPhase:!0}):(o({isInstantPhase:!1}),s.current=null)},[i.currentId]),S.createElement(cre.Provider,{value:S.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,o,a])},e)},vxe=(r,e)=>{let{open:t,onOpenChange:n}=r,{id:i}=e;const{currentId:o,setCurrentId:s,initialDelay:a,setState:l,timeoutMs:u}=dre();S.useEffect(()=>{o&&(l({delay:{open:1,close:nP(a,"close")}}),o!==i&&n(!1))},[i,n,l,o,a]),S.useEffect(()=>{function c(){n(!1),l({delay:a,currentId:null})}if(!t&&o===i)if(u){const d=window.setTimeout(c,u);return()=>{clearTimeout(d)}}else c()},[t,l,o,i,n,a,u]),S.useEffect(()=>{t&&s(i)},[t,s,i])};function yxe(r){let e=r.activeElement;for(;((t=e)==null||(n=t.shadowRoot)==null?void 0:n.activeElement)!=null;){var t,n;e=e.shadowRoot.activeElement}return e}function Z4(r,e){if(!r||!e)return!1;const t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&hxe(t)){let n=e;do{if(n&&r===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function v0(r,e){let t=r.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)})||[],n=t;for(;n.length;)n=r.filter(i=>{var o;return(o=n)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})})||[],t=t.concat(n);return t}function Cxe(r){return"composedPath"in r?r.composedPath()[0]:r.target}const wxe=hS.useInsertionEffect,Sxe=wxe||(r=>r());function hre(r){const e=S.useRef(()=>{});return Sxe(()=>{e.current=r}),S.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function rP(r,e){if(e==null)return!1;if("composedPath"in r)return r.composedPath().includes(e);const t=r;return t.target!=null&&e.contains(t.target)}const Exe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},_xe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Rxe=function(r){var e,t;return r===void 0&&(r=!0),{escapeKeyBubbles:typeof r=="boolean"?r:(e=r.escapeKey)!=null?e:!0,outsidePressBubbles:typeof r=="boolean"?r:(t=r.outsidePress)!=null?t:!0}},bxe=function(r,e){let{open:t,onOpenChange:n,events:i,nodeId:o,elements:{reference:s,domReference:a,floating:l},dataRef:u}=r,{enabled:c=!0,escapeKey:d=!0,outsidePress:h=!0,outsidePressEvent:f="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:C=!1,bubbles:m=!0}=e===void 0?{}:e;const y=j$(),w=are()!=null,E=hre(typeof h=="function"?h:()=>!1),P=typeof h=="function"?E:h,T=S.useRef(!1),{escapeKeyBubbles:R,outsidePressBubbles:_}=Rxe(m);return S.useEffect(()=>{if(!t||!c)return;u.current.__escapeKeyBubbles=R,u.current.__outsidePressBubbles=_;function b(L){if(L.key==="Escape"){const B=y?v0(y.nodesRef.current,o):[];if(B.length>0){let j=!0;if(B.forEach(z=>{var W;if((W=z.context)!=null&&W.open&&!z.context.dataRef.current.__escapeKeyBubbles){j=!1;return}}),!j)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),n(!1)}}function D(L){const B=T.current;if(T.current=!1,B||typeof P=="function"&&!P(L))return;const j=Cxe(L);if(lre(j)&&l){const H=l.ownerDocument.defaultView||window,Y=j.scrollWidth>j.clientWidth,Q=j.scrollHeight>j.clientHeight;let J=Q&&L.offsetX>j.clientWidth;if(Q&&H.getComputedStyle(j).direction==="rtl"&&(J=L.offsetX<=j.offsetWidth-j.clientWidth),J||Y&&L.offsetY>j.clientHeight)return}const z=y&&v0(y.nodesRef.current,o).some(H=>{var Y;return rP(L,(Y=H.context)==null?void 0:Y.elements.floating)});if(rP(L,l)||rP(L,a)||z)return;const W=y?v0(y.nodesRef.current,o):[];if(W.length>0){let H=!0;if(W.forEach(Y=>{var Q;if((Q=Y.context)!=null&&Q.open&&!Y.context.dataRef.current.__outsidePressBubbles){H=!1;return}}),!H)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:fxe(L)||pxe(L)}}),n(!1)}function M(){n(!1)}const G=eh(l);d&&G.addEventListener("keydown",b),P&&G.addEventListener(f,D);let I=[];return C&&(pu(a)&&(I=yc(a)),pu(l)&&(I=I.concat(yc(l))),!pu(s)&&s&&s.contextElement&&(I=I.concat(yc(s.contextElement)))),I=I.filter(L=>{var B;return L!==((B=G.defaultView)==null?void 0:B.visualViewport)}),I.forEach(L=>{L.addEventListener("scroll",M,{passive:!0})}),()=>{d&&G.removeEventListener("keydown",b),P&&G.removeEventListener(f,D),I.forEach(L=>{L.removeEventListener("scroll",M)})}},[u,l,a,s,d,P,f,i,y,o,t,n,C,c,R,_,w]),S.useEffect(()=>{T.current=!1},[P,f]),S.useMemo(()=>c?{reference:{[Exe[g]]:()=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),n(!1))}},floating:{[_xe[f]]:()=>{T.current=!0}}}:{},[c,i,p,f,g,n])},Txe=function(r,e){let{open:t,onOpenChange:n,dataRef:i,events:o,refs:s,elements:{floating:a,domReference:l}}=r,{enabled:u=!0,keyboardOnly:c=!0}=e===void 0?{}:e;const d=S.useRef(""),h=S.useRef(!1),f=S.useRef();return S.useEffect(()=>{if(!u)return;const g=eh(a).defaultView||window;function C(){!t&&lre(l)&&l===yxe(eh(l))&&(h.current=!0)}return g.addEventListener("blur",C),()=>{g.removeEventListener("blur",C)}},[a,l,t,u]),S.useEffect(()=>{if(!u)return;function p(g){(g.type==="referencePress"||g.type==="escapeKey")&&(h.current=!0)}return o.on("dismiss",p),()=>{o.off("dismiss",p)}},[o,u]),S.useEffect(()=>()=>{clearTimeout(f.current)},[]),S.useMemo(()=>u?{reference:{onPointerDown(p){let{pointerType:g}=p;d.current=g,h.current=!!(g&&c)},onMouseLeave(){h.current=!1},onFocus(p){var g;h.current||p.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&i.current.openEvent&&rP(i.current.openEvent,l)||(i.current.openEvent=p.nativeEvent,n(!0))},onBlur(p){h.current=!1;const g=p.relatedTarget,C=pu(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Z4(s.floating.current,g)||Z4(l,g)||C||n(!1)})}}}:{},[u,c,l,s,i,n])},Pxe=function(r,e){let{open:t}=r,{enabled:n=!0,role:i="dialog"}=e===void 0?{}:e;const o=Q4(),s=Q4();return S.useMemo(()=>{const a={id:o,role:i};return n?i==="tooltip"?{reference:{"aria-describedby":t?o:void 0},floating:a}:{reference:{"aria-expanded":t?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":t?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[n,i,t,o,s])};function U$(r){r===void 0&&(r={});const{open:e=!1,onOpenChange:t,nodeId:n}=r,i=rxe(r),o=j$(),s=S.useRef(null),a=S.useRef({}),l=S.useState(()=>axe())[0],[u,c]=S.useState(null),d=S.useCallback(m=>{const y=pu(m)?{getBoundingClientRect:()=>m.getBoundingClientRect(),contextElement:m}:m;i.refs.setReference(y)},[i.refs]),h=S.useCallback(m=>{(pu(m)||m===null)&&(s.current=m,c(m)),(pu(i.refs.reference.current)||i.refs.reference.current===null||m!==null&&!pu(m))&&i.refs.setReference(m)},[i.refs]),f=S.useMemo(()=>({...i.refs,setReference:h,setPositionReference:d,domReference:s}),[i.refs,h,d]),p=S.useMemo(()=>({...i.elements,domReference:u}),[i.elements,u]),g=hre(t),C=S.useMemo(()=>({...i,refs:f,elements:p,dataRef:a,nodeId:n,events:l,open:e,onOpenChange:g}),[i,n,l,e,g,f,p]);return Sv(()=>{const m=o==null?void 0:o.nodesRef.current.find(y=>y.id===n);m&&(m.context=C)}),S.useMemo(()=>({...i,context:C,refs:f,reference:h,positionReference:d}),[i,f,C,h,d])}function y0(r,e,t){const n=new Map;return{...t==="floating"&&{tabIndex:-1},...r,...e.map(i=>i?i[t]:null).concat(r).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(n.has(a)||n.set(a,[]),typeof l=="function"){var u;(u=n.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];(c=n.get(a))==null||c.forEach(p=>p(...h))}}}else i[a]=l}),i),{})}}const Oxe=function(r){r===void 0&&(r=[]);const e=r,t=S.useCallback(o=>y0(o,r,"reference"),e),n=S.useCallback(o=>y0(o,r,"floating"),e),i=S.useCallback(o=>y0(o,r,"item"),r.map(o=>o==null?void 0:o.item));return S.useMemo(()=>({getReferenceProps:t,getFloatingProps:n,getItemProps:i}),[t,n,i])};function fre({opened:r,floating:e,position:t,positionDependencies:n}){const[i,o]=S.useState(0);S.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current)return ZAe(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,r,i,t]),Fa(()=>{e.update()},n),Fa(()=>{o(s=>s+1)},[r])}function Dxe(r){const e=[rre(r.offset)];return r.middlewares.shift&&e.push(B$({limiter:txe()})),r.middlewares.flip&&e.push(ire()),r.middlewares.inline&&e.push(ore()),e.push(sre({element:r.arrowRef,padding:r.arrowOffset})),e}function Axe(r){const[e,t]=Pp({value:r.opened,defaultValue:r.defaultOpened,finalValue:!1,onChange:r.onChange}),n=()=>{var s;(s=r.onClose)==null||s.call(r),t(!1)},i=()=>{var s,a;e?((s=r.onClose)==null||s.call(r),t(!1)):((a=r.onOpen)==null||a.call(r),t(!0))},o=U$({placement:r.position,middleware:[...Dxe(r),...r.width==="target"?[exe({apply({rects:s}){var a,l;Object.assign((l=(a=o.refs.floating.current)==null?void 0:a.style)!=null?l:{},{width:`${s.reference.width}px`})}})]:[]]});return fre({opened:r.opened,position:r.position,positionDependencies:r.positionDependencies,floating:o}),Fa(()=>{var s;(s=r.onPositionChange)==null||s.call(r,o.placement)},[o.placement]),Fa(()=>{var s,a;r.opened?(a=r.onOpen)==null||a.call(r):(s=r.onClose)==null||s.call(r)},[r.opened]),{floating:o,controlled:typeof r.opened=="boolean",opened:e,onClose:n,onToggle:i}}const pre={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[xxe,gre]=sg(pre.context);var Ixe=Object.defineProperty,Fxe=Object.defineProperties,Mxe=Object.getOwnPropertyDescriptors,WO=Object.getOwnPropertySymbols,mre=Object.prototype.hasOwnProperty,vre=Object.prototype.propertyIsEnumerable,eK=(r,e,t)=>e in r?Ixe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mb=(r,e)=>{for(var t in e||(e={}))mre.call(e,t)&&eK(r,t,e[t]);if(WO)for(var t of WO(e))vre.call(e,t)&&eK(r,t,e[t]);return r},Lxe=(r,e)=>Fxe(r,Mxe(e)),Nxe=(r,e)=>{var t={};for(var n in r)mre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&WO)for(var n of WO(r))e.indexOf(n)<0&&vre.call(r,n)&&(t[n]=r[n]);return t};const Gxe={refProp:"ref",popupType:"dialog",shouldOverrideDefaultTargetId:!0},yre=S.forwardRef((r,e)=>{const t=Ve("PopoverTarget",Gxe,r),{children:n,refProp:i,popupType:o,shouldOverrideDefaultTargetId:s}=t,a=Nxe(t,["children","refProp","popupType","shouldOverrideDefaultTargetId"]);if(!zE(n))throw new Error(pre.children);const l=a,u=gre(),c=sy(u.reference,n.ref,e),d=u.withRoles?{"aria-haspopup":o,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:s?u.getTargetId():n.props.id}:{};return S.cloneElement(n,mb(Lxe(mb(mb(mb({},l),d),u.targetProps),{className:zee(u.targetProps.className,l.className,n.props.className),[i]:c}),u.controlled?null:{onClick:u.onToggle}))});yre.displayName="@mantine/core/PopoverTarget";var Vxe=Xe((r,{radius:e,shadow:t})=>({dropdown:{position:"absolute",backgroundColor:r.white,background:r.colorScheme==="dark"?r.colors.dark[6]:r.white,border:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2]}`,padding:`${r.spacing.sm} ${r.spacing.md}`,boxShadow:r.shadows[t]||t||"none",borderRadius:r.fn.radius(e),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2]}`,zIndex:1}})),kxe=Object.defineProperty,tK=Object.getOwnPropertySymbols,Hxe=Object.prototype.hasOwnProperty,$xe=Object.prototype.propertyIsEnumerable,nK=(r,e,t)=>e in r?kxe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hg=(r,e)=>{for(var t in e||(e={}))Hxe.call(e,t)&&nK(r,t,e[t]);if(tK)for(var t of tK(e))$xe.call(e,t)&&nK(r,t,e[t]);return r};const rK={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Bxe({transition:r,state:e,duration:t,timingFunction:n}){const i={transitionDuration:`${t}ms`,transitionTimingFunction:n};return typeof r=="string"?r in sb?Hg(Hg(Hg({transitionProperty:sb[r].transitionProperty},i),sb[r].common),sb[r][rK[e]]):null:Hg(Hg(Hg({transitionProperty:r.transitionProperty},i),r.common),r[rK[e]])}function jxe({duration:r,exitDuration:e,timingFunction:t,mounted:n,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=cs(),u=QE(),c=l.respectReducedMotion?u:!1,[d,h]=S.useState(c?0:r),[f,p]=S.useState(n?"entered":"exited"),g=S.useRef(-1),C=m=>{const y=m?i:o,w=m?s:a;p(m?"pre-entering":"pre-exiting"),window.clearTimeout(g.current);const E=c?0:m?r:e;if(h(E),E===0)typeof y=="function"&&y(),typeof w=="function"&&w(),p(m?"entered":"exited");else{const P=window.setTimeout(()=>{typeof y=="function"&&y(),p(m?"entering":"exiting")},10);g.current=window.setTimeout(()=>{window.clearTimeout(P),typeof w=="function"&&w(),p(m?"entered":"exited")},E)}};return Fa(()=>{C(n)},[n]),S.useEffect(()=>()=>window.clearTimeout(g.current),[]),{transitionDuration:d,transitionStatus:f,transitionTimingFunction:t||l.transitionTimingFunction}}function dy({keepMounted:r,transition:e,duration:t=250,exitDuration:n=t,mounted:i,children:o,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:d,transitionStatus:h,transitionTimingFunction:f}=jxe({mounted:i,exitDuration:n,duration:t,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c});return d===0?i?N.createElement(N.Fragment,null,o({})):r?o({display:"none"}):null:h==="exited"?r?o({display:"none"}):null:N.createElement(N.Fragment,null,o(Bxe({transition:e,duration:d,state:h,timingFunction:f})))}dy.displayName="@mantine/core/Transition";function z$({children:r,active:e=!0,refProp:t="ref"}){const n=lTe(e),i=sy(n,r==null?void 0:r.ref);return zE(r)?S.cloneElement(r,{[t]:i}):r}z$.displayName="@mantine/core/FocusTrap";var Wxe=Object.defineProperty,Uxe=Object.defineProperties,zxe=Object.getOwnPropertyDescriptors,iK=Object.getOwnPropertySymbols,Kxe=Object.prototype.hasOwnProperty,Yxe=Object.prototype.propertyIsEnumerable,oK=(r,e,t)=>e in r?Wxe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,pd=(r,e)=>{for(var t in e||(e={}))Kxe.call(e,t)&&oK(r,t,e[t]);if(iK)for(var t of iK(e))Yxe.call(e,t)&&oK(r,t,e[t]);return r},vb=(r,e)=>Uxe(r,zxe(e));function sK(r,e,t,n){return r==="center"||n==="center"?{top:e}:r==="end"?{bottom:t}:r==="start"?{top:t}:{}}function aK(r,e,t,n,i){return r==="center"||n==="center"?{left:e}:r==="end"?{[i==="ltr"?"right":"left"]:t}:r==="start"?{[i==="ltr"?"left":"right"]:t}:{}}const qxe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Qxe({position:r,arrowSize:e,arrowOffset:t,arrowRadius:n,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=r.split("-"),c={width:U(e),height:U(e),transform:"rotate(45deg)",position:"absolute",[qxe[l]]:U(n)},d=U(-e/2);return l==="left"?vb(pd(pd({},c),sK(u,s,t,i)),{right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}):l==="right"?vb(pd(pd({},c),sK(u,s,t,i)),{left:d,borderRightColor:"transparent",borderTopColor:"transparent"}):l==="top"?vb(pd(pd({},c),aK(u,o,t,i,a)),{bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}):l==="bottom"?vb(pd(pd({},c),aK(u,o,t,i,a)),{top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var Xxe=Object.defineProperty,Jxe=Object.defineProperties,Zxe=Object.getOwnPropertyDescriptors,UO=Object.getOwnPropertySymbols,Cre=Object.prototype.hasOwnProperty,wre=Object.prototype.propertyIsEnumerable,lK=(r,e,t)=>e in r?Xxe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,eIe=(r,e)=>{for(var t in e)Cre.call(e,t)&&lK(r,t,e[t]);if(UO)for(var t of UO(e))wre.call(e,t)&&lK(r,t,e[t]);return r},tIe=(r,e)=>Jxe(r,Zxe(e)),nIe=(r,e)=>{var t={};for(var n in r)Cre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&UO)for(var n of UO(r))e.indexOf(n)<0&&wre.call(r,n)&&(t[n]=r[n]);return t};const K$=S.forwardRef((r,e)=>{var t=r,{position:n,arrowSize:i,arrowOffset:o,arrowRadius:s,arrowPosition:a,visible:l,arrowX:u,arrowY:c}=t,d=nIe(t,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=cs();return l?N.createElement("div",tIe(eIe({},d),{ref:e,style:Qxe({position:n,arrowSize:i,arrowOffset:o,arrowRadius:s,arrowPosition:a,dir:h.dir,arrowX:u,arrowY:c})})):null});K$.displayName="@mantine/core/FloatingArrow";var rIe=Object.defineProperty,iIe=Object.defineProperties,oIe=Object.getOwnPropertyDescriptors,zO=Object.getOwnPropertySymbols,Sre=Object.prototype.hasOwnProperty,Ere=Object.prototype.propertyIsEnumerable,uK=(r,e,t)=>e in r?rIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$g=(r,e)=>{for(var t in e||(e={}))Sre.call(e,t)&&uK(r,t,e[t]);if(zO)for(var t of zO(e))Ere.call(e,t)&&uK(r,t,e[t]);return r},yb=(r,e)=>iIe(r,oIe(e)),sIe=(r,e)=>{var t={};for(var n in r)Sre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&zO)for(var n of zO(r))e.indexOf(n)<0&&Ere.call(r,n)&&(t[n]=r[n]);return t};const aIe={};function _re(r){var e;const t=Ve("PopoverDropdown",aIe,r),{style:n,className:i,children:o,onKeyDownCapture:s}=t,a=sIe(t,["style","className","children","onKeyDownCapture"]),l=gre(),{classes:u,cx:c}=Vxe({radius:l.radius,shadow:l.shadow},{name:l.__staticSelector,classNames:l.classNames,styles:l.styles,unstyled:l.unstyled,variant:l.variant}),d=wte({opened:l.opened,shouldReturnFocus:l.returnFocus}),h=l.withRoles?{"aria-labelledby":l.getTargetId(),id:l.getDropdownId(),role:"dialog"}:{};return l.disabled?null:N.createElement(ly,yb($g({},l.portalProps),{withinPortal:l.withinPortal}),N.createElement(dy,yb($g({mounted:l.opened},l.transitionProps),{transition:l.transitionProps.transition||"fade",duration:(e=l.transitionProps.duration)!=null?e:150,keepMounted:l.keepMounted,exitDuration:typeof l.transitionProps.exitDuration=="number"?l.transitionProps.exitDuration:l.transitionProps.duration}),f=>{var p,g;return N.createElement(z$,{active:l.trapFocus},N.createElement(it,$g(yb($g({},h),{tabIndex:-1,ref:l.floating,style:yb($g($g({},n),f),{zIndex:l.zIndex,top:(p=l.y)!=null?p:0,left:(g=l.x)!=null?g:0,width:l.width==="target"?void 0:U(l.width)}),className:c(u.dropdown,i),onKeyDownCapture:x_e(l.onClose,{active:l.closeOnEscape,onTrigger:d,onKeyDown:s}),"data-position":l.placement}),a),o,N.createElement(K$,{ref:l.arrowRef,arrowX:l.arrowX,arrowY:l.arrowY,visible:l.withArrow,position:l.placement,arrowSize:l.arrowSize,arrowRadius:l.arrowRadius,arrowOffset:l.arrowOffset,arrowPosition:l.arrowPosition,className:u.arrow})))}))}_re.displayName="@mantine/core/PopoverDropdown";function Rre(r,e){if(r==="rtl"&&(e.includes("right")||e.includes("left"))){const[t,n]=e.split("-"),i=t==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return e}var cK=Object.getOwnPropertySymbols,lIe=Object.prototype.hasOwnProperty,uIe=Object.prototype.propertyIsEnumerable,cIe=(r,e)=>{var t={};for(var n in r)lIe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&cK)for(var n of cK(r))e.indexOf(n)<0&&uIe.call(r,n)&&(t[n]=r[n]);return t};const dIe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:xl("popover"),__staticSelector:"Popover",width:"max-content"};function zc(r){var e,t,n,i,o,s;const a=S.useRef(null),l=Ve("Popover",dIe,r),{children:u,position:c,offset:d,onPositionChange:h,positionDependencies:f,opened:p,transitionProps:g,width:C,middlewares:m,withArrow:y,arrowSize:w,arrowOffset:E,arrowRadius:P,arrowPosition:T,unstyled:R,classNames:_,styles:b,closeOnClickOutside:D,withinPortal:M,portalProps:G,closeOnEscape:I,clickOutsideEvents:L,trapFocus:B,onClose:j,onOpen:z,onChange:W,zIndex:H,radius:Y,shadow:Q,id:J,defaultOpened:oe,__staticSelector:re,withRoles:ue,disabled:Ce,returnFocus:Re,variant:Be,keepMounted:Ge}=l,Ie=cIe(l,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted"]),[qe,$e]=S.useState(null),[Tt,Dt]=S.useState(null),pt=Uh(J),bn=cs(),Ze=Axe({middlewares:m,width:C,position:Rre(bn.dir,c),offset:typeof d=="number"?d+(y?w/2:0):d,arrowRef:a,arrowOffset:E,onPositionChange:h,positionDependencies:f,opened:p,defaultOpened:oe,onChange:W,onOpen:z,onClose:j});Jbe(()=>Ze.opened&&D&&Ze.onClose(),L,[qe,Tt]);const xe=S.useCallback(Ot=>{$e(Ot),Ze.floating.reference(Ot)},[Ze.floating.reference]),pn=S.useCallback(Ot=>{Dt(Ot),Ze.floating.floating(Ot)},[Ze.floating.floating]);return N.createElement(xxe,{value:{returnFocus:Re,disabled:Ce,controlled:Ze.controlled,reference:xe,floating:pn,x:Ze.floating.x,y:Ze.floating.y,arrowX:(n=(t=(e=Ze.floating)==null?void 0:e.middlewareData)==null?void 0:t.arrow)==null?void 0:n.x,arrowY:(s=(o=(i=Ze.floating)==null?void 0:i.middlewareData)==null?void 0:o.arrow)==null?void 0:s.y,opened:Ze.opened,arrowRef:a,transitionProps:g,width:C,withArrow:y,arrowSize:w,arrowOffset:E,arrowRadius:P,arrowPosition:T,placement:Ze.floating.placement,trapFocus:B,withinPortal:M,portalProps:G,zIndex:H,radius:Y,shadow:Q,closeOnEscape:I,onClose:Ze.onClose,onToggle:Ze.onToggle,getTargetId:()=>`${pt}-target`,getDropdownId:()=>`${pt}-dropdown`,withRoles:ue,targetProps:Ie,__staticSelector:re,classNames:_,styles:b,unstyled:R,variant:Be,keepMounted:Ge}},u)}zc.Target=yre;zc.Dropdown=_re;zc.displayName="@mantine/core/Popover";var hIe=Object.defineProperty,KO=Object.getOwnPropertySymbols,bre=Object.prototype.hasOwnProperty,Tre=Object.prototype.propertyIsEnumerable,dK=(r,e,t)=>e in r?hIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fIe=(r,e)=>{for(var t in e)bre.call(e,t)&&dK(r,t,e[t]);if(KO)for(var t of KO(e))Tre.call(e,t)&&dK(r,t,e[t]);return r},pIe=(r,e)=>{var t={};for(var n in r)bre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&KO)for(var n of KO(r))e.indexOf(n)<0&&Tre.call(r,n)&&(t[n]=r[n]);return t};function gIe(r){var e=r,{children:t,component:n="div",maxHeight:i=220,direction:o="column",id:s,innerRef:a,__staticSelector:l,styles:u,classNames:c,unstyled:d}=e,h=pIe(e,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:f}=yAe(null,{name:l,styles:u,classNames:c,unstyled:d});return N.createElement(zc.Dropdown,fIe({p:0,onMouseDown:p=>p.preventDefault()},h),N.createElement("div",{style:{maxHeight:U(i),display:"flex"}},N.createElement(it,{component:n||"div",id:`${s}-items`,"aria-labelledby":`${s}-label`,role:"listbox",onMouseDown:p=>p.preventDefault(),style:{flex:1,overflowY:n!==I$?"auto":void 0},"data-combobox-popover":!0,tabIndex:-1,ref:a},N.createElement("div",{className:f.itemsWrapper,style:{flexDirection:o}},t))))}function Xw({opened:r,transitionProps:e={transition:"fade",duration:0},shadow:t,withinPortal:n,portalProps:i,children:o,__staticSelector:s,onDirectionChange:a,switchDirectionOnFlip:l,zIndex:u,dropdownPosition:c,positionDependencies:d=[],classNames:h,styles:f,unstyled:p,readOnly:g,variant:C}){return N.createElement(zc,{unstyled:p,classNames:h,styles:f,width:"target",withRoles:!1,opened:r,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:d,zIndex:u,__staticSelector:s,withinPortal:n,portalProps:i,transitionProps:e,shadow:t,disabled:g,onPositionChange:m=>l&&(a==null?void 0:a(m==="top"?"column-reverse":"column")),variant:C},o)}Xw.Target=zc.Target;Xw.Dropdown=gIe;var mIe=Object.defineProperty,vIe=Object.defineProperties,yIe=Object.getOwnPropertyDescriptors,YO=Object.getOwnPropertySymbols,Pre=Object.prototype.hasOwnProperty,Ore=Object.prototype.propertyIsEnumerable,hK=(r,e,t)=>e in r?mIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cb=(r,e)=>{for(var t in e||(e={}))Pre.call(e,t)&&hK(r,t,e[t]);if(YO)for(var t of YO(e))Ore.call(e,t)&&hK(r,t,e[t]);return r},CIe=(r,e)=>vIe(r,yIe(e)),wIe=(r,e)=>{var t={};for(var n in r)Pre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&YO)for(var n of YO(r))e.indexOf(n)<0&&Ore.call(r,n)&&(t[n]=r[n]);return t};function Dre(r,e,t){const n=Ve(r,e,t),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:h,sx:f,errorProps:p,labelProps:g,descriptionProps:C,wrapperProps:m,id:y,size:w,style:E,inputContainer:P,inputWrapperOrder:T,withAsterisk:R,variant:_}=n,b=wIe(n,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),D=Uh(y),{systemStyles:M,rest:G}=ay(b),I=Cb({label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:h,sx:f,errorProps:p,labelProps:g,descriptionProps:C,unstyled:d,styles:u,id:D,size:w,style:E,inputContainer:P,inputWrapperOrder:T,withAsterisk:R,variant:_},m);return CIe(Cb({},G),{classNames:l,styles:u,unstyled:d,wrapperProps:Cb(Cb({},I),M),inputProps:{required:a,classNames:l,styles:u,unstyled:d,id:D,size:w,__staticSelector:h,error:s,variant:_}})}var SIe=Xe((r,e,{size:t})=>({label:{display:"inline-block",fontSize:Oe({size:t,sizes:r.fontSizes}),fontWeight:500,color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:r.fn.variant({variant:"filled",color:"red"}).background}})),EIe=Object.defineProperty,qO=Object.getOwnPropertySymbols,Are=Object.prototype.hasOwnProperty,xre=Object.prototype.propertyIsEnumerable,fK=(r,e,t)=>e in r?EIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_Ie=(r,e)=>{for(var t in e)Are.call(e,t)&&fK(r,t,e[t]);if(qO)for(var t of qO(e))xre.call(e,t)&&fK(r,t,e[t]);return r},RIe=(r,e)=>{var t={};for(var n in r)Are.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&qO)for(var n of qO(r))e.indexOf(n)<0&&xre.call(r,n)&&(t[n]=r[n]);return t};const bIe={labelElement:"label",size:"sm"},Y$=S.forwardRef((r,e)=>{const t=Ve("InputLabel",bIe,r),{labelElement:n,children:i,required:o,size:s,classNames:a,styles:l,unstyled:u,className:c,htmlFor:d,__staticSelector:h,variant:f,onMouseDown:p}=t,g=RIe(t,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:C,cx:m}=SIe(null,{name:["InputWrapper",h],classNames:a,styles:l,unstyled:u,variant:f,size:s});return N.createElement(it,_Ie({component:n,ref:e,className:m(C.label,c),htmlFor:n==="label"?d:void 0,onMouseDown:y=>{p==null||p(y),!y.defaultPrevented&&y.detail>1&&y.preventDefault()}},g),i,o&&N.createElement("span",{className:C.required,"aria-hidden":!0}," *"))});Y$.displayName="@mantine/core/InputLabel";var TIe=Xe((r,e,{size:t})=>({error:{wordBreak:"break-word",color:r.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${Oe({size:t,sizes:r.fontSizes})} - ${U(2)})`,lineHeight:1.2,display:"block"}})),PIe=Object.defineProperty,QO=Object.getOwnPropertySymbols,Ire=Object.prototype.hasOwnProperty,Fre=Object.prototype.propertyIsEnumerable,pK=(r,e,t)=>e in r?PIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,OIe=(r,e)=>{for(var t in e)Ire.call(e,t)&&pK(r,t,e[t]);if(QO)for(var t of QO(e))Fre.call(e,t)&&pK(r,t,e[t]);return r},DIe=(r,e)=>{var t={};for(var n in r)Ire.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&QO)for(var n of QO(r))e.indexOf(n)<0&&Fre.call(r,n)&&(t[n]=r[n]);return t};const AIe={size:"sm"},q$=S.forwardRef((r,e)=>{const t=Ve("InputError",AIe,r),{children:n,className:i,classNames:o,styles:s,unstyled:a,size:l,__staticSelector:u,variant:c}=t,d=DIe(t,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:h,cx:f}=TIe(null,{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a,variant:c,size:l});return N.createElement(xu,OIe({className:f(h.error,i),ref:e},d),n)});q$.displayName="@mantine/core/InputError";var xIe=Xe((r,e,{size:t})=>({description:{wordBreak:"break-word",color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6],fontSize:`calc(${Oe({size:t,sizes:r.fontSizes})} - ${U(2)})`,lineHeight:1.2,display:"block"}})),IIe=Object.defineProperty,XO=Object.getOwnPropertySymbols,Mre=Object.prototype.hasOwnProperty,Lre=Object.prototype.propertyIsEnumerable,gK=(r,e,t)=>e in r?IIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,FIe=(r,e)=>{for(var t in e)Mre.call(e,t)&&gK(r,t,e[t]);if(XO)for(var t of XO(e))Lre.call(e,t)&&gK(r,t,e[t]);return r},MIe=(r,e)=>{var t={};for(var n in r)Mre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&XO)for(var n of XO(r))e.indexOf(n)<0&&Lre.call(r,n)&&(t[n]=r[n]);return t};const LIe={size:"sm"},Q$=S.forwardRef((r,e)=>{const t=Ve("InputDescription",LIe,r),{children:n,className:i,classNames:o,styles:s,unstyled:a,size:l,__staticSelector:u,variant:c}=t,d=MIe(t,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:h,cx:f}=xIe(null,{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a,variant:c,size:l});return N.createElement(xu,FIe({color:"dimmed",className:f(h.description,i),ref:e,unstyled:a},d),n)});Q$.displayName="@mantine/core/InputDescription";const Nre=S.createContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),NIe=Nre.Provider,GIe=()=>S.useContext(Nre);function VIe(r,{hasDescription:e,hasError:t}){const n=r.findIndex(l=>l==="input"),i=r[n-1],o=r[n+1];return{offsetBottom:e&&o==="description"||t&&o==="error",offsetTop:e&&i==="description"||t&&i==="error"}}var kIe=Object.defineProperty,HIe=Object.defineProperties,$Ie=Object.getOwnPropertyDescriptors,mK=Object.getOwnPropertySymbols,BIe=Object.prototype.hasOwnProperty,jIe=Object.prototype.propertyIsEnumerable,vK=(r,e,t)=>e in r?kIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,WIe=(r,e)=>{for(var t in e||(e={}))BIe.call(e,t)&&vK(r,t,e[t]);if(mK)for(var t of mK(e))jIe.call(e,t)&&vK(r,t,e[t]);return r},UIe=(r,e)=>HIe(r,$Ie(e)),zIe=Xe(r=>({root:UIe(WIe({},r.fn.fontStyles()),{lineHeight:r.lineHeight})})),KIe=Object.defineProperty,YIe=Object.defineProperties,qIe=Object.getOwnPropertyDescriptors,JO=Object.getOwnPropertySymbols,Gre=Object.prototype.hasOwnProperty,Vre=Object.prototype.propertyIsEnumerable,yK=(r,e,t)=>e in r?KIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gd=(r,e)=>{for(var t in e||(e={}))Gre.call(e,t)&&yK(r,t,e[t]);if(JO)for(var t of JO(e))Vre.call(e,t)&&yK(r,t,e[t]);return r},CK=(r,e)=>YIe(r,qIe(e)),QIe=(r,e)=>{var t={};for(var n in r)Gre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&JO)for(var n of JO(r))e.indexOf(n)<0&&Vre.call(r,n)&&(t[n]=r[n]);return t};const XIe={labelElement:"label",size:"sm",inputContainer:r=>r,inputWrapperOrder:["label","description","input","error"]},kre=S.forwardRef((r,e)=>{const t=Ve("InputWrapper",XIe,r),{className:n,label:i,children:o,required:s,id:a,error:l,description:u,labelElement:c,labelProps:d,descriptionProps:h,errorProps:f,classNames:p,styles:g,size:C,inputContainer:m,__staticSelector:y,unstyled:w,inputWrapperOrder:E,withAsterisk:P,variant:T}=t,R=QIe(t,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:_,cx:b}=zIe(null,{classNames:p,styles:g,name:["InputWrapper",y],unstyled:w,variant:T,size:C}),D={classNames:p,styles:g,unstyled:w,size:C,variant:T,__staticSelector:y},M=typeof P=="boolean"?P:s,G=a?`${a}-error`:f==null?void 0:f.id,I=a?`${a}-description`:h==null?void 0:h.id,B=`${!!l&&typeof l!="boolean"?G:""} ${u?I:""}`,j=B.trim().length>0?B.trim():void 0,z=i&&N.createElement(Y$,gd(gd({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:M},D),d),i),W=u&&N.createElement(Q$,CK(gd(gd({key:"description"},h),D),{size:(h==null?void 0:h.size)||D.size,id:(h==null?void 0:h.id)||I}),u),H=N.createElement(S.Fragment,{key:"input"},m(o)),Y=typeof l!="boolean"&&l&&N.createElement(q$,CK(gd(gd({},f),D),{size:(f==null?void 0:f.size)||D.size,key:"error",id:(f==null?void 0:f.id)||G}),l),Q=E.map(J=>{switch(J){case"label":return z;case"input":return H;case"description":return W;case"error":return Y;default:return null}});return N.createElement(NIe,{value:gd({describedBy:j},VIe(E,{hasDescription:!!W,hasError:!!Y}))},N.createElement(it,gd({className:b(_.root,n),ref:e},R),Q))});kre.displayName="@mantine/core/InputWrapper";var JIe=Object.defineProperty,ZO=Object.getOwnPropertySymbols,Hre=Object.prototype.hasOwnProperty,$re=Object.prototype.propertyIsEnumerable,wK=(r,e,t)=>e in r?JIe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ZIe=(r,e)=>{for(var t in e)Hre.call(e,t)&&wK(r,t,e[t]);if(ZO)for(var t of ZO(e))$re.call(e,t)&&wK(r,t,e[t]);return r},eFe=(r,e)=>{var t={};for(var n in r)Hre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ZO)for(var n of ZO(r))e.indexOf(n)<0&&$re.call(r,n)&&(t[n]=r[n]);return t};const tFe={},Bre=S.forwardRef((r,e)=>{const t=Ve("InputPlaceholder",tFe,r),{sx:n}=t,i=eFe(t,["sx"]);return N.createElement(it,ZIe({component:"span",sx:[o=>o.fn.placeholderStyles(),...AI(n)],ref:e},i))});Bre.displayName="@mantine/core/InputPlaceholder";var nFe=Object.defineProperty,rFe=Object.defineProperties,iFe=Object.getOwnPropertyDescriptors,SK=Object.getOwnPropertySymbols,oFe=Object.prototype.hasOwnProperty,sFe=Object.prototype.propertyIsEnumerable,EK=(r,e,t)=>e in r?nFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wb=(r,e)=>{for(var t in e||(e={}))oFe.call(e,t)&&EK(r,t,e[t]);if(SK)for(var t of SK(e))sFe.call(e,t)&&EK(r,t,e[t]);return r},C0=(r,e)=>rFe(r,iFe(e));const So={xs:U(30),sm:U(36),md:U(42),lg:U(50),xl:U(60)},aFe=["default","filled","unstyled"];function lFe({theme:r,variant:e}){return aFe.includes(e)?e==="default"?{border:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4]}`,backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,transition:"border-color 100ms ease","&:focus, &:focus-within":r.focusRingStyles.inputStyles(r)}:e==="filled"?{border:`${U(1)} solid transparent`,backgroundColor:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[1],"&:focus, &:focus-within":r.focusRingStyles.inputStyles(r)}:{borderWidth:0,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,backgroundColor:"transparent",minHeight:U(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var uFe=Xe((r,{multiline:e,radius:t,invalid:n,rightSectionWidth:i,withRightSection:o,iconWidth:s,offsetBottom:a,offsetTop:l,pointer:u},{variant:c,size:d})=>{const h=r.fn.variant({variant:"filled",color:"red"}).background,f=c==="default"||c==="filled"?{minHeight:Oe({size:d,sizes:So}),paddingLeft:`calc(${Oe({size:d,sizes:So})}  / 3)`,paddingRight:o?i||Oe({size:d,sizes:So}):`calc(${Oe({size:d,sizes:So})}  / 3)`,borderRadius:r.fn.radius(t)}:c==="unstyled"&&o?{paddingRight:i||Oe({size:d,sizes:So})}:null;return{wrapper:{position:"relative",marginTop:l?`calc(${r.spacing.xs} / 2)`:void 0,marginBottom:a?`calc(${r.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:C0(wb(wb(C0(wb({},r.fn.fontStyles()),{height:e?c==="unstyled"?void 0:"auto":Oe({size:d,sizes:So}),WebkitTapHighlightColor:"transparent",lineHeight:e?r.lineHeight:`calc(${Oe({size:d,sizes:So})} - ${U(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:Oe({size:d,sizes:r.fontSizes}),width:"100%",color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,display:"block",textAlign:"left",cursor:u?"pointer":void 0}),lFe({theme:r,variant:c})),f),{"&:disabled, &[data-disabled]":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[1],color:r.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:r.colors.dark[2]}},"&[data-invalid]":{color:h,borderColor:h,"&::placeholder":{opacity:1,color:h}},"&[data-with-icon]":{paddingLeft:typeof s=="number"?U(s):Oe({size:d,sizes:So})},"&::placeholder":C0(wb({},r.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:s?U(s):Oe({size:d,sizes:So}),color:n?r.colors.red[r.colorScheme==="dark"?6:7]:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:i||Oe({size:d,sizes:So})}}}),cFe=Object.defineProperty,dFe=Object.defineProperties,hFe=Object.getOwnPropertyDescriptors,eD=Object.getOwnPropertySymbols,jre=Object.prototype.hasOwnProperty,Wre=Object.prototype.propertyIsEnumerable,_K=(r,e,t)=>e in r?cFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Sb=(r,e)=>{for(var t in e||(e={}))jre.call(e,t)&&_K(r,t,e[t]);if(eD)for(var t of eD(e))Wre.call(e,t)&&_K(r,t,e[t]);return r},RK=(r,e)=>dFe(r,hFe(e)),fFe=(r,e)=>{var t={};for(var n in r)jre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&eD)for(var n of eD(r))e.indexOf(n)<0&&Wre.call(r,n)&&(t[n]=r[n]);return t};const pFe={size:"sm",variant:"default"},lg=S.forwardRef((r,e)=>{const t=Ve("Input",pFe,r),{className:n,error:i,required:o,disabled:s,variant:a,icon:l,style:u,rightSectionWidth:c,iconWidth:d,rightSection:h,rightSectionProps:f,radius:p,size:g,wrapperProps:C,classNames:m,styles:y,__staticSelector:w,multiline:E,sx:P,unstyled:T,pointer:R}=t,_=fFe(t,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:b,offsetTop:D,describedBy:M}=GIe(),{classes:G,cx:I}=uFe({radius:p,multiline:E,invalid:!!i,rightSectionWidth:c?U(c):void 0,iconWidth:d,withRightSection:!!h,offsetBottom:b,offsetTop:D,pointer:R},{classNames:m,styles:y,name:["Input",w],unstyled:T,variant:a,size:g}),{systemStyles:L,rest:B}=ay(_);return N.createElement(it,Sb(Sb({className:I(G.wrapper,n),sx:P,style:u},L),C),l&&N.createElement("div",{className:G.icon},l),N.createElement(it,RK(Sb({component:"input"},B),{ref:e,required:o,"aria-invalid":!!i,"aria-describedby":M,disabled:s,"data-disabled":s||void 0,"data-with-icon":!!l||void 0,"data-invalid":!!i||void 0,className:G.input})),h&&N.createElement("div",RK(Sb({},f),{className:G.rightSection}),h))});lg.displayName="@mantine/core/Input";lg.Wrapper=kre;lg.Label=Y$;lg.Description=Q$;lg.Error=q$;lg.Placeholder=Bre;const wu=lg;var gFe=Object.defineProperty,tD=Object.getOwnPropertySymbols,Ure=Object.prototype.hasOwnProperty,zre=Object.prototype.propertyIsEnumerable,bK=(r,e,t)=>e in r?gFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mFe=(r,e)=>{for(var t in e)Ure.call(e,t)&&bK(r,t,e[t]);if(tD)for(var t of tD(e))zre.call(e,t)&&bK(r,t,e[t]);return r},vFe=(r,e)=>{var t={};for(var n in r)Ure.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tD)for(var n of tD(r))e.indexOf(n)<0&&zre.call(r,n)&&(t[n]=r[n]);return t};function yFe(r){const e=r,{style:t}=e,n=vFe(e,["style"]);return N.createElement("svg",mFe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t},n),N.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var CFe=Object.defineProperty,wFe=Object.defineProperties,SFe=Object.getOwnPropertyDescriptors,TK=Object.getOwnPropertySymbols,EFe=Object.prototype.hasOwnProperty,_Fe=Object.prototype.propertyIsEnumerable,PK=(r,e,t)=>e in r?CFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,RFe=(r,e)=>{for(var t in e||(e={}))EFe.call(e,t)&&PK(r,t,e[t]);if(TK)for(var t of TK(e))_Fe.call(e,t)&&PK(r,t,e[t]);return r},bFe=(r,e)=>wFe(r,SFe(e));const Kre=S.createContext(null);function TFe({spacing:r,children:e}){return N.createElement(Kre.Provider,{value:{spacing:r}},e)}function PFe(){const r=S.useContext(Kre);return r?bFe(RFe({},r),{withinGroup:!0}):{spacing:null,withinGroup:!1}}var OFe=Xe((r,{spacing:e})=>({root:{display:"flex",paddingLeft:Oe({size:e,sizes:r.spacing})}})),DFe=Object.defineProperty,nD=Object.getOwnPropertySymbols,Yre=Object.prototype.hasOwnProperty,qre=Object.prototype.propertyIsEnumerable,OK=(r,e,t)=>e in r?DFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,AFe=(r,e)=>{for(var t in e)Yre.call(e,t)&&OK(r,t,e[t]);if(nD)for(var t of nD(e))qre.call(e,t)&&OK(r,t,e[t]);return r},xFe=(r,e)=>{var t={};for(var n in r)Yre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&nD)for(var n of nD(r))e.indexOf(n)<0&&qre.call(r,n)&&(t[n]=r[n]);return t};const IFe={},Qre=S.forwardRef((r,e)=>{const t=Ve("AvatarGroup",IFe,r),{children:n,spacing:i="sm",unstyled:o,className:s,variant:a}=t,l=xFe(t,["children","spacing","unstyled","className","variant"]),{classes:u,cx:c}=OFe({spacing:i},{name:"AvatarGroup",unstyled:o,variant:a});return N.createElement(TFe,{spacing:i},N.createElement(it,AFe({ref:e,className:c(u.root,s)},l),n))});Qre.displayName="@mantine/core/AvatarGroup";var FFe=Object.defineProperty,MFe=Object.defineProperties,LFe=Object.getOwnPropertyDescriptors,DK=Object.getOwnPropertySymbols,NFe=Object.prototype.hasOwnProperty,GFe=Object.prototype.propertyIsEnumerable,AK=(r,e,t)=>e in r?FFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gC=(r,e)=>{for(var t in e||(e={}))NFe.call(e,t)&&AK(r,t,e[t]);if(DK)for(var t of DK(e))GFe.call(e,t)&&AK(r,t,e[t]);return r},xK=(r,e)=>MFe(r,LFe(e));const VFe=["filled","light","gradient","outline"],Eb={xs:U(16),sm:U(26),md:U(38),lg:U(56),xl:U(84)};function kFe({withinGroup:r,spacing:e,theme:t}){return r?{marginLeft:`calc(${Oe({size:e,sizes:t.spacing})} * -1)`,backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[7]:t.white}`,border:`${U(2)} solid ${t.colorScheme==="dark"?t.colors.dark[7]:t.white}`}:null}function HFe({theme:r,variant:e,color:t,gradient:n}){const i=r.fn.variant({variant:e,color:t,gradient:n});return VFe.includes(e)?{placeholder:{color:i.color,backgroundColor:i.background,backgroundImage:e==="gradient"?i.background:void 0,border:`${U(e==="gradient"?0:1)} solid ${i.border}`},placeholderIcon:{color:i.color}}:{}}var $Fe=Xe((r,{radius:e,withinGroup:t,spacing:n,color:i,gradient:o},{variant:s,size:a})=>{const l=HFe({theme:r,color:i,gradient:o,variant:s});return{root:gC(xK(gC({},r.fn.focusStyles()),{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",display:"block",userSelect:"none",overflow:"hidden",borderRadius:r.fn.radius(e),textDecoration:"none",border:0,backgroundColor:"transparent",padding:0,width:Oe({size:a,sizes:Eb}),minWidth:Oe({size:a,sizes:Eb}),height:Oe({size:a,sizes:Eb})}),kFe({withinGroup:t,spacing:n,theme:r})),image:{objectFit:"cover",width:"100%",height:"100%",display:"block"},placeholder:gC(xK(gC({},r.fn.fontStyles()),{fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",userSelect:"none",borderRadius:r.fn.radius(e),fontSize:`calc(${Oe({size:a,sizes:Eb})} / 2.5)`}),l.placeholder),placeholderIcon:gC({width:"70%",height:"70%"},l.placeholderIcon)}}),BFe=Object.defineProperty,jFe=Object.defineProperties,WFe=Object.getOwnPropertyDescriptors,rD=Object.getOwnPropertySymbols,Xre=Object.prototype.hasOwnProperty,Jre=Object.prototype.propertyIsEnumerable,IK=(r,e,t)=>e in r?BFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,FK=(r,e)=>{for(var t in e||(e={}))Xre.call(e,t)&&IK(r,t,e[t]);if(rD)for(var t of rD(e))Jre.call(e,t)&&IK(r,t,e[t]);return r},UFe=(r,e)=>jFe(r,WFe(e)),zFe=(r,e)=>{var t={};for(var n in r)Xre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&rD)for(var n of rD(r))e.indexOf(n)<0&&Jre.call(r,n)&&(t[n]=r[n]);return t};const KFe={size:"md",color:"gray",variant:"light"},X$=S.forwardRef((r,e)=>{const t=Ve("Avatar",KFe,r),{className:n,size:i,src:o,alt:s,radius:a,children:l,color:u,variant:c,gradient:d,classNames:h,styles:f,imageProps:p,unstyled:g}=t,C=zFe(t,["className","size","src","alt","radius","children","color","variant","gradient","classNames","styles","imageProps","unstyled"]),m=PFe(),[y,w]=S.useState(!o),{classes:E,cx:P}=$Fe({color:u,radius:a,withinGroup:m.withinGroup,spacing:m.spacing,gradient:d},{classNames:h,styles:f,unstyled:g,name:"Avatar",variant:c,size:i});return S.useEffect(()=>{w(!o)},[o]),N.createElement(it,FK({component:"div",className:P(E.root,n),ref:e},C),y?N.createElement("div",{className:E.placeholder,title:s},l||N.createElement(yFe,{className:E.placeholderIcon})):N.createElement("img",UFe(FK({},p),{className:E.image,src:o,alt:s,onError:()=>w(!0)})))});X$.displayName="@mantine/core/Avatar";X$.Group=Qre;const dyt=X$;var YFe=Object.defineProperty,qFe=Object.defineProperties,QFe=Object.getOwnPropertyDescriptors,MK=Object.getOwnPropertySymbols,XFe=Object.prototype.hasOwnProperty,JFe=Object.prototype.propertyIsEnumerable,LK=(r,e,t)=>e in r?YFe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w0=(r,e)=>{for(var t in e||(e={}))XFe.call(e,t)&&LK(r,t,e[t]);if(MK)for(var t of MK(e))JFe.call(e,t)&&LK(r,t,e[t]);return r},ZFe=(r,e)=>qFe(r,QFe(e));const eMe=["light","filled","outline","dot","gradient"],S0={xs:{fontSize:U(9),height:U(16)},sm:{fontSize:U(10),height:U(18)},md:{fontSize:U(11),height:U(20)},lg:{fontSize:U(13),height:U(26)},xl:{fontSize:U(16),height:U(32)}},tMe={xs:U(4),sm:U(4),md:U(6),lg:U(8),xl:U(10)};function nMe({theme:r,variant:e,color:t,size:n,gradient:i}){if(!eMe.includes(e))return null;if(e==="dot"){const s=Oe({size:n,sizes:tMe});return{backgroundColor:"transparent",color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[7],border:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[3]}`,paddingLeft:`calc(${Oe({size:n,sizes:r.spacing})} / 1.5 - ${s} / 2)`,"&::before":{content:'""',display:"block",width:s,height:s,borderRadius:s,backgroundColor:r.fn.themeColor(t,r.colorScheme==="dark"?4:r.fn.primaryShade("light"),!0),marginRight:s}}}const o=r.fn.variant({color:t,variant:e,gradient:i});return{background:o.background,color:o.color,border:`${U(e==="gradient"?0:1)} solid ${o.border}`}}var rMe=Xe((r,{color:e,radius:t,gradient:n,fullWidth:i},{variant:o,size:s})=>{const{fontSize:a,height:l}=s in S0?S0[s]:S0.md;return{leftSection:{marginRight:`calc(${r.spacing.xs} / 2)`},rightSection:{marginLeft:`calc(${r.spacing.xs} / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:w0(ZFe(w0(w0({},r.fn.focusStyles()),r.fn.fontStyles()),{fontSize:a,height:l,WebkitTapHighlightColor:"transparent",lineHeight:`calc(${l} - ${U(2)})`,textDecoration:"none",padding:`0 calc(${Oe({size:s,sizes:r.spacing})} / 1.5)`,boxSizing:"border-box",display:i?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:i?"100%":"auto",textTransform:"uppercase",borderRadius:r.fn.radius(t),fontWeight:700,letterSpacing:U(.25),cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),nMe({theme:r,variant:o,color:e,size:s,gradient:n}))}}),iMe=Object.defineProperty,iD=Object.getOwnPropertySymbols,Zre=Object.prototype.hasOwnProperty,eie=Object.prototype.propertyIsEnumerable,NK=(r,e,t)=>e in r?iMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oMe=(r,e)=>{for(var t in e)Zre.call(e,t)&&NK(r,t,e[t]);if(iD)for(var t of iD(e))eie.call(e,t)&&NK(r,t,e[t]);return r},sMe=(r,e)=>{var t={};for(var n in r)Zre.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&iD)for(var n of iD(r))e.indexOf(n)<0&&eie.call(r,n)&&(t[n]=r[n]);return t};const aMe={variant:"light",size:"md",radius:"xl"},tie=S.forwardRef((r,e)=>{const t=Ve("Badge",aMe,r),{className:n,color:i,variant:o,fullWidth:s,children:a,size:l,leftSection:u,rightSection:c,radius:d,gradient:h,classNames:f,styles:p,unstyled:g}=t,C=sMe(t,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:m,cx:y}=rMe({fullWidth:s,color:i,radius:d,gradient:h},{classNames:f,styles:p,name:"Badge",unstyled:g,variant:o,size:l});return N.createElement(it,oMe({className:y(m.root,n),ref:e},C),u&&N.createElement("span",{className:m.leftSection},u),N.createElement("span",{className:m.inner},a),c&&N.createElement("span",{className:m.rightSection},c))});tie.displayName="@mantine/core/Badge";const hyt=tie;var lMe=Xe((r,{orientation:e,buttonBorderWidth:t})=>({root:{display:"flex",flexDirection:e==="vertical"?"column":"row","& [data-button]":{"&:first-of-type:not(:last-of-type)":{borderBottomRightRadius:0,[e==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[e==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${U(t)} / 2)`},"&:last-of-type:not(:first-of-type)":{borderTopLeftRadius:0,[e==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[e==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${U(t)} / 2)`},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[e==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${U(t)} / 2)`,[e==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${U(t)} / 2)`},"& + [data-button]":{[e==="vertical"?"marginTop":"marginLeft"]:`calc(${t} * -1)`,"@media (min-resolution: 192dpi)":{[e==="vertical"?"marginTop":"marginLeft"]:0}}}}})),uMe=Object.defineProperty,oD=Object.getOwnPropertySymbols,nie=Object.prototype.hasOwnProperty,rie=Object.prototype.propertyIsEnumerable,GK=(r,e,t)=>e in r?uMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cMe=(r,e)=>{for(var t in e)nie.call(e,t)&&GK(r,t,e[t]);if(oD)for(var t of oD(e))rie.call(e,t)&&GK(r,t,e[t]);return r},dMe=(r,e)=>{var t={};for(var n in r)nie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&oD)for(var n of oD(r))e.indexOf(n)<0&&rie.call(r,n)&&(t[n]=r[n]);return t};const hMe={orientation:"horizontal",buttonBorderWidth:1},iie=S.forwardRef((r,e)=>{const t=Ve("ButtonGroup",hMe,r),{className:n,orientation:i,buttonBorderWidth:o,unstyled:s}=t,a=dMe(t,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=lMe({orientation:i,buttonBorderWidth:o},{name:"ButtonGroup",unstyled:s});return N.createElement(it,cMe({className:u(l.root,n),ref:e},a))});iie.displayName="@mantine/core/ButtonGroup";var fMe=Object.defineProperty,pMe=Object.defineProperties,gMe=Object.getOwnPropertyDescriptors,VK=Object.getOwnPropertySymbols,mMe=Object.prototype.hasOwnProperty,vMe=Object.prototype.propertyIsEnumerable,kK=(r,e,t)=>e in r?fMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oc=(r,e)=>{for(var t in e||(e={}))mMe.call(e,t)&&kK(r,t,e[t]);if(VK)for(var t of VK(e))vMe.call(e,t)&&kK(r,t,e[t]);return r},iP=(r,e)=>pMe(r,gMe(e));const yMe=["filled","outline","light","white","default","subtle","gradient"],X1={xs:{height:So.xs,paddingLeft:U(14),paddingRight:U(14)},sm:{height:So.sm,paddingLeft:U(18),paddingRight:U(18)},md:{height:So.md,paddingLeft:U(22),paddingRight:U(22)},lg:{height:So.lg,paddingLeft:U(26),paddingRight:U(26)},xl:{height:So.xl,paddingLeft:U(32),paddingRight:U(32)},"compact-xs":{height:U(22),paddingLeft:U(7),paddingRight:U(7)},"compact-sm":{height:U(26),paddingLeft:U(8),paddingRight:U(8)},"compact-md":{height:U(30),paddingLeft:U(10),paddingRight:U(10)},"compact-lg":{height:U(34),paddingLeft:U(12),paddingRight:U(12)},"compact-xl":{height:U(40),paddingLeft:U(14),paddingRight:U(14)}};function CMe({compact:r,size:e,withLeftIcon:t,withRightIcon:n}){if(r)return X1[`compact-${e}`];const i=X1[e];return i?iP(oc({},i),{paddingLeft:t?`calc(${i.paddingLeft}  / 1.5)`:i.paddingLeft,paddingRight:n?`calc(${i.paddingRight}  / 1.5)`:i.paddingRight}):{}}const wMe=r=>({display:r?"block":"inline-block",width:r?"100%":"auto"});function SMe({variant:r,theme:e,color:t,gradient:n}){if(!yMe.includes(r))return null;const i=e.fn.variant({color:t,variant:r,gradient:n});return r==="gradient"?oc({border:0,backgroundImage:i.background,color:i.color},e.fn.hover({backgroundSize:"200%"})):oc({border:`${U(1)} solid ${i.border}`,backgroundColor:i.background,color:i.color},e.fn.hover({backgroundColor:i.hover}))}var EMe=Xe((r,{radius:e,fullWidth:t,compact:n,withLeftIcon:i,withRightIcon:o,color:s,gradient:a},{variant:l,size:u})=>({root:iP(oc(iP(oc(oc(oc(oc({},CMe({compact:n,size:u,withLeftIcon:i,withRightIcon:o})),r.fn.fontStyles()),r.fn.focusStyles()),wMe(t)),{borderRadius:r.fn.radius(e),fontWeight:600,position:"relative",lineHeight:1,fontSize:Oe({size:u,sizes:r.fontSizes}),userSelect:"none",cursor:"pointer"}),SMe({variant:l,theme:r,color:s,gradient:a})),{"&:active":r.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],color:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":iP(oc({content:'""'},r.fn.cover(U(-1))),{backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:r.fn.radius(e),cursor:"not-allowed"})}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:r.spacing.xs},rightIcon:{marginLeft:r.spacing.xs},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),_Me=Object.defineProperty,sD=Object.getOwnPropertySymbols,oie=Object.prototype.hasOwnProperty,sie=Object.prototype.propertyIsEnumerable,HK=(r,e,t)=>e in r?_Me(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$K=(r,e)=>{for(var t in e||(e={}))oie.call(e,t)&&HK(r,t,e[t]);if(sD)for(var t of sD(e))sie.call(e,t)&&HK(r,t,e[t]);return r},RMe=(r,e)=>{var t={};for(var n in r)oie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&sD)for(var n of sD(r))e.indexOf(n)<0&&sie.call(r,n)&&(t[n]=r[n]);return t};const bMe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},J$=S.forwardRef((r,e)=>{const t=Ve("Button",bMe,r),{className:n,size:i,color:o,type:s,disabled:a,children:l,leftIcon:u,rightIcon:c,fullWidth:d,variant:h,radius:f,uppercase:p,compact:g,loading:C,loaderPosition:m,loaderProps:y,gradient:w,classNames:E,styles:P,unstyled:T}=t,R=RMe(t,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:_,cx:b,theme:D}=EMe({radius:f,color:o,fullWidth:d,compact:g,gradient:w,withLeftIcon:!!u,withRightIcon:!!c},{name:"Button",unstyled:T,classNames:E,styles:P,variant:h,size:i}),M=D.fn.variant({color:o,variant:h}),G=N.createElement(XE,$K({color:M.color,size:`calc(${Oe({size:i,sizes:X1}).height} / 2)`},y));return N.createElement(D$,$K({className:b(_.root,n),type:s,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":C||void 0,ref:e,unstyled:T},R),N.createElement("div",{className:_.inner},(u||C&&m==="left")&&N.createElement("span",{className:b(_.icon,_.leftIcon)},C&&m==="left"?G:u),C&&m==="center"&&N.createElement("span",{className:_.centerLoader},G),N.createElement("span",{className:_.label,style:{textTransform:p?"uppercase":void 0}},l),(c||C&&m==="right")&&N.createElement("span",{className:b(_.icon,_.rightIcon)},C&&m==="right"?G:c)))});J$.displayName="@mantine/core/Button";J$.Group=iie;const fyt=J$;var TMe=Xe((r,{radius:e,shadow:t})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,boxSizing:"border-box",borderRadius:r.fn.radius(e),boxShadow:r.shadows[t]||t||"none","&[data-with-border]":{border:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}}})),PMe=Object.defineProperty,aD=Object.getOwnPropertySymbols,aie=Object.prototype.hasOwnProperty,lie=Object.prototype.propertyIsEnumerable,BK=(r,e,t)=>e in r?PMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,OMe=(r,e)=>{for(var t in e)aie.call(e,t)&&BK(r,t,e[t]);if(aD)for(var t of aD(e))lie.call(e,t)&&BK(r,t,e[t]);return r},DMe=(r,e)=>{var t={};for(var n in r)aie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&aD)for(var n of aD(r))e.indexOf(n)<0&&lie.call(r,n)&&(t[n]=r[n]);return t};const AMe={},uie=S.forwardRef((r,e)=>{const t=Ve("Paper",AMe,r),{className:n,children:i,radius:o,withBorder:s,shadow:a,unstyled:l,variant:u}=t,c=DMe(t,["className","children","radius","withBorder","shadow","unstyled","variant"]),{classes:d,cx:h}=TMe({radius:o,shadow:a},{name:"Paper",unstyled:l,variant:u});return N.createElement(it,OMe({className:h(d.root,n),"data-with-border":s||void 0,ref:e},c),i)});uie.displayName="@mantine/core/Paper";const cie=uie,die=S.createContext({padding:0}),xMe=die.Provider,IMe=()=>S.useContext(die).padding;var FMe=Xe((r,{padding:e,withBorder:t,inheritPadding:n})=>{const i=Oe({size:e,sizes:r.spacing}),o=`calc(-1 * ${i})`,s=r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3];return{cardSection:{display:"block",marginLeft:o,marginRight:o,paddingLeft:n?i:void 0,paddingRight:n?i:void 0,borderTop:t?`${U(1)} solid ${s}`:void 0,borderBottom:t?`${U(1)} solid ${s}`:void 0,"& + &":{borderTop:0},"&[data-first]":{marginTop:o,borderTop:0,borderBottom:t?`${U(1)} solid ${s}`:void 0},"&[data-last]":{marginBottom:o,borderBottom:0}}}}),MMe=Object.defineProperty,lD=Object.getOwnPropertySymbols,hie=Object.prototype.hasOwnProperty,fie=Object.prototype.propertyIsEnumerable,jK=(r,e,t)=>e in r?MMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,LMe=(r,e)=>{for(var t in e)hie.call(e,t)&&jK(r,t,e[t]);if(lD)for(var t of lD(e))fie.call(e,t)&&jK(r,t,e[t]);return r},NMe=(r,e)=>{var t={};for(var n in r)hie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&lD)for(var n of lD(r))e.indexOf(n)<0&&fie.call(r,n)&&(t[n]=r[n]);return t};const GMe={withBorder:!1,inheritPadding:!1},pie=S.forwardRef((r,e)=>{const t=Ve("CardSection",GMe,r),{className:n,withBorder:i,inheritPadding:o,unstyled:s,variant:a}=t,l=NMe(t,["className","withBorder","inheritPadding","unstyled","variant"]),{classes:u,cx:c}=FMe({padding:IMe(),withBorder:i,inheritPadding:o},{name:"Card",unstyled:s,variant:a});return N.createElement(it,LMe({className:c(u.cardSection,n),ref:e},l))});pie.displayName="@mantine/core/CardSection";const gie=pie;var VMe=Xe(r=>({root:{position:"relative",overflow:"hidden",backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white}})),kMe=Object.defineProperty,uD=Object.getOwnPropertySymbols,mie=Object.prototype.hasOwnProperty,vie=Object.prototype.propertyIsEnumerable,WK=(r,e,t)=>e in r?kMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,HMe=(r,e)=>{for(var t in e)mie.call(e,t)&&WK(r,t,e[t]);if(uD)for(var t of uD(e))vie.call(e,t)&&WK(r,t,e[t]);return r},$Me=(r,e)=>{var t={};for(var n in r)mie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&uD)for(var n of uD(r))e.indexOf(n)<0&&vie.call(r,n)&&(t[n]=r[n]);return t};const BMe={padding:"md"},Z$=S.forwardRef((r,e)=>{const t=Ve("Card",BMe,r),{className:n,padding:i,radius:o,children:s,unstyled:a,variant:l}=t,u=$Me(t,["className","padding","radius","children","unstyled","variant"]),{classes:c,cx:d}=VMe(null,{name:"Card",unstyled:a,variant:l}),h=S.Children.toArray(s),f=h.map((p,g)=>typeof p=="object"&&p&&"type"in p&&p.type===gie?S.cloneElement(p,{variant:l,padding:i,"data-first":g===0||void 0,"data-last":g===h.length-1||void 0}):p);return N.createElement(xMe,{value:{padding:i}},N.createElement(cie,HMe({className:d(c.root,n),radius:o,p:i,ref:e},u),f))});Z$.Section=gie;Z$.displayName="@mantine/core/Card";const pyt=Z$;var jMe=Xe((r,{inline:e})=>({root:{display:e?"inline-flex":"flex",alignItems:"center",justifyContent:"center"}})),WMe=Object.defineProperty,cD=Object.getOwnPropertySymbols,yie=Object.prototype.hasOwnProperty,Cie=Object.prototype.propertyIsEnumerable,UK=(r,e,t)=>e in r?WMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,UMe=(r,e)=>{for(var t in e)yie.call(e,t)&&UK(r,t,e[t]);if(cD)for(var t of cD(e))Cie.call(e,t)&&UK(r,t,e[t]);return r},zMe=(r,e)=>{var t={};for(var n in r)yie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&cD)for(var n of cD(r))e.indexOf(n)<0&&Cie.call(r,n)&&(t[n]=r[n]);return t};const wie=S.forwardRef((r,e)=>{const t=Ve("Center",{},r),{inline:n,className:i,unstyled:o,variant:s}=t,a=zMe(t,["inline","className","unstyled","variant"]),{classes:l,cx:u}=jMe({inline:n},{name:"Center",unstyled:o,variant:s});return N.createElement(it,UMe({ref:e,className:u(l.root,i)},a))});wie.displayName="@mantine/core/Center";const gyt=wie;var KMe=Object.defineProperty,YMe=Object.defineProperties,qMe=Object.getOwnPropertyDescriptors,zK=Object.getOwnPropertySymbols,QMe=Object.prototype.hasOwnProperty,XMe=Object.prototype.propertyIsEnumerable,KK=(r,e,t)=>e in r?KMe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,JMe=(r,e)=>{for(var t in e||(e={}))QMe.call(e,t)&&KK(r,t,e[t]);if(zK)for(var t of zK(e))XMe.call(e,t)&&KK(r,t,e[t]);return r},ZMe=(r,e)=>YMe(r,qMe(e));const E0={xs:U(16),sm:U(20),md:U(24),lg:U(30),xl:U(36)};var eLe=Xe((r,{labelPosition:e},{size:t})=>({root:{},body:{display:"flex","&:has(input:disabled) label":{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]}},labelWrapper:ZMe(JMe({},r.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:t in E0?Oe({size:t,sizes:r.fontSizes}):void 0,lineHeight:t in E0?Oe({size:t,sizes:E0}):void 0,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,cursor:r.cursorType,order:e==="left"?1:2}),description:{marginTop:`calc(${r.spacing.xs} / 2)`,[e==="left"?"paddingRight":"paddingLeft"]:r.spacing.sm},error:{marginTop:`calc(${r.spacing.xs} / 2)`,[e==="left"?"paddingRight":"paddingLeft"]:r.spacing.sm},label:{cursor:r.cursorType,[e==="left"?"paddingRight":"paddingLeft"]:r.spacing.sm,"&:disabled, &[data-disabled]":{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]}}})),tLe=Object.defineProperty,dD=Object.getOwnPropertySymbols,Sie=Object.prototype.hasOwnProperty,Eie=Object.prototype.propertyIsEnumerable,YK=(r,e,t)=>e in r?tLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nLe=(r,e)=>{for(var t in e)Sie.call(e,t)&&YK(r,t,e[t]);if(dD)for(var t of dD(e))Eie.call(e,t)&&YK(r,t,e[t]);return r},rLe=(r,e)=>{var t={};for(var n in r)Sie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&dD)for(var n of dD(r))e.indexOf(n)<0&&Eie.call(r,n)&&(t[n]=r[n]);return t};const _ie=S.forwardRef((r,e)=>{var t=r,{__staticSelector:n,className:i,classNames:o,styles:s,unstyled:a,children:l,label:u,description:c,id:d,disabled:h,error:f,size:p,labelPosition:g,variant:C}=t,m=rLe(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition","variant"]);const{classes:y,cx:w}=eLe({labelPosition:g},{name:n,styles:s,classNames:o,unstyled:a,variant:C,size:p});return N.createElement(it,nLe({className:w(y.root,i),ref:e},m),N.createElement("div",{className:w(y.body)},l,N.createElement("div",{className:y.labelWrapper},u!=null&&N.createElement("label",{className:y.label,"data-disabled":h||void 0,htmlFor:d},u),c&&N.createElement(wu.Description,{className:y.description},c),f&&f!=="boolean"&&N.createElement(wu.Error,{className:y.error},f))))});_ie.displayName="@mantine/core/InlineInput";var iLe=Xe((r,{fluid:e,sizes:t},{size:n})=>({root:{paddingLeft:r.spacing.md,paddingRight:r.spacing.md,maxWidth:e?"100%":Oe({size:n,sizes:t}),marginLeft:"auto",marginRight:"auto"}})),oLe=Object.defineProperty,hD=Object.getOwnPropertySymbols,Rie=Object.prototype.hasOwnProperty,bie=Object.prototype.propertyIsEnumerable,qK=(r,e,t)=>e in r?oLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sLe=(r,e)=>{for(var t in e)Rie.call(e,t)&&qK(r,t,e[t]);if(hD)for(var t of hD(e))bie.call(e,t)&&qK(r,t,e[t]);return r},aLe=(r,e)=>{var t={};for(var n in r)Rie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&hD)for(var n of hD(r))e.indexOf(n)<0&&bie.call(r,n)&&(t[n]=r[n]);return t};const lLe={sizes:{xs:U(540),sm:U(720),md:U(960),lg:U(1140),xl:U(1320)}},uLe=S.forwardRef((r,e)=>{const t=Ve("Container",lLe,r),{className:n,fluid:i,size:o,unstyled:s,sizes:a,variant:l}=t,u=aLe(t,["className","fluid","size","unstyled","sizes","variant"]),{classes:c,cx:d}=iLe({fluid:i,sizes:a},{unstyled:s,name:"Container",variant:l,size:o});return N.createElement(it,sLe({className:d(c.root,n),ref:e},u))});uLe.displayName="@mantine/core/Container";const[cLe,hy]=sg("ModalBase component was not found in tree");var dLe=Xe(()=>({close:{marginLeft:"auto",marginRight:0}})),hLe=Object.defineProperty,fD=Object.getOwnPropertySymbols,Tie=Object.prototype.hasOwnProperty,Pie=Object.prototype.propertyIsEnumerable,QK=(r,e,t)=>e in r?hLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fLe=(r,e)=>{for(var t in e)Tie.call(e,t)&&QK(r,t,e[t]);if(fD)for(var t of fD(e))Pie.call(e,t)&&QK(r,t,e[t]);return r},pLe=(r,e)=>{var t={};for(var n in r)Tie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&fD)for(var n of fD(r))e.indexOf(n)<0&&Pie.call(r,n)&&(t[n]=r[n]);return t};const gLe={size:"sm"},mLe=S.forwardRef((r,e)=>{const t=hy(),n=Ve(`${t.__staticSelector}CloseButton`,gLe,r),{className:i}=n,o=pLe(n,["className"]),{classes:s,cx:a}=dLe(null,t.stylesApi);return N.createElement(UI,fLe({className:a(s.close,i),ref:e,onClick:t.onClose},o))});var vLe=Xe(()=>({overlay:{}})),yLe=Object.defineProperty,CLe=Object.defineProperties,wLe=Object.getOwnPropertyDescriptors,XK=Object.getOwnPropertySymbols,SLe=Object.prototype.hasOwnProperty,ELe=Object.prototype.propertyIsEnumerable,JK=(r,e,t)=>e in r?yLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_Le=(r,e)=>{for(var t in e||(e={}))SLe.call(e,t)&&JK(r,t,e[t]);if(XK)for(var t of XK(e))ELe.call(e,t)&&JK(r,t,e[t]);return r},RLe=(r,e)=>CLe(r,wLe(e)),bLe=Xe((r,{color:e,opacity:t,blur:n,radius:i,gradient:o,fixed:s,zIndex:a})=>({root:RLe(_Le({},r.fn.cover(0)),{position:s?"fixed":"absolute",backgroundColor:o?void 0:r.fn.rgba(e,t),backgroundImage:o,backdropFilter:n?`blur(${U(n)})`:void 0,borderRadius:r.fn.radius(i),zIndex:a,"&[data-center]":{display:"flex",alignItems:"center",justifyContent:"center"}})})),TLe=Object.defineProperty,pD=Object.getOwnPropertySymbols,Oie=Object.prototype.hasOwnProperty,Die=Object.prototype.propertyIsEnumerable,ZK=(r,e,t)=>e in r?TLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,PLe=(r,e)=>{for(var t in e)Oie.call(e,t)&&ZK(r,t,e[t]);if(pD)for(var t of pD(e))Die.call(e,t)&&ZK(r,t,e[t]);return r},OLe=(r,e)=>{var t={};for(var n in r)Oie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&pD)for(var n of pD(r))e.indexOf(n)<0&&Die.call(r,n)&&(t[n]=r[n]);return t};const DLe={opacity:.6,color:"#000",zIndex:xl("modal"),radius:0},Aie=S.forwardRef((r,e)=>{const t=Ve("Overlay",DLe,r),{variant:n,opacity:i,color:o,blur:s,gradient:a,zIndex:l,radius:u,children:c,className:d,classNames:h,styles:f,unstyled:p,center:g,fixed:C}=t,m=OLe(t,["variant","opacity","color","blur","gradient","zIndex","radius","children","className","classNames","styles","unstyled","center","fixed"]),{classes:y,cx:w}=bLe({color:o,opacity:i,blur:s,radius:u,gradient:a,fixed:C,zIndex:l},{name:"Overlay",classNames:h,styles:f,unstyled:p,variant:n});return N.createElement(it,PLe({ref:e,className:w(y.root,d),"data-center":g||void 0},m),c)});Aie.displayName="@mantine/core/Overlay";const xie=Aie;var ALe=Object.defineProperty,xLe=Object.defineProperties,ILe=Object.getOwnPropertyDescriptors,gD=Object.getOwnPropertySymbols,Iie=Object.prototype.hasOwnProperty,Fie=Object.prototype.propertyIsEnumerable,e6=(r,e,t)=>e in r?ALe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mC=(r,e)=>{for(var t in e||(e={}))Iie.call(e,t)&&e6(r,t,e[t]);if(gD)for(var t of gD(e))Fie.call(e,t)&&e6(r,t,e[t]);return r},FLe=(r,e)=>xLe(r,ILe(e)),MLe=(r,e)=>{var t={};for(var n in r)Iie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&gD)for(var n of gD(r))e.indexOf(n)<0&&Fie.call(r,n)&&(t[n]=r[n]);return t};const LLe={},NLe=S.forwardRef((r,e)=>{const t=hy(),n=Ve(`${t.__staticSelector}Overlay`,LLe,r),{onClick:i,transitionProps:o,style:s,className:a}=n,l=MLe(n,["onClick","transitionProps","style","className"]),{classes:u,cx:c}=vLe(null,t.stylesApi),d=h=>{i==null||i(h),t.closeOnClickOutside&&t.onClose()};return N.createElement(dy,FLe(mC(mC({mounted:t.opened},t.transitionProps),o),{transition:"fade"}),h=>N.createElement(xie,mC({ref:e,onClick:d,fixed:!0,style:mC(mC({},s),h),className:c(u.overlay,a),zIndex:t.zIndex},l)))});var GLe=Xe((r,{zIndex:e})=>({inner:{position:"fixed",width:"100%",top:0,bottom:0,maxHeight:"100%",zIndex:e,pointerEvents:"none"},content:{pointerEvents:"all"}})),VLe=Object.defineProperty,mD=Object.getOwnPropertySymbols,Mie=Object.prototype.hasOwnProperty,Lie=Object.prototype.propertyIsEnumerable,t6=(r,e,t)=>e in r?VLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vC=(r,e)=>{for(var t in e||(e={}))Mie.call(e,t)&&t6(r,t,e[t]);if(mD)for(var t of mD(e))Lie.call(e,t)&&t6(r,t,e[t]);return r},kLe=(r,e)=>{var t={};for(var n in r)Mie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&mD)for(var n of mD(r))e.indexOf(n)<0&&Lie.call(r,n)&&(t[n]=r[n]);return t};const HLe={},$Le=S.forwardRef((r,e)=>{const t=hy(),n=Ve(`${t.__staticSelector}Content`,HLe,r),{className:i,transitionProps:o,style:s,onKeyDown:a}=n,l=kLe(n,["className","transitionProps","style","onKeyDown"]),{classes:u,cx:c}=GLe({zIndex:t.zIndex},t.stylesApi),d=h=>{var f;((f=h.target)==null?void 0:f.getAttribute("data-mantine-stop-propagation"))!=="true"&&h.key==="Escape"&&t.closeOnEscape&&t.onClose(),a==null||a(h)};return N.createElement(dy,vC(vC({mounted:t.opened,transition:"pop"},t.transitionProps),o),h=>N.createElement("div",{className:c(u.inner)},N.createElement(z$,{active:t.opened&&t.trapFocus},N.createElement(cie,vC({component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":t.bodyMounted?t.getBodyId():void 0,"aria-labelledby":t.titleMounted?t.getTitleId():void 0,onKeyDown:d,ref:e,className:c(u.content,i),style:vC(vC({},s),h),shadow:t.shadow},l),l.children))))});var BLe=Xe((r,{padding:e})=>{const t=Oe({size:e,sizes:r.spacing});return{header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t,paddingRight:`calc(${t} - ${U(5)})`,position:"sticky",top:0,backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,zIndex:1e3}}}),jLe=Object.defineProperty,vD=Object.getOwnPropertySymbols,Nie=Object.prototype.hasOwnProperty,Gie=Object.prototype.propertyIsEnumerable,n6=(r,e,t)=>e in r?jLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,WLe=(r,e)=>{for(var t in e)Nie.call(e,t)&&n6(r,t,e[t]);if(vD)for(var t of vD(e))Gie.call(e,t)&&n6(r,t,e[t]);return r},ULe=(r,e)=>{var t={};for(var n in r)Nie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&vD)for(var n of vD(r))e.indexOf(n)<0&&Gie.call(r,n)&&(t[n]=r[n]);return t};const zLe={},KLe=S.forwardRef((r,e)=>{const t=hy(),n=Ve(`${t.__staticSelector}Header`,zLe,r),{className:i}=n,o=ULe(n,["className"]),{classes:s,cx:a}=BLe({padding:t.padding},t.stylesApi);return N.createElement(it,WLe({ref:e,className:a(s.header,i)},o))});var YLe=Xe(r=>({title:{lineHeight:1,padding:0,margin:0,fontWeight:400,fontSize:r.fontSizes.md}})),qLe=Object.defineProperty,yD=Object.getOwnPropertySymbols,Vie=Object.prototype.hasOwnProperty,kie=Object.prototype.propertyIsEnumerable,r6=(r,e,t)=>e in r?qLe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,QLe=(r,e)=>{for(var t in e)Vie.call(e,t)&&r6(r,t,e[t]);if(yD)for(var t of yD(e))kie.call(e,t)&&r6(r,t,e[t]);return r},XLe=(r,e)=>{var t={};for(var n in r)Vie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&yD)for(var n of yD(r))e.indexOf(n)<0&&kie.call(r,n)&&(t[n]=r[n]);return t};const JLe={},ZLe=S.forwardRef((r,e)=>{const t=hy(),n=Ve(`${t.__staticSelector}Title`,JLe,r),{className:i}=n,o=XLe(n,["className"]),{classes:s,cx:a}=YLe(null,t.stylesApi);return S.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),N.createElement(it,QLe({component:"h2",id:t.getTitleId(),className:a(s.title,i),ref:e},o))});var e0e=Xe((r,{padding:e})=>({body:{padding:Oe({size:e,sizes:r.spacing}),"&:not(:only-child)":{paddingTop:0}}})),t0e=Object.defineProperty,CD=Object.getOwnPropertySymbols,Hie=Object.prototype.hasOwnProperty,$ie=Object.prototype.propertyIsEnumerable,i6=(r,e,t)=>e in r?t0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,n0e=(r,e)=>{for(var t in e)Hie.call(e,t)&&i6(r,t,e[t]);if(CD)for(var t of CD(e))$ie.call(e,t)&&i6(r,t,e[t]);return r},r0e=(r,e)=>{var t={};for(var n in r)Hie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&CD)for(var n of CD(r))e.indexOf(n)<0&&$ie.call(r,n)&&(t[n]=r[n]);return t};const i0e={},o0e=S.forwardRef((r,e)=>{const t=hy(),n=Ve(`${t.__staticSelector}Body`,i0e,r),{className:i}=n,o=r0e(n,["className"]),{classes:s,cx:a}=e0e({padding:t.padding},t.stylesApi);return S.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),N.createElement(it,n0e({id:t.getBodyId(),className:a(s.body,i),ref:e},o))});function s0e({children:r}){return N.createElement(N.Fragment,null,r)}function a0e({opened:r,transitionDuration:e}){const[t,n]=S.useState(r),i=S.useRef(),s=QE()?0:e;return S.useEffect(()=>(r?(n(!0),window.clearTimeout(i.current)):s===0?n(!1):i.current=window.setTimeout(()=>n(!1),s),()=>window.clearTimeout(i.current)),[r,s]),t}var l0e=Xe(()=>({root:{}})),u0e=Object.defineProperty,c0e=Object.defineProperties,d0e=Object.getOwnPropertyDescriptors,wD=Object.getOwnPropertySymbols,Bie=Object.prototype.hasOwnProperty,jie=Object.prototype.propertyIsEnumerable,o6=(r,e,t)=>e in r?u0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_0=(r,e)=>{for(var t in e||(e={}))Bie.call(e,t)&&o6(r,t,e[t]);if(wD)for(var t of wD(e))jie.call(e,t)&&o6(r,t,e[t]);return r},s6=(r,e)=>c0e(r,d0e(e)),h0e=(r,e)=>{var t={};for(var n in r)Bie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&wD)for(var n of wD(r))e.indexOf(n)<0&&jie.call(r,n)&&(t[n]=r[n]);return t};const eB={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:xl("modal"),padding:"md",size:"md",shadow:"xl"};function xr(r){const e=Ve("ModalBase",eB,r),{opened:t,onClose:n,children:i,closeOnClickOutside:o,__staticSelector:s,transitionProps:a,withinPortal:l,portalProps:u,keepMounted:c,target:d,zIndex:h,lockScroll:f,trapFocus:p,closeOnEscape:g,returnFocus:C,padding:m,shadow:y,id:w,size:E,variant:P,classNames:T,unstyled:R,styles:_,className:b}=e,D=h0e(e,["opened","onClose","children","closeOnClickOutside","__staticSelector","transitionProps","withinPortal","portalProps","keepMounted","target","zIndex","lockScroll","trapFocus","closeOnEscape","returnFocus","padding","shadow","id","size","variant","classNames","unstyled","styles","className"]),{classes:M,cx:G}=l0e(null,{name:s,classNames:T,styles:_,unstyled:R,variant:P,size:E}),I=Uh(w),[L,B]=S.useState(!1),[j,z]=S.useState(!1),W=typeof(a==null?void 0:a.duration)=="number"?a==null?void 0:a.duration:200,H=a0e({opened:t,transitionDuration:W});return $1("keydown",Y=>{!p&&Y.key==="Escape"&&g&&n()}),wte({opened:t,shouldReturnFocus:p&&C}),N.createElement(ly,s6(_0({},u),{withinPortal:l,target:d}),N.createElement(cLe,{value:{__staticSelector:s,opened:t,onClose:n,closeOnClickOutside:o,transitionProps:s6(_0({},a),{duration:W,keepMounted:c}),zIndex:h,padding:m,id:I,getTitleId:()=>`${I}-title`,getBodyId:()=>`${I}-body`,titleMounted:L,bodyMounted:j,setTitleMounted:B,setBodyMounted:z,trapFocus:p,closeOnEscape:g,shadow:y,stylesApi:{name:s,size:E,variant:P,classNames:T,styles:_,unstyled:R}}},N.createElement(jee,{enabled:H&&f},N.createElement(it,_0({className:G(M.root,b)},D),i))))}xr.CloseButton=mLe;xr.Overlay=NLe;xr.Content=$Le;xr.Header=KLe;xr.Title=ZLe;xr.Body=o0e;xr.NativeScrollArea=s0e;const[f0e,p0e]=sg("Grid component was not found in tree");var g0e=Object.defineProperty,a6=Object.getOwnPropertySymbols,m0e=Object.prototype.hasOwnProperty,v0e=Object.prototype.propertyIsEnumerable,l6=(r,e,t)=>e in r?g0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,y0e=(r,e)=>{for(var t in e||(e={}))m0e.call(e,t)&&l6(r,t,e[t]);if(a6)for(var t of a6(e))v0e.call(e,t)&&l6(r,t,e[t]);return r};const tB=(r,e)=>r==="content"?"auto":r==="auto"?"0rem":r?`${100/(e/r)}%`:void 0,Wie=(r,e,t)=>t||r==="auto"||r==="content"?"unset":tB(r,e),Uie=(r,e)=>{if(r)return r==="auto"||e?1:0},zie=(r,e)=>r===0?0:r?`${100/(e/r)}%`:void 0,Kie=(r,e)=>typeof r<"u"?`calc(${Oe({size:r,sizes:e.spacing})} / 2)`:void 0;function C0e({sizes:r,offsets:e,orders:t,theme:n,columns:i,gutters:o,grow:s}){return Xee.reduce((a,l)=>(a[`@media (min-width: ${zs(n.breakpoints[l])})`]={order:t[l],flexBasis:tB(r[l],i),padding:Kie(o[l],n),flexShrink:0,width:r[l]==="content"?"auto":void 0,maxWidth:Wie(r[l],i,s),marginLeft:zie(e[l],i),flexGrow:Uie(r[l],s)},a),{})}var w0e=Xe((r,{gutter:e,gutterXs:t,gutterSm:n,gutterMd:i,gutterLg:o,gutterXl:s,grow:a,offset:l,offsetXs:u,offsetSm:c,offsetMd:d,offsetLg:h,offsetXl:f,columns:p,span:g,xs:C,sm:m,md:y,lg:w,xl:E,order:P,orderXs:T,orderSm:R,orderMd:_,orderLg:b,orderXl:D})=>({col:y0e({boxSizing:"border-box",flexGrow:Uie(g,a),order:P,padding:Kie(e,r),marginLeft:zie(l,p),flexBasis:tB(g,p),flexShrink:0,width:g==="content"?"auto":void 0,maxWidth:Wie(g,p,a)},C0e({sizes:{xs:C,sm:m,md:y,lg:w,xl:E},offsets:{xs:u,sm:c,md:d,lg:h,xl:f},orders:{xs:T,sm:R,md:_,lg:b,xl:D},gutters:{xs:t,sm:n,md:i,lg:o,xl:s},theme:r,columns:p,grow:a}))})),S0e=Object.defineProperty,SD=Object.getOwnPropertySymbols,Yie=Object.prototype.hasOwnProperty,qie=Object.prototype.propertyIsEnumerable,u6=(r,e,t)=>e in r?S0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,E0e=(r,e)=>{for(var t in e)Yie.call(e,t)&&u6(r,t,e[t]);if(SD)for(var t of SD(e))qie.call(e,t)&&u6(r,t,e[t]);return r},_0e=(r,e)=>{var t={};for(var n in r)Yie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&SD)for(var n of SD(r))e.indexOf(n)<0&&qie.call(r,n)&&(t[n]=r[n]);return t};const R0e={};function b0e(r){return r==="auto"||r==="content"?!0:typeof r=="number"&&r>0&&r%1===0}const Qie=S.forwardRef((r,e)=>{const t=Ve("GridCol",R0e,r),{children:n,span:i,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:h,md:f,lg:p,xl:g,order:C,orderXs:m,orderSm:y,orderMd:w,orderLg:E,orderXl:P,className:T,unstyled:R,variant:_}=t,b=_0e(t,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","unstyled","variant"]),D=p0e(),M=i||D.columns,{classes:G,cx:I}=w0e({gutter:D.gutter,gutterXs:D.gutterXs,gutterSm:D.gutterSm,gutterMd:D.gutterMd,gutterLg:D.gutterLg,gutterXl:D.gutterXl,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:h,md:f,lg:p,xl:g,order:C,orderXs:m,orderSm:y,orderMd:w,orderLg:E,orderXl:P,grow:D.grow,columns:D.columns,span:M},{unstyled:R,name:"Grid",variant:_});return!b0e(M)||M>D.columns?null:N.createElement(it,E0e({className:I(G.col,T),ref:e},b),n)});Qie.displayName="@mantine/core/Col";var T0e=Object.defineProperty,c6=Object.getOwnPropertySymbols,P0e=Object.prototype.hasOwnProperty,O0e=Object.prototype.propertyIsEnumerable,d6=(r,e,t)=>e in r?T0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,D0e=(r,e)=>{for(var t in e||(e={}))P0e.call(e,t)&&d6(r,t,e[t]);if(c6)for(var t of c6(e))O0e.call(e,t)&&d6(r,t,e[t]);return r};function A0e(r,e){return Xee.reduce((t,n)=>(typeof r[n]<"u"&&(t[`@media (min-width: ${e.breakpoints[n]})`]={margin:`calc(-${Oe({size:r[n],sizes:e.spacing})} / 2)`}),t),{})}var x0e=Xe((r,{justify:e,align:t,gutter:n,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l})=>({root:D0e({margin:`calc(-${Oe({size:n,sizes:r.spacing})} / 2)`,display:"flex",flexWrap:"wrap",justifyContent:e,alignItems:t},A0e({xs:i,sm:o,md:s,lg:a,xl:l},r))})),I0e=Object.defineProperty,ED=Object.getOwnPropertySymbols,Xie=Object.prototype.hasOwnProperty,Jie=Object.prototype.propertyIsEnumerable,h6=(r,e,t)=>e in r?I0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,F0e=(r,e)=>{for(var t in e)Xie.call(e,t)&&h6(r,t,e[t]);if(ED)for(var t of ED(e))Jie.call(e,t)&&h6(r,t,e[t]);return r},M0e=(r,e)=>{var t={};for(var n in r)Xie.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ED)for(var n of ED(r))e.indexOf(n)<0&&Jie.call(r,n)&&(t[n]=r[n]);return t};const L0e={gutter:"md",justify:"flex-start",align:"stretch",columns:12},Zie=S.forwardRef((r,e)=>{const t=Ve("Grid",L0e,r),{gutter:n,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l,children:u,grow:c,justify:d,align:h,columns:f,className:p,unstyled:g,variant:C}=t,m=M0e(t,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","unstyled","variant"]),{classes:y,cx:w}=x0e({gutter:n,justify:d,align:h,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l},{unstyled:g,name:"Grid",variant:C});return N.createElement(f0e,{value:{gutter:n,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l,grow:c,columns:f}},N.createElement(it,F0e({className:w(y.root,p),ref:e},m),u))});Zie.Col=Qie;Zie.displayName="@mantine/core/Grid";function N0e(r){return S.Children.toArray(r).filter(Boolean)}const eoe={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var G0e=Xe((r,{spacing:e,position:t,noWrap:n,grow:i,align:o,count:s})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:o||"center",flexWrap:n?"nowrap":"wrap",justifyContent:eoe[t],gap:Oe({size:e,sizes:r.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/s}% - (${U(Oe({size:e,sizes:r.spacing}))} - ${Oe({size:e,sizes:r.spacing})} / ${s}))`:void 0,flexGrow:i?1:0}}})),V0e=Object.defineProperty,_D=Object.getOwnPropertySymbols,toe=Object.prototype.hasOwnProperty,noe=Object.prototype.propertyIsEnumerable,f6=(r,e,t)=>e in r?V0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,k0e=(r,e)=>{for(var t in e)toe.call(e,t)&&f6(r,t,e[t]);if(_D)for(var t of _D(e))noe.call(e,t)&&f6(r,t,e[t]);return r},H0e=(r,e)=>{var t={};for(var n in r)toe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&_D)for(var n of _D(r))e.indexOf(n)<0&&noe.call(r,n)&&(t[n]=r[n]);return t};const $0e={position:"left",spacing:"md"},B0e=S.forwardRef((r,e)=>{const t=Ve("Group",$0e,r),{className:n,position:i,align:o,children:s,noWrap:a,grow:l,spacing:u,unstyled:c,variant:d}=t,h=H0e(t,["className","position","align","children","noWrap","grow","spacing","unstyled","variant"]),f=N0e(s),{classes:p,cx:g}=G0e({align:o,grow:l,noWrap:a,spacing:u,position:i,count:f.length},{unstyled:c,name:"Group",variant:d});return N.createElement(it,k0e({className:g(p.root,n),ref:e},h),f)});B0e.displayName="@mantine/core/Group";function j0e({open:r,close:e,openDelay:t,closeDelay:n}){const i=S.useRef(-1),o=S.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),t===0?r():i.current=window.setTimeout(r,t)},l=()=>{s(),n===0?e():o.current=window.setTimeout(e,n)};return S.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}function nB(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var W0e=S.useLayoutEffect,U0e=function(e){var t=N.useRef(e);return W0e(function(){t.current=e}),t},p6=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},z0e=function(e,t){var n=N.useRef();return N.useCallback(function(i){e.current=i,n.current&&p6(n.current,null),n.current=t,t&&p6(t,i)},[t])},g6={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m6=function(e){Object.keys(g6).forEach(function(t){e.style.setProperty(t,g6[t],"important")})},Cs=null,K0e=function(e,t){var n=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?n+t.borderSize:n-t.paddingSize};function Y0e(r,e,t,n){t===void 0&&(t=1),n===void 0&&(n=1/0),Cs||(Cs=document.createElement("textarea"),Cs.setAttribute("tabindex","-1"),Cs.setAttribute("aria-hidden","true"),m6(Cs)),Cs.parentNode===null&&document.body.appendChild(Cs);var i=r.paddingSize,o=r.borderSize,s=r.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(h){var f=h;Cs.style[f]=s[f]}),m6(Cs),Cs.value=e;var l=K0e(Cs,r);Cs.value="x";var u=Cs.scrollHeight-i,c=u*t;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*n;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var v6=function(){},q0e=function(e,t){return e.reduce(function(n,i){return n[i]=t[i],n},{})},Q0e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],X0e=!!document.documentElement.currentStyle,J0e=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var n=q0e(Q0e,t),i=n.boxSizing;if(i==="")return null;X0e&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),s=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:s}},Z0e=function(e){var t=U0e(e);S.useLayoutEffect(function(){var n=function(o){t.current(o)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}},[])},eNe=function(e,t){var n=e.cacheMeasurements,i=e.maxRows,o=e.minRows,s=e.onChange,a=s===void 0?v6:s,l=e.onHeightChange,u=l===void 0?v6:l,c=nB(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=c.value!==void 0,h=S.useRef(null),f=z0e(h,t),p=S.useRef(0),g=S.useRef(),C=function(){var w=h.current,E=n&&g.current?g.current:J0e(w);if(E){g.current=E;var P=Y0e(E,w.value||w.placeholder||"x",o,i),T=P[0],R=P[1];p.current!==T&&(p.current=T,w.style.setProperty("height",T+"px","important"),u(T,{rowHeight:R}))}},m=function(w){d||C(),a(w)};return S.useLayoutEffect(C),Z0e(C),S.createElement("textarea",qn({},c,{onChange:m,ref:f}))},tNe=S.forwardRef(eNe),nNe=Xe(r=>({input:{paddingTop:r.spacing.xs,paddingBottom:r.spacing.xs}})),rNe=Object.defineProperty,iNe=Object.defineProperties,oNe=Object.getOwnPropertyDescriptors,RD=Object.getOwnPropertySymbols,roe=Object.prototype.hasOwnProperty,ioe=Object.prototype.propertyIsEnumerable,y6=(r,e,t)=>e in r?rNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bg=(r,e)=>{for(var t in e||(e={}))roe.call(e,t)&&y6(r,t,e[t]);if(RD)for(var t of RD(e))ioe.call(e,t)&&y6(r,t,e[t]);return r},R0=(r,e)=>iNe(r,oNe(e)),sNe=(r,e)=>{var t={};for(var n in r)roe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&RD)for(var n of RD(r))e.indexOf(n)<0&&ioe.call(r,n)&&(t[n]=r[n]);return t};const aNe={autosize:!1,size:"sm",__staticSelector:"Textarea"},lNe=S.forwardRef((r,e)=>{const t=Ve("Textarea",aNe,r),{autosize:n,maxRows:i,minRows:o,label:s,error:a,description:l,id:u,className:c,required:d,style:h,wrapperProps:f,classNames:p,styles:g,size:C,__staticSelector:m,sx:y,errorProps:w,descriptionProps:E,labelProps:P,inputWrapperOrder:T,inputContainer:R,unstyled:_,withAsterisk:b,variant:D}=t,M=sNe(t,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk","variant"]),G=Uh(u),{classes:I,cx:L}=nNe(),{systemStyles:B,rest:j}=ay(M),z=Bg({required:d,ref:e,error:a,id:G,classNames:R0(Bg({},p),{input:L(I.input,p==null?void 0:p.input)}),styles:g,__staticSelector:m,size:C,multiline:!0,unstyled:_,variant:D},j);return N.createElement(wu.Wrapper,Bg(Bg({label:s,error:a,id:G,description:l,required:d,style:h,className:c,classNames:p,styles:g,size:C,__staticSelector:m,sx:y,errorProps:w,labelProps:P,descriptionProps:E,inputContainer:R,inputWrapperOrder:T,unstyled:_,withAsterisk:b,variant:D},B),f),n?N.createElement(wu,R0(Bg({},z),{component:tNe,maxRows:i,minRows:o})):N.createElement(wu,R0(Bg({},z),{component:"textarea",rows:o})))});lNe.displayName="@mantine/core/Textarea";const[uNe,cNe]=sg("List component was not found in tree");var dNe=Xe((r,{spacing:e,center:t})=>({itemWrapper:{ref:mO("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:t?1:r.lineHeight,"&:not(:first-of-type)":{marginTop:Oe({size:e,sizes:r.spacing})},"&[data-with-icon]":{listStyle:"none",[`& .${mO("itemWrapper")}`]:{display:"inline-flex",alignItems:t?"center":"flex-start",flexDirection:"row"}}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:r.spacing.sm}})),hNe=Object.defineProperty,bD=Object.getOwnPropertySymbols,ooe=Object.prototype.hasOwnProperty,soe=Object.prototype.propertyIsEnumerable,C6=(r,e,t)=>e in r?hNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fNe=(r,e)=>{for(var t in e)ooe.call(e,t)&&C6(r,t,e[t]);if(bD)for(var t of bD(e))soe.call(e,t)&&C6(r,t,e[t]);return r},pNe=(r,e)=>{var t={};for(var n in r)ooe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&bD)for(var n of bD(r))e.indexOf(n)<0&&soe.call(r,n)&&(t[n]=r[n]);return t};const gNe={},aoe=S.forwardRef((r,e)=>{const t=Ve("ListItem",gNe,r),{className:n,children:i,icon:o}=t,s=pNe(t,["className","children","icon"]),{icon:a,spacing:l,center:u,listStyleType:c,size:d,withPadding:h,classNames:f,styles:p,unstyled:g,variant:C}=cNe(),m=o||a,{classes:y,cx:w}=dNe({withPadding:h,listStyleType:c,center:u,spacing:l},{classNames:f,styles:p,unstyled:g,name:"List",variant:C,size:d});return N.createElement(it,fNe({component:"li",className:w(y.item,n),"data-with-icon":!!m||void 0,ref:e},s),N.createElement("div",{className:y.itemWrapper},m&&N.createElement("span",{className:y.itemIcon},m),N.createElement("span",null,i)))});aoe.displayName="@mantine/core/ListItem";var mNe=Object.defineProperty,vNe=Object.defineProperties,yNe=Object.getOwnPropertyDescriptors,w6=Object.getOwnPropertySymbols,CNe=Object.prototype.hasOwnProperty,wNe=Object.prototype.propertyIsEnumerable,S6=(r,e,t)=>e in r?mNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SNe=(r,e)=>{for(var t in e||(e={}))CNe.call(e,t)&&S6(r,t,e[t]);if(w6)for(var t of w6(e))wNe.call(e,t)&&S6(r,t,e[t]);return r},ENe=(r,e)=>vNe(r,yNe(e)),_Ne=Xe((r,{withPadding:e,listStyleType:t},{size:n})=>({root:ENe(SNe({},r.fn.fontStyles()),{listStyleType:t,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,fontSize:Oe({size:n,sizes:r.fontSizes}),lineHeight:r.lineHeight,margin:0,paddingLeft:e?r.spacing.xl:0,listStylePosition:"inside"})})),RNe=Object.defineProperty,TD=Object.getOwnPropertySymbols,loe=Object.prototype.hasOwnProperty,uoe=Object.prototype.propertyIsEnumerable,E6=(r,e,t)=>e in r?RNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bNe=(r,e)=>{for(var t in e)loe.call(e,t)&&E6(r,t,e[t]);if(TD)for(var t of TD(e))uoe.call(e,t)&&E6(r,t,e[t]);return r},TNe=(r,e)=>{var t={};for(var n in r)loe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&TD)for(var n of TD(r))e.indexOf(n)<0&&uoe.call(r,n)&&(t[n]=r[n]);return t};const PNe={type:"unordered",size:"md",spacing:0},coe=S.forwardRef((r,e)=>{const t=Ve("List",PNe,r),{children:n,type:i,size:o,listStyleType:s,withPadding:a,center:l,spacing:u,icon:c,className:d,styles:h,classNames:f,unstyled:p,variant:g}=t,C=TNe(t,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled","variant"]),{classes:m,cx:y}=_Ne({withPadding:a,listStyleType:s,center:l,spacing:u},{classNames:f,styles:h,name:"List",unstyled:p,size:o,variant:g});return N.createElement(uNe,{value:{spacing:u,center:l,icon:c,listStyleType:s,size:o,withPadding:a,classNames:f,styles:h,unstyled:p,variant:g}},N.createElement(it,bNe({component:i==="unordered"?"ul":"ol",className:y(m.root,d),ref:e},C),n))});coe.Item=aoe;coe.displayName="@mantine/core/List";var ONe=Object.defineProperty,DNe=Object.defineProperties,ANe=Object.getOwnPropertyDescriptors,_6=Object.getOwnPropertySymbols,xNe=Object.prototype.hasOwnProperty,INe=Object.prototype.propertyIsEnumerable,R6=(r,e,t)=>e in r?ONe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,FNe=(r,e)=>{for(var t in e||(e={}))xNe.call(e,t)&&R6(r,t,e[t]);if(_6)for(var t of _6(e))INe.call(e,t)&&R6(r,t,e[t]);return r},MNe=(r,e)=>DNe(r,ANe(e)),LNe=Xe(r=>({root:MNe(FNe({},r.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"})})),NNe=Object.defineProperty,GNe=Object.defineProperties,VNe=Object.getOwnPropertyDescriptors,PD=Object.getOwnPropertySymbols,doe=Object.prototype.hasOwnProperty,hoe=Object.prototype.propertyIsEnumerable,b6=(r,e,t)=>e in r?NNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_b=(r,e)=>{for(var t in e||(e={}))doe.call(e,t)&&b6(r,t,e[t]);if(PD)for(var t of PD(e))hoe.call(e,t)&&b6(r,t,e[t]);return r},kNe=(r,e)=>GNe(r,VNe(e)),HNe=(r,e)=>{var t={};for(var n in r)doe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&PD)for(var n of PD(r))e.indexOf(n)<0&&hoe.call(r,n)&&(t[n]=r[n]);return t};const $Ne={overlayOpacity:.75,transitionDuration:0,radius:0,zIndex:xl("overlay")},foe=S.forwardRef((r,e)=>{const t=Ve("LoadingOverlay",$Ne,r),{className:n,visible:i,loaderProps:o,overlayOpacity:s,overlayColor:a,transitionDuration:l,exitTransitionDuration:u,zIndex:c,style:d,loader:h,radius:f,overlayBlur:p,unstyled:g,variant:C,keepMounted:m}=t,y=HNe(t,["className","visible","loaderProps","overlayOpacity","overlayColor","transitionDuration","exitTransitionDuration","zIndex","style","loader","radius","overlayBlur","unstyled","variant","keepMounted"]),{classes:w,cx:E,theme:P}=LNe(null,{name:"LoadingOverlay",unstyled:g,variant:C}),T=`calc(${c} + 1)`;return N.createElement(dy,{keepMounted:m,duration:l,exitDuration:u,mounted:i,transition:"fade"},R=>N.createElement(it,_b({className:E(w.root,n),style:kNe(_b(_b({},R),d),{zIndex:c}),ref:e},y),h?N.createElement("div",{style:{zIndex:T}},h):N.createElement(XE,_b({style:{zIndex:T}},o)),N.createElement(xie,{opacity:s,zIndex:c,radius:f,blur:p,unstyled:g,color:a||(P.colorScheme==="dark"?P.colors.dark[5]:P.white)})))});foe.displayName="@mantine/core/LoadingOverlay";const poe={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[BNe,t_]=sg(poe.context);var jNe=Xe(r=>({divider:{marginTop:U(4),marginBottom:U(4),borderTop:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2]}`}})),WNe=Object.defineProperty,OD=Object.getOwnPropertySymbols,goe=Object.prototype.hasOwnProperty,moe=Object.prototype.propertyIsEnumerable,T6=(r,e,t)=>e in r?WNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,UNe=(r,e)=>{for(var t in e)goe.call(e,t)&&T6(r,t,e[t]);if(OD)for(var t of OD(e))moe.call(e,t)&&T6(r,t,e[t]);return r},zNe=(r,e)=>{var t={};for(var n in r)goe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&OD)for(var n of OD(r))e.indexOf(n)<0&&moe.call(r,n)&&(t[n]=r[n]);return t};const KNe={},voe=S.forwardRef((r,e)=>{const t=Ve("MenuDivider",KNe,r),{children:n,className:i}=t,o=zNe(t,["children","className"]),{classNames:s,styles:a,unstyled:l,variant:u}=t_(),{classes:c,cx:d}=jNe(null,{name:"Menu",classNames:s,styles:a,unstyled:l,variant:u});return N.createElement(it,UNe({className:d(c.divider,i),ref:e},o))});voe.displayName="@mantine/core/MenuDivider";var YNe=Object.defineProperty,DD=Object.getOwnPropertySymbols,yoe=Object.prototype.hasOwnProperty,Coe=Object.prototype.propertyIsEnumerable,P6=(r,e,t)=>e in r?YNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qNe=(r,e)=>{for(var t in e)yoe.call(e,t)&&P6(r,t,e[t]);if(DD)for(var t of DD(e))Coe.call(e,t)&&P6(r,t,e[t]);return r},QNe=(r,e)=>{var t={};for(var n in r)yoe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&DD)for(var n of DD(r))e.indexOf(n)<0&&Coe.call(r,n)&&(t[n]=r[n]);return t};const XNe={};function woe(r){const e=Ve("MenuDropdown",XNe,r),{children:t,onMouseEnter:n,onMouseLeave:i}=e,o=QNe(e,["children","onMouseEnter","onMouseLeave"]),s=S.useRef(),a=t_(),l=d=>{var h;(d.key==="ArrowUp"||d.key==="ArrowDown")&&(d.preventDefault(),(h=s.current.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||h.focus())},u=lc(n,()=>a.trigger==="hover"&&a.openDropdown()),c=lc(i,()=>a.trigger==="hover"&&a.closeDropdown());return N.createElement(zc.Dropdown,qNe({onMouseEnter:u,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},o),N.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:l,ref:s,style:{outline:0}},t))}woe.displayName="@mantine/core/MenuDropdown";var JNe=Object.defineProperty,ZNe=Object.defineProperties,eGe=Object.getOwnPropertyDescriptors,O6=Object.getOwnPropertySymbols,tGe=Object.prototype.hasOwnProperty,nGe=Object.prototype.propertyIsEnumerable,D6=(r,e,t)=>e in r?JNe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rGe=(r,e)=>{for(var t in e||(e={}))tGe.call(e,t)&&D6(r,t,e[t]);if(O6)for(var t of O6(e))nGe.call(e,t)&&D6(r,t,e[t]);return r},iGe=(r,e)=>ZNe(r,eGe(e)),oGe=Xe((r,{color:e,radius:t})=>({item:iGe(rGe({},r.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:r.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${r.spacing.xs} ${r.spacing.sm}`,cursor:"pointer",borderRadius:r.fn.radius(t),color:e?r.fn.variant({variant:"filled",primaryFallback:!1,color:e}).background:r.colorScheme==="dark"?r.colors.dark[0]:r.black,display:"flex",alignItems:"center","&:disabled":{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:e?r.fn.variant({variant:"light",color:e}).background:r.colorScheme==="dark"?r.fn.rgba(r.colors.dark[3],.35):r.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:r.spacing.xs},itemRightSection:{}})),sGe=Object.defineProperty,aGe=Object.defineProperties,lGe=Object.getOwnPropertyDescriptors,AD=Object.getOwnPropertySymbols,Soe=Object.prototype.hasOwnProperty,Eoe=Object.prototype.propertyIsEnumerable,A6=(r,e,t)=>e in r?sGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uGe=(r,e)=>{for(var t in e)Soe.call(e,t)&&A6(r,t,e[t]);if(AD)for(var t of AD(e))Eoe.call(e,t)&&A6(r,t,e[t]);return r},cGe=(r,e)=>aGe(r,lGe(e)),dGe=(r,e)=>{var t={};for(var n in r)Soe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&AD)for(var n of AD(r))e.indexOf(n)<0&&Eoe.call(r,n)&&(t[n]=r[n]);return t};const hGe={},_oe=S.forwardRef((r,e)=>{const t=Ve("MenuItem",hGe,r),{children:n,className:i,color:o,closeMenuOnClick:s,icon:a,rightSection:l}=t,u=dGe(t,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=t_(),{classes:d,cx:h,theme:f}=oGe({radius:c.radius,color:o},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled,variant:c.variant}),p=S.useRef(),g=c.getItemIndex(p.current),C=u,m=lc(C.onMouseLeave,()=>c.setHovered(-1)),y=lc(C.onMouseEnter,()=>c.setHovered(c.getItemIndex(p.current))),w=lc(C.onClick,()=>{typeof s=="boolean"?s&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),E=lc(C.onFocus,()=>c.setHovered(c.getItemIndex(p.current)));return N.createElement(it,cGe(uGe({component:"button",type:"button"},u),{tabIndex:-1,onFocus:E,className:h(d.item,i),ref:sy(p,e),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===g?!0:void 0,onMouseEnter:y,onMouseLeave:m,onClick:w,onKeyDown:Wee({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:f.dir,orientation:"vertical",onKeyDown:C.onKeydown})}),a&&N.createElement("div",{className:d.itemIcon},a),n&&N.createElement("div",{className:d.itemLabel},n),l&&N.createElement("div",{className:d.itemRightSection},l))});_oe.displayName="@mantine/core/MenuItem";const fGe=_oe;var pGe=Xe(r=>({label:{color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6],fontWeight:500,fontSize:r.fontSizes.xs,padding:`calc(${r.spacing.xs} / 2) ${r.spacing.sm}`,cursor:"default"}})),gGe=Object.defineProperty,xD=Object.getOwnPropertySymbols,Roe=Object.prototype.hasOwnProperty,boe=Object.prototype.propertyIsEnumerable,x6=(r,e,t)=>e in r?gGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mGe=(r,e)=>{for(var t in e)Roe.call(e,t)&&x6(r,t,e[t]);if(xD)for(var t of xD(e))boe.call(e,t)&&x6(r,t,e[t]);return r},vGe=(r,e)=>{var t={};for(var n in r)Roe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&xD)for(var n of xD(r))e.indexOf(n)<0&&boe.call(r,n)&&(t[n]=r[n]);return t};const yGe={},Toe=S.forwardRef((r,e)=>{const t=Ve("MenuLabel",yGe,r),{children:n,className:i}=t,o=vGe(t,["children","className"]),{classNames:s,styles:a,unstyled:l,variant:u}=t_(),{classes:c,cx:d}=pGe(null,{name:"Menu",classNames:s,styles:a,unstyled:l,variant:u});return N.createElement(xu,mGe({className:d(c.label,i),ref:e},o),n)});Toe.displayName="@mantine/core/MenuLabel";var CGe=Object.defineProperty,ID=Object.getOwnPropertySymbols,Poe=Object.prototype.hasOwnProperty,Ooe=Object.prototype.propertyIsEnumerable,I6=(r,e,t)=>e in r?CGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wGe=(r,e)=>{for(var t in e)Poe.call(e,t)&&I6(r,t,e[t]);if(ID)for(var t of ID(e))Ooe.call(e,t)&&I6(r,t,e[t]);return r},SGe=(r,e)=>{var t={};for(var n in r)Poe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ID)for(var n of ID(r))e.indexOf(n)<0&&Ooe.call(r,n)&&(t[n]=r[n]);return t};const EGe={refProp:"ref"},Doe=S.forwardRef((r,e)=>{const t=Ve("MenuTarget",EGe,r),{children:n,refProp:i}=t,o=SGe(t,["children","refProp"]);if(!zE(n))throw new Error(poe.children);const s=t_(),a=lc(n.props.onClick,()=>s.trigger==="click"&&s.toggleDropdown()),l=lc(n.props.onMouseEnter,()=>s.trigger==="hover"&&s.openDropdown()),u=lc(n.props.onMouseLeave,()=>s.trigger==="hover"&&s.closeDropdown());return N.createElement(zc.Target,wGe({refProp:i,popupType:"menu",ref:e},o),S.cloneElement(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":s.opened?!0:void 0}))});Doe.displayName="@mantine/core/MenuTarget";var _Ge=Xe({dropdown:{padding:U(4)}}),RGe=Object.defineProperty,bGe=Object.defineProperties,TGe=Object.getOwnPropertyDescriptors,FD=Object.getOwnPropertySymbols,Aoe=Object.prototype.hasOwnProperty,xoe=Object.prototype.propertyIsEnumerable,F6=(r,e,t)=>e in r?RGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,M6=(r,e)=>{for(var t in e||(e={}))Aoe.call(e,t)&&F6(r,t,e[t]);if(FD)for(var t of FD(e))xoe.call(e,t)&&F6(r,t,e[t]);return r},L6=(r,e)=>bGe(r,TGe(e)),PGe=(r,e)=>{var t={};for(var n in r)Aoe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&FD)for(var n of FD(r))e.indexOf(n)<0&&xoe.call(r,n)&&(t[n]=r[n]);return t};const OGe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function fy(r){const e=Ve("Menu",OGe,r),{children:t,onOpen:n,onClose:i,opened:o,defaultOpened:s,onChange:a,closeOnItemClick:l,loop:u,closeOnEscape:c,trigger:d,openDelay:h,closeDelay:f,classNames:p,styles:g,unstyled:C,radius:m,variant:y}=e,w=PGe(e,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius","variant"]),{classes:E,cx:P}=_Ge(),[T,{setHovered:R,resetHovered:_}]=I_e(),[b,D]=Pp({value:o,defaultValue:s,finalValue:!1,onChange:a}),M=()=>{D(!1),b&&(i==null||i())},G=()=>{D(!0),!b&&(n==null||n())},I=()=>b?M():G(),{openDropdown:L,closeDropdown:B}=j0e({open:G,close:M,closeDelay:f,openDelay:h}),j=z=>D_e("[data-menu-item]","[data-menu-dropdown]",z);return Fa(()=>{_()},[b]),N.createElement(BNe,{value:{opened:b,toggleDropdown:I,getItemIndex:j,hovered:T,setHovered:R,closeOnItemClick:l,closeDropdown:d==="click"?M:B,openDropdown:d==="click"?G:L,closeDropdownImmediately:M,loop:u,trigger:d,radius:m,classNames:p,styles:g,unstyled:C,variant:y}},N.createElement(zc,L6(M6({},w),{radius:m,opened:b,onChange:I,defaultOpened:s,trapFocus:d==="click",closeOnEscape:c&&d==="click",__staticSelector:"Menu",classNames:L6(M6({},p),{dropdown:P(E.dropdown,p==null?void 0:p.dropdown)}),styles:g,unstyled:C,variant:y}),t))}fy.displayName="@mantine/core/Menu";fy.Item=fGe;fy.Label=Toe;fy.Dropdown=woe;fy.Target=Doe;fy.Divider=voe;const[DGe,AGe]=sg("Modal component was not found in tree"),xGe={xs:U(320),sm:U(380),md:U(440),lg:U(620),xl:U(780)};var IGe=Xe((r,{yOffset:e,xOffset:t,centered:n,fullScreen:i},{size:o})=>({content:{flex:i?"0 0 100%":`0 0 ${Oe({size:o,sizes:xGe})}`,maxWidth:"100%",maxHeight:i?void 0:`calc(100dvh - (${U(e)} * 2))`,height:i?"100vh":void 0,borderRadius:i?0:void 0,overflowY:"auto"},inner:{paddingTop:i?0:e,paddingBottom:i?0:e,paddingLeft:i?0:t,paddingRight:i?0:t,display:"flex",justifyContent:"center",alignItems:n?"center":"flex-start"}})),FGe=Object.defineProperty,MGe=Object.defineProperties,LGe=Object.getOwnPropertyDescriptors,MD=Object.getOwnPropertySymbols,Ioe=Object.prototype.hasOwnProperty,Foe=Object.prototype.propertyIsEnumerable,N6=(r,e,t)=>e in r?FGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J1=(r,e)=>{for(var t in e||(e={}))Ioe.call(e,t)&&N6(r,t,e[t]);if(MD)for(var t of MD(e))Foe.call(e,t)&&N6(r,t,e[t]);return r},Moe=(r,e)=>MGe(r,LGe(e)),NGe=(r,e)=>{var t={};for(var n in r)Ioe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&MD)for(var n of MD(r))e.indexOf(n)<0&&Foe.call(r,n)&&(t[n]=r[n]);return t};const GGe=Moe(J1({},eB),{yOffset:"5dvh",xOffset:"5vw"});function Loe(r){const e=Ve("ModalRoot",GGe,r),{classNames:t,variant:n,size:i,yOffset:o,xOffset:s,scrollAreaComponent:a,radius:l,centered:u,fullScreen:c}=e,d=NGe(e,["classNames","variant","size","yOffset","xOffset","scrollAreaComponent","radius","centered","fullScreen"]),{classes:h,cx:f}=IGe({yOffset:o,xOffset:s,centered:u,fullScreen:c},{name:"Modal",variant:n,size:i});return N.createElement(DGe,{value:{yOffset:o,scrollAreaComponent:a,radius:l}},N.createElement(xr,J1({__staticSelector:"Modal",size:i,variant:n,classNames:Moe(J1({},t),{content:f(h.content,t==null?void 0:t.content),inner:f(h.inner,t==null?void 0:t.inner)})},d)))}var VGe=Object.defineProperty,LD=Object.getOwnPropertySymbols,Noe=Object.prototype.hasOwnProperty,Goe=Object.prototype.propertyIsEnumerable,G6=(r,e,t)=>e in r?VGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kGe=(r,e)=>{for(var t in e)Noe.call(e,t)&&G6(r,t,e[t]);if(LD)for(var t of LD(e))Goe.call(e,t)&&G6(r,t,e[t]);return r},HGe=(r,e)=>{var t={};for(var n in r)Noe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&LD)for(var n of LD(r))e.indexOf(n)<0&&Goe.call(r,n)&&(t[n]=r[n]);return t};const $Ge={shadow:"xl"},Voe=S.forwardRef((r,e)=>{const t=Ve("ModalContent",$Ge,r),{children:n,scrollAreaComponent:i}=t,o=HGe(t,["children","scrollAreaComponent"]),s=AGe(),a=i||s.scrollAreaComponent||xr.NativeScrollArea;return N.createElement(xr.Content,kGe({ref:e,radius:s.radius},o),N.createElement(a,{style:{maxHeight:`calc(100dvh - (${U(s.yOffset)} * 2))`}},n))});var BGe=Object.defineProperty,jGe=Object.defineProperties,WGe=Object.getOwnPropertyDescriptors,ND=Object.getOwnPropertySymbols,koe=Object.prototype.hasOwnProperty,Hoe=Object.prototype.propertyIsEnumerable,V6=(r,e,t)=>e in r?BGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oP=(r,e)=>{for(var t in e||(e={}))koe.call(e,t)&&V6(r,t,e[t]);if(ND)for(var t of ND(e))Hoe.call(e,t)&&V6(r,t,e[t]);return r},UGe=(r,e)=>jGe(r,WGe(e)),zGe=(r,e)=>{var t={};for(var n in r)koe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ND)for(var n of ND(r))e.indexOf(n)<0&&Hoe.call(r,n)&&(t[n]=r[n]);return t};const KGe=UGe(oP({},eB),{transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0});function zh(r){const e=Ve("Modal",KGe,r),{title:t,withOverlay:n,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a}=e,l=zGe(e,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children"]),u=!!t||o;return N.createElement(Loe,oP({},l),n&&N.createElement(xr.Overlay,oP({},i)),N.createElement(Voe,null,u&&N.createElement(xr.Header,null,t&&N.createElement(xr.Title,null,t),o&&N.createElement(xr.CloseButton,oP({},s))),N.createElement(xr.Body,null,a)))}zh.Root=Loe;zh.CloseButton=xr.CloseButton;zh.Overlay=xr.Overlay;zh.Content=Voe;zh.Header=xr.Header;zh.Title=xr.Title;zh.Body=xr.Body;zh.NativeScrollArea=xr.NativeScrollArea;var YGe=Object.defineProperty,GD=Object.getOwnPropertySymbols,$oe=Object.prototype.hasOwnProperty,Boe=Object.prototype.propertyIsEnumerable,k6=(r,e,t)=>e in r?YGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,H6=(r,e)=>{for(var t in e||(e={}))$oe.call(e,t)&&k6(r,t,e[t]);if(GD)for(var t of GD(e))Boe.call(e,t)&&k6(r,t,e[t]);return r},qGe=(r,e)=>{var t={};for(var n in r)$oe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&GD)for(var n of GD(r))e.indexOf(n)<0&&Boe.call(r,n)&&(t[n]=r[n]);return t};const QGe={xs:U(14),sm:U(18),md:U(20),lg:U(24),xl:U(28)};function XGe(r){var e=r,{size:t,error:n,style:i}=e,o=qGe(e,["size","error","style"]);const s=cs(),a=Oe({size:t,sizes:QGe});return N.createElement("svg",H6({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:H6({color:n?s.colors.red[6]:s.colors.gray[6],width:a,height:a},i),"data-chevron":!0},o),N.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var JGe=Object.defineProperty,ZGe=Object.defineProperties,e1e=Object.getOwnPropertyDescriptors,$6=Object.getOwnPropertySymbols,t1e=Object.prototype.hasOwnProperty,n1e=Object.prototype.propertyIsEnumerable,B6=(r,e,t)=>e in r?JGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r1e=(r,e)=>{for(var t in e||(e={}))t1e.call(e,t)&&B6(r,t,e[t]);if($6)for(var t of $6(e))n1e.call(e,t)&&B6(r,t,e[t]);return r},i1e=(r,e)=>ZGe(r,e1e(e));function joe({shouldClear:r,clearButtonProps:e,onClear:t,size:n,error:i}){return r?N.createElement(UI,i1e(r1e({},e),{variant:"transparent",onClick:t,size:n,onMouseDown:o=>o.preventDefault()})):N.createElement(XGe,{error:i,size:n})}joe.displayName="@mantine/core/SelectRightSection";var o1e=Object.defineProperty,s1e=Object.defineProperties,a1e=Object.getOwnPropertyDescriptors,VD=Object.getOwnPropertySymbols,Woe=Object.prototype.hasOwnProperty,Uoe=Object.prototype.propertyIsEnumerable,j6=(r,e,t)=>e in r?o1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,b0=(r,e)=>{for(var t in e||(e={}))Woe.call(e,t)&&j6(r,t,e[t]);if(VD)for(var t of VD(e))Uoe.call(e,t)&&j6(r,t,e[t]);return r},W6=(r,e)=>s1e(r,a1e(e)),l1e=(r,e)=>{var t={};for(var n in r)Woe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&VD)for(var n of VD(r))e.indexOf(n)<0&&Uoe.call(r,n)&&(t[n]=r[n]);return t};function u1e(r){var e=r,{styles:t,rightSection:n,rightSectionWidth:i,theme:o}=e,s=l1e(e,["styles","rightSection","rightSectionWidth","theme"]);if(n)return{rightSection:n,rightSectionWidth:i,styles:t};const a=typeof t=="function"?t(o):t;return{rightSection:!s.readOnly&&!(s.disabled&&s.shouldClear)&&N.createElement(joe,b0({},s)),styles:W6(b0({},a),{rightSection:W6(b0({},a==null?void 0:a.rightSection),{pointerEvents:s.shouldClear?void 0:"none"})})}}var c1e=Xe((r,{color:e,radius:t,withTitle:n})=>{const i=r.fn.radius(t),o=r.fn.variant({variant:"filled",color:e});return{closeButton:r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[8]:r.colors.gray[0]}),icon:{boxSizing:"border-box",marginRight:r.spacing.md,width:U(28),height:U(28),borderRadius:U(28),display:"flex",flex:"none",alignItems:"center",justifyContent:"center",backgroundColor:o.background,color:r.white},root:{overflow:"hidden",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",paddingLeft:U(22),paddingRight:r.spacing.xs,paddingTop:r.spacing.xs,paddingBottom:r.spacing.xs,borderRadius:i,backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,boxShadow:r.shadows.lg,"&::before":{content:'""',display:"block",position:"absolute",width:U(6),top:i,bottom:i,left:U(4),borderRadius:i,backgroundColor:o.background},"&[data-with-icon]":{paddingLeft:r.spacing.xs,"&::before":{display:"none"}},"&[data-with-border]":{border:`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}},body:{flex:1,overflow:"hidden",marginRight:r.spacing.xs},loader:{marginRight:r.spacing.md},title:{lineHeight:1.4,marginBottom:U(2),overflow:"hidden",textOverflow:"ellipsis",color:r.colorScheme==="dark"?r.white:r.colors.gray[9]},description:{color:n?r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis"}}}),d1e=Object.defineProperty,h1e=Object.defineProperties,f1e=Object.getOwnPropertyDescriptors,kD=Object.getOwnPropertySymbols,zoe=Object.prototype.hasOwnProperty,Koe=Object.prototype.propertyIsEnumerable,U6=(r,e,t)=>e in r?d1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,z6=(r,e)=>{for(var t in e||(e={}))zoe.call(e,t)&&U6(r,t,e[t]);if(kD)for(var t of kD(e))Koe.call(e,t)&&U6(r,t,e[t]);return r},p1e=(r,e)=>h1e(r,f1e(e)),g1e=(r,e)=>{var t={};for(var n in r)zoe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&kD)for(var n of kD(r))e.indexOf(n)<0&&Koe.call(r,n)&&(t[n]=r[n]);return t};const m1e={withCloseButton:!0},Yoe=S.forwardRef((r,e)=>{const t=Ve("Notification",m1e,r),{className:n,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:h,closeButtonProps:f,classNames:p,styles:g,unstyled:C,variant:m}=t,y=g1e(t,["className","color","radius","loading","withCloseButton","withBorder","title","icon","children","onClose","closeButtonProps","classNames","styles","unstyled","variant"]),{classes:w,cx:E}=c1e({color:i,radius:o,withTitle:!!u},{name:"Notification",classNames:p,styles:g,unstyled:C,variant:m});return N.createElement(it,z6({className:E(w.root,n),"data-with-icon":!!c||s||void 0,"data-with-border":l||void 0,role:"alert",ref:e},y),c&&!s&&N.createElement("div",{className:w.icon},c),s&&N.createElement(XE,{size:28,color:i,className:w.loader}),N.createElement("div",{className:w.body},u&&N.createElement(xu,{className:w.title,size:"sm",weight:500},u),N.createElement(xu,{color:"dimmed",className:w.description,size:"sm"},d)),a&&N.createElement(UI,p1e(z6({iconSize:16,color:"gray"},f),{onClick:h,className:w.closeButton})))});Yoe.displayName="@mantine/core/Notification";var v1e=Object.defineProperty,y1e=Object.defineProperties,C1e=Object.getOwnPropertyDescriptors,HD=Object.getOwnPropertySymbols,qoe=Object.prototype.hasOwnProperty,Qoe=Object.prototype.propertyIsEnumerable,K6=(r,e,t)=>e in r?v1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,T0=(r,e)=>{for(var t in e||(e={}))qoe.call(e,t)&&K6(r,t,e[t]);if(HD)for(var t of HD(e))Qoe.call(e,t)&&K6(r,t,e[t]);return r},w1e=(r,e)=>y1e(r,C1e(e)),S1e=(r,e)=>{var t={};for(var n in r)qoe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&HD)for(var n of HD(r))e.indexOf(n)<0&&Qoe.call(r,n)&&(t[n]=r[n]);return t};const E1e={type:"text",size:"sm",__staticSelector:"TextInput"},_1e=S.forwardRef((r,e)=>{const t=Dre("TextInput",E1e,r),{inputProps:n,wrapperProps:i}=t,o=S1e(t,["inputProps","wrapperProps"]);return N.createElement(wu.Wrapper,T0({},i),N.createElement(wu,w1e(T0(T0({},n),o),{ref:e})))});_1e.displayName="@mantine/core/TextInput";const Y6={xs:U(3),sm:U(5),md:U(8),lg:U(12),xl:U(16)},R1e=abe({from:{backgroundPosition:"0 0"},to:{backgroundPosition:`${U(40)} 0`}});var b1e=Xe((r,{color:e,radius:t},{size:n})=>({root:{position:"relative",height:Oe({size:n,sizes:Y6}),backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],borderRadius:r.fn.radius(t),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:r.fn.variant({variant:"filled",primaryFallback:!1,color:e||r.primaryColor}).background,transition:"width 100ms linear","&[data-animate]":{animation:`${R1e} 1000ms linear infinite`},"&[data-striped]":{backgroundSize:`${U(20)} ${U(20)}`,backgroundImage:"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)"},"&:last-of-type":{borderTopRightRadius:r.fn.radius(t),borderBottomRightRadius:r.fn.radius(t)},"&:first-of-type":{borderTopLeftRadius:r.fn.radius(t),borderBottomLeftRadius:r.fn.radius(t)},"@media (prefers-reduced-motion)":{transitionDuration:r.respectReducedMotion?"0ms":void 0}},label:{color:r.white,fontSize:`calc(${Oe({size:n,sizes:Y6})} * 0.65)`,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Xoe=S.createContext(!1),T1e=Xoe.Provider,P1e=()=>S.useContext(Xoe);function Joe({children:r,openDelay:e=0,closeDelay:t=0}){return N.createElement(T1e,{value:!0},N.createElement(mxe,{delay:{open:e,close:t}},r))}Joe.displayName="@mantine/core/TooltipGroup";var O1e=Object.defineProperty,D1e=Object.defineProperties,A1e=Object.getOwnPropertyDescriptors,q6=Object.getOwnPropertySymbols,x1e=Object.prototype.hasOwnProperty,I1e=Object.prototype.propertyIsEnumerable,Q6=(r,e,t)=>e in r?O1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,X6=(r,e)=>{for(var t in e||(e={}))x1e.call(e,t)&&Q6(r,t,e[t]);if(q6)for(var t of q6(e))I1e.call(e,t)&&Q6(r,t,e[t]);return r},F1e=(r,e)=>D1e(r,A1e(e));function M1e(r,e){if(!e)return{backgroundColor:r.colorScheme==="dark"?r.colors.gray[2]:r.colors.gray[9],color:r.colorScheme==="dark"?r.black:r.white};const t=r.fn.variant({variant:"filled",color:e,primaryFallback:!1});return{backgroundColor:t.background,color:t.color}}var Zoe=Xe((r,{color:e,radius:t,width:n,multiline:i})=>({tooltip:F1e(X6(X6({},r.fn.fontStyles()),M1e(r,e)),{lineHeight:r.lineHeight,fontSize:r.fontSizes.sm,borderRadius:r.fn.radius(t),padding:`calc(${r.spacing.xs} / 2) ${r.spacing.xs}`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:n}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const ese={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function L1e({offset:r,position:e}){const[t,n]=S.useState(!1),i=S.useRef(),{x:o,y:s,reference:a,floating:l,refs:u,update:c,placement:d}=U$({placement:e,middleware:[B$({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=d.includes("right")?r:e.includes("left")?r*-1:0,f=d.includes("bottom")?r:e.includes("top")?r*-1:0,p=S.useCallback(({clientX:g,clientY:C})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y:C,left:g+h,top:C+f,right:g,bottom:C}}})},[a]);return S.useEffect(()=>{if(u.floating.current){const g=i.current;g.addEventListener("mousemove",p);const C=yc(u.floating.current);return C.forEach(m=>{m.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",p),C.forEach(m=>{m.removeEventListener("scroll",c)})}}},[a,u.floating.current,c,p,t]),{handleMouseMove:p,x:o,y:s,opened:t,setOpened:n,boundaryRef:i,floating:l}}var N1e=Object.defineProperty,G1e=Object.defineProperties,V1e=Object.getOwnPropertyDescriptors,$D=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,J6=(r,e,t)=>e in r?N1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rb=(r,e)=>{for(var t in e||(e={}))tse.call(e,t)&&J6(r,t,e[t]);if($D)for(var t of $D(e))nse.call(e,t)&&J6(r,t,e[t]);return r},bb=(r,e)=>G1e(r,V1e(e)),k1e=(r,e)=>{var t={};for(var n in r)tse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&$D)for(var n of $D(r))e.indexOf(n)<0&&nse.call(r,n)&&(t[n]=r[n]);return t};const H1e={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:xl("popover")};function rse(r){var e;const t=Ve("TooltipFloating",H1e,r),{children:n,refProp:i,withinPortal:o,portalProps:s,style:a,className:l,classNames:u,styles:c,unstyled:d,radius:h,color:f,label:p,offset:g,position:C,multiline:m,width:y,zIndex:w,disabled:E,variant:P}=t,T=k1e(t,["children","refProp","withinPortal","portalProps","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled","variant"]),{handleMouseMove:R,x:_,y:b,opened:D,boundaryRef:M,floating:G,setOpened:I}=L1e({offset:g,position:C}),{classes:L,cx:B}=Zoe({radius:h,color:f,multiline:m,width:y},{name:"TooltipFloating",classNames:u,styles:c,unstyled:d,variant:P});if(!zE(n))throw new Error(ese.children);const j=sy(M,n.ref),z=H=>{var Y,Q;(Q=(Y=n.props).onMouseEnter)==null||Q.call(Y,H),R(H),I(!0)},W=H=>{var Y,Q;(Q=(Y=n.props).onMouseLeave)==null||Q.call(Y,H),I(!1)};return N.createElement(N.Fragment,null,N.createElement(ly,bb(Rb({},s),{withinPortal:o}),N.createElement(it,bb(Rb({},T),{ref:G,className:B(L.tooltip,l),style:bb(Rb({},a),{zIndex:w,display:!E&&D?"block":"none",top:b??"",left:(e=Math.round(_))!=null?e:""})}),p)),S.cloneElement(n,bb(Rb({},n.props),{[i]:j,onMouseEnter:z,onMouseLeave:W})))}rse.displayName="@mantine/core/TooltipFloating";function $1e(r){const[e,t]=S.useState(!1),i=typeof r.opened=="boolean"?r.opened:e,o=P1e(),s=Uh(),{delay:a,currentId:l,setCurrentId:u}=dre(),c=S.useCallback(_=>{t(_),_&&u(s)},[u,s]),{x:d,y:h,reference:f,floating:p,context:g,refs:C,update:m,placement:y,middlewareData:{arrow:{x:w,y:E}={}}}=U$({placement:r.position,open:i,onOpenChange:c,middleware:[rre(r.offset),B$({padding:8}),ire(),sre({element:r.arrowRef,padding:r.arrowOffset}),...r.inline?[ore()]:[]]}),{getReferenceProps:P,getFloatingProps:T}=Oxe([gxe(g,{enabled:r.events.hover,delay:o?a:{open:r.openDelay,close:r.closeDelay},mouseOnly:!r.events.touch}),Txe(g,{enabled:r.events.focus,keyboardOnly:!0}),Pxe(g,{role:"tooltip"}),bxe(g,{enabled:typeof r.opened===void 0}),vxe(g,{id:s})]);return fre({opened:i,position:r.position,positionDependencies:r.positionDependencies,floating:{refs:C,update:m}}),Fa(()=>{var _;(_=r.onPositionChange)==null||_.call(r,y)},[y]),{x:d,y:h,arrowX:w,arrowY:E,reference:f,floating:p,getFloatingProps:T,getReferenceProps:P,isGroupPhase:i&&l&&l!==s,opened:i,placement:y}}var B1e=Object.defineProperty,j1e=Object.defineProperties,W1e=Object.getOwnPropertyDescriptors,BD=Object.getOwnPropertySymbols,ise=Object.prototype.hasOwnProperty,ose=Object.prototype.propertyIsEnumerable,Z6=(r,e,t)=>e in r?B1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cf=(r,e)=>{for(var t in e||(e={}))ise.call(e,t)&&Z6(r,t,e[t]);if(BD)for(var t of BD(e))ose.call(e,t)&&Z6(r,t,e[t]);return r},P0=(r,e)=>j1e(r,W1e(e)),U1e=(r,e)=>{var t={};for(var n in r)ise.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&BD)for(var n of BD(r))e.indexOf(n)<0&&ose.call(r,n)&&(t[n]=r[n]);return t};const z1e={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:xl("popover"),positionDependencies:[]},ZI=S.forwardRef((r,e)=>{var t;const n=S.useRef(null),i=Ve("Tooltip",z1e,r),{children:o,position:s,refProp:a,label:l,openDelay:u,closeDelay:c,onPositionChange:d,opened:h,withinPortal:f,portalProps:p,radius:g,color:C,classNames:m,styles:y,unstyled:w,style:E,className:P,withArrow:T,arrowSize:R,arrowOffset:_,arrowRadius:b,arrowPosition:D,offset:M,transitionProps:G,multiline:I,width:L,events:B,zIndex:j,disabled:z,positionDependencies:W,onClick:H,onMouseEnter:Y,onMouseLeave:Q,inline:J,variant:oe,keepMounted:re}=i,ue=U1e(i,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","portalProps","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted"]),{classes:Ce,cx:Re,theme:Be}=Zoe({radius:g,color:C,width:L,multiline:I},{name:"Tooltip",classNames:m,styles:y,unstyled:w,variant:oe}),Ge=$1e({position:Rre(Be.dir,s),closeDelay:c,openDelay:u,onPositionChange:d,opened:h,events:B,arrowRef:n,arrowOffset:_,offset:M+(T?R/2:0),positionDependencies:[...W,o],inline:J});if(!zE(o))throw new Error(ese.children);const Ie=sy(Ge.reference,o.ref,e);return N.createElement(N.Fragment,null,N.createElement(ly,P0(Cf({},p),{withinPortal:f}),N.createElement(dy,P0(Cf({keepMounted:re,mounted:!z&&Ge.opened},G),{transition:G.transition||"fade",duration:Ge.isGroupPhase?10:(t=G.duration)!=null?t:100}),qe=>{var $e,Tt;return N.createElement(it,Cf(Cf({},ue),Ge.getFloatingProps({ref:Ge.floating,className:Ce.tooltip,style:P0(Cf(Cf({},E),qe),{zIndex:j,top:($e=Ge.y)!=null?$e:0,left:(Tt=Ge.x)!=null?Tt:0})})),l,N.createElement(K$,{ref:n,arrowX:Ge.arrowX,arrowY:Ge.arrowY,visible:T,position:Ge.placement,arrowSize:R,arrowOffset:_,arrowRadius:b,arrowPosition:D,className:Ce.arrow}))})),S.cloneElement(o,Ge.getReferenceProps(Cf({onClick:H,onMouseEnter:Y,onMouseLeave:Q,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,[a]:Ie,className:Re(P,o.props.className)},o.props))))});ZI.Group=Joe;ZI.Floating=rse;ZI.displayName="@mantine/core/Tooltip";const sse=ZI;var K1e=Object.defineProperty,Y1e=Object.defineProperties,q1e=Object.getOwnPropertyDescriptors,jD=Object.getOwnPropertySymbols,ase=Object.prototype.hasOwnProperty,lse=Object.prototype.propertyIsEnumerable,e9=(r,e,t)=>e in r?K1e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Z1=(r,e)=>{for(var t in e||(e={}))ase.call(e,t)&&e9(r,t,e[t]);if(jD)for(var t of jD(e))lse.call(e,t)&&e9(r,t,e[t]);return r},use=(r,e)=>Y1e(r,q1e(e)),t9=(r,e)=>{var t={};for(var n in r)ase.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&jD)for(var n of jD(r))e.indexOf(n)<0&&lse.call(r,n)&&(t[n]=r[n]);return t};function Q1e(r){return r.reduce((e,t)=>(e.sections.push(use(Z1({},t),{accumulated:e.accumulated})),e.accumulated+=t.value,e),{accumulated:0,sections:[]}).sections}const X1e={size:"md",radius:"sm",striped:!1,animate:!1,label:""},J1e=S.forwardRef((r,e)=>{const t=Ve("Progress",X1e,r),{className:n,value:i,color:o,size:s,radius:a,striped:l,animate:u,label:c,"aria-label":d,classNames:h,styles:f,sections:p,unstyled:g,variant:C}=t,m=t9(t,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled","variant"]),{classes:y,cx:w,theme:E}=b1e({color:o,radius:a},{name:"Progress",classNames:h,styles:f,unstyled:g,variant:C,size:s}),P=Array.isArray(p)?Q1e(p).map((T,R)=>{var _=T,{tooltip:b,accumulated:D,value:M,label:G,color:I}=_,L=t9(_,["tooltip","accumulated","value","label","color"]);return N.createElement(sse.Floating,{label:b,disabled:!b,key:R},N.createElement(it,use(Z1({},L),{className:w(y.bar,L.className),"data-striped":l||u||void 0,"data-animate":u||void 0,sx:{width:`${M}%`,left:`${D}%`,backgroundColor:E.fn.variant({variant:"filled",primaryFallback:!1,color:I||E.primaryColor}).background}}),G&&N.createElement(xu,{className:y.label},G)))}):null;return N.createElement(it,Z1({className:w(y.root,n),ref:e},m),P||N.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":d,className:y.bar,style:{width:`${i}%`},"data-striped":l||u||void 0,"data-animate":u||void 0},c?N.createElement(xu,{className:y.label},c):""))});J1e.displayName="@mantine/core/Progress";function Z1e({size:r,thickness:e,sum:t,value:n,root:i,offset:o}){const s=(r*.9-e*2)/2,a=Math.PI*s*2/100,l=i?`${(100-t)*a}, ${t*a}`:`${n*a}, ${(100-n)*a}`;return{strokeWidth:e,cx:r/2,cy:r/2,r:s,transform:i?`scale(1, -1) translate(0, -${r})`:null,strokeDasharray:l,strokeDashoffset:i?0:o}}var eVe=Object.defineProperty,tVe=Object.defineProperties,nVe=Object.getOwnPropertyDescriptors,WD=Object.getOwnPropertySymbols,cse=Object.prototype.hasOwnProperty,dse=Object.prototype.propertyIsEnumerable,n9=(r,e,t)=>e in r?eVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r9=(r,e)=>{for(var t in e||(e={}))cse.call(e,t)&&n9(r,t,e[t]);if(WD)for(var t of WD(e))dse.call(e,t)&&n9(r,t,e[t]);return r},rVe=(r,e)=>tVe(r,nVe(e)),iVe=(r,e)=>{var t={};for(var n in r)cse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&WD)for(var n of WD(r))e.indexOf(n)<0&&dse.call(r,n)&&(t[n]=r[n]);return t};function hse(r){var e=r,{size:t,value:n,offset:i,sum:o,thickness:s,root:a,color:l,lineRoundCaps:u,tooltip:c}=e,d=iVe(e,["size","value","offset","sum","thickness","root","color","lineRoundCaps","tooltip"]);const h=cs(),f=h.fn.themeColor(l||(h.colorScheme==="dark"?"dark":"gray"),l?h.fn.primaryShade():h.colorScheme==="dark"?4:1,!1);return N.createElement(sse.Floating,{disabled:!c,label:c},N.createElement("circle",r9(rVe(r9({},d),{fill:"none",strokeLinecap:u?"round":"butt",stroke:f}),Z1e({sum:o,size:t,thickness:s,value:n,offset:i,root:a}))))}hse.displayName="@mantine/core/Curve";var oVe=Object.defineProperty,sVe=Object.defineProperties,aVe=Object.getOwnPropertyDescriptors,i9=Object.getOwnPropertySymbols,lVe=Object.prototype.hasOwnProperty,uVe=Object.prototype.propertyIsEnumerable,o9=(r,e,t)=>e in r?oVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yC=(r,e)=>{for(var t in e||(e={}))lVe.call(e,t)&&o9(r,t,e[t]);if(i9)for(var t of i9(e))uVe.call(e,t)&&o9(r,t,e[t]);return r},CC=(r,e)=>sVe(r,aVe(e));function cVe({size:r,thickness:e,sections:t,renderRoundedLineCaps:n,rootColor:i}){const o=t.reduce((c,d)=>c+d.value,0),s=Math.PI*((r*.9-e*2)/2)*2;let a=s;const l=[],u=[];for(let c=0;c<t.length;c+=1)l.push({sum:o,offset:a,data:t[c],root:!1}),a-=t[c].value/100*s;if(l.push({sum:o,offset:a,data:{color:i},root:!0}),u.push(CC(yC({},l[l.length-1]),{lineRoundCaps:!1})),l.length>2){u.push(CC(yC({},l[0]),{lineRoundCaps:n})),u.push(CC(yC({},l[l.length-2]),{lineRoundCaps:n}));for(let c=1;c<=l.length-3;c+=1)u.push(CC(yC({},l[c]),{lineRoundCaps:!1}))}else u.push(CC(yC({},l[0]),{lineRoundCaps:n}));return u}var dVe=Xe({root:{position:"relative"},label:{position:"absolute",top:"50%",transform:"translateY(-50%)"}}),hVe=Object.defineProperty,fVe=Object.defineProperties,pVe=Object.getOwnPropertyDescriptors,UD=Object.getOwnPropertySymbols,fse=Object.prototype.hasOwnProperty,pse=Object.prototype.propertyIsEnumerable,s9=(r,e,t)=>e in r?hVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,O0=(r,e)=>{for(var t in e||(e={}))fse.call(e,t)&&s9(r,t,e[t]);if(UD)for(var t of UD(e))pse.call(e,t)&&s9(r,t,e[t]);return r},gVe=(r,e)=>fVe(r,pVe(e)),mVe=(r,e)=>{var t={};for(var n in r)fse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&UD)for(var n of UD(r))e.indexOf(n)<0&&pse.call(r,n)&&(t[n]=r[n]);return t};const vVe={size:120,thickness:12},yVe=S.forwardRef((r,e)=>{const t=Ve("RingProgress",vVe,r),{className:n,style:i,label:o,sections:s,size:a,thickness:l,classNames:u,styles:c,roundCaps:d,rootColor:h,unstyled:f,variant:p}=t,g=mVe(t,["className","style","label","sections","size","thickness","classNames","styles","roundCaps","rootColor","unstyled","variant"]),{classes:C,cx:m}=dVe(null,{name:"RingProgress",classNames:u,styles:c,unstyled:f,variant:p}),y=cVe({size:a,thickness:l,sections:s,renderRoundedLineCaps:d,rootColor:h}).map(({data:w,sum:E,root:P,lineRoundCaps:T,offset:R},_)=>N.createElement(hse,gVe(O0({},w),{key:_,size:a,thickness:l,sum:E,offset:R,color:w==null?void 0:w.color,root:P,lineRoundCaps:T})));return N.createElement(it,O0({style:O0({width:a,height:a},i),className:m(C.root,n),ref:e},g),N.createElement("svg",{style:{width:a,height:a,transform:"rotate(-90deg)"}},y),o&&N.createElement("div",{className:C.label,style:{right:l*2,left:l*2}},o))});yVe.displayName="@mantine/core/RingProgress";function CVe({data:r,searchable:e,limit:t,searchValue:n,filter:i,value:o,filterDataOnExactSearchMatch:s}){if(!e)return r;const a=o!=null&&r.find(u=>u.value===o)||null;if(a&&!s&&(a==null?void 0:a.label)===n){if(t){if(t>=r.length)return r;const u=r.indexOf(a),c=u+t,d=c-r.length;return d>0?r.slice(u-d):r.slice(u,c)}return r}const l=[];for(let u=0;u<r.length&&(i(n,r[u])&&l.push(r[u]),!(l.length>=t));u+=1);return l}var wVe=Xe(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),SVe=Object.defineProperty,EVe=Object.defineProperties,_Ve=Object.getOwnPropertyDescriptors,zD=Object.getOwnPropertySymbols,gse=Object.prototype.hasOwnProperty,mse=Object.prototype.propertyIsEnumerable,a9=(r,e,t)=>e in r?SVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wC=(r,e)=>{for(var t in e||(e={}))gse.call(e,t)&&a9(r,t,e[t]);if(zD)for(var t of zD(e))mse.call(e,t)&&a9(r,t,e[t]);return r},D0=(r,e)=>EVe(r,_Ve(e)),RVe=(r,e)=>{var t={};for(var n in r)gse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&zD)for(var n of zD(r))e.indexOf(n)<0&&mse.call(r,n)&&(t[n]=r[n]);return t};function bVe(r,e){return e.label.toLowerCase().trim().includes(r.toLowerCase().trim())}function TVe(r,e){return!!r&&!e.some(t=>t.label.toLowerCase()===r.toLowerCase())}const PVe={required:!1,size:"sm",shadow:"sm",itemComponent:One,transitionProps:{transition:"fade",duration:0},initiallyOpened:!1,filter:bVe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:TVe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:xl("popover"),positionDependencies:[],dropdownPosition:"flip"},OVe=S.forwardRef((r,e)=>{const t=Dre("Select",PVe,r),{inputProps:n,wrapperProps:i,shadow:o,data:s,value:a,defaultValue:l,onChange:u,itemComponent:c,onKeyDown:d,onBlur:h,onFocus:f,transitionProps:p,initiallyOpened:g,unstyled:C,classNames:m,styles:y,filter:w,maxDropdownHeight:E,searchable:P,clearable:T,nothingFound:R,limit:_,disabled:b,onSearchChange:D,searchValue:M,rightSection:G,rightSectionWidth:I,creatable:L,getCreateLabel:B,shouldCreate:j,selectOnBlur:z,onCreate:W,dropdownComponent:H,onDropdownClose:Y,onDropdownOpen:Q,withinPortal:J,portalProps:oe,switchDirectionOnFlip:re,zIndex:ue,name:Ce,dropdownPosition:Re,allowDeselect:Be,placeholder:Ge,filterDataOnExactSearchMatch:Ie,form:qe,positionDependencies:$e,readOnly:Tt,clearButtonProps:Dt,hoverOnSearchChange:pt}=t,bn=RVe(t,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transitionProps","initiallyOpened","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","portalProps","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","form","positionDependencies","readOnly","clearButtonProps","hoverOnSearchChange"]),{classes:Ze,cx:xe,theme:pn}=wVe(),[Ot,qr]=S.useState(g),[Bn,Vt]=S.useState(-1),Se=S.useRef(),Fe=S.useRef({}),[Je,Ue]=S.useState("column"),vt=Je==="column",{scrollIntoView:Cn,targetRef:mt,scrollableRef:kt}=yTe({duration:0,offset:5,cancelable:!1,isList:!0}),Qt=Be===void 0?T:Be,mn=fe=>{if(Ot!==fe){qr(fe);const Pe=fe?Q:Y;typeof Pe=="function"&&Pe()}},or=L&&typeof B=="function";let Xn=null;const Mt=s.map(fe=>typeof fe=="string"?{label:fe,value:fe}:fe),At=F_e({data:Mt}),[Lt,gt,sn]=Pp({value:a,defaultValue:l,finalValue:null,onChange:u}),Xt=At.find(fe=>fe.value===Lt),[Dn,Wi]=Pp({value:M,defaultValue:(Xt==null?void 0:Xt.label)||"",finalValue:void 0,onChange:D}),Qr=fe=>{Wi(fe),P&&typeof D=="function"&&D(fe)},Qu=()=>{var fe;Tt||(gt(null),sn||Qr(""),(fe=Se.current)==null||fe.focus())};S.useEffect(()=>{const fe=At.find(Pe=>Pe.value===Lt);fe?Qr(fe.label):(!or||!Lt)&&Qr("")},[Lt]),S.useEffect(()=>{Xt&&(!P||!Ot)&&Qr(Xt.label)},[Xt==null?void 0:Xt.label]);const Ui=fe=>{if(!Tt)if(Qt&&(Xt==null?void 0:Xt.value)===fe.value)gt(null),mn(!1);else{if(fe.creatable&&typeof W=="function"){const Pe=W(fe.value);typeof Pe<"u"&&Pe!==null&&gt(typeof Pe=="string"?Pe:Pe.value)}else gt(fe.value);sn||Qr(fe.label),Vt(-1),mn(!1),Se.current.focus()}},Mn=CVe({data:At,searchable:P,limit:_,searchValue:Dn,filter:w,filterDataOnExactSearchMatch:Ie,value:Lt});or&&j(Dn,Mn)&&(Xn=B(Dn),Mn.push({label:Dn,value:Dn,creatable:!0}));const aa=(fe,Pe,ot)=>{let ct=fe;for(;ot(ct);)if(ct=Pe(ct),!Mn[ct].disabled)return ct;return fe};Fa(()=>{Vt(pt&&Dn?0:-1)},[Dn,pt]);const la=Lt?Mn.findIndex(fe=>fe.value===Lt):0,K=!Tt&&(Mn.length>0?Ot:Ot&&!!R),ee=()=>{Vt(fe=>{var Pe;const ot=aa(fe,ct=>ct-1,ct=>ct>0);return mt.current=Fe.current[(Pe=Mn[ot])==null?void 0:Pe.value],K&&Cn({alignment:vt?"start":"end"}),ot})},ie=()=>{Vt(fe=>{var Pe;const ot=aa(fe,ct=>ct+1,ct=>ct<Mn.length-1);return mt.current=Fe.current[(Pe=Mn[ot])==null?void 0:Pe.value],K&&Cn({alignment:vt?"end":"start"}),ot})},me=()=>window.setTimeout(()=>{var fe;mt.current=Fe.current[(fe=Mn[la])==null?void 0:fe.value],Cn({alignment:vt?"end":"start"})},50);Fa(()=>{K&&me()},[K]);const Le=fe=>{switch(typeof d=="function"&&d(fe),fe.key){case"ArrowUp":{fe.preventDefault(),Ot?vt?ee():ie():(Vt(la),mn(!0),me());break}case"ArrowDown":{fe.preventDefault(),Ot?vt?ie():ee():(Vt(la),mn(!0),me());break}case"Home":{if(!P){fe.preventDefault(),Ot||mn(!0);const Pe=Mn.findIndex(ot=>!ot.disabled);Vt(Pe),K&&Cn({alignment:vt?"end":"start"})}break}case"End":{if(!P){fe.preventDefault(),Ot||mn(!0);const Pe=Mn.map(ot=>!!ot.disabled).lastIndexOf(!1);Vt(Pe),K&&Cn({alignment:vt?"end":"start"})}break}case"Escape":{fe.preventDefault(),mn(!1),Vt(-1);break}case" ":{P||(fe.preventDefault(),Mn[Bn]&&Ot?Ui(Mn[Bn]):(mn(!0),Vt(la),me()));break}case"Enter":P||fe.preventDefault(),Mn[Bn]&&Ot&&(fe.preventDefault(),Ui(Mn[Bn]))}},tt=fe=>{typeof h=="function"&&h(fe);const Pe=At.find(ot=>ot.value===Lt);z&&Mn[Bn]&&Ot&&Ui(Mn[Bn]),Qr((Pe==null?void 0:Pe.label)||""),mn(!1)},at=fe=>{typeof f=="function"&&f(fe),P&&mn(!0)},We=fe=>{Tt||(Qr(fe.currentTarget.value),T&&fe.currentTarget.value===""&&gt(null),Vt(-1),mn(!0))},ze=()=>{Tt||(mn(!Ot),Lt&&!Ot&&Vt(la))};return N.createElement(wu.Wrapper,D0(wC({},i),{__staticSelector:"Select"}),N.createElement(Xw,{opened:K,transitionProps:p,shadow:o,withinPortal:J,portalProps:oe,__staticSelector:"Select",onDirectionChange:Ue,switchDirectionOnFlip:re,zIndex:ue,dropdownPosition:Re,positionDependencies:[...$e,Dn],classNames:m,styles:y,unstyled:C,variant:n.variant},N.createElement(Xw.Target,null,N.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":K?`${n.id}-items`:null,"aria-controls":n.id,"aria-expanded":K,onMouseLeave:()=>Vt(-1),tabIndex:-1},N.createElement("input",{type:"hidden",name:Ce,value:Lt||"",form:qe,disabled:b}),N.createElement(wu,wC(D0(wC(wC({autoComplete:"off",type:"search"},n),bn),{ref:sy(e,Se),onKeyDown:Le,__staticSelector:"Select",value:Dn,placeholder:Ge,onChange:We,"aria-autocomplete":"list","aria-controls":K?`${n.id}-items`:null,"aria-activedescendant":Bn>=0?`${n.id}-${Bn}`:null,onMouseDown:ze,onBlur:tt,onFocus:at,readOnly:!P||Tt,disabled:b,"data-mantine-stop-propagation":K,name:null,classNames:D0(wC({},m),{input:xe({[Ze.input]:!P},m==null?void 0:m.input)})}),u1e({theme:pn,rightSection:G,rightSectionWidth:I,styles:y,size:n.size,shouldClear:T&&!!Xt,onClear:Qu,error:i.error,clearButtonProps:Dt,disabled:b,readOnly:Tt}))))),N.createElement(Xw.Dropdown,{component:H||I$,maxHeight:E,direction:Je,id:n.id,innerRef:kt,__staticSelector:"Select",classNames:m,styles:y},N.createElement(bne,{data:Mn,hovered:Bn,classNames:m,styles:y,isItemSelected:fe=>fe===Lt,uuid:n.id,__staticSelector:"Select",onItemHover:Vt,onItemSelect:Ui,itemsRefs:Fe,itemComponent:c,size:n.size,nothingFound:R,creatable:or&&!!Xn,createLabel:Xn,"aria-label":i.label,unstyled:C,variant:n.variant}))))});OVe.displayName="@mantine/core/Select";var DVe=Xe((r,{spacing:e,align:t,justify:n})=>({root:{display:"flex",flexDirection:"column",alignItems:t,justifyContent:n,gap:Oe({size:e,sizes:r.spacing})}})),AVe=Object.defineProperty,KD=Object.getOwnPropertySymbols,vse=Object.prototype.hasOwnProperty,yse=Object.prototype.propertyIsEnumerable,l9=(r,e,t)=>e in r?AVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xVe=(r,e)=>{for(var t in e)vse.call(e,t)&&l9(r,t,e[t]);if(KD)for(var t of KD(e))yse.call(e,t)&&l9(r,t,e[t]);return r},IVe=(r,e)=>{var t={};for(var n in r)vse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&KD)for(var n of KD(r))e.indexOf(n)<0&&yse.call(r,n)&&(t[n]=r[n]);return t};const FVe={spacing:"md",align:"stretch",justify:"flex-start"},MVe=S.forwardRef((r,e)=>{const t=Ve("Stack",FVe,r),{spacing:n,className:i,align:o,justify:s,unstyled:a,variant:l}=t,u=IVe(t,["spacing","className","align","justify","unstyled","variant"]),{classes:c,cx:d}=DVe({spacing:n,align:o,justify:s},{name:"Stack",unstyled:a,variant:l});return N.createElement(it,xVe({className:d(c.root,i),ref:e},u))});MVe.displayName="@mantine/core/Stack";const Cse=S.createContext(null),LVe=Cse.Provider,NVe=()=>S.useContext(Cse);var GVe=Object.defineProperty,YD=Object.getOwnPropertySymbols,wse=Object.prototype.hasOwnProperty,Sse=Object.prototype.propertyIsEnumerable,u9=(r,e,t)=>e in r?GVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,c9=(r,e)=>{for(var t in e||(e={}))wse.call(e,t)&&u9(r,t,e[t]);if(YD)for(var t of YD(e))Sse.call(e,t)&&u9(r,t,e[t]);return r},VVe=(r,e)=>{var t={};for(var n in r)wse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&YD)for(var n of YD(r))e.indexOf(n)<0&&Sse.call(r,n)&&(t[n]=r[n]);return t};const kVe={size:"sm"},Ese=S.forwardRef((r,e)=>{const t=Ve("SwitchGroup",kVe,r),{children:n,value:i,defaultValue:o,onChange:s,size:a,wrapperProps:l}=t,u=VVe(t,["children","value","defaultValue","onChange","size","wrapperProps"]),[c,d]=Pp({value:i,defaultValue:o,finalValue:[],onChange:s}),h=f=>{const p=f.currentTarget.value;d(c.includes(p)?c.filter(g=>g!==p):[...c,p])};return N.createElement(LVe,{value:{value:c,onChange:h,size:a}},N.createElement(wu.Wrapper,c9(c9({labelElement:"div",size:a,__staticSelector:"SwitchGroup",ref:e},l),u),n))});Ese.displayName="@mantine/core/SwitchGroup";var HVe=Object.defineProperty,$Ve=Object.defineProperties,BVe=Object.getOwnPropertyDescriptors,d9=Object.getOwnPropertySymbols,jVe=Object.prototype.hasOwnProperty,WVe=Object.prototype.propertyIsEnumerable,h9=(r,e,t)=>e in r?HVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,UVe=(r,e)=>{for(var t in e||(e={}))jVe.call(e,t)&&h9(r,t,e[t]);if(d9)for(var t of d9(e))WVe.call(e,t)&&h9(r,t,e[t]);return r},zVe=(r,e)=>$Ve(r,BVe(e));const KVe={xs:U(16),sm:U(20),md:U(24),lg:U(30),xl:U(36)},YVe={xs:U(32),sm:U(38),md:U(46),lg:U(56),xl:U(72)},qVe={xs:U(12),sm:U(14),md:U(18),lg:U(22),xl:U(28)},QVe={xs:U(5),sm:U(6),md:U(7),lg:U(9),xl:U(11)},XVe={xs:U(4),sm:U(5),md:U(6),lg:U(8),xl:U(10)};var JVe=Xe((r,{radius:e,color:t,labelPosition:n,error:i},{size:o})=>{const s=Oe({size:o,sizes:qVe}),a=Oe({size:e,sizes:r.radius}),l=r.fn.variant({variant:"filled",color:t}),u=Oe({size:o,sizes:YVe}),c=U(o==="xs"?1:2),d=r.fn.variant({variant:"filled",color:"red"}).background;return{root:{position:"relative"},input:{height:0,width:0,overflow:"hidden",whiteSpace:"nowrap",padding:0,WebkitClipPath:"inset(50%)",clipPath:"inset(50%)",position:"absolute"},track:zVe(UVe({},r.fn.focusStyles("input:focus + &")),{cursor:r.cursorType,overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:a,backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[2],border:`${U(1)} solid ${i?d:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`,height:Oe({size:o,sizes:KVe}),minWidth:u,margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:r.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:Oe({size:o,sizes:QVe}),fontWeight:600,order:n==="left"?2:1,userSelect:"none",zIndex:0,lineHeight:0,color:r.colorScheme==="dark"?r.colors.dark[1]:r.colors.gray[6],transition:`color 150ms ${r.transitionTimingFunction}`,"input:checked + &":{backgroundColor:l.background,borderColor:l.background,color:r.white,transition:`color 150ms ${r.transitionTimingFunction}`},"input:disabled + &":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],cursor:"not-allowed",pointerEvents:"none"}}),thumb:{position:"absolute",zIndex:1,borderRadius:a,boxSizing:"border-box",display:"flex",backgroundColor:r.white,height:s,width:s,border:`${U(1)} solid ${r.colorScheme==="dark"?r.white:r.colors.gray[3]}`,left:c,transition:`left 150ms ${r.transitionTimingFunction}`,"& > *":{margin:"auto"},"@media (prefers-reduced-motion)":{transitionDuration:r.respectReducedMotion?"0ms":""},"input:checked + * > &":{left:`calc(100% - ${s} - ${c})`,borderColor:r.white},"input:disabled + * > &":{borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],backgroundColor:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[0]}},trackLabel:{height:"100%",display:"grid",placeContent:"center",minWidth:`calc(${u} - ${s})`,paddingInline:Oe({size:o,sizes:XVe}),marginLeft:`calc(${s} + ${c})`,transition:`margin 150ms ${r.transitionTimingFunction}`,"input:checked + * > &":{marginLeft:0,marginRight:`calc(${s} + ${c})`}}}}),ZVe=Object.defineProperty,eke=Object.defineProperties,tke=Object.getOwnPropertyDescriptors,qD=Object.getOwnPropertySymbols,_se=Object.prototype.hasOwnProperty,Rse=Object.prototype.propertyIsEnumerable,f9=(r,e,t)=>e in r?ZVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A0=(r,e)=>{for(var t in e||(e={}))_se.call(e,t)&&f9(r,t,e[t]);if(qD)for(var t of qD(e))Rse.call(e,t)&&f9(r,t,e[t]);return r},nke=(r,e)=>eke(r,tke(e)),rke=(r,e)=>{var t={};for(var n in r)_se.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&qD)for(var n of qD(r))e.indexOf(n)<0&&Rse.call(r,n)&&(t[n]=r[n]);return t};const ike={offLabel:"",onLabel:"",size:"sm",radius:"xl",error:!1},bse=S.forwardRef((r,e)=>{var t;const n=Ve("Switch",ike,r),{className:i,color:o,label:s,offLabel:a,onLabel:l,id:u,style:c,size:d,radius:h,wrapperProps:f,children:p,unstyled:g,styles:C,classNames:m,thumbIcon:y,sx:w,checked:E,defaultChecked:P,onChange:T,labelPosition:R,description:_,error:b,disabled:D,variant:M}=n,G=rke(n,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","thumbIcon","sx","checked","defaultChecked","onChange","labelPosition","description","error","disabled","variant"]),I=NVe(),L=(I==null?void 0:I.size)||d,{classes:B,cx:j}=JVe({color:o,radius:h,labelPosition:R,error:!!b},{name:"Switch",classNames:m,styles:C,unstyled:g,size:L,variant:M}),{systemStyles:z,rest:W}=ay(G),H=Uh(u),Y=I?{checked:I.value.includes(W.value),onChange:I.onChange}:{},[Q,J]=Pp({value:(t=Y.checked)!=null?t:E,defaultValue:P,finalValue:!1});return N.createElement(_ie,A0(A0({className:j(i,B.root),sx:w,style:c,id:H,size:(I==null?void 0:I.size)||d,labelPosition:R,label:s,description:_,error:b,disabled:D,__staticSelector:"Switch",classNames:m,styles:C,unstyled:g,"data-checked":Y.checked||void 0,variant:M},z),f),N.createElement("input",nke(A0({},W),{disabled:D,checked:Q,onChange:oe=>{I?Y.onChange(oe):T==null||T(oe),J(oe.currentTarget.checked)},id:H,ref:e,type:"checkbox",className:B.input})),N.createElement("label",{htmlFor:H,className:B.track},N.createElement("div",{className:B.thumb},y),N.createElement("div",{className:B.trackLabel},Q?l:a)))});bse.displayName="@mantine/core/Switch";bse.Group=Ese;var oke=Object.defineProperty,ske=Object.defineProperties,ake=Object.getOwnPropertyDescriptors,p9=Object.getOwnPropertySymbols,lke=Object.prototype.hasOwnProperty,uke=Object.prototype.propertyIsEnumerable,g9=(r,e,t)=>e in r?oke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cke=(r,e)=>{for(var t in e||(e={}))lke.call(e,t)&&g9(r,t,e[t]);if(p9)for(var t of p9(e))uke.call(e,t)&&g9(r,t,e[t]);return r},dke=(r,e)=>ske(r,ake(e)),hke=Xe((r,{captionSide:e,horizontalSpacing:t,verticalSpacing:n,fontSize:i,withBorder:o,withColumnBorders:s})=>{const a=`${U(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`;return{root:dke(cke({},r.fn.fontStyles()),{width:"100%",borderCollapse:"collapse",captionSide:e,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight,border:o?a:void 0,"& > caption":{marginTop:e==="top"?0:r.spacing.xs,marginBottom:e==="bottom"?0:r.spacing.xs,fontSize:r.fontSizes.sm,color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]},"& > thead > tr > th, & > tfoot > tr > th, & > tbody > tr > th":{textAlign:"left",fontWeight:"bold",color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[7],fontSize:Oe({size:i,sizes:r.fontSizes}),padding:`${Oe({size:n,sizes:r.spacing})} ${Oe({size:t,sizes:r.spacing})}`},"& > thead > tr > th":{borderBottom:a},"& > tfoot > tr > th, & > tbody > tr > th":{borderTop:a},"& > tbody > tr > td":{padding:`${Oe({size:n,sizes:r.spacing})} ${Oe({size:t,sizes:r.spacing})}`,borderTop:a,fontSize:Oe({size:i,sizes:r.fontSizes})},"& > tbody > tr:first-of-type > td, & > tbody > tr:first-of-type > th":{borderTop:"none"},"& > thead > tr > th, & > tbody > tr > td":{borderRight:s?a:"none","&:last-of-type":{borderRight:"none",borderLeft:s?a:"none"}},"& > tbody > tr > th":{borderRight:s?a:"none"},"&[data-striped] > tbody > tr:nth-of-type(odd)":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0]},"&[data-hover] > tbody > tr":r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[1]})})}}),fke=Object.defineProperty,pke=Object.defineProperties,gke=Object.getOwnPropertyDescriptors,QD=Object.getOwnPropertySymbols,Tse=Object.prototype.hasOwnProperty,Pse=Object.prototype.propertyIsEnumerable,m9=(r,e,t)=>e in r?fke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mke=(r,e)=>{for(var t in e)Tse.call(e,t)&&m9(r,t,e[t]);if(QD)for(var t of QD(e))Pse.call(e,t)&&m9(r,t,e[t]);return r},vke=(r,e)=>pke(r,gke(e)),yke=(r,e)=>{var t={};for(var n in r)Tse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&QD)for(var n of QD(r))e.indexOf(n)<0&&Pse.call(r,n)&&(t[n]=r[n]);return t};const Cke={striped:!1,highlightOnHover:!1,captionSide:"top",horizontalSpacing:"xs",fontSize:"sm",verticalSpacing:7,withBorder:!1,withColumnBorders:!1},wke=S.forwardRef((r,e)=>{const t=Ve("Table",Cke,r),{className:n,children:i,striped:o,highlightOnHover:s,captionSide:a,horizontalSpacing:l,verticalSpacing:u,fontSize:c,unstyled:d,withBorder:h,withColumnBorders:f,variant:p}=t,g=yke(t,["className","children","striped","highlightOnHover","captionSide","horizontalSpacing","verticalSpacing","fontSize","unstyled","withBorder","withColumnBorders","variant"]),{classes:C,cx:m}=hke({captionSide:a,verticalSpacing:u,horizontalSpacing:l,fontSize:c,withBorder:h,withColumnBorders:f},{unstyled:d,name:"Table",variant:p});return N.createElement(it,vke(mke({},g),{component:"table",ref:e,className:m(C.root,n),"data-striped":o||void 0,"data-hover":s||void 0}),i)});wke.displayName="@mantine/core/Table";const eV={context:"Tabs component was not found in the tree",value:"Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value"},[Ske,rB]=sg(eV.context);var Eke=Object.defineProperty,v9=Object.getOwnPropertySymbols,_ke=Object.prototype.hasOwnProperty,Rke=Object.prototype.propertyIsEnumerable,y9=(r,e,t)=>e in r?Eke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bke=(r,e)=>{for(var t in e||(e={}))_ke.call(e,t)&&y9(r,t,e[t]);if(v9)for(var t of v9(e))Rke.call(e,t)&&y9(r,t,e[t]);return r};function Tke({orientation:r,inverted:e,placement:t},n,i){const o=r==="vertical";return i==="default"?{[o?t==="left"?"borderRight":"borderLeft":e?"borderTop":"borderBottom"]:`${U(2)} solid ${n.colorScheme==="dark"?n.colors.dark[4]:n.colors.gray[3]}`}:i==="outline"?{[o?t==="left"?"borderRight":"borderLeft":e?"borderTop":"borderBottom"]:`${U(1)} solid ${n.colorScheme==="dark"?n.colors.dark[4]:n.colors.gray[3]}`}:i==="pills"?{gap:`calc(${n.spacing.sm} / 2)`}:{}}var Pke=Xe((r,e,{variant:t})=>{const n=e.orientation==="vertical";return{tabsList:bke({display:"flex",flexWrap:"wrap",flexDirection:n?"column":"row",justifyContent:eoe[e.position],'& [role="tab"]':{flex:e.grow?1:void 0}},Tke(e,r,t))}}),Oke=Object.defineProperty,Dke=Object.defineProperties,Ake=Object.getOwnPropertyDescriptors,XD=Object.getOwnPropertySymbols,Ose=Object.prototype.hasOwnProperty,Dse=Object.prototype.propertyIsEnumerable,C9=(r,e,t)=>e in r?Oke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xke=(r,e)=>{for(var t in e)Ose.call(e,t)&&C9(r,t,e[t]);if(XD)for(var t of XD(e))Dse.call(e,t)&&C9(r,t,e[t]);return r},Ike=(r,e)=>Dke(r,Ake(e)),Fke=(r,e)=>{var t={};for(var n in r)Ose.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&XD)for(var n of XD(r))e.indexOf(n)<0&&Dse.call(r,n)&&(t[n]=r[n]);return t};const Mke={grow:!1,position:"left"},Ase=S.forwardRef((r,e)=>{const t=Ve("TabsList",Mke,r),{children:n,className:i,grow:o,position:s}=t,a=Fke(t,["children","className","grow","position"]),{orientation:l,variant:u,color:c,radius:d,inverted:h,placement:f,classNames:p,styles:g,unstyled:C}=rB(),{classes:m,cx:y}=Pke({orientation:l,grow:o,color:c,position:s,radius:d,inverted:h,placement:f},{name:"Tabs",unstyled:C,classNames:p,styles:g,variant:u});return N.createElement(it,Ike(xke({},a),{className:y(m.tabsList,i),ref:e,role:"tablist","aria-orientation":l}),n)});Ase.displayName="@mantine/core/TabsList";var Lke=Xe((r,{orientation:e})=>({panel:{flex:e==="vertical"?1:void 0}})),Nke=Object.defineProperty,Gke=Object.defineProperties,Vke=Object.getOwnPropertyDescriptors,JD=Object.getOwnPropertySymbols,xse=Object.prototype.hasOwnProperty,Ise=Object.prototype.propertyIsEnumerable,w9=(r,e,t)=>e in r?Nke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kke=(r,e)=>{for(var t in e)xse.call(e,t)&&w9(r,t,e[t]);if(JD)for(var t of JD(e))Ise.call(e,t)&&w9(r,t,e[t]);return r},Hke=(r,e)=>Gke(r,Vke(e)),$ke=(r,e)=>{var t={};for(var n in r)xse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&JD)for(var n of JD(r))e.indexOf(n)<0&&Ise.call(r,n)&&(t[n]=r[n]);return t};const Bke={},Fse=S.forwardRef((r,e)=>{const t=Ve("TabsPanel",Bke,r),{value:n,children:i,sx:o,className:s}=t,a=$ke(t,["value","children","sx","className"]),l=rB(),{classes:u,cx:c}=Lke({orientation:l.orientation,color:l.color,radius:l.radius,inverted:l.inverted,placement:l.placement},{name:"Tabs",unstyled:l.unstyled,classNames:l.classNames,styles:l.styles,variant:l.variant}),d=l.getPanelId(n),h=l.value===n,f=l.keepMounted||h?i:null;return S.useEffect(()=>(l.setMountedPanelIds(p=>[...p,d]),l.setMountedPanelIds(p=>p.filter(g=>g!==d))),[d]),N.createElement(it,Hke(kke({},a),{ref:e,sx:[{display:h?void 0:"none"},...AI(o)],className:c(u.panel,s),role:"tabpanel",id:d,"aria-labelledby":l.getTabId(n)}),f)});Fse.displayName="@mantine/core/TabsPanel";var jke=Object.defineProperty,Wke=Object.defineProperties,Uke=Object.getOwnPropertyDescriptors,S9=Object.getOwnPropertySymbols,zke=Object.prototype.hasOwnProperty,Kke=Object.prototype.propertyIsEnumerable,E9=(r,e,t)=>e in r?jke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Om=(r,e)=>{for(var t in e||(e={}))zke.call(e,t)&&E9(r,t,e[t]);if(S9)for(var t of S9(e))Kke.call(e,t)&&E9(r,t,e[t]);return r},_9=(r,e)=>Wke(r,Uke(e));function Yke(r,{orientation:e,color:t,radius:n,inverted:i,placement:o},s){const a=e==="vertical",l=r.fn.variant({color:t,variant:"filled"}),u=U(r.fn.radius(n)),c=e==="vertical"?o==="left"?`${u} 0 0 ${u}`:` 0 ${u} ${u} 0`:i?`0 0 ${u} ${u}`:`${u} ${u} 0 0`;return s==="default"?_9(Om({[a?o==="left"?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:`${U(2)} solid transparent`,[a?o==="left"?"marginRight":"marginLeft":i?"marginTop":"marginBottom"]:U(-2),borderRadius:c},r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0],borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]})),{"&[data-active]":Om({borderColor:l.background,color:r.colorScheme==="dark"?r.white:r.black},r.fn.hover({borderColor:l.background}))}):s==="outline"?{borderRadius:c,border:`${U(1)} solid transparent`,[a?o==="left"?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:"none","&[data-active]":{borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3],"&::before":{content:'""',backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,position:"absolute",bottom:a?0:i?"unset":U(-1),top:a?0:i?U(-1):"unset",[a?"width":"height"]:U(1),right:a?o==="left"?U(-1):"unset":0,left:a?o==="left"?"unset":U(-1):0}}}:s==="pills"?_9(Om({borderRadius:r.fn.radius(n)},r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0]})),{"&[data-active]":Om({backgroundColor:l.background,color:r.white},r.fn.hover({backgroundColor:l.background}))}):{}}var qke=Xe((r,e,{variant:t})=>({tabLabel:{},tab:Om({position:"relative",padding:`${r.spacing.xs} ${r.spacing.md}`,paddingLeft:e.withIcon?r.spacing.xs:void 0,paddingRight:e.withRightSection?r.spacing.xs:void 0,fontSize:r.fontSizes.sm,whiteSpace:"nowrap",zIndex:0,display:"flex",alignItems:"center",justifyContent:e.orientation==="horizontal"?"center":void 0,lineHeight:1,"&:disabled":Om({opacity:.5,cursor:"not-allowed"},r.fn.hover({backgroundColor:"transparent"})),"&:focus":{zIndex:1}},Yke(r,e,t)),tabRightSection:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginLeft:U(7)}},tabIcon:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginRight:U(7)}}})),Qke=Object.defineProperty,Xke=Object.defineProperties,Jke=Object.getOwnPropertyDescriptors,ZD=Object.getOwnPropertySymbols,Mse=Object.prototype.hasOwnProperty,Lse=Object.prototype.propertyIsEnumerable,R9=(r,e,t)=>e in r?Qke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zke=(r,e)=>{for(var t in e)Mse.call(e,t)&&R9(r,t,e[t]);if(ZD)for(var t of ZD(e))Lse.call(e,t)&&R9(r,t,e[t]);return r},eHe=(r,e)=>Xke(r,Jke(e)),tHe=(r,e)=>{var t={};for(var n in r)Mse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ZD)for(var n of ZD(r))e.indexOf(n)<0&&Lse.call(r,n)&&(t[n]=r[n]);return t};const nHe={},Nse=S.forwardRef((r,e)=>{const t=Ve("TabsTab",nHe,r),{value:n,children:i,onKeyDown:o,onClick:s,className:a,icon:l,rightSection:u,color:c}=t,d=tHe(t,["value","children","onKeyDown","onClick","className","icon","rightSection","color"]),h=rB(),f=!!l,p=!!u,{theme:g,classes:C,cx:m}=qke({withIcon:f||p&&!i,withRightSection:p||f&&!i,orientation:h.orientation,color:c||h.color,radius:h.radius,inverted:h.inverted,placement:h.placement},{name:"Tabs",unstyled:h.unstyled,classNames:h.classNames,styles:h.styles,variant:h.variant}),y=n===h.value,w=h.getPanelId(n),E=h.mountedPanelIds.includes(n)?w:void 0,P=T=>{h.onTabChange(h.allowTabDeactivation&&n===h.value?null:n),s==null||s(T)};return N.createElement(D$,eHe(Zke({},d),{unstyled:h.unstyled,className:m(C.tab,a),"data-active":y||void 0,ref:e,type:"button",role:"tab",id:h.getTabId(n),"aria-selected":y,tabIndex:y||h.value===null?0:-1,"aria-controls":E,onClick:P,onKeyDown:Wee({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:h.activateTabWithKeyboard,loop:h.loop,dir:g.dir,orientation:h.orientation,onKeyDown:o})}),l&&N.createElement("span",{className:C.tabIcon},l),i&&N.createElement("span",{className:C.tabLabel},i),u&&N.createElement("span",{className:C.tabRightSection},u))});Nse.displayName="@mantine/core/Tab";function Gse({defaultValue:r,value:e,onTabChange:t,orientation:n,children:i,loop:o,id:s,activateTabWithKeyboard:a,allowTabDeactivation:l,variant:u,color:c,radius:d,inverted:h,placement:f,keepMounted:p=!0,classNames:g,styles:C,unstyled:m}){const y=Uh(s),[w,E]=S.useState([]),[P,T]=Pp({value:e,defaultValue:r,finalValue:null,onChange:t});return N.createElement(Ske,{value:{placement:f,value:P,orientation:n,id:y,loop:o,activateTabWithKeyboard:a,getTabId:Qz(`${y}-tab`,eV.value),getPanelId:Qz(`${y}-panel`,eV.value),onTabChange:T,setMountedPanelIds:E,mountedPanelIds:w,allowTabDeactivation:l,variant:u,color:c,radius:d,inverted:h,keepMounted:p,classNames:g,styles:C,unstyled:m}},i)}Gse.displayName="@mantine/core/TabsProvider";var rHe=Xe((r,{orientation:e,placement:t})=>({root:{display:e==="vertical"?"flex":void 0,flexDirection:t==="right"?"row-reverse":"row"}})),iHe=Object.defineProperty,oHe=Object.defineProperties,sHe=Object.getOwnPropertyDescriptors,eA=Object.getOwnPropertySymbols,Vse=Object.prototype.hasOwnProperty,kse=Object.prototype.propertyIsEnumerable,b9=(r,e,t)=>e in r?iHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,aHe=(r,e)=>{for(var t in e)Vse.call(e,t)&&b9(r,t,e[t]);if(eA)for(var t of eA(e))kse.call(e,t)&&b9(r,t,e[t]);return r},lHe=(r,e)=>oHe(r,sHe(e)),uHe=(r,e)=>{var t={};for(var n in r)Vse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&eA)for(var n of eA(r))e.indexOf(n)<0&&kse.call(r,n)&&(t[n]=r[n]);return t};const cHe={orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},eF=S.forwardRef((r,e)=>{const t=Ve("Tabs",cHe,r),{defaultValue:n,value:i,orientation:o,loop:s,activateTabWithKeyboard:a,allowTabDeactivation:l,children:u,id:c,onTabChange:d,variant:h,color:f,className:p,unstyled:g,classNames:C,styles:m,radius:y,inverted:w,keepMounted:E,placement:P}=t,T=uHe(t,["defaultValue","value","orientation","loop","activateTabWithKeyboard","allowTabDeactivation","children","id","onTabChange","variant","color","className","unstyled","classNames","styles","radius","inverted","keepMounted","placement"]),{classes:R,cx:_}=rHe({orientation:o,color:f,radius:y,inverted:w,placement:P},{unstyled:g,name:"Tabs",classNames:C,styles:m,variant:h});return N.createElement(Gse,{activateTabWithKeyboard:a,defaultValue:n,orientation:o,onTabChange:d,value:i,id:c,loop:s,allowTabDeactivation:l,color:f,variant:h,radius:y,inverted:w,keepMounted:E,placement:P,classNames:C,styles:m,unstyled:g},N.createElement(it,lHe(aHe({},T),{className:_(R.root,p),id:c,ref:e}),u))});eF.List=Ase;eF.Tab=Nse;eF.Panel=Fse;eF.displayName="@mantine/core/Tabs";var dHe=Object.defineProperty,hHe=Object.defineProperties,fHe=Object.getOwnPropertyDescriptors,T9=Object.getOwnPropertySymbols,pHe=Object.prototype.hasOwnProperty,gHe=Object.prototype.propertyIsEnumerable,P9=(r,e,t)=>e in r?dHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,O9=(r,e)=>{for(var t in e||(e={}))pHe.call(e,t)&&P9(r,t,e[t]);if(T9)for(var t of T9(e))gHe.call(e,t)&&P9(r,t,e[t]);return r},mHe=(r,e)=>hHe(r,fHe(e));const vHe={xs:U(16),sm:U(20),md:U(26),lg:U(32),xl:U(40)},yHe=["filled","light","gradient","outline","default"];function CHe({theme:r,variant:e,color:t,gradient:n}){if(!yHe.includes(e))return null;const i=r.fn.variant({variant:e,color:t||r.primaryColor,gradient:n,primaryFallback:!1});return{backgroundColor:i.background,color:i.color,backgroundImage:e==="gradient"?i.background:void 0,border:`${U(e==="gradient"?0:1)} solid ${i.border}`}}var wHe=Xe((r,{color:e,radius:t,gradient:n},{variant:i,size:o})=>{const s=Oe({size:o,sizes:vHe});return{root:O9(mHe(O9({},r.fn.fontStyles()),{display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:s,height:s,minWidth:s,minHeight:s,borderRadius:r.fn.radius(t)}),CHe({theme:r,variant:i,gradient:n,color:e}))}}),SHe=Object.defineProperty,tA=Object.getOwnPropertySymbols,Hse=Object.prototype.hasOwnProperty,$se=Object.prototype.propertyIsEnumerable,D9=(r,e,t)=>e in r?SHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,EHe=(r,e)=>{for(var t in e)Hse.call(e,t)&&D9(r,t,e[t]);if(tA)for(var t of tA(e))$se.call(e,t)&&D9(r,t,e[t]);return r},_He=(r,e)=>{var t={};for(var n in r)Hse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tA)for(var n of tA(r))e.indexOf(n)<0&&$se.call(r,n)&&(t[n]=r[n]);return t};const RHe={size:"md",variant:"filled"},bHe=S.forwardRef((r,e)=>{const t=Ve("ThemeIcon",RHe,r),{className:n,size:i,radius:o,variant:s,color:a,children:l,gradient:u,unstyled:c}=t,d=_He(t,["className","size","radius","variant","color","children","gradient","unstyled"]),{classes:h,cx:f}=wHe({variant:s,radius:o,color:a,gradient:u},{name:"ThemeIcon",unstyled:c,variant:s,size:i});return N.createElement(it,EHe({className:f(h.root,n),ref:e},d),l)});bHe.displayName="@mantine/core/ThemeIcon";var THe=Object.defineProperty,PHe=Object.defineProperties,OHe=Object.getOwnPropertyDescriptors,A9=Object.getOwnPropertySymbols,DHe=Object.prototype.hasOwnProperty,AHe=Object.prototype.propertyIsEnumerable,x9=(r,e,t)=>e in r?THe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xHe=(r,e)=>{for(var t in e||(e={}))DHe.call(e,t)&&x9(r,t,e[t]);if(A9)for(var t of A9(e))AHe.call(e,t)&&x9(r,t,e[t]);return r},IHe=(r,e)=>PHe(r,OHe(e));function FHe(r,e,t){return typeof r<"u"?r in t.headings.sizes?t.headings.sizes[r].fontSize:U(r):t.headings.sizes[e].fontSize}function MHe(r,e,t){return typeof r<"u"&&r in t.headings.sizes?t.headings.sizes[r].lineHeight:t.headings.sizes[e].lineHeight}var LHe=Xe((r,{element:e,weight:t,inline:n},{size:i})=>({root:IHe(xHe({},r.fn.fontStyles()),{fontFamily:r.headings.fontFamily,fontWeight:t||r.headings.sizes[e].fontWeight||r.headings.fontWeight,fontSize:FHe(i,e,r),lineHeight:n?1:MHe(i,e,r),margin:0})})),NHe=Object.defineProperty,nA=Object.getOwnPropertySymbols,Bse=Object.prototype.hasOwnProperty,jse=Object.prototype.propertyIsEnumerable,I9=(r,e,t)=>e in r?NHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,GHe=(r,e)=>{for(var t in e)Bse.call(e,t)&&I9(r,t,e[t]);if(nA)for(var t of nA(e))jse.call(e,t)&&I9(r,t,e[t]);return r},VHe=(r,e)=>{var t={};for(var n in r)Bse.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&nA)for(var n of nA(r))e.indexOf(n)<0&&jse.call(r,n)&&(t[n]=r[n]);return t};const kHe={order:1},HHe=S.forwardRef((r,e)=>{const t=Ve("Title",kHe,r),{className:n,order:i,children:o,unstyled:s,size:a,weight:l,inline:u,variant:c}=t,d=VHe(t,["className","order","children","unstyled","size","weight","inline","variant"]),{classes:h,cx:f}=LHe({element:`h${i}`,weight:l,inline:u},{name:"Title",unstyled:s,variant:c,size:a});return[1,2,3,4,5,6].includes(i)?N.createElement(xu,GHe({variant:c,component:`h${i}`,ref:e,className:f(h.root,n)},d),o):null});HHe.displayName="@mantine/core/Title";/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ar(){return ar=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},ar.apply(this,arguments)}var Tr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Tr||(Tr={}));const F9="popstate";function $He(r){r===void 0&&(r={});function e(n,i){let{pathname:o,search:s,hash:a}=n.location;return FS("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Dp(i)}return jHe(e,t,null,r)}function Gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ev(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BHe(){return Math.random().toString(36).substr(2,8)}function M9(r,e){return{usr:r.state,key:r.key,idx:e}}function FS(r,e,t,n){return t===void 0&&(t=null),ar({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Kc(e):e,{state:t,key:e&&e.key||n||BHe()})}function Dp(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Kc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function jHe(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=Tr.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(ar({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Tr.Pop;let C=c(),m=C==null?null:C-u;u=C,l&&l({action:a,location:g.location,delta:m})}function h(C,m){a=Tr.Push;let y=FS(g.location,C,m);u=c()+1;let w=M9(y,u),E=g.createHref(y);try{s.pushState(w,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(E)}o&&l&&l({action:a,location:g.location,delta:1})}function f(C,m){a=Tr.Replace;let y=FS(g.location,C,m);u=c();let w=M9(y,u),E=g.createHref(y);s.replaceState(w,"",E),o&&l&&l({action:a,location:g.location,delta:0})}function p(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof C=="string"?C:Dp(C);return y=y.replace(/ $/,"%20"),Gt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return r(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(F9,d),l=C,()=>{i.removeEventListener(F9,d),l=null}},createHref(C){return e(i,C)},createURL:p,encodeLocation(C){let m=p(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(C){return s.go(C)}};return g}var Vn;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Vn||(Vn={}));const WHe=new Set(["lazy","caseSensitive","path","id","index","children"]);function UHe(r){return r.index===!0}function rA(r,e,t,n){return t===void 0&&(t=[]),n===void 0&&(n={}),r.map((i,o)=>{let s=[...t,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(Gt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Gt(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),UHe(i)){let l=ar({},i,e(i),{id:a});return n[a]=l,l}else{let l=ar({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=rA(i.children,e,s,n)),l}})}function Vf(r,e,t){return t===void 0&&(t="/"),sP(r,e,t,!1)}function sP(r,e,t,n){let i=typeof e=="string"?Kc(e):e,o=py(i.pathname||"/",t);if(o==null)return null;let s=Wse(r);KHe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=i$e(o);a=n$e(s[l],u,n)}return a}function zHe(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function Wse(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Gt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Cc([n,l.relativePath]),c=t.concat(l);o.children&&o.children.length>0&&(Gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wse(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:e$e(u,o.index),routesMeta:c})};return r.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Use(o.path))i(o,s,l)}),e}function Use(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Use(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>r.startsWith("/")&&l===""?"/":l)}function KHe(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:t$e(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const YHe=/^:[\w-]+$/,qHe=3,QHe=2,XHe=1,JHe=10,ZHe=-2,L9=r=>r==="*";function e$e(r,e){let t=r.split("/"),n=t.length;return t.some(L9)&&(n+=ZHe),e&&(n+=QHe),t.filter(i=>!L9(i)).reduce((i,o)=>i+(YHe.test(o)?qHe:o===""?XHe:JHe),n)}function t$e(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function n$e(r,e,t){t===void 0&&(t=!1);let{routesMeta:n}=r,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=N9({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&t&&!n[n.length-1].route.index&&(d=N9({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Cc([o,d.pathname]),pathnameBase:a$e(Cc([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=Cc([o,d.pathnameBase]))}return s}function N9(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=r$e(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:r}}function r$e(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ev(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function i$e(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ev(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function py(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function o$e(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Kc(r):r;return{pathname:t?t.startsWith("/")?t:s$e(t,e):e,search:l$e(n),hash:u$e(i)}}function s$e(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function x0(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zse(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tF(r,e){let t=zse(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function nF(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Kc(r):(i=ar({},r),Gt(!i.pathname||!i.pathname.includes("?"),x0("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),x0("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),x0("#","search","hash",i)));let o=r===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=t;else{let d=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=o$e(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cc=r=>r.join("/").replace(/\/\/+/g,"/"),a$e=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),l$e=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,u$e=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;class iA{constructor(e,t,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function rF(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Kse=["post","put","patch","delete"],c$e=new Set(Kse),d$e=["get",...Kse],h$e=new Set(d$e),f$e=new Set([301,302,303,307,308]),p$e=new Set([307,308]),I0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},g$e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SC={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m$e=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Yse="remix-router-transitions";function v$e(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!t;Gt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(r.mapRouteProperties)i=r.mapRouteProperties;else if(r.detectErrorBoundary){let K=r.detectErrorBoundary;i=ee=>({hasErrorBoundary:K(ee)})}else i=m$e;let o={},s=rA(r.routes,i,void 0,o),a,l=r.basename||"/",u=r.dataStrategy||S$e,c=r.patchRoutesOnNavigation,d=ar({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},r.future),h=null,f=new Set,p=null,g=null,C=null,m=r.hydrationData!=null,y=Vf(s,r.history.location,l),w=null;if(y==null&&!c){let K=zo(404,{pathname:r.history.location.pathname}),{matches:ee,route:ie}=K9(s);y=ee,w={[ie.id]:K}}y&&!r.hydrationData&&Ui(y,s,r.history.location.pathname).active&&(y=null);let E;if(y)if(y.some(K=>K.route.lazy))E=!1;else if(!y.some(K=>K.route.loader))E=!0;else if(d.v7_partialHydration){let K=r.hydrationData?r.hydrationData.loaderData:null,ee=r.hydrationData?r.hydrationData.errors:null;if(ee){let ie=y.findIndex(me=>ee[me.route.id]!==void 0);E=y.slice(0,ie+1).every(me=>!nV(me.route,K,ee))}else E=y.every(ie=>!nV(ie.route,K,ee))}else E=r.hydrationData!=null;else if(E=!1,y=[],d.v7_partialHydration){let K=Ui(null,s,r.history.location.pathname);K.active&&K.matches&&(y=K.matches)}let P,T={historyAction:r.history.action,location:r.history.location,matches:y,initialized:E,navigation:I0,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||w,fetchers:new Map,blockers:new Map},R=Tr.Pop,_=!1,b,D=!1,M=new Map,G=null,I=!1,L=!1,B=[],j=new Set,z=new Map,W=0,H=-1,Y=new Map,Q=new Set,J=new Map,oe=new Map,re=new Set,ue=new Map,Ce=new Map,Re;function Be(){if(h=r.history.listen(K=>{let{action:ee,location:ie,delta:me}=K;if(Re){Re(),Re=void 0;return}Ev(Ce.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=gt({currentLocation:T.location,nextLocation:ie,historyAction:ee});if(Le&&me!=null){let tt=new Promise(at=>{Re=at});r.history.go(me*-1),Lt(Le,{state:"blocked",location:ie,proceed(){Lt(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),tt.then(()=>r.history.go(me))},reset(){let at=new Map(T.blockers);at.set(Le,SC),qe({blockers:at})}});return}return pt(ee,ie)}),t){L$e(e,M);let K=()=>N$e(e,M);e.addEventListener("pagehide",K),G=()=>e.removeEventListener("pagehide",K)}return T.initialized||pt(Tr.Pop,T.location,{initialHydration:!0}),P}function Ge(){h&&h(),G&&G(),f.clear(),b&&b.abort(),T.fetchers.forEach((K,ee)=>mt(ee)),T.blockers.forEach((K,ee)=>At(ee))}function Ie(K){return f.add(K),()=>f.delete(K)}function qe(K,ee){ee===void 0&&(ee={}),T=ar({},T,K);let ie=[],me=[];d.v7_fetcherPersist&&T.fetchers.forEach((Le,tt)=>{Le.state==="idle"&&(re.has(tt)?me.push(tt):ie.push(tt))}),re.forEach(Le=>{!T.fetchers.has(Le)&&!z.has(Le)&&me.push(Le)}),[...f].forEach(Le=>Le(T,{deletedFetchers:me,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),d.v7_fetcherPersist?(ie.forEach(Le=>T.fetchers.delete(Le)),me.forEach(Le=>mt(Le))):me.forEach(Le=>re.delete(Le))}function $e(K,ee,ie){var me,Le;let{flushSync:tt}=ie===void 0?{}:ie,at=T.actionData!=null&&T.navigation.formMethod!=null&&tl(T.navigation.formMethod)&&T.navigation.state==="loading"&&((me=K.state)==null?void 0:me._isRedirect)!==!0,We;ee.actionData?Object.keys(ee.actionData).length>0?We=ee.actionData:We=null:at?We=T.actionData:We=null;let ze=ee.loaderData?U9(T.loaderData,ee.loaderData,ee.matches||[],ee.errors):T.loaderData,fe=T.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((ct,Ln)=>fe.set(Ln,SC)));let Pe=_===!0||T.navigation.formMethod!=null&&tl(T.navigation.formMethod)&&((Le=K.state)==null?void 0:Le._isRedirect)!==!0;a&&(s=a,a=void 0),I||R===Tr.Pop||(R===Tr.Push?r.history.push(K,K.state):R===Tr.Replace&&r.history.replace(K,K.state));let ot;if(R===Tr.Pop){let ct=M.get(T.location.pathname);ct&&ct.has(K.pathname)?ot={currentLocation:T.location,nextLocation:K}:M.has(K.pathname)&&(ot={currentLocation:K,nextLocation:T.location})}else if(D){let ct=M.get(T.location.pathname);ct?ct.add(K.pathname):(ct=new Set([K.pathname]),M.set(T.location.pathname,ct)),ot={currentLocation:T.location,nextLocation:K}}qe(ar({},ee,{actionData:We,loaderData:ze,historyAction:R,location:K,initialized:!0,navigation:I0,revalidation:"idle",restoreScrollPosition:Qu(K,ee.matches||T.matches),preventScrollReset:Pe,blockers:fe}),{viewTransitionOpts:ot,flushSync:tt===!0}),R=Tr.Pop,_=!1,D=!1,I=!1,L=!1,B=[]}async function Tt(K,ee){if(typeof K=="number"){r.history.go(K);return}let ie=tV(T.location,T.matches,l,d.v7_prependBasename,K,d.v7_relativeSplatPath,ee==null?void 0:ee.fromRouteId,ee==null?void 0:ee.relative),{path:me,submission:Le,error:tt}=G9(d.v7_normalizeFormMethod,!1,ie,ee),at=T.location,We=FS(T.location,me,ee&&ee.state);We=ar({},We,r.history.encodeLocation(We));let ze=ee&&ee.replace!=null?ee.replace:void 0,fe=Tr.Push;ze===!0?fe=Tr.Replace:ze===!1||Le!=null&&tl(Le.formMethod)&&Le.formAction===T.location.pathname+T.location.search&&(fe=Tr.Replace);let Pe=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,ot=(ee&&ee.flushSync)===!0,ct=gt({currentLocation:at,nextLocation:We,historyAction:fe});if(ct){Lt(ct,{state:"blocked",location:We,proceed(){Lt(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:We}),Tt(K,ee)},reset(){let Ln=new Map(T.blockers);Ln.set(ct,SC),qe({blockers:Ln})}});return}return await pt(fe,We,{submission:Le,pendingError:tt,preventScrollReset:Pe,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:ot})}function Dt(){if(Je(),qe({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){pt(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}pt(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:D===!0})}}async function pt(K,ee,ie){b&&b.abort(),b=null,R=K,I=(ie&&ie.startUninterruptedRevalidation)===!0,Qr(T.location,T.matches),_=(ie&&ie.preventScrollReset)===!0,D=(ie&&ie.enableViewTransition)===!0;let me=a||s,Le=ie&&ie.overrideNavigation,tt=Vf(me,ee,l),at=(ie&&ie.flushSync)===!0,We=Ui(tt,me,ee.pathname);if(We.active&&We.matches&&(tt=We.matches),!tt){let{error:wn,notFoundMatches:tn,route:Nn}=sn(ee.pathname);$e(ee,{matches:tn,loaderData:{},errors:{[Nn.id]:wn}},{flushSync:at});return}if(T.initialized&&!L&&P$e(T.location,ee)&&!(ie&&ie.submission&&tl(ie.submission.formMethod))){$e(ee,{matches:tt},{flushSync:at});return}b=new AbortController;let ze=jg(r.history,ee,b.signal,ie&&ie.submission),fe;if(ie&&ie.pendingError)fe=[kf(tt).route.id,{type:Vn.error,error:ie.pendingError}];else if(ie&&ie.submission&&tl(ie.submission.formMethod)){let wn=await bn(ze,ee,ie.submission,tt,We.active,{replace:ie.replace,flushSync:at});if(wn.shortCircuited)return;if(wn.pendingActionResult){let[tn,Nn]=wn.pendingActionResult;if(Ms(Nn)&&rF(Nn.error)&&Nn.error.status===404){b=null,$e(ee,{matches:wn.matches,loaderData:{},errors:{[tn]:Nn.error}});return}}tt=wn.matches||tt,fe=wn.pendingActionResult,Le=F0(ee,ie.submission),at=!1,We.active=!1,ze=jg(r.history,ze.url,ze.signal)}let{shortCircuited:Pe,matches:ot,loaderData:ct,errors:Ln}=await Ze(ze,ee,tt,We.active,Le,ie&&ie.submission,ie&&ie.fetcherSubmission,ie&&ie.replace,ie&&ie.initialHydration===!0,at,fe);Pe||(b=null,$e(ee,ar({matches:ot||tt},z9(fe),{loaderData:ct,errors:Ln})))}async function bn(K,ee,ie,me,Le,tt){tt===void 0&&(tt={}),Je();let at=F$e(ee,ie);if(qe({navigation:at},{flushSync:tt.flushSync===!0}),Le){let fe=await Mn(me,ee.pathname,K.signal);if(fe.type==="aborted")return{shortCircuited:!0};if(fe.type==="error"){let Pe=kf(fe.partialMatches).route.id;return{matches:fe.partialMatches,pendingActionResult:[Pe,{type:Vn.error,error:fe.error}]}}else if(fe.matches)me=fe.matches;else{let{notFoundMatches:Pe,error:ot,route:ct}=sn(ee.pathname);return{matches:Pe,pendingActionResult:[ct.id,{type:Vn.error,error:ot}]}}}let We,ze=vw(me,ee);if(!ze.route.action&&!ze.route.lazy)We={type:Vn.error,error:zo(405,{method:K.method,pathname:ee.pathname,routeId:ze.route.id})};else if(We=(await Se("action",T,K,[ze],me,null))[ze.route.id],K.signal.aborted)return{shortCircuited:!0};if(Yf(We)){let fe;return tt&&tt.replace!=null?fe=tt.replace:fe=B9(We.response.headers.get("Location"),new URL(K.url),l)===T.location.pathname+T.location.search,await Vt(K,We,!0,{submission:ie,replace:fe}),{shortCircuited:!0}}if(th(We))throw zo(400,{type:"defer-action"});if(Ms(We)){let fe=kf(me,ze.route.id);return(tt&&tt.replace)!==!0&&(R=Tr.Push),{matches:me,pendingActionResult:[fe.route.id,We]}}return{matches:me,pendingActionResult:[ze.route.id,We]}}async function Ze(K,ee,ie,me,Le,tt,at,We,ze,fe,Pe){let ot=Le||F0(ee,tt),ct=tt||at||q9(ot),Ln=!I&&(!d.v7_partialHydration||!ze);if(me){if(Ln){let jn=xe(Pe);qe(ar({navigation:ot},jn!==void 0?{actionData:jn}:{}),{flushSync:fe})}let jt=await Mn(ie,ee.pathname,K.signal);if(jt.type==="aborted")return{shortCircuited:!0};if(jt.type==="error"){let jn=kf(jt.partialMatches).route.id;return{matches:jt.partialMatches,loaderData:{},errors:{[jn]:jt.error}}}else if(jt.matches)ie=jt.matches;else{let{error:jn,notFoundMatches:Wa,route:kl}=sn(ee.pathname);return{matches:Wa,loaderData:{},errors:{[kl.id]:jn}}}}let wn=a||s,[tn,Nn]=k9(r.history,T,ie,ct,ee,d.v7_partialHydration&&ze===!0,d.v7_skipActionErrorRevalidation,L,B,j,re,J,Q,wn,l,Pe);if(Xt(jt=>!(ie&&ie.some(jn=>jn.route.id===jt))||tn&&tn.some(jn=>jn.route.id===jt)),H=++W,tn.length===0&&Nn.length===0){let jt=or();return $e(ee,ar({matches:ie,loaderData:{},errors:Pe&&Ms(Pe[1])?{[Pe[0]]:Pe[1].error}:null},z9(Pe),jt?{fetchers:new Map(T.fetchers)}:{}),{flushSync:fe}),{shortCircuited:!0}}if(Ln){let jt={};if(!me){jt.navigation=ot;let jn=xe(Pe);jn!==void 0&&(jt.actionData=jn)}Nn.length>0&&(jt.fetchers=pn(Nn)),qe(jt,{flushSync:fe})}Nn.forEach(jt=>{Qt(jt.key),jt.controller&&z.set(jt.key,jt.controller)});let ua=()=>Nn.forEach(jt=>Qt(jt.key));b&&b.signal.addEventListener("abort",ua);let{loaderResults:Nl,fetcherResults:vo}=await Fe(T,ie,tn,Nn,K);if(K.signal.aborted)return{shortCircuited:!0};b&&b.signal.removeEventListener("abort",ua),Nn.forEach(jt=>z.delete(jt.key));let Go=Tb(Nl);if(Go)return await Vt(K,Go.result,!0,{replace:We}),{shortCircuited:!0};if(Go=Tb(vo),Go)return Q.add(Go.key),await Vt(K,Go.result,!0,{replace:We}),{shortCircuited:!0};let{loaderData:Gl,errors:Vl}=W9(T,ie,Nl,Pe,Nn,vo,ue);ue.forEach((jt,jn)=>{jt.subscribe(Wa=>{(Wa||jt.done)&&ue.delete(jn)})}),d.v7_partialHydration&&ze&&T.errors&&(Vl=ar({},T.errors,Vl));let vs=or(),ca=Xn(H),Vo=vs||ca||Nn.length>0;return ar({matches:ie,loaderData:Gl,errors:Vl},Vo?{fetchers:new Map(T.fetchers)}:{})}function xe(K){if(K&&!Ms(K[1]))return{[K[0]]:K[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function pn(K){return K.forEach(ee=>{let ie=T.fetchers.get(ee.key),me=EC(void 0,ie?ie.data:void 0);T.fetchers.set(ee.key,me)}),new Map(T.fetchers)}function Ot(K,ee,ie,me){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Qt(K);let Le=(me&&me.flushSync)===!0,tt=a||s,at=tV(T.location,T.matches,l,d.v7_prependBasename,ie,d.v7_relativeSplatPath,ee,me==null?void 0:me.relative),We=Vf(tt,at,l),ze=Ui(We,tt,at);if(ze.active&&ze.matches&&(We=ze.matches),!We){vt(K,ee,zo(404,{pathname:at}),{flushSync:Le});return}let{path:fe,submission:Pe,error:ot}=G9(d.v7_normalizeFormMethod,!0,at,me);if(ot){vt(K,ee,ot,{flushSync:Le});return}let ct=vw(We,fe),Ln=(me&&me.preventScrollReset)===!0;if(Pe&&tl(Pe.formMethod)){qr(K,ee,fe,ct,We,ze.active,Le,Ln,Pe);return}J.set(K,{routeId:ee,path:fe}),Bn(K,ee,fe,ct,We,ze.active,Le,Ln,Pe)}async function qr(K,ee,ie,me,Le,tt,at,We,ze){Je(),J.delete(K);function fe(kn){if(!kn.route.action&&!kn.route.lazy){let Hl=zo(405,{method:ze.formMethod,pathname:ie,routeId:ee});return vt(K,ee,Hl,{flushSync:at}),!0}return!1}if(!tt&&fe(me))return;let Pe=T.fetchers.get(K);Ue(K,M$e(ze,Pe),{flushSync:at});let ot=new AbortController,ct=jg(r.history,ie,ot.signal,ze);if(tt){let kn=await Mn(Le,ie,ct.signal);if(kn.type==="aborted")return;if(kn.type==="error"){vt(K,ee,kn.error,{flushSync:at});return}else if(kn.matches){if(Le=kn.matches,me=vw(Le,ie),fe(me))return}else{vt(K,ee,zo(404,{pathname:ie}),{flushSync:at});return}}z.set(K,ot);let Ln=W,tn=(await Se("action",T,ct,[me],Le,K))[me.route.id];if(ct.signal.aborted){z.get(K)===ot&&z.delete(K);return}if(d.v7_fetcherPersist&&re.has(K)){if(Yf(tn)||Ms(tn)){Ue(K,Id(void 0));return}}else{if(Yf(tn))if(z.delete(K),H>Ln){Ue(K,Id(void 0));return}else return Q.add(K),Ue(K,EC(ze)),Vt(ct,tn,!1,{fetcherSubmission:ze,preventScrollReset:We});if(Ms(tn)){vt(K,ee,tn.error);return}}if(th(tn))throw zo(400,{type:"defer-action"});let Nn=T.navigation.location||T.location,ua=jg(r.history,Nn,ot.signal),Nl=a||s,vo=T.navigation.state!=="idle"?Vf(Nl,T.navigation.location,l):T.matches;Gt(vo,"Didn't find any matches after fetcher action");let Go=++W;Y.set(K,Go);let Gl=EC(ze,tn.data);T.fetchers.set(K,Gl);let[Vl,vs]=k9(r.history,T,vo,ze,Nn,!1,d.v7_skipActionErrorRevalidation,L,B,j,re,J,Q,Nl,l,[me.route.id,tn]);vs.filter(kn=>kn.key!==K).forEach(kn=>{let Hl=kn.key,Fg=T.fetchers.get(Hl),OR=EC(void 0,Fg?Fg.data:void 0);T.fetchers.set(Hl,OR),Qt(Hl),kn.controller&&z.set(Hl,kn.controller)}),qe({fetchers:new Map(T.fetchers)});let ca=()=>vs.forEach(kn=>Qt(kn.key));ot.signal.addEventListener("abort",ca);let{loaderResults:Vo,fetcherResults:jt}=await Fe(T,vo,Vl,vs,ua);if(ot.signal.aborted)return;ot.signal.removeEventListener("abort",ca),Y.delete(K),z.delete(K),vs.forEach(kn=>z.delete(kn.key));let jn=Tb(Vo);if(jn)return Vt(ua,jn.result,!1,{preventScrollReset:We});if(jn=Tb(jt),jn)return Q.add(jn.key),Vt(ua,jn.result,!1,{preventScrollReset:We});let{loaderData:Wa,errors:kl}=W9(T,vo,Vo,void 0,vs,jt,ue);if(T.fetchers.has(K)){let kn=Id(tn.data);T.fetchers.set(K,kn)}Xn(Go),T.navigation.state==="loading"&&Go>H?(Gt(R,"Expected pending action"),b&&b.abort(),$e(T.navigation.location,{matches:vo,loaderData:Wa,errors:kl,fetchers:new Map(T.fetchers)})):(qe({errors:kl,loaderData:U9(T.loaderData,Wa,vo,kl),fetchers:new Map(T.fetchers)}),L=!1)}async function Bn(K,ee,ie,me,Le,tt,at,We,ze){let fe=T.fetchers.get(K);Ue(K,EC(ze,fe?fe.data:void 0),{flushSync:at});let Pe=new AbortController,ot=jg(r.history,ie,Pe.signal);if(tt){let tn=await Mn(Le,ie,ot.signal);if(tn.type==="aborted")return;if(tn.type==="error"){vt(K,ee,tn.error,{flushSync:at});return}else if(tn.matches)Le=tn.matches,me=vw(Le,ie);else{vt(K,ee,zo(404,{pathname:ie}),{flushSync:at});return}}z.set(K,Pe);let ct=W,wn=(await Se("loader",T,ot,[me],Le,K))[me.route.id];if(th(wn)&&(wn=await oB(wn,ot.signal,!0)||wn),z.get(K)===Pe&&z.delete(K),!ot.signal.aborted){if(re.has(K)){Ue(K,Id(void 0));return}if(Yf(wn))if(H>ct){Ue(K,Id(void 0));return}else{Q.add(K),await Vt(ot,wn,!1,{preventScrollReset:We});return}if(Ms(wn)){vt(K,ee,wn.error);return}Gt(!th(wn),"Unhandled fetcher deferred data"),Ue(K,Id(wn.data))}}async function Vt(K,ee,ie,me){let{submission:Le,fetcherSubmission:tt,preventScrollReset:at,replace:We}=me===void 0?{}:me;ee.response.headers.has("X-Remix-Revalidate")&&(L=!0);let ze=ee.response.headers.get("Location");Gt(ze,"Expected a Location header on the redirect Response"),ze=B9(ze,new URL(K.url),l);let fe=FS(T.location,ze,{_isRedirect:!0});if(t){let tn=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))tn=!0;else if(iB.test(ze)){const Nn=r.history.createURL(ze);tn=Nn.origin!==e.location.origin||py(Nn.pathname,l)==null}if(tn){We?e.location.replace(ze):e.location.assign(ze);return}}b=null;let Pe=We===!0||ee.response.headers.has("X-Remix-Replace")?Tr.Replace:Tr.Push,{formMethod:ot,formAction:ct,formEncType:Ln}=T.navigation;!Le&&!tt&&ot&&ct&&Ln&&(Le=q9(T.navigation));let wn=Le||tt;if(p$e.has(ee.response.status)&&wn&&tl(wn.formMethod))await pt(Pe,fe,{submission:ar({},wn,{formAction:ze}),preventScrollReset:at||_,enableViewTransition:ie?D:void 0});else{let tn=F0(fe,Le);await pt(Pe,fe,{overrideNavigation:tn,fetcherSubmission:tt,preventScrollReset:at||_,enableViewTransition:ie?D:void 0})}}async function Se(K,ee,ie,me,Le,tt){let at,We={};try{at=await E$e(u,K,ee,ie,me,Le,tt,o,i)}catch(ze){return me.forEach(fe=>{We[fe.route.id]={type:Vn.error,error:ze}}),We}for(let[ze,fe]of Object.entries(at))if(O$e(fe)){let Pe=fe.result;We[ze]={type:Vn.redirect,response:b$e(Pe,ie,ze,Le,l,d.v7_relativeSplatPath)}}else We[ze]=await R$e(fe);return We}async function Fe(K,ee,ie,me,Le){let tt=K.matches,at=Se("loader",K,Le,ie,ee,null),We=Promise.all(me.map(async Pe=>{if(Pe.matches&&Pe.match&&Pe.controller){let ct=(await Se("loader",K,jg(r.history,Pe.path,Pe.controller.signal),[Pe.match],Pe.matches,Pe.key))[Pe.match.route.id];return{[Pe.key]:ct}}else return Promise.resolve({[Pe.key]:{type:Vn.error,error:zo(404,{pathname:Pe.path})}})})),ze=await at,fe=(await We).reduce((Pe,ot)=>Object.assign(Pe,ot),{});return await Promise.all([x$e(ee,ze,Le.signal,tt,K.loaderData),I$e(ee,fe,me)]),{loaderResults:ze,fetcherResults:fe}}function Je(){L=!0,B.push(...Xt()),J.forEach((K,ee)=>{z.has(ee)&&j.add(ee),Qt(ee)})}function Ue(K,ee,ie){ie===void 0&&(ie={}),T.fetchers.set(K,ee),qe({fetchers:new Map(T.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function vt(K,ee,ie,me){me===void 0&&(me={});let Le=kf(T.matches,ee);mt(K),qe({errors:{[Le.route.id]:ie},fetchers:new Map(T.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Cn(K){return oe.set(K,(oe.get(K)||0)+1),re.has(K)&&re.delete(K),T.fetchers.get(K)||g$e}function mt(K){let ee=T.fetchers.get(K);z.has(K)&&!(ee&&ee.state==="loading"&&Y.has(K))&&Qt(K),J.delete(K),Y.delete(K),Q.delete(K),d.v7_fetcherPersist&&re.delete(K),j.delete(K),T.fetchers.delete(K)}function kt(K){let ee=(oe.get(K)||0)-1;ee<=0?(oe.delete(K),re.add(K),d.v7_fetcherPersist||mt(K)):oe.set(K,ee),qe({fetchers:new Map(T.fetchers)})}function Qt(K){let ee=z.get(K);ee&&(ee.abort(),z.delete(K))}function mn(K){for(let ee of K){let ie=Cn(ee),me=Id(ie.data);T.fetchers.set(ee,me)}}function or(){let K=[],ee=!1;for(let ie of Q){let me=T.fetchers.get(ie);Gt(me,"Expected fetcher: "+ie),me.state==="loading"&&(Q.delete(ie),K.push(ie),ee=!0)}return mn(K),ee}function Xn(K){let ee=[];for(let[ie,me]of Y)if(me<K){let Le=T.fetchers.get(ie);Gt(Le,"Expected fetcher: "+ie),Le.state==="loading"&&(Qt(ie),Y.delete(ie),ee.push(ie))}return mn(ee),ee.length>0}function Mt(K,ee){let ie=T.blockers.get(K)||SC;return Ce.get(K)!==ee&&Ce.set(K,ee),ie}function At(K){T.blockers.delete(K),Ce.delete(K)}function Lt(K,ee){let ie=T.blockers.get(K)||SC;Gt(ie.state==="unblocked"&&ee.state==="blocked"||ie.state==="blocked"&&ee.state==="blocked"||ie.state==="blocked"&&ee.state==="proceeding"||ie.state==="blocked"&&ee.state==="unblocked"||ie.state==="proceeding"&&ee.state==="unblocked","Invalid blocker state transition: "+ie.state+" -> "+ee.state);let me=new Map(T.blockers);me.set(K,ee),qe({blockers:me})}function gt(K){let{currentLocation:ee,nextLocation:ie,historyAction:me}=K;if(Ce.size===0)return;Ce.size>1&&Ev(!1,"A router only supports one blocker at a time");let Le=Array.from(Ce.entries()),[tt,at]=Le[Le.length-1],We=T.blockers.get(tt);if(!(We&&We.state==="proceeding")&&at({currentLocation:ee,nextLocation:ie,historyAction:me}))return tt}function sn(K){let ee=zo(404,{pathname:K}),ie=a||s,{matches:me,route:Le}=K9(ie);return Xt(),{notFoundMatches:me,route:Le,error:ee}}function Xt(K){let ee=[];return ue.forEach((ie,me)=>{(!K||K(me))&&(ie.cancel(),ee.push(me),ue.delete(me))}),ee}function Dn(K,ee,ie){if(p=K,C=ee,g=ie||null,!m&&T.navigation===I0){m=!0;let me=Qu(T.location,T.matches);me!=null&&qe({restoreScrollPosition:me})}return()=>{p=null,C=null,g=null}}function Wi(K,ee){return g&&g(K,ee.map(me=>zHe(me,T.loaderData)))||K.key}function Qr(K,ee){if(p&&C){let ie=Wi(K,ee);p[ie]=C()}}function Qu(K,ee){if(p){let ie=Wi(K,ee),me=p[ie];if(typeof me=="number")return me}return null}function Ui(K,ee,ie){if(c)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:sP(ee,ie,l,!0)}}else return{active:!0,matches:sP(ee,ie,l,!0)||[]};return{active:!1,matches:null}}async function Mn(K,ee,ie){if(!c)return{type:"success",matches:K};let me=K;for(;;){let Le=a==null,tt=a||s,at=o;try{await c({path:ee,matches:me,patch:(fe,Pe)=>{ie.aborted||$9(fe,Pe,tt,at,i)}})}catch(fe){return{type:"error",error:fe,partialMatches:me}}finally{Le&&!ie.aborted&&(s=[...s])}if(ie.aborted)return{type:"aborted"};let We=Vf(tt,ee,l);if(We)return{type:"success",matches:We};let ze=sP(tt,ee,l,!0);if(!ze||me.length===ze.length&&me.every((fe,Pe)=>fe.route.id===ze[Pe].route.id))return{type:"success",matches:null};me=ze}}function aa(K){o={},a=rA(K,i,void 0,o)}function la(K,ee){let ie=a==null;$9(K,ee,a||s,o,i),ie&&(s=[...s],qe({}))}return P={get basename(){return l},get future(){return d},get state(){return T},get routes(){return s},get window(){return e},initialize:Be,subscribe:Ie,enableScrollRestoration:Dn,navigate:Tt,fetch:Ot,revalidate:Dt,createHref:K=>r.history.createHref(K),encodeLocation:K=>r.history.encodeLocation(K),getFetcher:Cn,deleteFetcher:kt,dispose:Ge,getBlocker:Mt,deleteBlocker:At,patchRoutes:la,_internalFetchControllers:z,_internalActiveDeferreds:ue,_internalSetRoutes:aa},P}function y$e(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function tV(r,e,t,n,i,o,s,a){let l,u;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){u=d;break}}else l=e,u=e[e.length-1];let c=nF(i||".",tF(l,o),py(r.pathname,t)||r.pathname,a==="path");if(i==null&&(c.search=r.search,c.hash=r.hash),(i==null||i===""||i===".")&&u){let d=sB(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(c.search),f=h.getAll("index");h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let p=h.toString();c.search=p?"?"+p:""}}return n&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Cc([t,c.pathname])),Dp(c)}function G9(r,e,t,n){if(!n||!y$e(n))return{path:t};if(n.formMethod&&!A$e(n.formMethod))return{path:t,error:zo(405,{method:n.formMethod})};let i=()=>({path:t,error:zo(400,{type:"invalid-body"})}),o=n.formMethod||"get",s=r?o.toUpperCase():o.toLowerCase(),a=Xse(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!tl(s))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,p)=>{let[g,C]=p;return""+f+g+"="+C+`
`},""):String(n.body);return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!tl(s))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Gt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=rV(n.formData),u=n.formData;else if(n.body instanceof FormData)l=rV(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=j9(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=j9(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(tl(c.formMethod))return{path:t,submission:c};let d=Kc(t);return e&&d.search&&sB(d.search)&&l.append("index",""),d.search="?"+l,{path:Dp(d),submission:c}}function V9(r,e,t){t===void 0&&(t=!1);let n=r.findIndex(i=>i.route.id===e);return n>=0?r.slice(0,t?n+1:n):r}function k9(r,e,t,n,i,o,s,a,l,u,c,d,h,f,p,g){let C=g?Ms(g[1])?g[1].error:g[1].data:void 0,m=r.createURL(e.location),y=r.createURL(i),w=t;o&&e.errors?w=V9(t,Object.keys(e.errors)[0],!0):g&&Ms(g[1])&&(w=V9(t,g[0]));let E=g?g[1].statusCode:void 0,P=s&&E&&E>=400,T=w.filter((_,b)=>{let{route:D}=_;if(D.lazy)return!0;if(D.loader==null)return!1;if(o)return nV(D,e.loaderData,e.errors);if(C$e(e.loaderData,e.matches[b],_)||l.some(I=>I===_.route.id))return!0;let M=e.matches[b],G=_;return H9(_,ar({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:G.params},n,{actionResult:C,actionStatus:E,defaultShouldRevalidate:P?!1:a||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||qse(M,G)}))}),R=[];return d.forEach((_,b)=>{if(o||!t.some(L=>L.route.id===_.routeId)||c.has(b))return;let D=Vf(f,_.path,p);if(!D){R.push({key:b,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(b),G=vw(D,_.path),I=!1;h.has(b)?I=!1:u.has(b)?(u.delete(b),I=!0):M&&M.state!=="idle"&&M.data===void 0?I=a:I=H9(G,ar({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:t[t.length-1].params},n,{actionResult:C,actionStatus:E,defaultShouldRevalidate:P?!1:a})),I&&R.push({key:b,routeId:_.routeId,path:_.path,matches:D,match:G,controller:new AbortController})}),[T,R]}function nV(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&e[r.id]!==void 0,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function C$e(r,e,t){let n=!e||t.route.id!==e.route.id,i=r[t.route.id]===void 0;return n||i}function qse(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function H9(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function $9(r,e,t,n,i){var o;let s;if(r){let u=n[r];Gt(u,"No route found to patch children into: routeId = "+r),u.children||(u.children=[]),s=u.children}else s=t;let a=e.filter(u=>!s.some(c=>Qse(u,c))),l=rA(a,i,[r||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],n);s.push(...l)}function Qse(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>{var i;return(i=e.children)==null?void 0:i.some(o=>Qse(t,o))}):!1}async function w$e(r,e,t){if(!r.lazy)return;let n=await r.lazy();if(!r.lazy)return;let i=t[r.id];Gt(i,"No route found in manifest");let o={};for(let s in n){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Ev(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!WHe.has(s)&&(o[s]=n[s])}Object.assign(i,o),Object.assign(i,ar({},e(i),{lazy:void 0}))}async function S$e(r){let{matches:e}=r,t=e.filter(i=>i.shouldLoad);return(await Promise.all(t.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[t[s].route.id]:o}),{})}async function E$e(r,e,t,n,i,o,s,a,l,u){let c=o.map(f=>f.route.lazy?w$e(f.route,l,a):void 0),d=o.map((f,p)=>{let g=c[p],C=i.some(y=>y.route.id===f.route.id);return ar({},f,{shouldLoad:C,resolve:async y=>(y&&n.method==="GET"&&(f.route.lazy||f.route.loader)&&(C=!0),C?_$e(e,n,f,g,y,u):Promise.resolve({type:Vn.data,result:void 0}))})}),h=await r({matches:d,request:n,params:o[0].params,fetcherKey:s,context:u});try{await Promise.all(c)}catch{}return h}async function _$e(r,e,t,n,i,o){let s,a,l=u=>{let c,d=new Promise((p,g)=>c=g);a=()=>c(),e.signal.addEventListener("abort",a);let h=p=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+r+'" [routeId: '+t.route.id+"]"))):u({request:e,params:t.params,context:o},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,d])};try{let u=t.route[r];if(n)if(u){let c,[d]=await Promise.all([l(u).catch(h=>{c=h}),n]);if(c!==void 0)throw c;s=d}else if(await n,u=t.route[r],u)s=await l(u);else if(r==="action"){let c=new URL(e.url),d=c.pathname+c.search;throw zo(405,{method:e.method,pathname:d,routeId:t.route.id})}else return{type:Vn.data,result:void 0};else if(u)s=await l(u);else{let c=new URL(e.url),d=c.pathname+c.search;throw zo(404,{pathname:d})}Gt(s.result!==void 0,"You defined "+(r==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+r+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Vn.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function R$e(r){let{result:e,type:t}=r;if(Jse(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Vn.error,error:c}}return t===Vn.error?{type:Vn.error,error:new iA(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Vn.data,data:u,statusCode:e.status,headers:e.headers}}if(t===Vn.error){if(Y9(e)){var n;if(e.data instanceof Error){var i;return{type:Vn.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new iA(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:Vn.error,error:e,statusCode:rF(e)?e.status:void 0}}if(D$e(e)){var o,s;return{type:Vn.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(Y9(e)){var a,l;return{type:Vn.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Vn.data,data:e}}function b$e(r,e,t,n,i,o){let s=r.headers.get("Location");if(Gt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!iB.test(s)){let a=n.slice(0,n.findIndex(l=>l.route.id===t)+1);s=tV(new URL(e.url),a,i,!0,s,o),r.headers.set("Location",s)}return r}function B9(r,e,t){if(iB.test(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),o=py(i.pathname,t)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return r}function jg(r,e,t,n){let i=r.createURL(Xse(e)).toString(),o={signal:t};if(n&&tl(n.formMethod)){let{formMethod:s,formEncType:a}=n;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(n.json)):a==="text/plain"?o.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?o.body=rV(n.formData):o.body=n.formData}return new Request(i,o)}function rV(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function j9(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function T$e(r,e,t,n,i){let o={},s=null,a,l=!1,u={},c=t&&Ms(t[1])?t[1].error:void 0;return r.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(Gt(!Yf(f),"Cannot handle redirect results in processLoaderData"),Ms(f)){let p=f.error;c!==void 0&&(p=c,c=void 0),s=s||{};{let g=kf(r,h);s[g.route.id]==null&&(s[g.route.id]=p)}o[h]=void 0,l||(l=!0,a=rF(f.error)?f.error.status:500),f.headers&&(u[h]=f.headers)}else th(f)?(n.set(h,f.deferredData),o[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[h]=f.headers)):(o[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[h]=f.headers))}),c!==void 0&&t&&(s={[t[0]]:c},o[t[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function W9(r,e,t,n,i,o,s){let{loaderData:a,errors:l}=T$e(e,t,n,s);return i.forEach(u=>{let{key:c,match:d,controller:h}=u,f=o[c];if(Gt(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Ms(f)){let p=kf(r.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=ar({},l,{[p.route.id]:f.error})),r.fetchers.delete(c)}else if(Yf(f))Gt(!1,"Unhandled fetcher revalidation redirect");else if(th(f))Gt(!1,"Unhandled fetcher deferred data");else{let p=Id(f.data);r.fetchers.set(c,p)}}),{loaderData:a,errors:l}}function U9(r,e,t,n){let i=ar({},e);for(let o of t){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):r[s]!==void 0&&o.route.loader&&(i[s]=r[s]),n&&n.hasOwnProperty(s))break}return i}function z9(r){return r?Ms(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function kf(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function K9(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zo(r,e){let{pathname:t,routeId:n,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return r===400?(a="Bad Request",i&&t&&n?l="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):r===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+t+'"'):r===404?(a="Not Found",l='No route matches URL "'+t+'"'):r===405&&(a="Method Not Allowed",i&&t&&n?l="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new iA(r||500,a,new Error(l),!0)}function Tb(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if(Yf(i))return{key:n,result:i}}}function Xse(r){let e=typeof r=="string"?Kc(r):r;return Dp(ar({},e,{hash:""}))}function P$e(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function O$e(r){return Jse(r.result)&&f$e.has(r.result.status)}function th(r){return r.type===Vn.deferred}function Ms(r){return r.type===Vn.error}function Yf(r){return(r&&r.type)===Vn.redirect}function Y9(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function D$e(r){let e=r;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Jse(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function A$e(r){return h$e.has(r.toLowerCase())}function tl(r){return c$e.has(r.toLowerCase())}async function x$e(r,e,t,n,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],u=r.find(h=>(h==null?void 0:h.route.id)===a);if(!u)continue;let c=n.find(h=>h.route.id===u.route.id),d=c!=null&&!qse(c,u)&&(i&&i[u.route.id])!==void 0;th(l)&&d&&await oB(l,t,!1).then(h=>{h&&(e[a]=h)})}}async function I$e(r,e,t){for(let n=0;n<t.length;n++){let{key:i,routeId:o,controller:s}=t[n],a=e[i];r.find(u=>(u==null?void 0:u.route.id)===o)&&th(a)&&(Gt(s,"Expected an AbortController for revalidating fetcher deferred result"),await oB(a,s.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function oB(r,e,t){if(t===void 0&&(t=!1),!await r.deferredData.resolveData(e)){if(t)try{return{type:Vn.data,data:r.deferredData.unwrappedData}}catch(i){return{type:Vn.error,error:i}}return{type:Vn.data,data:r.deferredData.data}}}function sB(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function vw(r,e){let t=typeof e=="string"?Kc(e).search:e.search;if(r[r.length-1].route.index&&sB(t||""))return r[r.length-1];let n=zse(r);return n[n.length-1]}function q9(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:o,json:s}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:t,formEncType:n,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:s,text:void 0}}}function F0(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function F$e(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function EC(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M$e(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Id(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function L$e(r,e){try{let t=r.sessionStorage.getItem(Yse);if(t){let n=JSON.parse(t);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function N$e(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(Yse,JSON.stringify(t))}catch(n){Ev(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function MS(){return MS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},MS.apply(this,arguments)}const iF=S.createContext(null),Zse=S.createContext(null),Kh=S.createContext(null),oF=S.createContext(null),Yc=S.createContext({outlet:null,matches:[],isDataRoute:!1}),eae=S.createContext(null);function G$e(r,e){let{relative:t}=e===void 0?{}:e;gy()||Gt(!1);let{basename:n,navigator:i}=S.useContext(Kh),{hash:o,pathname:s,search:a}=nae(r,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:Cc([n,s])),i.createHref({pathname:l,search:a,hash:o})}function gy(){return S.useContext(oF)!=null}function my(){return gy()||Gt(!1),S.useContext(oF).location}function tae(r){S.useContext(Kh).static||S.useLayoutEffect(r)}function aB(){let{isDataRoute:r}=S.useContext(Yc);return r?q$e():V$e()}function V$e(){gy()||Gt(!1);let r=S.useContext(iF),{basename:e,future:t,navigator:n}=S.useContext(Kh),{matches:i}=S.useContext(Yc),{pathname:o}=my(),s=JSON.stringify(tF(i,t.v7_relativeSplatPath)),a=S.useRef(!1);return tae(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=nF(u,JSON.parse(s),o,c.relative==="path");r==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cc([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,o,r])}function myt(){let{matches:r}=S.useContext(Yc),e=r[r.length-1];return e?e.params:{}}function nae(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=S.useContext(Kh),{matches:i}=S.useContext(Yc),{pathname:o}=my(),s=JSON.stringify(tF(i,n.v7_relativeSplatPath));return S.useMemo(()=>nF(r,JSON.parse(s),o,t==="path"),[r,s,o,t])}function k$e(r,e){return rae(r,e)}function rae(r,e,t,n){gy()||Gt(!1);let{navigator:i}=S.useContext(Kh),{matches:o}=S.useContext(Yc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=my(),c;if(e){var d;let C=typeof e=="string"?Kc(e):e;l==="/"||(d=C.pathname)!=null&&d.startsWith(l)||Gt(!1),c=C}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let C=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let p=Vf(r,{pathname:f}),g=W$e(p&&p.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Cc([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Cc([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,n);return e&&g?S.createElement(oF.Provider,{value:{location:MS({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Tr.Pop}},g):g}function H$e(){let r=Y$e(),e=rF(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:i},t):null,null)}const $$e=S.createElement(H$e,null);class B$e extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Yc.Provider,{value:this.props.routeContext},S.createElement(eae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j$e(r){let{routeContext:e,match:t,children:n}=r,i=S.useContext(iF);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Yc.Provider,{value:e},n)}function W$e(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var o;if(!t)return null;if(t.errors)r=t.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let s=r,a=(i=t)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Gt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=t,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let f,p=!1,g=null,C=null;t&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||$$e,l&&(u<0&&h===0?(p=!0,C=null):u===h&&(p=!0,C=d.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,h+1)),y=()=>{let w;return f?w=g:p?w=C:d.route.Component?w=S.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=c,S.createElement(j$e,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:t!=null},children:w})};return t&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(B$e,{location:t.location,revalidation:t.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var iae=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(iae||{}),oA=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(oA||{});function U$e(r){let e=S.useContext(iF);return e||Gt(!1),e}function z$e(r){let e=S.useContext(Zse);return e||Gt(!1),e}function K$e(r){let e=S.useContext(Yc);return e||Gt(!1),e}function oae(r){let e=K$e(),t=e.matches[e.matches.length-1];return t.route.id||Gt(!1),t.route.id}function Y$e(){var r;let e=S.useContext(eae),t=z$e(oA.UseRouteError),n=oae(oA.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function q$e(){let{router:r}=U$e(iae.UseNavigateStable),e=oae(oA.UseNavigateStable),t=S.useRef(!1);return tae(()=>{t.current=!0}),S.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,MS({fromRouteId:e},o)))},[r,e])}const Q9={};function Q$e(r,e){Q9[e]||(Q9[e]=!0,console.warn(e))}const Wg=(r,e,t)=>Q$e(r," React Router Future Flag Warning: "+e+". "+("You can use the `"+r+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function X$e(r,e){(r==null?void 0:r.v7_startTransition)===void 0&&Wg("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(r==null?void 0:r.v7_relativeSplatPath)===void 0&&(!e||!e.v7_relativeSplatPath)&&Wg("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist===void 0&&Wg("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod===void 0&&Wg("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration===void 0&&Wg("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation===void 0&&Wg("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function vyt(r){let{to:e,replace:t,state:n,relative:i}=r;gy()||Gt(!1);let{future:o,static:s}=S.useContext(Kh),{matches:a}=S.useContext(Yc),{pathname:l}=my(),u=aB(),c=nF(e,tF(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(d),{replace:t,state:n,relative:i}),[u,d,i,t,n]),null}function J$e(r){Gt(!1)}function Z$e(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Tr.Pop,navigator:o,static:s=!1,future:a}=r;gy()&&Gt(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:o,static:s,future:MS({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof n=="string"&&(n=Kc(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=n,g=S.useMemo(()=>{let C=py(c,l);return C==null?null:{location:{pathname:C,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:S.createElement(Kh.Provider,{value:u},S.createElement(oF.Provider,{children:t,value:g}))}function yyt(r){let{children:e,location:t}=r;return k$e(iV(e),t)}new Promise(()=>{});function iV(r,e){e===void 0&&(e=[]);let t=[];return S.Children.forEach(r,(n,i)=>{if(!S.isValidElement(n))return;let o=[...e,i];if(n.type===S.Fragment){t.push.apply(t,iV(n.props.children,o));return}n.type!==J$e&&Gt(!1),!n.props.index||!n.props.children||Gt(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=iV(n.props.children,o)),t.push(s)}),t}function eBe(r){let e={hasErrorBoundary:r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&Object.assign(e,{element:S.createElement(r.Component),Component:void 0}),r.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:S.createElement(r.HydrateFallback),HydrateFallback:void 0}),r.ErrorBoundary&&Object.assign(e,{errorElement:S.createElement(r.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function LS(){return LS=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},LS.apply(this,arguments)}function tBe(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function nBe(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function rBe(r,e){return r.button===0&&(!e||e==="_self")&&!nBe(r)}function oV(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let n=r[t];return e.concat(Array.isArray(n)?n.map(i=>[t,i]):[[t,n]])},[]))}function iBe(r,e){let t=oV(r);return e&&e.forEach((n,i)=>{t.has(i)||e.getAll(i).forEach(o=>{t.append(i,o)})}),t}const oBe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sBe="6";try{window.__reactRouterVersion=sBe}catch{}function Cyt(r,e){return v$e({basename:e==null?void 0:e.basename,future:LS({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:$He({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||aBe(),routes:r,mapRouteProperties:eBe,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function aBe(){var r;let e=(r=window)==null?void 0:r.__staticRouterHydrationData;return e&&e.errors&&(e=LS({},e,{errors:lBe(e.errors)})),e}function lBe(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new iA(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",t[n]=s}catch{}}if(t[n]==null){let o=new Error(i.message);o.stack="",t[n]=o}}else t[n]=i;return t}const uBe=S.createContext({isTransitioning:!1}),cBe=S.createContext(new Map),dBe="startTransition",X9=hS[dBe],hBe="flushSync",J9=WEe[hBe];function fBe(r){X9?X9(r):r()}function _C(r){J9?J9(r):r()}let pBe=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function Syt(r){let{fallbackElement:e,router:t,future:n}=r,[i,o]=S.useState(t.state),[s,a]=S.useState(),[l,u]=S.useState({isTransitioning:!1}),[c,d]=S.useState(),[h,f]=S.useState(),[p,g]=S.useState(),C=S.useRef(new Map),{v7_startTransition:m}=n||{},y=S.useCallback(_=>{m?fBe(_):_()},[m]),w=S.useCallback((_,b)=>{let{deletedFetchers:D,flushSync:M,viewTransitionOpts:G}=b;_.fetchers.forEach((L,B)=>{L.data!==void 0&&C.current.set(B,L.data)}),D.forEach(L=>C.current.delete(L));let I=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!G||I){M?_C(()=>o(_)):y(()=>o(_));return}if(M){_C(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let L=t.window.document.startViewTransition(()=>{_C(()=>o(_))});L.finished.finally(()=>{_C(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),_C(()=>f(L));return}h?(c&&c.resolve(),h.skipTransition(),g({state:_,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(a(_),u({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[t.window,h,c,C,y]);S.useLayoutEffect(()=>t.subscribe(w),[t,w]),S.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new pBe)},[l]),S.useEffect(()=>{if(c&&s&&t.window){let _=s,b=c.promise,D=t.window.document.startViewTransition(async()=>{y(()=>o(_)),await b});D.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(D)}},[y,s,c,t.window]),S.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,h,i.location,s]),S.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),S.useEffect(()=>{},[]);let E=S.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:_=>t.navigate(_),push:(_,b,D)=>t.navigate(_,{state:b,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(_,b,D)=>t.navigate(_,{replace:!0,state:b,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),P=t.basename||"/",T=S.useMemo(()=>({router:t,navigator:E,static:!1,basename:P}),[t,E,P]),R=S.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return S.useEffect(()=>X$e(n,t.future),[n,t.future]),S.createElement(S.Fragment,null,S.createElement(iF.Provider,{value:T},S.createElement(Zse.Provider,{value:i},S.createElement(cBe.Provider,{value:C.current},S.createElement(uBe.Provider,{value:l},S.createElement(Z$e,{basename:P,location:i.location,navigationType:i.historyAction,navigator:E,future:R},i.initialized||t.future.v7_partialHydration?S.createElement(gBe,{routes:t.routes,future:t.future,state:i}):e))))),null)}const gBe=S.memo(mBe);function mBe(r){let{routes:e,future:t,state:n}=r;return rae(e,void 0,n,t)}const vBe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yBe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eyt=S.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=tBe(e,oBe),{basename:f}=S.useContext(Kh),p,g=!1;if(typeof u=="string"&&yBe.test(u)&&(p=u,vBe))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),P=py(E.pathname,f);E.origin===w.origin&&P!=null?u=P+E.search+E.hash:g=!0}catch{}let C=G$e(u,{relative:i}),m=CBe(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function y(w){n&&n(w),w.defaultPrevented||m(w)}return S.createElement("a",LS({},h,{href:p||C,onClick:g||o?n:y,ref:t,target:l}))});var Z9;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Z9||(Z9={}));var e8;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(e8||(e8={}));function CBe(r,e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=aB(),u=my(),c=nae(r,{relative:s});return S.useCallback(d=>{if(rBe(d,t)){d.preventDefault();let h=n!==void 0?n:Dp(u)===Dp(c);l(r,{replace:h,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,n,i,t,r,o,s,a])}function _yt(r){let e=S.useRef(oV(r)),t=S.useRef(!1),n=my(),i=S.useMemo(()=>iBe(n.search,t.current?null:e.current),[n.search]),o=aB(),s=S.useCallback((a,l)=>{const u=oV(typeof a=="function"?a(i):a);t.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var t8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sae=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},wBe=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],s=r[t++],a=r[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=r[t++],s=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],s=i+1<r.length,a=s?r[i+1]:0,l=i+2<r.length,u=l?r[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(h=64)),n.push(t[c],t[d],t[h],t[f])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sae(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wBe(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],a=i<r.length?t[r.charAt(i)]:0;++i;const u=i<r.length?t[r.charAt(i)]:64;++i;const d=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new SBe;const h=o<<2|a>>4;if(n.push(h),u!==64){const f=a<<4&240|u>>2;if(n.push(f),d!==64){const p=u<<6&192|d;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SBe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EBe=function(r){const e=sae(r);return aae.encodeByteArray(e,!0)},sA=function(r){return EBe(r).replace(/\./g,"")},lae=function(r){try{return aae.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RBe=()=>_Be().__FIREBASE_DEFAULTS__,bBe=()=>{if(typeof process>"u"||typeof t8>"u")return;const r=t8.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TBe=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lae(r[1]);return e&&JSON.parse(e)},sF=()=>{try{return RBe()||bBe()||TBe()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uae=r=>{var e,t;return(t=(e=sF())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},PBe=r=>{const e=uae(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},cae=()=>{var r;return(r=sF())===null||r===void 0?void 0:r.config},dae=r=>{var e;return(e=sF())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OBe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DBe(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sA(JSON.stringify(t)),sA(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ABe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(po())}function xBe(){var r;const e=(r=sF())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IBe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FBe(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function MBe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LBe(){const r=po();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NBe(){return!xBe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GBe(){try{return typeof indexedDB=="object"}catch{return!1}}function VBe(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kBe="FirebaseError";class qc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=kBe,Object.setPrototypeOf(this,qc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,n_.prototype.create)}}class n_{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HBe(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qc(i,a,n)}}function HBe(r,e){return r.replace($Be,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const $Be=/\{\$([^}]+)}/g;function BBe(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function aA(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],s=e[i];if(n8(o)&&n8(s)){if(!aA(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function n8(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function yw(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Cw(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function jBe(r,e){const t=new WBe(r,e);return t.subscribe.bind(t)}class WBe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");UBe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=M0),i.error===void 0&&(i.error=M0),i.complete===void 0&&(i.complete=M0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UBe(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function M0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r){return r&&r._delegate?r._delegate:r}let Ap=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zBe=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new OBe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YBe(e))try{this.getOrInitializeService({instanceIdentifier:Of})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Of){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Of){return this.instances.has(e)}getOptions(e=Of){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:KBe(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Of){return this.component?this.component.multipleInstances?e:Of:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function KBe(r){return r===Of?void 0:r}function YBe(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qBe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zBe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(un||(un={}));const QBe={debug:un.DEBUG,verbose:un.VERBOSE,info:un.INFO,warn:un.WARN,error:un.ERROR,silent:un.SILENT},XBe=un.INFO,JBe={[un.DEBUG]:"log",[un.VERBOSE]:"log",[un.INFO]:"info",[un.WARN]:"warn",[un.ERROR]:"error"},ZBe=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=JBe[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let lB=class{constructor(e){this.name=e,this._logLevel=XBe,this._logHandler=ZBe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QBe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,un.DEBUG,...e),this._logHandler(this,un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,un.VERBOSE,...e),this._logHandler(this,un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,un.INFO,...e),this._logHandler(this,un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,un.WARN,...e),this._logHandler(this,un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,un.ERROR,...e),this._logHandler(this,un.ERROR,...e)}};const eje=(r,e)=>e.some(t=>r instanceof t);let r8,i8;function tje(){return r8||(r8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nje(){return i8||(i8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hae=new WeakMap,sV=new WeakMap,fae=new WeakMap,L0=new WeakMap,uB=new WeakMap;function rje(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",s)},o=()=>{t(vh(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&hae.set(t,r)}).catch(()=>{}),uB.set(e,r),e}function ije(r){if(sV.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",s),r.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",s),r.addEventListener("abort",s)});sV.set(r,e)}let aV={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return sV.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fae.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vh(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oje(r){aV=r(aV)}function sje(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(N0(this),e,...t);return fae.set(n,e.sort?e.sort():[e]),vh(n)}:nje().includes(r)?function(...e){return r.apply(N0(this),e),vh(hae.get(this))}:function(...e){return vh(r.apply(N0(this),e))}}function aje(r){return typeof r=="function"?sje(r):(r instanceof IDBTransaction&&ije(r),eje(r,tje())?new Proxy(r,aV):r)}function vh(r){if(r instanceof IDBRequest)return rje(r);if(L0.has(r))return L0.get(r);const e=aje(r);return e!==r&&(L0.set(r,e),uB.set(e,r)),e}const N0=r=>uB.get(r);function lje(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(r,e),a=vh(s);return n&&s.addEventListener("upgradeneeded",l=>{n(vh(s.result),l.oldVersion,l.newVersion,vh(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uje=["get","getKey","getAll","getAllKeys","count"],cje=["put","add","delete","clear"],G0=new Map;function o8(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(G0.get(e))return G0.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=cje.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||uje.includes(t)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&l.done]))[0]};return G0.set(e,o),o}oje(r=>({...r,get:(e,t,n)=>o8(e,t)||r.get(e,t,n),has:(e,t)=>!!o8(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dje{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hje(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function hje(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lV="@firebase/app",s8="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new lB("@firebase/app"),fje="@firebase/app-compat",pje="@firebase/analytics-compat",gje="@firebase/analytics",mje="@firebase/app-check-compat",vje="@firebase/app-check",yje="@firebase/auth",Cje="@firebase/auth-compat",wje="@firebase/database",Sje="@firebase/data-connect",Eje="@firebase/database-compat",_je="@firebase/functions",Rje="@firebase/functions-compat",bje="@firebase/installations",Tje="@firebase/installations-compat",Pje="@firebase/messaging",Oje="@firebase/messaging-compat",Dje="@firebase/performance",Aje="@firebase/performance-compat",xje="@firebase/remote-config",Ije="@firebase/remote-config-compat",Fje="@firebase/storage",Mje="@firebase/storage-compat",Lje="@firebase/firestore",Nje="@firebase/vertexai-preview",Gje="@firebase/firestore-compat",Vje="firebase",kje="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="[DEFAULT]",Hje={[lV]:"fire-core",[fje]:"fire-core-compat",[gje]:"fire-analytics",[pje]:"fire-analytics-compat",[vje]:"fire-app-check",[mje]:"fire-app-check-compat",[yje]:"fire-auth",[Cje]:"fire-auth-compat",[wje]:"fire-rtdb",[Sje]:"fire-data-connect",[Eje]:"fire-rtdb-compat",[_je]:"fire-fn",[Rje]:"fire-fn-compat",[bje]:"fire-iid",[Tje]:"fire-iid-compat",[Pje]:"fire-fcm",[Oje]:"fire-fcm-compat",[Dje]:"fire-perf",[Aje]:"fire-perf-compat",[xje]:"fire-rc",[Ije]:"fire-rc-compat",[Fje]:"fire-gcs",[Mje]:"fire-gcs-compat",[Lje]:"fire-fst",[Gje]:"fire-fst-compat",[Nje]:"fire-vertex","fire-js":"fire-js",[Vje]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Map,$je=new Map,cV=new Map;function a8(r,e){try{r.container.addComponent(e)}catch(t){xc.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function _v(r){const e=r.name;if(cV.has(e))return xc.debug(`There were multiple attempts to register component ${e}.`),!1;cV.set(e,r);for(const t of lA.values())a8(t,r);for(const t of $je.values())a8(t,r);return!0}function cB(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function gu(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bje={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yh=new n_("app","Firebase",Bje);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jje{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ap("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=kje;function Wje(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:uV,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw yh.create("bad-app-name",{appName:String(i)});if(t||(t=cae()),!t)throw yh.create("no-options");const o=lA.get(i);if(o){if(aA(t,o.options)&&aA(n,o.config))return o;throw yh.create("duplicate-app",{appName:i})}const s=new qBe(i);for(const l of cV.values())s.addComponent(l);const a=new jje(t,n,s);return lA.set(i,a),a}function pae(r=uV){const e=lA.get(r);if(!e&&r===uV&&cae())return Wje();if(!e)throw yh.create("no-app",{appName:r});return e}function Ch(r,e,t){var n;let i=(n=Hje[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xc.warn(a.join(" "));return}_v(new Ap(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uje="firebase-heartbeat-database",zje=1,NS="firebase-heartbeat-store";let V0=null;function gae(){return V0||(V0=lje(Uje,zje,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(NS)}catch(t){console.warn(t)}}}}).catch(r=>{throw yh.create("idb-open",{originalErrorMessage:r.message})})),V0}async function Kje(r){try{const t=(await gae()).transaction(NS),n=await t.objectStore(NS).get(mae(r));return await t.done,n}catch(e){if(e instanceof qc)xc.warn(e.message);else{const t=yh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xc.warn(t.message)}}}async function l8(r,e){try{const n=(await gae()).transaction(NS,"readwrite");await n.objectStore(NS).put(e,mae(r)),await n.done}catch(t){if(t instanceof qc)xc.warn(t.message);else{const n=yh.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xc.warn(n.message)}}}function mae(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yje=1024,qje=30*24*60*60*1e3;class Qje{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jje(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=u8();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=qje}),this._storage.overwrite(this._heartbeatsCache))}catch(n){xc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u8(),{heartbeatsToSend:n,unsentEntries:i}=Xje(this._heartbeatsCache.heartbeats),o=sA(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return xc.warn(t),""}}}function u8(){return new Date().toISOString().substring(0,10)}function Xje(r,e=Yje){const t=[];let n=r.slice();for(const i of r){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),c8(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),c8(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Jje{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GBe()?VBe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Kje(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return l8(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return l8(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function c8(r){return sA(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zje(r){_v(new Ap("platform-logger",e=>new dje(e),"PRIVATE")),_v(new Ap("heartbeat",e=>new Qje(e),"PRIVATE")),Ch(lV,s8,r),Ch(lV,s8,"esm2017"),Ch("fire-js","")}Zje("");var eWe="firebase",tWe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ch(eWe,tWe,"app");var d8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cp,vae;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,_){function b(){}b.prototype=_.prototype,R.D=_.prototype,R.prototype=new b,R.prototype.constructor=R,R.C=function(D,M,G){for(var I=Array(arguments.length-2),L=2;L<arguments.length;L++)I[L-2]=arguments[L];return _.prototype[M].apply(D,I)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,_,b){b||(b=0);var D=Array(16);if(typeof _=="string")for(var M=0;16>M;++M)D[M]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(M=0;16>M;++M)D[M]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=R.g[0],b=R.g[1],M=R.g[2];var G=R.g[3],I=_+(G^b&(M^G))+D[0]+3614090360&4294967295;_=b+(I<<7&4294967295|I>>>25),I=G+(M^_&(b^M))+D[1]+3905402710&4294967295,G=_+(I<<12&4294967295|I>>>20),I=M+(b^G&(_^b))+D[2]+606105819&4294967295,M=G+(I<<17&4294967295|I>>>15),I=b+(_^M&(G^_))+D[3]+3250441966&4294967295,b=M+(I<<22&4294967295|I>>>10),I=_+(G^b&(M^G))+D[4]+4118548399&4294967295,_=b+(I<<7&4294967295|I>>>25),I=G+(M^_&(b^M))+D[5]+1200080426&4294967295,G=_+(I<<12&4294967295|I>>>20),I=M+(b^G&(_^b))+D[6]+2821735955&4294967295,M=G+(I<<17&4294967295|I>>>15),I=b+(_^M&(G^_))+D[7]+4249261313&4294967295,b=M+(I<<22&4294967295|I>>>10),I=_+(G^b&(M^G))+D[8]+1770035416&4294967295,_=b+(I<<7&4294967295|I>>>25),I=G+(M^_&(b^M))+D[9]+2336552879&4294967295,G=_+(I<<12&4294967295|I>>>20),I=M+(b^G&(_^b))+D[10]+4294925233&4294967295,M=G+(I<<17&4294967295|I>>>15),I=b+(_^M&(G^_))+D[11]+2304563134&4294967295,b=M+(I<<22&4294967295|I>>>10),I=_+(G^b&(M^G))+D[12]+1804603682&4294967295,_=b+(I<<7&4294967295|I>>>25),I=G+(M^_&(b^M))+D[13]+4254626195&4294967295,G=_+(I<<12&4294967295|I>>>20),I=M+(b^G&(_^b))+D[14]+2792965006&4294967295,M=G+(I<<17&4294967295|I>>>15),I=b+(_^M&(G^_))+D[15]+1236535329&4294967295,b=M+(I<<22&4294967295|I>>>10),I=_+(M^G&(b^M))+D[1]+4129170786&4294967295,_=b+(I<<5&4294967295|I>>>27),I=G+(b^M&(_^b))+D[6]+3225465664&4294967295,G=_+(I<<9&4294967295|I>>>23),I=M+(_^b&(G^_))+D[11]+643717713&4294967295,M=G+(I<<14&4294967295|I>>>18),I=b+(G^_&(M^G))+D[0]+3921069994&4294967295,b=M+(I<<20&4294967295|I>>>12),I=_+(M^G&(b^M))+D[5]+3593408605&4294967295,_=b+(I<<5&4294967295|I>>>27),I=G+(b^M&(_^b))+D[10]+38016083&4294967295,G=_+(I<<9&4294967295|I>>>23),I=M+(_^b&(G^_))+D[15]+3634488961&4294967295,M=G+(I<<14&4294967295|I>>>18),I=b+(G^_&(M^G))+D[4]+3889429448&4294967295,b=M+(I<<20&4294967295|I>>>12),I=_+(M^G&(b^M))+D[9]+568446438&4294967295,_=b+(I<<5&4294967295|I>>>27),I=G+(b^M&(_^b))+D[14]+3275163606&4294967295,G=_+(I<<9&4294967295|I>>>23),I=M+(_^b&(G^_))+D[3]+4107603335&4294967295,M=G+(I<<14&4294967295|I>>>18),I=b+(G^_&(M^G))+D[8]+1163531501&4294967295,b=M+(I<<20&4294967295|I>>>12),I=_+(M^G&(b^M))+D[13]+2850285829&4294967295,_=b+(I<<5&4294967295|I>>>27),I=G+(b^M&(_^b))+D[2]+4243563512&4294967295,G=_+(I<<9&4294967295|I>>>23),I=M+(_^b&(G^_))+D[7]+1735328473&4294967295,M=G+(I<<14&4294967295|I>>>18),I=b+(G^_&(M^G))+D[12]+2368359562&4294967295,b=M+(I<<20&4294967295|I>>>12),I=_+(b^M^G)+D[5]+4294588738&4294967295,_=b+(I<<4&4294967295|I>>>28),I=G+(_^b^M)+D[8]+2272392833&4294967295,G=_+(I<<11&4294967295|I>>>21),I=M+(G^_^b)+D[11]+1839030562&4294967295,M=G+(I<<16&4294967295|I>>>16),I=b+(M^G^_)+D[14]+4259657740&4294967295,b=M+(I<<23&4294967295|I>>>9),I=_+(b^M^G)+D[1]+2763975236&4294967295,_=b+(I<<4&4294967295|I>>>28),I=G+(_^b^M)+D[4]+1272893353&4294967295,G=_+(I<<11&4294967295|I>>>21),I=M+(G^_^b)+D[7]+4139469664&4294967295,M=G+(I<<16&4294967295|I>>>16),I=b+(M^G^_)+D[10]+3200236656&4294967295,b=M+(I<<23&4294967295|I>>>9),I=_+(b^M^G)+D[13]+681279174&4294967295,_=b+(I<<4&4294967295|I>>>28),I=G+(_^b^M)+D[0]+3936430074&4294967295,G=_+(I<<11&4294967295|I>>>21),I=M+(G^_^b)+D[3]+3572445317&4294967295,M=G+(I<<16&4294967295|I>>>16),I=b+(M^G^_)+D[6]+76029189&4294967295,b=M+(I<<23&4294967295|I>>>9),I=_+(b^M^G)+D[9]+3654602809&4294967295,_=b+(I<<4&4294967295|I>>>28),I=G+(_^b^M)+D[12]+3873151461&4294967295,G=_+(I<<11&4294967295|I>>>21),I=M+(G^_^b)+D[15]+530742520&4294967295,M=G+(I<<16&4294967295|I>>>16),I=b+(M^G^_)+D[2]+3299628645&4294967295,b=M+(I<<23&4294967295|I>>>9),I=_+(M^(b|~G))+D[0]+4096336452&4294967295,_=b+(I<<6&4294967295|I>>>26),I=G+(b^(_|~M))+D[7]+1126891415&4294967295,G=_+(I<<10&4294967295|I>>>22),I=M+(_^(G|~b))+D[14]+2878612391&4294967295,M=G+(I<<15&4294967295|I>>>17),I=b+(G^(M|~_))+D[5]+4237533241&4294967295,b=M+(I<<21&4294967295|I>>>11),I=_+(M^(b|~G))+D[12]+1700485571&4294967295,_=b+(I<<6&4294967295|I>>>26),I=G+(b^(_|~M))+D[3]+2399980690&4294967295,G=_+(I<<10&4294967295|I>>>22),I=M+(_^(G|~b))+D[10]+4293915773&4294967295,M=G+(I<<15&4294967295|I>>>17),I=b+(G^(M|~_))+D[1]+2240044497&4294967295,b=M+(I<<21&4294967295|I>>>11),I=_+(M^(b|~G))+D[8]+1873313359&4294967295,_=b+(I<<6&4294967295|I>>>26),I=G+(b^(_|~M))+D[15]+4264355552&4294967295,G=_+(I<<10&4294967295|I>>>22),I=M+(_^(G|~b))+D[6]+2734768916&4294967295,M=G+(I<<15&4294967295|I>>>17),I=b+(G^(M|~_))+D[13]+1309151649&4294967295,b=M+(I<<21&4294967295|I>>>11),I=_+(M^(b|~G))+D[4]+4149444226&4294967295,_=b+(I<<6&4294967295|I>>>26),I=G+(b^(_|~M))+D[11]+3174756917&4294967295,G=_+(I<<10&4294967295|I>>>22),I=M+(_^(G|~b))+D[2]+718787259&4294967295,M=G+(I<<15&4294967295|I>>>17),I=b+(G^(M|~_))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+_&4294967295,R.g[1]=R.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+G&4294967295}n.prototype.u=function(R,_){_===void 0&&(_=R.length);for(var b=_-this.blockSize,D=this.B,M=this.h,G=0;G<_;){if(M==0)for(;G<=b;)i(this,R,G),G+=this.blockSize;if(typeof R=="string"){for(;G<_;)if(D[M++]=R.charCodeAt(G++),M==this.blockSize){i(this,D),M=0;break}}else for(;G<_;)if(D[M++]=R[G++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=_},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var _=1;_<R.length-8;++_)R[_]=0;var b=8*this.o;for(_=R.length-8;_<R.length;++_)R[_]=b&255,b/=256;for(this.u(R),R=Array(16),_=b=0;4>_;++_)for(var D=0;32>D;D+=8)R[b++]=this.g[_]>>>D&255;return R};function o(R,_){var b=a;return Object.prototype.hasOwnProperty.call(b,R)?b[R]:b[R]=_(R)}function s(R,_){this.h=_;for(var b=[],D=!0,M=R.length-1;0<=M;M--){var G=R[M]|0;D&&G==_||(b[M]=G,D=!1)}this.g=b}var a={};function l(R){return-128<=R&&128>R?o(R,function(_){return new s([_|0],0>_?-1:0)}):new s([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return C(u(-R));for(var _=[],b=1,D=0;R>=b;D++)_[D]=R/b|0,b*=4294967296;return new s(_,0)}function c(R,_){if(R.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(R.charAt(0)=="-")return C(c(R.substring(1),_));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(_,8)),D=d,M=0;M<R.length;M+=8){var G=Math.min(8,R.length-M),I=parseInt(R.substring(M,M+G),_);8>G?(G=u(Math.pow(_,G)),D=D.j(G).add(u(I))):(D=D.j(b),D=D.add(u(I)))}return D}var d=l(0),h=l(1),f=l(16777216);r=s.prototype,r.m=function(){if(g(this))return-C(this).m();for(var R=0,_=1,b=0;b<this.g.length;b++){var D=this.i(b);R+=(0<=D?D:4294967296+D)*_,_*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(p(this))return"0";if(g(this))return"-"+C(this).toString(R);for(var _=u(Math.pow(R,6)),b=this,D="";;){var M=E(b,_).g;b=m(b,M.j(_));var G=((0<b.g.length?b.g[0]:b.h)>>>0).toString(R);if(b=M,p(b))return G+D;for(;6>G.length;)G="0"+G;D=G+D}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function p(R){if(R.h!=0)return!1;for(var _=0;_<R.g.length;_++)if(R.g[_]!=0)return!1;return!0}function g(R){return R.h==-1}r.l=function(R){return R=m(this,R),g(R)?-1:p(R)?0:1};function C(R){for(var _=R.g.length,b=[],D=0;D<_;D++)b[D]=~R.g[D];return new s(b,~R.h).add(h)}r.abs=function(){return g(this)?C(this):this},r.add=function(R){for(var _=Math.max(this.g.length,R.g.length),b=[],D=0,M=0;M<=_;M++){var G=D+(this.i(M)&65535)+(R.i(M)&65535),I=(G>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);D=I>>>16,G&=65535,I&=65535,b[M]=I<<16|G}return new s(b,b[b.length-1]&-2147483648?-1:0)};function m(R,_){return R.add(C(_))}r.j=function(R){if(p(this)||p(R))return d;if(g(this))return g(R)?C(this).j(C(R)):C(C(this).j(R));if(g(R))return C(this.j(C(R)));if(0>this.l(f)&&0>R.l(f))return u(this.m()*R.m());for(var _=this.g.length+R.g.length,b=[],D=0;D<2*_;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<R.g.length;M++){var G=this.i(D)>>>16,I=this.i(D)&65535,L=R.i(M)>>>16,B=R.i(M)&65535;b[2*D+2*M]+=I*B,y(b,2*D+2*M),b[2*D+2*M+1]+=G*B,y(b,2*D+2*M+1),b[2*D+2*M+1]+=I*L,y(b,2*D+2*M+1),b[2*D+2*M+2]+=G*L,y(b,2*D+2*M+2)}for(D=0;D<_;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=_;D<2*_;D++)b[D]=0;return new s(b,0)};function y(R,_){for(;(R[_]&65535)!=R[_];)R[_+1]+=R[_]>>>16,R[_]&=65535,_++}function w(R,_){this.g=R,this.h=_}function E(R,_){if(p(_))throw Error("division by zero");if(p(R))return new w(d,d);if(g(R))return _=E(C(R),_),new w(C(_.g),C(_.h));if(g(_))return _=E(R,C(_)),new w(C(_.g),_.h);if(30<R.g.length){if(g(R)||g(_))throw Error("slowDivide_ only works with positive integers.");for(var b=h,D=_;0>=D.l(R);)b=P(b),D=P(D);var M=T(b,1),G=T(D,1);for(D=T(D,2),b=T(b,2);!p(D);){var I=G.add(D);0>=I.l(R)&&(M=M.add(b),G=I),D=T(D,1),b=T(b,1)}return _=m(R,M.j(_)),new w(M,_)}for(M=d;0<=R.l(_);){for(b=Math.max(1,Math.floor(R.m()/_.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),G=u(b),I=G.j(_);g(I)||0<I.l(R);)b-=D,G=u(b),I=G.j(_);p(G)&&(G=h),M=M.add(G),R=m(R,I)}return new w(M,R)}r.A=function(R){return E(this,R).h},r.and=function(R){for(var _=Math.max(this.g.length,R.g.length),b=[],D=0;D<_;D++)b[D]=this.i(D)&R.i(D);return new s(b,this.h&R.h)},r.or=function(R){for(var _=Math.max(this.g.length,R.g.length),b=[],D=0;D<_;D++)b[D]=this.i(D)|R.i(D);return new s(b,this.h|R.h)},r.xor=function(R){for(var _=Math.max(this.g.length,R.g.length),b=[],D=0;D<_;D++)b[D]=this.i(D)^R.i(D);return new s(b,this.h^R.h)};function P(R){for(var _=R.g.length+1,b=[],D=0;D<_;D++)b[D]=R.i(D)<<1|R.i(D-1)>>>31;return new s(b,R.h)}function T(R,_){var b=_>>5;_%=32;for(var D=R.g.length-b,M=[],G=0;G<D;G++)M[G]=0<_?R.i(G+b)>>>_|R.i(G+b+1)<<32-_:R.i(G+b);return new s(M,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,vae=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,cp=s}).apply(typeof d8<"u"?d8:typeof self<"u"?self:typeof window<"u"?window:{});var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yae,ww,Cae,aP,dV,wae,Sae,Eae;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,O,F){return v==Array.prototype||v==Object.prototype||(v[O]=F.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pb=="object"&&Pb];for(var O=0;O<v.length;++O){var F=v[O];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=t(this);function i(v,O){if(O)e:{var F=n;v=v.split(".");for(var $=0;$<v.length-1;$++){var te=v[$];if(!(te in F))break e;F=F[te]}v=v[v.length-1],$=F[v],O=O($),O!=$&&O!=null&&e(F,v,{configurable:!0,writable:!0,value:O})}}function o(v,O){v instanceof String&&(v+="");var F=0,$=!1,te={next:function(){if(!$&&F<v.length){var le=F++;return{value:O(le,v[le]),done:!1}}return $=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}i("Array.prototype.values",function(v){return v||function(){return o(this,function(O,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(v){var O=typeof v;return O=O!="object"?O:v?Array.isArray(v)?"array":O:"null",O=="array"||O=="object"&&typeof v.length=="number"}function u(v){var O=typeof v;return O=="object"&&v!=null||O=="function"}function c(v,O,F){return v.call.apply(v.bind,arguments)}function d(v,O,F){if(!v)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,$),v.apply(O,te)}}return function(){return v.apply(O,arguments)}}function h(v,O,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function f(v,O){var F=Array.prototype.slice.call(arguments,1);return function(){var $=F.slice();return $.push.apply($,arguments),v.apply(this,$)}}function p(v,O){function F(){}F.prototype=O.prototype,v.aa=O.prototype,v.prototype=new F,v.prototype.constructor=v,v.Qb=function($,te,le){for(var Ae=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)Ae[Hn-2]=arguments[Hn];return O.prototype[te].apply($,Ae)}}function g(v){const O=v.length;if(0<O){const F=Array(O);for(let $=0;$<O;$++)F[$]=v[$];return F}return[]}function C(v,O){for(let F=1;F<arguments.length;F++){const $=arguments[F];if(l($)){const te=v.length||0,le=$.length||0;v.length=te+le;for(let Ae=0;Ae<le;Ae++)v[te+Ae]=$[Ae]}else v.push($)}}class m{constructor(O,F){this.i=O,this.j=F,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function y(v){return/^[\s\xa0]*$/.test(v)}function w(){var v=a.navigator;return v&&(v=v.userAgent)?v:""}function E(v){return E[" "](v),v}E[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function T(v,O,F){for(const $ in v)O.call(F,v[$],$,v)}function R(v,O){for(const F in v)O.call(void 0,v[F],F,v)}function _(v){const O={};for(const F in v)O[F]=v[F];return O}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(v,O){let F,$;for(let te=1;te<arguments.length;te++){$=arguments[te];for(F in $)v[F]=$[F];for(let le=0;le<b.length;le++)F=b[le],Object.prototype.hasOwnProperty.call($,F)&&(v[F]=$[F])}}function M(v){var O=1;v=v.split(":");const F=[];for(;0<O&&v.length;)F.push(v.shift()),O--;return v.length&&F.push(v.join(":")),F}function G(v){a.setTimeout(()=>{throw v},0)}function I(){var v=H;let O=null;return v.g&&(O=v.g,v.g=v.g.next,v.g||(v.h=null),O.next=null),O}class L{constructor(){this.h=this.g=null}add(O,F){const $=B.get();$.set(O,F),this.h?this.h.next=$:this.g=$,this.h=$}}var B=new m(()=>new j,v=>v.reset());class j{constructor(){this.next=this.g=this.h=null}set(O,F){this.h=O,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let z,W=!1,H=new L,Y=()=>{const v=a.Promise.resolve(void 0);z=()=>{v.then(Q)}};var Q=()=>{for(var v;v=I();){try{v.h.call(v.g)}catch(F){G(F)}var O=B;O.j(v),100>O.h&&(O.h++,v.next=O.g,O.g=v)}W=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(v,O){this.type=v,this.g=this.target=O,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,O=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const F=()=>{};a.addEventListener("test",F,O),a.removeEventListener("test",F,O)}catch{}return v}();function ue(v,O){if(oe.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var F=this.type=v.type,$=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=O,O=v.relatedTarget){if(P){e:{try{E(O.nodeName);var te=!0;break e}catch{}te=!1}te||(O=null)}}else F=="mouseover"?O=v.fromElement:F=="mouseout"&&(O=v.toElement);this.relatedTarget=O,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Ce[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ue.aa.h.call(this)}}p(ue,oe);var Ce={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ge(v,O,F,$,te){this.listener=v,this.proxy=null,this.src=O,this.type=F,this.capture=!!$,this.ha=te,this.key=++Be,this.da=this.fa=!1}function Ie(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function qe(v){this.src=v,this.g={},this.h=0}qe.prototype.add=function(v,O,F,$,te){var le=v.toString();v=this.g[le],v||(v=this.g[le]=[],this.h++);var Ae=Tt(v,O,$,te);return-1<Ae?(O=v[Ae],F||(O.fa=!1)):(O=new Ge(O,this.src,le,!!$,te),O.fa=F,v.push(O)),O};function $e(v,O){var F=O.type;if(F in v.g){var $=v.g[F],te=Array.prototype.indexOf.call($,O,void 0),le;(le=0<=te)&&Array.prototype.splice.call($,te,1),le&&(Ie(O),v.g[F].length==0&&(delete v.g[F],v.h--))}}function Tt(v,O,F,$){for(var te=0;te<v.length;++te){var le=v[te];if(!le.da&&le.listener==O&&le.capture==!!F&&le.ha==$)return te}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),pt={};function bn(v,O,F,$,te){if(Array.isArray(O)){for(var le=0;le<O.length;le++)bn(v,O[le],F,$,te);return null}return F=Fe(F),v&&v[Re]?v.K(O,F,u($)?!!$.capture:!1,te):Ze(v,O,F,!1,$,te)}function Ze(v,O,F,$,te,le){if(!O)throw Error("Invalid event type");var Ae=u(te)?!!te.capture:!!te,Hn=Vt(v);if(Hn||(v[Dt]=Hn=new qe(v)),F=Hn.add(O,F,$,Ae,le),F.proxy)return F;if($=xe(),F.proxy=$,$.src=v,$.listener=F,v.addEventListener)re||(te=Ae),te===void 0&&(te=!1),v.addEventListener(O.toString(),$,te);else if(v.attachEvent)v.attachEvent(qr(O.toString()),$);else if(v.addListener&&v.removeListener)v.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return F}function xe(){function v(F){return O.call(v.src,v.listener,F)}const O=Bn;return v}function pn(v,O,F,$,te){if(Array.isArray(O))for(var le=0;le<O.length;le++)pn(v,O[le],F,$,te);else $=u($)?!!$.capture:!!$,F=Fe(F),v&&v[Re]?(v=v.i,O=String(O).toString(),O in v.g&&(le=v.g[O],F=Tt(le,F,$,te),-1<F&&(Ie(le[F]),Array.prototype.splice.call(le,F,1),le.length==0&&(delete v.g[O],v.h--)))):v&&(v=Vt(v))&&(O=v.g[O.toString()],v=-1,O&&(v=Tt(O,F,$,te)),(F=-1<v?O[v]:null)&&Ot(F))}function Ot(v){if(typeof v!="number"&&v&&!v.da){var O=v.src;if(O&&O[Re])$e(O.i,v);else{var F=v.type,$=v.proxy;O.removeEventListener?O.removeEventListener(F,$,v.capture):O.detachEvent?O.detachEvent(qr(F),$):O.addListener&&O.removeListener&&O.removeListener($),(F=Vt(O))?($e(F,v),F.h==0&&(F.src=null,O[Dt]=null)):Ie(v)}}}function qr(v){return v in pt?pt[v]:pt[v]="on"+v}function Bn(v,O){if(v.da)v=!0;else{O=new ue(O,this);var F=v.listener,$=v.ha||v.src;v.fa&&Ot(v),v=F.call($,O)}return v}function Vt(v){return v=v[Dt],v instanceof qe?v:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(v){return typeof v=="function"?v:(v[Se]||(v[Se]=function(O){return v.handleEvent(O)}),v[Se])}function Je(){J.call(this),this.i=new qe(this),this.M=this,this.F=null}p(Je,J),Je.prototype[Re]=!0,Je.prototype.removeEventListener=function(v,O,F,$){pn(this,v,O,F,$)};function Ue(v,O){var F,$=v.F;if($)for(F=[];$;$=$.F)F.push($);if(v=v.M,$=O.type||O,typeof O=="string")O=new oe(O,v);else if(O instanceof oe)O.target=O.target||v;else{var te=O;O=new oe($,v),D(O,te)}if(te=!0,F)for(var le=F.length-1;0<=le;le--){var Ae=O.g=F[le];te=vt(Ae,$,!0,O)&&te}if(Ae=O.g=v,te=vt(Ae,$,!0,O)&&te,te=vt(Ae,$,!1,O)&&te,F)for(le=0;le<F.length;le++)Ae=O.g=F[le],te=vt(Ae,$,!1,O)&&te}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var v=this.i,O;for(O in v.g){for(var F=v.g[O],$=0;$<F.length;$++)Ie(F[$]);delete v.g[O],v.h--}}this.F=null},Je.prototype.K=function(v,O,F,$){return this.i.add(String(v),O,!1,F,$)},Je.prototype.L=function(v,O,F,$){return this.i.add(String(v),O,!0,F,$)};function vt(v,O,F,$){if(O=v.i.g[String(O)],!O)return!0;O=O.concat();for(var te=!0,le=0;le<O.length;++le){var Ae=O[le];if(Ae&&!Ae.da&&Ae.capture==F){var Hn=Ae.listener,Ei=Ae.ha||Ae.src;Ae.fa&&$e(v.i,Ae),te=Hn.call(Ei,$)!==!1&&te}}return te&&!$.defaultPrevented}function Cn(v,O,F){if(typeof v=="function")F&&(v=h(v,F));else if(v&&typeof v.handleEvent=="function")v=h(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:a.setTimeout(v,O||0)}function mt(v){v.g=Cn(()=>{v.g=null,v.i&&(v.i=!1,mt(v))},v.l);const O=v.h;v.h=null,v.m.apply(null,O)}class kt extends J{constructor(O,F){super(),this.m=O,this.l=F,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qt(v){J.call(this),this.h=v,this.g={}}p(Qt,J);var mn=[];function or(v){T(v.g,function(O,F){this.g.hasOwnProperty(F)&&Ot(O)},v),v.g={}}Qt.prototype.N=function(){Qt.aa.N.call(this),or(this)},Qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=a.JSON.stringify,Mt=a.JSON.parse,At=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Lt(){}Lt.prototype.h=null;function gt(v){return v.h||(v.h=v.i())}function sn(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){oe.call(this,"d")}p(Dn,oe);function Wi(){oe.call(this,"c")}p(Wi,oe);var Qr={},Qu=null;function Ui(){return Qu=Qu||new Je}Qr.La="serverreachability";function Mn(v){oe.call(this,Qr.La,v)}p(Mn,oe);function aa(v){const O=Ui();Ue(O,new Mn(O))}Qr.STAT_EVENT="statevent";function la(v,O){oe.call(this,Qr.STAT_EVENT,v),this.stat=O}p(la,oe);function K(v){const O=Ui();Ue(O,new la(O,v))}Qr.Ma="timingevent";function ee(v,O){oe.call(this,Qr.Ma,v),this.size=O}p(ee,oe);function ie(v,O){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},O)}function me(){this.g=!0}me.prototype.xa=function(){this.g=!1};function Le(v,O,F,$,te,le){v.info(function(){if(v.g)if(le)for(var Ae="",Hn=le.split("&"),Ei=0;Ei<Hn.length;Ei++){var vn=Hn[Ei].split("=");if(1<vn.length){var zi=vn[0];vn=vn[1];var Ki=zi.split("_");Ae=2<=Ki.length&&Ki[1]=="type"?Ae+(zi+"="+vn+"&"):Ae+(zi+"=redacted&")}}else Ae=null;else Ae=le;return"XMLHTTP REQ ("+$+") [attempt "+te+"]: "+O+`
`+F+`
`+Ae})}function tt(v,O,F,$,te,le,Ae){v.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+te+"]: "+O+`
`+F+`
`+le+" "+Ae})}function at(v,O,F,$){v.info(function(){return"XMLHTTP TEXT ("+O+"): "+ze(v,F)+($?" "+$:"")})}function We(v,O){v.info(function(){return"TIMEOUT: "+O})}me.prototype.info=function(){};function ze(v,O){if(!v.g)return O;if(!O)return null;try{var F=JSON.parse(O);if(F){for(v=0;v<F.length;v++)if(Array.isArray(F[v])){var $=F[v];if(!(2>$.length)){var te=$[1];if(Array.isArray(te)&&!(1>te.length)){var le=te[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ae=1;Ae<te.length;Ae++)te[Ae]=""}}}}return Xn(F)}catch{return O}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ot;function ct(){}p(ct,Lt),ct.prototype.g=function(){return new XMLHttpRequest},ct.prototype.i=function(){return{}},ot=new ct;function Ln(v,O,F,$){this.j=v,this.i=O,this.l=F,this.R=$||1,this.U=new Qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wn}function wn(){this.i=null,this.g="",this.h=!1}var tn={},Nn={};function ua(v,O,F){v.L=1,v.v=xR(Xu(O)),v.m=F,v.P=!0,Nl(v,null)}function Nl(v,O){v.F=Date.now(),Gl(v),v.A=Xu(v.v);var F=v.A,$=v.R;Array.isArray($)||($=[String($)]),h3(F.i,"t",$),v.C=0,F=v.j.J,v.h=new wn,v.g=A3(v.j,F?O:null,!v.m),0<v.O&&(v.M=new kt(h(v.Y,v,v.g),v.O)),O=v.U,F=v.g,$=v.ca;var te="readystatechange";Array.isArray(te)||(te&&(mn[0]=te.toString()),te=mn);for(var le=0;le<te.length;le++){var Ae=bn(F,te[le],$||O.handleEvent,!1,O.h||O);if(!Ae)break;O.g[Ae.key]=Ae}O=v.H?_(v.H):{},v.m?(v.u||(v.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,O)):(v.u="GET",v.g.ea(v.A,v.u,null,O)),aa(),Le(v.i,v.u,v.A,v.l,v.R,v.m)}Ln.prototype.ca=function(v){v=v.target;const O=this.M;O&&Ju(v)==3?O.j():this.Y(v)},Ln.prototype.Y=function(v){try{if(v==this.g)e:{const Ki=Ju(this.g);var O=this.g.Ba();const Ng=this.g.Z();if(!(3>Ki)&&(Ki!=3||this.g&&(this.h.h||this.g.oa()||C3(this.g)))){this.J||Ki!=4||O==7||(O==8||0>=Ng?aa(3):aa(2)),vs(this);var F=this.g.Z();this.X=F;t:if(vo(this)){var $=C3(this.g);v="";var te=$.length,le=Ju(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),ca(this);var Ae="";break t}this.h.i=new a.TextDecoder}for(O=0;O<te;O++)this.h.h=!0,v+=this.h.i.decode($[O],{stream:!(le&&O==te-1)});$.length=0,this.h.g+=v,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=F==200,tt(this.i,this.u,this.A,this.l,this.R,Ki,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Hn,Ei=this.g;if((Hn=Ei.g?Ei.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Hn)){var vn=Hn;break t}}vn=null}if(F=vn)at(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jt(this,F);else{this.o=!1,this.s=3,K(12),Vo(this),ca(this);break e}}if(this.P){F=!0;let Ua;for(;!this.J&&this.C<Ae.length;)if(Ua=Go(this,Ae),Ua==Nn){Ki==4&&(this.s=4,K(14),F=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(Ua==tn){this.s=4,K(15),at(this.i,this.l,Ae,"[Invalid Chunk]"),F=!1;break}else at(this.i,this.l,Ua,null),jt(this,Ua);if(vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ki!=4||Ae.length!=0||this.h.h||(this.s=1,K(16),F=!1),this.o=this.o&&F,!F)at(this.i,this.l,Ae,"[Invalid Chunked Response]"),Vo(this),ca(this);else if(0<Ae.length&&!this.W){this.W=!0;var zi=this.j;zi.g==this&&zi.ba&&!zi.M&&(zi.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),DL(zi),zi.M=!0,K(11))}}else at(this.i,this.l,Ae,null),jt(this,Ae);Ki==4&&Vo(this),this.o&&!this.J&&(Ki==4?T3(this.j,this):(this.o=!1,Gl(this)))}else vwe(this.g),F==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,K(12)):(this.s=0,K(13)),Vo(this),ca(this)}}}catch{}finally{}};function vo(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Go(v,O){var F=v.C,$=O.indexOf(`
`,F);return $==-1?Nn:(F=Number(O.substring(F,$)),isNaN(F)?tn:($+=1,$+F>O.length?Nn:(O=O.slice($,$+F),v.C=$+F,O)))}Ln.prototype.cancel=function(){this.J=!0,Vo(this)};function Gl(v){v.S=Date.now()+v.I,Vl(v,v.I)}function Vl(v,O){if(v.B!=null)throw Error("WatchDog timer not null");v.B=ie(h(v.ba,v),O)}function vs(v){v.B&&(a.clearTimeout(v.B),v.B=null)}Ln.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(We(this.i,this.A),this.L!=2&&(aa(),K(17)),Vo(this),this.s=2,ca(this)):Vl(this,this.S-v)};function ca(v){v.j.G==0||v.J||T3(v.j,v)}function Vo(v){vs(v);var O=v.M;O&&typeof O.ma=="function"&&O.ma(),v.M=null,or(v.U),v.g&&(O=v.g,v.g=null,O.abort(),O.ma())}function jt(v,O){try{var F=v.j;if(F.G!=0&&(F.g==v||Hl(F.h,v))){if(!v.K&&Hl(F.h,v)&&F.G==3){try{var $=F.Da.g.parse(O)}catch{$=null}if(Array.isArray($)&&$.length==3){var te=$;if(te[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<v.F)GR(F),LR(F);else break e;OL(F),K(18)}}else F.za=te[1],0<F.za-F.T&&37500>te[2]&&F.F&&F.v==0&&!F.C&&(F.C=ie(h(F.Za,F),6e3));if(1>=kn(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else vf(F,11)}else if((v.K||F.g==v)&&GR(F),!y(O))for(te=F.Da.g.parse(O),O=0;O<te.length;O++){let vn=te[O];if(F.T=vn[0],vn=vn[1],F.G==2)if(vn[0]=="c"){F.K=vn[1],F.ia=vn[2];const zi=vn[3];zi!=null&&(F.la=zi,F.j.info("VER="+F.la));const Ki=vn[4];Ki!=null&&(F.Aa=Ki,F.j.info("SVER="+F.Aa));const Ng=vn[5];Ng!=null&&typeof Ng=="number"&&0<Ng&&($=1.5*Ng,F.L=$,F.j.info("backChannelRequestTimeoutMs_="+$)),$=F;const Ua=v.g;if(Ua){const kR=Ua.g?Ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kR){var le=$.h;le.g||kR.indexOf("spdy")==-1&&kR.indexOf("quic")==-1&&kR.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Fg(le,le.h),le.h=null))}if($.D){const AL=Ua.g?Ua.g.getResponseHeader("X-HTTP-Session-Id"):null;AL&&($.ya=AL,Jn($.I,$.D,AL))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-v.F,F.j.info("Handshake RTT: "+F.R+"ms")),$=F;var Ae=v;if($.qa=D3($,$.J?$.ia:null,$.W),Ae.K){OR($.h,Ae);var Hn=Ae,Ei=$.L;Ei&&(Hn.I=Ei),Hn.B&&(vs(Hn),Gl(Hn)),$.g=Ae}else R3($);0<F.i.length&&NR(F)}else vn[0]!="stop"&&vn[0]!="close"||vf(F,7);else F.G==3&&(vn[0]=="stop"||vn[0]=="close"?vn[0]=="stop"?vf(F,7):PL(F):vn[0]!="noop"&&F.l&&F.l.ta(vn),F.v=0)}}aa(4)}catch{}}var jn=class{constructor(v,O){this.g=v,this.map=O}};function Wa(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kl(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function kn(v){return v.h?1:v.g?v.g.size:0}function Hl(v,O){return v.h?v.h==O:v.g?v.g.has(O):!1}function Fg(v,O){v.g?v.g.add(O):v.h=O}function OR(v,O){v.h&&v.h==O?v.h=null:v.g&&v.g.has(O)&&v.g.delete(O)}Wa.prototype.cancel=function(){if(this.i=o3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function o3(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let O=v.i;for(const F of v.g.values())O=O.concat(F.D);return O}return g(v.i)}function nwe(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(l(v)){for(var O=[],F=v.length,$=0;$<F;$++)O.push(v[$]);return O}O=[],F=0;for($ in v)O[F++]=v[$];return O}function rwe(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(l(v)||typeof v=="string"){var O=[];v=v.length;for(var F=0;F<v;F++)O.push(F);return O}O=[],F=0;for(const $ in v)O[F++]=$;return O}}}function s3(v,O){if(v.forEach&&typeof v.forEach=="function")v.forEach(O,void 0);else if(l(v)||typeof v=="string")Array.prototype.forEach.call(v,O,void 0);else for(var F=rwe(v),$=nwe(v),te=$.length,le=0;le<te;le++)O.call(void 0,$[le],F&&F[le],v)}var a3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iwe(v,O){if(v){v=v.split("&");for(var F=0;F<v.length;F++){var $=v[F].indexOf("="),te=null;if(0<=$){var le=v[F].substring(0,$);te=v[F].substring($+1)}else le=v[F];O(le,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function mf(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof mf){this.h=v.h,DR(this,v.j),this.o=v.o,this.g=v.g,AR(this,v.s),this.l=v.l;var O=v.i,F=new Xy;F.i=O.i,O.g&&(F.g=new Map(O.g),F.h=O.h),l3(this,F),this.m=v.m}else v&&(O=String(v).match(a3))?(this.h=!1,DR(this,O[1]||"",!0),this.o=qy(O[2]||""),this.g=qy(O[3]||"",!0),AR(this,O[4]),this.l=qy(O[5]||"",!0),l3(this,O[6]||"",!0),this.m=qy(O[7]||"")):(this.h=!1,this.i=new Xy(null,this.h))}mf.prototype.toString=function(){var v=[],O=this.j;O&&v.push(Qy(O,u3,!0),":");var F=this.g;return(F||O=="file")&&(v.push("//"),(O=this.o)&&v.push(Qy(O,u3,!0),"@"),v.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&v.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&v.push("/"),v.push(Qy(F,F.charAt(0)=="/"?awe:swe,!0))),(F=this.i.toString())&&v.push("?",F),(F=this.m)&&v.push("#",Qy(F,uwe)),v.join("")};function Xu(v){return new mf(v)}function DR(v,O,F){v.j=F?qy(O,!0):O,v.j&&(v.j=v.j.replace(/:$/,""))}function AR(v,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);v.s=O}else v.s=null}function l3(v,O,F){O instanceof Xy?(v.i=O,cwe(v.i,v.h)):(F||(O=Qy(O,lwe)),v.i=new Xy(O,v.h))}function Jn(v,O,F){v.i.set(O,F)}function xR(v){return Jn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function qy(v,O){return v?O?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Qy(v,O,F){return typeof v=="string"?(v=encodeURI(v).replace(O,owe),F&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function owe(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var u3=/[#\/\?@]/g,swe=/[#\?:]/g,awe=/[#\?]/g,lwe=/[#\?@]/g,uwe=/#/g;function Xy(v,O){this.h=this.g=null,this.i=v||null,this.j=!!O}function dd(v){v.g||(v.g=new Map,v.h=0,v.i&&iwe(v.i,function(O,F){v.add(decodeURIComponent(O.replace(/\+/g," ")),F)}))}r=Xy.prototype,r.add=function(v,O){dd(this),this.i=null,v=Mg(this,v);var F=this.g.get(v);return F||this.g.set(v,F=[]),F.push(O),this.h+=1,this};function c3(v,O){dd(v),O=Mg(v,O),v.g.has(O)&&(v.i=null,v.h-=v.g.get(O).length,v.g.delete(O))}function d3(v,O){return dd(v),O=Mg(v,O),v.g.has(O)}r.forEach=function(v,O){dd(this),this.g.forEach(function(F,$){F.forEach(function(te){v.call(O,te,$,this)},this)},this)},r.na=function(){dd(this);const v=Array.from(this.g.values()),O=Array.from(this.g.keys()),F=[];for(let $=0;$<O.length;$++){const te=v[$];for(let le=0;le<te.length;le++)F.push(O[$])}return F},r.V=function(v){dd(this);let O=[];if(typeof v=="string")d3(this,v)&&(O=O.concat(this.g.get(Mg(this,v))));else{v=Array.from(this.g.values());for(let F=0;F<v.length;F++)O=O.concat(v[F])}return O},r.set=function(v,O){return dd(this),this.i=null,v=Mg(this,v),d3(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[O]),this.h+=1,this},r.get=function(v,O){return v?(v=this.V(v),0<v.length?String(v[0]):O):O};function h3(v,O,F){c3(v,O),0<F.length&&(v.i=null,v.g.set(Mg(v,O),g(F)),v.h+=F.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],O=Array.from(this.g.keys());for(var F=0;F<O.length;F++){var $=O[F];const le=encodeURIComponent(String($)),Ae=this.V($);for($=0;$<Ae.length;$++){var te=le;Ae[$]!==""&&(te+="="+encodeURIComponent(String(Ae[$]))),v.push(te)}}return this.i=v.join("&")};function Mg(v,O){return O=String(O),v.j&&(O=O.toLowerCase()),O}function cwe(v,O){O&&!v.j&&(dd(v),v.i=null,v.g.forEach(function(F,$){var te=$.toLowerCase();$!=te&&(c3(this,$),h3(this,te,F))},v)),v.j=O}function dwe(v,O){const F=new me;if(a.Image){const $=new Image;$.onload=f(hd,F,"TestLoadImage: loaded",!0,O,$),$.onerror=f(hd,F,"TestLoadImage: error",!1,O,$),$.onabort=f(hd,F,"TestLoadImage: abort",!1,O,$),$.ontimeout=f(hd,F,"TestLoadImage: timeout",!1,O,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=v}else O(!1)}function hwe(v,O){const F=new me,$=new AbortController,te=setTimeout(()=>{$.abort(),hd(F,"TestPingServer: timeout",!1,O)},1e4);fetch(v,{signal:$.signal}).then(le=>{clearTimeout(te),le.ok?hd(F,"TestPingServer: ok",!0,O):hd(F,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(te),hd(F,"TestPingServer: error",!1,O)})}function hd(v,O,F,$,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),$(F)}catch{}}function fwe(){this.g=new At}function pwe(v,O,F){const $=F||"";try{s3(v,function(te,le){let Ae=te;u(te)&&(Ae=Xn(te)),O.push($+le+"="+encodeURIComponent(Ae))})}catch(te){throw O.push($+"type="+encodeURIComponent("_badmap")),te}}function IR(v){this.l=v.Ub||null,this.j=v.eb||!1}p(IR,Lt),IR.prototype.g=function(){return new FR(this.l,this.j)},IR.prototype.i=function(v){return function(){return v}}({});function FR(v,O){Je.call(this),this.D=v,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(FR,Je),r=FR.prototype,r.open=function(v,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=O,this.readyState=1,Zy(this)},r.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(O.body=v),(this.D||a).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jy(this)),this.readyState=0},r.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Zy(this)),this.g&&(this.readyState=3,Zy(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;f3(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function f3(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}r.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var O=v.value?v.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!v.done}))&&(this.response=this.responseText+=O)}v.done?Jy(this):Zy(this),this.readyState==3&&f3(this)}},r.Ra=function(v){this.g&&(this.response=this.responseText=v,Jy(this))},r.Qa=function(v){this.g&&(this.response=v,Jy(this))},r.ga=function(){this.g&&Jy(this)};function Jy(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Zy(v)}r.setRequestHeader=function(v,O){this.u.append(v,O)},r.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],O=this.h.entries();for(var F=O.next();!F.done;)F=F.value,v.push(F[0]+": "+F[1]),F=O.next();return v.join(`\r
`)};function Zy(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(FR.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function p3(v){let O="";return T(v,function(F,$){O+=$,O+=":",O+=F,O+=`\r
`}),O}function TL(v,O,F){e:{for($ in F){var $=!1;break e}$=!0}$||(F=p3(F),typeof v=="string"?F!=null&&encodeURIComponent(String(F)):Jn(v,O,F))}function wr(v){Je.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(wr,Je);var gwe=/^https?$/i,mwe=["POST","PUT"];r=wr.prototype,r.Ha=function(v){this.J=v},r.ea=function(v,O,F,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);O=O?O.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ot.g(),this.v=this.o?gt(this.o):gt(ot),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(O,String(v),!0),this.B=!1}catch(le){g3(this,le);return}if(v=F||"",F=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var te in $)F.set(te,$[te]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const le of $.keys())F.set(le,$.get(le));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(F.keys()).find(le=>le.toLowerCase()=="content-type"),te=a.FormData&&v instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mwe,O,void 0))||$||te||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ae]of F)this.g.setRequestHeader(le,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y3(this),this.u=!0,this.g.send(v),this.u=!1}catch(le){g3(this,le)}};function g3(v,O){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=O,v.m=5,m3(v),MR(v)}function m3(v){v.A||(v.A=!0,Ue(v,"complete"),Ue(v,"error"))}r.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ue(this,"complete"),Ue(this,"abort"),MR(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),MR(this,!0)),wr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?v3(this):this.bb())},r.bb=function(){v3(this)};function v3(v){if(v.h&&typeof s<"u"&&(!v.v[1]||Ju(v)!=4||v.Z()!=2)){if(v.u&&Ju(v)==4)Cn(v.Ea,0,v);else if(Ue(v,"readystatechange"),Ju(v)==4){v.h=!1;try{const Ae=v.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var F;if(!(F=O)){var $;if($=Ae===0){var te=String(v.D).match(a3)[1]||null;!te&&a.self&&a.self.location&&(te=a.self.location.protocol.slice(0,-1)),$=!gwe.test(te?te.toLowerCase():"")}F=$}if(F)Ue(v,"complete"),Ue(v,"success");else{v.m=6;try{var le=2<Ju(v)?v.g.statusText:""}catch{le=""}v.l=le+" ["+v.Z()+"]",m3(v)}}finally{MR(v)}}}}function MR(v,O){if(v.g){y3(v);const F=v.g,$=v.v[0]?()=>{}:null;v.g=null,v.v=null,O||Ue(v,"ready");try{F.onreadystatechange=$}catch{}}}function y3(v){v.I&&(a.clearTimeout(v.I),v.I=null)}r.isActive=function(){return!!this.g};function Ju(v){return v.g?v.g.readyState:0}r.Z=function(){try{return 2<Ju(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(v){if(this.g){var O=this.g.responseText;return v&&O.indexOf(v)==0&&(O=O.substring(v.length)),Mt(O)}};function C3(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function vwe(v){const O={};v=(v.g&&2<=Ju(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<v.length;$++){if(y(v[$]))continue;var F=M(v[$]);const te=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const le=O[te]||[];O[te]=le,le.push(F)}R(O,function($){return $.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function eC(v,O,F){return F&&F.internalChannelParams&&F.internalChannelParams[v]||O}function w3(v){this.Aa=0,this.i=[],this.j=new me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=eC("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=eC("baseRetryDelayMs",5e3,v),this.cb=eC("retryDelaySeedMs",1e4,v),this.Wa=eC("forwardChannelMaxRetries",2,v),this.wa=eC("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Wa(v&&v.concurrentRequestLimit),this.Da=new fwe,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=w3.prototype,r.la=8,r.G=1,r.connect=function(v,O,F,$){K(0),this.W=v,this.H=O||{},F&&$!==void 0&&(this.H.OSID=F,this.H.OAID=$),this.F=this.X,this.I=D3(this,null,this.W),NR(this)};function PL(v){if(S3(v),v.G==3){var O=v.U++,F=Xu(v.I);if(Jn(F,"SID",v.K),Jn(F,"RID",O),Jn(F,"TYPE","terminate"),tC(v,F),O=new Ln(v,v.j,O),O.L=2,O.v=xR(Xu(F)),F=!1,a.navigator&&a.navigator.sendBeacon)try{F=a.navigator.sendBeacon(O.v.toString(),"")}catch{}!F&&a.Image&&(new Image().src=O.v,F=!0),F||(O.g=A3(O.j,null),O.g.ea(O.v)),O.F=Date.now(),Gl(O)}O3(v)}function LR(v){v.g&&(DL(v),v.g.cancel(),v.g=null)}function S3(v){LR(v),v.u&&(a.clearTimeout(v.u),v.u=null),GR(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&a.clearTimeout(v.s),v.s=null)}function NR(v){if(!kl(v.h)&&!v.s){v.s=!0;var O=v.Ga;z||Y(),W||(z(),W=!0),H.add(O,v),v.B=0}}function ywe(v,O){return kn(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=O.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=ie(h(v.Ga,v,O),P3(v,v.B)),v.B++,!0)}r.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const te=new Ln(this,this.j,v);let le=this.o;if(this.S&&(le?(le=_(le),D(le,this.S)):le=this.S),this.m!==null||this.O||(te.H=le,le=null),this.P)e:{for(var O=0,F=0;F<this.i.length;F++){t:{var $=this.i[F];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(O+=$,4096<O){O=F;break e}if(O===4096||F===this.i.length-1){O=F+1;break e}}O=1e3}else O=1e3;O=_3(this,te,O),F=Xu(this.I),Jn(F,"RID",v),Jn(F,"CVER",22),this.D&&Jn(F,"X-HTTP-Session-Id",this.D),tC(this,F),le&&(this.O?O="headers="+encodeURIComponent(String(p3(le)))+"&"+O:this.m&&TL(F,this.m,le)),Fg(this.h,te),this.Ua&&Jn(F,"TYPE","init"),this.P?(Jn(F,"$req",O),Jn(F,"SID","null"),te.T=!0,ua(te,F,null)):ua(te,F,O),this.G=2}}else this.G==3&&(v?E3(this,v):this.i.length==0||kl(this.h)||E3(this))};function E3(v,O){var F;O?F=O.l:F=v.U++;const $=Xu(v.I);Jn($,"SID",v.K),Jn($,"RID",F),Jn($,"AID",v.T),tC(v,$),v.m&&v.o&&TL($,v.m,v.o),F=new Ln(v,v.j,F,v.B+1),v.m===null&&(F.H=v.o),O&&(v.i=O.D.concat(v.i)),O=_3(v,F,1e3),F.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Fg(v.h,F),ua(F,$,O)}function tC(v,O){v.H&&T(v.H,function(F,$){Jn(O,$,F)}),v.l&&s3({},function(F,$){Jn(O,$,F)})}function _3(v,O,F){F=Math.min(v.i.length,F);var $=v.l?h(v.l.Na,v.l,v):null;e:{var te=v.i;let le=-1;for(;;){const Ae=["count="+F];le==-1?0<F?(le=te[0].g,Ae.push("ofs="+le)):le=0:Ae.push("ofs="+le);let Hn=!0;for(let Ei=0;Ei<F;Ei++){let vn=te[Ei].g;const zi=te[Ei].map;if(vn-=le,0>vn)le=Math.max(0,te[Ei].g-100),Hn=!1;else try{pwe(zi,Ae,"req"+vn+"_")}catch{$&&$(zi)}}if(Hn){$=Ae.join("&");break e}}}return v=v.i.splice(0,F),O.D=v,$}function R3(v){if(!v.g&&!v.u){v.Y=1;var O=v.Fa;z||Y(),W||(z(),W=!0),H.add(O,v),v.v=0}}function OL(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=ie(h(v.Fa,v),P3(v,v.v)),v.v++,!0)}r.Fa=function(){if(this.u=null,b3(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=ie(h(this.ab,this),v)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,K(10),LR(this),b3(this))};function DL(v){v.A!=null&&(a.clearTimeout(v.A),v.A=null)}function b3(v){v.g=new Ln(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var O=Xu(v.qa);Jn(O,"RID","rpc"),Jn(O,"SID",v.K),Jn(O,"AID",v.T),Jn(O,"CI",v.F?"0":"1"),!v.F&&v.ja&&Jn(O,"TO",v.ja),Jn(O,"TYPE","xmlhttp"),tC(v,O),v.m&&v.o&&TL(O,v.m,v.o),v.L&&(v.g.I=v.L);var F=v.g;v=v.ia,F.L=1,F.v=xR(Xu(O)),F.m=null,F.P=!0,Nl(F,v)}r.Za=function(){this.C!=null&&(this.C=null,LR(this),OL(this),K(19))};function GR(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function T3(v,O){var F=null;if(v.g==O){GR(v),DL(v),v.g=null;var $=2}else if(Hl(v.h,O))F=O.D,OR(v.h,O),$=1;else return;if(v.G!=0){if(O.o)if($==1){F=O.m?O.m.length:0,O=Date.now()-O.F;var te=v.B;$=Ui(),Ue($,new ee($,F)),NR(v)}else R3(v);else if(te=O.s,te==3||te==0&&0<O.X||!($==1&&ywe(v,O)||$==2&&OL(v)))switch(F&&0<F.length&&(O=v.h,O.i=O.i.concat(F)),te){case 1:vf(v,5);break;case 4:vf(v,10);break;case 3:vf(v,6);break;default:vf(v,2)}}}function P3(v,O){let F=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(F*=2),F*O}function vf(v,O){if(v.j.info("Error code "+O),O==2){var F=h(v.fb,v),$=v.Xa;const te=!$;$=new mf($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||DR($,"https"),xR($),te?dwe($.toString(),F):hwe($.toString(),F)}else K(2);v.G=0,v.l&&v.l.sa(O),O3(v),S3(v)}r.fb=function(v){v?(this.j.info("Successfully pinged google.com"),K(2)):(this.j.info("Failed to ping google.com"),K(1))};function O3(v){if(v.G=0,v.ka=[],v.l){const O=o3(v.h);(O.length!=0||v.i.length!=0)&&(C(v.ka,O),C(v.ka,v.i),v.h.i.length=0,g(v.i),v.i.length=0),v.l.ra()}}function D3(v,O,F){var $=F instanceof mf?Xu(F):new mf(F);if($.g!="")O&&($.g=O+"."+$.g),AR($,$.s);else{var te=a.location;$=te.protocol,O=O?O+"."+te.hostname:te.hostname,te=+te.port;var le=new mf(null);$&&DR(le,$),O&&(le.g=O),te&&AR(le,te),F&&(le.l=F),$=le}return F=v.D,O=v.ya,F&&O&&Jn($,F,O),Jn($,"VER",v.la),tC(v,$),$}function A3(v,O,F){if(O&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=v.Ca&&!v.pa?new wr(new IR({eb:F})):new wr(v.pa),O.Ha(v.J),O}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function x3(){}r=x3.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function VR(){}VR.prototype.g=function(v,O){return new ys(v,O)};function ys(v,O){Je.call(this),this.g=new w3(O),this.l=v,this.h=O&&O.messageUrlParams||null,v=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(v?v["X-WebChannel-Content-Type"]=O.messageContentType:v={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(v?v["X-WebChannel-Client-Profile"]=O.va:v={"X-WebChannel-Client-Profile":O.va}),this.g.S=v,(v=O&&O.Sb)&&!y(v)&&(this.g.m=v),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!y(O)&&(this.g.D=O,v=this.h,v!==null&&O in v&&(v=this.h,O in v&&delete v[O])),this.j=new Lg(this)}p(ys,Je),ys.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ys.prototype.close=function(){PL(this.g)},ys.prototype.o=function(v){var O=this.g;if(typeof v=="string"){var F={};F.__data__=v,v=F}else this.u&&(F={},F.__data__=Xn(v),v=F);O.i.push(new jn(O.Ya++,v)),O.G==3&&NR(O)},ys.prototype.N=function(){this.g.l=null,delete this.j,PL(this.g),delete this.g,ys.aa.N.call(this)};function I3(v){Dn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var O=v.__sm__;if(O){e:{for(const F in O){v=F;break e}v=void 0}(this.i=v)&&(v=this.i,O=O!==null&&v in O?O[v]:void 0),this.data=O}else this.data=v}p(I3,Dn);function F3(){Wi.call(this),this.status=1}p(F3,Wi);function Lg(v){this.g=v}p(Lg,x3),Lg.prototype.ua=function(){Ue(this.g,"a")},Lg.prototype.ta=function(v){Ue(this.g,new I3(v))},Lg.prototype.sa=function(v){Ue(this.g,new F3)},Lg.prototype.ra=function(){Ue(this.g,"b")},VR.prototype.createWebChannel=VR.prototype.g,ys.prototype.send=ys.prototype.o,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,Eae=function(){return new VR},Sae=function(){return Ui()},wae=Qr,dV={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,aP=fe,Pe.COMPLETE="complete",Cae=Pe,sn.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Je.prototype.listen=Je.prototype.K,ww=sn,wr.prototype.listenOnce=wr.prototype.L,wr.prototype.getLastError=wr.prototype.Ka,wr.prototype.getLastErrorCode=wr.prototype.Ba,wr.prototype.getStatus=wr.prototype.Z,wr.prototype.getResponseJson=wr.prototype.Oa,wr.prototype.getResponseText=wr.prototype.oa,wr.prototype.send=wr.prototype.ea,wr.prototype.setWithCredentials=wr.prototype.Ha,yae=wr}).apply(typeof Pb<"u"?Pb:typeof self<"u"?self:typeof window<"u"?window:{});const h8="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new lB("@firebase/firestore");function RC(){return xp.logLevel}function et(r,...e){if(xp.logLevel<=un.DEBUG){const t=e.map(dB);xp.debug(`Firestore (${yy}): ${r}`,...t)}}function Ic(r,...e){if(xp.logLevel<=un.ERROR){const t=e.map(dB);xp.error(`Firestore (${yy}): ${r}`,...t)}}function Rv(r,...e){if(xp.logLevel<=un.WARN){const t=e.map(dB);xp.warn(`Firestore (${yy}): ${r}`,...t)}}function dB(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(r="Unexpected state"){const e=`FIRESTORE (${yy}) INTERNAL ASSERTION FAILED: `+r;throw Ic(e),new Error(e)}function In(r,e){r||Pt()}function Ft(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends qc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nWe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ro.UNAUTHENTICATED))}shutdown(){}}class rWe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iWe{constructor(e){this.t=e,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){In(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let o=new wc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wc)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(In(typeof n.accessToken=="string"),new _ae(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return In(e===null||typeof e=="string"),new ro(e)}}class oWe{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ro.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sWe{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new oWe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aWe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lWe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){In(this.o===void 0);const n=o=>{o.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,et("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In(typeof t.token=="string"),this.R=t.token,new aWe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uWe(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=uWe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function yn(r,e){return r<e?-1:r>e?1:0}function bv(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new je(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new je(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new je(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new si(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new si(0,0))}static max(){return new It(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t,n){t===void 0?t=0:t>e.length&&Pt(),n===void 0?n=e.length-t:n>e.length-t&&Pt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return GS.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof GS?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rr extends GS{construct(e,t,n){return new rr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new je(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new rr(t)}static emptyPath(){return new rr([])}}const cWe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends GS{construct(e,t,n){return new Di(e,t,n)}static isValidIdentifier(e){return cWe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Di(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new je(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new je(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(n+=a,i++):(o(),i++)}if(o(),s)throw new je(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Di(t)}static emptyPath(){return new Di([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(rr.fromString(e))}static fromName(e){return new ft(rr.fromString(e).popFirst(5))}static empty(){return new ft(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new rr(e.slice()))}}function dWe(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=It.fromTimestamp(n===1e9?new si(t+1,0):new si(t,n));return new Ih(i,ft.empty(),e)}function hWe(r){return new Ih(r.readTime,r.key,-1)}class Ih{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ih(It.min(),ft.empty(),-1)}static max(){return new Ih(It.max(),ft.empty(),-1)}}function fWe(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ft.comparator(r.documentKey,e.documentKey),t!==0?t:yn(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pWe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gWe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(r){if(r.code!==ve.FAILED_PRECONDITION||r.message!==pWe)throw r;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ee((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ee?t:Ee.resolve(t)}catch(t){return Ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ee.reject(t)}static resolve(e){return new Ee((t,n)=>{t(e)})}static reject(e){return new Ee((t,n)=>{n(e)})}static waitFor(e){return new Ee((t,n)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>n(l))}),s=!0,o===i&&t()})}static or(e){let t=Ee.resolve(!1);for(const n of e)t=t.next(i=>i?Ee.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new Ee((n,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;t(e[u]).next(c=>{s[u]=c,++a,a===o&&n(s)},c=>i(c))}})}static doWhile(e,t){return new Ee((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function mWe(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function o_(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hB.oe=-1;function aF(r){return r==null}function uA(r){return r===0&&1/r==-1/0}function vWe(r){return typeof r=="number"&&Number.isInteger(r)&&!uA(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ug(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bae(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ob(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ob(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ob(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ob(this.root,e,this.comparator,!0)}}class Ob{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??Ti.RED,this.left=i??Ti.EMPTY,this.right=o??Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new Ti(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ti.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1;Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,t,n,i,o){return this}insert(e,t,n){return new Ti(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p8(this.data.getIterator())}getIteratorFrom(e){return new p8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ni(this.comparator);return t.data=e,t}}class p8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.fields=e,e.sort(Di.comparator)}static empty(){return new $s([])}unionWith(e){let t=new Ni(Di.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bv(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tae extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tae("Invalid base64 string: "+o):o}}(e);return new Vi(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const yWe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fh(r){if(In(!!r),typeof r=="string"){let e=0;const t=yWe.exec(r);if(In(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Pr(r.seconds),nanos:Pr(r.nanos)}}function Pr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ip(r){return typeof r=="string"?Vi.fromBase64String(r):Vi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function pB(r){const e=r.mapValue.fields.__previous_value__;return fB(e)?pB(e):e}function VS(r){const e=Fh(r.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CWe{constructor(e,t,n,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class kS{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kS("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kS&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fp(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fB(r)?4:SWe(r)?9007199254740991:wWe(r)?10:11:Pt()}function Fu(r,e){if(r===e)return!0;const t=Fp(r);if(t!==Fp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return VS(r).isEqual(VS(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Fh(i.timestampValue),a=Fh(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Ip(i.bytesValue).isEqual(Ip(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Pr(i.geoPointValue.latitude)===Pr(o.geoPointValue.latitude)&&Pr(i.geoPointValue.longitude)===Pr(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pr(i.integerValue)===Pr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pr(i.doubleValue),a=Pr(o.doubleValue);return s===a?uA(s)===uA(a):isNaN(s)&&isNaN(a)}return!1}(r,e);case 9:return bv(r.arrayValue.values||[],e.arrayValue.values||[],Fu);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(f8(s)!==f8(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Fu(s[l],a[l])))return!1;return!0}(r,e);default:return Pt()}}function HS(r,e){return(r.values||[]).find(t=>Fu(t,e))!==void 0}function Tv(r,e){if(r===e)return 0;const t=Fp(r),n=Fp(e);if(t!==n)return yn(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(r.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pr(o.integerValue||o.doubleValue),l=Pr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(r,e);case 3:return g8(r.timestampValue,e.timestampValue);case 4:return g8(VS(r),VS(e));case 5:return yn(r.stringValue,e.stringValue);case 6:return function(o,s){const a=Ip(o),l=Ip(s);return a.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=yn(a[u],l[u]);if(c!==0)return c}return yn(a.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,s){const a=yn(Pr(o.latitude),Pr(s.latitude));return a!==0?a:yn(Pr(o.longitude),Pr(s.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return m8(r.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},f=(a=d.value)===null||a===void 0?void 0:a.arrayValue,p=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=yn(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:m8(f,p)}(r.mapValue,e.mapValue);case 11:return function(o,s){if(o===Db.mapValue&&s===Db.mapValue)return 0;if(o===Db.mapValue)return 1;if(s===Db.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=yn(l[d],c[d]);if(h!==0)return h;const f=Tv(a[l[d]],u[c[d]]);if(f!==0)return f}return yn(l.length,c.length)}(r.mapValue,e.mapValue);default:throw Pt()}}function g8(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return yn(r,e);const t=Fh(r),n=Fh(e),i=yn(t.seconds,n.seconds);return i!==0?i:yn(t.nanos,n.nanos)}function m8(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=Tv(t[i],n[i]);if(o)return o}return yn(t.length,n.length)}function Pv(r){return hV(r)}function hV(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Fh(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ip(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ft.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=hV(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${hV(t.fields[s])}`;return i+"}"}(r.mapValue):Pt()}function v8(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fV(r){return!!r&&"integerValue"in r}function gB(r){return!!r&&"arrayValue"in r}function y8(r){return!!r&&"nullValue"in r}function C8(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lP(r){return!!r&&"mapValue"in r}function wWe(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Jw(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ug(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Jw(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jw(r.arrayValue.values[t]);return e}return Object.assign({},r)}function SWe(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.value=e}static empty(){return new Xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lP(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jw(t)}setAll(e){let t=Di.emptyPath(),n={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,n,i),n={},i=[],t=a.popLast()}s?n[a.lastSegment()]=Jw(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());lP(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];lP(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){ug(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Xo(Jw(this.value))}}function Pae(r){const e=[];return ug(r.fields,(t,n)=>{const i=new Di([t]);if(lP(n)){const o=Pae(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new $s(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,t,n,i,o,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ao(e,0,It.min(),It.min(),It.min(),Xo.empty(),0)}static newFoundDocument(e,t,n,i){return new ao(e,1,t,It.min(),n,i,0)}static newNoDocument(e,t){return new ao(e,2,t,It.min(),It.min(),Xo.empty(),0)}static newUnknownDocument(e,t){return new ao(e,3,t,It.min(),It.min(),Xo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ao&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ao(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.position=e,this.inclusive=t}}function w8(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],s=r.position[i];if(o.field.isKeyField()?n=ft.comparator(ft.fromName(s.referenceValue),t.key):n=Tv(s,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function S8(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Fu(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t="asc"){this.field=e,this.dir=t}}function EWe(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae{}class zr extends Oae{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new RWe(e,t,n):t==="array-contains"?new PWe(e,n):t==="in"?new OWe(e,n):t==="not-in"?new DWe(e,n):t==="array-contains-any"?new AWe(e,n):new zr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new bWe(e,n):new TWe(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Tv(t,this.value)):t!==null&&Fp(this.value)===Fp(t)&&this.matchesComparison(Tv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _l extends Oae{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new _l(e,t)}matches(e){return Dae(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Dae(r){return r.op==="and"}function Aae(r){return _We(r)&&Dae(r)}function _We(r){for(const e of r.filters)if(e instanceof _l)return!1;return!0}function pV(r){if(r instanceof zr)return r.field.canonicalString()+r.op.toString()+Pv(r.value);if(Aae(r))return r.filters.map(e=>pV(e)).join(",");{const e=r.filters.map(t=>pV(t)).join(",");return`${r.op}(${e})`}}function xae(r,e){return r instanceof zr?function(n,i){return i instanceof zr&&n.op===i.op&&n.field.isEqual(i.field)&&Fu(n.value,i.value)}(r,e):r instanceof _l?function(n,i){return i instanceof _l&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,a)=>o&&xae(s,i.filters[a]),!0):!1}(r,e):void Pt()}function Iae(r){return r instanceof zr?function(t){return`${t.field.canonicalString()} ${t.op} ${Pv(t.value)}`}(r):r instanceof _l?function(t){return t.op.toString()+" {"+t.getFilters().map(Iae).join(" ,")+"}"}(r):"Filter"}class RWe extends zr{constructor(e,t,n){super(e,t,n),this.key=ft.fromName(n.referenceValue)}matches(e){const t=ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class bWe extends zr{constructor(e,t){super(e,"in",t),this.keys=Fae("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class TWe extends zr{constructor(e,t){super(e,"not-in",t),this.keys=Fae("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fae(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>ft.fromName(n.referenceValue))}class PWe extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gB(t)&&HS(t.arrayValue,this.value)}}class OWe extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&HS(this.value.arrayValue,t)}}class DWe extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(HS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!HS(this.value.arrayValue,t)}}class AWe extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gB(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>HS(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xWe{constructor(e,t=null,n=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function E8(r,e=null,t=[],n=[],i=null,o=null,s=null){return new xWe(r,e,t,n,i,o,s)}function mB(r){const e=Ft(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>pV(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),aF(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Pv(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Pv(n)).join(",")),e.ue=t}return e.ue}function vB(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!EWe(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!xae(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!S8(r.startAt,e.startAt)&&S8(r.endAt,e.endAt)}function gV(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t=null,n=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IWe(r,e,t,n,i,o,s,a){return new Cy(r,e,t,n,i,o,s,a)}function lF(r){return new Cy(r)}function _8(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Mae(r){return r.collectionGroup!==null}function Zw(r){const e=Ft(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ni(Di.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new $S(o,n))}),t.has(Di.keyField().canonicalString())||e.ce.push(new $S(Di.keyField(),n))}return e.ce}function Su(r){const e=Ft(r);return e.le||(e.le=FWe(e,Zw(r))),e.le}function FWe(r,e){if(r.limitType==="F")return E8(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new $S(i.field,o)});const t=r.endAt?new cA(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new cA(r.startAt.position,r.startAt.inclusive):null;return E8(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function mV(r,e){const t=r.filters.concat([e]);return new Cy(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function dA(r,e,t){return new Cy(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function uF(r,e){return vB(Su(r),Su(e))&&r.limitType===e.limitType}function Lae(r){return`${mB(Su(r))}|lt:${r.limitType}`}function sm(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>Iae(i)).join(", ")}]`),aF(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Pv(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Pv(i)).join(",")),`Target(${n})`}(Su(r))}; limitType=${r.limitType})`}function cF(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ft.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of Zw(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(s,a,l){const u=w8(s,a,l);return s.inclusive?u<=0:u<0}(n.startAt,Zw(n),i)||n.endAt&&!function(s,a,l){const u=w8(s,a,l);return s.inclusive?u>=0:u>0}(n.endAt,Zw(n),i))}(r,e)}function MWe(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Nae(r){return(e,t)=>{let n=!1;for(const i of Zw(r)){const o=LWe(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function LWe(r,e,t){const n=r.field.isKeyField()?ft.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Tv(l,u):Pt()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Pt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ug(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return bae(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NWe=new yr(ft.comparator);function Fc(){return NWe}const Gae=new yr(ft.comparator);function Sw(...r){let e=Gae;for(const t of r)e=e.insert(t.key,t);return e}function Vae(r){let e=Gae;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function qf(){return eS()}function kae(){return eS()}function eS(){return new wy(r=>r.toString(),(r,e)=>r.isEqual(e))}const GWe=new yr(ft.comparator),VWe=new Ni(ft.comparator);function rn(...r){let e=VWe;for(const t of r)e=e.add(t);return e}const kWe=new Ni(yn);function HWe(){return kWe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uA(e)?"-0":e}}function Hae(r){return{integerValue:""+r}}function $We(r,e){return vWe(e)?Hae(e):yB(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this._=void 0}}function BWe(r,e,t){return r instanceof BS?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fB(o)&&(o=pB(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):r instanceof jS?Bae(r,e):r instanceof WS?jae(r,e):function(i,o){const s=$ae(i,o),a=R8(s)+R8(i.Pe);return fV(s)&&fV(i.Pe)?Hae(a):yB(i.serializer,a)}(r,e)}function jWe(r,e,t){return r instanceof jS?Bae(r,e):r instanceof WS?jae(r,e):t}function $ae(r,e){return r instanceof hA?function(n){return fV(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class BS extends dF{}class jS extends dF{constructor(e){super(),this.elements=e}}function Bae(r,e){const t=Wae(e);for(const n of r.elements)t.some(i=>Fu(i,n))||t.push(n);return{arrayValue:{values:t}}}class WS extends dF{constructor(e){super(),this.elements=e}}function jae(r,e){let t=Wae(e);for(const n of r.elements)t=t.filter(i=>!Fu(i,n));return{arrayValue:{values:t}}}class hA extends dF{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function R8(r){return Pr(r.integerValue||r.doubleValue)}function Wae(r){return gB(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WWe{constructor(e,t){this.field=e,this.transform=t}}function UWe(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof jS&&i instanceof jS||n instanceof WS&&i instanceof WS?bv(n.elements,i.elements,Fu):n instanceof hA&&i instanceof hA?Fu(n.Pe,i.Pe):n instanceof BS&&i instanceof BS}(r.transform,e.transform)}class zWe{constructor(e,t){this.version=e,this.transformResults=t}}class ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uP(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hF{}function Uae(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new CB(r.key,ss.none()):new s_(r.key,r.data,ss.none());{const t=r.data,n=Xo.empty();let i=new Ni(Di.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new Yh(r.key,n,new $s(i.toArray()),ss.none())}}function KWe(r,e,t){r instanceof s_?function(i,o,s){const a=i.value.clone(),l=T8(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(r,e,t):r instanceof Yh?function(i,o,s){if(!uP(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=T8(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(zae(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(r,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tS(r,e,t,n){return r instanceof s_?function(o,s,a,l){if(!uP(o.precondition,s))return a;const u=o.value.clone(),c=P8(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(r,e,t,n):r instanceof Yh?function(o,s,a,l){if(!uP(o.precondition,s))return a;const u=P8(o.fieldTransforms,l,s),c=s.data;return c.setAll(zae(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(r,e,t,n):function(o,s,a){return uP(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(r,e,t)}function YWe(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=$ae(n.transform,i||null);o!=null&&(t===null&&(t=Xo.empty()),t.set(n.field,o))}return t||null}function b8(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bv(n,i,(o,s)=>UWe(o,s))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class s_ extends hF{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yh extends hF{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zae(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function T8(r,e,t){const n=new Map;In(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],s=o.transform,a=e.data.field(o.field);n.set(o.field,jWe(s,a,t[i]))}return n}function P8(r,e,t){const n=new Map;for(const i of r){const o=i.transform,s=t.data.field(i.field);n.set(i.field,BWe(o,s,e))}return n}class CB extends hF{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qWe extends hF{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QWe{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KWe(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=tS(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=tS(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=kae();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=Uae(s,a);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(It.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&bv(this.mutations,e.mutations,(t,n)=>b8(t,n))&&bv(this.baseMutations,e.baseMutations,(t,n)=>b8(t,n))}}class wB{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){In(e.mutations.length===n.length);let i=function(){return GWe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new wB(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XWe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JWe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr,dn;function ZWe(r){switch(r){default:return Pt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function Kae(r){if(r===void 0)return Ic("GRPC error has no .code"),ve.UNKNOWN;switch(r){case Hr.OK:return ve.OK;case Hr.CANCELLED:return ve.CANCELLED;case Hr.UNKNOWN:return ve.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return ve.INTERNAL;case Hr.UNAVAILABLE:return ve.UNAVAILABLE;case Hr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Hr.NOT_FOUND:return ve.NOT_FOUND;case Hr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Hr.ABORTED:return ve.ABORTED;case Hr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Hr.DATA_LOSS:return ve.DATA_LOSS;default:return Pt()}}(dn=Hr||(Hr={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eUe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tUe=new cp([4294967295,4294967295],0);function O8(r){const e=eUe().encode(r),t=new vae;return t.update(e),new Uint8Array(t.digest())}function D8(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new cp([t,n],0),new cp([i,o],0)]}class SB{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ew(`Invalid padding: ${t}`);if(n<0)throw new Ew(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ew(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Ew(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=cp.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(cp.fromNumber(n)));return i.compare(tUe)===1&&(i=new cp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=O8(e),[n,i]=D8(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(n,i,o);if(!this.de(s))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new SB(o,i,t);return n.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const t=O8(e),[n,i]=D8(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(n,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ew extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,a_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new fF(It.min(),i,new yr(yn),Fc(),rn())}}class a_{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new a_(n,t,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class Yae{constructor(e,t){this.targetId=e,this.me=t}}class qae{constructor(e,t,n=Vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class A8{constructor(){this.fe=0,this.ge=I8(),this.pe=Vi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rn(),t=rn(),n=rn();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Pt()}}),new a_(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=I8()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,In(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nUe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fc(),this.qe=x8(),this.Qe=new yr(yn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const o=i.target;if(gV(o))if(n===0){const s=new ft(o.path);this.Ue(t,s,ao.newNoDocument(s,It.min()))}else In(n===1);else{const s=this.Ye(t);if(s!==n){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Ip(n).toUint8Array()}catch(l){if(l instanceof Tae)return Rv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new SB(s,i,o)}catch(l){return Rv(l instanceof Ew?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&gV(a.target)){const l=new ft(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,ao.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let n=rn();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new fF(e,t,this.Qe,this.ke,n);return this.ke=Fc(),this.qe=x8(),this.Qe=new yr(yn),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new A8,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ni(yn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||et("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new A8),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function x8(){return new yr(ft.comparator)}function I8(){return new yr(ft.comparator)}const rUe={asc:"ASCENDING",desc:"DESCENDING"},iUe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oUe={and:"AND",or:"OR"};class sUe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vV(r,e){return r.useProto3Json||aF(e)?e:{value:e}}function fA(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qae(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aUe(r,e){return fA(r,e.toTimestamp())}function Eu(r){return In(!!r),It.fromTimestamp(function(t){const n=Fh(t);return new si(n.seconds,n.nanos)}(r))}function EB(r,e){return yV(r,e).canonicalString()}function yV(r,e){const t=function(i){return new rr(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Xae(r){const e=rr.fromString(r);return In(nle(e)),e}function CV(r,e){return EB(r.databaseId,e.path)}function k0(r,e){const t=Xae(e);if(t.get(1)!==r.databaseId.projectId)throw new je(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new je(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ft(Zae(t))}function Jae(r,e){return EB(r.databaseId,e)}function lUe(r){const e=Xae(r);return e.length===4?rr.emptyPath():Zae(e)}function wV(r){return new rr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Zae(r){return In(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function F8(r,e,t){return{name:CV(r,e),fields:t.value.mapValue.fields}}function uUe(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Pt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(In(c===void 0||typeof c=="string"),Vi.fromBase64String(c||"")):(In(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Vi.fromUint8Array(c||new Uint8Array))}(r,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?ve.UNKNOWN:Kae(u.code);return new je(c,u.message||"")}(s);t=new qae(n,i,o,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=k0(r,n.document.name),o=Eu(n.document.updateTime),s=n.document.createTime?Eu(n.document.createTime):It.min(),a=new Xo({mapValue:{fields:n.document.fields}}),l=ao.newFoundDocument(i,o,s,a),u=n.targetIds||[],c=n.removedTargetIds||[];t=new cP(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=k0(r,n.document),o=n.readTime?Eu(n.readTime):It.min(),s=ao.newNoDocument(i,o),a=n.removedTargetIds||[];t=new cP([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=k0(r,n.document),o=n.removedTargetIds||[];t=new cP([],o,i,null)}else{if(!("filter"in e))return Pt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new JWe(i,o),a=n.targetId;t=new Yae(a,s)}}return t}function cUe(r,e){let t;if(e instanceof s_)t={update:F8(r,e.key,e.value)};else if(e instanceof CB)t={delete:CV(r,e.key)};else if(e instanceof Yh)t={update:F8(r,e.key,e.data),updateMask:CUe(e.fieldMask)};else{if(!(e instanceof qWe))return Pt();t={verify:CV(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof BS)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jS)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof WS)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hA)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Pt()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:aUe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pt()}(r,e.precondition)),t}function dUe(r,e){return r&&r.length>0?(In(e!==void 0),r.map(t=>function(i,o){let s=i.updateTime?Eu(i.updateTime):Eu(o);return s.isEqual(It.min())&&(s=Eu(o)),new zWe(s,i.transformResults||[])}(t,e))):[]}function hUe(r,e){return{documents:[Jae(r,e.path)]}}function fUe(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Jae(r,i);const o=function(u){if(u.length!==0)return tle(_l.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:am(h.field),direction:mUe(h.dir)}}(c))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=vV(r,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function pUe(r){let e=lUe(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){In(n===1);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];t.where&&(o=function(d){const h=ele(d);return h instanceof _l&&Aae(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(d){return d.map(h=>function(p){return new $S(lm(p.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(t.orderBy));let a=null;t.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,aF(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new cA(f,h)}(t.startAt));let u=null;return t.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new cA(f,h)}(t.endAt)),IWe(e,i,s,o,a,"F",l,u)}function gUe(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ele(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=lm(t.unaryFilter.field);return zr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=lm(t.unaryFilter.field);return zr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lm(t.unaryFilter.field);return zr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lm(t.unaryFilter.field);return zr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(r):r.fieldFilter!==void 0?function(t){return zr.create(lm(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return _l.create(t.compositeFilter.filters.map(n=>ele(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pt()}}(t.compositeFilter.op))}(r):Pt()}function mUe(r){return rUe[r]}function vUe(r){return iUe[r]}function yUe(r){return oUe[r]}function am(r){return{fieldPath:r.canonicalString()}}function lm(r){return Di.fromServerFormat(r.fieldPath)}function tle(r){return r instanceof zr?function(t){if(t.op==="=="){if(C8(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NAN"}};if(y8(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(C8(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NOT_NAN"}};if(y8(t.value))return{unaryFilter:{field:am(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:am(t.field),op:vUe(t.op),value:t.value}}}(r):r instanceof _l?function(t){const n=t.getFilters().map(i=>tle(i));return n.length===1?n[0]:{compositeFilter:{op:yUe(t.op),filters:n}}}(r):Pt()}function CUe(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nle(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,n,i,o=It.min(),s=It.min(),a=Vi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wUe{constructor(e){this.ct=e}}function SUe(r){const e=pUe({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dA(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EUe{constructor(){this.un=new _Ue}addToCollectionParentIndex(e,t){return this.un.add(t),Ee.resolve()}getCollectionParents(e,t){return Ee.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Ee.resolve()}deleteFieldIndex(e,t){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,t){return Ee.resolve()}getDocumentsMatchingTarget(e,t){return Ee.resolve(null)}getIndexType(e,t){return Ee.resolve(0)}getFieldIndexes(e,t){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,t){return Ee.resolve(Ih.min())}getMinOffsetFromCollectionGroup(e,t){return Ee.resolve(Ih.min())}updateCollectionGroup(e,t,n){return Ee.resolve()}updateIndexEntries(e,t){return Ee.resolve()}}class _Ue{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ni(rr.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ni(rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ov(0)}static kn(){return new Ov(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RUe{constructor(){this.changes=new wy(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ao.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ee.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bUe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TUe{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&tS(n.mutation,i,$s.empty(),si.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,rn()).next(()=>n))}getLocalViewOfDocuments(e,t,n=rn()){const i=qf();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let s=Sw();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const n=qf();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,rn()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,n,i){let o=Fc();const s=eS(),a=function(){return eS()}();return t.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yh)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),tS(c.mutation,u,c.mutation.getFieldMask(),si.now())):s.set(u.key,$s.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),t.forEach((u,c)=>{var d;return a.set(u,new bUe(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const n=eS();let i=new yr((s,a)=>s-a),o=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let c=n.get(l)||$s.empty();c=a.applyToLocalView(u,c),n.set(l,c);const d=(i.get(a.batchId)||rn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=kae();c.forEach(h=>{if(!o.has(h)){const f=Uae(t.get(h),n.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ee.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Mae(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):Ee.resolve(qf());let a=-1,l=o;return s.next(u=>Ee.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,rn())).next(c=>({batchId:a,changes:Vae(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ft(t)).next(n=>{let i=Sw();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let s=Sw();return this.indexManager.getCollectionParents(e,o).next(a=>Ee.forEach(a,l=>{const u=function(d,h){return new Cy(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,ao.newInvalidDocument(c)))});let a=Sw();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&tS(c.mutation,u,$s.empty(),si.now()),cF(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PUe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Ee.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Eu(i.createTime)}}(t)),Ee.resolve()}getNamedQuery(e,t){return Ee.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:SUe(i.bundledQuery),readTime:Eu(i.readTime)}}(t)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OUe{constructor(){this.overlays=new yr(ft.comparator),this.Ir=new Map}getOverlay(e,t){return Ee.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qf();return Ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.ht(e,t,o)}),Ee.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(n)),Ee.resolve()}getOverlaysForCollection(e,t,n){const i=qf(),o=t.length+1,s=new ft(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new yr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let c=o.get(u.largestBatchId);c===null&&(c=qf(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=qf(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ee.resolve(a)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new XWe(t,n));let o=this.Ir.get(t);o===void 0&&(o=rn(),this.Ir.set(t,o)),this.Ir.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DUe{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.Tr=new Ni(hi.Er),this.dr=new Ni(hi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new hi(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new hi(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new ft(new rr([])),n=new hi(t,e),i=new hi(t,e+1),o=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ft(new rr([])),n=new hi(t,e),i=new hi(t,e+1);let o=rn();return this.dr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new hi(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class hi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ft.comparator(e.key,t.key)||yn(e.wr,t.wr)}static Ar(e,t){return yn(e.wr,t.wr)||ft.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AUe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ni(hi.Er)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new QWe(o,t,n,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new hi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ee.resolve(s)}lookupMutationBatch(e,t){return Ee.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),o=i<0?0:i;return Ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hi(t,0),i=new hi(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ni(yn);return t.forEach(i=>{const o=new hi(i,0),s=new hi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{n=n.add(a.wr)})}),Ee.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;ft.isDocumentKey(o)||(o=o.child(""));const s=new hi(new ft(o),0);let a=new Ni(yn);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Ee.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){In(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ee.forEach(t.mutations,i=>{const o=new hi(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new hi(t,0),i=this.br.firstAfterOrEqual(n);return Ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xUe{constructor(e){this.Mr=e,this.docs=function(){return new yr(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ee.resolve(n?n.document.mutableCopy():ao.newInvalidDocument(t))}getEntries(e,t){let n=Fc();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():ao.newInvalidDocument(i))}),Ee.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Fc();const s=t.path,a=new ft(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||fWe(hWe(c),n)<=0||(i.has(c.key)||cF(t,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Ee.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Pt()}Or(e,t){return Ee.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new IUe(this)}getSize(e){return Ee.resolve(this.size)}}class IUe extends RUe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Ee.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FUe{constructor(e){this.persistence=e,this.Nr=new wy(t=>mB(t),vB),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _B,this.targetCount=0,this.kr=Ov.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,i)=>t(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Ee.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Ov(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Ee.resolve()}updateTargetData(e,t){return this.Kn(t),Ee.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&n.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ee.waitFor(o).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Ee.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Ee.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Ee.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Ee.resolve(n)}containsKey(e,t){return Ee.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MUe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new hB(0),this.Kr=!1,this.Kr=!0,this.$r=new DUe,this.referenceDelegate=e(this),this.Ur=new FUe(this),this.indexManager=new EUe,this.remoteDocumentCache=function(i){return new xUe(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new wUe(t),this.Gr=new PUe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OUe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new AUe(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){et("MemoryPersistence","Starting transaction:",e);const i=new LUe(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return Ee.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class LUe extends gWe{constructor(e){super(),this.currentSequenceNumber=e}}class RB{constructor(e){this.persistence=e,this.Jr=new _B,this.Yr=null}static Zr(e){return new RB(e)}get Xr(){if(this.Yr)return this.Yr;throw Pt()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Ee.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Ee.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Ee.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.Xr,n=>{const i=ft.fromPath(n);return this.ei(e,i).next(o=>{o||t.removeEntry(i,It.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Ee.or([()=>Ee.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=rn(),i=rn();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new bB(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NUe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GUe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return NBe()?8:mWe(po())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new NUe;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,n,i){return n.documentReadCount<this.ji?(RC()<=un.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",sm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ee.resolve()):(RC()<=un.DEBUG&&et("QueryEngine","Query:",sm(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(RC()<=un.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",sm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Su(t))):Ee.resolve())}Yi(e,t){if(_8(t))return Ee.resolve(null);let n=Su(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=dA(t,null,"F"),n=Su(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=rn(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,dA(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,n,i){return _8(t)||i.isEqual(It.min())?Ee.resolve(null):this.Ji.getDocuments(e,n).next(o=>{const s=this.ts(t,o);return this.ns(t,s,n,i)?Ee.resolve(null):(RC()<=un.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sm(t)),this.rs(e,s,t,dWe(i,-1)).next(a=>a))})}ts(e,t){let n=new Ni(Nae(e));return t.forEach((i,o)=>{cF(e,o)&&(n=n.add(o))}),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,n){return RC()<=un.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",sm(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ih.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VUe{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new yr(yn),this._s=new wy(o=>mB(o),vB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TUe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function kUe(r,e,t,n){return new VUe(r,e,t,n)}async function rle(r,e){const t=Ft(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let l=rn();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function HUe(r,e){const t=Ft(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=Ee.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const C=u.docVersions.get(p);In(C!==null),g.version.compareTo(C)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=rn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function ile(r){const e=Ft(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function $Ue(r,e){const t=Ft(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,c.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Vi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,n)),i=i.insert(d,f),function(g,C,m){return g.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(t.Ur.updateTargetData(o,f))});let l=Fc(),u=rn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(BUe(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(It.min())){const c=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(c)}return Ee.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}function BUe(r,e,t){let n=rn(),i=rn();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let s=Fc();return t.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(It.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):et("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function jUe(r,e){const t=Ft(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function WUe(r,e){const t=Ft(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ur.getTargetData(n,e).next(o=>o?(i=o,Ee.resolve(i)):t.Ur.allocateTargetId(n).next(s=>(i=new nh(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function SV(r,e,t){const n=Ft(r),i=n.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!o_(s))throw s;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function M8(r,e,t){const n=Ft(r);let i=It.min(),o=rn();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ft(l),h=d._s.get(c);return h!==void 0?Ee.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(n,s,Su(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,t?i:It.min(),t?o:rn())).next(a=>(UUe(n,MWe(e),a),{documents:a,Ts:o})))}function UUe(r,e,t){let n=r.us.get(e)||It.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.us.set(e,n)}class L8{constructor(){this.activeTargetIds=HWe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zUe{constructor(){this.so=new L8,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new L8,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KUe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ab=null;function H0(){return Ab===null?Ab=function(){return 268435456+Math.round(2147483648*Math.random())}():Ab++,"0x"+Ab.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YUe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qUe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="WebChannelConnection";class QUe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,n,i,o,s){const a=H0(),l=this.xo(t,n.toUriEncodedString());et("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(c=>(et("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw Rv("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(t,n,i,o,s,a){return this.Mo(t,n,i,o,s)}Oo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yy}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,n){const i=YUe[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const o=H0();return new Promise((s,a)=>{const l=new yae;l.setWithCredentials(!0),l.listenOnce(Cae.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case aP.NO_ERROR:const c=l.getResponseJson();et(Qi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case aP.TIMEOUT:et(Qi,`RPC '${e}' ${o} timed out`),a(new je(ve.DEADLINE_EXCEEDED,"Request time out"));break;case aP.HTTP_ERROR:const d=l.getStatus();if(et(Qi,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(C){const m=C.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(m)>=0?m:ve.UNKNOWN}(f.status);a(new je(p,f.message))}else a(new je(ve.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(ve.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{et(Qi,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);et(Qi,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,n,15)})}Bo(e,t,n){const i=H0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Eae(),a=Sae(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const c=o.join("");et(Qi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,f=!1;const p=new qUe({Io:C=>{f?et(Qi,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(h||(et(Qi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),et(Qi,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},To:()=>d.close()}),g=(C,m,y)=>{C.listen(m,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(d,ww.EventType.OPEN,()=>{f||(et(Qi,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),g(d,ww.EventType.CLOSE,()=>{f||(f=!0,et(Qi,`RPC '${e}' stream ${i} transport closed`),p.So())}),g(d,ww.EventType.ERROR,C=>{f||(f=!0,Rv(Qi,`RPC '${e}' stream ${i} transport errored:`,C),p.So(new je(ve.UNAVAILABLE,"The operation could not be completed")))}),g(d,ww.EventType.MESSAGE,C=>{var m;if(!f){const y=C.data[0];In(!!y);const w=y,E=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(E){et(Qi,`RPC '${e}' stream ${i} received error:`,E);const P=E.status;let T=function(b){const D=Hr[b];if(D!==void 0)return Kae(D)}(P),R=E.message;T===void 0&&(T=ve.INTERNAL,R="Unknown error status: "+P+" with message "+E.message),f=!0,p.So(new je(T,R)),d.close()}else et(Qi,`RPC '${e}' stream ${i} received:`,y),p.bo(y)}}),g(a,wae.STAT_EVENT,C=>{C.stat===dV.PROXY?et(Qi,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===dV.NOPROXY&&et(Qi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function $0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(r){return new sUe(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{constructor(e,t,n=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(e,t,n,i,o,s,a,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ole(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(Ic(t.toString()),Ic("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===t&&this.P_(n,i)},n=>{e(()=>{const i=new je(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XUe extends sle{constructor(e,t,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=uUe(this.serializer,e),n=function(o){if(!("targetChange"in o))return It.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?Eu(s.readTime):It.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=wV(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=gV(l)?{documents:hUe(o,l)}:{query:fUe(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Qae(o,s.resumeToken);const u=vV(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(It.min())>0){a.readTime=fA(o,s.snapshotVersion.toTimestamp());const u=vV(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=gUe(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=wV(this.serializer),t.removeTarget=e,this.a_(t)}}class JUe extends sle{constructor(e,t,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return In(!!e.streamToken),this.lastStreamToken=e.streamToken,In(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){In(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=dUe(e.writeResults,e.commitTime),n=Eu(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=wV(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>cUe(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZUe extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new je(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,yV(t,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ve.UNKNOWN,o.toString())})}Lo(e,t,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,yV(t,n),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ve.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class e2e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ic(t),this.D_=!1):et("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2e{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{n.enqueueAndForget(async()=>{cg(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ft(l);u.L_.add(4),await l_(u),u.q_.set("Unknown"),u.L_.delete(4),await gF(u)}(this))})}),this.q_=new e2e(n,i)}}async function gF(r){if(cg(r))for(const e of r.B_)await e(!0)}async function l_(r){for(const e of r.B_)await e(!1)}function ale(r,e){const t=Ft(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),DB(t)?OB(t):Sy(t).r_()&&PB(t,e))}function TB(r,e){const t=Ft(r),n=Sy(t);t.N_.delete(e),n.r_()&&lle(t,e),t.N_.size===0&&(n.r_()?n.o_():cg(t)&&t.q_.set("Unknown"))}function PB(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sy(r).A_(e)}function lle(r,e){r.Q_.xe(e),Sy(r).R_(e)}function OB(r){r.Q_=new nUe({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Sy(r).start(),r.q_.v_()}function DB(r){return cg(r)&&!Sy(r).n_()&&r.N_.size>0}function cg(r){return Ft(r).L_.size===0}function ule(r){r.Q_=void 0}async function n2e(r){r.q_.set("Online")}async function r2e(r){r.N_.forEach((e,t)=>{PB(r,e)})}async function i2e(r,e){ule(r),DB(r)?(r.q_.M_(e),OB(r)):r.q_.set("Unknown")}async function o2e(r,e,t){if(r.q_.set("Online"),e instanceof qae&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(r,e)}catch(n){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await pA(r,n)}else if(e instanceof cP?r.Q_.Ke(e):e instanceof Yae?r.Q_.He(e):r.Q_.We(e),!t.isEqual(It.min()))try{const n=await ile(r.localStore);t.compareTo(n)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Vi.EMPTY_BYTE_STRING,c.snapshotVersion)),lle(o,l);const d=new nh(c.target,l,u,c.sequenceNumber);PB(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(r,t)}catch(n){et("RemoteStore","Failed to raise snapshot:",n),await pA(r,n)}}async function pA(r,e,t){if(!o_(e))throw e;r.L_.add(1),await l_(r),r.q_.set("Offline"),t||(t=()=>ile(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await gF(r)})}function cle(r,e){return e().catch(t=>pA(r,t,e))}async function mF(r){const e=Ft(r),t=Mh(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;s2e(e);)try{const i=await jUe(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,a2e(e,i)}catch(i){await pA(e,i)}dle(e)&&hle(e)}function s2e(r){return cg(r)&&r.O_.length<10}function a2e(r,e){r.O_.push(e);const t=Mh(r);t.r_()&&t.V_&&t.m_(e.mutations)}function dle(r){return cg(r)&&!Mh(r).n_()&&r.O_.length>0}function hle(r){Mh(r).start()}async function l2e(r){Mh(r).p_()}async function u2e(r){const e=Mh(r);for(const t of r.O_)e.m_(t.mutations)}async function c2e(r,e,t){const n=r.O_.shift(),i=wB.from(n,e,t);await cle(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await mF(r)}async function d2e(r,e){e&&Mh(r).V_&&await async function(n,i){if(function(s){return ZWe(s)&&s!==ve.ABORTED}(i.code)){const o=n.O_.shift();Mh(n).s_(),await cle(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mF(n)}}(r,e),dle(r)&&hle(r)}async function G8(r,e){const t=Ft(r);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const n=cg(t);t.L_.add(3),await l_(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await gF(t)}async function h2e(r,e){const t=Ft(r);e?(t.L_.delete(2),await gF(t)):e||(t.L_.add(2),await l_(t),t.q_.set("Unknown"))}function Sy(r){return r.K_||(r.K_=function(t,n,i){const o=Ft(t);return o.w_(),new XUe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Eo:n2e.bind(null,r),Ro:r2e.bind(null,r),mo:i2e.bind(null,r),d_:o2e.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),DB(r)?OB(r):r.q_.set("Unknown")):(await r.K_.stop(),ule(r))})),r.K_}function Mh(r){return r.U_||(r.U_=function(t,n,i){const o=Ft(t);return o.w_(),new JUe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:l2e.bind(null,r),mo:d2e.bind(null,r),f_:u2e.bind(null,r),g_:c2e.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await mF(r)):(await r.U_.stop(),r.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new wc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const s=Date.now()+n,a=new AB(e,t,s,i,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xB(r,e){if(Ic("AsyncQueue",`${e}: ${r}`),o_(r))return new je(ve.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ft.comparator(t.key,n.key):(t,n)=>ft.comparator(t.key,n.key),this.keyedMap=Sw(),this.sortedSet=new yr(this.comparator)}static emptySet(e){return new Ym(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ym)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ym;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(){this.W_=new yr(ft.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Pt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Dv{constructor(e,t,n,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Dv(e,t,Ym.emptySet(t),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uF(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2e{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class p2e{constructor(){this.queries=k8(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=Ft(t),o=i.queries;i.queries=k8(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(n)})})(this,new je(ve.ABORTED,"Firestore shutting down"))}}function k8(){return new wy(r=>Lae(r),uF)}async function IB(r,e){const t=Ft(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(n=2):(o=new f2e,n=e.J_()?0:1);try{switch(n){case 0:o.z_=await t.onListen(i,!0);break;case 1:o.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const a=xB(s,`Initialization of query '${sm(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&MB(t)}async function FB(r,e){const t=Ft(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function g2e(r,e){const t=Ft(r);let n=!1;for(const i of e){const o=i.query,s=t.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(n=!0);s.z_=i}}n&&MB(t)}function m2e(r,e,t){const n=Ft(r),i=n.queries.get(e);if(i)for(const o of i.j_)o.onError(t);n.queries.delete(e)}function MB(r){r.Y_.forEach(e=>{e.next()})}var EV,H8;(H8=EV||(EV={})).ea="default",H8.Cache="cache";class LB{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Dv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Dv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==EV.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fle{constructor(e){this.key=e}}class ple{constructor(e){this.key=e}}class v2e{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rn(),this.mutatedKeys=rn(),this.Aa=Nae(e),this.Ra=new Ym(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new V8,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=cF(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let C=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(n.track({type:3,doc:f}),C=!0):this.ga(h,f)||(n.track({type:2,doc:f}),C=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(a=!0)):!h&&f?(n.track({type:0,doc:f}),C=!0):h&&!f&&(n.track({type:1,doc:h}),C=!0,(l||u)&&(a=!0)),C&&(f?(s=s.add(f),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),n.track({type:1,doc:c})}return{Ra:s,fa:n,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(f,p){const g=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return g(f)-g(p)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Dv(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new V8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rn(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new ple(n))}),this.da.forEach(n=>{e.has(n)||t.push(new fle(n))}),t}ba(e){this.Ta=e.Ts,this.da=rn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Dv.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class y2e{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class C2e{constructor(e){this.key=e,this.va=!1}}class w2e{constructor(e,t,n,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new wy(a=>Lae(a),uF),this.Ma=new Map,this.xa=new Set,this.Oa=new yr(ft.comparator),this.Na=new Map,this.La=new _B,this.Ba={},this.ka=new Map,this.qa=Ov.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function S2e(r,e,t=!0){const n=wle(r);let i;const o=n.Fa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await gle(n,e,t,!0),i}async function E2e(r,e){const t=wle(r);await gle(t,e,!0,!1)}async function gle(r,e,t,n){const i=await WUe(r.localStore,Su(e)),o=i.targetId,s=r.sharedClientState.addLocalQueryTarget(o,t);let a;return n&&(a=await _2e(r,e,o,s==="current",i.resumeToken)),r.isPrimaryClient&&t&&ale(r.remoteStore,i),a}async function _2e(r,e,t,n,i){r.Ka=(d,h,f)=>async function(g,C,m,y){let w=C.view.ma(m);w.ns&&(w=await M8(g.localStore,C.query,!1).then(({documents:R})=>C.view.ma(R,w)));const E=y&&y.targetChanges.get(C.targetId),P=y&&y.targetMismatches.get(C.targetId)!=null,T=C.view.applyChanges(w,g.isPrimaryClient,E,P);return B8(g,C.targetId,T.wa),T.snapshot}(r,d,h,f);const o=await M8(r.localStore,e,!0),s=new v2e(e,o.Ts),a=s.ma(o.documents),l=a_.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),u=s.applyChanges(a,r.isPrimaryClient,l);B8(r,t,u.wa);const c=new y2e(e,t,s);return r.Fa.set(e,c),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),u.snapshot}async function R2e(r,e,t){const n=Ft(r),i=n.Fa.get(e),o=n.Ma.get(i.targetId);if(o.length>1)return n.Ma.set(i.targetId,o.filter(s=>!uF(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await SV(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&TB(n.remoteStore,i.targetId),_V(n,i.targetId)}).catch(i_)):(_V(n,i.targetId),await SV(n.localStore,i.targetId,!0))}async function b2e(r,e){const t=Ft(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),TB(t.remoteStore,n.targetId))}async function T2e(r,e,t){const n=F2e(r);try{const i=await function(s,a){const l=Ft(s),u=si.now(),c=a.reduce((f,p)=>f.add(p.key),rn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Fc(),g=rn();return l.cs.getEntries(f,c).next(C=>{p=C,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(C=>{d=C;const m=[];for(const y of a){const w=YWe(y,d.get(y.key).overlayedDocument);w!=null&&m.push(new Yh(y.key,w,Pae(w.value.mapValue),ss.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(C=>{h=C;const m=C.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,C.batchId,m)})}).then(()=>({batchId:h.batchId,changes:Vae(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new yr(yn)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,t),await u_(n,i.changes),await mF(n.remoteStore)}catch(i){const o=xB(i,"Failed to persist write");t.reject(o)}}async function mle(r,e){const t=Ft(r);try{const n=await $Ue(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(In(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?In(s.va):i.removedDocuments.size>0&&(In(s.va),s.va=!1))}),await u_(t,n,e)}catch(n){await i_(n)}}function $8(r,e,t){const n=Ft(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ft(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&MB(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function P2e(r,e,t){const n=Ft(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),o=i&&i.key;if(o){let s=new yr(ft.comparator);s=s.insert(o,ao.newNoDocument(o,It.min()));const a=rn().add(o),l=new fF(It.min(),new Map,new yr(yn),s,a);await mle(n,l),n.Oa=n.Oa.remove(o),n.Na.delete(e),NB(n)}else await SV(n.localStore,e,!1).then(()=>_V(n,e,t)).catch(i_)}async function O2e(r,e){const t=Ft(r),n=e.batch.batchId;try{const i=await HUe(t.localStore,e);yle(t,n,null),vle(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await u_(t,i)}catch(i){await i_(i)}}async function D2e(r,e,t){const n=Ft(r);try{const i=await function(s,a){const l=Ft(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(In(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);yle(n,e,t),vle(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await u_(n,i)}catch(i){await i_(i)}}function vle(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function yle(r,e,t){const n=Ft(r);let i=n.Ba[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function _V(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||Cle(r,n)})}function Cle(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(TB(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),NB(r))}function B8(r,e,t){for(const n of t)n instanceof fle?(r.La.addReference(n.key,e),A2e(r,n)):n instanceof ple?(et("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||Cle(r,n.key)):Pt()}function A2e(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(et("SyncEngine","New document in limbo: "+t),r.xa.add(n),NB(r))}function NB(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new ft(rr.fromString(e)),n=r.qa.next();r.Na.set(n,new C2e(t)),r.Oa=r.Oa.insert(t,n),ale(r.remoteStore,new nh(Su(lF(t.path)),n,"TargetPurposeLimboResolution",hB.oe))}}async function u_(r,e,t){const n=Ft(r),i=[],o=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{s.push(n.Ka(l,e,t).then(u=>{var c;if((u||t)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=t==null?void 0:t.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=bB.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(l,u){const c=Ft(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ee.forEach(u,h=>Ee.forEach(h.$i,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>Ee.forEach(h.Ui,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!o_(d))throw d;et("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.os.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.os=c.os.insert(h,g)}}}(n.localStore,o))}async function x2e(r,e){const t=Ft(r);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const n=await rle(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new je(ve.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await u_(t,n.hs)}}function I2e(r,e){const t=Ft(r),n=t.Na.get(e);if(n&&n.va)return rn().add(n.key);{let i=rn();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function wle(r){const e=Ft(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mle.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I2e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P2e.bind(null,e),e.Ca.d_=g2e.bind(null,e.eventManager),e.Ca.$a=m2e.bind(null,e.eventManager),e}function F2e(r){const e=Ft(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D2e.bind(null,e),e}class gA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pF(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return kUe(this.persistence,new GUe,e.initialUser,this.serializer)}Ga(e){return new MUe(RB.Zr,this.serializer)}Wa(e){return new zUe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gA.provider={build:()=>new gA};class RV{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$8(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2e.bind(null,this.syncEngine),await h2e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p2e}()}createDatastore(e){const t=pF(e.databaseInfo.databaseId),n=function(o){return new QUe(o)}(e.databaseInfo);return function(o,s,a,l){return new ZUe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,s,a){return new t2e(n,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>$8(this.syncEngine,t,0),function(){return N8.D()?new N8:new KUe}())}createSyncEngine(e,t){return function(i,o,s,a,l,u,c){const d=new w2e(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ft(i);et("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await l_(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}RV.provider={build:()=>new RV};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ic("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2e{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ro.UNAUTHENTICATED,this.clientId=Rae.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{et("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(et("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xB(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function B0(r,e){r.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await rle(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function j8(r,e){r.asyncQueue.verifyOperationInProgress();const t=await L2e(r);et("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>G8(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>G8(e.remoteStore,i)),r._onlineComponents=e}async function L2e(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await B0(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Rv("Error using user provided cache. Falling back to memory cache: "+t),await B0(r,new gA)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await B0(r,new gA);return r._offlineComponents}async function Sle(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await j8(r,r._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await j8(r,new RV))),r._onlineComponents}function N2e(r){return Sle(r).then(e=>e.syncEngine)}async function mA(r){const e=await Sle(r),t=e.eventManager;return t.onListen=S2e.bind(null,e.syncEngine),t.onUnlisten=R2e.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=E2e.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=b2e.bind(null,e.syncEngine),t}function G2e(r,e,t={}){const n=new wc;return r.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new GB({next:h=>{c.Za(),s.enqueueAndForget(()=>FB(o,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new je(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new je(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new LB(lF(a.path),c,{includeMetadataChanges:!0,_a:!0});return IB(o,d)}(await mA(r),r.asyncQueue,e,t,n)),n.promise}function V2e(r,e,t={}){const n=new wc;return r.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new GB({next:h=>{c.Za(),s.enqueueAndForget(()=>FB(o,d)),h.fromCache&&l.source==="server"?u.reject(new je(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new LB(a,c,{includeMetadataChanges:!0,_a:!0});return IB(o,d)}(await mA(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ele(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(r,e,t){if(!t)throw new je(ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function k2e(r,e,t,n){if(e===!0&&n===!0)throw new je(ve.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function U8(r){if(!ft.isDocumentKey(r))throw new je(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z8(r){if(ft.isDocumentKey(r))throw new je(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vF(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pt()}function as(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new je(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vF(r);throw new je(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new je(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k2e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ele((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new je(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yF{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K8({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K8(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new nWe;switch(n.type){case"firstParty":return new sWe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new je(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=W8.get(t);n&&(et("ComponentProvider","Removing Datastore"),W8.delete(t),n.terminate())}(this),Promise.resolve()}}function H2e(r,e,t,n={}){var i;const o=(r=as(r,yF))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Rv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=ro.MOCK_USER;else{a=DBe(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new je(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ro(u)}r._authCredentials=new rWe(new _ae(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Qc(this.firestore,e,this._query)}}class lo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lo(this.firestore,e,this._key)}}class wh extends Qc{constructor(e,t,n){super(e,t,lF(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lo(this.firestore,null,new ft(e))}withConverter(e){return new wh(this.firestore,e,this._path)}}function Ayt(r,e,...t){if(r=Gr(r),_le("collection","path",e),r instanceof yF){const n=rr.fromString(e,...t);return z8(n),new wh(r,null,n)}{if(!(r instanceof lo||r instanceof wh))throw new je(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(rr.fromString(e,...t));return z8(n),new wh(r.firestore,null,n)}}function $2e(r,e,...t){if(r=Gr(r),arguments.length===1&&(e=Rae.newId()),_le("doc","path",e),r instanceof yF){const n=rr.fromString(e,...t);return U8(n),new lo(r,null,new ft(n))}{if(!(r instanceof lo||r instanceof wh))throw new je(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(rr.fromString(e,...t));return U8(n),new lo(r.firestore,r instanceof wh?r.converter:null,new ft(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ole(this,"async_queue_retry"),this.Vu=()=>{const n=$0();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=$0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=$0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new wc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!o_(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Ic("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=AB.createAndSchedule(this,e,t,n,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Pt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function q8(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Mc extends yF{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Y8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y8(e),this._firestoreClient=void 0,await e}}}function xyt(r,e){const t=typeof r=="object"?r:pae(),n=typeof r=="string"?r:"(default)",i=cB(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=PBe("firestore");o&&H2e(i,...o)}return i}function c_(r){if(r._terminated)throw new je(ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||B2e(r),r._firestoreClient}function B2e(r){var e,t,n;const i=r._freezeSettings(),o=function(a,l,u,c){return new CWe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Ele(c.experimentalLongPollingOptions),c.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new M2e(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Av(Vi.fromBase64String(e))}catch(t){throw new je(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Av(Vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new je(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new je(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new je(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2e=/^__.*__$/;class W2e{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms):new s_(e,this.data,t,this.fieldTransforms)}}class Rle{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Yh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ble(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class HB{constructor(e,t,n,i,o,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new HB(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vA(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ble(this.Cu)&&j2e.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class U2e{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||pF(e)}Qu(e,t,n,i=!1){return new HB({Cu:e,methodName:t,qu:n,path:Di.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(r){const e=r._freezeSettings(),t=pF(r._databaseId);return new U2e(r._databaseId,!!e.ignoreUndefinedProperties,t)}function $B(r,e,t,n,i,o={}){const s=r.Qu(o.merge||o.mergeFields?2:0,e,t,i);jB("Data must be an object, but it was:",s,n);const a=Ole(n,s);let l,u;if(o.merge)l=new $s(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=bV(e,d,t);if(!s.contains(h))throw new je(ve.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Ale(c,h)||c.push(h)}l=new $s(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new W2e(new Xo(a),l,u)}class wF extends CF{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wF}}class BB extends CF{_toFieldTransform(e){return new WWe(e.path,new BS)}isEqual(e){return e instanceof BB}}function Tle(r,e,t,n){const i=r.Qu(1,e,t);jB("Data must be an object, but it was:",i,n);const o=[],s=Xo.empty();ug(n,(l,u)=>{const c=WB(e,l,t);u=Gr(u);const d=i.Nu(c);if(u instanceof wF)o.push(c);else{const h=f_(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new $s(o);return new Rle(s,a,i.fieldTransforms)}function Ple(r,e,t,n,i,o){const s=r.Qu(1,e,t),a=[bV(e,n,t)],l=[i];if(o.length%2!=0)throw new je(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(bV(e,o[h])),l.push(o[h+1]);const u=[],c=Xo.empty();for(let h=a.length-1;h>=0;--h)if(!Ale(u,a[h])){const f=a[h];let p=l[h];p=Gr(p);const g=s.Nu(f);if(p instanceof wF)u.push(f);else{const C=f_(p,g);C!=null&&(u.push(f),c.set(f,C))}}const d=new $s(u);return new Rle(c,d,s.fieldTransforms)}function z2e(r,e,t,n=!1){return f_(t,r.Qu(n?4:3,e))}function f_(r,e){if(Dle(r=Gr(r)))return jB("Unsupported field value:",e,r),Ole(r,e);if(r instanceof CF)return function(n,i){if(!ble(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const a of n){let l=f_(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Gr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $We(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=si.fromDate(n);return{timestampValue:fA(i.serializer,o)}}if(n instanceof si){const o=new si(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:fA(i.serializer,o)}}if(n instanceof VB)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Av)return{bytesValue:Qae(i.serializer,n._byteString)};if(n instanceof lo){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:EB(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof kB)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return yB(a.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${vF(n)}`)}(r,e)}function Ole(r,e){const t={};return bae(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ug(r,(n,i)=>{const o=f_(i,e.Mu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function Dle(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof si||r instanceof VB||r instanceof Av||r instanceof lo||r instanceof CF||r instanceof kB)}function jB(r,e,t){if(!Dle(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=vF(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function bV(r,e,t){if((e=Gr(e))instanceof d_)return e._internalPath;if(typeof e=="string")return WB(r,e);throw vA("Field path arguments must be of type string or ",r,!1,void 0,t)}const K2e=new RegExp("[~\\*/\\[\\]]");function WB(r,e,t){if(e.search(K2e)>=0)throw vA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new d_(...e.split("."))._internalPath}catch{throw vA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function vA(r,e,t,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new je(ve.INVALID_ARGUMENT,a+r+l)}function Ale(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y2e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SF("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y2e extends xle{data(){return super.data()}}function SF(r,e){return typeof e=="string"?WB(r,e):e instanceof d_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ile(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new je(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UB{}class zB extends UB{}function Iyt(r,e,...t){let n=[];e instanceof UB&&n.push(e),n=n.concat(t),function(o){const s=o.filter(l=>l instanceof KB).length,a=o.filter(l=>l instanceof EF).length;if(s>1||s>0&&a>0)throw new je(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class EF extends zB{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new EF(e,t,n)}_apply(e){const t=this._parse(e);return Fle(e._query,t),new Qc(e.firestore,e.converter,mV(e._query,t))}_parse(e){const t=h_(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new je(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){X8(d,c);const f=[];for(const p of d)f.push(Q8(l,o,p));h={arrayValue:{values:f}}}else h=Q8(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||X8(d,c),h=z2e(a,s,d,c==="in"||c==="not-in");return zr.create(u,c,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fyt(r,e,t){const n=e,i=SF("where",r);return EF._create(i,n,t)}class KB extends UB{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new KB(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:_l.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Fle(s,l),s=mV(s,l)}(e._query,t),new Qc(e.firestore,e.converter,mV(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class YB extends zB{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new YB(e,t)}_apply(e){const t=function(i,o,s){if(i.startAt!==null)throw new je(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new je(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $S(o,s)}(e._query,this._field,this._direction);return new Qc(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Cy(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Myt(r,e="asc"){const t=e,n=SF("orderBy",r);return YB._create(n,t)}class qB extends zB{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new qB(e,t,n)}_apply(e){return new Qc(e.firestore,e.converter,dA(e._query,this._limit,this._limitType))}}function Lyt(r){return qB._create("limit",r,"F")}function Q8(r,e,t){if(typeof(t=Gr(t))=="string"){if(t==="")throw new je(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mae(e)&&t.indexOf("/")!==-1)throw new je(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(rr.fromString(t));if(!ft.isDocumentKey(n))throw new je(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return v8(r,new ft(n))}if(t instanceof lo)return v8(r,t._key);throw new je(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vF(t)}.`)}function X8(r,e){if(!Array.isArray(r)||r.length===0)throw new je(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fle(r,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new je(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q2e{convertValue(e,t="none"){switch(Fp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ip(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ug(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Pr(s.doubleValue));return new kB(o)}convertGeoPoint(e){return new VB(Pr(e.latitude),Pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pB(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(VS(e));default:return null}}convertTimestamp(e){const t=Fh(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=rr.fromString(e);In(nle(n));const i=new kS(n.get(1),n.get(3)),o=new ft(n.popFirst(5));return i.isEqual(t)||Ic(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mle extends xle{constructor(e,t,n,i,o,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(SF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class dP extends Mle{data(e={}){return super.data(e)}}class Lle{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new _w(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new dP(this._firestore,this._userDataWriter,n.key,n,new _w(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new je(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new dP(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _w(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new dP(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _w(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Q2e(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Q2e(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nyt(r){r=as(r,lo);const e=as(r.firestore,Mc);return G2e(c_(e),r._key).then(t=>Nle(e,r,t))}class XB extends q2e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Av(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lo(this.firestore,null,t)}}function Gyt(r){r=as(r,Qc);const e=as(r.firestore,Mc),t=c_(e),n=new XB(e);return Ile(r._query),V2e(t,r._query).then(i=>new Lle(e,n,r,i))}function Vyt(r,e,t){r=as(r,lo);const n=as(r.firestore,Mc),i=QB(r.converter,e,t);return _F(n,[$B(h_(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,ss.none())])}function kyt(r,e,t,...n){r=as(r,lo);const i=as(r.firestore,Mc),o=h_(i);let s;return s=typeof(e=Gr(e))=="string"||e instanceof d_?Ple(o,"updateDoc",r._key,e,t,n):Tle(o,"updateDoc",r._key,e),_F(i,[s.toMutation(r._key,ss.exists(!0))])}function Hyt(r,e){const t=as(r.firestore,Mc),n=$2e(r),i=QB(r.converter,e);return _F(t,[$B(h_(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,ss.exists(!1))]).then(()=>n)}function $yt(r,...e){var t,n,i;r=Gr(r);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||q8(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(q8(e[s])){const d=e[s];e[s]=(t=d.next)===null||t===void 0?void 0:t.bind(d),e[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(r instanceof lo)u=as(r.firestore,Mc),c=lF(r._key.path),l={next:d=>{e[s]&&e[s](Nle(u,r,d))},error:e[s+1],complete:e[s+2]};else{const d=as(r,Qc);u=as(d.firestore,Mc),c=d._query;const h=new XB(u);l={next:f=>{e[s]&&e[s](new Lle(u,h,d,f))},error:e[s+1],complete:e[s+2]},Ile(r._query)}return function(h,f,p,g){const C=new GB(g),m=new LB(f,C,p);return h.asyncQueue.enqueueAndForget(async()=>IB(await mA(h),m)),()=>{C.Za(),h.asyncQueue.enqueueAndForget(async()=>FB(await mA(h),m))}}(c_(u),c,a,l)}function _F(r,e){return function(n,i){const o=new wc;return n.asyncQueue.enqueueAndForget(async()=>T2e(await N2e(n),i,o)),o.promise}(c_(r),e)}function Nle(r,e,t){const n=t.docs.get(e._key),i=new XB(r);return new Mle(r,i,e._key,n,new _w(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2e{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=h_(e)}set(e,t,n){this._verifyNotCommitted();const i=j0(e,this._firestore),o=QB(i.converter,t,n),s=$B(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,ss.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const o=j0(e,this._firestore);let s;return s=typeof(t=Gr(t))=="string"||t instanceof d_?Ple(this._dataReader,"WriteBatch.update",o._key,t,n,i):Tle(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,ss.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=j0(e,this._firestore);return this._mutations=this._mutations.concat(new CB(t._key,ss.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function j0(r,e){if((r=Gr(r)).firestore!==e)throw new je(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Byt(){return new BB("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jyt(r){return c_(r=as(r,Mc)),new X2e(r,e=>_F(r,e))}(function(e,t=!0){(function(i){yy=i})(vy),_v(new Ap("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new Mc(new iWe(n.getProvider("auth-internal")),new lWe(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new je(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kS(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ch(h8,"4.7.3",e),Ch(h8,"4.7.3","esm2017")})();function Gle(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J2e=Gle,Vle=new n_("auth","Firebase",Gle());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new lB("@firebase/auth");function Z2e(r,...e){yA.logLevel<=un.WARN&&yA.warn(`Auth (${vy}): ${r}`,...e)}function hP(r,...e){yA.logLevel<=un.ERROR&&yA.error(`Auth (${vy}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r,...e){throw ZB(r,...e)}function fl(r,...e){return ZB(r,...e)}function JB(r,e,t){const n=Object.assign(Object.assign({},J2e()),{[e]:t});return new n_("auth","Firebase",n).create(e,{appName:r.name})}function Sh(r){return JB(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e3e(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ma(r,"argument-error"),JB(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZB(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Vle.create(r,...e)}function Et(r,e,...t){if(!r)throw ZB(e,...t)}function uc(r){const e="INTERNAL ASSERTION FAILED: "+r;throw hP(e),new Error(e)}function Lc(r,e){r||uc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function t3e(){return J8()==="http:"||J8()==="https:"}function J8(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t3e()||FBe()||"connection"in navigator)?navigator.onLine:!0}function r3e(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lc(t>e,"Short delay should be less than long delay!"),this.isMobile=ABe()||MBe()}get(){return n3e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(r,e){Lc(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kle{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;uc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;uc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;uc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3e=new p_(3e4,6e4);function dg(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function qh(r,e,t,n,i={}){return Hle(r,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const a=r_(Object.assign({key:r.config.apiKey},s)).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const u=Object.assign({method:e,headers:l},o);return IBe()||(u.referrerPolicy="no-referrer"),kle.fetch()($le(r,r.config.apiHost,t,a),u)})}async function Hle(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},i3e),e);try{const i=new a3e(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw xb(r,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xb(r,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw xb(r,"email-already-in-use",s);if(l==="USER_DISABLED")throw xb(r,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JB(r,c,u);Ma(r,c)}}catch(i){if(i instanceof qc)throw i;Ma(r,"network-request-failed",{message:String(i)})}}async function RF(r,e,t,n,i={}){const o=await qh(r,e,t,n,i);return"mfaPendingCredential"in o&&Ma(r,"multi-factor-auth-required",{_serverResponse:o}),o}function $le(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?ej(r.config,i):`${r.config.apiScheme}://${i}`}function s3e(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a3e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(fl(this.auth,"network-request-failed")),o3e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xb(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=fl(r,e,n);return i.customData._tokenResponse=t,i}function Z8(r){return r!==void 0&&r.enterprise!==void 0}class l3e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return s3e(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function u3e(r,e){return qh(r,"GET","/v2/recaptchaConfig",dg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3e(r,e){return qh(r,"POST","/v1/accounts:delete",e)}async function Ble(r,e){return qh(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d3e(r,e=!1){const t=Gr(r),n=await t.getIdToken(e),i=tj(n);Et(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:nS(W0(i.auth_time)),issuedAtTime:nS(W0(i.iat)),expirationTime:nS(W0(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function W0(r){return Number(r)*1e3}function tj(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return hP("JWT malformed, contained fewer than 3 sections"),null;try{const i=lae(t);return i?JSON.parse(i):(hP("Failed to decode base64 JWT payload"),null)}catch(i){return hP("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e7(r){const e=tj(r);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function US(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof qc&&h3e(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function h3e({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nS(this.lastLoginAt),this.creationTime=nS(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(r){var e;const t=r.auth,n=await r.getIdToken(),i=await US(r,Ble(t,{idToken:n}));Et(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jle(o.providerUserInfo):[],a=g3e(r.providerData,s),l=r.isAnonymous,u=!(r.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new PV(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(r,d)}async function p3e(r){const e=Gr(r);await CA(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g3e(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function jle(r){return r.map(e=>{var{providerId:t}=e,n=UE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3e(r,e){const t=await Hle(r,{},async()=>{const n=r_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,s=$le(r,i,"/v1/token",`key=${o}`),a=await r._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kle.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v3e(r,e){return qh(r,"POST","/v2/accounts:revokeToken",dg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e7(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const t=e7(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await m3e(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,s=new qm;return n&&(Et(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Et(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Et(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qm,this.toJSON())}_performRefresh(){return uc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(r,e){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cc{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=UE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f3e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new PV(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await US(this,this.stsTokenManager.getToken(this.auth,e));return Et(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return d3e(this,e)}reload(){return p3e(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await CA(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gu(this.auth.app))return Promise.reject(Sh(this.auth));const e=await this.getIdToken();return await US(this,c3e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,s,a,l,u,c;const d=(n=t.displayName)!==null&&n!==void 0?n:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,f=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=t.photoURL)!==null&&s!==void 0?s:void 0,g=(a=t.tenantId)!==null&&a!==void 0?a:void 0,C=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=t.createdAt)!==null&&u!==void 0?u:void 0,y=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:P,providerData:T,stsTokenManager:R}=t;Et(w&&R,e,"internal-error");const _=qm.fromJSON(this.name,R);Et(typeof w=="string",e,"internal-error"),md(d,e.name),md(h,e.name),Et(typeof E=="boolean",e,"internal-error"),Et(typeof P=="boolean",e,"internal-error"),md(f,e.name),md(p,e.name),md(g,e.name),md(C,e.name),md(m,e.name),md(y,e.name);const b=new cc({uid:w,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:_,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(b.providerData=T.map(D=>Object.assign({},D))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,t,n=!1){const i=new qm;i.updateFromServerResponse(t);const o=new cc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await CA(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];Et(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jle(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new qm;a.updateFromIdToken(n);const l=new cc({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new PV(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=new Map;function dc(r){Lc(r instanceof Function,"Expected a class definition");let e=t7.get(r);return e?(Lc(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,t7.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wle{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wle.type="NONE";const n7=Wle;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(r,e,t){return`firebase:${r}:${e}:${t}`}class Qm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=fP(this.userKey,i.apiKey,o),this.fullPersistenceKey=fP("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cc._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Qm(dc(n7),e,n);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||dc(n7);const s=fP(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=await u._get(s);if(c){const d=cc._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Qm(o,e,n):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Qm(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yle(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ule(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qle(e))return"Blackberry";if(Xle(e))return"Webos";if(zle(e))return"Safari";if((e.includes("chrome/")||Kle(e))&&!e.includes("edge/"))return"Chrome";if(qle(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Ule(r=po()){return/firefox\//i.test(r)}function zle(r=po()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kle(r=po()){return/crios\//i.test(r)}function Yle(r=po()){return/iemobile/i.test(r)}function qle(r=po()){return/android/i.test(r)}function Qle(r=po()){return/blackberry/i.test(r)}function Xle(r=po()){return/webos/i.test(r)}function nj(r=po()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function y3e(r=po()){var e;return nj(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C3e(){return LBe()&&document.documentMode===10}function Jle(r=po()){return nj(r)||qle(r)||Xle(r)||Qle(r)||/windows phone/i.test(r)||Yle(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(r,e=[]){let t;switch(r){case"Browser":t=r7(po());break;case"Worker":t=`${r7(po())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vy}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3e(r,e={}){return qh(r,"GET","/v2/passwordPolicy",dg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3e=6;class _3e{constructor(e){var t,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:E3e,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3e{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i7(this),this.idTokenSubscription=new i7(this),this.beforeStateQueue=new w3e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vle,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dc(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Qm.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ble(this,{idToken:e}),n=await cc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gu(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await CA(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r3e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gu(this.app))return Promise.reject(Sh(this));const t=e?Gr(e):null;return t&&Et(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gu(this.app)?Promise.reject(Sh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gu(this.app)?Promise.reject(Sh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S3e(this),t=new _3e(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new n_("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await v3e(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dc(e)||this._popupRedirectResolver;Et(t,this,"argument-error"),this.redirectPersistenceManager=await Qm.create(this,[dc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zle(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Z2e(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hg(r){return Gr(r)}class i7{constructor(e){this.auth=e,this.observer=null,this.addObserver=jBe(t=>this.observer=t)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bF={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b3e(r){bF=r}function eue(r){return bF.loadJS(r)}function T3e(){return bF.recaptchaEnterpriseScript}function P3e(){return bF.gapiScript}function O3e(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const D3e="recaptcha-enterprise",A3e="NO_RECAPTCHA";class x3e{constructor(e){this.type=D3e,this.auth=hg(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{u3e(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new l3e(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Z8(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(A3e)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{n(this.auth).then(a=>{if(!t&&Z8(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T3e();l.length!==0&&(l+=a),eue(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function o7(r,e,t,n=!1){const i=new x3e(r);let o;try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function s7(r,e,t,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o7(r,e,t,t==="getOobCode");return n(r,o)}else return n(r,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await o7(r,e,t,t==="getOobCode");return n(r,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3e(r,e){const t=cB(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(aA(o,e??{}))return i;Ma(i,"already-initialized")}return t.initialize({options:e})}function F3e(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(dc);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function M3e(r,e,t){const n=hg(r);Et(n._canInitEmulator,n,"emulator-config-failed"),Et(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=tue(e),{host:s,port:a}=L3e(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),N3e()}function tue(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function L3e(r){const e=tue(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:a7(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:a7(s)}}}function a7(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function N3e(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return uc("not implemented")}_getIdTokenResponse(e){return uc("not implemented")}_linkToIdToken(e,t){return uc("not implemented")}_getReauthenticationResolver(e){return uc("not implemented")}}async function G3e(r,e){return qh(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3e(r,e){return RF(r,"POST","/v1/accounts:signInWithPassword",dg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3e(r,e){return RF(r,"POST","/v1/accounts:signInWithEmailLink",dg(r,e))}async function H3e(r,e){return RF(r,"POST","/v1/accounts:signInWithEmailLink",dg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends rj{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zS(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zS(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s7(e,t,"signInWithPassword",V3e);case"emailLink":return k3e(e,{email:this._email,oobCode:this._password});default:Ma(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s7(e,n,"signUpPassword",G3e);case"emailLink":return H3e(e,{idToken:t,email:this._email,oobCode:this._password});default:Ma(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xm(r,e){return RF(r,"POST","/v1/accounts:signInWithIdp",dg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3e="http://localhost";class Mp extends rj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ma("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=UE(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Mp(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Xm(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xm(e,t)}buildRequest(){const e={requestUri:$3e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=r_(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3e(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j3e(r){const e=yw(Cw(r)).link,t=e?yw(Cw(e)).deep_link_id:null,n=yw(Cw(r)).deep_link_id;return(n?yw(Cw(n)).link:null)||n||t||e||r}class ij{constructor(e){var t,n,i,o,s,a;const l=yw(Cw(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=B3e((i=l.mode)!==null&&i!==void 0?i:null);Et(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=j3e(e);try{return new ij(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.providerId=Ey.PROVIDER_ID}static credential(e,t){return zS._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ij.parseLink(t);return Et(n,"argument-error"),zS._fromEmailAndCode(e,n.code,n.tenantId)}}Ey.PROVIDER_ID="password";Ey.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ey.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends oj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends g_{constructor(){super("facebook.com")}static credential(e){return Mp._fromParams({providerId:Ud.PROVIDER_ID,signInMethod:Ud.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ud.credentialFromTaggedObject(e)}static credentialFromError(e){return Ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ud.credential(e.oauthAccessToken)}catch{return null}}}Ud.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ud.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends g_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mp._fromParams({providerId:zd.PROVIDER_ID,signInMethod:zd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zd.credentialFromTaggedObject(e)}static credentialFromError(e){return zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return zd.credential(t,n)}catch{return null}}}zd.GOOGLE_SIGN_IN_METHOD="google.com";zd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends g_{constructor(){super("github.com")}static credential(e){return Mp._fromParams({providerId:Kd.PROVIDER_ID,signInMethod:Kd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kd.credentialFromTaggedObject(e)}static credentialFromError(e){return Kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kd.credential(e.oauthAccessToken)}catch{return null}}}Kd.GITHUB_SIGN_IN_METHOD="github.com";Kd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends g_{constructor(){super("twitter.com")}static credential(e,t){return Mp._fromParams({providerId:Yd.PROVIDER_ID,signInMethod:Yd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yd.credentialFromTaggedObject(e)}static credentialFromError(e){return Yd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Yd.credential(t,n)}catch{return null}}}Yd.TWITTER_SIGN_IN_METHOD="twitter.com";Yd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await cc._fromIdTokenResponse(e,n,i),s=l7(n);return new xv({user:o,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=l7(n);return new xv({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function l7(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends qc{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,wA.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new wA(e,t,n,i)}}function nue(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wA._fromErrorAndOperation(r,o,e,n):o})}async function W3e(r,e,t=!1){const n=await US(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return xv._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3e(r,e,t=!1){const{auth:n}=r;if(gu(n.app))return Promise.reject(Sh(n));const i="reauthenticate";try{const o=await US(r,nue(n,i,e,r),t);Et(o.idToken,n,"internal-error");const s=tj(o.idToken);Et(s,n,"internal-error");const{sub:a}=s;return Et(r.uid===a,n,"user-mismatch"),xv._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ma(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rue(r,e,t=!1){if(gu(r.app))return Promise.reject(Sh(r));const n="signIn",i=await nue(r,n,e),o=await xv._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function z3e(r,e){return rue(hg(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3e(r){const e=hg(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Wyt(r,e,t){return gu(r.app)?Promise.reject(Sh(r)):z3e(Gr(r),Ey.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&K3e(r),n})}function Y3e(r,e,t,n){return Gr(r).onIdTokenChanged(e,t,n)}function q3e(r,e,t){return Gr(r).beforeAuthStateChanged(e,t)}function Uyt(r,e,t,n){return Gr(r).onAuthStateChanged(e,t,n)}function zyt(r){return Gr(r).signOut()}const SA="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iue{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(SA,"1"),this.storage.removeItem(SA),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3e=1e3,X3e=10;class oue extends iue{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jle(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);C3e()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,X3e):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Q3e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oue.type="LOCAL";const J3e=oue;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sue extends iue{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sue.type="SESSION";const aue=sue;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3e(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new TF(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map(async u=>u(t.origin,o)),l=await Z3e(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}TF.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eze{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=sj("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(){return window}function tze(r){_u().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lue(){return typeof _u().WorkerGlobalScope<"u"&&typeof _u().importScripts=="function"}async function nze(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rze(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ize(){return lue()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uue="firebaseLocalStorageDb",oze=1,EA="firebaseLocalStorage",cue="fbase_key";class m_{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function PF(r,e){return r.transaction([EA],e?"readwrite":"readonly").objectStore(EA)}function sze(){const r=indexedDB.deleteDatabase(uue);return new m_(r).toPromise()}function OV(){const r=indexedDB.open(uue,oze);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(EA,{keyPath:cue})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(EA)?e(n):(n.close(),await sze(),e(await OV()))})})}async function u7(r,e,t){const n=PF(r,!0).put({[cue]:e,value:t});return new m_(n).toPromise()}async function aze(r,e){const t=PF(r,!1).get(e),n=await new m_(t).toPromise();return n===void 0?null:n.value}function c7(r,e){const t=PF(r,!0).delete(e);return new m_(t).toPromise()}const lze=800,uze=3;class due{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OV(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>uze)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lue()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=TF._getInstance(ize()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nze(),!this.activeServiceWorker)return;this.sender=new eze(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rze()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OV();return await u7(e,SA,"1"),await c7(e,SA),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>u7(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>aze(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>c7(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=PF(i,!1).getAll();return new m_(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lze)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}due.type="LOCAL";const cze=due;new p_(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hue(r,e){return e?dc(e):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends rj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dze(r){return rue(r.auth,new aj(r),r.bypassAuthState)}function hze(r){const{auth:e,user:t}=r;return Et(t,e,"internal-error"),U3e(t,new aj(r),r.bypassAuthState)}async function fze(r){const{auth:e,user:t}=r;return Et(t,e,"internal-error"),W3e(t,new aj(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fue{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dze;case"linkViaPopup":case"linkViaRedirect":return fze;case"reauthViaPopup":case"reauthViaRedirect":return hze;default:Ma(this.auth,"internal-error")}}resolve(e){Lc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pze=new p_(2e3,1e4);async function Kyt(r,e,t){if(gu(r.app))return Promise.reject(fl(r,"operation-not-supported-in-this-environment"));const n=hg(r);e3e(r,e,oj);const i=hue(n,t);return new Qf(n,"signInViaPopup",e,i).executeNotNull()}class Qf extends fue{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Qf.currentPopupAction&&Qf.currentPopupAction.cancel(),Qf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){Lc(this.filter.length===1,"Popup operations only handle one event");const e=sj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pze.get())};e()}}Qf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gze="pendingRedirect",pP=new Map;class mze extends fue{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=pP.get(this.auth._key());if(!e){try{const n=await vze(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}pP.set(this.auth._key(),e)}return this.bypassAuthState||pP.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vze(r,e){const t=wze(e),n=Cze(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function yze(r,e){pP.set(r._key(),e)}function Cze(r){return dc(r._redirectPersistence)}function wze(r){return fP(gze,r.config.apiKey,r.name)}async function Sze(r,e,t=!1){if(gu(r.app))return Promise.reject(Sh(r));const n=hg(r),i=hue(n,e),s=await new mze(n,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eze=10*60*1e3;class _ze{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rze(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pue(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(fl(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Eze&&this.cachedEventUids.clear(),this.cachedEventUids.has(d7(e))}saveEventToCache(e){this.cachedEventUids.add(d7(e)),this.lastProcessedEventTime=Date.now()}}function d7(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function pue({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rze(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pue(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bze(r,e={}){return qh(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tze=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pze=/^https?/;async function Oze(r){if(r.config.emulator)return;const{authorizedDomains:e}=await bze(r);for(const t of e)try{if(Dze(t))return}catch{}Ma(r,"unauthorized-domain")}function Dze(r){const e=TV(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!Pze.test(t))return!1;if(Tze.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aze=new p_(3e4,6e4);function h7(){const r=_u().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function xze(r){return new Promise((e,t)=>{var n,i,o;function s(){h7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{h7(),t(fl(r,"network-request-failed"))},timeout:Aze.get()})}if(!((i=(n=_u().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_u().gapi)===null||o===void 0)&&o.load)s();else{const a=O3e("iframefcb");return _u()[a]=()=>{gapi.load?s():t(fl(r,"network-request-failed"))},eue(`${P3e()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw gP=null,e})}let gP=null;function Ize(r){return gP=gP||xze(r),gP}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fze=new p_(5e3,15e3),Mze="__/auth/iframe",Lze="emulator/auth/iframe",Nze={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gze=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vze(r){const e=r.config;Et(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ej(e,Lze):`https://${r.config.authDomain}/${Mze}`,n={apiKey:e.apiKey,appName:r.name,v:vy},i=Gze.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${r_(n).slice(1)}`}async function kze(r){const e=await Ize(r),t=_u().gapi;return Et(t,r,"internal-error"),e.open({where:document.body,url:Vze(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nze,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=fl(r,"network-request-failed"),a=_u().setTimeout(()=>{o(s)},Fze.get());function l(){_u().clearTimeout(a),i(n)}n.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hze={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$ze=500,Bze=600,jze="_blank",Wze="http://localhost";class f7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uze(r,e,t,n=$ze,i=Bze){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Hze),{width:n.toString(),height:i.toString(),top:o,left:s}),u=po().toLowerCase();t&&(a=Kle(u)?jze:t),Ule(u)&&(e=e||Wze,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(y3e(u)&&a!=="_self")return zze(e||"",a),new f7(null);const d=window.open(e||"",a,c);Et(d,r,"popup-blocked");try{d.focus()}catch{}return new f7(d)}function zze(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kze="__/auth/handler",Yze="emulator/auth/handler",qze=encodeURIComponent("fac");async function p7(r,e,t,n,i,o){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:vy,eventId:i};if(e instanceof oj){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",BBe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof g_){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}r.tenantId&&(s.tid=r.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await r._getAppCheckToken(),u=l?`#${qze}=${encodeURIComponent(l)}`:"";return`${Qze(r)}?${r_(a).slice(1)}${u}`}function Qze({config:r}){return r.emulator?ej(r,Yze):`https://${r.authDomain}/${Kze}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="webStorageSupport";class Xze{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aue,this._completeRedirectFn=Sze,this._overrideRedirectResult=yze}async _openPopup(e,t,n,i){var o;Lc((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await p7(e,t,n,TV(),i);return Uze(e,s,sj())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await p7(e,t,n,TV(),i);return tze(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Lc(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await kze(e),n=new _ze(e);return t.register("authEvent",i=>(Et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(U0,{type:U0},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[U0];s!==void 0&&t(!!s),Ma(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Oze(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Jle()||zle()||nj()}}const Jze=Xze;var g7="@firebase/auth",m7="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zze{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5e(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t5e(r){_v(new Ap("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;Et(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:a,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zle(r)},u=new R3e(n,i,o,l);return F3e(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),_v(new Ap("auth-internal",e=>{const t=hg(e.getProvider("auth").getImmediate());return(n=>new Zze(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ch(g7,m7,e5e(r)),Ch(g7,m7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5e=5*60,r5e=dae("authIdTokenMaxAge")||n5e;let v7=null;const i5e=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>r5e)return;const i=t==null?void 0:t.token;v7!==i&&(v7=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Yyt(r=pae()){const e=cB(r,"auth");if(e.isInitialized())return e.getImmediate();const t=I3e(r,{popupRedirectResolver:Jze,persistence:[cze,J3e,aue]}),n=dae("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=i5e(o.toString());q3e(t,s,()=>s(t.currentUser)),Y3e(t,a=>s(a))}}const i=uae("auth");return i&&M3e(t,`http://${i}`),t}function o5e(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}b3e({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=fl("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",o5e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t5e("Browser");var gue={exports:{}},s5e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",a5e=s5e,l5e=a5e;function mue(){}function vue(){}vue.resetWarningCache=mue;var u5e=function(){function r(n,i,o,s,a,l){if(l!==l5e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vue,resetWarningCache:mue};return t.PropTypes=t,t};gue.exports=u5e();var yue=gue.exports;const fn=hI(yue);var c5e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},d5e=Object.defineProperty,h5e=Object.defineProperties,f5e=Object.getOwnPropertyDescriptors,_A=Object.getOwnPropertySymbols,Cue=Object.prototype.hasOwnProperty,wue=Object.prototype.propertyIsEnumerable,y7=(r,e,t)=>e in r?d5e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,C7=(r,e)=>{for(var t in e||(e={}))Cue.call(e,t)&&y7(r,t,e[t]);if(_A)for(var t of _A(e))wue.call(e,t)&&y7(r,t,e[t]);return r},p5e=(r,e)=>h5e(r,f5e(e)),g5e=(r,e)=>{var t={};for(var n in r)Cue.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&_A)for(var n of _A(r))e.indexOf(n)<0&&wue.call(r,n)&&(t[n]=r[n]);return t},$t=(r,e,t)=>{const n=S.forwardRef((i,o)=>{var s=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=s,d=g5e(s,["color","size","stroke","children"]);return S.createElement("svg",C7(p5e(C7({ref:o},c5e),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${r}`}),d),[...t.map(([h,f])=>S.createElement(h,f)),...c||[]])});return n.propTypes={color:fn.string,size:fn.oneOfType([fn.string,fn.number]),stroke:fn.oneOfType([fn.string,fn.number])},n.displayName=`${e}`,n},qyt=$t("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),Qyt=$t("alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),Xyt=$t("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),Jyt=$t("bell","IconBell",[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]]),Zyt=$t("brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]),eCt=$t("brand-google","IconBrandGoogle",[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]]),tCt=$t("browser","IconBrowser",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 8l16 0",key:"svg-1"}],["path",{d:"M8 4l0 4",key:"svg-2"}]]),nCt=$t("calendar-stats","IconCalendarStats",[["path",{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4",key:"svg-0"}],["path",{d:"M18 14v4h4",key:"svg-1"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-2"}],["path",{d:"M15 3v4",key:"svg-3"}],["path",{d:"M7 3v4",key:"svg-4"}],["path",{d:"M3 11h16",key:"svg-5"}]]),rCt=$t("chart-bar","IconChartBar",[["path",{d:"M3 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 8m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M15 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20l14 0",key:"svg-3"}]]),iCt=$t("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),oCt=$t("checks","IconChecks",[["path",{d:"M7 12l5 5l10 -10",key:"svg-0"}],["path",{d:"M2 12l5 5m5 -5l5 -5",key:"svg-1"}]]),sCt=$t("coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]),aCt=$t("columns","IconColumns",[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]]),lCt=$t("database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]),uCt=$t("device-desktop","IconDeviceDesktop",[["path",{d:"M3 5a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10z",key:"svg-0"}],["path",{d:"M7 20h10",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M15 16v4",key:"svg-3"}]]),cCt=$t("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),dCt=$t("download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),hCt=$t("external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]),fCt=$t("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),pCt=$t("history","IconHistory",[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]]),gCt=$t("home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),mCt=$t("info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]),vCt=$t("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),yCt=$t("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),CCt=$t("moon-stars","IconMoonStars",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}],["path",{d:"M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-1"}],["path",{d:"M19 11h2m-1 -1v2",key:"svg-2"}]]),wCt=$t("paperclip","IconPaperclip",[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]]),SCt=$t("report-medical","IconReportMedical",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M10 14l4 0",key:"svg-2"}],["path",{d:"M12 12l0 4",key:"svg-3"}]]),ECt=$t("robot","IconRobot",[["path",{d:"M6 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]]),_Ct=$t("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),RCt=$t("stethoscope","IconStethoscope",[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]]),bCt=$t("sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]),TCt=$t("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),PCt=$t("trending-down","IconTrendingDown",[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]]),OCt=$t("trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]),DCt=$t("upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),ACt=$t("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]),xCt=$t("user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]),ICt=$t("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),FCt=$t("users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]),MCt=$t("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);const Sue=S.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),OF=S.createContext({}),DF=S.createContext(null),AF=typeof document<"u",lj=AF?S.useLayoutEffect:S.useEffect,Eue=S.createContext({strict:!1}),uj=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),m5e="framerAppearId",_ue="data-"+uj(m5e);function v5e(r,e,t,n){const{visualElement:i}=S.useContext(OF),o=S.useContext(Eue),s=S.useContext(DF),a=S.useContext(Sue).reducedMotion,l=S.useRef();n=n||o.renderer,!l.current&&n&&(l.current=n(r,{visualState:e,parent:i,props:t,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(t,s)});const c=S.useRef(!!(t[_ue]&&!window.HandoffComplete));return lj(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function Dm(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function y5e(r,e,t){return S.useCallback(n=>{n&&r.mount&&r.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Dm(t)&&(t.current=n))},[e])}function KS(r){return typeof r=="string"||Array.isArray(r)}function xF(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const cj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dj=["initial",...cj];function IF(r){return xF(r.animate)||dj.some(e=>KS(r[e]))}function Rue(r){return!!(IF(r)||r.variants)}function C5e(r,e){if(IF(r)){const{initial:t,animate:n}=r;return{initial:t===!1||KS(t)?t:void 0,animate:KS(n)?n:void 0}}return r.inherit!==!1?e:{}}function w5e(r){const{initial:e,animate:t}=C5e(r,S.useContext(OF));return S.useMemo(()=>({initial:e,animate:t}),[w7(e),w7(t)])}function w7(r){return Array.isArray(r)?r.join(" "):r}const S7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},YS={};for(const r in S7)YS[r]={isEnabled:e=>S7[r].some(t=>!!e[t])};function S5e(r){for(const e in r)YS[e]={...YS[e],...r[e]}}const hj=S.createContext({}),bue=S.createContext({}),E5e=Symbol.for("motionComponentSymbol");function _5e({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){r&&S5e(r);function o(a,l){let u;const c={...S.useContext(Sue),...a,layoutId:R5e(a)},{isStatic:d}=c,h=w5e(a),f=n(a,d);if(!d&&AF){h.visualElement=v5e(i,f,c,e);const p=S.useContext(bue),g=S.useContext(Eue).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,g,r,p))}return S.createElement(OF.Provider,{value:h},u&&h.visualElement?S.createElement(u,{visualElement:h.visualElement,...c}):null,t(i,a,y5e(f,h.visualElement,l),f,d,h.visualElement))}const s=S.forwardRef(o);return s[E5e]=i,s}function R5e({layoutId:r}){const e=S.useContext(hj).id;return e&&r!==void 0?e+"-"+r:r}function b5e(r){function e(n,i={}){return _5e(r(n,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const T5e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fj(r){return typeof r!="string"||r.includes("-")?!1:!!(T5e.indexOf(r)>-1||/[A-Z]/.test(r))}const RA={};function P5e(r){Object.assign(RA,r)}const v_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fg=new Set(v_);function Tue(r,{layout:e,layoutId:t}){return fg.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!RA[r]||r==="opacity")}const us=r=>!!(r&&r.getVelocity),O5e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D5e=v_.length;function A5e(r,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,i){let o="";for(let s=0;s<D5e;s++){const a=v_[s];if(r[a]!==void 0){const l=O5e[a]||a;o+=`${l}(${r[a]}) `}}return e&&!r.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(r,n?"":o):t&&n&&(o="none"),o}const Pue=r=>e=>typeof e=="string"&&e.startsWith(r),Oue=Pue("--"),DV=Pue("var(--"),x5e=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,I5e=(r,e)=>e&&typeof r=="number"?e.transform(r):r,Lh=(r,e,t)=>Math.min(Math.max(t,r),e),pg={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},rS={...pg,transform:r=>Lh(0,1,r)},Ib={...pg,default:1},iS=r=>Math.round(r*1e5)/1e5,FF=/(-)?([\d]*\.?[\d])+/g,Due=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,F5e=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function y_(r){return typeof r=="string"}const C_=r=>({test:e=>y_(e)&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),Fd=C_("deg"),Ru=C_("%"),yt=C_("px"),M5e=C_("vh"),L5e=C_("vw"),E7={...Ru,parse:r=>Ru.parse(r)/100,transform:r=>Ru.transform(r*100)},_7={...pg,transform:Math.round},Aue={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,size:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,rotate:Fd,rotateX:Fd,rotateY:Fd,rotateZ:Fd,scale:Ib,scaleX:Ib,scaleY:Ib,scaleZ:Ib,skew:Fd,skewX:Fd,skewY:Fd,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:rS,originX:E7,originY:E7,originZ:yt,zIndex:_7,fillOpacity:rS,strokeOpacity:rS,numOctaves:_7};function pj(r,e,t,n){const{style:i,vars:o,transform:s,transformOrigin:a}=r;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(Oue(d)){o[d]=h;continue}const f=Aue[d],p=I5e(h,f);if(fg.has(d)){if(l=!0,s[d]=p,!c)continue;h!==(f.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=p):i[d]=p}if(e.transform||(l||n?i.transform=A5e(r.transform,t,c,n):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;i.transformOrigin=`${d} ${h} ${f}`}}const gj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xue(r,e,t){for(const n in e)!us(e[n])&&!Tue(n,t)&&(r[n]=e[n])}function N5e({transformTemplate:r},e,t){return S.useMemo(()=>{const n=gj();return pj(n,e,{enableHardwareAcceleration:!t},r),Object.assign({},n.vars,n.style)},[e])}function G5e(r,e,t){const n=r.style||{},i={};return xue(i,n,r),Object.assign(i,N5e(r,e,t)),r.transformValues?r.transformValues(i):i}function V5e(r,e,t){const n={},i=G5e(r,e,t);return r.drag&&r.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(n.tabIndex=0),n.style=i,n}const k5e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bA(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||k5e.has(r)}let Iue=r=>!bA(r);function H5e(r){r&&(Iue=e=>e.startsWith("on")?!bA(e):r(e))}try{H5e(require("@emotion/is-prop-valid").default)}catch{}function $5e(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(Iue(i)||t===!0&&bA(i)||!e&&!bA(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function R7(r,e,t){return typeof r=="string"?r:yt.transform(e+t*r)}function B5e(r,e,t){const n=R7(e,r.x,r.width),i=R7(t,r.y,r.height);return`${n} ${i}`}const j5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},W5e={offset:"strokeDashoffset",array:"strokeDasharray"};function U5e(r,e,t=1,n=0,i=!0){r.pathLength=1;const o=i?j5e:W5e;r[o.offset]=yt.transform(-n);const s=yt.transform(e),a=yt.transform(t);r[o.array]=`${s} ${a}`}function mj(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(pj(r,u,c,h),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:f,style:p,dimensions:g}=r;f.transform&&(g&&(p.transform=f.transform),delete f.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=B5e(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),n!==void 0&&(f.scale=n),s!==void 0&&U5e(f,s,a,l,!1)}const Fue=()=>({...gj(),attrs:{}}),vj=r=>typeof r=="string"&&r.toLowerCase()==="svg";function z5e(r,e,t,n){const i=S.useMemo(()=>{const o=Fue();return mj(o,e,{enableHardwareAcceleration:!1},vj(n),r.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(r.style){const o={};xue(o,r.style,r),i.style={...o,...i.style}}return i}function K5e(r=!1){return(t,n,i,{latestValues:o},s)=>{const l=(fj(t)?z5e:V5e)(n,o,s,t),c={...$5e(n,typeof t=="string",r),...l,ref:i},{children:d}=n,h=S.useMemo(()=>us(d)?d.get():d,[d]);return S.createElement(t,{...c,children:h})}}function Mue(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const o in t)r.style.setProperty(o,t[o])}const Lue=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nue(r,e,t,n){Mue(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(Lue.has(i)?i:uj(i),e.attrs[i])}function yj(r,e){const{style:t}=r,n={};for(const i in t)(us(t[i])||e.style&&us(e.style[i])||Tue(i,r))&&(n[i]=t[i]);return n}function Gue(r,e){const t=yj(r,e);for(const n in r)if(us(r[n])||us(e[n])){const i=v_.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;t[i]=r[n]}return t}function Cj(r,e,t,n={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),e}function Vue(r){const e=S.useRef(null);return e.current===null&&(e.current=r()),e.current}const TA=r=>Array.isArray(r),Y5e=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),q5e=r=>TA(r)?r[r.length-1]||0:r;function mP(r){const e=us(r)?r.get():r;return Y5e(e)?e.toValue():e}function Q5e({scrapeMotionValuesFromProps:r,createRenderState:e,onMount:t},n,i,o){const s={latestValues:X5e(n,i,o,r),renderState:e()};return t&&(s.mount=a=>t(n,a,s)),s}const kue=r=>(e,t)=>{const n=S.useContext(OF),i=S.useContext(DF),o=()=>Q5e(r,e,n,i);return t?o():Vue(o)};function X5e(r,e,t,n){const i={},o=n(r,{});for(const h in o)i[h]=mP(o[h]);let{initial:s,animate:a}=r;const l=IF(r),u=Rue(r);e&&u&&!l&&r.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const d=c?a:s;return d&&typeof d!="boolean"&&!xF(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const p=Cj(r,f);if(!p)return;const{transitionEnd:g,transition:C,...m}=p;for(const y in m){let w=m[y];if(Array.isArray(w)){const E=c?w.length-1:0;w=w[E]}w!==null&&(i[y]=w)}for(const y in g)i[y]=g[y]}),i}const Ir=r=>r;class b7{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function J5e(r){let e=new b7,t=new b7,n=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,h=d?e:t;return u&&s.add(l),h.add(l)&&d&&i&&(n=e.order.length),l},cancel:l=>{t.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),s.has(c)&&(a.schedule(c),r())}i=!1,o&&(o=!1,a.process(l))}};return a}const Fb=["prepare","read","update","preRender","render","postRender"],Z5e=40;function e4e(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Fb.reduce((d,h)=>(d[h]=J5e(()=>t=!0),d),{}),s=d=>o[d].process(i),a=()=>{const d=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(d-i.timestamp,Z5e),1),i.timestamp=d,i.isProcessing=!0,Fb.forEach(s),i.isProcessing=!1,t&&e&&(n=!1,r(a))},l=()=>{t=!0,n=!0,i.isProcessing||r(a)};return{schedule:Fb.reduce((d,h)=>{const f=o[h];return d[h]=(p,g=!1,C=!1)=>(t||l(),f.schedule(p,g,C)),d},{}),cancel:d=>Fb.forEach(h=>o[h].cancel(d)),state:i,steps:o}}const{schedule:Qn,cancel:Nc,state:no,steps:z0}=e4e(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0),t4e={useVisualState:kue({scrapeMotionValuesFromProps:Gue,createRenderState:Fue,onMount:(r,e,{renderState:t,latestValues:n})=>{Qn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Qn.render(()=>{mj(t,n,{enableHardwareAcceleration:!1},vj(e.tagName),r.transformTemplate),Nue(e,t)})}})},n4e={useVisualState:kue({scrapeMotionValuesFromProps:yj,createRenderState:gj})};function r4e(r,{forwardMotionProps:e=!1},t,n){return{...fj(r)?t4e:n4e,preloadedFeatures:t,useRender:K5e(e),createVisualElement:n,Component:r}}function hc(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}const Hue=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function MF(r,e="page"){return{point:{x:r[e+"X"],y:r[e+"Y"]}}}const i4e=r=>e=>Hue(e)&&r(e,MF(e));function Sc(r,e,t,n){return hc(r,e,i4e(t),n)}const o4e=(r,e)=>t=>e(r(t)),Eh=(...r)=>r.reduce(o4e);function $ue(r){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=r,t):!1}}const T7=$ue("dragHorizontal"),P7=$ue("dragVertical");function Bue(r){let e=!1;if(r==="y")e=P7();else if(r==="x")e=T7();else{const t=T7(),n=P7();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function jue(){const r=Bue(!0);return r?(r(),!1):!0}class Qh{constructor(e){this.isMounted=!1,this.node=e}update(){}}function O7(r,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||jue())return;const a=r.getProps();r.animationState&&a.whileHover&&r.animationState.setActive("whileHover",e),a[n]&&Qn.update(()=>a[n](o,s))};return Sc(r.current,t,i,{passive:!r.getProps()[n]})}class s4e extends Qh{mount(){this.unmount=Eh(O7(this.node,!0),O7(this.node,!1))}unmount(){}}class a4e extends Qh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eh(hc(this.node.current,"focus",()=>this.onFocus()),hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Wue=(r,e)=>e?r===e?!0:Wue(r,e.parentElement):!1;function K0(r,e){if(!e)return;const t=new PointerEvent("pointer"+r);e(t,MF(t))}class l4e extends Qh{constructor(){super(...arguments),this.removeStartListeners=Ir,this.removeEndListeners=Ir,this.removeAccessibleListeners=Ir,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=Sc(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();Qn.update(()=>{!d&&!Wue(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),s=Sc(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Eh(o,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||K0("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Qn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=hc(this.node.current,"keyup",s),K0("down",(a,l)=>{this.startPress(a,l)})},t=hc(this.node.current,"keydown",e),n=()=>{this.isPressing&&K0("cancel",(o,s)=>this.cancelPress(o,s))},i=hc(this.node.current,"blur",n);this.removeAccessibleListeners=Eh(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Qn.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jue()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Qn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=Sc(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=hc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Eh(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const AV=new WeakMap,Y0=new WeakMap,u4e=r=>{const e=AV.get(r.target);e&&e(r)},c4e=r=>{r.forEach(u4e)};function d4e({root:r,...e}){const t=r||document;Y0.has(t)||Y0.set(t,{});const n=Y0.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(c4e,{root:r,...e})),n[i]}function h4e(r,e,t){const n=d4e(e);return AV.set(r,t),n.observe(r),()=>{AV.delete(r),n.unobserve(r)}}const f4e={some:0,all:1};class p4e extends Qh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:o}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:f4e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return h4e(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(g4e(e,t))&&this.startObserver()}unmount(){}}function g4e({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const m4e={inView:{Feature:p4e},tap:{Feature:l4e},focus:{Feature:a4e},hover:{Feature:s4e}};function Uue(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function v4e(r){const e={};return r.values.forEach((t,n)=>e[n]=t.get()),e}function y4e(r){const e={};return r.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function LF(r,e,t){const n=r.getProps();return Cj(n,e,t!==void 0?t:n.custom,v4e(r),y4e(r))}let PA=Ir;const dp=r=>r*1e3,Ec=r=>r/1e3,C4e={current:!1},zue=r=>Array.isArray(r)&&typeof r[0]=="number";function Kue(r){return!!(!r||typeof r=="string"&&Yue[r]||zue(r)||Array.isArray(r)&&r.every(Kue))}const Rw=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,Yue={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rw([0,.65,.55,1]),circOut:Rw([.55,0,1,.45]),backIn:Rw([.31,.01,.66,-.59]),backOut:Rw([.33,1.53,.69,.99])};function que(r){if(r)return zue(r)?Rw(r):Array.isArray(r)?r.map(que):Yue[r]}function w4e(r,e,t,{delay:n=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const c=que(a);return Array.isArray(c)&&(u.easing=c),r.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function S4e(r,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[n]}const Que=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,E4e=1e-7,_4e=12;function R4e(r,e,t,n,i){let o,s,a=0;do s=e+(t-e)/2,o=Que(s,n,i)-r,o>0?t=s:e=s;while(Math.abs(o)>E4e&&++a<_4e);return s}function w_(r,e,t,n){if(r===e&&t===n)return Ir;const i=o=>R4e(o,0,1,r,t);return o=>o===0||o===1?o:Que(i(o),e,n)}const b4e=w_(.42,0,1,1),T4e=w_(0,0,.58,1),Xue=w_(.42,0,.58,1),P4e=r=>Array.isArray(r)&&typeof r[0]!="number",Jue=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,Zue=r=>e=>1-r(1-e),wj=r=>1-Math.sin(Math.acos(r)),ece=Zue(wj),O4e=Jue(wj),tce=w_(.33,1.53,.69,.99),Sj=Zue(tce),D4e=Jue(Sj),A4e=r=>(r*=2)<1?.5*Sj(r):.5*(2-Math.pow(2,-10*(r-1))),D7={linear:Ir,easeIn:b4e,easeInOut:Xue,easeOut:T4e,circIn:wj,circInOut:O4e,circOut:ece,backIn:Sj,backInOut:D4e,backOut:tce,anticipate:A4e},A7=r=>{if(Array.isArray(r)){PA(r.length===4);const[e,t,n,i]=r;return w_(e,t,n,i)}else if(typeof r=="string")return PA(D7[r]!==void 0),D7[r];return r},Ej=(r,e)=>t=>!!(y_(t)&&F5e.test(t)&&t.startsWith(r)||e&&Object.prototype.hasOwnProperty.call(t,e)),nce=(r,e,t)=>n=>{if(!y_(n))return n;const[i,o,s,a]=n.match(FF);return{[r]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},x4e=r=>Lh(0,255,r),q0={...pg,transform:r=>Math.round(x4e(r))},Xf={test:Ej("rgb","red"),parse:nce("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+q0.transform(r)+", "+q0.transform(e)+", "+q0.transform(t)+", "+iS(rS.transform(n))+")"};function I4e(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const xV={test:Ej("#"),parse:I4e,transform:Xf.transform},Am={test:Ej("hsl","hue"),parse:nce("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Ru.transform(iS(e))+", "+Ru.transform(iS(t))+", "+iS(rS.transform(n))+")"},Eo={test:r=>Xf.test(r)||xV.test(r)||Am.test(r),parse:r=>Xf.test(r)?Xf.parse(r):Am.test(r)?Am.parse(r):xV.parse(r),transform:r=>y_(r)?r:r.hasOwnProperty("red")?Xf.transform(r):Am.transform(r)},fr=(r,e,t)=>-t*r+t*e+r;function Q0(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function F4e({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,o=0,s=0;if(!e)i=o=s=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=Q0(l,a,r+1/3),o=Q0(l,a,r),s=Q0(l,a,r-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:n}}const X0=(r,e,t)=>{const n=r*r;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},M4e=[xV,Xf,Am],L4e=r=>M4e.find(e=>e.test(r));function x7(r){const e=L4e(r);let t=e.parse(r);return e===Am&&(t=F4e(t)),t}const rce=(r,e)=>{const t=x7(r),n=x7(e),i={...t};return o=>(i.red=X0(t.red,n.red,o),i.green=X0(t.green,n.green,o),i.blue=X0(t.blue,n.blue,o),i.alpha=fr(t.alpha,n.alpha,o),Xf.transform(i))};function N4e(r){var e,t;return isNaN(r)&&y_(r)&&(((e=r.match(FF))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(Due))===null||t===void 0?void 0:t.length)||0)>0}const ice={regex:x5e,countKey:"Vars",token:"${v}",parse:Ir},oce={regex:Due,countKey:"Colors",token:"${c}",parse:Eo.parse},sce={regex:FF,countKey:"Numbers",token:"${n}",parse:pg.parse};function J0(r,{regex:e,countKey:t,token:n,parse:i}){const o=r.tokenised.match(e);o&&(r["num"+t]=o.length,r.tokenised=r.tokenised.replace(e,n),r.values.push(...o.map(i)))}function OA(r){const e=r.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&J0(t,ice),J0(t,oce),J0(t,sce),t}function ace(r){return OA(r).values}function lce(r){const{values:e,numColors:t,numVars:n,tokenised:i}=OA(r),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<n?a=a.replace(ice.token,s[l]):l<n+t?a=a.replace(oce.token,Eo.transform(s[l])):a=a.replace(sce.token,iS(s[l]));return a}}const G4e=r=>typeof r=="number"?0:r;function V4e(r){const e=ace(r);return lce(r)(e.map(G4e))}const Nh={test:N4e,parse:ace,createTransformer:lce,getAnimatableNone:V4e},uce=(r,e)=>t=>`${t>0?e:r}`;function cce(r,e){return typeof r=="number"?t=>fr(r,e,t):Eo.test(r)?rce(r,e):r.startsWith("var(")?uce(r,e):hce(r,e)}const dce=(r,e)=>{const t=[...r],n=t.length,i=r.map((o,s)=>cce(o,e[s]));return o=>{for(let s=0;s<n;s++)t[s]=i[s](o);return t}},k4e=(r,e)=>{const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=cce(r[i],e[i]));return i=>{for(const o in n)t[o]=n[o](i);return t}},hce=(r,e)=>{const t=Nh.createTransformer(e),n=OA(r),i=OA(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Eh(dce(n.values,i.values),t):uce(r,e)},qS=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},I7=(r,e)=>t=>fr(r,e,t);function H4e(r){return typeof r=="number"?I7:typeof r=="string"?Eo.test(r)?rce:hce:Array.isArray(r)?dce:typeof r=="object"?k4e:I7}function $4e(r,e,t){const n=[],i=t||H4e(r[0]),o=r.length-1;for(let s=0;s<o;s++){let a=i(r[s],r[s+1]);if(e){const l=Array.isArray(e)?e[s]||Ir:e;a=Eh(l,a)}n.push(a)}return n}function fce(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const o=r.length;if(PA(o===e.length),o===1)return()=>e[0];r[0]>r[o-1]&&(r=[...r].reverse(),e=[...e].reverse());const s=$4e(e,n,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<r.length-2&&!(u<r[c+1]);c++);const d=qS(r[c],r[c+1],u);return s[c](d)};return t?u=>l(Lh(r[0],r[o-1],u)):l}function B4e(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=qS(0,e,n);r.push(fr(t,1,i))}}function j4e(r){const e=[0];return B4e(e,r.length-1),e}function W4e(r,e){return r.map(t=>t*e)}function U4e(r,e){return r.map(()=>e||Xue).splice(0,r.length-1)}function DA({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=P4e(n)?n.map(A7):A7(n),o={done:!1,value:e[0]},s=W4e(t&&t.length===e.length?t:j4e(e),r),a=fce(s,e,{ease:Array.isArray(i)?i:U4e(e,i)});return{calculatedDuration:r,next:l=>(o.value=a(l),o.done=l>=r,o)}}function pce(r,e){return e?r*(1e3/e):0}const z4e=5;function gce(r,e,t){const n=Math.max(e-z4e,0);return pce(t-r(n),e-n)}const F7=.001,K4e=.01,Y4e=10,q4e=.05,Q4e=1;function X4e({duration:r=800,bounce:e=.25,velocity:t=0,mass:n=1}){let i,o,s=1-e;s=Lh(q4e,Q4e,s),r=Lh(K4e,Y4e,Ec(r)),s<1?(i=u=>{const c=u*s,d=c*r,h=c-t,f=IV(u,s),p=Math.exp(-d);return F7-h/f*p},o=u=>{const d=u*s*r,h=d*t+t,f=Math.pow(s,2)*Math.pow(u,2)*r,p=Math.exp(-d),g=IV(Math.pow(u,2),s);return(-i(u)+F7>0?-1:1)*((h-f)*p)/g}):(i=u=>{const c=Math.exp(-u*r),d=(u-t)*r+1;return-.001+c*d},o=u=>{const c=Math.exp(-u*r),d=(t-u)*(r*r);return c*d});const a=5/r,l=Z4e(i,o,a);if(r=dp(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:r}}}const J4e=12;function Z4e(r,e,t){let n=t;for(let i=1;i<J4e;i++)n=n-r(n)/e(n);return n}function IV(r,e){return r*Math.sqrt(1-e*e)}const eKe=["duration","bounce"],tKe=["stiffness","damping","mass"];function M7(r,e){return e.some(t=>r[t]!==void 0)}function nKe(r){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!M7(r,tKe)&&M7(r,eKe)){const t=X4e(r);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function mce({keyframes:r,restDelta:e,restSpeed:t,...n}){const i=r[0],o=r[r.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=nKe({...n,velocity:-Ec(n.velocity||0)}),f=d||0,p=l/(2*Math.sqrt(a*u)),g=o-i,C=Ec(Math.sqrt(a/u)),m=Math.abs(g)<5;t||(t=m?.01:2),e||(e=m?.005:.5);let y;if(p<1){const w=IV(C,p);y=E=>{const P=Math.exp(-p*C*E);return o-P*((f+p*C*g)/w*Math.sin(w*E)+g*Math.cos(w*E))}}else if(p===1)y=w=>o-Math.exp(-C*w)*(g+(f+C*g)*w);else{const w=C*Math.sqrt(p*p-1);y=E=>{const P=Math.exp(-p*C*E),T=Math.min(w*E,300);return o-P*((f+p*C*g)*Math.sinh(T)+w*g*Math.cosh(T))/w}}return{calculatedDuration:h&&c||null,next:w=>{const E=y(w);if(h)s.done=w>=c;else{let P=f;w!==0&&(p<1?P=gce(y,w,E):P=0);const T=Math.abs(P)<=t,R=Math.abs(o-E)<=e;s.done=T&&R}return s.value=s.done?o:E,s}}}function L7({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=r[0],h={done:!1,value:d},f=_=>a!==void 0&&_<a||l!==void 0&&_>l,p=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let g=t*e;const C=d+g,m=s===void 0?C:s(C);m!==C&&(g=m-d);const y=_=>-g*Math.exp(-_/n),w=_=>m+y(_),E=_=>{const b=y(_),D=w(_);h.done=Math.abs(b)<=u,h.value=h.done?m:D};let P,T;const R=_=>{f(h.value)&&(P=_,T=mce({keyframes:[h.value,p(h.value)],velocity:gce(w,_,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return R(0),{calculatedDuration:null,next:_=>{let b=!1;return!T&&P===void 0&&(b=!0,E(_),R(_)),P!==void 0&&_>P?T.next(_-P):(!b&&E(_),h)}}}const rKe=r=>{const e=({timestamp:t})=>r(t);return{start:()=>Qn.update(e,!0),stop:()=>Nc(e),now:()=>no.isProcessing?no.timestamp:performance.now()}},N7=2e4;function G7(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<N7;)e+=t,n=r.next(e);return e>=N7?1/0:e}const iKe={decay:L7,inertia:L7,tween:DA,keyframes:DA,spring:mce};function AA({autoplay:r=!0,delay:e=0,driver:t=rKe,keyframes:n,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f=1,p=!1,g,C;const m=()=>{C=new Promise(Q=>{g=Q})};m();let y;const w=iKe[i]||DA;let E;w!==DA&&typeof n[0]!="number"&&(E=fce([0,100],n,{clamp:!1}),n=[0,100]);const P=w({...h,keyframes:n});let T;a==="mirror"&&(T=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let R="idle",_=null,b=null,D=null;P.calculatedDuration===null&&o&&(P.calculatedDuration=G7(P));const{calculatedDuration:M}=P;let G=1/0,I=1/0;M!==null&&(G=M+s,I=G*(o+1)-s);let L=0;const B=Q=>{if(b===null)return;f>0&&(b=Math.min(b,Q)),f<0&&(b=Math.min(Q-I/f,b)),_!==null?L=_:L=Math.round(Q-b)*f;const J=L-e*(f>=0?1:-1),oe=f>=0?J<0:J>I;L=Math.max(J,0),R==="finished"&&_===null&&(L=I);let re=L,ue=P;if(o){const Ge=Math.min(L,I)/G;let Ie=Math.floor(Ge),qe=Ge%1;!qe&&Ge>=1&&(qe=1),qe===1&&Ie--,Ie=Math.min(Ie,o+1),!!(Ie%2)&&(a==="reverse"?(qe=1-qe,s&&(qe-=s/G)):a==="mirror"&&(ue=T)),re=Lh(0,1,qe)*G}const Ce=oe?{done:!1,value:n[0]}:ue.next(re);E&&(Ce.value=E(Ce.value));let{done:Re}=Ce;!oe&&M!==null&&(Re=f>=0?L>=I:L<=0);const Be=_===null&&(R==="finished"||R==="running"&&Re);return d&&d(Ce.value),Be&&W(),Ce},j=()=>{y&&y.stop(),y=void 0},z=()=>{R="idle",j(),g(),m(),b=D=null},W=()=>{R="finished",c&&c(),j(),g()},H=()=>{if(p)return;y||(y=t(B));const Q=y.now();l&&l(),_!==null?b=Q-_:(!b||R==="finished")&&(b=Q),R==="finished"&&m(),D=b,_=null,R="running",y.start()};r&&H();const Y={then(Q,J){return C.then(Q,J)},get time(){return Ec(L)},set time(Q){Q=dp(Q),L=Q,_!==null||!y||f===0?_=Q:b=y.now()-Q/f},get duration(){const Q=P.calculatedDuration===null?G7(P):P.calculatedDuration;return Ec(Q)},get speed(){return f},set speed(Q){Q===f||!y||(f=Q,Y.time=Ec(L))},get state(){return R},play:H,pause:()=>{R="paused",_=L},stop:()=>{p=!0,R!=="idle"&&(R="idle",u&&u(),z())},cancel:()=>{D!==null&&B(D),z()},complete:()=>{R="finished"},sample:Q=>(b=0,B(Q))};return Y}function oKe(r){let e;return()=>(e===void 0&&(e=r()),e)}const sKe=oKe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aKe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Mb=10,lKe=2e4,uKe=(r,e)=>e.type==="spring"||r==="backgroundColor"||!Kue(e.ease);function cKe(r,e,{onUpdate:t,onComplete:n,...i}){if(!(sKe()&&aKe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(w=>{a=w})};c();let{keyframes:d,duration:h=300,ease:f,times:p}=i;if(uKe(e,i)){const w=AA({...i,repeat:0,delay:0});let E={done:!1,value:d[0]};const P=[];let T=0;for(;!E.done&&T<lKe;)E=w.sample(T),P.push(E.value),T+=Mb;p=void 0,d=P,h=T-Mb,f="linear"}const g=w4e(r.owner.current,e,d,{...i,duration:h,ease:f,times:p}),C=()=>{u=!1,g.cancel()},m=()=>{u=!0,Qn.update(C),a(),c()};return g.onfinish=()=>{u||(r.set(S4e(d,i)),n&&n(),m())},{then(w,E){return l.then(w,E)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Ir},get time(){return Ec(g.currentTime||0)},set time(w){g.currentTime=dp(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return Ec(h)},play:()=>{s||(g.play(),Nc(C))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const E=AA({...i,autoplay:!1});r.setWithVelocity(E.sample(w-Mb).value,E.sample(w).value,Mb)}m()},complete:()=>{u||g.finish()},cancel:m}}function dKe({keyframes:r,delay:e,onUpdate:t,onComplete:n}){const i=()=>(t&&t(r[r.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ir,pause:Ir,stop:Ir,then:o=>(o(),Promise.resolve()),cancel:Ir,complete:Ir});return e?AA({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const hKe={type:"spring",stiffness:500,damping:25,restSpeed:10},fKe=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),pKe={type:"keyframes",duration:.8},gKe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mKe=(r,{keyframes:e})=>e.length>2?pKe:fg.has(r)?r.startsWith("scale")?fKe(e[1]):hKe:gKe,FV=(r,e)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nh.test(e)||e==="0")&&!e.startsWith("url(")),vKe=new Set(["brightness","contrast","saturate","opacity"]);function yKe(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(FF)||[];if(!n)return r;const i=t.replace(n,"");let o=vKe.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+i+")"}const CKe=/([a-z-]*)\(.*?\)/g,MV={...Nh,getAnimatableNone:r=>{const e=r.match(CKe);return e?e.map(yKe).join(" "):r}},wKe={...Aue,color:Eo,backgroundColor:Eo,outlineColor:Eo,fill:Eo,stroke:Eo,borderColor:Eo,borderTopColor:Eo,borderRightColor:Eo,borderBottomColor:Eo,borderLeftColor:Eo,filter:MV,WebkitFilter:MV},_j=r=>wKe[r];function vce(r,e){let t=_j(r);return t!==MV&&(t=Nh),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const yce=r=>/^0[^.\s]+$/.test(r);function SKe(r){if(typeof r=="number")return r===0;if(r!==null)return r==="none"||r==="0"||yce(r)}function EKe(r,e,t,n){const i=FV(e,t);let o;Array.isArray(t)?o=[...t]:o=[null,t];const s=n.from!==void 0?n.from:r.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),SKe(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=vce(e,a)}return o}function _Ke({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Rj(r,e){return r[e]||r.default||r}const RKe={skipAnimations:!1},bj=(r,e,t,n={})=>i=>{const o=Rj(n,r)||{},s=o.delay||n.delay||0;let{elapsed:a=0}=n;a=a-dp(s);const l=EKe(e,r,t,o),u=l[0],c=l[l.length-1],d=FV(r,u),h=FV(r,c);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(_Ke(o)||(f={...f,...mKe(r,f)}),f.duration&&(f.duration=dp(f.duration)),f.repeatDelay&&(f.repeatDelay=dp(f.repeatDelay)),!d||!h||C4e.current||o.type===!1||RKe.skipAnimations)return dKe(f);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=cKe(e,r,f);if(p)return p}return AA(f)};function xA(r){return!!(us(r)&&r.add)}const Cce=r=>/^\-?\d*\.?\d+$/.test(r);function Tj(r,e){r.indexOf(e)===-1&&r.push(e)}function Pj(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class Oj{constructor(){this.subscriptions=[]}add(e){return Tj(this.subscriptions,e),()=>Pj(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bKe=r=>!isNaN(parseFloat(r));class TKe{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:s}=no;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Qn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=bKe(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Oj);const n=this.events[e].add(t);return e==="change"?()=>{n(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?pce(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Iv(r,e){return new TKe(r,e)}const wce=r=>e=>e.test(r),PKe={test:r=>r==="auto",parse:r=>r},Sce=[pg,yt,Ru,Fd,L5e,M5e,PKe],bC=r=>Sce.find(wce(r)),OKe=[...Sce,Eo,Nh],DKe=r=>OKe.find(wce(r));function AKe(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Iv(t))}function xKe(r,e){const t=LF(r,e);let{transitionEnd:n={},transition:i={},...o}=t?r.makeTargetAnimatable(t,!1):{};o={...o,...n};for(const s in o){const a=q5e(o[s]);AKe(r,s,a)}}function IKe(r,e,t){var n,i;const o=Object.keys(e).filter(a=>!r.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(n=t[l])!==null&&n!==void 0?n:r.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(Cce(c)||yce(c))?c=parseFloat(c):!DKe(c)&&Nh.test(u)&&(c=vce(l,u)),r.addValue(l,Iv(c,{owner:r})),t[l]===void 0&&(t[l]=c),c!==null&&r.setBaseTarget(l,c))}}function FKe(r,e){return e?(e[r]||e.default||e).from:void 0}function MKe(r,e,t){const n={};for(const i in r){const o=FKe(i,e);if(o!==void 0)n[i]=o;else{const s=t.getValue(i);s&&(n[i]=s.get())}}return n}function LKe({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function NKe(r,e){const t=r.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}else return t!==e}function Ece(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:s,...a}=r.makeTargetAnimatable(e);const l=r.getValue("willChange");n&&(o=n);const u=[],c=i&&r.animationState&&r.animationState.getState()[i];for(const d in a){const h=r.getValue(d),f=a[d];if(!h||f===void 0||c&&LKe(c,d))continue;const p={delay:t,elapsed:0,...Rj(o||{},d)};if(window.HandoffAppearAnimations){const m=r.getProps()[_ue];if(m){const y=window.HandoffAppearAnimations(m,d,h,Qn);y!==null&&(p.elapsed=y,p.isHandoff=!0)}}let g=!p.isHandoff&&!NKe(h,f);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(bj(d,h,f,r.shouldReduceMotion&&fg.has(d)?{type:!1}:p));const C=h.animation;xA(l)&&(l.add(d),C.then(()=>l.remove(d))),u.push(C)}return s&&Promise.all(u).then(()=>{s&&xKe(r,s)}),u}function LV(r,e,t={}){const n=LF(r,e,t.custom);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const o=n?()=>Promise.all(Ece(r,n,t)):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return GKe(r,e,u+l,c,d,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(t.delay)])}function GKe(r,e,t=0,n=0,i=1,o){const s=[],a=(r.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(r.variantChildren).sort(VKe).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(LV(u,e,{...o,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function VKe(r,e){return r.sortNodePosition(e)}function kKe(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>LV(r,o,t));n=Promise.all(i)}else if(typeof e=="string")n=LV(r,e,t);else{const i=typeof e=="function"?LF(r,e,t.custom):e;n=Promise.all(Ece(r,i,t))}return n.then(()=>r.notify("AnimationComplete",e))}const HKe=[...cj].reverse(),$Ke=cj.length;function BKe(r){return e=>Promise.all(e.map(({animation:t,options:n})=>kKe(r,t,n)))}function jKe(r){let e=BKe(r);const t=UKe();let n=!0;const i=(l,u)=>{const c=LF(r,u);if(c){const{transition:d,transitionEnd:h,...f}=c;l={...l,...f,...h}}return l};function o(l){e=l(r)}function s(l,u){const c=r.getProps(),d=r.getVariantContext(!0)||{},h=[],f=new Set;let p={},g=1/0;for(let m=0;m<$Ke;m++){const y=HKe[m],w=t[y],E=c[y]!==void 0?c[y]:d[y],P=KS(E),T=y===u?w.isActive:null;T===!1&&(g=m);let R=E===d[y]&&E!==c[y]&&P;if(R&&n&&r.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...p},!w.isActive&&T===null||!E&&!w.prevProp||xF(E)||typeof E=="boolean")continue;let b=WKe(w.prevProp,E)||y===u&&w.isActive&&!R&&P||m>g&&P,D=!1;const M=Array.isArray(E)?E:[E];let G=M.reduce(i,{});T===!1&&(G={});const{prevResolvedValues:I={}}=w,L={...I,...G},B=j=>{b=!0,f.has(j)&&(D=!0,f.delete(j)),w.needsAnimating[j]=!0};for(const j in L){const z=G[j],W=I[j];if(p.hasOwnProperty(j))continue;let H=!1;TA(z)&&TA(W)?H=!Uue(z,W):H=z!==W,H?z!==void 0?B(j):f.add(j):z!==void 0&&f.has(j)?B(j):w.protectedKeys[j]=!0}w.prevProp=E,w.prevResolvedValues=G,w.isActive&&(p={...p,...G}),n&&r.blockInitialAnimation&&(b=!1),b&&(!R||D)&&h.push(...M.map(j=>({animation:j,options:{type:y,...l}})))}if(f.size){const m={};f.forEach(y=>{const w=r.getBaseTarget(y);w!==void 0&&(m[y]=w)}),h.push({animation:m})}let C=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!r.manuallyAnimateOnMount&&(C=!1),n=!1,C?e(h):Promise.resolve()}function a(l,u,c){var d;if(t[l].isActive===u)return Promise.resolve();(d=r.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),t[l].isActive=u;const h=s(c,l);for(const f in t)t[f].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>t}}function WKe(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!Uue(e,r):!1}function wf(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UKe(){return{animate:wf(!0),whileInView:wf(),whileHover:wf(),whileTap:wf(),whileDrag:wf(),whileFocus:wf(),exit:wf()}}class zKe extends Qh{constructor(e){super(e),e.animationState||(e.animationState=jKe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),xF(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let KKe=0;class YKe extends Qh{constructor(){super(...arguments),this.id=KKe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qKe={animation:{Feature:zKe},exit:{Feature:YKe}},V7=(r,e)=>Math.abs(r-e);function QKe(r,e){const t=V7(r.x,e.x),n=V7(r.y,e.y);return Math.sqrt(t**2+n**2)}class _ce{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=eN(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=QKe(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=d,{timestamp:g}=no;this.history.push({...p,timestamp:g});const{onStart:C,onMove:m}=this.handlers;h||(C&&C(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Z0(h,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=eN(d.type==="pointercancel"?this.lastMoveEventInfo:Z0(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,C),p&&p(d,C)},!Hue(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const s=MF(e),a=Z0(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=no;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,eN(a,this.history)),this.removeListeners=Eh(Sc(this.contextWindow,"pointermove",this.handlePointerMove),Sc(this.contextWindow,"pointerup",this.handlePointerUp),Sc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nc(this.updatePoint)}}function Z0(r,e){return e?{point:e(r.point)}:r}function k7(r,e){return{x:r.x-e.x,y:r.y-e.y}}function eN({point:r},e){return{point:r,delta:k7(r,Rce(e)),offset:k7(r,XKe(e)),velocity:JKe(e,.1)}}function XKe(r){return r[0]}function Rce(r){return r[r.length-1]}function JKe(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=Rce(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>dp(e)));)t--;if(!n)return{x:0,y:0};const o=Ec(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qs(r){return r.max-r.min}function NV(r,e=0,t=.01){return Math.abs(r-e)<=t}function H7(r,e,t,n=.5){r.origin=n,r.originPoint=fr(e.min,e.max,r.origin),r.scale=Qs(t)/Qs(e),(NV(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=fr(t.min,t.max,r.origin)-r.originPoint,(NV(r.translate)||isNaN(r.translate))&&(r.translate=0)}function oS(r,e,t,n){H7(r.x,e.x,t.x,n?n.originX:void 0),H7(r.y,e.y,t.y,n?n.originY:void 0)}function $7(r,e,t){r.min=t.min+e.min,r.max=r.min+Qs(e)}function ZKe(r,e,t){$7(r.x,e.x,t.x),$7(r.y,e.y,t.y)}function B7(r,e,t){r.min=e.min-t.min,r.max=r.min+Qs(e)}function sS(r,e,t){B7(r.x,e.x,t.x),B7(r.y,e.y,t.y)}function e6e(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?fr(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?fr(t,r,n.max):Math.min(r,t)),r}function j7(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function t6e(r,{top:e,left:t,bottom:n,right:i}){return{x:j7(r.x,t,i),y:j7(r.y,e,n)}}function W7(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function n6e(r,e){return{x:W7(r.x,e.x),y:W7(r.y,e.y)}}function r6e(r,e){let t=.5;const n=Qs(r),i=Qs(e);return i>n?t=qS(e.min,e.max-n,r.min):n>i&&(t=qS(r.min,r.max-i,e.min)),Lh(0,1,t)}function i6e(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const GV=.35;function o6e(r=GV){return r===!1?r=0:r===!0&&(r=GV),{x:U7(r,"left","right"),y:U7(r,"top","bottom")}}function U7(r,e,t){return{min:z7(r,e),max:z7(r,t)}}function z7(r,e){return typeof r=="number"?r:r[e]||0}const K7=()=>({translate:0,scale:1,origin:0,originPoint:0}),xm=()=>({x:K7(),y:K7()}),Y7=()=>({min:0,max:0}),$r=()=>({x:Y7(),y:Y7()});function pa(r){return[r("x"),r("y")]}function bce({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function s6e({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function a6e(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function tN(r){return r===void 0||r===1}function VV({scale:r,scaleX:e,scaleY:t}){return!tN(r)||!tN(e)||!tN(t)}function Df(r){return VV(r)||Tce(r)||r.z||r.rotate||r.rotateX||r.rotateY}function Tce(r){return q7(r.x)||q7(r.y)}function q7(r){return r&&r!=="0%"}function IA(r,e,t){const n=r-t,i=e*n;return t+i}function Q7(r,e,t,n,i){return i!==void 0&&(r=IA(r,i,n)),IA(r,t,n)+e}function kV(r,e=0,t=1,n,i){r.min=Q7(r.min,e,t,n,i),r.max=Q7(r.max,e,t,n,i)}function Pce(r,{x:e,y:t}){kV(r.x,e.translate,e.scale,e.originPoint),kV(r.y,t.translate,t.scale,t.originPoint)}function l6e(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=t[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Im(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Pce(r,s)),n&&Df(o.latestValues)&&Im(r,o.latestValues))}e.x=X7(e.x),e.y=X7(e.y)}function X7(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function Vd(r,e){r.min=r.min+e,r.max=r.max+e}function J7(r,e,[t,n,i]){const o=e[i]!==void 0?e[i]:.5,s=fr(r.min,r.max,o);kV(r,e[t],e[n],s,e.scale)}const u6e=["x","scaleX","originX"],c6e=["y","scaleY","originY"];function Im(r,e){J7(r.x,e,u6e),J7(r.y,e,c6e)}function Oce(r,e){return bce(a6e(r.getBoundingClientRect(),e))}function d6e(r,e,t){const n=Oce(r,t),{scroll:i}=e;return i&&(Vd(n.x,i.offset.x),Vd(n.y,i.offset.y)),n}const Dce=({current:r})=>r?r.ownerDocument.defaultView:null,h6e=new WeakMap;class f6e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(MF(c,"page").point)},o=(c,d)=>{const{drag:h,dragPropagation:f,onDragStart:p}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bue(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pa(C=>{let m=this.getAxisMotionValue(C).get()||0;if(Ru.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[C];w&&(m=Qs(w)*(parseFloat(m)/100))}}this.originPoint[C]=m}),p&&Qn.update(()=>p(c,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:C}=d;if(f&&this.currentDirection===null){this.currentDirection=p6e(C),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",d.point,C),this.updateAxis("y",d.point,C),this.visualElement.render(),g&&g(c,d)},a=(c,d)=>this.stop(c,d),l=()=>pa(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _ce(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Dce(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Qn.update(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Lb(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=e6e(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&Dm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=t6e(i.layoutBox,t):this.constraints=!1,this.elastic=o6e(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=i6e(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Dm(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=d6e(n,i.root,this.visualElement.getTransformPagePoint());let s=n6e(i.layout.layoutBox,o);if(t){const a=t(s6e(s));this.hasMutatedConstraints=!!a,a&&(s=bce(a))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=pa(c=>{if(!Lb(c,t,this.currentDirection))return;let d=l[c]||{};s&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,p={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(c,p)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(bj(e,n,0,t))}stopAnimation(){pa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pa(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){pa(t=>{const{drag:n}=this.getProps();if(!Lb(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[t];o.set(e[t]-fr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Dm(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};pa(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=r6e({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pa(s=>{if(!Lb(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(fr(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;h6e.set(this.visualElement,this);const e=this.visualElement.current,t=Sc(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Dm(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const s=hc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(pa(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),t(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=GV,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Lb(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function p6e(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class g6e extends Qh{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new f6e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const Z7=r=>(e,t)=>{r&&Qn.update(()=>r(e,t))};class m6e extends Qh{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new _ce(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dce(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Z7(e),onStart:Z7(t),onMove:n,onEnd:(o,s)=>{delete this.session,i&&Qn.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Sc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function v6e(){const r=S.useContext(DF);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=r,i=S.useId();return S.useEffect(()=>n(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const vP={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eY(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const TC={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(yt.test(r))r=parseFloat(r);else return r;const t=eY(r,e.target.x),n=eY(r,e.target.y);return`${t}% ${n}%`}},y6e={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Nh.parse(r);if(i.length>5)return n;const o=Nh.createTransformer(r),s=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=fr(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class C6e extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;P5e(w6e),o&&(t.group&&t.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vP.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:o}=this.props,s=n.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==t||t===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Qn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ace(r){const[e,t]=v6e(),n=S.useContext(hj);return N.createElement(C6e,{...r,layoutGroup:n,switchLayoutGroup:S.useContext(bue),isPresent:e,safeToRemove:t})}const w6e={borderRadius:{...TC,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:TC,borderTopRightRadius:TC,borderBottomLeftRadius:TC,borderBottomRightRadius:TC,boxShadow:y6e},xce=["TopLeft","TopRight","BottomLeft","BottomRight"],S6e=xce.length,tY=r=>typeof r=="string"?parseFloat(r):r,nY=r=>typeof r=="number"||yt.test(r);function E6e(r,e,t,n,i,o){i?(r.opacity=fr(0,t.opacity!==void 0?t.opacity:1,_6e(n)),r.opacityExit=fr(e.opacity!==void 0?e.opacity:1,0,R6e(n))):o&&(r.opacity=fr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let s=0;s<S6e;s++){const a=`border${xce[s]}Radius`;let l=rY(e,a),u=rY(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||nY(l)===nY(u)?(r[a]=Math.max(fr(tY(l),tY(u),n),0),(Ru.test(u)||Ru.test(l))&&(r[a]+="%")):r[a]=u}(e.rotate||t.rotate)&&(r.rotate=fr(e.rotate||0,t.rotate||0,n))}function rY(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const _6e=Ice(0,.5,ece),R6e=Ice(.5,.95,Ir);function Ice(r,e,t){return n=>n<r?0:n>e?1:t(qS(r,e,n))}function iY(r,e){r.min=e.min,r.max=e.max}function da(r,e){iY(r.x,e.x),iY(r.y,e.y)}function oY(r,e,t,n,i){return r-=e,r=IA(r,1/t,n),i!==void 0&&(r=IA(r,1/i,n)),r}function b6e(r,e=0,t=1,n=.5,i,o=r,s=r){if(Ru.test(e)&&(e=parseFloat(e),e=fr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=fr(o.min,o.max,n);r===o&&(a-=e),r.min=oY(r.min,e,t,a,i),r.max=oY(r.max,e,t,a,i)}function sY(r,e,[t,n,i],o,s){b6e(r,e[t],e[n],e[i],e.scale,o,s)}const T6e=["x","scaleX","originX"],P6e=["y","scaleY","originY"];function aY(r,e,t,n){sY(r.x,e,T6e,t?t.x:void 0,n?n.x:void 0),sY(r.y,e,P6e,t?t.y:void 0,n?n.y:void 0)}function lY(r){return r.translate===0&&r.scale===1}function Fce(r){return lY(r.x)&&lY(r.y)}function O6e(r,e){return r.x.min===e.x.min&&r.x.max===e.x.max&&r.y.min===e.y.min&&r.y.max===e.y.max}function Mce(r,e){return Math.round(r.x.min)===Math.round(e.x.min)&&Math.round(r.x.max)===Math.round(e.x.max)&&Math.round(r.y.min)===Math.round(e.y.min)&&Math.round(r.y.max)===Math.round(e.y.max)}function uY(r){return Qs(r.x)/Qs(r.y)}class D6e{constructor(){this.members=[]}add(e){Tj(this.members,e),e.scheduleRender()}remove(e){if(Pj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cY(r,e,t){let n="";const i=r.x.translate/e.x,o=r.y.translate/e.y;if((i||o)&&(n=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:c}=t;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const s=r.x.scale*e.x,a=r.y.scale*e.y;return(s!==1||a!==1)&&(n+=`scale(${s}, ${a})`),n||"none"}const A6e=(r,e)=>r.depth-e.depth;class x6e{constructor(){this.children=[],this.isDirty=!1}add(e){Tj(this.children,e),this.isDirty=!0}remove(e){Pj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A6e),this.isDirty=!1,this.children.forEach(e)}}function I6e(r,e){const t=performance.now(),n=({timestamp:i})=>{const o=i-t;o>=e&&(Nc(n),r(o-e))};return Qn.read(n,!0),()=>Nc(n)}function F6e(r){window.MotionDebug&&window.MotionDebug.record(r)}function M6e(r){return r instanceof SVGElement&&r.tagName!=="svg"}function L6e(r,e,t){const n=us(r)?r:Iv(r);return n.start(bj("",n,e,t)),n.animation}const dY=["","X","Y","Z"],N6e={visibility:"hidden"},hY=1e3;let G6e=0;const Af={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Lce({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=G6e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Af.totalNodes=Af.resolvedTargetDeltas=Af.recalculatedProjection=0,this.nodes.forEach(H6e),this.nodes.forEach(U6e),this.nodes.forEach(z6e),this.nodes.forEach($6e),F6e(Af)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new x6e)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Oj),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M6e(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),r){let d;const h=()=>this.root.updateBlockedByResize=!1;r(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=I6e(h,250),vP.hasAnimatedSinceResize&&(vP.hasAnimatedSinceResize=!1,this.nodes.forEach(pY))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||X6e,{onLayoutAnimationStart:C,onLayoutAnimationComplete:m}=c.getProps(),y=!this.targetLayout||!Mce(this.targetLayout,p)||f,w=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const E={...Rj(g,"layout"),onPlay:C,onComplete:m};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else h||pY(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K6e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fY);return}this.isUpdating||this.nodes.forEach(j6e),this.isUpdating=!1,this.nodes.forEach(W6e),this.nodes.forEach(V6e),this.nodes.forEach(k6e),this.clearAllSnapshots();const a=performance.now();no.delta=Lh(0,1e3/60,a-no.timestamp),no.timestamp=a,no.isProcessing=!0,z0.update.process(no),z0.preRender.process(no),z0.render.process(no),no.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(B6e),this.sharedNodes.forEach(Y6e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Fce(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||Df(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),J6e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return $r();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Vd(a.x,l.offset.x),Vd(a.y,l.offset.y)),a}removeElementScroll(s){const a=$r();da(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){da(a,s);const{scroll:h}=this.root;h&&(Vd(a.x,-h.offset.x),Vd(a.y,-h.offset.y))}Vd(a.x,c.offset.x),Vd(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=$r();da(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Im(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Df(c.latestValues)&&Im(l,c.latestValues)}return Df(this.latestValues)&&Im(l,this.latestValues),l}removeTransform(s){const a=$r();da(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Df(u.latestValues))continue;VV(u.latestValues)&&u.updateSnapshot();const c=$r(),d=u.measurePageBox();da(c,d),aY(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Df(this.latestValues)&&aY(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==no.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=no.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),sS(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZKe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):da(this.target,this.layout.layoutBox),Pce(this.target,this.targetDelta)):da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),sS(this.relativeTargetOrigin,this.target,f.target),da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Af.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||VV(this.parent.latestValues)||Tce(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===no.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;da(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;l6e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=xm(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=xm(),this.projectionDeltaWithTransform=xm());const g=this.projectionTransform;oS(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=cY(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Af.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=xm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=$r(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=f!==p,C=this.getStack(),m=!C||C.members.length<=1,y=!!(g&&!m&&this.options.crossfade===!0&&!this.path.some(Q6e));this.animationProgress=0;let w;this.mixTargetDelta=E=>{const P=E/1e3;gY(d.x,s.x,P),gY(d.y,s.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sS(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q6e(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&O6e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$r()),da(w,this.relativeTarget)),g&&(this.animationValues=c,E6e(c,u,this.latestValues,P,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{vP.hasAnimatedSinceResize=!0,this.currentAnimation=L6e(0,hY,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Nce(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||$r();const d=Qs(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=Qs(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}da(a,l),Im(a,c),oS(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new D6e),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<dY.length;c++){const d="rotate"+dY[c];l[d]&&(u[d]=l[d],s.setStaticValue(d,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N6e;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=mP(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=mP(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Df(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=cY(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:f,y:p}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in RA){if(h[g]===void 0)continue;const{correct:C,applyTo:m}=RA[g],y=u.transform==="none"?h[g]:C(h[g],d);if(m){const w=m.length;for(let E=0;E<w;E++)u[m[E]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=d===this?mP(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fY),this.root.sharedNodes.clear()}}}function V6e(r){r.updateLayout()}function k6e(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:o}=r.options,s=t.source!==r.layout.source;o==="size"?pa(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],f=Qs(h);h.min=n[d].min,h.max=h.min+f}):Nce(o,t.layoutBox,n)&&pa(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],f=Qs(n[d]);h.max=h.min+f,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[d].max=r.relativeTarget[d].min+f)});const a=xm();oS(a,n,t.layoutBox);const l=xm();s?oS(l,r.applyTransform(i,!0),t.measuredBox):oS(l,n,t.layoutBox);const u=!Fce(a);let c=!1;if(!r.resumeFrom){const d=r.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const p=$r();sS(p,t.layoutBox,h.layoutBox);const g=$r();sS(g,n,f.layoutBox),Mce(p,g)||(c=!0),d.options.layoutRoot&&(r.relativeTarget=g,r.relativeTargetOrigin=p,r.relativeParent=d)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function H6e(r){Af.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function $6e(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function B6e(r){r.clearSnapshot()}function fY(r){r.clearMeasurements()}function j6e(r){r.isLayoutDirty=!1}function W6e(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function pY(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function U6e(r){r.resolveTargetDelta()}function z6e(r){r.calcProjection()}function K6e(r){r.resetRotation()}function Y6e(r){r.removeLeadSnapshot()}function gY(r,e,t){r.translate=fr(e.translate,0,t),r.scale=fr(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function mY(r,e,t,n){r.min=fr(e.min,t.min,n),r.max=fr(e.max,t.max,n)}function q6e(r,e,t,n){mY(r.x,e.x,t.x,n),mY(r.y,e.y,t.y,n)}function Q6e(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const X6e={duration:.45,ease:[.4,0,.1,1]},vY=r=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(r),yY=vY("applewebkit/")&&!vY("chrome/")?Math.round:Ir;function CY(r){r.min=yY(r.min),r.max=yY(r.max)}function J6e(r){CY(r.x),CY(r.y)}function Nce(r,e,t){return r==="position"||r==="preserve-aspect"&&!NV(uY(e),uY(t),.2)}const Z6e=Lce({attachResizeListener:(r,e)=>hc(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nN={current:void 0},Gce=Lce({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!nN.current){const r=new Z6e({});r.mount(window),r.setOptions({layoutScroll:!0}),nN.current=r}return nN.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),e9e={pan:{Feature:m6e},drag:{Feature:g6e,ProjectionNode:Gce,MeasureLayout:Ace}},t9e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n9e(r){const e=t9e.exec(r);if(!e)return[,];const[,t,n]=e;return[t,n]}function HV(r,e,t=1){const[n,i]=n9e(r);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const s=o.trim();return Cce(s)?parseFloat(s):s}else return DV(i)?HV(i,e,t+1):i}function r9e(r,{...e},t){const n=r.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),r.values.forEach(i=>{const o=i.get();if(!DV(o))return;const s=HV(o,n);s&&i.set(s)});for(const i in e){const o=e[i];if(!DV(o))continue;const s=HV(o,n);s&&(e[i]=s,t||(t={}),t[i]===void 0&&(t[i]=o))}return{target:e,transitionEnd:t}}const i9e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Vce=r=>i9e.has(r),o9e=r=>Object.keys(r).some(Vce),wY=r=>r===pg||r===yt,SY=(r,e)=>parseFloat(r.split(", ")[e]),EY=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return SY(i[1],e);{const o=n.match(/^matrix\((.+)\)$/);return o?SY(o[1],r):0}},s9e=new Set(["x","y","z"]),a9e=v_.filter(r=>!s9e.has(r));function l9e(r){const e=[];return a9e.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&r.render(),e}const Fv={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:EY(4,13),y:EY(5,14)};Fv.translateX=Fv.x;Fv.translateY=Fv.y;const u9e=(r,e,t)=>{const n=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",r.display||"block"),t.forEach(u=>{a[u]=Fv[u](n,o)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),r[u]=Fv[u](l,o)}),r},c9e=(r,e,t={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(Vce);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=r.getValue(l);if(!r.hasValue(l))return;let c=t[l],d=bC(c);const h=e[l];let f;if(TA(h)){const p=h.length,g=h[0]===null?1:0;c=h[g],d=bC(c);for(let C=g;C<p&&h[C]!==null;C++)f?PA(bC(h[C])===f):f=bC(h[C])}else f=bC(h);if(d!==f)if(wY(d)&&wY(f)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===yt&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(c===0||h===0)?c===0?u.set(f.transform(c)):e[l]=d.transform(h):(s||(o=l9e(r),s=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=u9e(e,r,a);return o.length&&o.forEach(([c,d])=>{r.getValue(c).set(d)}),r.render(),AF&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function d9e(r,e,t,n){return o9e(e)?c9e(r,e,t,n):{target:e,transitionEnd:n}}const h9e=(r,e,t,n)=>{const i=r9e(r,e,n);return e=i.target,n=i.transitionEnd,d9e(r,e,t,n)},$V={current:null},kce={current:!1};function f9e(){if(kce.current=!0,!!AF)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>$V.current=r.matches;r.addListener(e),e()}else $V.current=!1}function p9e(r,e,t){const{willChange:n}=e;for(const i in e){const o=e[i],s=t[i];if(us(o))r.addValue(i,o),xA(n)&&n.add(i);else if(us(s))r.addValue(i,Iv(o,{owner:r})),xA(n)&&n.remove(i);else if(s!==o)if(r.hasValue(i)){const a=r.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=r.getStaticValue(i);r.addValue(i,Iv(a!==void 0?a:o,{owner:r}))}}for(const i in t)e[i]===void 0&&r.removeValue(i);return e}const _Y=new WeakMap,Hce=Object.keys(YS),g9e=Hce.length,RY=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],m9e=dj.length;class v9e{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=IF(t),this.isVariantNode=Rue(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{});for(const d in c){const h=c[d];a[d]!==void 0&&us(h)&&(h.set(a[d],!1),xA(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,_Y.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),kce.current||f9e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$V.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_Y.delete(this.current),this.projection&&this.projection.unmount(),Nc(this.notifyUpdate),Nc(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=fg.has(e),i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Qn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,i,o){let s,a;for(let l=0;l<g9e;l++){const u=Hce[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:f}=YS[u];h&&(s=h),c(t)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&Dm(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<RY.length;n++){const i=RY[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=p9e(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<m9e;n++){const i=dj[n],o=this.props[i];(KS(o)||o===!1)&&(t[i]=o)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Iv(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(t=Cj(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!us(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Oj),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class $ce extends v9e{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:i},o){let s=MKe(n,e||{},this);if(i&&(t&&(t=i(t)),n&&(n=i(n)),s&&(s=i(s))),o){IKe(this,n,s);const a=h9e(this,n,s,t);t=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:t,...n}}}function y9e(r){return window.getComputedStyle(r)}class C9e extends $ce{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(fg.has(t)){const n=_j(t);return n&&n.default||0}else{const n=y9e(e),i=(Oue(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Oce(e,t)}build(e,t,n,i){pj(e,t,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return yj(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;us(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,i){Mue(e,t,n,i)}}class w9e extends $ce{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fg.has(t)){const n=_j(t);return n&&n.default||0}return t=Lue.has(t)?t:uj(t),e.getAttribute(t)}measureInstanceViewportBox(){return $r()}scrapeMotionValuesFromProps(e,t){return Gue(e,t)}build(e,t,n,i){mj(e,t,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,n,i){Nue(e,t,n,i)}mount(e){this.isSVGTag=vj(e.tagName),super.mount(e)}}const S9e=(r,e)=>fj(r)?new w9e(e,{enableHardwareAcceleration:!1}):new C9e(e,{enableHardwareAcceleration:!0}),E9e={layout:{ProjectionNode:Gce,MeasureLayout:Ace}},_9e={...qKe,...m4e,...e9e,...E9e},NCt=b5e((r,e)=>r4e(r,e,_9e,S9e));function Bce(){const r=S.useRef(!1);return lj(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function R9e(){const r=Bce(),[e,t]=S.useState(0),n=S.useCallback(()=>{r.current&&t(e+1)},[e]);return[S.useCallback(()=>Qn.postRender(n),[n]),e]}class b9e extends S.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T9e({children:r,isPresent:e}){const t=S.useId(),n=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!n.current||!o||!s)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(b9e,{isPresent:e,childRef:n,sizeRef:i},S.cloneElement(r,{ref:n}))}const rN=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=Vue(P9e),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;n&&n()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[t]);return S.useMemo(()=>{a.forEach((c,d)=>a.set(d,!1))},[t]),S.useEffect(()=>{!t&&!a.size&&n&&n()},[t]),s==="popLayout"&&(r=S.createElement(T9e,{isPresent:t},r)),S.createElement(DF.Provider,{value:u},r)};function P9e(){return new Map}function O9e(r){return S.useEffect(()=>()=>r(),[])}const xf=r=>r.key||"";function D9e(r,e){r.forEach(t=>{const n=xf(t);e.set(n,t)})}function A9e(r){const e=[];return S.Children.forEach(r,t=>{S.isValidElement(t)&&e.push(t)}),e}const GCt=({children:r,custom:e,initial:t=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=S.useContext(hj).forceRender||R9e()[0],l=Bce(),u=A9e(r);let c=u;const d=S.useRef(new Map).current,h=S.useRef(c),f=S.useRef(new Map).current,p=S.useRef(!0);if(lj(()=>{p.current=!1,D9e(u,f),h.current=c}),O9e(()=>{p.current=!0,f.clear(),d.clear()}),p.current)return S.createElement(S.Fragment,null,c.map(y=>S.createElement(rN,{key:xf(y),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:o,mode:s},y)));c=[...c];const g=h.current.map(xf),C=u.map(xf),m=g.length;for(let y=0;y<m;y++){const w=g[y];C.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return s==="wait"&&d.size&&(c=[]),d.forEach((y,w)=>{if(C.indexOf(w)!==-1)return;const E=f.get(w);if(!E)return;const P=g.indexOf(w);let T=y;if(!T){const R=()=>{d.delete(w);const _=Array.from(f.keys()).filter(b=>!C.includes(b));if(_.forEach(b=>f.delete(b)),h.current=u.filter(b=>{const D=xf(b);return D===w||_.includes(D)}),!d.size){if(l.current===!1)return;a(),n&&n()}};T=S.createElement(rN,{key:xf(E),isPresent:!1,onExitComplete:R,custom:e,presenceAffectsLayout:o,mode:s},E),d.set(w,T)}c.splice(P,0,T)}),c=c.map(y=>{const w=y.key;return d.has(w)?y:S.createElement(rN,{key:xf(y),isPresent:!0,presenceAffectsLayout:o,mode:s},y)}),S.createElement(S.Fragment,null,d.size?c:c.map(y=>S.cloneElement(y)))};function BV(r,e){return BV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},BV(r,e)}function jce(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,BV(r,e)}const bY={disabled:!1},FA=N.createContext(null);var bw="unmounted",If="exited",Ff="entering",um="entered",jV="exiting",Xc=function(r){jce(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?a?(l=If,o.appearStatus=Ff):l=um:n.unmountOnExit||n.mountOnEnter?l=bw:l=If,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===bw?{status:If}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ff&&s!==um&&(o=Ff):(s===Ff||s===um)&&(o=jV)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Ff?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===If&&this.setState({status:bw})},t.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[qT.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||bY.disabled){this.safeSetState({status:um},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ff},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:um},function(){o.props.onEntered(u,c)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:qT.findDOMNode(this);if(!o||bY.disabled){this.safeSetState({status:If},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:jV},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:If},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:qT.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===bw)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=nB(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return N.createElement(FA.Provider,{value:null},typeof s=="function"?s(i,a):N.cloneElement(N.Children.only(s),a))},e}(N.Component);Xc.contextType=FA;Xc.propTypes={};function Ug(){}Xc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ug,onEntering:Ug,onEntered:Ug,onExit:Ug,onExiting:Ug,onExited:Ug};Xc.UNMOUNTED=bw;Xc.EXITED=If;Xc.ENTERING=Ff;Xc.ENTERED=um;Xc.EXITING=jV;function x9e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Dj(r,e){var t=function(o){return e&&S.isValidElement(o)?e(o):o},n=Object.create(null);return r&&S.Children.map(r,function(i){return i}).forEach(function(i){n[i.key]=t(i)}),n}function I9e(r,e){r=r||{},e=e||{};function t(c){return c in e?e[c]:r[c]}var n=Object.create(null),i=[];for(var o in r)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(n[l])for(s=0;s<n[l].length;s++){var u=n[l][s];a[n[l][s]]=t(u)}a[l]=t(l)}for(s=0;s<i.length;s++)a[i[s]]=t(i[s]);return a}function Jf(r,e,t){return t[e]!=null?t[e]:r.props[e]}function F9e(r,e){return Dj(r.children,function(t){return S.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Jf(t,"appear",r),enter:Jf(t,"enter",r),exit:Jf(t,"exit",r)})})}function M9e(r,e,t){var n=Dj(r.children),i=I9e(e,n);return Object.keys(i).forEach(function(o){var s=i[o];if(S.isValidElement(s)){var a=o in e,l=o in n,u=e[o],c=S.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=S.cloneElement(s,{onExited:t.bind(null,s),in:!0,exit:Jf(s,"exit",r),enter:Jf(s,"enter",r)}):!l&&a&&!c?i[o]=S.cloneElement(s,{in:!1}):l&&a&&S.isValidElement(u)&&(i[o]=S.cloneElement(s,{onExited:t.bind(null,s),in:u.props.in,exit:Jf(s,"exit",r),enter:Jf(s,"enter",r)}))}}),i}var L9e=Object.values||function(r){return Object.keys(r).map(function(e){return r[e]})},N9e={component:"div",childFactory:function(e){return e}},Aj=function(r){jce(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var s=o.handleExited.bind(x9e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?F9e(i,a):M9e(i,s,a),firstRender:!1}},t.handleExited=function(i,o){var s=Dj(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=qn({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=nB(i,["component","childFactory"]),l=this.state.contextValue,u=L9e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?N.createElement(FA.Provider,{value:l},u):N.createElement(FA.Provider,{value:l},N.createElement(o,a,u))},e}(N.Component);Aj.propTypes={};Aj.defaultProps=N9e;function G9e(r,e){window.dispatchEvent(new CustomEvent(r,{detail:e}))}const V9e=typeof window<"u"?S.useLayoutEffect:S.useEffect;function k9e(r){function e(n){const i=Object.keys(n).reduce((o,s)=>(o[`${r}:${s}`]=a=>n[s](a.detail),o),{});V9e(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function t(n){return(...i)=>G9e(`${r}:${String(n)}`,i[0])}return[e,t]}const[H9e,S_]=k9e("mantine-notifications"),$9e=S_("show"),B9e=S_("hide"),j9e=S_("clean"),W9e=S_("cleanQueue"),U9e=S_("update"),E_={show:$9e,hide:B9e,clean:j9e,cleanQueue:W9e,update:U9e};function z9e([r,e],t){const n={};return r==="top"&&(n.top=t),r==="bottom"&&(n.bottom=t),e==="left"&&(n.left=t),e==="right"&&(n.right=t),e==="center"&&(n.left="50%",n.transform="translateX(-50%)"),n}var K9e=Object.defineProperty,TY=Object.getOwnPropertySymbols,Y9e=Object.prototype.hasOwnProperty,q9e=Object.prototype.propertyIsEnumerable,PY=(r,e,t)=>e in r?K9e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,OY=(r,e)=>{for(var t in e||(e={}))Y9e.call(e,t)&&PY(r,t,e[t]);if(TY)for(var t of TY(e))q9e.call(e,t)&&PY(r,t,e[t]);return r};const DY={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Q9e={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function X9e({state:r,maxHeight:e,positioning:t,transitionDuration:n}){const[i,o]=t,s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:e,transform:DY[s],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:Q9e[s]},u={opacity:0,maxHeight:0,transform:DY[s]},c={entering:l,entered:l,exiting:u,exited:u};return OY(OY({},a),c[r])}function J9e(r,e){return typeof e=="number"?e:e===!1||r===!1?!1:r}var Z9e=Object.defineProperty,e8e=Object.defineProperties,t8e=Object.getOwnPropertyDescriptors,MA=Object.getOwnPropertySymbols,Wce=Object.prototype.hasOwnProperty,Uce=Object.prototype.propertyIsEnumerable,AY=(r,e,t)=>e in r?Z9e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xY=(r,e)=>{for(var t in e||(e={}))Wce.call(e,t)&&AY(r,t,e[t]);if(MA)for(var t of MA(e))Uce.call(e,t)&&AY(r,t,e[t]);return r},n8e=(r,e)=>e8e(r,t8e(e)),IY=(r,e)=>{var t={};for(var n in r)Wce.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&MA)for(var n of MA(r))e.indexOf(n)<0&&Uce.call(r,n)&&(t[n]=r[n]);return t};function zce(r){var e=r,{notification:t,autoClose:n,onHide:i,innerRef:o}=e,s=IY(e,["notification","autoClose","onHide","innerRef"]);const a=t,{autoClose:l,message:u}=a,c=IY(a,["autoClose","message"]),d=J9e(n,l),h=S.useRef(),f=()=>{i(t.id),window.clearTimeout(h.current)},p=()=>{clearTimeout(h.current)},g=()=>{typeof d=="number"&&(h.current=window.setTimeout(f,d))};return S.useEffect(()=>{typeof t.onOpen=="function"&&t.onOpen(t)},[]),S.useEffect(()=>(g(),p),[n,t.autoClose]),N.createElement(Yoe,n8e(xY(xY({},c),s),{onClose:f,onMouseEnter:p,onMouseLeave:g,ref:o}),u)}zce.displayName="@mantine/notifications/NotificationContainer";var r8e=Xe((r,{zIndex:e})=>({notifications:{width:`calc(100% - ${r.spacing.md} * 2)`,boxSizing:"border-box",position:"fixed",zIndex:e},notification:{"&:not(:first-of-type)":{marginTop:r.spacing.sm}}})),i8e=Object.defineProperty,o8e=Object.defineProperties,s8e=Object.getOwnPropertyDescriptors,FY=Object.getOwnPropertySymbols,a8e=Object.prototype.hasOwnProperty,l8e=Object.prototype.propertyIsEnumerable,MY=(r,e,t)=>e in r?i8e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,u8e=(r,e)=>{for(var t in e||(e={}))a8e.call(e,t)&&MY(r,t,e[t]);if(FY)for(var t of FY(e))l8e.call(e,t)&&MY(r,t,e[t]);return r},c8e=(r,e)=>o8e(r,s8e(e));function d8e({limit:r}){const{state:e,queue:t,update:n,cleanQueue:i}=fTe({initialValues:[],limit:r});return{notifications:e,queue:t,showNotification:u=>{const c=u.id||WI();return n(d=>u.id&&d.some(h=>h.id===u.id)?d:[...d,c8e(u8e({},u),{id:c})]),c},updateNotification:u=>n(c=>{const d=c.findIndex(f=>f.id===u.id);if(d===-1)return c;const h=[...c];return h[d]=u,h}),hideNotification:u=>n(c=>c.filter(d=>d.id===u?(typeof d.onClose=="function"&&d.onClose(d),!1):!0)),cleanQueue:i,clean:()=>n(()=>[])}}var h8e=Object.defineProperty,LA=Object.getOwnPropertySymbols,Kce=Object.prototype.hasOwnProperty,Yce=Object.prototype.propertyIsEnumerable,LY=(r,e,t)=>e in r?h8e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iN=(r,e)=>{for(var t in e||(e={}))Kce.call(e,t)&&LY(r,t,e[t]);if(LA)for(var t of LA(e))Yce.call(e,t)&&LY(r,t,e[t]);return r},f8e=(r,e)=>{var t={};for(var n in r)Kce.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&LA)for(var n of LA(r))e.indexOf(n)<0&&Yce.call(r,n)&&(t[n]=r[n]);return t};const p8e=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],_y=r=>{var e=r,{className:t,position:n="bottom-right",autoClose:i=4e3,transitionDuration:o=250,containerWidth:s=U(440),notificationMaxHeight:a=U(200),limit:l=5,zIndex:u=xl("overlay"),style:c,children:d,target:h}=e,f=f8e(e,["className","position","autoClose","transitionDuration","containerWidth","notificationMaxHeight","limit","zIndex","style","children","target"]);const p=cTe(),g=S.useRef({}),C=S.useRef(0),{notifications:m,showNotification:y,updateNotification:w,hideNotification:E,clean:P,cleanQueue:T}=d8e({limit:l}),{classes:R,cx:_,theme:b}=r8e({zIndex:u}),D=QE(),G=(b.respectReducedMotion?D:!1)?1:o,I=(p8e.includes(n)?n:"bottom-right").split("-");Fa(()=>{m.length>C.current&&setTimeout(()=>p(),0),C.current=m.length},[m]),H9e({show:y,hide:E,update:w,clean:P,cleanQueue:T});const L=m.map(B=>N.createElement(Xc,{key:B.id,timeout:G,onEnter:()=>g.current[B.id].offsetHeight,nodeRef:{current:g.current[B.id]}},j=>N.createElement(zce,{innerRef:z=>{g.current[B.id]=z},notification:B,onHide:E,className:R.notification,autoClose:i,sx:[iN({},X9e({state:j,positioning:I,transitionDuration:G,maxHeight:a})),...Array.isArray(B.sx)?B.sx:[B.sx]]})));return N.createElement(A$,{target:h},N.createElement(it,iN({className:_(R.notifications,t),style:c,sx:iN({maxWidth:s},z9e(I,b.spacing.md))},f),N.createElement(Aj,null,L)))};_y.displayName="@mantine/notifications/Notifications";_y.show=E_.show;_y.hide=E_.hide;_y.update=E_.update;_y.clean=E_.clean;_y.cleanQueue=E_.cleanQueue;const NY=r=>{let e;const t=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(p=>p(e,f))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{t.clear()}},u=e=r(n,i,l);return l},qce=r=>r?NY(r):NY;var Qce={exports:{}},Xce={},Jce={exports:{}},Zce={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv=S;function g8e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var m8e=typeof Object.is=="function"?Object.is:g8e,v8e=Mv.useState,y8e=Mv.useEffect,C8e=Mv.useLayoutEffect,w8e=Mv.useDebugValue;function S8e(r,e){var t=e(),n=v8e({inst:{value:t,getSnapshot:e}}),i=n[0].inst,o=n[1];return C8e(function(){i.value=t,i.getSnapshot=e,oN(i)&&o({inst:i})},[r,t,e]),y8e(function(){return oN(i)&&o({inst:i}),r(function(){oN(i)&&o({inst:i})})},[r]),w8e(t),t}function oN(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!m8e(r,t)}catch{return!0}}function E8e(r,e){return e()}var _8e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E8e:S8e;Zce.useSyncExternalStore=Mv.useSyncExternalStore!==void 0?Mv.useSyncExternalStore:_8e;Jce.exports=Zce;var R8e=Jce.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF=S,b8e=R8e;function T8e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var P8e=typeof Object.is=="function"?Object.is:T8e,O8e=b8e.useSyncExternalStore,D8e=NF.useRef,A8e=NF.useEffect,x8e=NF.useMemo,I8e=NF.useDebugValue;Xce.useSyncExternalStoreWithSelector=function(r,e,t,n,i){var o=D8e(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=x8e(function(){function l(f){if(!u){if(u=!0,c=f,f=n(f),i!==void 0&&s.hasValue){var p=s.value;if(i(p,f))return d=p}return d=f}if(p=d,P8e(c,f))return p;var g=n(f);return i!==void 0&&i(p,g)?(c=f,p):(c=f,d=g)}var u=!1,c,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,n,i]);var a=O8e(r,o[0],o[1]);return A8e(function(){s.hasValue=!0,s.value=a},[a]),I8e(a),a};Qce.exports=Xce;var F8e=Qce.exports;const ede=hI(F8e),{useDebugValue:M8e}=N,{useSyncExternalStoreWithSelector:L8e}=ede,N8e=r=>r;function G8e(r,e=N8e,t){const n=L8e(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return M8e(n),n}const V8e=r=>{const e=typeof r=="function"?qce(r):r,t=(n,i)=>G8e(e,n,i);return Object.assign(t,e),t},VCt=r=>V8e(r);function bu(r){return r==null||r===""?null:r}function he(r,e=!1){return r!=null&&(r!==""||e)}function dt(r){return!he(r)}function Vs(r){return r==null||r.length===0}function QS(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function Ea(r){if(r===void 0)return;if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;const e=parseInt(r,10);return isNaN(e)?void 0:e}function au(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function k8e(r){if(!(r==null||r===""))return r}function H8e(r,e){return r==null&&e==null?!0:r==null&&e!=null||r!=null&&e==null?!1:r===e}function $8e(r,e){const t=r?JSON.stringify(r):null,n=e?JSON.stringify(e):null;return t===n}function B8e(r,e,t=!1){const n=r==null,i=e==null;if(r&&r.toNumber&&(r=r.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof r!="string"||!t)return o(r,e);try{return r.localeCompare(e)}catch{return o(r,e)}}function Jm(r){if(r instanceof Set||r instanceof Map){const e=[];return r.forEach(t=>e.push(t)),e}return Object.values(r)}const j8e=Object.freeze(Object.defineProperty({__proto__:null,attrToBoolean:au,attrToNumber:Ea,attrToString:k8e,defaultComparator:B8e,exists:he,jsonEquals:$8e,makeNull:bu,missing:dt,missingOrEmpty:Vs,referenceCompare:H8e,toStringOrNull:QS,values:Jm},Symbol.toStringTag,{value:"Module"}));let W8e=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=QS(e);let n=0;for(;;){let i;if(e?(i=e,n!==0&&(i+="_"+n)):t?(i=t,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}};function Dr(r,e){if(r!=null){if(Array.isArray(r)){for(let t=0;t<r.length;t++)e(t.toString(),r[t]);return}for(const[t,n]of Object.entries(r))e(t,n)}}function xj(r){const e={},t=Object.keys(r);for(let n=0;n<t.length;n++){const i=t[n],o=r[i];e[i]=o}return e}function U8e(r){return JSON.parse(JSON.stringify(r))}function NA(r,e){if(!r)return;const t=r,n={};return Object.keys(t).forEach(i=>{if(e&&e.indexOf(i)>=0)return;const o=t[i];GA(o)&&o.constructor===Object?n[i]=NA(o):n[i]=o}),n}function tde(r,e){return r[e]}function nde(r,e,t){r[e]=t}function z8e(r,e,...t){t.forEach(n=>rde(r,e,n))}function rde(r,e,t,n){const i=tde(r,t);i!==void 0&&nde(e,t,n?n(i):i)}function ide(r){const e={};return r.filter(t=>t!=null).forEach(t=>{Object.keys(t).forEach(n=>e[n]=null)}),Object.keys(e)}function Mu(r){if(!r)return[];const e=Object;if(typeof e.values=="function")return e.values(r);const t=[];for(const n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&t.push(r[n]);return t}function Bs(r,e,t=!0,n=!1){he(e)&&Dr(e,(i,o)=>{let s=r[i];s!==o&&(n&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},r[i]=s),GA(o)&&GA(s)&&!Array.isArray(s)?Bs(s,o,t,n):(t||o!==void 0)&&(r[i]=o))})}function K8e(r){return dt(r)||Object.keys(r).length===0}function Y8e(r,e,t){if(r==null)return t;const n=e.split(".");let i=r;for(;n.length>1;)if(i=i[n.shift()],i==null)return t;const o=i[n[0]];return o??t}function q8e(r,e,t){if(r==null)return;const n=e.split(".");let i=r;n.forEach((o,s)=>{i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=t}function Zm(r,e,t){if(!e||!r)return;if(!t)return r[e];const n=e.split(".");let i=r;for(let o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}function ode(r,e){Object.keys(r).forEach(i=>{typeof r[i]=="object"&&(r[i]=void 0)});const t=Object.getPrototypeOf(r),n={};Object.keys(t).forEach(i=>{if(typeof t[i]=="function"){const s=()=>{console.warn(`AG Grid: ${e} function ${i}() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};n[i]={value:s,writable:!0}}}),Object.defineProperties(r,n)}function GA(r){return typeof r=="object"&&r!==null}const Q8e=Object.freeze(Object.defineProperty({__proto__:null,cloneObject:xj,copyPropertiesIfPresent:z8e,copyPropertyIfPresent:rde,deepCloneDefinition:NA,deepCloneObject:U8e,get:Y8e,getAllKeysInObjects:ide,getAllValuesInObject:Mu,getProperty:tde,getValueUsingField:Zm,isNonNullObject:GA,iterateObject:Dr,mergeDeep:Bs,missingOrEmptyObject:K8e,removeAllReferences:ode,set:q8e,setProperty:nde},Symbol.toStringTag,{value:"Module"})),GY={};function Ut(r,e){GY[e]||(r(),GY[e]=!0)}function Ij(r){if(r.name)return r.name;const e=/function\s+([^\(]+)/.exec(r.toString());return e&&e.length===2?e[1].trim():null}function GF(r){return!!(r&&r.constructor&&r.call&&r.apply)}function sde(r){ade(r,400)}const sN=[];let aN=!1;function WV(r){sN.push(r),!aN&&(aN=!0,window.setTimeout(()=>{const e=sN.slice();sN.length=0,aN=!1,e.forEach(t=>t())},0))}function ade(r,e=0){r.length>0&&window.setTimeout(()=>r.forEach(t=>t()),e)}function al(r,e){let t;return function(...n){const i=this;window.clearTimeout(t),t=window.setTimeout(function(){r.apply(i,n)},e)}}function UV(r,e){let t=0;return function(...n){const i=this,o=new Date().getTime();o-t<e||(t=o,r.apply(i,n))}}function Fj(r,e,t=100,n){const i=new Date().getTime();let o=null,s=!1;const a=()=>{const l=new Date().getTime()-i>t;(r()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function X8e(...r){return e=>r.reduce((t,n)=>n(t),e)}function lde(r){r&&r()}const J8e=()=>{},Z8e=Object.freeze(Object.defineProperty({__proto__:null,callIfPresent:lde,compose:X8e,debounce:al,doOnce:Ut,executeAfter:ade,executeInAWhile:sde,executeNextVMTurn:WV,getFunctionName:Ij,isFunction:GF,noop:J8e,throttle:UV,waitUntil:Fj},Symbol.toStringTag,{value:"Module"}));var Te;(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue"})(Te||(Te={}));let Ye=class En{static register(e){En.__register(e,!0,void 0)}static registerModules(e){En.__registerModules(e,!0,void 0)}static __register(e,t,n){En.runVersionChecks(e),n!==void 0?(En.areGridScopedModules=!0,En.gridModulesMap[n]===void 0&&(En.gridModulesMap[n]={}),En.gridModulesMap[n][e.moduleName]=e):En.globalModulesMap[e.moduleName]=e,En.setModuleBased(t)}static __unRegisterGridModules(e){delete En.gridModulesMap[e]}static __registerModules(e,t,n){En.setModuleBased(t),e&&e.forEach(i=>En.__register(i,t,n))}static isValidModuleVersion(e){const[t,n]=e.version.split(".")||[],[i,o]=En.currentModuleVersion.split(".")||[];return t===i&&n===o}static runVersionChecks(e){if(En.currentModuleVersion||(En.currentModuleVersion=e.version),e.version?En.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const t=e.validate();t.isValid||console.error(`AG Grid: ${t.message}`)}}static setModuleBased(e){En.moduleBased===void 0?En.moduleBased=e:En.moduleBased!==e&&Ut(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){En.isBundled=!0}static __assertRegistered(e,t,n){var i;if(this.__isRegistered(e,n))return!0;const o=t+e;let s;if(En.isBundled)s=`AG Grid: unable to use ${t} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(En.moduleBased||En.moduleBased===void 0){let a=(i=Object.entries(Te).find(([l,u])=>u===e))===null||i===void 0?void 0:i[0];s=`AG Grid: unable to use ${t} as the ${a} is not registered${En.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${e}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${t} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Ut(()=>{console.warn(s)},o),!1}static __isRegistered(e,t){var n;return!!En.globalModulesMap[e]||!!(!((n=En.gridModulesMap[t])===null||n===void 0)&&n[e])}static __getRegisteredModules(e){return[...Jm(En.globalModulesMap),...Jm(En.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var t;return Jm((t=En.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]}static __isPackageBased(){return!En.moduleBased}};Ye.globalModulesMap={};Ye.gridModulesMap={};Ye.areGridScopedModules=!1;function VF(r,e,t){const n=Lp(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function ge(r,e,t){const n=Lp(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function Bi(r,e,t){const n=Lp(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function De(r){return e=>{const t=Lp(e);t.beanName=r}}function x(r){return(e,t,n)=>{ude(e,r,!1,e,t)}}function Bt(r){return(e,t,n)=>{ude(e,r,!0,e,t)}}function ude(r,e,t,n,i,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}const s=Lp(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:e,optional:t})}function To(r){return(e,t,n)=>{const i=typeof e=="function"?e:e.constructor;let o;if(typeof n=="number"){let s;t?(o=Lp(i),s=t):(o=Lp(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function Lp(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var cde=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},PC=function(r,e){return function(t,n){e(t,n,r)}};let La=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,n,i=null,o=null){if(this.frameworkOverrides=n,this.gridOptionsService=t,i){const s=t.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;if(this.gridOptionsService){const{api:n,columnApi:i,context:o}=this.gridOptionsService;t.api=n,t.columnApi=i,t.context=o}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const i=a=>a.forEach(l=>{t?this.dispatchAsync(()=>l(e)):l(e)}),o=new Set(this.getListeners(n,t,!1));o.size>0&&i(o),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{t?this.dispatchAsync(()=>this.frameworkOverrides.dispatchEvent(n,()=>a(n,e),!0)):this.frameworkOverrides.dispatchEvent(n,()=>a(n,e),!0)})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};cde([PC(0,To("loggerFactory")),PC(1,To("gridOptionsService")),PC(2,To("frameworkOverrides")),PC(3,To("globalEventListener")),PC(4,To("globalSyncEventListener"))],La.prototype,"setBeans",null);La=cde([De("eventService")],La);var kF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let e7e=0;function dde(){return e7e++}let rt=class hde{constructor(e,t,n,i){this.instanceId=dde(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new La,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=Ea(e.sortIndex),n=Ea(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);const i=au(e.hide),o=au(e.initialHide);i!==void 0?this.visible=!i:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const s=Ea(e.flex),a=Ea(e.initialFlex);s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)}setColDef(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=he(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=he(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=he(this.colDef.tooltipField)||he(this.colDef.tooltipValueGetter)||he(this.colDef.tooltipComponent)}resetActualWidth(e="api"){const t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(dt(this.colDef)||dt(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const e=this.colDef;function t(i,o,s){Ut(()=>{Ut(()=>console.warn(i),o)},o)}if(this.gridOptionsService.isRowModelType("clientSide")&&!Ye.__isRegistered(Te.RowGroupingModule,this.gridOptionsService.getGridId())){const o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(s=>he(e[s]));o.length>0&&Ye.__assertRegistered(Te.RowGroupingModule,o.map(s=>"colDef."+s).join(", "),this.gridOptionsService.getGridId())}if((this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&Ye.__assertRegistered(Te.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")){const o=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(s=>he(e[s]));o.length>0&&t(`AG Grid: ${o.join()} is not possible when doing tree data, your column definition should not have ${o.join()}`,"TreeDataCannotRowGroup")}if(he(e.menuTabs))if(Array.isArray(e.menuTabs)){const i=["filterMenuTab"],o=["columnsMenuTab","generalMenuTab"],s=o.filter(a=>e.menuTabs.includes(a));s.length>0&&Ye.__assertRegistered(Te.MenuModule,`menuTab(s): ${s.map(a=>`'${a}'`).join()}`,this.gridOptionsService.getGridId()),e.menuTabs.forEach(a=>{!o.includes(a)&&!i.includes(a)&&t(`AG Grid: '${a}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...i,...o].map(l=>`'${l}'`).join()}.`,"wrongValue_menuTabs_"+a)})}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");he(e.columnsMenuParams)&&Ye.__assertRegistered(Te.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),he(e.columnsMenuParams)&&Ye.__assertRegistered(Te.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),he(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),he(e.columnGroupShow)&&e.columnGroupShow!=="closed"&&e.columnGroupShow!=="open"&&t(`AG Grid: '${e.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}createColumnFunctionCallbackParams(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.is("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!au(this.colDef.suppressFillHandle)}isAutoHeight(){return!!au(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!au(this.colDef.autoHeaderHeight)}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!au(this.colDef.resizable)}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}setMoving(e,t="api"){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t="api"){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,t="api"){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return dt(this.sort)}isSorting(){return he(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t="api"){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t="api",n){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const i=this.createColumnEvent("filterChanged",t);n&&Bs(i,n),this.eventService.dispatchEvent(i)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t="api"){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t="api"){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t="api"){const n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(e){if(dt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(dt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t="api",n=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e="api"){he(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t="api"){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t="api"){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t="api"){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){let t=this.getColDef().menuTabs;return t==null&&(t=e),t}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:hde.EVENT_STATE_UPDATED,key:e})}};rt.EVENT_MOVING_CHANGED="movingChanged";rt.EVENT_LEFT_CHANGED="leftChanged";rt.EVENT_WIDTH_CHANGED="widthChanged";rt.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";rt.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";rt.EVENT_VISIBLE_CHANGED="visibleChanged";rt.EVENT_FILTER_CHANGED="filterChanged";rt.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";rt.EVENT_SORT_CHANGED="sortChanged";rt.EVENT_COL_DEF_CHANGED="colDefChanged";rt.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";rt.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";rt.EVENT_PIVOT_CHANGED="columnPivotChanged";rt.EVENT_VALUE_CHANGED="columnValueChanged";rt.EVENT_STATE_UPDATED="columnStateUpdated";kF([x("gridOptionsService")],rt.prototype,"gridOptionsService",void 0);kF([x("columnUtils")],rt.prototype,"columnUtils",void 0);kF([x("columnHoverService")],rt.prototype,"columnHoverService",void 0);kF([ge],rt.prototype,"initialise",null);var t7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let An=class Tw{constructor(e,t,n,i){this.localEventService=new La,this.expandable=!1,this.instanceId=dde(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=i}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const t={type:Tw.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{t instanceof rt?e.push(t):t instanceof Tw&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const o=e&&t&&n;if(this.expandable!==o){this.expandable=o;const s={type:Tw.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(s)}}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{i instanceof Tw&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};An.EVENT_EXPANDED_CHANGED="expandedChanged";An.EVENT_EXPANDABLE_CHANGED="expandableChanged";t7e([Bi],An.prototype,"destroy",null);const n7e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function fde(...r){for(let e=0;e<r.length;e++){const t=r[e];if(he(t))return t}return null}function r7e(r){return r!=null&&r.length>0}function Pn(r){if(!(!r||!r.length))return r[r.length-1]}function rh(r,e,t){return r==null&&e==null?!0:r!=null&&e!=null&&r.length===e.length&&r.every((n,i)=>t?t(n,e[i]):e[i]===n)}function i7e(r,e){return rh(r,e)}function pde(r){return r.sort((e,t)=>e-t)}function o7e(r,e){if(r)for(let t=r.length-2;t>=0;t--){const n=r[t]===e,i=r[t+1]===e;n&&i&&r.splice(t+1,1)}}function Mj(r,e){const t=r.indexOf(e);t>=0&&(r[t]=r[r.length-1],r.pop())}function Ls(r,e){const t=r.indexOf(e);t>=0&&r.splice(t,1)}function gde(r,e){for(let t=0;t<e.length;t++)Mj(r,e[t])}function mde(r,e){for(let t=0;t<e.length;t++)Ls(r,e[t])}function XS(r,e,t){r.splice(t,0,e)}function s7e(r,e,t){if(!(r==null||e==null))for(let n=e.length-1;n>=0;n--){const i=e[n];XS(r,i,t)}}function zV(r,e,t){mde(r,e),e.slice().reverse().forEach(n=>XS(r,n,t))}function Tu(r,e){return r.indexOf(e)>-1}function vde(r){return[].concat.apply([],r)}function KV(r,e){e==null||r==null||e.forEach(t=>r.push(t))}function a7e(r){return r.map(QS)}function l7e(r,e){if(r!=null)for(let t=r.length-1;t>=0;t--)e(r[t],t)}const u7e=Object.freeze(Object.defineProperty({__proto__:null,areEqual:rh,existsAndNotEmpty:r7e,firstExistingValue:fde,flatten:vde,forEachReverse:l7e,includes:Tu,insertArrayIntoArray:s7e,insertIntoArray:XS,last:Pn,moveInArray:zV,pushAll:KV,removeAllFromArray:mde,removeAllFromUnorderedArray:gde,removeFromArray:Ls,removeFromUnorderedArray:Mj,removeRepeatsFromArray:o7e,shallowCompare:i7e,sortNumerically:pde,toStrings:a7e},Symbol.toStringTag,{value:"Module"})),yde="__ag_Grid_Stop_Propagation",c7e=["touchstart","touchend","touchmove","touchcancel","scroll"],lN={};function Lu(r){r[yde]=!0}function pl(r){return r[yde]===!0}const Lj=(()=>{const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if(typeof lN[t]=="boolean")return lN[t];const n=document.createElement(r[t]||"div");return t="on"+t,lN[t]=t in n}})();function VA(r,e,t){let n=e;for(;n;){const i=r.getDomData(n,t);if(i)return i;n=n.parentElement}return null}function kA(r,e){return!e||!r?!1:wde(e).indexOf(r)>=0}function Cde(r){const e=[];let t=r.target;for(;t;)e.push(t),t=t.parentElement;return e}function wde(r){const e=r;return e.path?e.path:e.composedPath?e.composedPath():Cde(e)}function Sde(r,e,t,n){const o=Tu(c7e,t)?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(e,t,n,o)}const d7e=Object.freeze(Object.defineProperty({__proto__:null,addSafePassiveEventListener:Sde,createEventPath:Cde,getCtrlForEventTarget:VA,getEventPath:wde,isElementInEventPath:kA,isEventSupported:Lj,isStopPropagationForAgGrid:pl,stopPropagationForAgGrid:Lu},Symbol.toStringTag,{value:"Module"}));var gg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let de=class Ede{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:Ede.EVENT_DESTROYED})}addEventListener(e,t){this.localEventService||(this.localEventService=new La),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchEventAsync(e){window.setTimeout(()=>this.dispatchEvent(e),0)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,t,n){if(this.destroyed)return;e instanceof HTMLElement?Sde(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);const i=()=>(e.removeEventListener(t,n),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==i),null);return this.destroyFunctions.push(i),i}setupGridOptionListener(e,t){this.gridOptionsService.addEventListener(e,t);const n=()=>(this.gridOptionsService.removeEventListener(e,t),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null);this.destroyFunctions.push(n)}addManagedPropertyListener(e,t){this.destroyed||this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=o.changeSet.id}const s={type:"gridPropertyChanged",changeSet:o.changeSet};t(s)};e.forEach(o=>this.setupGridOptionListener(o,i))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.getContext()).createBean(e,n)}destroyBean(e,t){return(t||this.getContext()).destroyBean(e)}destroyBeans(e,t){return e&&e.forEach(n=>this.destroyBean(n,t)),[]}};de.EVENT_DESTROYED="destroyed";gg([x("frameworkOverrides")],de.prototype,"frameworkOverrides",void 0);gg([x("context")],de.prototype,"context",void 0);gg([x("eventService")],de.prototype,"eventService",void 0);gg([x("gridOptionsService")],de.prototype,"gridOptionsService",void 0);gg([x("localeService")],de.prototype,"localeService",void 0);gg([x("environment")],de.prototype,"environment",void 0);gg([Bi],de.prototype,"destroy",null);var HF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},h7e=function(r,e){return function(t,n){e(t,n,r)}};let JS=class extends de{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,n){const i=new W8e,{existingCols:o,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(n);i.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,o,i,s),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);const c=this.balanceColumnTree(l,0,u,i),d=(h,f)=>{h instanceof An&&h.setupExpandable(),h.setOriginalParent(f)};return this.columnUtils.depthFirstOriginalTreeSearch(null,c,d),{columnTree:c,treeDept:u}}extractExistingTreeData(e){const t=[],n=[],i=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,o=>{if(o instanceof An){const s=o;n.push(s)}else{const s=o;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}createForAutoGroups(e,t){return e.map(n=>this.createAutoGroupTreeItem(t,n))}createAutoGroupTreeItem(e,t){const n=this.findDepth(e);let i=t;for(let o=n-1;o>=0;o--){const s=new An(null,`FAKE_PATH_${t.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([i]),i.setOriginalParent(s),i=s}return n===0&&t.setOriginalParent(null),i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&n[0]instanceof An;)t++,n=n[0].getChildren();return t}balanceColumnTree(e,t,n,i){const o=[];for(let s=0;s<e.length;s++){const a=e[s];if(a instanceof An){const l=a,u=this.balanceColumnTree(l.getChildren(),t+1,n,i);l.setChildren(u),o.push(l)}else{let l,u;for(let c=n-1;c>=t;c--){const d=i.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new An(h,d,!0,t);this.createBean(f),u&&u.setChildren([f]),u=f,l||(l=u)}if(l&&u)if(o.push(l),e.some(d=>d instanceof An)){u.setChildren([a]);continue}else{u.setChildren(e);break}o.push(a)}}return o}findMaxDept(e,t){let n=t;for(let i=0;i<e.length;i++){const o=e[i];if(o instanceof An){const s=o,a=this.findMaxDept(s.getChildren(),t+1);n<a&&(n=a)}}return n}recursivelyCreateColumns(e,t,n,i,o,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(n,u,t,i,o,s):a[l]=this.createColumn(n,u,i,o)}return a}createColumnGroup(e,t,n,i,o,s){const a=this.createMergedColGroupDef(t),l=o.getUniqueKey(a.groupId||null,null),u=new An(a,l,!1,n);this.createBean(u);const c=this.findExistingGroup(t,s);c&&s.splice(c.idx,1);let d=c==null?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,n+1,e,i,o,s);return u.setChildren(h),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,n,i){const o=this.findExistingColumn(t,n);o&&(n==null||n.splice(o.idx,1));let s=o==null?void 0:o.column;if(s){const a=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(a,t),this.applyColumnState(s,a)}else{const a=i.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);s=new rt(l,t,a,e),this.context.createBean(s)}return this.dataTypeService.addColumnListeners(s),s}applyColumnState(e,t){const n=Ea(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=Ea(t.width);if(a!=null)e.setActualWidth(a);else{const l=e.getActualWidth();e.setActualWidth(l)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort):e.setSort(void 0));const o=Ea(t.sortIndex);o!==void 0&&e.setSortIndex(o);const s=au(t.hide);s!==void 0&&e.setVisible(!s),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const o=t[i];if(o.getColGroupDef()&&o.getId()===e.groupId)return{idx:i,group:o}}}addColumnDefaultAndTypes(e,t){const n={},i=this.gridOptionsService.get("defaultColDef");Bs(n,i,!1,!0);const o=this.dataTypeService.updateColDefAndGetColumnType(n,e,t);o&&this.assignColumnTypes(o,n),Bs(n,e,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&a&&Bs(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n}assignColumnTypes(e,t){if(!e.length)return;const n=Object.assign({},n7e),i=this.gridOptionsService.get("columnTypes")||{};Dr(i,(o,s)=>{o in n?console.warn(`AG Grid: the column type '${o}' is a default column type and cannot be overridden.`):n[o]=s}),e.forEach(o=>{const s=n[o.trim()];s?Bs(t,s,!1,!0):console.warn("AG Grid: colDef.type '"+o+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};HF([x("columnUtils")],JS.prototype,"columnUtils",void 0);HF([x("dataTypeService")],JS.prototype,"dataTypeService",void 0);HF([h7e(0,To("loggerFactory"))],JS.prototype,"setBeans",null);JS=HF([De("columnFactory")],JS);var f7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ni=class Kl{constructor(e,t,n,i){this.displayedChildren=[],this.localEventService=new La,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=i}static createUniqueId(e,t){return e+"_"+t}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Kl.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof Kl&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const t=Pn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(Kl.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let t=!1;return this.children.forEach(n=>{e===n&&(t=!0),n instanceof Kl&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{t instanceof rt?e.push(t):t instanceof Kl&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{t instanceof rt?e.push(t):t instanceof Kl&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(Kl.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(n=>{if(n instanceof Kl&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.localEventService.dispatchEvent(this.createAgEvent(Kl.EVENT_DISPLAYED_CHILDREN_CHANGED))}};ni.EVENT_LEFT_CHANGED="leftChanged";ni.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";f7e([x("gridOptionsService")],ni.prototype,"gridOptionsService",void 0);let A=class{};A.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";A.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";A.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";A.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";A.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";A.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";A.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";A.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";A.EVENT_COLUMN_MOVED="columnMoved";A.EVENT_COLUMN_VISIBLE="columnVisible";A.EVENT_COLUMN_PINNED="columnPinned";A.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";A.EVENT_COLUMN_RESIZED="columnResized";A.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";A.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";A.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";A.EVENT_ROW_GROUP_OPENED="rowGroupOpened";A.EVENT_ROW_DATA_CHANGED="rowDataChanged";A.EVENT_ROW_DATA_UPDATED="rowDataUpdated";A.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";A.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";A.EVENT_CHART_CREATED="chartCreated";A.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";A.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";A.EVENT_CHART_DESTROYED="chartDestroyed";A.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";A.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";A.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";A.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";A.EVENT_MODEL_UPDATED="modelUpdated";A.EVENT_CUT_START="cutStart";A.EVENT_CUT_END="cutEnd";A.EVENT_PASTE_START="pasteStart";A.EVENT_PASTE_END="pasteEnd";A.EVENT_FILL_START="fillStart";A.EVENT_FILL_END="fillEnd";A.EVENT_RANGE_DELETE_START="rangeDeleteStart";A.EVENT_RANGE_DELETE_END="rangeDeleteEnd";A.EVENT_UNDO_STARTED="undoStarted";A.EVENT_UNDO_ENDED="undoEnded";A.EVENT_REDO_STARTED="redoStarted";A.EVENT_REDO_ENDED="redoEnded";A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";A.EVENT_CELL_CLICKED="cellClicked";A.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";A.EVENT_CELL_MOUSE_DOWN="cellMouseDown";A.EVENT_CELL_CONTEXT_MENU="cellContextMenu";A.EVENT_CELL_VALUE_CHANGED="cellValueChanged";A.EVENT_CELL_EDIT_REQUEST="cellEditRequest";A.EVENT_ROW_VALUE_CHANGED="rowValueChanged";A.EVENT_CELL_FOCUSED="cellFocused";A.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";A.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";A.EVENT_ROW_SELECTED="rowSelected";A.EVENT_SELECTION_CHANGED="selectionChanged";A.EVENT_TOOLTIP_SHOW="tooltipShow";A.EVENT_TOOLTIP_HIDE="tooltipHide";A.EVENT_CELL_KEY_DOWN="cellKeyDown";A.EVENT_CELL_MOUSE_OVER="cellMouseOver";A.EVENT_CELL_MOUSE_OUT="cellMouseOut";A.EVENT_FILTER_CHANGED="filterChanged";A.EVENT_FILTER_MODIFIED="filterModified";A.EVENT_FILTER_OPENED="filterOpened";A.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";A.EVENT_SORT_CHANGED="sortChanged";A.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";A.EVENT_ROW_CLICKED="rowClicked";A.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";A.EVENT_GRID_READY="gridReady";A.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";A.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";A.EVENT_VIEWPORT_CHANGED="viewportChanged";A.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";A.EVENT_FIRST_DATA_RENDERED="firstDataRendered";A.EVENT_DRAG_STARTED="dragStarted";A.EVENT_DRAG_STOPPED="dragStopped";A.EVENT_CHECKBOX_CHANGED="checkboxChanged";A.EVENT_ROW_EDITING_STARTED="rowEditingStarted";A.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";A.EVENT_CELL_EDITING_STARTED="cellEditingStarted";A.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";A.EVENT_BODY_SCROLL="bodyScroll";A.EVENT_BODY_SCROLL_END="bodyScrollEnd";A.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";A.EVENT_PAGINATION_CHANGED="paginationChanged";A.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";A.EVENT_STORE_REFRESHED="storeRefreshed";A.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";A.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";A.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";A.EVENT_FLASH_CELLS="flashCells";A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";A.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";A.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";A.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";A.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";A.EVENT_ROW_DRAG_ENTER="rowDragEnter";A.EVENT_ROW_DRAG_MOVE="rowDragMove";A.EVENT_ROW_DRAG_LEAVE="rowDragLeave";A.EVENT_ROW_DRAG_END="rowDragEnd";A.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";A.EVENT_POPUP_TO_FRONT="popupToFront";A.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";A.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";A.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";A.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";A.EVENT_KEYBOARD_FOCUS="keyboardFocus";A.EVENT_MOUSE_FOCUS="mouseFocus";A.EVENT_STORE_UPDATED="storeUpdated";A.EVENT_FILTER_DESTROYED="filterDestroyed";A.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";A.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";A.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";A.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";A.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";let p7e=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};var Nj=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const Lv="ag-Grid-AutoColumn";let HA=class extends de{createAutoGroupColumns(e){const t=[],n=this.gridOptionsService.is("treeData");let i=this.gridOptionsService.isGroupMultiAutoColumn();return n&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?e.forEach((o,s)=>{t.push(this.createOneAutoGroupColumn(o,s))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e){e.forEach((t,n)=>this.updateOneAutoGroupColumn(t,n))}createOneAutoGroupColumn(e,t){let n;e?n=`${Lv}-${e.getId()}`:n=Lv;const i=this.createAutoGroupColDef(n,e,t);i.colId=n;const o=new rt(i,null,n,!0);return this.context.createBean(o),o}updateOneAutoGroupColumn(e,t){const n=e.getColDef(),i=typeof n.showRowGroup=="string"?n.showRowGroup:void 0,o=i!=null?this.columnModel.getPrimaryColumn(i):void 0,s=this.createAutoGroupColDef(e.getId(),o??void 0,t);e.setColDef(s,null),this.columnFactory.applyColumnState(e,s)}createAutoGroupColDef(e,t,n){let i=this.createBaseColDef(t);const o=this.gridOptionsService.get("autoGroupColumnDef");Bs(i,o),i=this.columnFactory.addColumnDefaultAndTypes(i,e),this.gridOptionsService.is("treeData")||dt(i.field)&&dt(i.valueGetter)&&dt(i.filterValueGetter)&&i.filter!=="agGroupColumnFilter"&&(i.filter=!1),n&&n>0&&(i.headerCheckboxSelection=!1);const s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),a=i.valueGetter||i.field!=null;return s&&!a&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e){const s=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i}};Nj([x("columnModel")],HA.prototype,"columnModel",void 0);Nj([x("columnFactory")],HA.prototype,"columnFactory",void 0);HA=Nj([De("autoGroupColService")],HA);const g7e=/[&<>"']/g,m7e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function v7e(r){const e=String.fromCharCode;function t(d){const h=[];if(!d)return[];const f=d.length;let p=0,g,C;for(;p<f;)g=d.charCodeAt(p++),g>=55296&&g<=56319&&p<f?(C=d.charCodeAt(p++),(C&64512)==56320?h.push(((g&1023)<<10)+(C&1023)+65536):(h.push(g),p--)):h.push(g);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return e(d);let h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=i(d,12),h+=i(d,6)):(n(d),h=e(d>>12&15|224),h+=i(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}const s=t(r),a=s.length;let l=-1,u,c="";for(;++l<a;)u=s[l],c+=o(u);return c}function y7e(r){return r[0].toUpperCase()+r.substr(1).toLowerCase()}function Kr(r,e){if(r==null)return null;const t=r.toString().toString();return e?t:t.replace(g7e,n=>m7e[n])}function _de(r){if(!r||r==null)return null;const e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g;return r.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}function Rde(r){return r.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}const C7e=Object.freeze(Object.defineProperty({__proto__:null,camelCaseToHumanText:_de,camelCaseToHyphenated:Rde,capitalise:y7e,escapeString:Kr,utf8_encode:v7e},Symbol.toStringTag,{value:"Module"}));function qd(r){const e=new Map;return r.forEach(t=>e.set(t[0],t[1])),e}function w7e(r,e){const t=new Map;return r.forEach(n=>t.set(e(n),n)),t}function S7e(r){const e=[];return r.forEach((t,n)=>e.push(n)),e}const E7e=Object.freeze(Object.defineProperty({__proto__:null,convertToMap:qd,keys:S7e,mapById:w7e},Symbol.toStringTag,{value:"Module"}));let $A=class{};$A.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0};$A.ALL_PROPERTIES=Object.keys($A.ColDefPropertyMap);let Kn=class{};Kn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"];Kn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"];Kn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"];Kn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"];Kn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"];Kn.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];Kn.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"];Kn.FUNCTION_PROPERTIES=[...Kn.FUNCTIONAL_PROPERTIES,...Kn.CALLBACK_PROPERTIES];Kn.ALL_PROPERTIES=[...Kn.ARRAY_PROPERTIES,...Kn.OBJECT_PROPERTIES,...Kn.STRING_PROPERTIES,...Kn.NUMBER_PROPERTIES,...Kn.FUNCTION_PROPERTIES,...Kn.BOOLEAN_PROPERTIES];let mr=class Ji{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)}static getCoercionLookup(){let e={};return[...Ji.ARRAY_PROPERTIES,...Ji.OBJECT_PROPERTIES,...Ji.STRING_PROPERTIES,...Ji.FUNCTION_PROPERTIES,...Ji.EVENT_CALLBACKS].forEach(t=>e[t]="none"),Ji.BOOLEAN_PROPERTIES.forEach(t=>e[t]="boolean"),Ji.NUMBER_PROPERTIES.forEach(t=>e[t]="number"),e}static getValue(e,t){const n=Ji.coercionLookup[e];if(n){let i=t;switch(n){case"number":{i=Ji.toNumber(t);break}case"boolean":{i=Ji.toBoolean(t);break}case"none":{e==="groupAggFiltering"&&typeof t!="function"&&(i=Ji.toBoolean(t));break}}return i}}static getGridOptionKeys(e,t){return Object.keys(t?Ji.coercionLookup:e)}static copyAttributesToGridOptions(e,t,n=!1){typeof e!="object"&&(e={});const i=e;return Ji.getGridOptionKeys(t,n).forEach(s=>{const a=t[s];if(typeof a<"u"){const l=Ji.getValue(s,a);l!==void 0&&(i[s]=l)}}),e}static processOnChange(e,t){if(!e||Object.keys(e).length===0)return;this.changeSetId++;const n=Object.assign({},e);n.columnTypes&&(t.setColumnTypes(n.columnTypes.currentValue,"gridOptionsChanged"),delete n.columnTypes),n.autoGroupColumnDef&&(t.setAutoGroupColumnDef(n.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete n.autoGroupColumnDef),n.defaultColDef&&(t.setDefaultColDef(n.defaultColDef.currentValue,"gridOptionsChanged"),delete n.defaultColDef),n.columnDefs&&(t.setColumnDefs(n.columnDefs.currentValue,"gridOptionsChanged"),delete n.columnDefs);const i=Object.keys(n).map(a=>{const l=a,u=Ji.getValue(l,n[l].currentValue),c=t.__setPropertyOnly(l,u);return{gridKey:l,coercedValue:u,isChanged:c}}).filter(a=>a.isChanged),o=i.map(a=>a.gridKey);i.forEach(a=>t.__updateProperty(a.gridKey,a.coercedValue,a.isChanged,{id:this.changeSetId,properties:o}));const s={type:A.EVENT_COMPONENT_STATE_CHANGED};Dr(e,(a,l)=>{s[a]=l}),t.dispatchEvent(s)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)}};mr.EVENTS=Jm(A);mr.EXCLUDED_INTERNAL_EVENTS=[A.EVENT_SCROLLBAR_WIDTH_CHANGED,A.EVENT_CHECKBOX_CHANGED,A.EVENT_HEIGHT_SCALE_CHANGED,A.EVENT_BODY_HEIGHT_CHANGED,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,A.EVENT_SCROLL_VISIBILITY_CHANGED,A.EVENT_COLUMN_HOVER_CHANGED,A.EVENT_FLASH_CELLS,A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,A.EVENT_DISPLAYED_ROWS_CHANGED,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,A.EVENT_POPUP_TO_FRONT,A.EVENT_KEYBOARD_FOCUS,A.EVENT_MOUSE_FOCUS,A.EVENT_STORE_UPDATED,A.EVENT_COLUMN_PANEL_ITEM_DRAG_START,A.EVENT_COLUMN_PANEL_ITEM_DRAG_END,A.EVENT_FILL_START,A.EVENT_FILL_END,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,A.EVENT_FULL_WIDTH_ROW_FOCUSED,A.EVENT_HEADER_HEIGHT_CHANGED,A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,A.EVENT_CELL_FOCUS_CLEARED,A.EVENT_GRID_STYLES_CHANGED,A.EVENT_FILTER_DESTROYED,A.EVENT_ROW_DATA_UPDATE_STARTED,A.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,A.EVENT_DATA_TYPES_INFERRED,A.EVENT_FIELD_VALUE_CHANGED,A.EVENT_FIELD_PICKER_VALUE_SELECTED];mr.PUBLIC_EVENTS=mr.EVENTS.filter(r=>!Tu(mr.EXCLUDED_INTERNAL_EVENTS,r));mr.EVENT_CALLBACKS=mr.EVENTS.map(r=>mr.getCallbackForEvent(r));mr.STRING_PROPERTIES=Kn.STRING_PROPERTIES;mr.OBJECT_PROPERTIES=Kn.OBJECT_PROPERTIES;mr.ARRAY_PROPERTIES=Kn.ARRAY_PROPERTIES;mr.NUMBER_PROPERTIES=Kn.NUMBER_PROPERTIES;mr.BOOLEAN_PROPERTIES=Kn.BOOLEAN_PROPERTIES;mr.FUNCTION_PROPERTIES=Kn.FUNCTION_PROPERTIES;mr.ALL_PROPERTIES=Kn.ALL_PROPERTIES;mr.ALL_PROPERTIES_SET=new Set(Kn.ALL_PROPERTIES);mr.changeSetId=0;mr.coercionLookup=mr.getCoercionLookup();function bde(r,e,t){const n={},i=r.filter(o=>!e.some(s=>s===o));return i.length>0&&i.forEach(o=>n[o]=__(o,t).values),n}function __(r,e,t,n){let i=e.map((a,l)=>({value:a,relevance:_7e(r.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(i.sort((a,l)=>l.relevance-a.relevance),t&&(i=i.filter(a=>a.relevance!==0)),i.length>0&&n&&n>0){const l=i[0].relevance*n;i=i.filter(u=>l-u.relevance<0)}const o=[],s=[];for(const a of i)o.push(a.value),s.push(a.idx);return{values:o,indices:s}}function _7e(r,e){const t=r.replace(/\s/g,""),n=e.replace(/\s/g,"");let i=0,o=-1;for(let s=0;s<t.length;s++){const a=n.indexOf(t[s],o+1);a!==-1&&(o=a,i+=100-o*100/1e4*100)}return i}const R7e=Object.freeze(Object.defineProperty({__proto__:null,fuzzyCheckStrings:bde,fuzzySuggestions:__},Symbol.toStringTag,{value:"Module"}));var $F=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function Ca(r,e,t,n){const i=t?`Please use '${t}' instead. `:"";Ut(()=>console.warn(`AG Grid: since v${r}, '${e}' is deprecated. ${i}${n??""}`),`Deprecated_${e}`)}const VY=["__ob__","__v_skip","__metadata__"];let ZS=class{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}pickOneWarning(e,t){console.warn(`AG Grid: ${e} and ${t} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.get("rowSelection")!=="multiple"&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){const t=(n,i)=>`AG Grid: '${n}' is not supported on the Server-Side Row Model.`+(i?` Please use ${i} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?Ye.__assertRegistered(Te.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const e=(t,n)=>this.gridOptionsService.exists(t)&&Ye.__assertRegistered(n,t,this.gridOptionsService.getGridId());e("sideBar",Te.SideBarModule),e("statusBar",Te.StatusBarModule),e("enableCharts",Te.GridChartsModule),e("getMainMenuItems",Te.MenuModule),e("getContextMenuItems",Te.MenuModule),e("allowContextMenuWithControlKey",Te.MenuModule),e("enableAdvancedFilter",Te.AdvancedFilterModule),e("treeData",Te.RowGroupingModule),e("enableRangeSelection",Te.RangeSelectionModule),e("masterDetail",Te.MasterDetailModule)}checkColumnDefProperties(){if(this.gridOptions.columnDefs==null)return;const e=$A.ALL_PROPERTIES,t=(n,i)=>{const o=Object.getOwnPropertyNames(n);this.checkProperties(o,[...e,...VY],e,i,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),n.children&&n.children.forEach(s=>t(s,"columnDefs.children"))};this.gridOptions.columnDefs.forEach(n=>t(n,"columnDefs")),this.gridOptions.defaultColDef&&t(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var e;const t=(e=this.gridOptionsService.get("rowModelType"))!==null&&e!==void 0?e:"clientSide",i={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[t];if(!i)return;const o=this.gridOptionsService.get("rowSelection")==="multiple",s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=l=>{o||s.forEach(u=>{u in l&&l[u]&&console.warn(`AG Grid: Column property ${u} is not supported unless rowSelection='multiple'.`)}),i.forEach(u=>{u in l&&l[u]&&console.warn(`AG Grid: Column property ${u} is not supported with the row model type ${t}.`)})};this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(l=>a(l)),this.gridOptions.autoGroupColumnDef!=null&&a(this.gridOptions.autoGroupColumnDef),this.gridOptions.defaultColDef!=null&&a(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const e=Object.getOwnPropertyNames(this.gridOptions),t=[...Kn.ALL_PROPERTIES,...mr.EVENT_CALLBACKS],n=[...t,"api","columnApi",...VY,...Object.keys(this.deprecatedProperties)];this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(e,t,n,i,o){const s=bde(e,t,n);Dr(s,(a,l)=>{Ut(()=>console.warn(`AG Grid: invalid ${i} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`),"invalidProperty"+i+a)}),Object.keys(s).length>0&&Ut(()=>console.warn(`AG Grid: to see all the valid ${i} properties please check: ${o}`),"invalidProperties"+i+o)}checkForDeprecated(){const e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(([t,n])=>{var i;const o=e[t];o&&(Ca(n.version,t,n.newProp,n.message),n.copyToNewProp&&n.newProp&&e[n.newProp]==null&&(e[n.newProp]=(i=n.newPropValue)!==null&&i!==void 0?i:o))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll=e.serverSideStoreType!=="partial")}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};$F([x("gridOptions")],ZS.prototype,"gridOptions",void 0);$F([x("gridOptionsService")],ZS.prototype,"gridOptionsService",void 0);$F([ge],ZS.prototype,"init",null);ZS=$F([De("gridOptionsValidator")],ZS);function YV(r,e){const t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid groupDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===r}function b7e(r,e){const t=["auto","custom"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid treeDataDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===r}var ji=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},T7e=function(r,e){return function(t,n){e(t,n,r)}},P7e=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};let yi=class extends de{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData"],()=>this.buildAutoGroupColumns()),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("defaultColDef",t=>this.onSharedColDefChanged(t.source)),this.addManagedPropertyListener("columnTypes",t=>this.onSharedColDefChanged(t.source))}buildAutoGroupColumns(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))}onAutoGroupColumnDefChanged(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)}onSharedColDefChanged(e="api"){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e)}setColumnDefs(e,t="api"){const n=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(n,t)}recreateColumnDefs(e="api"){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const n={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,o=>{n[o.getInstanceId()]=o}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,o=>{n[o.getInstanceId()]=null});const i=Object.values(n).filter(o=>o!=null);this.destroyBeans(i)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t="api"){const n=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const i=this.primaryColumns,o=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,o);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(u=>this.primaryColumnsMap[u.getId()]=u),this.extractRowGroupColumns(t,i),this.extractPivotColumns(t,i),this.extractValueColumns(t,i),this.ready=!0;const a=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||a||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),n&&n(),this.dispatchNewColumnsLoaded(t)}dispatchNewColumnsLoaded(e){const t={type:A.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t)}dispatchEverythingChanged(e="api"){const t={type:A.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter(i=>this.gridColumns.indexOf(i)>=0),n=this.gridColumns.filter(i=>t.indexOf(i)<0);this.gridColumns=[...n,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const n=[];for(;t!=null;)n.push(t),t=this.getDisplayedColAfter(t);return n}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const n={type:A.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(n)}setViewportPosition(e,t,n=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gridOptionsService.is("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(e,t="api"){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))return;this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const n={type:A.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(n)}getSecondaryPivotColumn(e,t){if(dt(this.secondaryColumns))return null;const n=this.getPrimaryColumn(t);let i=null;return this.secondaryColumns.forEach(o=>{const s=o.getColDef().pivotKeys,a=o.getColDef().pivotValueColumn;rh(s,e)&&a===n&&(i=o)}),i}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,n;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?Pn(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Pn(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(i=>{i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===n,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:o,source:s="api"}=e;this.animationFrameService.flushAllFrames();const a=[];let l=-1;const u=n??this.gridOptionsService.is("skipHeaderOnAutoSize"),c=i??u;for(;l!==0;)l=0,this.actionOnGridColumns(t,d=>{if(a.indexOf(d)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(d,u);if(h>0){const f=this.normaliseColumnWidth(d,h);d.setActualWidth(f,s),a.push(d),l++}return!0},s);c||this.autoSizeColumnGroupsByColumns(t,s,o),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,n,i=null){if(e&&e.length){const o={type:A.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:i,finished:t,source:n};this.eventService.dispatchEvent(o)}}dispatchColumnChangedEvent(e,t,n){const i={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:n};this.eventService.dispatchEvent(i)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:n,toIndex:i,finished:o}=e,s={type:A.EVENT_COLUMN_MOVED,columns:t,column:t&&t.length===1?t[0]:null,toIndex:i,finished:o,source:n};this.eventService.dispatchEvent(s)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const n=e.length===1?e[0]:null,i=this.getCommonValue(e,s=>s.getPinned()),o={type:A.EVENT_COLUMN_PINNED,pinned:i??null,columns:e,column:n,source:t};this.eventService.dispatchEvent(o)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const n=e.length===1?e[0]:null,i=this.getCommonValue(e,s=>s.isVisible()),o={type:A.EVENT_COLUMN_VISIBLE,visible:i,columns:e,column:n,source:t};this.eventService.dispatchEvent(o)}autoSizeColumn(e,t,n="api"){e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:n})}autoSizeColumnGroupsByColumns(e,t,n){const i=new Set;this.getGridColumns(e).forEach(l=>{let u=l.getParent();for(;u&&u!=n;)u.isPadding()||i.add(u),u=u.getParent()});let s;const a=[];for(const l of i){for(const u of this.ctrlsService.getHeaderRowContainerCtrls())if(s=u.getHeaderCtrlForColumn(l),s)break;s&&s.resizeLeafColumnsToFit(t)}return a}autoSizeAllColumns(e,t="api"){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));return}const n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:e,source:t})}getColumnsFromTree(e){const t=[],n=i=>{for(let o=0;o<i.length;o++){const s=i[o];s instanceof rt?t.push(s):s instanceof An&&n(s.getChildren())}};return n(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,n,i){const o=[];let s=null;for(let a=0;a<t.length;a++){const l=t[a],u=t.length-a,c=Math.min(l.getColSpan(e),u),d=[l];if(c>1){const f=c-1;for(let p=1;p<=f;p++)d.push(t[a+p]);a+=f}let h;n?(h=!1,d.forEach(f=>{n(f)&&(h=!0)})):h=!0,h&&(o.length===0&&s&&(i&&i(l))&&o.push(s),o.push(l)),s=l}return o}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=i=>{const o=i.getLeft();return he(o)&&o>this.viewportLeft},n=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,n,t)}getAriaColumnIndex(e){return this.getAllGridColumns().indexOf(e)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,o=this.viewportRight+200,s=t<i&&n<i,a=t>o&&n>o;return!s&&!a}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,n,i,o,s="api"){if(!e||Vs(e))return;let a=!1;if(e.forEach(u=>{const c=this.getPrimaryColumn(u);if(c){if(n){if(t.indexOf(c)>=0)return;t.push(c)}else{if(t.indexOf(c)<0)return;Ls(t,c)}i(c),a=!0}}),!a)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);const l={type:o,columns:t,column:t.length===1?t[0]:null,source:s};this.eventService.dispatchEvent(l)}setRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,A.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,n),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(t,!0,n))}addRowGroupColumn(e,t="api"){e&&this.addRowGroupColumns([e],t)}addRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),A.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),A.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumn(e,t="api"){e&&this.removeRowGroupColumns([e],t)}addPivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!0,n=>n.setPivotActive(!0,t),A.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t="api"){this.setPrimaryColumnList(e,this.pivotColumns,A.EVENT_COLUMN_PIVOT_CHANGED,!0,(n,i)=>{i.setPivotActive(n,t)},t)}addPivotColumn(e,t="api"){this.addPivotColumns([e],t)}removePivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!1,n=>n.setPivotActive(!1,t),A.EVENT_COLUMN_PIVOT_CHANGED,t)}removePivotColumn(e,t="api"){this.removePivotColumns([e],t)}setPrimaryColumnList(e,t,n,i,o,s){const a=new Map;t.forEach((l,u)=>a.set(l,u)),t.length=0,he(e)&&e.forEach(l=>{const u=this.getPrimaryColumn(l);u&&t.push(u)}),t.forEach((l,u)=>{const c=a.get(l);if(c===void 0){a.set(l,0);return}i&&c!==u||a.delete(l)}),(this.primaryColumns||[]).forEach(l=>{const u=t.indexOf(l)>=0;o(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(n,[...a.keys()],s)}setValueColumns(e,t="api"){this.setPrimaryColumnList(e,this.valueColumns,A.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc())){const i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}}addValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),A.EVENT_COLUMN_VALUE_CHANGED,t)}addValueColumn(e,t="api"){e&&this.addValueColumns([e],t)}removeValueColumn(e,t="api"){this.removeValueColumns([e],t)}removeValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),A.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const n=e.getMinWidth();he(n)&&t<n&&(t=n);const i=e.getMaxWidth();return he(i)&&e.isGreaterThanMax(t)&&(t=i),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,n,i="api"){const o=[];e.forEach(s=>{const a=this.getPrimaryOrGridColumn(s.key);if(!a)return;if(o.push({width:s.newWidth,ratios:[1],columns:[a]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(t=!t),t){const u=this.getDisplayedColAfter(a);if(!u)return;const c=a.getActualWidth()-s.newWidth,d=u.getActualWidth()+c;o.push({width:d,ratios:[1],columns:[u]})}}),o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:n,source:i})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:n}=e;let i=0,o=0,s=!0;t.forEach(u=>{const c=u.getMinWidth();i+=c||0;const d=u.getMaxWidth();he(d)&&d>0?o+=d:s=!1});const a=n>=i,l=!s||n<=o;return a&&l}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(d,n,i)}return}const s=[],a=[];t.forEach(d=>{const{width:h,columns:f,ratios:p}=d,g={},C={};f.forEach(w=>a.push(w));let m=!0,y=0;for(;m;){if(y++,y>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}m=!1;const w=[];let E=0,P=h;f.forEach((R,_)=>{if(C[R.getId()])P-=g[R.getId()];else{w.push(R);const D=p[_];E+=D}});const T=1/E;w.forEach((R,_)=>{const b=_===w.length-1;let D;b?D=P:(D=Math.round(p[_]*h*T),P-=D);const M=R.getMinWidth(),G=R.getMaxWidth();he(M)&&D<M?(D=M,C[R.getId()]=!0,m=!0):he(G)&&G>0&&D>G&&(D=G,C[R.getId()]=!0,m=!0),g[R.getId()]=D})}f.forEach(w=>{const E=g[w.getId()];w.getActualWidth()!==E&&(w.setActualWidth(E,i),s.push(w))})});const l=s.length>0;let u=[];l&&(u=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());const c=a.concat(u);(l||n)&&this.dispatchColumnResizedEvent(c,n,i,u)}setColumnAggFunc(e,t,n="api"){if(!e)return;const i=this.getPrimaryColumn(e);i&&(i.setAggFunc(t),this.dispatchColumnChangedEvent(A.EVENT_COLUMN_VALUE_CHANGED,[i],n))}moveRowGroupColumn(e,t,n="api"){const i=this.rowGroupColumns[e],o=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i);const s={type:A.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:o,column:o.length===1?o[0]:null,source:n};this.eventService.dispatchEvent(s)}moveColumns(e,t,n="api",i=!0){if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const o=this.getGridColumns(e);this.doesMovePassRules(o,t)&&(zV(this.gridColumns,o,t),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:o,source:n,toIndex:t,finished:i}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.gridColumns.slice();return zV(n,e,t),n}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(n=>this.gridColumns.indexOf(n)<0).length>0||e.sort((n,i)=>{const o=this.gridColumns.indexOf(n),s=this.gridColumns.indexOf(i);return o-s})}doesMovePassLockedPositions(e){let t=0,n=!0;const i=o=>o?o===!0||o==="left"?0:2:1;return e.forEach(o=>{const s=i(o.getColDef().lockPosition);s<t&&(n=!1),t=s}),n}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{if(!(n instanceof An))return;const i=n,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const a=[];i.getLeafColumns().forEach(h=>{const f=e.indexOf(h);a.push(f)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),c=l-u,d=i.getLeafColumns().length-1;c>d&&(t=!1)}),t}moveColumn(e,t,n="api"){this.moveColumns([e],t,n)}moveColumnByIndex(e,t,n="api"){const i=this.gridColumns[e];this.moveColumn(i,t,n)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,n)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(n)):this.lastPrimaryOrder&&e.sort((t,n)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(n)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n;const o={type:A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return Vs(this.gridColumns)}isRowGroupEmpty(){return Vs(this.rowGroupColumns)}setColumnVisible(e,t,n="api"){this.setColumnsVisible([e],t,n)}setColumnsVisible(e,t=!1,n="api"){this.applyColumnState({state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}setColumnPinned(e,t,n="api"){e&&this.setColumnsPinned([e],t,n)}setColumnsPinned(e,t,n="api"){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let i;t===!0||t==="left"?i="left":t==="right"?i="right":i=null,this.actionOnGridColumns(e,o=>o.getPinned()!==i?(o.setPinned(i),!0):!1,n,()=>({type:A.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:n})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,n,i){if(Vs(e))return;const o=[];if(e.forEach(s=>{const a=this.getGridColumn(s);if(!a)return;t(a)!==!1&&o.push(a)}),!!o.length&&(this.updateDisplayedColumns(n),he(i)&&i)){const s=i();s.columns=o,s.column=o.length===1?o[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n>0?t[n-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),o=t==="After"?Pn(i):i[0],s=`getDisplayedCol${t}`;for(;;){const a=this[s](o);if(!a)return null;const l=this.getColumnGroupAtLevel(a,n);if(l!==e)return l}}getColumnGroupAtLevel(e,t){let n=e.getParent(),i,o;for(;i=n.getProvidedColumnGroup().getLevel(),o=n.getPaddingLevel(),!(i+o<=t);)n=n.getParent();return n}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,a=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:s,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:a}}getColumnState(){if(dt(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=qd(this.gridColumns.map((n,i)=>[n.getColId(),i]));e.sort((n,i)=>{const o=t.has(n.colId)?t.get(n.colId):-1,s=t.has(i.colId)?t.get(i.colId):-1;return o-s})}resetColumnState(e="api"){const t=this.getColumnsFromTree(this.primaryColumnTree),n=[];let i=1e3,o=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),t&&(s=s.concat(t)),s.forEach(a=>{const l=this.getColumnStateFromColDef(a);dt(l.rowGroupIndex)&&l.rowGroup&&(l.rowGroupIndex=i++),dt(l.pivotIndex)&&l.pivot&&(l.pivotIndex=o++),n.push(l)}),this.applyColumnState({state:n,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(g,C)=>g??C??null,n=e.getColDef(),i=t(n.sort,n.initialSort),o=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),a=t(n.pinned,n.initialPinned),l=t(n.width,n.initialWidth),u=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let h=t(n.pivotIndex,n.initialPivotIndex),f=t(n.pivot,n.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);const p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:o,hide:s,pinned:a,width:l,flex:u,rowGroup:d,rowGroupIndex:c,pivot:f,pivotIndex:h,aggFunc:p}}applyColumnState(e,t){if(Vs(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=(s,a,l)=>{const u=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const c=a.slice(),d={},h={},f=[],p=[];let g=0;const C=this.rowGroupColumns.slice(),m=this.pivotColumns.slice();s.forEach(P=>{const T=P.colId||"";if(T.startsWith(Lv)){f.push(P),p.push(P);return}const _=l(T);_?(this.syncColumnWithStateItem(_,P,e.defaultState,d,h,!1,t),Ls(c,_)):(p.push(P),g+=1)});const y=P=>this.syncColumnWithStateItem(P,null,e.defaultState,d,h,!1,t);c.forEach(y);const w=(P,T,R,_)=>{const b=P[R.getId()],D=P[_.getId()],M=b!=null,G=D!=null;if(M&&G)return b-D;if(M)return-1;if(G)return 1;const I=T.indexOf(R),L=T.indexOf(_),B=I>=0,j=L>=0;return B&&j?I-L:B?-1:1};this.rowGroupColumns.sort(w.bind(this,d,C)),this.pivotColumns.sort(w.bind(this,h,m)),this.updateGridColumns();const E=this.groupAutoColumns?this.groupAutoColumns.slice():[];return f.forEach(P=>{const T=this.getAutoColumn(P.colId);Ls(E,T),this.syncColumnWithStateItem(T,P,e.defaultState,null,null,!0,t)}),E.forEach(y),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),u(),{unmatchedAndAutoStates:p,unmatchedCount:g}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:o}=n(e.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(i.length>0||he(e.defaultState))&&(o=n(i,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),o===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const n={};e.state.forEach(o=>{if(!o.colId||n[o.colId])return;const s=this.gridColumnsMap[o.colId];s&&(t.push(s),n[o.colId]=!0)});let i=0;if(this.gridColumns.forEach(o=>{const s=o.getColId();if(n[s]!=null)return;s.startsWith(Lv)?XS(t,o,i++):t.push(o)}),t=this.placeLockedColumns(t),!this.doesMovePassMarryChildren(t)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=t}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),i={};return n.forEach(o=>{i[o.colId]=o}),()=>{const o=this.getPrimaryAndSecondaryAndAutoColumns(),s=(g,C,m,y)=>{const w=C.map(y),E=m.map(y);if(rh(w,E))return;const T=new Set(C);m.forEach(b=>{T.delete(b)||T.add(b)});const R=[...T],_={type:g,columns:R,column:R.length===1?R[0]:null,source:e};this.eventService.dispatchEvent(_)},a=g=>{const C=[];return o.forEach(m=>{const y=i[m.getColId()];y&&g(y,m)&&C.push(m)}),C},l=g=>g.getColId();s(A.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,l),s(A.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,l);const c=a((g,C)=>{const m=g.aggFunc!=null,y=m!=C.isValueActive(),w=m&&g.aggFunc!=C.getAggFunc();return y||w});c.length>0&&this.dispatchColumnChangedEvent(A.EVENT_COLUMN_VALUE_CHANGED,c,e);const d=(g,C)=>g.width!=C.getActualWidth();this.dispatchColumnResizedEvent(a(d),!0,e);const h=(g,C)=>g.pinned!=C.getPinned();this.dispatchColumnPinnedEvent(a(h),e);const f=(g,C)=>g.hide==C.isVisible();this.dispatchColumnVisibleEvent(a(f),e),a((g,C)=>g.sort!=C.getSort()||g.sortIndex!=C.getSortIndex()).length>0&&this.sortController.dispatchSortChangedEvents(e),this.normaliseColumnMovedEventForColumnState(n,e)}}getCommonValue(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}normaliseColumnMovedEventForColumnState(e,t){const n=this.getColumnState(),i={};n.forEach(u=>i[u.colId]=u);const o={};e.forEach(u=>{i[u.colId]&&(o[u.colId]=!0)});const s=e.filter(u=>o[u.colId]),a=n.filter(u=>o[u.colId]),l=[];a.forEach((u,c)=>{const d=s&&s[c];if(d&&d.colId!==u.colId){const h=this.getGridColumn(d.colId);h&&l.push(h)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:t,finished:!0})}syncColumnWithStateItem(e,t,n,i,o,s,a){if(!e)return;const l=(P,T)=>{const R={value1:void 0,value2:void 0};let _=!1;return t&&(t[P]!==void 0&&(R.value1=t[P],_=!0),he(T)&&t[T]!==void 0&&(R.value2=t[T],_=!0)),!_&&n&&(n[P]!==void 0&&(R.value1=n[P]),he(T)&&n[T]!==void 0&&(R.value2=n[T])),R},u=l("hide").value1;u!==void 0&&e.setVisible(!u,a);const c=l("pinned").value1;c!==void 0&&e.setPinned(c);const d=this.columnUtils.calculateColMinWidth(e.getColDef()),h=l("flex").value1;if(h!==void 0&&e.setFlex(h),e.getFlex()<=0){const P=l("width").value1;P!=null&&d!=null&&P>=d&&e.setActualWidth(P,a)}const p=l("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,a):e.setSort(void 0,a));const g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),s||!e.isPrimary())return;const C=l("aggFunc").value1;C!==void 0&&(typeof C=="string"?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(he(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),Ls(this.valueColumns,e))));const{value1:m,value2:y}=l("rowGroup","rowGroupIndex");(m!==void 0||y!==void 0)&&(typeof y=="number"||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),i&&typeof y=="number"&&(i[e.getId()]=y)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),Ls(this.rowGroupColumns,e)));const{value1:w,value2:E}=l("pivot","pivotIndex");(w!==void 0||E!==void 0)&&(typeof E=="number"||w?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),o&&typeof E=="number"&&(o[e.getId()]=E)):e.isPivotActive()&&(e.setPivotActive(!1,a),Ls(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const n=[];return e&&e.forEach(i=>{const o=t(i);o&&n.push(o)}),n}getColumnWithValidation(e){if(e==null)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,n){if(!e)return null;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<t.length;i++)if(this.columnsMatch(t[i],e))return t[i];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupColumns.slice(0);const n=this.getPrimaryColumn(t);return n?[n]:null}getAutoColumn(e){return!this.groupAutoColumns||!he(this.groupAutoColumns)||dt(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const n=e===t,i=e.getColDef()===t,o=e.getColId()==t;return n||i||o}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,o){const s=e.headerValueGetter;if(s){const a={colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof s=="function"?s(a):typeof s=="string"?this.expressionService.evaluate(s,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return _de(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;const n=e.getColDef().pivotValueColumn,i=he(n);let o=null,s;if(i){const a=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;o=n?n.getAggFunc():null,s=!0}else{const a=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(o=e.getAggFunc(),s=!0):s=!1}if(s){const a=typeof o=="string"?o:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof ni)return e;const n=this.getAllDisplayedTrees(),i=typeof t=="number";let o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,s=>{if(s instanceof ni){const a=s;let l;i?l=e===a.getGroupId()&&t===a.getPartId():l=e===a.getGroupId(),l&&(o=a)}}),o}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(n,i)=>n.setValueActive(i,e),()=>{},()=>{},n=>{const i=n.aggFunc;if(i===null||i==="")return null;if(i!==void 0)return!!i},n=>n.initialAggFunc!=null&&n.initialAggFunc!=""),this.valueColumns.forEach(n=>{const i=n.getColDef();i.aggFunc!=null&&i.aggFunc!=""?n.setAggFunc(i.aggFunc):n.getAggFunc()||n.setAggFunc(i.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(n,i)=>n.setRowGroupActive(i,e),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractColumns(e=[],t=[],n,i,o,s,a){const l=[],u=[];(this.primaryColumns||[]).forEach(h=>{const f=e.indexOf(h)<0,p=h.getColDef(),g=au(s(p)),C=au(a(p)),m=Ea(i(p)),y=Ea(o(p));let w;g!==void 0?w=g:m!==void 0?m===null?w=!1:w=m>=0:f?C!==void 0?w=C:y!==void 0?w=y!=null&&y>=0:w=!1:w=t.indexOf(h)>=0,w&&((f?m!=null||y!=null:m!=null)?l.push(h):u.push(h))});const c=h=>{const f=i(h.getColDef()),p=o(h.getColDef());return f??p};l.sort((h,f)=>{const p=c(h),g=c(f);return p===g?0:p<g?-1:1});const d=[].concat(l);return t.forEach(h=>{u.indexOf(h)>=0&&d.push(h)}),u.forEach(h=>{d.indexOf(h)<0&&d.push(h)}),t.forEach(h=>{d.indexOf(h)<0&&n(h,!1)}),d.forEach(h=>{t.indexOf(h)<0&&n(h,!0)}),d}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(n,i)=>n.setPivotActive(i,e),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}resetColumnGroupState(e="api"){const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,n=>{if(n instanceof An){const i=n.getColGroupDef(),o={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};t.push(o)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof An&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t="api"){this.columnAnimationService.start();const n=[];e.forEach(i=>{const o=i.groupId,s=i.open,a=this.getProvidedColumnGroup(o);a&&a.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+s+")"),a.setExpanded(s),n.push(a))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),n.forEach(i=>{const o={type:A.EVENT_COLUMN_GROUP_OPENED,columnGroup:i};this.eventService.dispatchEvent(o)}),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,n="api"){let i;e instanceof An?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{n instanceof An&&n.getId()===e&&(t=n)}),t}calculateColumnsForDisplay(){let e;return this.pivotMode&&dt(this.secondaryColumns)?e=this.gridColumns.filter(t=>{const n=this.groupAutoColumns&&Tu(this.groupAutoColumns,t),i=this.valueColumns&&Tu(this.valueColumns,t);return n||i}):e=this.gridColumns.filter(t=>this.groupAutoColumns&&Tu(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(n=>{he(n.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=t=>{const n=t.getColDef(),i=n.showRowGroup;n&&he(i)&&(this.groupDisplayColumns.push(t),typeof i=="string"?this.groupDisplayColumnsMap[i]=t:i===!0&&this.getRowGroupColumns().forEach(o=>{this.groupDisplayColumnsMap[o.getId()]=t}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return he(this.secondaryColumns)}setSecondaryColumns(e,t="api"){const n=e&&e.length>0;if(!(!n&&dt(this.secondaryColumns))){if(n){this.processSecondaryColumnDefinitions(e);const i=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(o=>this.secondaryColumnsMap[o.getId()]=o),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!t&&!n)return;const i=o=>{o.forEach(s=>{if(he(s.children)){const l=s;n&&n(l),i(l.children)}else t&&t(s)})};e&&i(e)}updateGridColumns(){const e=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;let t;if(this.secondaryColumns&&this.secondaryBalancedTree){const i=this.secondaryColumns.every(o=>this.gridColumnsMap[o.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){const i=qd(this.groupAutoColumns.map(o=>[o,!0]));t=t.filter(o=>!i.has(o)),t=[...this.groupAutoColumns,...t]}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(i=>this.gridColumnsMap[i.getId()]=i),this.setAutoHeightActive(),!rh(e,this.gridBalancedTree)){const i={type:A.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")))){const t="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";Ut(()=>console.warn(t),"autoHeightActive.wrongRowModel")}}orderGridColsLike(e){if(dt(e))return;const t=qd(e.map((u,c)=>[u,c]));let n=!0;if(this.gridColumns.forEach(u=>{t.has(u)&&(n=!1)}),n)return;const i=qd(this.gridColumns.map(u=>[u,!0])),o=e.filter(u=>i.has(u)),s=qd(o.map(u=>[u,!0])),a=this.gridColumns.filter(u=>!s.has(u)),l=o.slice();a.forEach(u=>{let c=u.getOriginalParent();if(!c){l.push(u);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(g=>{const C=l.indexOf(g)>=0,m=d.indexOf(g)<0;C&&m&&d.push(g)}),c=c.getOriginalParent();if(!d.length){l.push(u);return}const h=d.map(p=>l.indexOf(p)),f=Math.max(...h);XS(l,u,f+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?t:t.filter(n=>n.isVisible()||n.isRowGroupActive())}placeLockedColumns(e){const t=[],n=[],i=[];return e.forEach(o=>{const s=o.getColDef().lockPosition;s==="right"?i.push(o):s==="left"||s===!0?t.push(o):n.push(o)}),[...t,...n,...i]}addAutoGroupToGridColumns(){if(dt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:A.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.primaryColumns.slice(0),n=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(i=>{if(n){let o=this.getWidthOfColsInList(i);i.forEach(s=>{o-=s.getActualWidth(),s.setLeft(o,e)})}else{let o=0;i.forEach(s=>{s.setLeft(o,e),o+=s.getActualWidth()})}gde(t,i)}),t.forEach(i=>{i.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof ni&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,n=>{n instanceof rt&&t.push(n)})}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let n;switch(e){case"left":n=this.viewportRowLeft[t];break;case"right":n=this.viewportRowRight[t];break;default:n=this.viewportRowCenter[t];break}return dt(n)&&(n=[]),n}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(n=>e[n.getId()]=!0);const t=(n,i,o)=>{let s=!1;for(let a=0;a<n.length;a++){const l=n[a];let u=!1;if(l instanceof rt)u=e[l.getId()]===!0;else{const d=l.getDisplayedChildren();d&&(u=t(d,i,o+1))}u&&(s=!0,i[o]||(i[o]=[]),i[o].push(l))}return s};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.viewportColumns.map(e).join("#"),n=this.viewportColumnsHash!==t;return n&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),n}refreshFlexedColumns(e={}){var t;const n=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=-1;if(e.resizingCols){const f=new Set(e.resizingCols);let p=this.displayedColumnsCenter;for(let g=p.length-1;g>=0;g--)if(f.has(p[g])){i=g;break}}let o=0,s=[],a=0,l=0;for(let f=0;f<this.displayedColumnsCenter.length;f++)this.displayedColumnsCenter[f].getFlex()&&f>i?(s.push(this.displayedColumnsCenter[f]),l+=this.displayedColumnsCenter[f].getFlex(),a+=(t=this.displayedColumnsCenter[f].getMinWidth())!==null&&t!==void 0?t:0):o+=this.displayedColumnsCenter[f].getActualWidth();if(!s.length)return[];let u=[];o+a>this.flexViewportWidth&&(s.forEach(f=>{var p;return f.setActualWidth((p=f.getMinWidth())!==null&&p!==void 0?p:0,n)}),u=s,s=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-o;const f=d/l;for(let p=0;p<s.length;p++){const g=s[p],C=f*g.getFlex();let m=0;const y=g.getMinWidth(),w=g.getMaxWidth();if(he(y)&&C<y?m=y:he(w)&&C>w&&(m=w),m){g.setActualWidth(m,n),Mj(s,g),l-=g.getFlex(),u.push(g),o+=g.getActualWidth();continue e}c[p]=Math.round(C)}break}let h=d;return s.forEach((f,p)=>{f.setActualWidth(Math.min(c[p],h),n),u.push(f),h-=c[p]}),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,n,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){var o,s,a,l,u;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,n,i));return}const c={};i&&((o=i==null?void 0:i.columnLimits)===null||o===void 0||o.forEach(y=>{var{key:w}=y,E=P7e(y,["key"]);c[typeof w=="string"?w:w.getColId()]=E}));const d=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(d);if(e<=0||!d.length||h)return;const f=[],p=[];d.forEach(y=>{y.getColDef().suppressSizeToFit===!0?p.push(y):f.push(y)});const g=f.slice(0);let C=!1;const m=y=>{Ls(f,y),p.push(y)};for(f.forEach(y=>{var w,E;y.resetActualWidth(t);const P=c==null?void 0:c[y.getId()],T=(w=P==null?void 0:P.minWidth)!==null&&w!==void 0?w:i==null?void 0:i.defaultMinWidth,R=(E=P==null?void 0:P.maxWidth)!==null&&E!==void 0?E:i==null?void 0:i.defaultMaxWidth,_=y.getActualWidth();typeof T=="number"&&_<T?y.setActualWidth(T,t,!0):typeof R=="number"&&_>R&&y.setActualWidth(R,t,!0)});!C;){C=!0;const y=e-this.getWidthOfColsInList(p);if(y<=0)f.forEach(w=>{var E,P;const T=(P=(E=c==null?void 0:c[w.getId()])===null||E===void 0?void 0:E.minWidth)!==null&&P!==void 0?P:i==null?void 0:i.defaultMinWidth;if(typeof T=="number"){w.setActualWidth(T,t,!0);return}w.setMinimum(t)});else{const w=y/this.getWidthOfColsInList(f);let E=y;for(let P=f.length-1;P>=0;P--){const T=f[P],R=c==null?void 0:c[T.getId()],_=(s=R==null?void 0:R.minWidth)!==null&&s!==void 0?s:i==null?void 0:i.defaultMinWidth,b=(a=R==null?void 0:R.maxWidth)!==null&&a!==void 0?a:i==null?void 0:i.defaultMaxWidth,D=(l=T.getMinWidth())!==null&&l!==void 0?l:0,M=(u=T.getMaxWidth())!==null&&u!==void 0?u:Number.MAX_VALUE,G=typeof _=="number"&&_>D?_:T.getMinWidth(),I=typeof b=="number"&&b<M?b:T.getMaxWidth();let L=Math.round(T.getActualWidth()*w);he(G)&&L<G?(L=G,m(T),C=!1):he(I)&&L>I?(L=I,m(T),C=!1):P===0&&(L=E),T.setActualWidth(L,t,!0),E-=L}}}g.forEach(y=>{y.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!n&&this.dispatchColumnResizedEvent(g,!0,t)}buildDisplayedTrees(e){const t=[],n=[],i=[];e.forEach(s=>{switch(s.getPinned()){case"left":t.push(s);break;case"right":n.push(s);break;default:i.push(s);break}});const o=new p7e;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,o,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,o,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,o,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof ni&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"))&&!n&&!t){const s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||e)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){const e=this.gridOptionsService.get("groupDisplayType");if(e?YV("custom",e):!1)return!0;const n=this.gridOptionsService.get("treeDataDisplayType");return n?b7e("custom",n):!1}autoColsEqual(e,t){return rh(e,t,(n,i)=>n.getColId()===i.getColId())}getWidthOfColsInList(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}getGridBalancedTree(){return this.gridBalancedTree}getFirstDisplayedColumn(){const e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]]();if(i.length)return e?Pn(i):i[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const i={type:A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(i)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gridOptionsService.getNum("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e){const t=e.getUserProvidedColDef();if(!t)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(t,e.getColId());return e.setColDef(n,t),!0}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={};const i=(o,s,a,l,u,c)=>{if(!s.length||!this.primaryColumns)return[];const d=Object.keys(o),h=new Set(d),f=new Set(d),p=new Set(s.map(T=>{const R=T.getColId();return f.delete(R),R}).concat(d)),g=[],C={};let m=0;for(let T=0;T<this.primaryColumns.length;T++){const R=this.primaryColumns[T].getColId();p.has(R)&&(g.push(R),C[R]=m++)}let y=1e3,w=!1,E=0;const P=T=>{const R=C[T];for(let _=E;_<R;_++){const b=g[_];f.has(b)&&(o[b][u]=y++,f.delete(b))}E=R};s.forEach(T=>{const R=T.getColId();if(h.has(R))P(R),o[R][u]=y++;else{const _=T.getColDef();(_[u]===null||_[u]===void 0&&_[c]==null)&&(w||(_[a]||_[a]===void 0&&_[l]?P(R):(f.forEach(M=>{o[M][u]=y+C[M]}),y+=g.length,w=!0)),n[R]||(n[R]={colId:R}),n[R][u]=y++)}})};return i(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}};ji([x("expressionService")],yi.prototype,"expressionService",void 0);ji([x("columnFactory")],yi.prototype,"columnFactory",void 0);ji([x("displayedGroupCreator")],yi.prototype,"displayedGroupCreator",void 0);ji([x("ctrlsService")],yi.prototype,"ctrlsService",void 0);ji([x("autoWidthCalculator")],yi.prototype,"autoWidthCalculator",void 0);ji([x("columnUtils")],yi.prototype,"columnUtils",void 0);ji([x("columnAnimationService")],yi.prototype,"columnAnimationService",void 0);ji([x("autoGroupColService")],yi.prototype,"autoGroupColService",void 0);ji([Bt("aggFuncService")],yi.prototype,"aggFuncService",void 0);ji([Bt("valueCache")],yi.prototype,"valueCache",void 0);ji([Bt("animationFrameService")],yi.prototype,"animationFrameService",void 0);ji([x("sortController")],yi.prototype,"sortController",void 0);ji([x("columnDefFactory")],yi.prototype,"columnDefFactory",void 0);ji([ge],yi.prototype,"init",null);ji([Bi],yi.prototype,"destroyColumns",null);ji([T7e(0,To("loggerFactory"))],yi.prototype,"setBeans",null);yi=ji([De("columnModel")],yi);var O7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let kY=class extends de{calculateColMinWidth(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),n=this.calculateColMaxWidth(e);let i;const o=Ea(e.width),s=Ea(e.initialWidth);return o!=null?i=o:s!=null?i=s:i=200,Math.max(Math.min(i,n),t)}getOriginalPathForColumn(e,t){const n=[];let i=!1;const o=(s,a)=>{for(let l=0;l<s.length;l++){if(i)return;const u=s[l];u instanceof An?(o(u.getChildren(),a+1),n[a]=u):u===e&&(i=!0)}};return o(t,0),i?n:null}depthFirstOriginalTreeSearch(e,t,n){t&&t.forEach(i=>{i instanceof An&&this.depthFirstOriginalTreeSearch(i,i.getChildren(),n),n(i,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(n=>{n instanceof ni&&this.depthFirstAllColumnTreeSearch(n.getChildren(),t),t(n)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(n=>{n instanceof ni&&this.depthFirstDisplayedColumnTreeSearch(n.getDisplayedChildren(),t),t(n)})}};kY=O7e([De("columnUtils")],kY);var D7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let HY=class extends de{createDisplayedGroups(e,t,n,i){const o=this.mapOldGroupsById(i),s=[];let a=e;for(;a.length;){const l=a;a=[];let u=0;const c=d=>{const h=u;u=d;const f=l[h],g=(f instanceof ni?f.getProvidedColumnGroup():f).getOriginalParent();if(g==null){for(let m=h;m<d;m++)s.push(l[m]);return}const C=this.createColumnGroup(g,t,o,n);for(let m=h;m<d;m++)C.addChild(l[m]);a.push(C)};for(let d=1;d<l.length;d++){const h=l[d],p=(h instanceof ni?h.getProvidedColumnGroup():h).getOriginalParent(),g=l[u],m=(g instanceof ni?g.getProvidedColumnGroup():g).getOriginalParent();p!==m&&c(d)}u<l.length&&c(l.length)}return this.setupParentsIntoColumns(s,null),s}createColumnGroup(e,t,n,i){const o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=ni.createUniqueId(o,s);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),he(l)?l.reset():(l=new ni(e,o,s,i),this.context.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(o=>{if(o instanceof ni){const s=o;t[o.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoColumns(e,t){e.forEach(n=>{if(n.setParent(t),n instanceof ni){const i=n;this.setupParentsIntoColumns(i.getChildren(),i)}})}};HY=D7e([De("displayedGroupCreator")],HY);var A7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let $Y=class extends de{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};$Y=A7e([De("agStackComponentsRegistry")],$Y);function Il(r,e,t){t==null||t==""?Gj(r,e):ka(r,e,t)}function ka(r,e,t){r.setAttribute(Tde(e),t.toString())}function Gj(r,e){r.removeAttribute(Tde(e))}function Tde(r){return`aria-${r}`}function ai(r,e){e?r.setAttribute("role",e):r.removeAttribute("role")}function Pde(r){let e;return r==="asc"?e="ascending":r==="desc"?e="descending":r==="mixed"?e="other":e="none",e}function Ode(r){return parseInt(r.getAttribute("aria-level"),10)}function Dde(r){return parseInt(r.getAttribute("aria-posinset"),10)}function x7e(r){return r.getAttribute("aria-describedby")||""}function Jc(r,e){Il(r,"label",e)}function BF(r,e){Il(r,"labelledby",e)}function Ade(r,e){Il(r,"description",e)}function xde(r,e){Il(r,"describedby",e)}function Ide(r,e){Il(r,"live",e)}function Fde(r,e){Il(r,"level",e)}function Vj(r,e){Il(r,"disabled",e)}function jF(r,e){Il(r,"hidden",e)}function kj(r,e){Il(r,"activedescendant",e)}function ll(r,e){ka(r,"expanded",e)}function Mde(r){Gj(r,"expanded")}function Hj(r,e){ka(r,"setsize",e)}function $j(r,e){ka(r,"posinset",e)}function Lde(r,e){ka(r,"multiselectable",e)}function Nde(r,e){ka(r,"rowcount",e)}function Bj(r,e){ka(r,"rowindex",e)}function Gde(r,e){ka(r,"colcount",e)}function jj(r,e){ka(r,"colindex",e)}function Vde(r,e){ka(r,"colspan",e)}function kde(r,e){ka(r,"sort",e)}function Hde(r){Gj(r,"sort")}function Np(r,e){Il(r,"selected",e)}function $de(r,e){ka(r,"checked",e===void 0?"mixed":e)}function Bde(r,e){Il(r,"controls",e.id),BF(e,r.id)}function WF(r,e){return e===void 0?r("ariaIndeterminate","indeterminate"):e===!0?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}const I7e=Object.freeze(Object.defineProperty({__proto__:null,getAriaCheckboxStateName:WF,getAriaDescribedBy:x7e,getAriaLevel:Ode,getAriaPosInSet:Dde,getAriaSortState:Pde,removeAriaExpanded:Mde,removeAriaSort:Hde,setAriaActiveDescendant:kj,setAriaChecked:$de,setAriaColCount:Gde,setAriaColIndex:jj,setAriaColSpan:Vde,setAriaControls:Bde,setAriaDescribedBy:xde,setAriaDescription:Ade,setAriaDisabled:Vj,setAriaExpanded:ll,setAriaHidden:jF,setAriaLabel:Jc,setAriaLabelledBy:BF,setAriaLevel:Fde,setAriaLive:Ide,setAriaMultiSelectable:Lde,setAriaPosInSet:$j,setAriaRole:ai,setAriaRowCount:Nde,setAriaRowIndex:Bj,setAriaSelected:Np,setAriaSetSize:Hj,setAriaSort:kde},Symbol.toStringTag,{value:"Module"}));let uN,Nb,cN,dN,hN,fN,qV,QV;function Rl(){return uN===void 0&&(uN=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),uN}function Wj(){if(Nb===void 0)if(Rl()){const r=navigator.userAgent.match(/version\/(\d+)/i);r&&(Nb=r[1]!=null?parseFloat(r[1]):0)}else Nb=0;return Nb}function UF(){if(cN===void 0){const r=window;cN=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return cN}function Uj(){return dN===void 0&&(dN=/(firefox)/i.test(navigator.userAgent)),dN}function zj(){return hN===void 0&&(hN=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),hN}function Xh(){return fN===void 0&&(fN=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),fN}function zF(){return!Rl()||Wj()>=15}function BA(r){if(!r)return null;const e=r.tabIndex,t=r.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!Uj())?null:e.toString()}function jde(){if(!document.body)return-1;let r=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){const n=r*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;r=n}return document.body.removeChild(t),r}function Wde(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function Ude(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function zde(){return QV==null&&Kde(),QV}function Kde(){const r=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",r.appendChild(e);let t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(QV=t,qV=t===0)}function eE(){return qV==null&&Kde(),qV}const F7e=Object.freeze(Object.defineProperty({__proto__:null,browserSupportsPreventScroll:zF,getBodyHeight:Ude,getBodyWidth:Wde,getMaxDivHeight:jde,getSafariVersion:Wj,getScrollbarWidth:zde,getTabIndex:BA,isBrowserChrome:UF,isBrowserFirefox:Uj,isBrowserSafari:Rl,isIOSUserAgent:Xh,isInvisibleScrollbar:eE,isMacOsUserAgent:zj},Symbol.toStringTag,{value:"Module"}));function ev(r,e){return r.toString().padStart(e,"0")}function Yde(r,e){const t=[];for(let n=r;n<=e;n++)t.push(n);return t}function M7e(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function L7e(r,e){let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r&255),r>>>=8;return t}function N7e(r,e,t){return typeof r!="number"?"":Kj(Math.round(r*100)/100,e,t)}function Kj(r,e,t){return typeof r!="number"?"":r.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function G7e(r){return r==null?null:r.reduce((e,t)=>e+t,0)}function V7e(r,e){return r>=0?r:e}function k7e(r,e){const t=parseInt(r,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}const H7e=Object.freeze(Object.defineProperty({__proto__:null,cleanNumber:M7e,createArrayOfNumbers:Yde,decToHex:L7e,formatNumberCommas:Kj,formatNumberTwoDecimalPlacesAndCommas:N7e,oneOrGreater:k7e,padStartWidthZeros:ev,sum:G7e,zeroOrGreater:V7e},Symbol.toStringTag,{value:"Module"}));function Gc(r,e=!0,t="-"){if(!r)return null;let n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(i=>ev(i,2)).join(t);return e&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(i=>ev(i,2)).join(":")),n}const pN=r=>{if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function tv(r,e="YYYY-MM-DD"){const t=ev(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>t.slice(t.length-4,t.length),YY:()=>t.slice(t.length-2,t.length),Y:()=>`${r.getFullYear()}`,MMMM:()=>n[r.getMonth()],MMM:()=>n[r.getMonth()].slice(0,3),MM:()=>ev(r.getMonth()+1,2),Mo:()=>`${r.getMonth()+1}${pN(r.getMonth()+1)}`,M:()=>`${r.getMonth()+1}`,Do:()=>`${r.getDate()}${pN(r.getDate())}`,DD:()=>ev(r.getDate(),2),D:()=>`${r.getDate()}`,dddd:()=>i[r.getDay()],ddd:()=>i[r.getDay()].slice(0,3),dd:()=>i[r.getDay()].slice(0,2),do:()=>`${r.getDay()}${pN(r.getDay())}`,d:()=>`${r.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,a=>a in o?o[a]():a)}function js(r){if(!r)return null;const[e,t]=r.split(" ");if(!e)return null;const n=e.split("-").map(d=>parseInt(d,10));if(n.filter(d=>!isNaN(d)).length!==3)return null;const[i,o,s]=n,a=new Date(i,o-1,s);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!t||t==="00:00:00")return a;const[l,u,c]=t.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}const $7e=Object.freeze(Object.defineProperty({__proto__:null,dateToFormattedString:tv,parseDateTimeFromString:js,serialiseDate:Gc},Symbol.toStringTag,{value:"Module"}));let Gb;function XV(r,e,t){const n=r.parentElement;let i=n&&n.firstChild;for(;i;)e&&i.classList.toggle(e,i===r),t&&i.classList.toggle(t,i!==r),i=i.nextSibling}const qde="[tabindex], input, select, button, textarea, [href]",Yj=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *.mjs";function qj(r){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(r,"input, select, button, textarea"),i=e.call(r,Yj),o=Zh(r);return n&&!i&&o}function Jt(r,e,t={}){const{skipAriaHidden:n}=t;r.classList.toggle("ag-hidden",!e),n||jF(r,!e)}function Qde(r,e,t={}){const{skipAriaHidden:n}=t;r.classList.toggle("ag-invisible",!e),n||jF(r,!e)}function Nv(r,e){const t="disabled",n=e?i=>i.setAttribute(t,""):i=>i.removeAttribute(t);n(r),tW(r.querySelectorAll("input"),i=>n(i))}function hp(r,e,t){let n=0;for(;r;){if(r.classList.contains(e))return!0;if(r=r.parentElement,typeof t=="number"){if(++n>t)break}else if(r===t)break}return!1}function Jh(r){const{height:e,width:t,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:f,marginLeft:p,boxSizing:g}=window.getComputedStyle(r);return{height:parseFloat(e),width:parseFloat(t),borderTopWidth:parseFloat(n),borderRightWidth:parseFloat(i),borderBottomWidth:parseFloat(o),borderLeftWidth:parseFloat(s),paddingTop:parseFloat(a),paddingRight:parseFloat(l),paddingBottom:parseFloat(u),paddingLeft:parseFloat(c),marginTop:parseFloat(d),marginRight:parseFloat(h),marginBottom:parseFloat(f),marginLeft:parseFloat(p),boxSizing:g}}function R_(r){const e=Jh(r);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function KF(r){const e=Jh(r);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function Qj(r){const e=Jh(r),t=e.marginBottom+e.marginTop;return Math.ceil(r.offsetHeight+t)}function tE(r){const e=Jh(r),t=e.marginLeft+e.marginRight;return Math.ceil(r.offsetWidth+t)}function Xj(r){const e=r.getBoundingClientRect(),{borderTopWidth:t,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:o}=Jh(r);return{top:e.top+(t||0),left:e.left+(n||0),right:e.right+(i||0),bottom:e.bottom+(o||0)}}function nE(){if(typeof Gb=="boolean")return Gb;const r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,Gb=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),Gb}function rE(r,e){let t=r.scrollLeft;return e&&(t=Math.abs(t),UF()&&!nE()&&(t=r.scrollWidth-r.clientWidth-t)),t}function iE(r,e,t){t&&(nE()?e*=-1:(Rl()||UF())&&(e=r.scrollWidth-r.clientWidth-e)),r.scrollLeft=e}function uo(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function B7e(r,e){fc(r.querySelector(e))}function fc(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Zh(r){return r.offsetParent!==null}function Ai(r){const e=document.createElement("div");return e.innerHTML=(r||"").trim(),e.firstChild}function j7e(r,e){r.lastChild?r.insertAdjacentHTML("afterbegin",e):r.innerHTML=e}function W7e(r,e){return r.attributes&&r.attributes[e]?r.attributes[e].value:null}function JV(r){return r&&r.clientHeight?r.clientHeight:0}function ZV(r){return r&&r.clientWidth?r.clientWidth:0}function Jj(r,e,t){if(t&&t.nextSibling===e)return;const n=document.activeElement,i=e.contains(n);t?t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e):r.firstChild&&r.firstChild!==e&&r.insertAdjacentElement("afterbegin",e),i&&n&&zF()&&n.focus({preventScroll:!0})}function Zj(r,e){for(let t=0;t<e.length;t++){const n=e[t],i=r.children[t];i!==n&&r.insertBefore(n,i)}}function Xde(r,e,t){t?t.insertAdjacentElement("afterend",e):r.firstChild?r.insertAdjacentElement("afterbegin",e):r.appendChild(e)}function U7e(r,e){he(r.firstChild)?r.insertBefore(e,r.firstChild):r.appendChild(e)}function eW(r,e){if(e)for(const[t,n]of Object.entries(e)){if(!t||!t.length||n==null)continue;const i=Rde(t),o=n.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;r.style.setProperty(i,s,a)}}function Jde(r){return r.clientWidth<r.scrollWidth}function Zde(r){return r.clientHeight<r.scrollHeight}function oE(r,e){e==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):Ta(r,e)}function Ta(r,e){e=YF(e),r.style.width=e.toString(),r.style.maxWidth=e.toString(),r.style.minWidth=e.toString()}function z7e(r,e){e==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):fp(r,e)}function fp(r,e){e=YF(e),r.style.height=e.toString(),r.style.maxHeight=e.toString(),r.style.minHeight=e.toString()}function YF(r){return typeof r=="number"?`${r}px`:r}function b_(r){return r instanceof Node||r instanceof HTMLElement}function ehe(r){if(r==null)return[];const e=[];return tW(r,t=>e.push(t)),e}function the(r,e){if(r)for(let t=0;t<r.length;t++){const n=r[t];e(n.name,n.value)}}function pp(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t.toString())}function tW(r,e){if(r!=null)for(let t=0;t<r.length;t++)e(r[t])}function nW(r,e){r.then(t=>{const n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}const K7e=Object.freeze(Object.defineProperty({__proto__:null,FOCUSABLE_EXCLUDE:Yj,FOCUSABLE_SELECTOR:qde,addOrRemoveAttribute:pp,addStylesToElement:eW,appendHtml:j7e,bindCellRendererToHtmlElement:nW,clearElement:uo,copyNodeList:ehe,ensureDomOrder:Jj,formatSize:YF,getAbsoluteHeight:Qj,getAbsoluteWidth:tE,getElementAttribute:W7e,getElementRectWithOffset:Xj,getElementSize:Jh,getInnerHeight:R_,getInnerWidth:KF,getScrollLeft:rE,insertWithDomOrder:Xde,isElementChildOfClass:hp,isFocusableFormField:qj,isHorizontalScrollShowing:Jde,isNodeOrElement:b_,isRtlNegativeScroll:nE,isVerticalScrollShowing:Zde,isVisible:Zh,iterateNamedNodeMap:the,loadTemplate:Ai,nodeListForEach:tW,offsetHeight:JV,offsetWidth:ZV,prependDC:U7e,radioCssClass:XV,removeElement:B7e,removeFromParent:fc,setDisabled:Nv,setDisplayed:Jt,setDomChildOrder:Zj,setElementHeight:z7e,setElementWidth:oE,setFixedHeight:fp,setFixedWidth:Ta,setScrollLeft:iE,setVisible:Qde},Symbol.toStringTag,{value:"Module"})),nhe={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function ga(r,e,t){const n=Fr(r,e,t);if(n){const{className:o}=n;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}function Fr(r,e,t,n){let i=null;const o=t&&t.getColDef().icons;if(o&&(i=o[r]),e&&!i){const s=e.get("icons");s&&(i=s[r])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return Ai(s);if(b_(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const s=document.createElement("span");let a=nhe[r];return a||(n?a=r:(console.warn(`AG Grid: Did not find icon ${r}`),a="")),s.setAttribute("class",`ag-icon ag-icon-${a}`),s.setAttribute("unselectable","on"),ai(s,"presentation"),s}}const Y7e=Object.freeze(Object.defineProperty({__proto__:null,createIcon:ga,createIconNoSpan:Fr,iconNameClassMap:nhe},Symbol.toStringTag,{value:"Module"}));let X=class{};X.BACKSPACE="Backspace";X.TAB="Tab";X.ENTER="Enter";X.ESCAPE="Escape";X.SPACE=" ";X.LEFT="ArrowLeft";X.UP="ArrowUp";X.RIGHT="ArrowRight";X.DOWN="ArrowDown";X.DELETE="Delete";X.F2="F2";X.PAGE_UP="PageUp";X.PAGE_DOWN="PageDown";X.PAGE_HOME="Home";X.PAGE_END="End";X.A="KeyA";X.C="KeyC";X.D="KeyD";X.V="KeyV";X.X="KeyX";X.Y="KeyY";X.Z="KeyZ";const q7e=65,Q7e=67,X7e=86,J7e=68,Z7e=90,eYe=89;function qF(r){return r.altKey||r.ctrlKey||r.metaKey?!1:r.key.length===1}function jA(r,e,t,n,i){const o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s={event:e,editing:i,column:n,api:r.api,node:t,data:t.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};return!!(o&&o(s))}function rhe(r,e,t,n){const i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!he(o))return!1;const s={api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:t,event:e};return!!o(s)}function ihe(r){const{keyCode:e}=r;let t;switch(e){case q7e:t=X.A;break;case Q7e:t=X.C;break;case X7e:t=X.V;break;case J7e:t=X.D;break;case Z7e:t=X.Z;break;case eYe:t=X.Y;break;default:t=r.code}return t}function ohe(r,e=!1){return r===X.DELETE?!0:!e&&r===X.BACKSPACE?zj():!1}const tYe=Object.freeze(Object.defineProperty({__proto__:null,isDeleteKey:ohe,isEventFromPrintableCharacter:qF,isUserSuppressingHeaderKeyboardEvent:rhe,isUserSuppressingKeyboardEvent:jA,normaliseQwertyAzerty:ihe},Symbol.toStringTag,{value:"Module"}));function rW(r,e,t){if(t===0)return!1;const n=Math.abs(r.clientX-e.clientX),i=Math.abs(r.clientY-e.clientY);return Math.max(n,i)<=t}const nYe=Object.freeze(Object.defineProperty({__proto__:null,areEventsNear:rW},Symbol.toStringTag,{value:"Module"}));function rYe(r,e){if(!r)return!1;const t=(s,a)=>{const l=e[s.id],u=e[a.id],c=l!==void 0,d=u!==void 0,h=c&&d,f=!c&&!d;return h?l-u:f?s.__objectId-a.__objectId:c?1:-1};let n,i,o=!1;for(let s=0;s<r.length-1;s++)if(n=r[s],i=r[s+1],t(n,i)>0){o=!0;break}return o?(r.sort(t),!0):!1}function iYe(r,e){const t=[];n(r);function n(i){i&&i.forEach(o=>{if(o.group||o.hasChildren()){t.push(o.key);const s=t.join("|");e(o,s),n(o.childrenAfterGroup),t.pop()}})}}const oYe=Object.freeze(Object.defineProperty({__proto__:null,sortRowNodesByOrder:rYe,traverseNodesWithKey:iYe},Symbol.toStringTag,{value:"Module"}));function iW(r){const e=new Set;return r.forEach(t=>e.add(t)),e}const sYe=Object.freeze(Object.defineProperty({__proto__:null,convertToSet:iW},Symbol.toStringTag,{value:"Module"})),aYe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},I7e),u7e),F7e),$7e),K7e),d7e),Z8e),R7e),j8e),Y7e),tYe),E7e),nYe),H7e),Q8e),oYe),sYe),C7e),q=aYe;let QF=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}};var Fm;(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"})(Fm||(Fm={}));let ur=class yP{constructor(e){this.status=Fm.IN_PROGRESS,this.resolution=null,this.waiters=[],e(t=>this.onDone(t),t=>this.onReject(t))}static all(e){return new yP(t=>{let n=e.length;const i=new Array(n);e.forEach((o,s)=>{o.then(a=>{i[s]=a,n--,n===0&&t(i)})})})}static resolve(e=null){return new yP(t=>t(e))}then(e){return new yP(t=>{this.status===Fm.RESOLVED?t(e(this.resolution)):this.waiters.push(n=>t(e(n)))})}resolveNow(e,t){return this.status===Fm.RESOLVED?t(this.resolution):e}onDone(e){this.status=Fm.RESOLVED,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){console.warn("TBI")}};var oW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Xa;(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"})(Xa||(Xa={}));var Jl;(function(r){r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS"})(Jl||(Jl={}));let mg=class Mf extends de{constructor(e,t,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=n,this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=Xa.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===Jl.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Jl.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const t=this.gridOptionsService.getNum(e);if(he(t))return t<0&&Ut(()=>console.warn(`AG Grid: ${e} should not be lower than 0`),`${e}Warn`),Math.max(200,t)}getTooltipDelay(e){var t,n,i,o;return e==="show"?(n=(t=this.getGridOptionsTooltipDelay("tooltipShowDelay"))!==null&&t!==void 0?t:this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.DEFAULT_SHOW_TOOLTIP_DELAY:(o=(i=this.getGridOptionsTooltipDelay("tooltipHideDelay"))!==null&&i!==void 0?i:this.tooltipHideDelayOverride)!==null&&o!==void 0?o:this.DEFAULT_HIDE_TOOLTIP_DELAY}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?Jl.HOVER:Jl.FOCUS}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Xh()&&(Mf.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===Xa.SHOWING&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var t;const n=e.relatedTarget,i=this.parentComp.getGui(),o=(t=this.tooltipComp)===null||t===void 0?void 0:t.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&(o!=null&&o.contains(n))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=Xa.NOTHING||Mf.isLocked)return!1;let t=0;return e&&(t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=Xa.WAITING_TO_SHOW,!0}isLastTooltipHiddenRecently(){const e=new Date().getTime(),t=Mf.lastTooltipHideTime;return e-t<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===Xa.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=Xa.NOTHING,this.lastMouseEvent=null}showTooltip(){const e=Object.assign({},this.parentComp.getTooltipParams());if(!he(e.value)){this.setToDoNothing();return}this.state=Xa.SHOWING,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),Mf.lastTooltipHideTime=new Date().getTime());const t={type:A.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(t),this.state=Xa.NOTHING}newTooltipComponentCallback(e,t){if(this.state!==Xa.SHOWING||this.tooltipInstanceCount!==e){this.getContext().destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Jl.HOVER&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const o=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===Jl.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Jl.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:A.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var t;const n=this.parentComp.getGui(),i=(t=this.tooltipComp)===null||t===void 0?void 0:t.getGui(),o=e.relatedTarget;i!=null&&i.contains(o)||(this.isInteractingWithTooltip=!1,n.contains(o)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Object.assign(Object.assign({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Object.assign(Object.assign({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===Jl.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Mf.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){Mf.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};mg.isLocked=!1;oW([x("popupService")],mg.prototype,"popupService",void 0);oW([x("userComponentFactory")],mg.prototype,"userComponentFactory",void 0);oW([ge],mg.prototype,"postConstruct",null);let lYe=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(i=>this.addCssClass(i));return}if(this.cssClassStates[e]!==!0&&e.length){const i=this.getGui();i&&i.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(i=>this.removeCssClass(i));return}if(this.cssClassStates[e]!==!1&&e.length){const i=this.getGui();i&&i.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(o=>this.addOrRemoveCssClass(o,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}};var sW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const uYe=new QF;let ke=class ek extends de{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=uYe.next(),this.cssClassManager=new lYe(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e,t,n){const i=()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)},o=()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new mg(this,t,n))};this.tooltipText!=e&&(this.tooltipText&&i(),e!=null&&(this.tooltipText=e,this.tooltipText&&o()))}createChildComponentsFromTags(e,t){ehe(e.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const o=this.createComponentFromElement(i,s=>{s.getGui()&&this.copyAttributesFromNode(i,s.getGui())},t);if(o){if(o.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);o.addItems(s)}this.swapComponentForNode(o,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,o=n?n[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(i);if(s){ek.elementGettingCreated=e;const a=new s(o);return a.setParentComponent(this),this.createBean(a,null,t),a}return null}copyAttributesFromNode(e,t){the(e.attributes,(n,i)=>t.setAttribute(n,i))}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)}swapInComponentForQuerySelectors(e,t){const n=this;this.iterateOverQuerySelectors(i=>{n[i.attributeName]===t&&(n[i.attributeName]=e)})}iterateOverQuerySelectors(e){let t=Object.getPrototypeOf(this);for(;t!=null;){const n=t.__agComponentMetaData,i=Ij(t.constructor);n&&n[i]&&n[i].querySelectors&&n[i].querySelectors.forEach(o=>e(o)),t=Object.getPrototypeOf(t)}}activateTabIndex(e){const t=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t){const n=Ai(e);this.setTemplateFromElement(n,t)}setTemplateFromElement(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(t=>{const n=o=>e[t.attributeName]=o;if(t.refSelector&&this.getAttribute("ref")===t.refSelector)n(this.eGui);else{const o=this.eGui.querySelector(t.querySelector);o&&n(o.__agComponent||o)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,t){if(e!=null)if(t||(t=this.eGui),b_(e))t.appendChild(e);else{const n=e;t.appendChild(n.getGui())}}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;Qde(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Jt(this.eGui,e,{skipAriaHidden:n});const i={type:ek.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}getAttribute(e){const{eGui:t}=this;return t?t.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};ke.EVENT_DISPLAYED_CHANGED="displayedChanged";sW([x("agStackComponentsRegistry")],ke.prototype,"agStackComponentsRegistry",void 0);sW([VF],ke.prototype,"preConstructOnComponent",null);sW([VF],ke.prototype,"createChildComponentsPreConstruct",null);function pe(r){return cYe.bind(this,`[ref=${r}]`,r)}function cYe(r,e,t,n,i){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}dYe(t,"querySelectors",{attributeName:n,querySelector:r,refSelector:e})}function dYe(r,e,t){const n=hYe(r,Ij(r.constructor));n[e]||(n[e]=[]),n[e].push(t)}function hYe(r,e){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[e]||(r.__agComponentMetaData[e]={}),r.__agComponentMetaData[e]}var she=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let aW=class extends ke{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}onParamsUpdated(e){this.init(e)}};she([pe("eFloatingFilterText")],aW.prototype,"eFloatingFilterText",void 0);she([x("columnModel")],aW.prototype,"columnModel",void 0);let ahe=class{constructor(e,t,n,i){this.alive=!0,this.context=e,this.eParent=i,t.getDateCompDetails(n).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(i.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Jt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t;!((t=this.dateComp)===null||t===void 0)&&t.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},lhe=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(o=>e[o]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${i}'`),!1);if(!t.every(n)){this.filterOptions=this.filterOptions.filter(i=>i===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}};const uhe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var che=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let na=class dhe extends de{constructor(e,t={}){super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())}},t)}postConstruct(){this.eFocusableElement.classList.add(dhe.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",t=>{if(!(t.defaultPrevented||pl(t))){if(this.callbacks.shouldStopEventPropagation(t)){Lu(t);return}t.key===X.TAB?this.callbacks.onTabKeyDown(t):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(t)}})}};na.FOCUS_MANAGED_CLASS="ag-focus-managed";che([x("focusService")],na.prototype,"focusService",void 0);che([ge],na.prototype,"postConstruct",null);var lW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const hhe="ag-resizer-wrapper",fYe=`<div class="${hhe}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`;let vg=class extends de{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:o,height:s,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,c=0;const d=!!this.element.offsetParent;if(d){const h=this.findBoundaryElement(),f=window.getComputedStyle(h);if(f.minWidth!=null){const p=h.offsetWidth-this.element.offsetWidth;c=parseInt(f.minWidth,10)-p}if(f.minHeight!=null){const p=h.offsetHeight-this.element.offsetHeight;u=parseInt(f.minHeight,10)-p}}if(this.minHeight=o||u,this.minWidth=n||c,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&t){let h=this.boundaryEl,f=!0;if(h||(h=this.findBoundaryElement(),f=!1),h){const p=parseFloat(h.style.top),g=parseFloat(h.style.left);f?this.offsetElement(isNaN(g)?0:g,isNaN(p)?0:p):this.setPosition(g,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const i=!!e[t],o=this.getResizerElement(t),s={dragStartPixels:0,eElement:o,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(s),this.resizeListeners.push(s),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)fp(n,e),e=Qj(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const o=this.getAvailableHeight();o&&e>o&&(e=o)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?fp(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,a=e?0:o.top;let l=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();l=d-i.bottom}}return n+a-s-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ta(t,e),e=tE(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:o}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;o&&e+s>o&&(e=o-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ta(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:o,topBuffer:s}=e,a=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!o,a)?0:a,c=this.shouldSkipY(t,!!i,s,l)?0:l;return{movementX:u,movementY:c}}shouldSkipX(e,t,n,i){const o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:o.left;let u=l<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=a.right;return u?!0:(t?u=i<0&&e.clientX>l+s.left||i>0&&e.clientX<l+s.left:n?u=i<0&&e.clientX>a.right||i>0&&e.clientX<l+s.left:u=i<0&&e.clientX>a.right||i>0&&e.clientX<a.right,u)}shouldSkipY(e,t,n=0,i){const o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:o.top;let u=l<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=a.bottom;return u?!0:(t?u=i<0&&e.clientY>l+s.top+n||i>0&&e.clientY<l+s.top:u=i<0&&e.clientY>a.bottom||i>0&&e.clientY<a.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(fYe,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${hhe}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const o=e[i],s=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let a=this.minHeight||0,l=this.minWidth||0;if(s){const u=window.getComputedStyle(o);u.minHeight&&(a=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else a=o.offsetHeight,l=o.offsetWidth;t+=a,n+=l}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const o=n[i];o!==t&&(e?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:o,isBottom:s,isLeft:a}=this.currentResizer,l=o||a,u=s||i,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:a,isTop:i}),h=this.position.x,f=this.position.y;let p=0,g=0;if(l&&c){const C=a?-1:1,m=this.getWidth(),y=m+c*C;let w=!1;a&&(p=m-y,(h+p<=0||y<=this.minWidth)&&(w=!0,p=0)),w||this.setWidth(y)}if(u&&d){const C=i?-1:1,m=this.getHeight(),y=m+d*C;let w=!1;i?(g=m-y,(f+g<=0||y<=this.minHeight)&&(w=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&m<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||g)&&this.offsetElement(h+p,f+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const n={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(n)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:o,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+o,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};lW([x("popupService")],vg.prototype,"popupService",void 0);lW([x("resizeObserverService")],vg.prototype,"resizeObserverService",void 0);lW([x("dragService")],vg.prototype,"dragService",void 0);var uW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Gh=class CP extends ke{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new na(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new vg(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=CP.isUseApplyButton(e),this.createButtonPanel()}createButtonPanel(){const{buttons:e}=this.providedFilterParams;if(!e||e.length<1||this.isReadOnly())return;const t=document.createElement("div");t.classList.add("ag-filter-apply-panel");const n=i=>{let o,s;switch(i){case"apply":o=this.translate("applyFilter"),s=u=>this.onBtApply(!1,!1,u);break;case"clear":o=this.translate("clearFilter"),s=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),s=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),s=u=>{this.onBtCancel(u)};break;default:console.warn("AG Grid: Unknown button type specified");return}const l=Ai(`<button
                    type="${i==="apply"?"submit":"button"}"
                    ref="${i}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);t.appendChild(l),this.addManagedListener(l,"click",s)};iW(e).forEach(i=>n(i)),this.getGui().appendChild(t)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=CP.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),t=al(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.providedFilterParams;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi());Nv(this.getRefElement("applyFilterButton"),!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter",{positionableFeature:n,gridOptionsService:i}=this;t?(n.restoreLastSize(),n.setResizable(i.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,t){return CP.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,uhe[e])}getCellValue(e){const{api:t,colDef:n,column:i,columnApi:o,context:s}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:t,colDef:n,column:i,columnApi:o,context:s,data:e.data,getValue:a=>e.data[a],node:e})}getPositionableElement(){return this.eFilterBody}};uW([x("rowModel")],Gh.prototype,"rowModel",void 0);uW([pe("eFilterBody")],Gh.prototype,"eFilterBody",void 0);uW([ge],Gh.prototype,"postConstruct",null);var pYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let cW=class extends ke{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i}=this.config;e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){uo(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Jt(this.eLabel,!1),ai(this.eLabel,"presentation")):(Jt(this.eLabel,!0),ai(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(oE(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Nv(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};pYe([ge],cW.prototype,"postConstruct",null);let fhe=class extends cW{constructor(e,t,n){super(e,t),this.className=n}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(e){return this.addManagedListener(this,A.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ta(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:A.EVENT_FIELD_VALUE_CHANGED}),this)}};var T_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const gYe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`;let yg=class extends fhe{constructor(e){if(super(e,(e==null?void 0:e.template)||gYe,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:o,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),o!=null&&this.setPickerMinWidth(o),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();xde(t,e),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:n}=this.config;if(n){const i=Fr(n,this.gridOptionsService);i&&this.eIcon.appendChild(i)}}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),ll(e,!1),this.ariaRole&&ai(e,this.ariaRole)}refreshLabel(){var e;const t=this.getAriaElement();BF(t,(e=this.getLabelId())!==null&&e!==void 0?e:""),super.refreshLabel()}onLabelOrWrapperMouseDown(e){if(e&&(e.preventDefault(),this.getFocusableElement().focus()),this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case X.UP:case X.DOWN:case X.ENTER:case X.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case X.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gridOptionsService.getDocument(),t=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(e.body,"wheel",m=>{t.contains(m.target)||this.hidePicker()}));const n=this.localeService.getLocaleTextFunc(),{pickerType:i,pickerAriaLabelKey:o,pickerAriaLabelValue:s,modalPicker:a=!0}=this.config,l={modal:a,eChild:t,closeOnEsc:!0,closedCallback:()=>{const m=e.activeElement===e.body;this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:n(o,s)},u=this.popupService.addPopup(l),{maxPickerHeight:c,minPickerWidth:d,maxPickerWidth:h,pickerGap:f,variableWidth:p}=this;p?(d&&(t.style.minWidth=d),t.style.width=YF(tE(this.eWrapper)),h&&(t.style.maxWidth=h)):oE(t,h??tE(this.eWrapper));const g=c??`${R_(this.popupService.getPopupParent())}px`;t.style.setProperty("max-height",g),t.style.position="absolute";const C=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:i,eventSource:this.eWrapper,ePopup:t,position:"under",alignSide:C,keepWithinBounds:!0,nudgeY:f}),u.hideFunc}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();ll(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;!((t=this.pickerComponent)===null||t===void 0)&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setAriaLabel(e){return Jc(this.getAriaElement(),e),this}setInputWidth(e){return oE(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};T_([x("popupService")],yg.prototype,"popupService",void 0);T_([pe("eLabel")],yg.prototype,"eLabel",void 0);T_([pe("eWrapper")],yg.prototype,"eWrapper",void 0);T_([pe("eDisplayField")],yg.prototype,"eDisplayField",void 0);T_([pe("eIcon")],yg.prototype,"eIcon",void 0);var mYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let sE=class wP extends ke{constructor(e="default"){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const t=e.key;switch(t){case X.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}break;case X.DOWN:case X.UP:const n=t===X.DOWN;let i;if(e.preventDefault(),!this.highlightedEl)i=this.itemEls[n?0:this.itemEls.length-1];else{let s=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),i=this.itemEls[s]}this.highlightItem(i);break}}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=Kr(n||t);return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{$j(t,n+1),Hj(t,e.length)})}renderOption(e,t){const n=document.createElement("div");ai(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),n.innerHTML=`<span>${t}</span>`,n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",()=>this.highlightItem(n)),this.addManagedListener(n,"mouseleave",()=>this.clearHighlighted()),this.addManagedListener(n,"click",()=>this.setValue(e)),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text!=null?i.text:i.value,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(wP.ACTIVE_CLASS),Np(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(wP.ACTIVE_CLASS),Np(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:A.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:wP.EVENT_ITEM_SELECTED})}};sE.EVENT_ITEM_SELECTED="selectedItem";sE.ACTIVE_CLASS="ag-active-item";mYe([ge],sE.prototype,"init",null);let XF=class phe extends yg{constructor(e){super(Object.assign({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},e))}postConstruct(){var e;super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=(e=this.gridOptionsService.getNum("tabIndex"))!==null&&e!==void 0?e:0}createListComponent(){this.listComponent=this.createBean(new sE("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",e=>{e.key===X.TAB&&(e.preventDefault(),e.stopImmediatePropagation(),this.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,sE.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:phe.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,A.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}setValue(e,t,n){return this.value===e||!this.listComponent?this:(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(e,t)))}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};XF.EVENT_ITEM_SELECTED="selectedItem";var dW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let pc=class extends fhe{constructor(e,t,n="text",i="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${i} ref="eInput" class="ag-input-field-input"></${i}>
                </div>
            </div>`,t),this.inputType=n,this.displayFieldTag=i}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width:e,value:t}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}refreshLabel(){he(this.getLabel())?BF(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return oE(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return pp(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Jc(this.eInput,e),this}setDisabled(e){return Nv(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)pp(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";pp(this.eInput,"autocomplete",t)}return this}};dW([pe("eLabel")],pc.prototype,"eLabel",void 0);dW([pe("eWrapper")],pc.prototype,"eWrapper",void 0);dW([pe("eInput")],pc.prototype,"eInput",void 0);let ghe=class extends pc{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,n){this.dispatchEvent({type:A.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:n});const i=this.getInputElement(),o={type:A.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:e,previousValue:t};this.eventService.dispatchEvent(o)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},vYe=class extends ghe{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,A.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},hW=class{constructor(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.localeService.getLocaleTextFunc();if(t){const i=e;let{conditions:o}=i;if(!o){const{condition1:l,condition2:u}=i;o=[l,u]}const s=o.map(l=>this.getModelAsString(l)),a=i.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(a,uhe[a])} `)}else{if(e.type===Yt.BLANK||e.type===Yt.NOT_BLANK)return n(e.type,e.type);{const i=e,o=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:a,numberOfInputs:l}=o||{};return s&&a&&l===0?(n(s,a),a):this.conditionToString(i,o)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)}},Yt=class cm extends Gh{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}const n=[cm.EMPTY,cm.NOT_BLANK,cm.BLANK];return e&&n.indexOf(e)>=0?0:e===cm.IN_RANGE?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{n===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const a=e,l=t;s=this.areSimpleModelsEqual(a,l)}else{const a=e,l=t;s=a.operator===l.operator&&rh(a.conditions,l.conditions,(u,c)=>this.areSimpleModelsEqual(u,c))}return s}setModelIntoUi(e){if(e.operator){let n=e;n.conditions||(n.conditions=[n.condition1,n.condition2]);const i=this.validateAndUpdateConditions(n.conditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let a=o;a<i;a++)this.createJoinOperatorPanel(),this.createOption();const s=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!s,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(s,!0)),n.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ur.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Ut(()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),"simpleFilterSetModelMaxNumConditions"),t=this.maxNumConditions),t}doesFilterPass(e){var t;const n=this.getModel();if(n==null)return!0;const{operator:i}=n,o=[];if(i){const a=n;o.push(...(t=a.conditions)!==null&&t!==void 0?t:[])}else o.push(n);return o[i&&i==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new lhe,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var t,n;e.suppressAndOrCondition!=null&&Ut(()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),"simpleFilterSuppressAndOrCondition"),e.alwaysShowBothConditions!=null&&Ut(()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=(t=e.maxNumConditions)!==null&&t!==void 0?t:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Ut(()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.'),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(n=e.numAlwaysVisibleConditions)!==null&&n!==void 0?n:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Ut(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Ut(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new XF);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,o),this.resetJoinOperatorOr(n,i,o),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new vYe);return e.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass(`ag-filter-condition-operator-${n}`),t.appendChild(i.getGui()),i}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let t=-1,n=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?t=i:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{const i=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);const o=t+1,s=i-o;s>0&&this.removeConditionsAndOperators(o,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,o)=>{const s=this.isConditionDisabled(o,e);i.setDisabled(s||this.filterListOptions.length<=1),o===1&&(Nv(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((i,o)=>{Jt(i,this.isConditionBodyVisible(o))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((i,o)=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach((i,o)=>{i.setValue(n,!0)}),this.forEachInput((i,o,s,a)=>{this.setElementDisplayed(i,o<a),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,t),this.removeComponents(this.eJoinOperatorsAnd,n,t),this.removeComponents(this.eJoinOperatorsOr,n,t)}removeElements(e,t,n){this.removeItems(e,t,n).forEach(o=>fc(o))}removeComponents(e,t,n){this.removeItems(e,t,n).forEach(o=>{fc(o.getGui()),this.destroyBean(o)})}removeItems(e,t,n){return n==null?e.splice(t):e.splice(t,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof pc&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();(!this.areModelsEqual(e,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const o=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))t===-1&&(t=a,n=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<t;(l||u)&&(this.removeConditionsAndOperators(a,1),i=!0,u&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,o),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(GF(this.filterPlaceholder)){const i=this.filterPlaceholder,o=this.eTypes[t].getValue(),s=this.translate(o);n=i({filterOptionKey:o,filterOption:s,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,n,i,o)=>{if(!(t instanceof pc))return;const s=n===0&&o>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",a=n===0&&o>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(a)})}setElementValue(e,t,n){e instanceof pc&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ke&&Jt(e.getGui(),t)}setElementDisabled(e,t){e instanceof ke&&Nv(e.getGui(),t)}attachElementOnChange(e,t){e instanceof pc&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),o=this.getInputs(e);for(let s=0;s<o.length;s++){const a=o[s];a!=null&&n(a,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===cm.EMPTY||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),ur.resolve()}resetType(e){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,o){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(i),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((i,o,s,a)=>{s===t&&this.setElementValue(i,n[o]!=null?n[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i,o)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),s=this.evaluateCustomFilter(o,i,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}evaluateCustomFilter(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(o=>o==null))return i(t,n)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}};Yt.EMPTY="empty";Yt.BLANK="blank";Yt.NOT_BLANK="notBlank";Yt.EQUALS="equals";Yt.NOT_EQUAL="notEqual";Yt.LESS_THAN="lessThan";Yt.LESS_THAN_OR_EQUAL="lessThanOrEqual";Yt.GREATER_THAN="greaterThan";Yt.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";Yt.IN_RANGE="inRange";Yt.CONTAINS="contains";Yt.NOT_CONTAINS="notContains";Yt.STARTS_WITH="startsWith";Yt.ENDS_WITH="endsWith";let fi=class Jr extends Yt{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Jr.EQUALS:case Jr.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Jr.GREATER_THAN:case Jr.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Jr.LESS_THAN:case Jr.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Jr.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Jr.BLANK:return!0;case Jr.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,t,n){const i=this.comparator(),o=e[0]!=null?i(e[0],t):0;switch(n.type){case Jr.EQUALS:return o===0;case Jr.NOT_EQUAL:return o!==0;case Jr.GREATER_THAN:return o>0;case Jr.GREATER_THAN_OR_EQUAL:return o>=0;case Jr.LESS_THAN:return o<0;case Jr.LESS_THAN_OR_EQUAL:return o<=0;case Jr.IN_RANGE:{const s=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case Jr.BLANK:return this.isBlank(t);case Jr.NOT_BLANK:return!this.isBlank(t);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};var yYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const BY=1e3,jY=1/0;let mhe=class extends hW{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},o=n==Yt.IN_RANGE||i===2,s=js(e.dateFrom),a=js(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){const u=s!==null?tv(s,l):"null",c=a!==null?tv(a,l):"null";return`${u}-${c}`}return s!=null?tv(s,l):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},JF=class vhe extends fi{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=BY,this.maxValidYear=jY,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&js(t)||null,n&&js(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const n=t;return t==null||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))console.warn(`AG Grid: DateFilter ${n} is not a number`);else return e[n]==null?i:Number(e[n]);return i};this.minValidYear=t("minValidYear",BY),this.maxValidYear=t("maxValidYear",jY),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:js(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:js(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new mhe(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new ahe(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return vhe.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const o=document.createElement("div");o.classList.add(`ag-filter-${i}`),o.classList.add(`ag-filter-date-${i}`),t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){this.removeItems(e,t,n).forEach(o=>o.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,o,s)=>{o!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=Gc(i[0])),i.length>1&&(n.dateTo=Gc(i[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},n)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(n.getDate())}),t}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}};JF.DEFAULT_FILTER_OPTIONS=[fi.EQUALS,fi.GREATER_THAN,fi.LESS_THAN,fi.NOT_EQUAL,fi.IN_RANGE,fi.BLANK,fi.NOT_BLANK];yYe([x("userComponentFactory")],JF.prototype,"userComponentFactory",void 0);let yhe=class extends ke{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e)}setSimpleParams(e){this.optionsFactory=new lhe,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;const t=this.isTypeEditable(this.lastType);this.setEditable(t)}onParamsUpdated(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:n}=t||{};return n==null||n==1}isTypeEditable(e){const t=[Yt.IN_RANGE,Yt.EMPTY,Yt.BLANK,Yt.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}};var fW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ZF=class extends yhe{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return JF.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new mhe(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){super.onParamsUpdated(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})}setEditable(e){Jt(this.eDateWrapper,e),Jt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){if(this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t))return;super.setLastTypeFromModel(e);const n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(n),n){if(e){const i=e;this.dateComp.setDate(js(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}onDateChanged(){const e=this.dateComp.getDate(),t=Gc(e);this.params.parentFilterInstance(n=>{if(n){const i=js(t);n.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){const e=Gh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:al(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new ahe(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.getDateComponentParams(),{api:t,columnApi:n,context:i}=this.gridOptionsService;e.api=t,e.columnApi=n,e.context=i,this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};fW([x("userComponentFactory")],ZF.prototype,"userComponentFactory",void 0);fW([pe("eReadOnlyText")],ZF.prototype,"eReadOnlyText",void 0);fW([pe("eDateWrapper")],ZF.prototype,"eDateWrapper",void 0);var CYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Che=class extends ke{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.gridOptionsService.getDocument(),n=this.eDateInput.getInputElement();this.addManagedListener(n,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||n.focus()}),this.addManagedListener(n,"input",i=>{i.target===t.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Rl(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:o,minValidDate:s,maxValidDate:a}=e.filterParams||{};if(s&&i&&Ut(()=>console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),"DateFilter.minValidDateAndMinValidYearWarning"),a&&o&&Ut(()=>console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),"DateFilter.maxValidDateAndMaxValidYearWarning"),s&&a){const[l,u]=[s,a].map(c=>c instanceof Date?c:js(c));l&&u&&l.getTime()>u.getTime()&&Ut(()=>console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate."),"DateFilter.minValidDateAndMaxValidDateWarning")}s?s instanceof Date?t.min=tv(s):t.min=s:i&&(t.min=`${i}-01-01`),a?a instanceof Date?t.max=tv(a):t.max=a:o&&(t.max=`${o}-12-31`)}onParamsUpdated(e){this.params=e,this.setParams(e)}getDate(){return js(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Gc(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:UF()||Uj()||Rl()&&Wj()>=14.1}};CYe([pe("eDateInput")],Che.prototype,"eDateInput",void 0);let Ry=class extends pc{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=he(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{qF(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",n=>{var i;const o=(i=n.clipboardData)===null||i===void 0?void 0:i.getData("text");o&&o.split("").some(s=>!e.test(s))&&n.preventDefault()})}},whe=class extends Ry{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=this.precision)return e;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,pp(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,pp(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,pp(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(he(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const o=this.normalizeValue(n);i=n!=o}if(i)return t(n)}return e(n)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},She=class extends hW{conditionToString(e,t){const{numberOfInputs:n}=t||{};return e.type==Yt.IN_RANGE||n===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function tk(r){const{allowedCharPattern:e}=r??{};return e??null}let pW=class Ehe extends fi{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new She(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Ehe.DEFAULT_FILTER_OPTIONS}setElementValue(e,t,n){const i=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=tk(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),ai(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const o=this.createManagedBean(i?new Ry({allowedCharPattern:i}):new whe);o.addCssClass(`ag-filter-${n}`),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=bu(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}};pW.DEFAULT_FILTER_OPTIONS=[fi.EQUALS,fi.NOT_EQUAL,fi.LESS_THAN,fi.LESS_THAN_OR_EQUAL,fi.GREATER_THAN,fi.GREATER_THAN_OR_EQUAL,fi.IN_RANGE,fi.BLANK,fi.NOT_BLANK];let _he=class extends hW{conditionToString(e,t){const{numberOfInputs:n}=t||{};return e.type==Yt.IN_RANGE||n===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},qo=class dm extends Yt{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const t=e&&e.trim();return t===""?e:t}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?dm.DEFAULT_FORMATTER:dm.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new _he(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(q.doOnce(()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead."),"textCustomComparator.deprecated"),({filterOption:t,value:n,filterText:i})=>e(t,n,i)):this.textFilterParams.textMatcher||dm.DEFAULT_MATCHER}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,o,s,a)=>{var l;if(o<a){let u=bu(i.getValue());t&&this.textFilterParams.trimInput&&(u=(l=dm.trimInput(u))!==null&&l!==void 0?l:null,i.setValue(u,!0)),n.push(u)}}),n}getDefaultFilterOptions(){return dm.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),ai(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new Ry);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){const t=[Yt.NOT_EQUAL,Yt.NOT_CONTAINS,Yt.BLANK];return e?t.indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const o=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:a,colDef:l,column:u,columnApi:c,context:d,textFormatter:h}=this.textFilterParams;if(n.type===Yt.BLANK)return this.isBlank(t);if(n.type===Yt.NOT_BLANK)return!this.isBlank(t);const f={api:a,colDef:l,column:u,columnApi:c,context:d,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:h};return o.some(p=>this.matcher(Object.assign(Object.assign({},f),{filterText:p})))}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}};qo.DEFAULT_FILTER_OPTIONS=[Yt.CONTAINS,Yt.NOT_CONTAINS,Yt.EQUALS,Yt.NOT_EQUAL,Yt.STARTS_WITH,Yt.ENDS_WITH,Yt.BLANK,Yt.NOT_BLANK];qo.DEFAULT_FORMATTER=r=>r;qo.DEFAULT_LOWERCASE_FORMATTER=r=>r==null?null:r.toString().toLowerCase();qo.DEFAULT_MATCHER=({filterOption:r,value:e,filterText:t})=>{if(t==null)return!1;switch(r){case qo.CONTAINS:return e.indexOf(t)>=0;case qo.NOT_CONTAINS:return e.indexOf(t)<0;case qo.EQUALS:return e===t;case qo.NOT_EQUAL:return e!=t;case qo.STARTS_WITH:return e.indexOf(t)===0;case qo.ENDS_WITH:const n=e.lastIndexOf(t);return n>=0&&n===e.length-t.length;default:return!1}};var gW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Rhe=class extends de{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new Ry((t=this.params)===null||t===void 0?void 0:t.config));const n=this.eFloatingFilterTextInput.getGui();e.appendChild(n),this.addManagedListener(n,"input",i=>this.valueChangedListener(i)),this.addManagedListener(n,"keydown",i=>this.valueChangedListener(i))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},P_=class extends yhe{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const n=(t=e.browserAutoComplete)!==null&&t!==void 0?t:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:n}),this.applyActive=Gh.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const i=Gh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=al(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(o)}}onParamsUpdated(e){super.onParamsUpdated(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();uo(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}getAriaLabel(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return`${t} ${n("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){const t=e.key===X.ENTER;if(this.applyActive&&!t)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=qo.trimInput(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(i=>{i&&i.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};gW([x("columnModel")],P_.prototype,"columnModel",void 0);gW([pe("eFloatingFilterInputContainer")],P_.prototype,"eFloatingFilterInputContainer",void 0);gW([ge],P_.prototype,"postConstruct",null);let wYe=class extends de{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new whe),this.eFloatingFilterTextInput=this.createManagedBean(new Ry),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.valueChangedListener(i)),this.setupListeners(n,i=>this.valueChangedListener(i))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},SYe=class extends P_{init(e){var t;super.init(e),this.filterModelFormatter=new She(this.localeService,this.optionsFactory,(t=e.filterParams)===null||t===void 0?void 0:t.numberFormatter)}onParamsUpdated(e){tk(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.onParamsUpdated(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return pW.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=tk(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Rhe({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new wYe)}},EYe=class extends P_{init(e){super.init(e),this.filterModelFormatter=new _he(this.localeService,this.optionsFactory)}onParamsUpdated(e){super.onParamsUpdated(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return qo.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Rhe)}},Mr=class Pw{constructor(e,t=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new La,this.eElement=e,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",i,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:Pw.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!rW(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:Pw.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>Pw.DOUBLE_TAP_MILLIS){const n={type:Pw.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};Mr.EVENT_TAP="tap";Mr.EVENT_DOUBLE_TAP="doubleTap";Mr.EVENT_LONG_TAP="longTap";Mr.DOUBLE_TAP_MILLIS=500;var Cg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let $u=class bhe extends ke{constructor(e){super(),e||this.setTemplate(bhe.TEMPLATE)}attachCustomElements(e,t,n,i,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=o}setupSort(e,t=!1){this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,t,n){if(t==null)return;const i=Fr(e,this.gridOptionsService,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Jt(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Jt(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),n=e==null;Jt(this.eSortNone,!t&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Jt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),n=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&e!==void 0?e:-1,i=t.some(s=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(s))!==null&&a!==void 0?a:!1}),o=n>=0&&i;Jt(this.eSortOrder,o,{skipAriaHidden:!0}),n>=0?this.eSortOrder.innerHTML=(n+1).toString():uo(this.eSortOrder)}};$u.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;Cg([pe("eSortOrder")],$u.prototype,"eSortOrder",void 0);Cg([pe("eSortAsc")],$u.prototype,"eSortAsc",void 0);Cg([pe("eSortDesc")],$u.prototype,"eSortDesc",void 0);Cg([pe("eSortMixed")],$u.prototype,"eSortMixed",void 0);Cg([pe("eSortNone")],$u.prototype,"eSortNone",void 0);Cg([x("columnModel")],$u.prototype,"columnModel",void 0);Cg([x("sortController")],$u.prototype,"sortController",void 0);var ra=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Io=class The extends ke{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=fde(this.params.template,The.TEMPLATE);return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Kr(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}}setupIcons(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)}addInIcon(e,t,n){if(t==null)return;const i=Fr(e,this.gridOptionsService,n);i&&t.appendChild(i)}setupTap(){const{gridOptionsService:e}=this;if(e.is("suppressTouch"))return;const t=new Mr(this.getGui(),!0),n=e.is("suppressMenuHide"),i=n&&he(this.eMenu),o=i?new Mr(this.eMenu,!0):t;if(this.params.enableMenu){const s=i?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>{e.api.showColumnMenuAfterMouseClick(this.params.column,l.touchStart)};this.addManagedListener(o,Mr[s],a)}if(this.params.enableSorting){const s=a=>{const l=a.touchStart.target;n&&this.eMenu.contains(l)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(t,Mr.EVENT_TAP,s)}this.addDestroyFunc(()=>t.destroy()),i&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){const e=!this.gridOptionsService.is("suppressMenuHide"),t=Xh()&&e;return this.params.enableMenu&&!t}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){fc(this.eMenu);return}const e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",()=>this.showMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}showMenu(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new $u(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const e=this.gridOptionsService.get("multiSortKey")==="ctrl";this.addManagedListener(this.params.column,rt.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",n=>{const i=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(i||s)){const l=e?n.ctrlKey||n.metaKey:n.shiftKey;this.params.progressSort(l)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const n=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),o=!(n==null?void 0:n.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&(this.addManagedListener(this.params.column,rt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const e=this.params.column.isFilterActive();Jt(this.eFilter,e,{skipAriaHidden:!0})}};Io.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;ra([x("sortController")],Io.prototype,"sortController",void 0);ra([x("menuFactory")],Io.prototype,"menuFactory",void 0);ra([x("columnModel")],Io.prototype,"columnModel",void 0);ra([pe("eFilter")],Io.prototype,"eFilter",void 0);ra([pe("eSortIndicator")],Io.prototype,"eSortIndicator",void 0);ra([pe("eMenu")],Io.prototype,"eMenu",void 0);ra([pe("eLabel")],Io.prototype,"eLabel",void 0);ra([pe("eText")],Io.prototype,"eText",void 0);ra([pe("eSortOrder")],Io.prototype,"eSortOrder",void 0);ra([pe("eSortAsc")],Io.prototype,"eSortAsc",void 0);ra([pe("eSortDesc")],Io.prototype,"eSortDesc",void 0);ra([pe("eSortMixed")],Io.prototype,"eSortMixed",void 0);ra([pe("eSortNone")],Io.prototype,"eSortNone",void 0);var mW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let O_=class Phe extends ke{constructor(){super(Phe.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const t="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";Ut(()=>console.warn(t),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=i=>{if(pl(i))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const t=i=>{Lu(i)};this.addManagedListener(this.eCloseIcon,"dblclick",t),this.addManagedListener(this.eOpenIcon,"dblclick",t),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,An.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,An.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,t){const n=new Mr(e,!0);this.addManagedListener(n,Mr.EVENT_TAP,t),this.addDestroyFunc(()=>n.destroy()),this.addManagedListener(e,"click",t)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Jt(this.eOpenIcon,t),Jt(this.eCloseIcon,!t)}else Jt(this.eOpenIcon,!1),Jt(this.eCloseIcon,!1)}addInIcon(e,t){const n=Fr(e,this.gridOptionsService,null);n&&this.getRefElement(t).appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Jt(this.eOpenIcon,!1),Jt(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:t,columnGroup:n}=this.params;if(he(t)){const i=Kr(t);this.getRefElement("agLabel").innerHTML=i}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=n.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))}};O_.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;mW([x("columnModel")],O_.prototype,"columnModel",void 0);mW([pe("agOpened")],O_.prototype,"eOpenIcon",void 0);mW([pe("agClosed")],O_.prototype,"eCloseIcon",void 0);let wg=class extends ke{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}};var _Ye=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let vW=class Ohe extends wg{constructor(){super(Ohe.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),he(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===X.LEFT||t===X.UP||t===X.RIGHT||t===X.DOWN||e.shiftKey&&t===X.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!he(e)&&!he(this.params.value)?this.params.value:this.params.parseValue(e)}};vW.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;_Ye([pe("eTextArea")],vW.prototype,"eTextArea",void 0);var Dhe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let yW=class extends wg{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueFormatterService:n,gridOptionsService:i}=this,{values:o,value:s,eventKey:a}=e;if(dt(o)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=a!=null?a===X.ENTER:!1;let l=!1;o.forEach(h=>{const f={value:h},p=n.formatValue(e.column,null,h),g=p!=null;f.text=g?p:h,t.addOption(f),l=l||s===h}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:c,valueListMaxHeight:d}=e;u!=null&&t.setPickerGap(u),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,XF.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};Dhe([x("valueFormatterService")],yW.prototype,"valueFormatterService",void 0);Dhe([pe("eSelect")],yW.prototype,"eSelect",void 0);var RYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let D_=class extends wg{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let n;if(e.cellStartedEdit){this.focusAfterAttached=!0;const i=e.eventKey;i===X.BACKSPACE||e.eventKey===X.DELETE?n="":i&&i.length===1?n=i:(n=this.cellEditorInput.getStartValue(),i!==X.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();n!=null&&t.setStartValue(n),this.addManagedListener(t.getGui(),"keydown",i=>{const{key:o}=i;(o===X.PAGE_UP||o===X.PAGE_DOWN)&&i.preventDefault()})}afterGuiAttached(){var e,t;const n=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(n("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Rl()||i.getFocusableElement().focus();const o=i.getInputElement();this.highlightAllOnFocus?o.select():(t=(e=this.cellEditorInput).setCaret)===null||t===void 0||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};RYe([pe("eInput")],D_.prototype,"eInput",void 0);let bYe=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!he(e)&&!he(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=he(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},WY=class extends D_{constructor(){super(new bYe)}};var TYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const PYe="",OYe="";let CW=class Ahe extends ke{constructor(){super(Ahe.TEMPLATE),this.refreshCount=0}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),o=he(i)?i:n,s=t>=0;s?this.eDelta.innerHTML=PYe+o:this.eDelta.innerHTML=OYe+o,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),uo(this.eDelta)}refresh(e){const t=e.value;if(t===this.lastValue||(he(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:he(e.value)?this.eValue.innerHTML=t:uo(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof t=="number"&&typeof this.lastValue=="number"){const n=t-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0}};CW.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>';TYe([x("filterManager")],CW.prototype,"filterManager",void 0);var DYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let wW=class xhe extends ke{constructor(){super(xhe.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Ai('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)}refresh(e){let t=e.value;return dt(t)&&(t=""),t===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=t,he(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:he(e.value)?this.eCurrent.innerHTML=t:uo(this.eCurrent),!0)}};wW.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`;DYe([x("filterManager")],wW.prototype,"filterManager",void 0);let Ke=class Gn{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Gn.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:Gn.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new Gn(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,t){const n=he(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const o=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}}setId(e){const t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){const n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(Gn.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${Gn.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const t=[];let n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t}isPixelInRange(e){return!he(this.rowTop)||!he(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_GROUP_CHANGED)))}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=al(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,n=0;const i=this.__autoHeights;if(i==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=i[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(a.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(u.includes(a)){e=!0;return}l=-1}else{e=!0;return}else t=!1;l>n&&(n=l)}),e)||((t||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,t){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_EXPANDED_CHANGED));const n=Object.assign({},this.createGlobalRowEvent(A.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,t,n){const o=(()=>{var l;return typeof e!="string"?e:(l=this.beans.columnModel.getGridColumn(e))!==null&&l!==void 0?l:this.beans.columnModel.getPrimaryColumn(e)})(),s=this.getValueFromValueService(o);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(o,s,t,n),!1;const a=this.beans.valueService.setValue(this,o,t,n);return this.dispatchCellChangedEvent(o,t,s),this.checkRowSelectable(),a}getValueFromValueService(e){const t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),a=n&&o&&!s;return this.beans.valueService.getValue(e,this,!1,a)}dispatchEventForSaveValueReadOnly(e,t,n,i){const o={type:A.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)}setGroupValue(e,t){const n=this.beans.columnModel.getGridColumn(e);dt(this.groupData)&&(this.groupData={});const i=n.getColId(),o=this.groupData[i];o!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,o))}setAggData(e){const t=ide([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&t.forEach(i=>{const o=this.aggData?this.aggData[i]:void 0,s=n?n[i]:void 0;if(o===s)return;const a=this.beans.columnModel.lookupGridColumn(i);a&&this.dispatchCellChangedEvent(a,o,s)})}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const n=this.beans.gridOptionsService.is("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(Gn.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Vs(this.childrenAfterGroup)}dispatchCellChangedEvent(e,t,n){const i={type:Gn.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(t=>t.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let t=!1,n=!1,i=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const s=this.childrenAfterGroup[o];let a=s.isSelected();if(!s.selectable){const l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||t&&n))return t?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,t,n="api"){const i=!this.selectable&&e,o=this.selected===e;if(i||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(Gn.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(Gn.EVENT_ROW_SELECTED))}const s=Object.assign(Object.assign({},this.createGlobalRowEvent(A.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(s),!0}setSelected(e,t=!1,n="api"){if(typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){this.eventService||(this.eventService=new La),this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(Gn.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(Gn.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let t=this,n=!0,i=!1,o=null;for(;n&&!i;){const s=t.parent;he(s)&&t.firstChild?s.rowGroupColumn===e&&(i=!0,o=s):n=!1,t=s}return i?o:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let t=this;for(;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),t=new Gn(this.beans);Object.keys(this).forEach(n=>{e.has(n)||(t[n]=this[n])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Ke.ID_PREFIX_ROW_GROUP="row-group-";Ke.ID_PREFIX_TOP_PINNED="t-";Ke.ID_PREFIX_BOTTOM_PINNED="b-";Ke.OBJECT_ID_SEQUENCE=0;Ke.EVENT_ROW_SELECTED="rowSelected";Ke.EVENT_DATA_CHANGED="dataChanged";Ke.EVENT_CELL_CHANGED="cellChanged";Ke.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";Ke.EVENT_MASTER_CHANGED="masterChanged";Ke.EVENT_GROUP_CHANGED="groupChanged";Ke.EVENT_MOUSE_ENTER="mouseEnter";Ke.EVENT_MOUSE_LEAVE="mouseLeave";Ke.EVENT_HEIGHT_CHANGED="heightChanged";Ke.EVENT_TOP_CHANGED="topChanged";Ke.EVENT_DISPLAYED_CHANGED="displayedChanged";Ke.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";Ke.EVENT_LAST_CHILD_CHANGED="lastChildChanged";Ke.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";Ke.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";Ke.EVENT_EXPANDED_CHANGED="expandedChanged";Ke.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";Ke.EVENT_SELECTABLE_CHANGED="selectableChanged";Ke.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";Ke.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";Ke.EVENT_DRAGGING_CHANGED="draggingChanged";var Ihe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let eM=class extends ke{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0),Ide(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),n=WF(e,t),i=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}onClicked(e,t,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:t,event:n,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",i=>{Lu(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",i=>{Lu(i);const o=this.gridOptionsService.is("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,o)?this.onClicked(!0,o,i||{})===0&&this.onClicked(!1,o,i):s?this.onClicked(!1,o,i):this.onClicked(!0,o,i||{})}),this.addManagedListener(this.rowNode,Ke.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,t,n,i;let o=this.rowNode.selectable;const s=this.getIsVisible();if(o)if(typeof s=="function"){const l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,u=(t=this.column)===null||t===void 0?void 0:t.createColumnFunctionCallbackParams(this.rowNode);o=u?s(Object.assign(Object.assign({},l),u)):!1}else o=s??!1;if((n=this.column)===null||n===void 0?void 0:n.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!o),this.setVisible(!0),this.setDisplayed(!0);return}if(!((i=this.overrides)===null||i===void 0)&&i.removeHidden){this.setDisplayed(o);return}this.setVisible(o)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||t===void 0?void 0:t.checkboxSelection}};Ihe([pe("eCheckbox")],eM.prototype,"eCheckbox",void 0);Ihe([ge],eM.prototype,"postConstruct",null);var Sg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_s,Nr;(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(Nr||(Nr={}));var Gv;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(Gv||(Gv={}));var lu;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"})(lu||(lu={}));let Ct=_s=class extends de{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=ga("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ga("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ga("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ga("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ga("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ga("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ga("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ga("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ga("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(n=>n.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Ls(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var n,i,o,s;const a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const u=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),c=this.findCurrentDropTarget(e,u);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,l,t),this.lastDropTarget!==null&&c===null&&((i=(n=this.dragSource).onGridExit)===null||i===void 0||i.call(n,this.dragItem)),this.lastDropTarget===null&&c!==null&&((s=(o=this.dragSource).onGridEnter)===null||s===void 0||s.call(o,this.dragItem)),this.enterDragTargetIfExists(c,e,a,l,t),this.lastDropTarget=c;else if(c&&c.onDragging){const d=this.createDropTargetEvent(c,e,a,l,t);c.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}allContainersIntersect(e,t){for(const n of t){const i=n.getBoundingClientRect();if(i.width===0||i.height===0)return!1;const o=e.clientX>=i.left&&e.clientX<i.right,s=e.clientY>=i.top&&e.clientY<i.bottom;if(!o||!s)return!1}return!0}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;for(const o of n)if(this.allContainersIntersect(e,o)){i=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:i&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const o=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const s of o)for(const a of t)if(vde(this.getAllContainersFromDropTarget(a)).indexOf(s)!==-1)return a;return null}enterDragTargetIfExists(e,t,n,i,o){if(e){if(e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,o);e.onDragEnter(s)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const o=this.createDropTargetEvent(this.lastDropTarget,e,t,n,i);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return t===n?null:t>n?lu.Left:lu.Right}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return t===n?null:t>n?Gv.Up:Gv.Down}createDropTargetEvent(e,t,n,i,o){const s=e.getContainer(),a=s.getBoundingClientRect(),{gridApi:l,columnApi:u,dragItem:c,dragSource:d}=this,h=t.clientX-a.left,f=t.clientY-a.top;return{event:t,x:h,y:f,vDirection:i,hDirection:n,dragSource:d,fromNudge:o,dragItem:c,api:l,columnApi:u,dropZoneTarget:s}}positionGhost(e){const t=this.eGhost;if(!t)return;const i=t.getBoundingClientRect().height,o=Wde()-2,s=Ude()-2,a=Xj(t.offsetParent),{clientY:l,clientX:u}=e;let c=l-a.top-i/2,d=u-a.left-10;const h=this.gridOptionsService.getDocument(),f=h.defaultView||window,p=f.pageYOffset||h.documentElement.scrollTop,g=f.pageXOffset||h.documentElement.scrollLeft;o>0&&d+t.clientWidth>o+g&&(d=o+g-t.clientWidth),d<0&&(d=0),s>0&&c+t.clientHeight>s+p&&(c=s+p-t.clientHeight),c<0&&(c=0),t.style.left=`${d}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Ai(_s.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let n=this.dragSource.dragItemName;GF(n)&&(n=n()),t.innerHTML=Kr(n)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gridOptionsService.getDocument();let o=null;try{o=i.fullscreenElement}catch{}finally{if(!o){const s=this.gridOptionsService.getRootNode(),a=s.querySelector("body");a?o=a:s instanceof ShadowRoot?o=s:o=s==null?void 0:s.documentElement}}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){uo(this.eGhostIcon);let n=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():_s.ICON_NOT_ALLOWED),e){case _s.ICON_PINNED:n=this.ePinnedIcon;break;case _s.ICON_MOVE:n=this.eMoveIcon;break;case _s.ICON_LEFT:n=this.eLeftIcon;break;case _s.ICON_RIGHT:n=this.eRightIcon;break;case _s.ICON_GROUP:n=this.eGroupIcon;break;case _s.ICON_AGGREGATE:n=this.eAggregateIcon;break;case _s.ICON_PIVOT:n=this.ePivotIcon;break;case _s.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case _s.ICON_HIDE:n=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(n===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&n&&this.eGhostIcon.appendChild(n)}};Ct.ICON_PINNED="pinned";Ct.ICON_MOVE="move";Ct.ICON_LEFT="left";Ct.ICON_RIGHT="right";Ct.ICON_GROUP="group";Ct.ICON_AGGREGATE="aggregate";Ct.ICON_PIVOT="pivot";Ct.ICON_NOT_ALLOWED="notAllowed";Ct.ICON_HIDE="hide";Ct.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;Sg([x("dragService")],Ct.prototype,"dragService",void 0);Sg([x("mouseEventService")],Ct.prototype,"mouseEventService",void 0);Sg([x("columnApi")],Ct.prototype,"columnApi",void 0);Sg([x("gridApi")],Ct.prototype,"gridApi",void 0);Sg([ge],Ct.prototype,"init",null);Sg([Bi],Ct.prototype,"clearDragSourceParamsList",null);Ct=_s=Sg([De("dragAndDropService")],Ct);var A_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Gp=class extends ke{constructor(e,t,n,i,o,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=o,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Fr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.is("rowDragManaged")?new Lhe(this,this.beans,this.rowNode,this.column):new Mhe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.is("treeData")&&e&&Ut(()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true"),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getRowDragText(this.column),n=this.localeService.getLocaleTextFunc();this.dragSource={type:Nr.RowDrag,eElement:this.getGui(),dragItemName:()=>{var i;const o=this.getDragItem(),s=((i=o.rowNodes)===null||i===void 0?void 0:i.length)||1;return t?t(o,s):s===1?this.cellValueFn():`${s} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};A_([x("beans")],Gp.prototype,"beans",void 0);A_([ge],Gp.prototype,"postConstruct",null);A_([Bi],Gp.prototype,"removeDragSource",null);let Fhe=class extends de{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=GF(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(n,t)):(this.parent.setDisplayed(n,t),this.parent.setVisible(!0,t))}}},Mhe=class extends Fhe{constructor(e,t,n,i){super(e,n,i),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)}};A_([ge],Mhe.prototype,"postConstruct",null);let Lhe=class extends Fhe{constructor(e,t,n,i){super(e,n,i),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,A.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=t&&t.shouldPreventRowMove(),i=this.gridOptionsService.is("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),s=n&&!o||i;this.setDisplayedOrVisible(s)}};A_([ge],Lhe.prototype,"postConstruct",null);var x_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let by=class extends de{init(e,t,n,i,o,s,a){this.params=a,this.eGui=t,this.eCheckbox=n,this.eExpanded=i,this.eContracted=o,this.comp=e,this.compClass=s;const{node:l,value:u,colDef:c}=a;if(!this.isTopLevelFooter()){if(this.isEmbeddedRowMismatch())return;const f=(c==null?void 0:c.showRowGroup)===!0,p=u==null&&!l.master;if(!f&&p)return;if(l.footer&&this.gridOptionsService.is("groupHideOpenParents")){const g=c&&c.showRowGroup,C=l.rowGroupColumn&&l.rowGroupColumn.getColId();if(g!==C)return}}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eParentOfValue:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){Mde(t);return}const n=()=>{ll(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,Ke.EVENT_EXPANDED_CHANGED,n)||null,n()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const e=this.params.colDef;if(e==null||e.showRowGroup===!0)return!0;const n=this.columnModel.getRowGroupColumns();return!n||n.length===0?!0:n[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",n=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!n:this.columnModel.isPinningLeft()?!e:!n}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let n=t.parent;for(;n!=null;){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}}dt(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const o=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(o)){this.showingValueForOpenedParent=!1;return}}const i=e.groupData[t.getId()]!=null;this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:n,value:i}=e;let o=n;o==null&&(i===""&&this.params.node.group?o=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o=i??null),this.comp.setInnerRenderer(t,o)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const i=this.params,{value:o,node:s}=this.params,a=this.valueFormatterService.formatValue(e,s,o);return Object.assign(Object.assign({},i),{valueFormatted:a})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const i=xj(this.params);i.value=this.params.value,typeof e=="function"?t=e(i):typeof e=="string"?t=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(this.params.value!=null?this.params.value:"");const n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),n=a=>a&&a.componentClass==this.compClass;if(t&&!n(t))return t;const i=this.displayedGroupNode.rowGroupColumn,o=i?i.getColDef():void 0;if(!o)return;const s=this.userComponentFactory.getCellRendererDetails(o,e);if(s&&!n(s))return s;if(n(s)&&o.cellRendererParams&&o.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(o.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ke.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(i)}isShowRowGroupForThisRow(){if(this.gridOptionsService.is("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,n=Fr("groupExpanded",this.gridOptionsService,null),i=Fr("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);const o=t.eGridCell;!(((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,Ke.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ke.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ke.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ke.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,Ke.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(e){pl(e)||(Lu(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,n=!t.expanded;!n&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(n,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const i=this.params.column;return i!=null&&typeof i.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:n}=this,{node:i}=e,o=this.isExpandable();if(o){const c=this.showingValueForOpenedParent?!0:i.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=n.isPivotMode(),a=s&&t.leafGroup,l=o&&!a,u=i.footer&&i.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Ke.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const e=this.params,t=e.node,n=!!e.colDef,i=this.gridOptionsService.is("treeData"),s=!n||i||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new Gp(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const n=new eM;this.getContext().createBean(n),n.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(n))}this.comp.setCheckboxVisible(t)}onKeyDown(e){!(e.key===X.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(pl(e))return;kA(this.eExpanded,e)||kA(this.eContracted,e)||this.onExpandOrContract(e)}};x_([x("expressionService")],by.prototype,"expressionService",void 0);x_([x("valueFormatterService")],by.prototype,"valueFormatterService",void 0);x_([x("columnModel")],by.prototype,"columnModel",void 0);x_([x("userComponentFactory")],by.prototype,"userComponentFactory",void 0);x_([x("ctrlsService")],by.prototype,"ctrlsService",void 0);var I_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vh=class Nhe extends ke{constructor(){super(Nhe.TEMPLATE)}init(e){const t={setInnerRenderer:(s,a)=>this.setRenderDetails(s,a),setChildCount:s=>this.eChildCount.innerHTML=s,addOrRemoveCssClass:(s,a)=>this.addOrRemoveCssClass(s,a),setContractedDisplayed:s=>Jt(this.eContracted,s),setExpandedDisplayed:s=>Jt(this.eExpanded,s),setCheckboxVisible:s=>this.eCheckbox.classList.toggle("ag-invisible",!s)},n=this.createManagedBean(new by),i=!e.colDef,o=this.getGui();n.init(t,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),i&&ai(o,"gridcell")}setRenderDetails(e,t){if(e){const n=e.newAgStackInstance();if(!n)return;n.then(i=>{if(!i)return;const o=()=>this.context.destroyBean(i);this.isAlive()?(this.eValue.appendChild(i.getGui()),this.addDestroyFunc(o)):o()})}else this.eValue.innerText=t}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};Vh.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;I_([pe("eExpanded")],Vh.prototype,"eExpanded",void 0);I_([pe("eContracted")],Vh.prototype,"eContracted",void 0);I_([pe("eCheckbox")],Vh.prototype,"eCheckbox",void 0);I_([pe("eValue")],Vh.prototype,"eValue",void 0);I_([pe("eChildCount")],Vh.prototype,"eChildCount",void 0);var Ghe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let tM=class Vhe extends ke{constructor(){super(Vhe.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Fr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};tM.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;Ghe([pe("eLoadingIcon")],tM.prototype,"eLoadingIcon",void 0);Ghe([pe("eLoadingText")],tM.prototype,"eLoadingText",void 0);let khe=class Hhe extends ke{constructor(){super()}destroy(){super.destroy()}init(e){var t;const n=(t=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&t!==void 0?t:Hhe.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.localeService.getLocaleTextFunc(),o=n.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(o)}};khe.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>';let $he=class Bhe extends ke{constructor(){super()}destroy(){super.destroy()}init(e){var t;const n=(t=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&t!==void 0?t:Bhe.DEFAULT_NO_ROWS_TEMPLATE,i=this.localeService.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(o)}};$he.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>';let AYe=class extends wg{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().innerHTML=Kr(t)}},xYe=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const e=this.eInput.getValue();if(!he(e)&&!he(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},IYe=class extends D_{constructor(){super(new xYe)}},FYe=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!he(e)&&!he(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Gc(e,!1)}},MYe=class extends D_{constructor(){super(new FYe)}};var LYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let NYe=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!he(e)&&!he(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,t;return Gc((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction()(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction()(e)}},jhe=class extends D_{constructor(){super(new NYe(()=>this.dataTypeService))}};LYe([x("dataTypeService")],jhe.prototype,"dataTypeService",void 0);var GYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let SW=class Whe extends ke{constructor(){super(Whe.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{if(Lu(n),this.eCheckbox.isDisabled())return;const i=this.eCheckbox.getValue();this.onCheckboxChanged(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Lu(n)});const t=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===X.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===t.activeElement&&this.eCheckbox.toggle();const i=this.eCheckbox.getValue();this.onCheckboxChanged(i),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t,n,i;let o,s=!0;if(e.node.group&&e.column){const d=e.column.getColId();d.startsWith(Lv)?o=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[d]!==void 0?o=(t=e.value)!==null&&t!==void 0?t:void 0:s=!1}else o=(n=e.value)!==null&&n!==void 0?n:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(o);const a=e.disabled!=null?e.disabled:!(!((i=e.column)===null||i===void 0)&&i.isCellEditable(e.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),u=WF(l,o),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:t,node:n,rowIndex:i,value:o}=this.params,s={type:A.EVENT_CELL_EDITING_STARTED,column:t,colDef:t==null?void 0:t.getColDef(),data:n.data,node:n,rowIndex:i,rowPinned:n.rowPinned,value:o};this.eventService.dispatchEvent(s);const a=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:A.EVENT_CELL_EDITING_STOPPED,column:t,colDef:t==null?void 0:t.getColDef(),data:n.data,node:n,rowIndex:i,rowPinned:n.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:a};this.eventService.dispatchEvent(l)}};SW.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;GYe([pe("eCheckbox")],SW.prototype,"eCheckbox",void 0);var VYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Uhe=class extends wg{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;const n=(t=e.value)!==null&&t!==void 0?t:void 0;this.eCheckbox.setValue(n),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(n),this.addManagedListener(this.eCheckbox,A.EVENT_FIELD_VALUE_CHANGED,i=>this.setAriaLabel(i.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),n=WF(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}};VYe([pe("eCheckbox")],Uhe.prototype,"eCheckbox",void 0);var EW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let WA=class extends de{constructor(){super(...arguments),this.agGridDefaults={agDateInput:Che,agColumnHeader:Io,agColumnGroupHeader:O_,agSortIndicator:$u,agTextColumnFloatingFilter:EYe,agNumberColumnFloatingFilter:SYe,agDateColumnFloatingFilter:ZF,agReadOnlyFloatingFilter:aW,agAnimateShowChangeCellRenderer:CW,agAnimateSlideCellRenderer:wW,agGroupCellRenderer:Vh,agGroupRowRenderer:Vh,agLoadingCellRenderer:tM,agCheckboxCellRenderer:SW,agCellEditor:WY,agTextCellEditor:WY,agNumberCellEditor:IYe,agDateCellEditor:MYe,agDateStringCellEditor:jhe,agSelectCellEditor:yW,agLargeTextCellEditor:vW,agCheckboxCellEditor:Uhe,agTextColumnFilter:qo,agNumberColumnFilter:pW,agDateColumnFilter:JF,agLoadingOverlay:khe,agNoRowsOverlay:$he,agTooltipComponent:AYe},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:Te.SetFilterModule,agSetColumnFloatingFilter:Te.SetFilterModule,agMultiColumnFilter:Te.MultiFilterModule,agMultiColumnFloatingFilter:Te.MultiFilterModule,agGroupColumnFilter:Te.RowGroupingModule,agGroupColumnFloatingFilter:Te.RowGroupingModule,agRichSelect:Te.RichSelectModule,agRichSelectCellEditor:Te.RichSelectModule,agDetailCellRenderer:Te.MasterDetailModule,agSparklineCellRenderer:Te.SparklinesModule},this.jsComps={}}init(){this.gridOptions.components!=null&&Dr(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const n=(l,u)=>({componentFromFramework:u,component:l}),i=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(i!=null)return n(i,!0);const o=this.jsComps[t];if(o){const l=this.getFrameworkOverrides().isFrameworkComponent(o);return n(o,l)}const s=this.agGridDefaults[t];if(s)return n(s,!1);const a=this.enterpriseAgDefaultCompsModule[t];return a?Ye.__assertRegistered(a,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):Ut(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=[...Object.keys(this.agGridDefaults).filter(o=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(o)),...Object.keys(this.jsComps)],i=__(t,n,!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),i.length>0&&console.warn(`         Did you mean: [${i.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};EW([x("gridOptions")],WA.prototype,"gridOptions",void 0);EW([ge],WA.prototype,"init",null);WA=EW([De("userComponentRegistry")],WA);const kYe={propertyName:"dateComponent",cellRenderer:!1},HYe={propertyName:"headerComponent",cellRenderer:!1},$Ye={propertyName:"headerGroupComponent",cellRenderer:!1},UY={propertyName:"cellRenderer",cellRenderer:!0},BYe={propertyName:"cellEditor",cellRenderer:!1},zY={propertyName:"innerRenderer",cellRenderer:!0},jYe={propertyName:"loadingOverlayComponent",cellRenderer:!1},WYe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},UYe={propertyName:"tooltipComponent",cellRenderer:!1},nk={propertyName:"filter",cellRenderer:!1},zYe={propertyName:"floatingFilterComponent",cellRenderer:!1},KYe={propertyName:"toolPanel",cellRenderer:!1},YYe={propertyName:"statusPanel",cellRenderer:!1},qYe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},QYe={propertyName:"loadingCellRenderer",cellRenderer:!0},XYe={propertyName:"groupRowRenderer",cellRenderer:!0},JYe={propertyName:"detailCellRenderer",cellRenderer:!0};let zhe=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};zhe.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Ty=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vp=class extends de{getHeaderCompDetails(e,t){return this.getCompDetails(e,HYe,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,$Ye,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,qYe,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,QYe,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,XYe,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,JYe,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,zY,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,zY,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,UY,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,BYe,"agCellEditor",t,!0)}getFilterDetails(e,t,n){return this.getCompDetails(e,nk,n,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,kYe,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,jYe,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,WYe,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,UYe,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,UY,null,t)}getFloatingFilterCompDetails(e,t,n){return this.getCompDetails(e,zYe,n,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,KYe,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,YYe,null,t,!0)}getCompDetails(e,t,n,i,o=!1){const{propertyName:s,cellRenderer:a}=t;let{compName:l,jsComp:u,fwComp:c,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:f}=this.getCompKeys(e,t,i);const p=y=>{const w=this.userComponentRegistry.retrieve(s,y);w&&(u=w.componentFromFramework?void 0:w.component,c=w.componentFromFramework?w.component:void 0)};if(l!=null&&p(l),u==null&&c==null&&n!=null&&p(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),!u&&!c){o&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`);return}const g=this.mergeParamsWithApplicationProvidedParams(e,t,i,d),C=u==null,m=u||c;return{componentFromFramework:C,componentClass:m,params:g,type:t,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:()=>this.newAgStackInstance(m,C,g,t)}}getCompKeys(e,t,n){const{propertyName:i}=t;let o,s,a,l,u,c;if(e){const d=e,h=d[i+"Selector"],f=h?h(n):null,p=g=>{typeof g=="string"?o=g:g!=null&&g!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(g)?a=g:s=g)};f?(p(f.component),l=f.params,u=f.popup,c=f.popupPosition):p(d[i])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}newAgStackInstance(e,t,n,i){const o=i.propertyName,s=!t;let a;if(s)a=new e;else{const u=this.componentMetadataProvider.retrieve(o);a=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,i)}const l=this.initComponent(a,n);return l==null?ur.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,t,n,i=null){const o={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};Bs(o,n);const s=e,a=s&&s[t.propertyName+"Params"];if(typeof a=="function"){const l=a(n);Bs(o,l)}else typeof a=="object"&&Bs(o,a);return Bs(o,i),o}initComponent(e,t){if(this.context.createBean(e),e.init!=null)return e.init(t)}getDefaultFloatingFilterType(e,t){if(e==null)return null;let n=null,{compName:i,jsComp:o,fwComp:s}=this.getCompKeys(e,nk);return i?n=zhe.getFloatingFilterType(i):o==null&&s==null&&e.filter===!0&&(n=t()),n}};Ty([x("gridOptions")],Vp.prototype,"gridOptions",void 0);Ty([x("agComponentUtils")],Vp.prototype,"agComponentUtils",void 0);Ty([x("componentMetadataProvider")],Vp.prototype,"componentMetadataProvider",void 0);Ty([x("userComponentRegistry")],Vp.prototype,"userComponentRegistry",void 0);Ty([Bt("frameworkComponentWrapper")],Vp.prototype,"frameworkComponentWrapper",void 0);Vp=Ty([De("userComponentFactory")],Vp);var UA;(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"})(UA||(UA={}));var _W=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let zA=class extends de{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(n=>n.dragSource===e);t&&(this.removeListener(t),Ls(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:o}=e;n.addEventListener("mousedown",t);let s=null;const a=this.gridOptionsService.is("suppressTouch");i&&!a&&(s=l=>{qj(l.target)||(l.cancelable&&(l.preventDefault(),o&&l.stopPropagation()),this.onTouchStart(e,l))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=u=>this.onTouchMove(u,e.eElement),o=u=>this.onTouchUp(u,e.eElement),s=u=>{u.cancelable&&u.preventDefault()},a=t.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:s,options:{passive:!1}},{target:a,type:"touchmove",listener:i,options:{passive:!0}},{target:a,type:"touchend",listener:o,options:{passive:!0}},{target:a,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=u=>this.onMouseMove(u,e.eElement),o=u=>this.onMouseUp(u,e.eElement),s=u=>u.preventDefault(),a=this.gridOptionsService.getRootNode(),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:o},{target:a,type:"contextmenu",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:o,options:s}=t;n.addEventListener(i,o,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:o,options:s}=t;n.removeEventListener(i,o,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=he(n)?n:4;return rW(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const i={type:A.EVENT_DRAG_STARTED,target:n};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gridOptionsService.is("enableCellTextSelection"),n=Rl(),i=e.type==="mousemove";return(t&&i||n)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,n=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(n!=null&&n.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const n={type:A.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(n=>n()),this.dragEndFunctions.length=0}};_W([x("mouseEventService")],zA.prototype,"mouseEventService",void 0);_W([Bi],zA.prototype,"removeAllListeners",null);zA=_W([De("dragService")],zA);let Khe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<i.left+o,this.tickRight=e.clientX>i.right-o,this.tickUp=e.clientY<i.top+o&&!n,this.tickDown=e.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};var Yhe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const gN="ag-list-item-hovered";let RW=class extends de{constructor(e,t,n){super(),this.comp=e,this.virtualList=t,this.params=n,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>Ct[this.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"],getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new Khe({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),n=this.virtualList.getComponentAt(t.rowIndex);if(!n)return;const i=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,XV(i,gN),XV(i,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(t).paddingTop),i=this.virtualList.getRowHeight(),o=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-n+o)/i),a=this.params.getNumRows(this.comp)-1,l=Math.min(a,s)|0;return{rowIndex:l,position:Math.round(s)>s||s>a?"bottom":"top",component:this.virtualList.getComponentAt(l)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${gN}`).forEach(t=>{[gN,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(n=>{t.classList.remove(n)})}),this.lastHoveredListItem=null}};Yhe([x("dragAndDropService")],RW.prototype,"dragAndDropService",void 0);Yhe([ge],RW.prototype,"postConstruct",null);var _c;(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"})(_c||(_c={}));var hn;(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"})(hn||(hn={}));var cn=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function Zf(r){const e=r;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():r}let on=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(e){this.overlayWrapperComp=e}registerSideBarComp(e){this.sideBarComp=e}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(e){return`set${e.charAt(0).toUpperCase()}${e.substring(1)}`}__setPropertyOnly(e,t){return this.gos.__setPropertyOnly(e,t)}__updateProperty(e,t,n,i=void 0){this.gos.set(e,t,n,{},i);const o=this.getSetterMethod(e),s=this;s[o]&&s[o](t)}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;Dr(this.detailGridInfoMap,(n,i)=>{he(i)&&(e(i,t),t++)})}getDataAsCsv(e){if(Ye.__assertRegistered(Te.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Ye.__assertRegistered(Te.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}getExcelExportMode(e){const t=this.gos.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},t,e).exportMode}assertNotExcelMultiSheet(e,t){if(!Ye.__assertRegistered(Te.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;const n=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(n)===UA.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(!Ye.__assertRegistered(Te.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(UA.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Ye.__assertRegistered(Te.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){if(Ye.__assertRegistered(Te.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)}setTreeData(e){this.gos.set("treeData",e)}setGridAriaProperty(e,t){if(!e)return;const n=this.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${e}`;t===null?n.removeAttribute(i):n.setAttribute(i,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}setServerSideDatasource(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(e){this.serverSideRowModel?(this.gos.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(e){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(e){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(e){if(this.immutableService==null){this.logMissingRowModel("setRowData","clientSide");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))}setPinnedTopRowData(e){this.pinnedRowModel.setPinnedTopRowData(e)}setPinnedBottomRowData(e){this.pinnedRowModel.setPinnedBottomRowData(e)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}setColumnDefs(e,t="api"){this.columnModel.setColumnDefs(e,t),this.gos.set("columnDefs",e,!0,{source:t})}setAutoGroupColumnDef(e,t="api"){this.gos.set("autoGroupColumnDef",e,!0,{source:t})}setDefaultColDef(e,t="api"){this.gos.set("defaultColDef",e,!0,{source:t})}setColumnTypes(e,t="api"){this.gos.set("columnTypes",e,!0,{source:t})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(e){this.gos.set("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.gos.set("alwaysShowVerticalScroll",e)}refreshCells(e={}){this.rowRenderer.refreshCells(e)}flashCells(e={}){this.rowRenderer.flashCells(e)}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)}setFunctionsReadOnly(e){this.gos.set("functionsReadOnly",e)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh())}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(e,t,n){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,n),e.setExpanded(t))}onGroupExpandedOrCollapsed(){if(dt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.clientSideRowModel.refreshModel({step:hn.MAP})}refreshClientSideRowModel(e){if(dt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)}getQuickFilter(){return this.gos.get("quickFilterText")}setQuickFilter(e){this.gos.set("quickFilterText",e)}setExcludeHiddenColumnsFromQuickFilter(e){Ca("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)}setIncludeHiddenColumnsInQuickFilter(e){this.gos.set("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.gos.set("quickFilterParser",e)}setQuickFilterMatcher(e){this.gos.set("quickFilterMatcher",e)}getAdvancedFilterModel(){return Ye.__assertRegistered(Te.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.gos.set("advancedFilterModel",e)}setEnableAdvancedFilter(e){this.gos.set("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.gos.set("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.gos.set("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.gos.set("advancedFilterBuilderParams",e)}showAdvancedFilterBuilder(){Ye.__assertRegistered(Te.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:i,newValue:o}=e,s=n;this.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:o})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return dt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(e){if(dt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setServerSideSelectionState(e)}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}sizeColumnsToFit(e){this.gridBodyCtrl.sizeColumnsToFit(e)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(dt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)}ensureIndexVisible(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)}ensureNodeVisible(e,t=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)}forEachLeafNode(e){if(dt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){if(dt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(dt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return this.filterManager.getFilterInstance(e,t)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!Ye.__assertRegistered(Te.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return;const t=this.statusBarService.getStatusPanel(e);return Zf(t)}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.filterManager.setFilterModel(e)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})}setSuppressRowDrag(e){this.gos.set("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.gos.set("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.gos.set("suppressRowClickSelection",e)}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}setHeaderHeight(e){this.gos.set("headerHeight",e)}setDomLayout(e){this.gos.set("domLayout",e)}setEnableCellTextSelection(e){this.gridBodyCtrl.setCellTextSelection(e)}setFillHandleDirection(e){this.gos.set("fillHandleDirection",e)}setGroupHeaderHeight(e){this.gos.set("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.gos.set("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.gos.set("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.gos.set("pivotGroupHeaderHeight",e)}setPivotMode(e){this.columnModel.setPivotMode(e)}setAnimateRows(e){this.gos.set("animateRows",e)}setIsExternalFilterPresent(e){this.gos.set("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.gos.set("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.gos.set("navigateToNextCell",e)}setTabToNextCell(e){this.gos.set("tabToNextCell",e)}setTabToNextHeader(e){this.gos.set("tabToNextHeader",e)}setNavigateToNextHeader(e){this.gos.set("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.gos.set("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.gos.set("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.gos.set("getBusinessKeyForNode",e)}setGetChildCount(e){this.gos.set("getChildCount",e)}setProcessRowPostCreate(e){this.gos.set("processRowPostCreate",e)}setGetRowId(e){this.gos.set("getRowId",e)}setGetRowClass(e){this.gos.set("getRowClass",e)}setIsFullWidthRow(e){this.gos.set("isFullWidthRow",e)}setIsRowSelectable(e){this.gos.set("isRowSelectable",e)}setIsRowMaster(e){this.gos.set("isRowMaster",e)}setPostSortRows(e){this.gos.set("postSortRows",e)}setGetDocument(e){this.gos.set("getDocument",e)}setGetContextMenuItems(e){this.gos.set("getContextMenuItems",e)}setGetMainMenuItems(e){this.gos.set("getMainMenuItems",e)}setProcessCellForClipboard(e){this.gos.set("processCellForClipboard",e)}setSendToClipboard(e){this.gos.set("sendToClipboard",e)}setProcessCellFromClipboard(e){this.gos.set("processCellFromClipboard",e)}setProcessSecondaryColDef(e){Ca("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)}setProcessSecondaryColGroupDef(e){Ca("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)}setProcessPivotResultColDef(e){this.gos.set("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.gos.set("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.gos.set("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.gos.set("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.gos.set("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.gos.set("paginationNumberFormatter",e)}setGetServerSideStoreParams(e){Ca("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)}setGetServerSideGroupLevelParams(e){this.gos.set("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.gos.set("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.gos.set("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.gos.set("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.gos.set("getServerSideGroupKey",e)}setGetRowStyle(e){this.gos.set("getRowStyle",e)}setGetRowHeight(e){this.gos.set("getRowHeight",e)}assertSideBarLoaded(e){return Ye.__assertRegistered(Te.SideBarModule,"api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const t=this.sideBarComp.getToolPanelInstance(e);return Zf(t)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(e){this.gos.set("sideBar",e)}setSuppressClipboardPaste(e){this.gos.set("suppressClipboardPaste",e)}resetRowHeights(){if(he(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(e){this.gos.set("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.gos.set("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.gos.set("groupDisplayType",e)}setGroupIncludeFooter(e){this.gos.set("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.gos.set("groupIncludeTotalFooter",e)}setRowClass(e){this.gos.set("rowClass",e)}setDeltaSort(e){this.gos.set("deltaSort",e)}setRowCount(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let n=this.columnModel.getPrimaryColumn(e);return dt(n)&&(n=this.columnModel.getGridColumn(e)),dt(n)?null:this.valueService.getValue(n,t)}addEventListener(e,t){const n=this.gos.useAsyncEvents();this.eventService.addEventListener(e,t,n)}addGlobalListener(e){const t=this.gos.useAsyncEvents();this.eventService.addGlobalListener(e,t)}removeEventListener(e,t){const n=this.gos.useAsyncEvents();this.eventService.removeEventListener(e,t,n)}removeGlobalListener(e){const t=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(e,t)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0,this.dispatchEvent({type:A.EVENT_GRID_PRE_DESTROYED});const e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(ode.bind(window,this,"Grid API"),100)}warnIfDestroyed(e){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${e} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Ye.__assertRegistered(Te.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Ye.__assertRegistered(Te.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Ye.__assertRegistered(Te.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(Ye.__assertRegistered(Te.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)}getChartImageDataURL(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)}downloadChart(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)}openChartToolPanel(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)}closeChartToolPanel(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)}createRangeChart(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)}createPivotChart(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)}createCrossFilterChart(e){if(Ye.__assertRegistered(Te.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)}updateChart(e){Ye.__assertRegistered(Te.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)}restoreChart(e,t){if(Ye.__assertRegistered(Te.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)}copyToClipboard(e){Ye.__assertRegistered(Te.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)}cutToClipboard(e){Ye.__assertRegistered(Te.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")}copySelectedRowsToClipboard(e){Ye.__assertRegistered(Te.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)}copySelectedRangeToClipboard(e){Ye.__assertRegistered(Te.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)}copySelectedRangeDown(){Ye.__assertRegistered(Te.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){Ye.__assertRegistered(Te.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(e,t){const n=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t,"columnMenu")}showColumnMenuAfterMouseClick(e,t){let n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error(`AG Grid: column '${e}' not found`);return}this.menuFactory.showMenuAfterMouseEvent(n,t)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(e){this.gos.set("popupParent",e)}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(Zf)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(Zf)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};e.rowPinned==null&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);const o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)}applyServerSideRowData(e){var t,n;const i=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(i<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(e)}applyTransactionAsync(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(e,t)}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()}setSuppressModelUpdateAfterUpdateTransaction(e){this.gos.set("suppressModelUpdateAfterUpdateTransaction",e)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}refreshServerSideStore(e){return Ca("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)}getServerSideStoreState(){return Ca("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(e){this.gos.set("dataTypeDefinitions",e)}setPagination(e){this.gos.set("pagination",e)}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(e){this.gos.set("paginationPageSize",e)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}};cn([Bt("immutableService")],on.prototype,"immutableService",void 0);cn([Bt("csvCreator")],on.prototype,"csvCreator",void 0);cn([Bt("excelCreator")],on.prototype,"excelCreator",void 0);cn([x("rowRenderer")],on.prototype,"rowRenderer",void 0);cn([x("navigationService")],on.prototype,"navigationService",void 0);cn([x("filterManager")],on.prototype,"filterManager",void 0);cn([x("columnModel")],on.prototype,"columnModel",void 0);cn([x("selectionService")],on.prototype,"selectionService",void 0);cn([x("gridOptionsService")],on.prototype,"gos",void 0);cn([x("valueService")],on.prototype,"valueService",void 0);cn([x("alignedGridsService")],on.prototype,"alignedGridsService",void 0);cn([x("eventService")],on.prototype,"eventService",void 0);cn([x("pinnedRowModel")],on.prototype,"pinnedRowModel",void 0);cn([x("context")],on.prototype,"context",void 0);cn([x("rowModel")],on.prototype,"rowModel",void 0);cn([x("sortController")],on.prototype,"sortController",void 0);cn([x("paginationProxy")],on.prototype,"paginationProxy",void 0);cn([x("focusService")],on.prototype,"focusService",void 0);cn([x("dragAndDropService")],on.prototype,"dragAndDropService",void 0);cn([Bt("rangeService")],on.prototype,"rangeService",void 0);cn([Bt("clipboardService")],on.prototype,"clipboardService",void 0);cn([Bt("aggFuncService")],on.prototype,"aggFuncService",void 0);cn([x("menuFactory")],on.prototype,"menuFactory",void 0);cn([Bt("contextMenuFactory")],on.prototype,"contextMenuFactory",void 0);cn([x("valueCache")],on.prototype,"valueCache",void 0);cn([x("animationFrameService")],on.prototype,"animationFrameService",void 0);cn([Bt("statusBarService")],on.prototype,"statusBarService",void 0);cn([Bt("chartService")],on.prototype,"chartService",void 0);cn([Bt("undoRedoService")],on.prototype,"undoRedoService",void 0);cn([Bt("rowNodeBlockLoader")],on.prototype,"rowNodeBlockLoader",void 0);cn([Bt("ssrmTransactionManager")],on.prototype,"serverSideTransactionManager",void 0);cn([x("ctrlsService")],on.prototype,"ctrlsService",void 0);cn([ge],on.prototype,"init",null);cn([Bi],on.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null);on=cn([De("gridApi")],on);var F_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hm;let Vc=hm=class extends de{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassQuickFilterCache(e,n):this.doesRowPassQuickFilterNoCache(e,n))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return he(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - setQuickFilter() only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:hm.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gridOptionsService.get("quickFilterParser"),t=this.gridOptionsService.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setQuickFilterParts(),this.dispatchEvent({type:hm.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:hm.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(i=>{const o=this.getQuickFilterTextForColumn(i,e);return he(o)&&o.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let n;e?(this.checkGenerateQuickFilterAggregateText(t),n=t.quickFilterAggregateText):n=this.getQuickFilterAggregateText(t);const{quickFilterParts:i,matcher:o}=this;return o(i,n)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let n=this.valueService.getValue(e,t,!0);const i=e.getColDef();if(i.getQuickFilterText){const o={value:n,node:t,data:t.data,column:e,colDef:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};n=i.getQuickFilterText(o)}return he(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(i=>{const o=this.getQuickFilterTextForColumn(i,e);he(o)&&t.push(o)}),t.join(hm.QUICK_FILTER_SEPARATOR)}};Vc.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";Vc.QUICK_FILTER_SEPARATOR=`
`;F_([x("valueService")],Vc.prototype,"valueService",void 0);F_([x("columnModel")],Vc.prototype,"columnModel",void 0);F_([x("rowModel")],Vc.prototype,"rowModel",void 0);F_([ge],Vc.prototype,"postConstruct",null);Vc=hm=F_([De("quickFilterService")],Vc);var Bu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let bl=class extends de{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[]}init(){this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>this.updateAggFiltering()),this.addManagedPropertyListener("advancedFilterModel",e=>this.setAdvancedFilterModel(e.currentValue)),this.addManagedListener(this.eventService,A.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:e})=>this.onAdvancedFilterEnabledChanged(e)),this.addManagedListener(this.eventService,A.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Vc.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"}))}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push(e);return}const t=[],n=this.getFilterModel();if(e){const i=iW(Object.keys(e));this.allColumnFilters.forEach((o,s)=>{const a=e[s];t.push(this.setModelOnFilterWrapper(o.filterPromise,a)),i.delete(s)}),i.forEach(o=>{const s=this.columnModel.getPrimaryColumn(o)||this.columnModel.getGridColumn(o);if(!s){console.warn("AG Grid: setFilterModel() - no column found for colId: "+o);return}if(!s.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const a=this.getOrCreateFilterWrapper(s,"NO_UI");if(!a){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}t.push(this.setModelOnFilterWrapper(a.filterPromise,e[o]))})}else this.allColumnFilters.forEach(i=>{t.push(this.setModelOnFilterWrapper(i.filterPromise,null))});ur.all(t).then(()=>{const i=this.getFilterModel(),o=[];this.allColumnFilters.forEach((s,a)=>{const l=n?n[a]:null,u=i?i[a]:null;q.jsonEquals(l,u)||o.push(s.column)}),o.length>0&&this.onFilterChanged({columns:o,source:"api"})})}setModelOnFilterWrapper(e,t){return new ur(n=>{e.then(i=>{typeof i.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(i.setModel(t)||ur.resolve()).then(()=>n())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,n)=>{const o=t.filterPromise.resolveNow(null,a=>a);if(o==null)return null;if(typeof o.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}const s=o.getModel();he(s)&&(e[n]=s)}),e}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(n=>this.disposeFilterWrapper(n,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):!((t=this.advancedFilterService)===null||t===void 0)&&t.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=i=>i?i.isFilterActive?i.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,t=!!this.gridOptionsService.getGroupAggFiltering(),n=i=>{if(!i.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!i.isValueActive()||!s?!1:this.columnModel.isPivotMode()?!0:t};this.allColumnFilters.forEach(i=>{if(i.filterPromise.resolveNow(!1,e)){const o=i.filterPromise.resolveNow(null,s=>s);n(i.column)?this.activeAggregateFilters.push(o):this.activeColumnFilters.push(o)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(n=>{const i=n.filterPromise.resolveNow(!1,o=>o.isFilterActive());n.column.setFilterActive(i,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(e,t,n){const{data:i,aggData:o}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,a=n?o:i;for(let l=0;l<s.length;l++){const u=s[l];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:a}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{source:t,filterInstance:n,additionalEventAttributes:i,columns:o}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(a=>{a.filterPromise&&a.filterPromise.then(l=>{l&&l!==n&&l.onAnyFilterChanged&&l.onAnyFilterChanged()})});const s={source:t,type:A.EVENT_FILTER_CHANGED,columns:o||[]};i&&Bs(s,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(n=>{n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}getFilterComponent(e,t,n=!0){var i;if(n)return((i=this.getOrCreateFilterWrapper(e,t))===null||i===void 0?void 0:i.filterPromise)||null;const o=this.cachedFilter(e);return o?o.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,n=>n.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let n=this.cachedFilter(e);if(n)t!=="NO_UI"&&this.putIntoGui(n,t);else{n=this.createFilterWrapper(e,t);const i=e.getColId();this.allColumnFilters.set(i,n),this.allColumnListeners.set(i,this.addManagedListener(e,rt.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}return n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Ye.__isRegistered(Te.SetFilterModule,this.context.getGridId()))t="agSetColumnFilter";else{const n=e.getColDef().cellDataType;n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Ye.__isRegistered(Te.SetFilterModule,this.context.getGridId()))t="agSetColumnFloatingFilter";else{const n=e.getColDef().cellDataType;n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),n=e.getColDef();let i;const o=Object.assign(Object.assign({},this.createFilterParams(e,n)),{filterModifiedCallback:()=>{const a={type:A.EVENT_FILTER_MODIFIED,column:e,filterInstance:i};this.eventService.dispatchEvent(a)},filterChangedCallback:a=>{var l;const u=(l=a==null?void 0:a.source)!==null&&l!==void 0?l:"api",c={filterInstance:i,additionalEventAttributes:a,columns:[e],source:u};this.callOnFilterChangedOutsideRenderCycle(c)},doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(i,a)}),s=this.userComponentFactory.getFilterDetails(n,o,t);return s?{filterPromise:()=>{const a=s.newAgStackInstance();return a&&a.then(l=>i=l),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return{column:e,colDef:xj(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(e,t){var n;const i={column:e,filterPromise:null,compiledElement:null,guiPromise:ur.resolve(null),compDetails:null},{filterPromise:o,compDetails:s}=this.createFilterInstance(e);return i.filterPromise=(n=o==null?void 0:o())!==null&&n!==void 0?n:null,i.compDetails=s,o&&this.putIntoGui(i,t),i}putIntoGui(e,t){const n=document.createElement("div");n.className="ag-filter",e.guiPromise=new ur(i=>{e.filterPromise.then(o=>{let s=o.getGui();he(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),typeof s=="string"&&(s=Ai(s)),n.appendChild(s),i(n);const a={type:A.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:n};this.eventService.dispatchEvent(a)})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,n)=>{let i;t.column.isPrimary()?i=this.columnModel.getPrimaryColumn(n):i=this.columnModel.getGridColumn(n),!i&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(n))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,n;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const o=this.allColumnFilters.get(e.getColId());return(n=(t=o==null?void 0:o.filterPromise)===null||t===void 0?void 0:t.resolveNow(!0,s=>{var a,l;return typeof((a=s)===null||a===void 0?void 0:a.isFilterAllowed)=="function"?(l=s)===null||l===void 0?void 0:l.isFilterAllowed():!0}))!==null&&n!==void 0?n:!0}getFloatingFilterCompDetails(e,t){const n=e.getColDef(),i=this.createFilterParams(e,n),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,nk,i);let s=this.userComponentFactory.getDefaultFloatingFilterType(n,()=>this.getDefaultFloatingFilter(e));s==null&&(s="agReadOnlyFloatingFilter");const l={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:u=>{const c=this.getFilterComponent(e,"NO_UI");c!=null&&c.then(d=>{u(Zf(d))})},showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,l,s)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,n=>n&&n.getModel()):null}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),i&&(this.disposeFilterWrapper(i,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(n=>{(n.setModel(null)||ur.resolve()).then(()=>{this.getContext().destroyBean(n),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const i={type:A.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(i)})})}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};this.areFilterCompsDifferent(t.compDetails,i)&&this.destroyFilter(n,"columnChanged")}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"}))}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){if(this.isAdvancedFilterEnabled())return!1;const e=this.columnModel.getAllGridColumns();return e?e.some(t=>t.getColDef().floatingFilter):!1}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const n=this.getFilterInstanceImpl(e,o=>{if(!t)return;const s=Zf(o);t(s)});return Zf(n)}getFilterInstanceImpl(e,t){const n=this.columnModel.getPrimaryColumn(e);if(!n)return;const i=this.getFilterComponent(n,"NO_UI"),o=i&&i.resolveNow(null,s=>s);return o?setTimeout(t,0,o):i&&i.then(s=>{t(s)}),o}warnAdvancedFilters(){Ut(()=>{console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)===null||t===void 0||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(e=>this.setFilterModel(e)),this.filterModelUpdateQueue=[]}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};Bu([x("valueService")],bl.prototype,"valueService",void 0);Bu([x("columnModel")],bl.prototype,"columnModel",void 0);Bu([x("rowModel")],bl.prototype,"rowModel",void 0);Bu([x("userComponentFactory")],bl.prototype,"userComponentFactory",void 0);Bu([x("rowRenderer")],bl.prototype,"rowRenderer",void 0);Bu([x("dataTypeService")],bl.prototype,"dataTypeService",void 0);Bu([x("quickFilterService")],bl.prototype,"quickFilterService",void 0);Bu([Bt("advancedFilterService")],bl.prototype,"advancedFilterService",void 0);Bu([ge],bl.prototype,"init",null);bl=Bu([De("filterManager")],bl);let bW=class extends ke{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}};var M_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Eg=class qhe extends bW{constructor(e){super(qhe.TEMPLATE,e)}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(n,i)=>this.addOrRemoveCssClass(n,i),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>Jt(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};Eg.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;M_([pe("eFloatingFilterBody")],Eg.prototype,"eFloatingFilterBody",void 0);M_([pe("eButtonWrapper")],Eg.prototype,"eButtonWrapper",void 0);M_([pe("eButtonShowMainFilter")],Eg.prototype,"eButtonShowMainFilter",void 0);M_([ge],Eg.prototype,"postConstruct",null);M_([Bi],Eg.prototype,"destroyFloatingFilterComp",null);var ZYe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wr;(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"})(Wr||(Wr={}));let nM=class extends de{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Wr.AUTO_HEIGHT:t.print?Wr.PRINT:Wr.NORMAL;this.view.updateLayoutClasses(n,t)}getDomLayout(){var e;const t=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(Ut(()=>console.warn(`AG Grid: ${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"warn about dom layout values"),"normal"):t}};ZYe([ge],nM.prototype,"postConstruct",null);var ef=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eo;(function(r){r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal"})(eo||(eo={}));var Co;(function(r){r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer"})(Co||(Co={}));let Zc=class extends de{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=al(()=>this.lastScrollSource[eo.Horizontal]=null,500),this.resetLastVScrollDebounced=al(()=>this.lastScrollSource[eo.Vertical]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const n=this.gridOptionsService.is("debounceVerticalScrollbar"),i=n?al(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=n?al(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),t.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowContainerCtrl==null)return;e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const n=this.enableRtl?e:-e,i=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-n),s.setContainerTranslateX(n),i.setContainerTranslateX(n),o.setContainerTranslateX(n);const u=this.centerRowContainerCtrl.getViewportElement(),c=this.lastScrollSource[eo.Horizontal]===Co.Container;e=Math.abs(e),c?a.setScrollPosition(e):iE(u,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(Co.FakeContainer,eo.Horizontal)&&this.onHScrollCommon(Co.FakeContainer)}onHScroll(){this.isControllingScroll(Co.Container,eo.Horizontal)&&this.onHScrollCommon(Co.Container)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(eo.Horizontal,n,!0))return;let i;e===Co.Container?i=rE(t,this.enableRtl):i=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(Co.FakeContainer,eo.Vertical)&&this.onVScrollCommon(Co.FakeContainer)}onVScroll(){this.isControllingScroll(Co.Container,eo.Vertical)&&this.onVScrollCommon(Co.Container)}onVScrollCommon(e){let t;e===Co.Container?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(eo.Vertical,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===Co.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(eo.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:A.EVENT_BODY_SCROLL,direction:e===eo.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const n=Object.assign(Object.assign({},t),{type:A.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(n)},100)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Xh()?!1:e===eo.Vertical?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=R_(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&nE()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(eo.Vertical)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Co.Container)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(eo.Horizontal,e)&&(this.enableRtl&&nE()?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),iE(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const n=this.rowModel.getRowCount();let i=-1;for(let o=0;o<n;o++){const s=this.rowModel.getRow(o);if(typeof e=="function"){if(s&&e(s)){i=o;break}}else if(e===s||e===s.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const n=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=n){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(e);let u;do{const c=l.rowTop,d=l.rowHeight,h=this.paginationProxy.getPixelOffset(),f=l.rowTop-h,p=f+l.rowHeight,g=this.getVScrollPosition(),C=this.heightScaler.getDivStretchOffset(),m=g.top+C,y=g.bottom+C,w=y-m,E=this.heightScaler.getScrollPositionForPixel(f),P=this.heightScaler.getScrollPositionForPixel(p-w),T=Math.min((E+P)/2,f),R=m+a>f,_=y<p;let b=null;t==="top"?b=E:t==="bottom"?b=P:t==="middle"?b=T:R?b=E-a:_&&(b=P),b!==null&&(this.setVerticalScrollPosition(b),this.rowRenderer.redraw({afterScroll:!0})),u=c!==l.rowTop||d!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()}ensureColumnVisible(e,t="auto"){const n=this.columnModel.getGridColumn(e);if(!n||n.isPinned()||!this.columnModel.isColumnDisplayed(n))return;const i=this.getPositionedHorizontalScroll(n,t);i!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),o=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let l=(a?n:i)||o,u=a?i:n;t!=="auto"&&(l=t==="start",u=t==="end");const c=t==="middle";if(l||u||c){const{colLeft:d,colMiddle:h,colRight:f}=this.getColumnBounds(e);return c?h-s/2:l?a?f:d:a?d-s:f-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:o}=this.getColumnBounds(e),s=this.enableRtl,a=s?t>o:n<o,l=s?n<i:t>i;return{columnBeforeStart:a,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),i=e.getActualWidth(),o=e.getLeft(),s=t?-1:1,a=t?n-o:o,l=a+i*s,u=a+i/2*s;return{colLeft:a,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}};ef([x("ctrlsService")],Zc.prototype,"ctrlsService",void 0);ef([x("animationFrameService")],Zc.prototype,"animationFrameService",void 0);ef([x("paginationProxy")],Zc.prototype,"paginationProxy",void 0);ef([x("rowModel")],Zc.prototype,"rowModel",void 0);ef([x("rowContainerHeightService")],Zc.prototype,"heightScaler",void 0);ef([x("rowRenderer")],Zc.prototype,"rowRenderer",void 0);ef([x("columnModel")],Zc.prototype,"columnModel",void 0);ef([ge],Zc.prototype,"postConstruct",null);var Ha=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ia=class extends de{constructor(e){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const e=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,()=>{e()}),e(),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new Khe({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:n=>t.getScrollFeature().setVerticalScrollPosition(n),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Vs(e)}getContainer(){return this.eContainer}isInterestedIn(e){return e===Nr.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?Ct.ICON_NOT_ALLOWED:Ct.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.is("rowDragMultiRow"),n=[...this.selectionService.getSelectedNodes()].sort((o,s)=>o.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(s)),i=e.dragItem.rowNode;return t&&n.indexOf(i)!==-1?(this.isMultiRowDrag=!0,n):(this.isMultiRowDrag=!1,[i])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(A.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return!n.contains(i)}onEnterOrDragging(e){this.dispatchGridEvent(A.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const n=this.isFromThisGrid(e),i=this.gridOptionsService.is("rowDragManaged"),o=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){return parseInt(Pn(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),n=t&&t.highlighted===_c.Below,i=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes;let s=n?1:0;if(this.isFromThisGrid(e))o.forEach(a=>{a.rowTop<i&&(s-=1)}),this.moveRows(o,i,s);else{const a=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(i)+1;this.clientSideRowModel.getHighlightPosition(i)===_c.Above&&l--,this.clientSideRowModel.updateRowData({add:o.map(u=>u.data).filter(u=>!this.clientSideRowModel.getRowNode(a?a({data:u,level:0}):u.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){Ut(()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided"),"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,t=e):(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_ENTER,n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_LEAVE,n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_MOVE,n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:n=>n===Nr.RowDrag,getIconName:()=>Ct.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),o=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?a=>{n(a),e.onDragEnter(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_ENTER,a))}:n,onDragLeave:e.onDragLeave?a=>{i(a),e.onDragLeave(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_LEAVE,a))}:i,onDragging:e.onDragging?a=>{o(a),e.onDragging(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_MOVE,a))}:o,onDragStop:e.onDragStop?a=>{s(a),e.onDragStop(this.draggingToRowDragEvent(A.EVENT_ROW_DRAG_END,a))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:o,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(e,t){const n=this.mouseEventService.getNormalisedPosition(t).y,i=n>this.paginationProxy.getCurrentPageHeight();let o=-1,s;i||(o=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(o));let a;switch(t.vDirection){case Gv.Down:a="down";break;case Gv.Up:a="up";break;default:a=null;break}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:s,y:n,vDirection:a}}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent(A.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(A.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}};Ha([x("dragAndDropService")],ia.prototype,"dragAndDropService",void 0);Ha([x("rowModel")],ia.prototype,"rowModel",void 0);Ha([x("paginationProxy")],ia.prototype,"paginationProxy",void 0);Ha([x("columnModel")],ia.prototype,"columnModel",void 0);Ha([x("focusService")],ia.prototype,"focusService",void 0);Ha([x("sortController")],ia.prototype,"sortController",void 0);Ha([x("filterManager")],ia.prototype,"filterManager",void 0);Ha([x("selectionService")],ia.prototype,"selectionService",void 0);Ha([x("mouseEventService")],ia.prototype,"mouseEventService",void 0);Ha([x("ctrlsService")],ia.prototype,"ctrlsService",void 0);Ha([Bt("rangeService")],ia.prototype,"rangeService",void 0);Ha([ge],ia.prototype,"postConstruct",null);var ds=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Vv;(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"})(Vv||(Vv={}));const Qhe="ag-force-vertical-scroll",eqe="ag-selectable",tqe="ag-column-moving";let Fo=class extends de{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,n,i,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=o,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new nM(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Zc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,o,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",n=>{const{target:i}=n,o=hp(i,"ag-root",t);t.classList.toggle("ag-has-focus",!o)}),this.addManagedListener(t,"focusout",n=>{const{target:i,relatedTarget:o}=n,s=t.contains(o),a=hp(o,"ag-root",t);hp(i,"ag-root",t)||(!s||a)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(tqe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(eqe,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const t=e&&this.gridOptionsService.getScrollbarWidth()||0,n=eE()?16:0,i=`calc(100% + ${t+n}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(i))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const e=n=>{const i=n.relatedTarget;if(BA(i)===null){this.rowRenderer.stopEditing();return}let o=t.some(s=>s.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!o){const s=this.popupService;o=s.getActivePopups().some(a=>a.contains(i))||s.isElementWithinCustomPopup(i)}o||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(n=>this.addManagedListener(n,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=t===-1?-1:e+t;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?Qhe:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&Zde(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),n=t?Vv.ANIMATION_ON:Vv.ANIMATION_OFF;this.comp.setRowAnimationCssOnBodyViewport(n,t)};e(),this.addManagedListener(this.eventService,A.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",n=>this.onFullWidthContainerWheel(n,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;if(i===this.eBodyViewport||i===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):n&&this.contextMenuFactory.onContextMenu(null,n,null,null,null,this.eGridBody)}}mockContextMenuForIPad(e){if(!Xh())return;const t=new Mr(this.eBodyViewport),n=i=>{e(void 0,i.touchStart,i.touchEvent)};this.addManagedListener(t,Mr.EVENT_LONG_TAP,n),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new ia(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight();t&&(t+=1);let n=e.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(!e)this.comp.setStickyTopWidth("100%");else{const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;t>0&&(i+=t+1),n>0&&(i+=n+1),this.comp.setStickyTopTop(`${i}px`)}sizeColumnsToFit(e,t){const i=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=KF(this.eGridBody)-i;if(s>0){this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};ds([x("animationFrameService")],Fo.prototype,"animationFrameService",void 0);ds([x("rowContainerHeightService")],Fo.prototype,"rowContainerHeightService",void 0);ds([x("ctrlsService")],Fo.prototype,"ctrlsService",void 0);ds([x("columnModel")],Fo.prototype,"columnModel",void 0);ds([x("scrollVisibleService")],Fo.prototype,"scrollVisibleService",void 0);ds([Bt("contextMenuFactory")],Fo.prototype,"contextMenuFactory",void 0);ds([x("headerNavigationService")],Fo.prototype,"headerNavigationService",void 0);ds([x("dragAndDropService")],Fo.prototype,"dragAndDropService",void 0);ds([x("pinnedRowModel")],Fo.prototype,"pinnedRowModel",void 0);ds([x("rowRenderer")],Fo.prototype,"rowRenderer",void 0);ds([x("popupService")],Fo.prototype,"popupService",void 0);ds([x("mouseEventService")],Fo.prototype,"mouseEventService",void 0);ds([x("rowModel")],Fo.prototype,"rowModel",void 0);ds([x("filterManager")],Fo.prototype,"filterManager",void 0);var KA;(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"})(KA||(KA={}));var Mm;(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"})(Mm||(Mm={}));const OC="ag-cell-range-selected",nqe="ag-cell-range-chart",rqe="ag-cell-range-single-cell",iqe="ag-cell-range-chart-category",oqe="ag-cell-range-handle",sqe="ag-cell-range-top",aqe="ag-cell-range-right",lqe="ag-cell-range-bottom",uqe="ag-cell-range-left";let cqe=class{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(OC,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${OC}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${OC}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${OC}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${OC}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(nqe,this.hasChartRange),Np(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(rqe,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(sqe,n),this.cellComp.addOrRemoveCssClass(aqe,i),this.cellComp.addOrRemoveCssClass(lqe,o),this.cellComp.addOrRemoveCssClass(uqe,s)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(n=>Tu([Mm.DIMENSION,Mm.VALUE],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.is("enableRtl");let t=!1,n=!1,i=!1,o=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:l}=this.beans;let u,c;e?(u=l.getDisplayedColAfter(s),c=l.getDisplayedColBefore(s)):(u=l.getDisplayedColBefore(s),c=l.getDisplayedColAfter(s));const d=a.getCellRanges().filter(h=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));u||(o=!0),c||(n=!0);for(let h=0;h<d.length&&!(t&&n&&i&&o);h++){const f=d[h],p=a.getRangeStartRow(f),g=a.getRangeEndRow(f);!t&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(t=!0),!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!o&&u&&f.columns.indexOf(u)<0&&(o=!0),!n&&c&&f.columns.indexOf(c)<0&&(n=!0)}return{top:t,right:n,bottom:i,left:o}}refreshHandle(){if(!this.beans.rangeService)return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(oqe,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,n=t.getCellRanges(),i=n.length;if(this.rangeCount<1||i<1)return!1;const o=Pn(n),s=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.is("enableRangeHandle");let u=i===1&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){const d=n[0].type===Mm.DIMENSION&&t.isCellInSpecificRange(s,n[0]);this.cellComp.addOrRemoveCssClass(iqe,d),u=o.type===Mm.VALUE}return u&&o.endRow!=null&&t.isContiguousRange(o)&&t.isBottomRightCell(o,s)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,n=Pn(t.getCellRanges()).type,o=e.is("enableFillHandle")&&dt(n)?KA.FILL:KA.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},dqe=class extends de{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const e=this.getColSpanningList();rh(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let n=this.column;const i=this.column.getPinned();for(let o=0;n&&o<e&&(t.push(n),n=this.beans.columnModel.getDisplayedColAfter(n),!(!n||dt(n)||i!==n.getPinned()));o++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?e=Pn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const n=this.beans.columnModel.getBodyContainerWidth();return t+n+(e||0)}return t+(e||0)}applyRowSpan(){if(this.rowSpan===1)return;const t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},hqe=class extends de{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,t,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1))}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const n={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},i=e.cellStyle;t=i(n)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},TW=class extends de{constructor(e,t){super(),this.ctrl=e,this.beans=t}setComp(e){this.eGui=e,this.setupTooltip()}setBrowserTooltip(e){const t="title";e!=null&&e!=""?this.eGui.setAttribute(t,e):this.eGui.removeAttribute(t)}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,n,i;if(this.genericTooltipFeature!=null)return;const o={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.genericTooltipFeature=this.createManagedBean(new mg(o,(t=(e=this.ctrl).getTooltipShowDelayOverride)===null||t===void 0?void 0:t.call(e),(i=(n=this.ctrl).getTooltipHideDelayOverride)===null||i===void 0?void 0:i.call(n)),this.beans.context)}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,n=e.getColDef?e.getColDef():void 0,i=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:n,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>this.genericTooltipFeature.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}};var bt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let wt=class{postConstruct(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};bt([x("resizeObserverService")],wt.prototype,"resizeObserverService",void 0);bt([x("paginationProxy")],wt.prototype,"paginationProxy",void 0);bt([x("context")],wt.prototype,"context",void 0);bt([x("columnApi")],wt.prototype,"columnApi",void 0);bt([x("gridApi")],wt.prototype,"gridApi",void 0);bt([x("gridOptionsService")],wt.prototype,"gridOptionsService",void 0);bt([x("expressionService")],wt.prototype,"expressionService",void 0);bt([x("environment")],wt.prototype,"environment",void 0);bt([x("rowRenderer")],wt.prototype,"rowRenderer",void 0);bt([x("templateService")],wt.prototype,"templateService",void 0);bt([x("valueService")],wt.prototype,"valueService",void 0);bt([x("eventService")],wt.prototype,"eventService",void 0);bt([x("columnModel")],wt.prototype,"columnModel",void 0);bt([x("headerNavigationService")],wt.prototype,"headerNavigationService",void 0);bt([x("navigationService")],wt.prototype,"navigationService",void 0);bt([x("columnAnimationService")],wt.prototype,"columnAnimationService",void 0);bt([Bt("rangeService")],wt.prototype,"rangeService",void 0);bt([x("focusService")],wt.prototype,"focusService",void 0);bt([Bt("contextMenuFactory")],wt.prototype,"contextMenuFactory",void 0);bt([x("popupService")],wt.prototype,"popupService",void 0);bt([x("valueFormatterService")],wt.prototype,"valueFormatterService",void 0);bt([x("stylingService")],wt.prototype,"stylingService",void 0);bt([x("columnHoverService")],wt.prototype,"columnHoverService",void 0);bt([x("userComponentFactory")],wt.prototype,"userComponentFactory",void 0);bt([x("userComponentRegistry")],wt.prototype,"userComponentRegistry",void 0);bt([x("animationFrameService")],wt.prototype,"animationFrameService",void 0);bt([x("dragService")],wt.prototype,"dragService",void 0);bt([x("dragAndDropService")],wt.prototype,"dragAndDropService",void 0);bt([x("sortController")],wt.prototype,"sortController",void 0);bt([x("filterManager")],wt.prototype,"filterManager",void 0);bt([x("rowContainerHeightService")],wt.prototype,"rowContainerHeightService",void 0);bt([x("frameworkOverrides")],wt.prototype,"frameworkOverrides",void 0);bt([x("cellPositionUtils")],wt.prototype,"cellPositionUtils",void 0);bt([x("rowPositionUtils")],wt.prototype,"rowPositionUtils",void 0);bt([x("selectionService")],wt.prototype,"selectionService",void 0);bt([Bt("selectionHandleFactory")],wt.prototype,"selectionHandleFactory",void 0);bt([x("rowCssClassCalculator")],wt.prototype,"rowCssClassCalculator",void 0);bt([x("rowModel")],wt.prototype,"rowModel",void 0);bt([x("ctrlsService")],wt.prototype,"ctrlsService",void 0);bt([x("ctrlsFactory")],wt.prototype,"ctrlsFactory",void 0);bt([x("agStackComponentsRegistry")],wt.prototype,"agStackComponentsRegistry",void 0);bt([x("valueCache")],wt.prototype,"valueCache",void 0);bt([x("rowNodeEventThrottle")],wt.prototype,"rowNodeEventThrottle",void 0);bt([x("localeService")],wt.prototype,"localeService",void 0);bt([x("valueParserService")],wt.prototype,"valueParserService",void 0);bt([ge],wt.prototype,"postConstruct",null);wt=bt([De("beans")],wt);let fqe=class extends wt{constructor(e,t,n){super(),this.cellCtrl=e,this.beans=t,this.column=n}onMouseEvent(e,t){if(!pl(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:n,gridOptionsService:i}=this.beans,o=e.ctrlKey||e.metaKey;n&&o&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,A.EVENT_CELL_CLICKED);t.dispatchEvent(s);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>a.onCellClicked(s),0),(i.is("singleClickEdit")||a.singleClickEdit)&&!i.is("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Xh()||Lj("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),n=this.cellCtrl.createEvent(e,A.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),typeof t.onCellDoubleClicked=="function"&&window.setTimeout(()=>t.onCellDoubleClicked(n),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,o=e.target,{cellCtrl:s,beans:a}=this,{eventService:l,rangeService:u,focusService:c}=a;if(this.isRightClickInExistingRange(e))return;const d=u&&u.getCellRanges().length!=0;if(!i||!d){const h=Rl()&&!s.isEditing()&&!qj(o);s.focusCell(h)}if(i&&d&&!c.isCellFocused(s.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:f,rowIndex:p,rowPinned:g}=h,C=a.rowRenderer.getRowByPosition({rowIndex:p,rowPinned:g}),m=C==null?void 0:C.getCellCtrl(f);m!=null&&m.isEditing()&&m.stopEditing(),c.setFocusedCell({column:f,rowIndex:p,rowPinned:g,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(o)){if(u){const h=this.cellCtrl.getCellPosition();if(i)u.extendLatestRangeToCell(h);else{const f=t||n;u.setRangeToCell(h,f)}}l.dispatchEvent(this.cellCtrl.createEvent(e,A.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return hp(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,A.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,A.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){}},pqe=class extends de{constructor(e,t,n,i,o){super(),this.cellCtrl=e,this.beans=t,this.rowNode=i,this.rowCtrl=o}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case X.ENTER:this.onEnterKeyDown(e);break;case X.F2:this.onF2KeyDown(e);break;case X.ESCAPE:this.onEscapeKeyDown(e);break;case X.TAB:this.onTabKeyDown(e);break;case X.BACKSPACE:case X.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case X.DOWN:case X.UP:case X.RIGHT:case X.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:o}=this,{gridOptionsService:s,rangeService:a,eventService:l}=i;n.isEditing()||(l.dispatchEvent({type:A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),ohe(e,s.is("enableCellEditingOnBackspace"))?a&&s.is("enableRangeSelection")?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):n.isCellEditable()&&o.setDataValue(n.getColumn(),null,"cellClear"):n.startRowOrCellEdit(e,t),l.dispatchEvent({type:A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){const t=e.shiftKey?X.UP:X.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(X.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(X.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const i=e.key;i===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(i,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const n=this.rowNode.isSelected(),i=!n;if(i||!t.is("suppressRowDeselection")){const o=this.beans.gridOptionsService.is("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"});n===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}};var gqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Xhe=class extends ke{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(Fr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const n=()=>{try{const i=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",i),e.dataTransfer.setData("text/plain",i)}catch{}};if(t){const i={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};t(i)}else n()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};gqe([ge],Xhe.prototype,"postConstruct",null);const mqe="ag-cell",vqe="ag-cell-auto-height",yqe="ag-cell-normal-height",Cqe="ag-cell-focus",wqe="ag-cell-first-right-pinned",Sqe="ag-cell-last-left-pinned",Eqe="ag-cell-not-inline-editing",_qe="ag-column-hover",Rqe="ag-cell-wrap-text";let bqe=0,_h=class rk extends de{constructor(e,t,n,i){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=t,this.beans=n,this.rowCtrl=i,this.instanceId=e.getId()+"-"+bqe++;const o=this.column.getColDef();this.colIdSanitised=Kr(this.column.getId()),this.beans.gridOptionsService.is("suppressCellFocus")||(this.tabIndex=-1),this.isCellRenderer=o.cellRenderer!=null||o.cellRendererSelector!=null,this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!0)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new dqe(this,this.beans),this.addDestroyFunc(()=>{var t;(t=this.cellPositionFeature)===null||t===void 0||t.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new hqe(this,this.beans),this.addDestroyFunc(()=>{var t;(t=this.cellCustomStyleFeature)===null||t===void 0||t.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new fqe(this,this.beans,this.column),this.addDestroyFunc(()=>{var t;(t=this.cellMouseListenerFeature)===null||t===void 0||t.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new pqe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.destroy(),this.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection")&&(this.cellRangeFeature=new cqe(this.beans,this),this.addDestroyFunc(()=>{var t;(t=this.cellRangeFeature)===null||t===void 0||t.destroy(),this.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){const t={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const n=this.column.getColDef(),i=this.rowNode.data;if(n.tooltipField&&he(i))return Zm(i,n.tooltipField,this.column.isTooltipFieldContainsDots());const o=n.tooltipValueGetter;return o?o({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted};this.tooltipFeature=new TW(t,this.beans),this.addDestroyFunc(()=>{var n;(n=this.tooltipFeature)===null||n===void 0||n.destroy(),this.tooltipFeature=null})}setComp(e,t,n,i,o){var s,a,l,u;this.cellComp=e,this.eGui=t,this.printLayout=i,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(t),(a=this.cellCustomStyleFeature)===null||a===void 0||a.setComp(e),(l=this.tooltipFeature)===null||l===void 0||l.setComp(t),(u=this.cellKeyboardListenerFeature)===null||u===void 0||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(!this.column.isAutoHeight())return;const t=e.parentElement,n=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,i=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:c,borderTopWidth:d}=Jh(t),h=l+u+c+d,p=e.offsetHeight+h;if(a<5){const C=this.beans.gridOptionsService.getDocument(),m=!C||!C.contains(e),y=p==0;if(m||y){this.beans.frameworkOverrides.setTimeout(()=>i(a+1),0);return}}const g=Math.max(p,n);this.rowNode.setRowAutoHeight(g,this.column)},o=()=>i(0);o();const s=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc(()=>{s(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}getIsCellRenderer(){return this.isCellRenderer}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(e=!1){const t=this.getValueToDisplay();let n;if(this.isCellRenderer){const i=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i)}this.cellComp.setRenderDetails(n,t,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||n||i}startEditing(e=null,t=!1,n=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,t,n)});return}const i=this.createCellEditorParams(e,t),o=this.column.getColDef(),s=this.beans.userComponentFactory.getCellEditorDetails(o,i),a=(s==null?void 0:s.popupFromSelector)!=null?s.popupFromSelector:!!o.cellEditorPopup,l=(s==null?void 0:s.popupPositionFromSelector)!=null?s.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(s,a,l);const u=this.createEvent(n,A.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const t={newValueExists:!1};if(e)return t;const n=this.cellComp.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?t:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;const n=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,n}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:t,newValueExists:n}=this.takeValueFromCellEditor(e),i=this.rowNode.getValueFromValueService(this.column);let o=!1;return n&&(o=this.saveNewValue(i,t)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(i,t,!e&&!!o),o}dispatchEditingStoppedEvent(e,t,n){const i=Object.assign(Object.assign({},this.createEvent(null,A.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t,valueChanged:n});this.beans.eventService.dispatchEvent(i)}createCellEditorParams(e,t){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:t,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:t=>this.beans.valueService.setValue(this.rowNode,this.column,t),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(t,n,i,o)=>this.registerRowDragger(t,n,o)}}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){if(!this.cellComp)return;e.column===this.column&&this.refreshCell({})}refreshCell(e){var t,n,i;if(this.suppressRefreshCell||this.editing||!this.cellComp)return;const o=this.column.getColDef(),s=e!=null&&!!e.newData,a=e!=null&&!!e.suppressFlash||!!o.suppressCellFlash,l=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,u=e&&e.forceRefresh||l||s,c=this.updateAndFormatValue();if(u||c){this.showValue(s);const h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!h&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),(t=this.cellCustomStyleFeature)===null||t===void 0||t.applyUserStyles(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyClassesFromColDef()}this.refreshToolTip(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyCellClassRules()}stopEditingAndFocus(e=!1,t=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(t)}navigateAfterEdit(e){if(this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")){const n=e?X.UP:X.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.getCellPosition(),!1)}}flashCell(e){const t=e&&e.flashDelay,n=e&&e.fadeDelay;this.animateCell("data-changed",t,n)}animateCell(e,t,n){var i,o;if(!this.cellComp)return;const s=`ag-cell-${e}`,a=`ag-cell-${e}-animation`,{gridOptionsService:l}=this.beans;t||(t=(i=l.getNum("cellFlashDelay"))!==null&&i!==void 0?i:500),he(n)||(n=(o=l.getNum("cellFadeDelay"))!==null&&o!==void 0?o:1e3),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(a,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.eGui.style.transition="")},n))},t)}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var t;return(t=this.callValueFormatter(e))!==null&&t!==void 0?t:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e=!1){const t=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!0:!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,rk.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,rk.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,t){return{type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}}processCharacter(e){var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.processCharacter(e)}onKeyDown(e){var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.cellMouseListenerFeature)===null||n===void 0||n.onMouseEvent(e,t)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&this.setAriaColIndex()}setAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);jj(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,t=null){this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(wqe,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Sqe,e)}onCellFocused(e){if(this.beans.gridOptionsService.is("suppressCellFocus"))return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){t&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(Cqe,t),t&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const n=this.beans.gridOptionsService.get("editType")==="fullRow";!t&&!n&&this.editing&&this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:bu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(mqe,!0),this.cellComp.addOrRemoveCssClass(Eqe,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(vqe,e),this.cellComp.addOrRemoveCssClass(yqe,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(_qe,e)}onColDefChanged(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(Rqe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,A.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>t.onCellContextMenu(n),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new eM;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new Xhe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const i=this.beans.gridOptionsService.is("pagination"),o=this.beans.gridOptionsService.is("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(o){if(!s){Ut(()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model"),"CellComp.addRowDragging");return}if(i){Ut(()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination"),"CellComp.addRowDragging");return}}const a=new Gp(()=>this.value,this.rowNode,this.column,e,t,n);return this.beans.context.createBean(a),a}};_h.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var jo;(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"})(jo||(jo={}));let Tqe=0,Rh=class ik extends de{constructor(e,t,n,i,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gridOptionsService=t.gridOptionsService,this.rowNode=e,this.paginationPage=t.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=i,this.printLayout=o,this.instanceId=e.id+"-"+Tqe++,this.rowId=Kr(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Kr(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,t,n){const i={rowComp:e,element:t,containerType:n};this.allRowGuis.push(i),n===Zr.LEFT?this.leftGui=i:n===Zr.RIGHT?this.rightGui=i:n===Zr.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),e){case Zr.LEFT:this.leftGui=void 0;break;case Zr.RIGHT:this.rightGui=void 0;break;case Zr.FULL_WIDTH:this.fullWidthGui=void 0;break;case Zr.CENTER:this.centerGui=void 0;break}}isCacheable(){return this.rowType===jo.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),t.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(o=>n.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&ll(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),t.setDomData(e.element,ik.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>t.setDomData(e.element,ik.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),t.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=Kr(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(WV(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(WV(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.is("enableRangeSelection")){Ut(()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}const t=this.beans.localeService.getLocaleTextFunc(),n=new Gp(()=>`1 ${t("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(n,this.beans.context)}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,t);if(this.rowType==jo.FullWidthDetail&&!Ye.__assertRegistered(Te.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let i;switch(this.rowType){case jo.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case jo.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case jo.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n);break}e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var e,t;return(t=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||t===void 0?void 0:t.getFullWidthCellRenderer()}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&n}setRowType(){const e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(i);e?this.rowType=jo.FullWidthLoading:n?this.rowType=jo.FullWidthDetail:t?this.rowType=jo.FullWidth:s?this.rowType=jo.FullWidthGroup:this.rowType=jo.Normal}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},o=(s,a)=>{i.list.push(a),i.map[s]=a};return t.forEach(s=>{const a=s.getInstanceId();let l=e.map[a];l||(l=new _h(s,this.rowNode,this.beans,this)),o(a,l)}),e.list.forEach(s=>{if(i.map[s.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(s,n)){o(s.getColumn().getInstanceId(),s);return}s.destroy()}),i}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case Zr.LEFT:return this.leftCellCtrls.list;case Zr.RIGHT:return this.rightCellCtrls.list;case Zr.FULL_WIDTH:return[];case Zr.CENTER:return this.centerCellCtrls.list;default:const t=e;throw new Error(`Unhandled case: ${t}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const t=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t);const n=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){if(e.getColumn().getPinned()!=t)return!0;const s=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(s||a){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}getDomOrder(){return this.gridOptionsService.is("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",t),this.addManagedPropertyListener("ensureDomOrder",t)}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=he(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();if(t){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}stopRowEditing(e){this.stopEditing(e)}isFullWidth(){return this.rowType!==jo.Normal}getRowType(){return this.rowType}refreshFullWidth(){const e=(a,l)=>{if(!a)return!0;const u=a.rowComp.getFullWidthCellRenderer();if(!u||!u.refresh)return!1;const c=this.createFullWidthParams(a.element,l);return u.refresh(c)},t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&n&&i&&o}addListeners(){this.addManagedListener(this.rowNode,Ke.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Ke.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Ke.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ke.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ke.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,A.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,A.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,A.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,A.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,A.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,A.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,A.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Ke.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Ke.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e===_c.Above,i=e===_c.Below;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),ll(n.element,e&&t)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:bu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.allRowGuis.find(l=>l.element.contains(e.target));if(!((t?t.element:null)===e.target))return;const o=this.rowNode,s=this.beans.focusService.getFocusedCell(),a={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||pl(e))return;const t=this.allRowGuis.find(s=>s.element.contains(e.target)),n=t?t.element:null,i=n===e.target;let o=null;i||(o=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var t;const n=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned:!1,o=this.fullWidthGui?this.fullWidthGui.element:(t=this.centerGui)===null||t===void 0?void 0:t.element;o&&(o.classList.toggle("ag-full-width-focus",i),i&&o.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:t}}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(pl(e))return;const t=this.createRowEventWithSource(A.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=hp(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(pl(e)||this.lastMouseDownOnDragger)return;const n=this.createRowEventWithSource(A.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(n);const i=e.ctrlKey||e.metaKey,o=e.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const a=this.gridOptionsService.is("rowMultiSelectWithClick"),l=!this.gridOptionsService.is("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):i?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:e,source:u});else{const c=a?!1:!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:o,event:e,source:u})}}setupDetailRowAutoHeight(e){if(this.rowType!==jo.FullWidthDetail||!this.gridOptionsService.is("detailRowAutoHeight"))return;const t=()=>{const i=e.clientHeight;if(i!=null&&i>0){const o=()=>{this.rowNode.setRowHeight(i),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};this.beans.frameworkOverrides.setTimeout(o,0)}},n=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(n),t()}createFullWidthParams(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(i,o,s,a)=>this.addFullWidthRowDragging(i,o,s,a)}}addFullWidthRowDragging(e,t,n="",i){if(!this.isFullWidth())return;const o=new Gp(()=>n,this.rowNode,void 0,e,t,i);this.createManagedBean(o,this.beans.context)}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const t=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;let i=!1;for(const o of t){const s=o.stopEditing(e);n&&!e&&!i&&s&&(i=!0)}if(i){const o=this.createRowEvent(A.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",e));const t=e?this.createRowEvent(A.EVENT_ROW_EDITING_STARTED):this.createRowEvent(A.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)}startRowEditing(e=null,t=null,n=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((o,s)=>{const a=s===t;return a?s.startEditing(e,a,n):s.startEditing(null,a,n),o?!0:s.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e===Zr.LEFT?"left":e===Zr.RIGHT?"right":null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const t=this.gridOptionsService.getCallback("getRowStyle");let n;if(t){const i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=t(i)}return n||e?Object.assign({},e,n):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",t),Np(n.element,t?!0:void 0);const i=this.createAriaLabel();Jc(n.element,i??"")})}createAriaLabel(){const e=this.rowNode.isSelected();return e&&this.gridOptionsService.is("suppressRowDeselection")?void 0:this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Ke.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.is("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Ke.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,o=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,e),o)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=o?`${Math.min(n,o)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${t}px`,s&&a.element.style.setProperty("--ag-line-height",s)})}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const e=this.createRowEvent(A.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),super.destroy()}setupRemoveAnimation(){if(this.isSticky())return;if(this.rowNode.rowTop!=null){const t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0))}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.paginationProxy.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&he(e)){const t=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(n);t=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return t+"px"}setRowTopStyle(e){const t=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(n=>t?n.rowComp.setTop(e):n.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==e&&(t=n)}),t!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(t=n)}),t}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const t=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),i=this.rowNode.rowIndex%2===0,o=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.addOrRemoveCssClass("ag-row-even",i),s.rowComp.addOrRemoveCssClass("ag-row-odd",!i),Bj(s.element,o)})}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}};Rh.DOM_DATA_KEY_ROW_CTRL="renderedRow";var oa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let hs=class extends de{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Lj("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedListener(this.element,n,i)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||pl(t))return;const n=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,null,n,i):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Xh())return;const e=new Mr(this.element),t=n=>{const i=this.getRowForEvent(n.touchEvent),o=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(null,n.touchEvent,i,o)};this.addManagedListener(e,Mr.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const n=this.gridOptionsService.getDomData(t,Rh.DOM_DATA_KEY_ROW_CTRL);if(n)return n;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,n,i){const o=n?n.getRowNode():null,s=i?i.getColumn():null;let a=null;if(s){const c=e||t;i.dispatchCellContextMenuEvent(c),a=this.valueService.getValue(s,o)}const l=this.ctrlsService.getGridBodyCtrl(),u=i?i.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,o,s,a,u)}getControlsForEventTarget(e){return{cellCtrl:VA(this.gridOptionsService,e,_h.DOM_DATA_KEY_CELL_CTRL),rowCtrl:VA(this.gridOptionsService,e,Rh.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=e.getRowNode(),o=e.getColumn(),s=e.isEditing();if(!jA(this.gridOptionsService,n,i,o,s)&&t==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),qF(n)&&e.processCharacter(n)),t==="keydown"){const l=e.createEvent(n,A.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(e,t,n){const i=e.getRowNode(),o=this.focusService.getFocusedCell(),s=o&&o.column;if(!jA(this.gridOptionsService,n,i,s,!1)){const l=n.key;if(t==="keydown")switch(l){case X.PAGE_HOME:case X.PAGE_END:case X.PAGE_UP:case X.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case X.UP:case X.DOWN:e.onKeyboardNavigate(n);break;case X.TAB:e.onTabKeyDown(n);break}}if(t==="keydown"){const l=e.createRowEvent(A.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(l)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const n=ihe(e);if(n===X.A)return this.onCtrlAndA(e);if(n===X.C)return this.onCtrlAndC(e);if(n===X.D)return this.onCtrlAndD(e);if(n===X.V)return this.onCtrlAndV(e);if(n===X.X)return this.onCtrlAndX(e);if(n===X.Y)return this.onCtrlAndY();if(n===X.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:n,rangeService:i}=this;if(i&&n.isRowsToRender()){const[o,s]=[t.isEmpty("top"),t.isEmpty("bottom")],a=o?null:"top";let l,u;s?(l=null,u=this.paginationProxy.getRowCount()-1):(l="bottom",u=t.getPinnedBottomRowData().length-1);const c=this.columnModel.getAllDisplayedColumns();if(Vs(c))return;i.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:Pn(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};oa([x("mouseEventService")],hs.prototype,"mouseEventService",void 0);oa([x("valueService")],hs.prototype,"valueService",void 0);oa([Bt("contextMenuFactory")],hs.prototype,"contextMenuFactory",void 0);oa([x("ctrlsService")],hs.prototype,"ctrlsService",void 0);oa([x("navigationService")],hs.prototype,"navigationService",void 0);oa([x("focusService")],hs.prototype,"focusService",void 0);oa([x("undoRedoService")],hs.prototype,"undoRedoService",void 0);oa([x("columnModel")],hs.prototype,"columnModel",void 0);oa([x("paginationProxy")],hs.prototype,"paginationProxy",void 0);oa([x("pinnedRowModel")],hs.prototype,"pinnedRowModel",void 0);oa([Bt("rangeService")],hs.prototype,"rangeService",void 0);oa([Bt("clipboardService")],hs.prototype,"clipboardService",void 0);oa([ge],hs.prototype,"postConstruct",null);var rM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let L_=class extends de{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,A.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=R_(e);if(this.bodyHeight!==t){this.bodyHeight=t;const n={type:A.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(n)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};rM([x("ctrlsService")],L_.prototype,"ctrlsService",void 0);rM([x("columnModel")],L_.prototype,"columnModel",void 0);rM([x("scrollVisibleService")],L_.prototype,"scrollVisibleService",void 0);rM([ge],L_.prototype,"postConstruct",null);var Jhe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let PW=class extends de{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Jt(this.element,t),Ta(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};Jhe([x("pinnedWidthService")],PW.prototype,"pinnedWidthService",void 0);Jhe([ge],PW.prototype,"postConstruct",null);var Zhe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let OW=class extends de{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Jt(this.element,t),Ta(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};Zhe([x("pinnedWidthService")],OW.prototype,"pinnedWidthService",void 0);Zhe([ge],OW.prototype,"postConstruct",null);var efe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let iM=class extends de{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};efe([x("rowContainerHeightService")],iM.prototype,"maxDivHeightScaler",void 0);efe([ge],iM.prototype,"postConstruct",null);var DW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let oM=class extends de{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.gridOptionsService.is("enableRangeSelection")||dt(this.rangeService))return;const e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc(()=>this.dragService.removeDragSource(e))}};DW([Bt("rangeService")],oM.prototype,"rangeService",void 0);DW([x("dragService")],oM.prototype,"dragService",void 0);DW([ge],oM.prototype,"postConstruct",null);var AW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Py=class extends de{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),n=e.getBodyContainerWidth(),i=e.getDisplayedColumnsLeftWidth(),o=e.getDisplayedColumnsRightWidth();let s;t?s=n+i+o:(s=n,this.addSpacer&&(this.gridOptionsService.is("enableRtl")?i:o)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}};AW([x("columnModel")],Py.prototype,"columnModel",void 0);AW([x("scrollVisibleService")],Py.prototype,"scrollVisibleService",void 0);AW([ge],Py.prototype,"postConstruct",null);var tf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ae;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"})(ae||(ae={}));var Zr;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"})(Zr||(Zr={}));function Pqe(r){switch(r){case ae.CENTER:case ae.TOP_CENTER:case ae.STICKY_TOP_CENTER:case ae.BOTTOM_CENTER:return Zr.CENTER;case ae.LEFT:case ae.TOP_LEFT:case ae.STICKY_TOP_LEFT:case ae.BOTTOM_LEFT:return Zr.LEFT;case ae.RIGHT:case ae.TOP_RIGHT:case ae.STICKY_TOP_RIGHT:case ae.BOTTOM_RIGHT:return Zr.RIGHT;case ae.FULL_WIDTH:case ae.TOP_FULL_WIDTH:case ae.STICKY_TOP_FULL_WIDTH:case ae.BOTTOM_FULL_WIDTH:return Zr.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}const Oqe=qd([[ae.CENTER,"ag-center-cols-container"],[ae.LEFT,"ag-pinned-left-cols-container"],[ae.RIGHT,"ag-pinned-right-cols-container"],[ae.FULL_WIDTH,"ag-full-width-container"],[ae.TOP_CENTER,"ag-floating-top-container"],[ae.TOP_LEFT,"ag-pinned-left-floating-top"],[ae.TOP_RIGHT,"ag-pinned-right-floating-top"],[ae.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[ae.STICKY_TOP_CENTER,"ag-sticky-top-container"],[ae.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[ae.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[ae.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[ae.BOTTOM_CENTER,"ag-floating-bottom-container"],[ae.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[ae.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[ae.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Dqe=qd([[ae.CENTER,"ag-center-cols-viewport"],[ae.TOP_CENTER,"ag-floating-top-viewport"],[ae.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[ae.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]);let ju=class tfe extends de{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name===ae.TOP_FULL_WIDTH||this.name===ae.STICKY_TOP_FULL_WIDTH||this.name===ae.BOTTOM_FULL_WIDTH||this.name===ae.FULL_WIDTH}static getRowContainerCssClasses(e){const t=Oqe.get(e),n=Dqe.get(e);return{container:t,viewport:n}}static getPinned(e){switch(e){case ae.BOTTOM_LEFT:case ae.TOP_LEFT:case ae.STICKY_TOP_LEFT:case ae.LEFT:return"left";case ae.BOTTOM_RIGHT:case ae.TOP_RIGHT:case ae.STICKY_TOP_RIGHT:case ae.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([ae.CENTER],()=>this.viewportSizeFeature=this.createManagedBean(new L_(this)))}registerWithCtrlsService(){switch(this.name){case ae.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case ae.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case ae.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case ae.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case ae.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case ae.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case ae.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case ae.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case ae.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case ae.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case ae.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case ae.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,n){this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new hs(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const i=[ae.TOP_CENTER,ae.TOP_LEFT,ae.TOP_RIGHT],o=[ae.STICKY_TOP_CENTER,ae.STICKY_TOP_LEFT,ae.STICKY_TOP_RIGHT],s=[ae.BOTTOM_CENTER,ae.BOTTOM_LEFT,ae.BOTTOM_RIGHT],a=[ae.CENTER,ae.LEFT,ae.RIGHT],l=[...i,...s,...a,...o],u=[ae.CENTER,ae.LEFT,ae.RIGHT,ae.FULL_WIDTH],c=[ae.CENTER,ae.TOP_CENTER,ae.STICKY_TOP_CENTER,ae.BOTTOM_CENTER],d=[ae.LEFT,ae.BOTTOM_LEFT,ae.TOP_LEFT,ae.STICKY_TOP_LEFT],h=[ae.RIGHT,ae.BOTTOM_RIGHT,ae.TOP_RIGHT,ae.STICKY_TOP_RIGHT];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new PW(this.eContainer)),this.addManagedListener(this.eventService,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new OW(this.eContainer)),this.addManagedListener(this.eventService,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new iM(this.eContainer,this.name===ae.CENTER?n:void 0))),this.forContainers(l,()=>this.createManagedBean(new oM(this.eContainer))),this.forContainers(c,()=>this.createManagedBean(new Py(f=>this.comp.setContainerWidth(`${f}px`)))),eE()&&(this.forContainers([ae.CENTER],()=>{const f=this.enableRtl?A.EVENT_LEFT_PINNED_WIDTH_CHANGED:A.EVENT_RIGHT_PINNED_WIDTH_CHANGED;this.addManagedListener(this.eventService,f,()=>this.refreshPaddingForFakeScrollbar())}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl:e,columnModel:t,eContainer:n}=this,i=e?ae.LEFT:ae.RIGHT;this.forContainers([ae.CENTER,i],()=>{const o=t.getContainerWidth(i),s=e?"marginLeft":"marginRight";n.style[s]=o?"16px":"0px"})}addListeners(){this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([ae.STICKY_TOP_CENTER,ae.STICKY_TOP_LEFT,ae.STICKY_TOP_RIGHT,ae.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const n=()=>{const i=this.gridOptionsService.is("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(i||o)};this.addManagedPropertyListener("domLayout",n),n()}stopHScrollOnPinnedRows(){this.forContainers([ae.TOP_CENTER,ae.STICKY_TOP_CENTER,ae.BOTTOM_CENTER],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers([ae.CENTER],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers([ae.CENTER],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,n,e)}getCenterWidth(){return KF(this.eViewport)}getCenterViewportScrollLeft(){return rE(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportVisible(){return Zh(this.eViewport)}getViewportScrollLeft(){return rE(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||Jde(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){iE(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!tfe.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),eE()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(e=!1){if(this.visible){const t=this.gridOptionsService.isDomLayout("print"),n=o=>{const s=o.isFullWidth(),a=this.embedFullWidthRows||t;return this.isFullWithContainer?!a&&s:a||!s},i=this.getRowCtrls().filter(n);this.comp.setRowCtrls(i,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case ae.TOP_CENTER:case ae.TOP_LEFT:case ae.TOP_RIGHT:case ae.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case ae.STICKY_TOP_CENTER:case ae.STICKY_TOP_LEFT:case ae.STICKY_TOP_RIGHT:case ae.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case ae.BOTTOM_CENTER:case ae.BOTTOM_LEFT:case ae.BOTTOM_RIGHT:case ae.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};tf([x("scrollVisibleService")],ju.prototype,"scrollVisibleService",void 0);tf([x("dragService")],ju.prototype,"dragService",void 0);tf([x("ctrlsService")],ju.prototype,"ctrlsService",void 0);tf([x("columnModel")],ju.prototype,"columnModel",void 0);tf([x("resizeObserverService")],ju.prototype,"resizeObserverService",void 0);tf([x("animationFrameService")],ju.prototype,"animationFrameService",void 0);tf([x("rowRenderer")],ju.prototype,"rowRenderer",void 0);tf([ge],ju.prototype,"postConstruct",null);var ed=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const Aqe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="${ae.TOP_LEFT}"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="${ae.TOP_CENTER}"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="${ae.TOP_RIGHT}"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="${ae.TOP_FULL_WIDTH}"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="${ae.LEFT}"></ag-row-container>
                <ag-row-container ref="centerContainer" name="${ae.CENTER}"></ag-row-container>
                <ag-row-container ref="rightContainer" name="${ae.RIGHT}"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="${ae.FULL_WIDTH}"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="${ae.STICKY_TOP_LEFT}"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="${ae.STICKY_TOP_CENTER}"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="${ae.STICKY_TOP_RIGHT}"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="${ae.STICKY_TOP_FULL_WIDTH}"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="${ae.BOTTOM_LEFT}"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="${ae.BOTTOM_CENTER}"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="${ae.BOTTOM_RIGHT}"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="${ae.BOTTOM_FULL_WIDTH}"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`;let td=class extends ke{constructor(){super(Aqe)}init(){const e=(n,i)=>{const o=`${n}px`;i.style.minHeight=o,i.style.height=o},t={setRowAnimationCssOnBodyViewport:(n,i)=>this.setRowAnimationCssOnBodyViewport(n,i),setColumnCount:n=>Gde(this.getGui(),n),setRowCount:n=>Nde(this.getGui(),n),setTopHeight:n=>e(n,this.eTop),setBottomHeight:n=>e(n,this.eBottom),setTopDisplay:n=>this.eTop.style.display=n,setBottomDisplay:n=>this.eBottom.style.display=n,setStickyTopHeight:n=>this.eStickyTop.style.height=n,setStickyTopTop:n=>this.eStickyTop.style.top=n,setStickyTopWidth:n=>this.eStickyTop.style.width=n,setColumnMovingCss:(n,i)=>this.addOrRemoveCssClass(n,i),updateLayoutClasses:(n,i)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle(Wr.AUTO_HEIGHT,i.autoHeight),s.toggle(Wr.NORMAL,i.normal),s.toggle(Wr.PRINT,i.print)}),this.addOrRemoveCssClass(Wr.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(Wr.NORMAL,i.normal),this.addOrRemoveCssClass(Wr.PRINT,i.print)},setAlwaysVerticalScrollClass:(n,i)=>this.eBodyViewport.classList.toggle(Qhe,i),registerBodyViewportResizeListener:n=>{const i=this.resizeObserverService.observeResize(this.eBodyViewport,n);this.addDestroyFunc(()=>i())},setPinnedTopBottomOverflowY:n=>this.eTop.style.overflowY=this.eBottom.style.overflowY=n,setCellSelectableCss:(n,i)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(o=>o.classList.toggle(n,i))},setBodyViewportWidth:n=>this.eBodyViewport.style.width=n};this.ctrl=this.createManagedBean(new Fo),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsService.get("rowSelection")==="multiple")&&Lde(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const n=this.eBodyViewport.classList;n.toggle(Vv.ANIMATION_ON,t),n.toggle(Vv.ANIMATION_OFF,!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};ed([x("resizeObserverService")],td.prototype,"resizeObserverService",void 0);ed([Bt("rangeService")],td.prototype,"rangeService",void 0);ed([pe("eBodyViewport")],td.prototype,"eBodyViewport",void 0);ed([pe("eStickyTop")],td.prototype,"eStickyTop",void 0);ed([pe("eTop")],td.prototype,"eTop",void 0);ed([pe("eBottom")],td.prototype,"eBottom",void 0);ed([pe("gridHeader")],td.prototype,"headerRootComp",void 0);ed([pe("eBody")],td.prototype,"eBody",void 0);ed([ge],td.prototype,"init",null);var xW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let YA=class extends de{postConstruct(){this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e)return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const n={type:A.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(n)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};xW([x("ctrlsService")],YA.prototype,"ctrlsService",void 0);xW([ge],YA.prototype,"postConstruct",null);YA=xW([De("scrollVisibleService")],YA);var nfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ow;let aE=Ow=class extends de{constructor(){super(...arguments),this.gridInstanceId=Ow.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[Ow.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return VA(this.gridOptionsService,e.target,_h.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const n=t[Ow.GRID_DOM_KEY];if(he(n))return n===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal"),n=e;let i,o;if(n.clientX!=null||n.clientY!=null?(i=n.clientX,o=n.clientY):(i=n.x,o=n.y),t){const s=this.ctrlsService.getGridBodyCtrl(),a=s.getScrollFeature().getVScrollPosition(),l=s.getScrollFeature().getHScrollPosition();i+=l.left,o+=a.top}return{x:i,y:o}}};aE.gridInstanceSequence=new QF;aE.GRID_DOM_KEY="__ag_grid_instance";nfe([x("ctrlsService")],aE.prototype,"ctrlsService",void 0);aE=Ow=nfe([De("mouseEventService")],aE);var fs=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Do=class extends de{constructor(){super(),this.onPageDown=UV(this.onPageDown,100),this.onPageUp=UV(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e);let l=!1;switch(n){case X.PAGE_HOME:case X.PAGE_END:!o&&!i&&(this.onHomeOrEndKey(n),l=!0);break;case X.LEFT:case X.RIGHT:case X.UP:case X.DOWN:if(!a)return!1;o&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,a),l=!0);break;case X.PAGE_DOWN:case X.PAGE_UP:!o&&!i&&(l=this.handlePageUpDown(n,a,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.focusService.getFocusedCell()),t?(e===X.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:o,focusColumn:s}=e;if(he(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),he(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:o,rowPinned:null,column:s};this.rangeService.setRangeToCell(a)}}onPageDown(e){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),s=n.top+i,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),o=n.top,s=this.paginationProxy.getRowIndexAtPixel(o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,n=!1){const i=this.getViewportHeight(),o=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),u=n?(l==null?void 0:l.rowHeight)-i-a:i-a,c=(l==null?void 0:l.rowTop)+u;let d=this.paginationProxy.getRowIndexAtPixel(c+a);if(d===e.rowIndex){const f=n?-1:1;t=d=e.rowIndex+f}let h;n?(h="bottom",d<o&&(d=o),t<o&&(t=o)):(h="top",d>s&&(d=s),t>s&&(t=s)),this.isRowTallerThanView(d)&&(t=d,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var n;const i=t?-1:1,o=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=s;){const u=this.paginationProxy.getRow(l);if(u){const c=(n=u.rowHeight)!==null&&n!==void 0?n:0;if(a+c>o)break;a+=c}l+=i}return Math.max(0,Math.min(l,s))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsService.getScrollbarWidth();let i=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const n=t.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:i,column:o}=n;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:o,focusIndex:i,focusColumn:o})}onHomeOrEndKey(e){const t=e===X.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),i=t?n[0]:Pn(n),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:i,focusIndex:o,focusColumn:i})}onTabKeyDown(e,t){const n=t.shiftKey;if(this.tabToNextCellCommon(e,n,t)){t.preventDefault();return}if(n){const{rowIndex:o,rowPinned:s}=e.getRowPosition();(s?o===0:o===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof _h&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&t.preventDefault()}tabToNextCell(e,t){const n=this.focusService.getFocusedCell();if(!n)return!1;let i=this.getCellByPosition(n);return!i&&(i=this.rowRenderer.getRowByPosition(n),!i||!i.isFullWidth())?!1:this.tabToNextCellCommon(i,e,t)}tabToNextCellCommon(e,t,n){let i=e.isEditing();if(!i&&e instanceof _h){const a=e.getRowCtrl();a&&(i=a.isEditing())}let o;return i?this.gridOptionsService.get("editType")==="fullRow"?o=this.moveToNextEditingRow(e,t,n):o=this.moveToNextEditingCell(e,t,n):o=this.moveToNextCellNotEditing(e,t),o||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,n=null){const i=e.getCellPosition();e.getGui().focus(),e.stopEditing();const o=this.findNextCellToFocusOn(i,t,!0);return o==null?!1:(o.startEditing(null,!0,n),o.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const i=e.getCellPosition(),o=this.findNextCellToFocusOn(i,t,!0);if(o==null)return!1;const s=o.getCellPosition(),a=this.isCellEditable(i),l=this.isCellEditable(s),u=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned;return a&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,n)),l?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.columnModel.getAllDisplayedColumns();let i;e instanceof Rh?i=Object.assign(Object.assign({},e.getRowPosition()),{column:t?n[0]:Pn(n)}):i=e.getCellPosition();const o=this.findNextCellToFocusOn(i,t,!1);if(o instanceof _h)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),t);return he(o)}findNextCellToFocusOn(e,t,n){let i=e;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);const o=this.gridOptionsService.getCallback("tabToNextCell");if(he(o)){const u=o({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});he(u)?(u.floating&&(Ut(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),u.rowPinned=u.floating),i={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+i.rowIndex,column:i.column},fromCell:!0}),null}const s=this.gridOptionsService.get("editType")==="fullRow";if(n&&!s&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const a=this.getCellByPosition(i);if(!a){const l=this.rowRenderer.getRowByPosition(i);if(!l||!l.isFullWidth()||n)continue;return l}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,n,i){let o=n,s=!1;for(;o&&(o===n||!this.isValidNavigateCell(o));)this.gridOptionsService.is("enableRtl")?t===X.LEFT&&(o=this.getLastCellOfColSpan(o)):t===X.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),s=dt(o);if(s&&e&&e.key===X.UP&&(o={rowIndex:-1,rowPinned:null,column:n.column}),i){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(he(l)){const c=l({key:t,previousCellPosition:n,nextCellPosition:o||null,event:e});he(c)?(c.floating&&(Ut(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),o={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):o=null}}if(!o)return;if(o.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+o.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const a=this.getNormalisedPosition(o);a?this.focusPosition(a):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const n=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;const o=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Pn(n):n[0])};this.focusPosition(s);const a=o!=null?this.rowPositionUtils.before(s,o):!1,l={type:A.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:a};return this.eventService.dispatchEvent(l),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Pn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(e.rowIndex);!(t&&(n==null?void 0:n.sticky))&&dt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};fs([x("mouseEventService")],Do.prototype,"mouseEventService",void 0);fs([x("paginationProxy")],Do.prototype,"paginationProxy",void 0);fs([x("focusService")],Do.prototype,"focusService",void 0);fs([Bt("rangeService")],Do.prototype,"rangeService",void 0);fs([x("columnModel")],Do.prototype,"columnModel",void 0);fs([x("rowModel")],Do.prototype,"rowModel",void 0);fs([x("ctrlsService")],Do.prototype,"ctrlsService",void 0);fs([x("rowRenderer")],Do.prototype,"rowRenderer",void 0);fs([x("headerNavigationService")],Do.prototype,"headerNavigationService",void 0);fs([x("rowPositionUtils")],Do.prototype,"rowPositionUtils",void 0);fs([x("cellNavigationService")],Do.prototype,"cellNavigationService",void 0);fs([x("pinnedRowModel")],Do.prototype,"pinnedRowModel",void 0);fs([ge],Do.prototype,"postConstruct",null);Do=fs([De("navigationService")],Do);var xqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let IW=class rfe extends wg{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),rfe.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{jA(this.gridOptionsService,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedListener(e,"keydown",n)}};IW.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";xqe([ge],IW.prototype,"postConstruct",null);let Iqe=class extends ke{constructor(e,t,n,i,o){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=i,this.cellCtrl=t,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const s=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(c,d)=>{d!=null&&d!=""?s.setAttribute(c,d):s.removeAttribute(c)};ai(s,"gridcell"),a("col-id",t.getColumnIdSanitised());const l=t.getTabIndex();l!==void 0&&a("tabindex",l.toString());const u={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>eW(s,c),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,h)=>this.setRenderDetails(c,d,h),setEditDetails:(c,d,h)=>this.setEditDetails(c,d,h),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(u,this.getGui(),this.eCellWrapper,n,o)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const o=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||o)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;i&&(this.eCellWrapper=Ai('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const o=!n&&this.eCellWrapper!=null;o&&(fc(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);const s=!e&&n,a=s&&this.eCellValue==null;a&&(this.eCellValue=Ai('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const l=!s&&this.eCellValue!=null;l&&(fc(this.eCellValue),this.eCellValue=void 0);const u=i||o||a||l;return u&&this.removeControls(),e||t&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,n){const i=this.editorVersion,o=e.newAgStackInstance();if(!o)return;const{params:s}=e;o.then(l=>this.afterCellEditorCreated(i,l,s,t,n)),dt(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();uo(t);const n=e!=null?Kr(e):null;n!=null&&(t.innerHTML=n)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),fc(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),fc(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const n=!this.beans.gridOptionsService.is("suppressAnimationFrame"),i=this.rendererVersion,{componentClass:o}=e,s=()=>{if(this.rendererVersion!==i||!this.isAlive())return;const l=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,i,o);l&&l.then(u)};n&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}if(this.cellRenderer=n,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const o=this.getParentOfValue();uo(o),o.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,n,i,o){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const l=i||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(n,o):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(n=this.rowCtrl)===null||n===void 0||n.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new IW(e));const i=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&i.appendChild(this.cellEditorGui);const o=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=t??(n.getPopupPosition?n.getPopupPosition():"over"),l=this.beans.gridOptionsService.is("enableRtl"),u={ePopup:i,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=o.positionPopupByComponent.bind(o,u),d=this.beans.localeService.getLocaleTextFunc(),h=o.addPopup({modal:s,eChild:i,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&zF()&&e.focus({preventScroll:!0}),uo(this.getParentOfValue())}},Fqe=class extends ke{constructor(e,t,n){super(),this.cellComps={},this.beans=t,this.rowCtrl=e,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(n)}"/>`);const i=this.getGui(),o=i.style;this.domOrder=this.rowCtrl.getDomOrder(),ai(i,"row");const s=this.rowCtrl.getTabIndex();s!=null&&i.setAttribute("tabindex",s.toString());const a={setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,u)=>this.addOrRemoveCssClass(l,u),setUserStyles:l=>eW(i,l),setTop:l=>o.top=l,setTransform:l=>o.transform=l,setRowIndex:l=>i.setAttribute("row-index",l),setRowId:l=>i.setAttribute("row-id",l),setRowBusinessKey:l=>i.setAttribute("row-business-key",l)};e.setComp(a,this.getGui(),n),this.addDestroyFunc(()=>{e.unsetComp(n)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e),n=this.rowCtrl.getInitialRowTop(e);return t?`transform: ${t}`:`top: ${n}`}showFullWidth(e){const t=i=>{if(this.isAlive()){const o=i.getGui();this.getGui().appendChild(o),this.rowCtrl.setupDetailRowAutoHeight(o),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)},n=e.newAgStackInstance();n&&n.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(i=>{const o=i.getInstanceId();this.cellComps[o]==null?this.newCellComp(i):t[o]=null});const n=Mu(t).filter(i=>i!=null);this.destroyCells(n),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(n=>{const i=this.cellComps[n.getInstanceId()];i&&t.push(i.getGui())}),Zj(this.getGui(),t)}newCellComp(e){const t=new Iqe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Mu(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const n=t.getCtrl().getInstanceId();this.cellComps[n]===t&&(t.detach(),t.destroy(),this.cellComps[n]=null)})}};var N_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function Mqe(){const r=ke.elementGettingCreated.getAttribute("name"),e=ju.getRowContainerCssClasses(r);let t;return r===ae.CENTER||r===ae.TOP_CENTER||r===ae.STICKY_TOP_CENTER||r===ae.BOTTOM_CENTER?t=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" ref="eContainer"></div>`,t}let G_=class extends ke{constructor(){super(Mqe()),this.rowComps={},this.name=ke.elementGettingCreated.getAttribute("name"),this.type=Pqe(this.name)}postConstruct(){const e={setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:n=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>this.eContainer.style.width=n};this.createManagedBean(new ju(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const n=i=>{const o=i.getInstanceId(),s=t[o];if(s)this.rowComps[o]=s,delete t[o],this.ensureDomOrder(s.getGui());else{if(!i.getRowNode().displayed)return;const a=new Fqe(i,this.beans,this.type);this.rowComps[o]=a,this.appendRow(a.getGui())}};e.forEach(n),Mu(t).forEach(i=>{this.eContainer.removeChild(i.getGui()),i.destroy()}),ai(this.eContainer,e.length?"rowgroup":"presentation")}appendRow(e){this.domOrder?Xde(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(Jj(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};N_([x("beans")],G_.prototype,"beans",void 0);N_([pe("eViewport")],G_.prototype,"eViewport",void 0);N_([pe("eContainer")],G_.prototype,"eContainer",void 0);N_([ge],G_.prototype,"postConstruct",null);N_([Bi],G_.prototype,"preDestroy",null);var ife=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let FW=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Ct.ICON_PINNED:Ct.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};ife([x("columnModel")],FW.prototype,"columnModel",void 0);ife([x("gridOptionsService")],FW.prototype,"gridOptionsService",void 0);var V_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Oy=class{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!he(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?Ct.ICON_PINNED:Ct.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===Nr.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const i=e.dragItem.visibleState,o=(t||[]).filter(s=>i[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n="api"){if(e){const i=e.filter(o=>!o.getColDef().lockVisible);this.columnModel.setColumnsVisible(i,t,n)}}setColumnsPinned(e,t,n="api"){if(e){const i=e.filter(o=>!o.getColDef().lockPinned);this.columnModel.setColumnsPinned(i,t,n)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(e){return this.gridOptionsService.is("enableRtl")&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){var o;if(i){if(this.lastMovedInfo){const{columns:c,toIndex:d}=this.lastMovedInfo;this.moveColumns(c,d,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,dt(e.hDirection))return;const s=this.normaliseX(e.x);t||this.checkCenterForScrolling(s);const a=this.normaliseDirection(e.hDirection),l=e.dragSource.type,u=((o=e.dragSource.getDragItem().columns)===null||o===void 0?void 0:o.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0))||[];this.attemptMoveColumns({dragSourceType:l,allMovingColumns:u,hDirection:a,mouseX:s,fromEnter:t,fakeEvent:n})}normaliseDirection(e){if(this.gridOptionsService.is("enableRtl"))switch(e){case lu.Left:return lu.Right;case lu.Right:return lu.Left;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}attemptMoveColumns(e){const{dragSourceType:t,hDirection:n,mouseX:i,fromEnter:o,fakeEvent:s}=e,a=n===lu.Left,l=n===lu.Right;let{allMovingColumns:u}=e;if(t===Nr.HeaderCell){let y=[];u.forEach(w=>{var E;let P=null,T=w.getParent();for(;T!=null&&T.getDisplayedLeafColumns().length===1;)P=T,T=T.getParent();P!=null?(!!(!((E=P.getColGroupDef())===null||E===void 0)&&E.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(b=>{y.includes(b)||y.push(b)}):y.includes(w)||y.push(w)}),u=y}const c=u.slice();this.columnModel.sortColumnsLikeGridColumns(c);const d=this.calculateValidMoves(c,l,i),h=this.calculateOldIndex(c);if(d.length===0)return;const f=d[0];let p=h!==null&&!o;if(t==Nr.HeaderCell&&(p=h!==null),p&&!s&&(a&&f>=h||l&&f<=h))return;const g=this.columnModel.getAllDisplayedColumns();let C=[],m=null;for(let y=0;y<d.length;y++){const w=d[y],E=this.columnModel.getProposedColumnOrder(c,w);if(!this.columnModel.doesOrderPassRules(E))continue;const P=E.filter(R=>g.includes(R));if(m===null)m=P;else if(!q.areEqual(P,m))break;const T=this.groupFragCount(E);C.push({move:w,fragCount:T})}C.length!==0&&(C.sort((y,w)=>y.fragCount-w.fragCount),this.moveColumns(u,C[0].move,"uiColumnMoved",!1))}calculateOldIndex(e){const t=this.columnModel.getAllGridColumns(),n=pde(e.map(l=>t.indexOf(l))),i=n[0];return Pn(n)-i!==n.length-1?null:i}moveColumns(e,t,n,i){this.columnModel.moveColumns(e,t,n,i),this.lastMovedInfo=i?null:{columns:e,toIndex:t}}groupFragCount(e){function t(i){let o=[],s=i.getOriginalParent();for(;s!=null;)o.push(s),s=s.getOriginalParent();return o}let n=0;for(let i=0;i<e.length-1;i++){let o=t(e[i]),s=t(e[i+1]);[o,s]=o.length>s.length?[o,s]:[s,o],o.forEach(a=>{s.indexOf(a)===-1&&n++})}return n}calculateValidMoves(e,t,n){if(this.gridOptionsService.is("suppressMovableColumns")||e.some(g=>g.getColDef().suppressMovable))return[];const o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(g=>Tu(e,g)),l=o.filter(g=>!Tu(e,g)),u=s.filter(g=>!Tu(e,g));let c=0,d=n;if(t){let g=0;a.forEach(C=>g+=C.getActualWidth()),d-=g}if(d>0){for(let g=0;g<l.length;g++){const C=l[g];if(d-=C.getActualWidth(),d<0)break;c++}t&&c++}let h;if(c>0){const g=l[c-1];h=u.indexOf(g)+1}else h=u.indexOf(l[0]),h===-1&&(h=0);const f=[h],p=(g,C)=>g-C;if(t){let g=h+1;const C=s.length-1;for(;g<=C;)f.push(g),g++;f.sort(p)}else{let g=h;const C=s.length-1;let m=s[g];for(;g<=C&&this.isColumnHidden(o,m);)g++,f.push(g),m=s[g];g=h-1;const y=0;for(;g>=y;)f.push(g),g--;f.sort(p).reverse()}return f}isColumnHidden(e,t){return e.indexOf(t)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Ct.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Ct.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Ct.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const o=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);if(o.length>0&&(this.dragAndDropService.setGhostIcon(Ct.ICON_PINNED),this.failedMoveAttempts>7)){const s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};V_([x("columnModel")],Oy.prototype,"columnModel",void 0);V_([x("dragAndDropService")],Oy.prototype,"dragAndDropService",void 0);V_([x("gridOptionsService")],Oy.prototype,"gridOptionsService",void 0);V_([x("ctrlsService")],Oy.prototype,"ctrlsService",void 0);V_([ge],Oy.prototype,"init",null);var k_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Dy=class extends de{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(e){return e===Nr.HeaderCell||e===Nr.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new Oy(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new FW(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Nr.ToolPanel}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};k_([x("dragAndDropService")],Dy.prototype,"dragAndDropService",void 0);k_([x("columnModel")],Dy.prototype,"columnModel",void 0);k_([x("ctrlsService")],Dy.prototype,"ctrlsService",void 0);k_([ge],Dy.prototype,"postConstruct",null);k_([ge],Dy.prototype,"init",null);let sM=class{static getHeaderClassesFromColDef(e,t,n,i){return dt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,i)}static getToolPanelClassesFromColDef(e,t,n,i){return dt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,i)}static getClassParams(e,t,n,i){return{colDef:e,column:n,columnGroup:i,api:t.api,columnApi:t.columnApi,context:t.context}}static getColumnClassesFromCollDef(e,t,n,i,o){if(dt(e))return[];let s;if(typeof e=="function"){const a=this.getClassParams(t,n,i,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}};var aM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ay=class ofe extends bW{constructor(e){super(ofe.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((o,s)=>{s!=null&&s!=""?e.setAttribute(o,s):e.removeAttribute(o)})("col-id",this.column.getColId());const n={setWidth:o=>e.style.width=o,addOrRemoveCssClass:(o,s)=>this.addOrRemoveCssClass(o,s),setAriaDescription:o=>Ade(e,o),setAriaSort:o=>o?kde(e,o):Hde(e),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper);const i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};Ay.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;aM([pe("eResize")],Ay.prototype,"eResize",void 0);aM([pe("eHeaderCompWrapper")],Ay.prototype,"eHeaderCompWrapper",void 0);aM([ge],Ay.prototype,"postConstruct",null);aM([Bi],Ay.prototype,"destroyHeaderComp",null);var MW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let H_=class sfe extends bW{constructor(e){super(sfe.TEMPLATE,e)}postConstruct(){const e=this.getGui(),t=(i,o)=>o!=null?e.setAttribute(i,o):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.getColId());const n={addOrRemoveCssClass:(i,o)=>this.addOrRemoveCssClass(i,o),setResizableDisplayed:i=>Jt(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i)};this.ctrl.setComp(n,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const n=this.getGui(),i=e.getGui();n.appendChild(i),this.addDestroyFunc(t),this.ctrl.setDragSource(n)}};H_.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;MW([x("userComponentFactory")],H_.prototype,"userComponentFactory",void 0);MW([pe("eResize")],H_.prototype,"eResize",void 0);MW([ge],H_.prototype,"postConstruct",null);var afe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xi;(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"})(xi||(xi={}));let LW=class extends ke{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){this.getGui().style.transform=this.ctrl.getTransform(),Bj(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;const n=this.headerComps;if(this.headerComps={},e.forEach(i=>{const o=i.getInstanceId();let s=n[o];delete n[o],s==null&&(s=this.createHeaderComp(i),this.getGui().appendChild(s.getGui())),this.headerComps[o]=s}),Dr(n,(i,o)=>{this.getGui().removeChild(o.getGui()),this.destroyBean(o)}),t){const i=Mu(this.headerComps);i.sort((s,a)=>{const l=s.getCtrl().getColumnGroupChild().getLeft(),u=a.getCtrl().getColumnGroupChild().getLeft();return l-u});const o=i.map(s=>s.getGui());Zj(this.getGui(),o)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case xi.COLUMN_GROUP:t=new H_(e);break;case xi.FLOATING_FILTER:t=new Eg(e);break;default:t=new Ay(e);break}return this.createBean(t),t.setParentComponent(this),t}};afe([ge],LW.prototype,"init",null);afe([Bi],LW.prototype,"destroyHeaderCtrls",null);var NW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Lqe=0,nf=class lfe extends de{constructor(e,t){super(),this.lastFocusEvent=null,this.columnGroupChild=e,this.parentRowCtrl=t,this.instanceId=e.getUniqueId()+"-"+Lqe++}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.focusService.getFocusedHeader();return rhe(this.gridOptionsService,e,t,n)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData()}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case X.PAGE_DOWN:case X.PAGE_UP:case X.PAGE_HOME:case X.PAGE_END:t&&e.preventDefault()}}addDomData(){const e=lfe.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}};nf.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";NW([x("focusService")],nf.prototype,"focusService",void 0);NW([x("beans")],nf.prototype,"beans",void 0);NW([x("userComponentFactory")],nf.prototype,"userComponentFactory",void 0);var Nqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let lM=class extends de{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Pn(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,rt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=he(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),n=e.getOldLeft(),i=this.modifyLeftForPrintLayout(e,n),o=this.modifyLeftForPrintLayout(e,t);this.setLeft(i),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===o&&this.setLeft(o)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||e.getPinned()==="left")return t;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const o=this.beans.columnModel.getBodyContainerWidth();return i+o+t}return i+t}setLeft(e){he(e)&&(this.eCell.style.left=`${e}px`);let t;if(this.columnOrGroup instanceof rt)t=this.columnOrGroup;else{const o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&Vde(this.ariaEl,o.length),t=o[0]}const n=this.beans.columnModel.getAriaColumnIndex(t);jj(this.ariaEl,n)}};Nqe([ge],lM.prototype,"postConstruct",null);var ufe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let $_=class extends de{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};ufe([x("columnHoverService")],$_.prototype,"columnHoverService",void 0);ufe([ge],$_.prototype,"postConstruct",null);var GW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let uM=class extends nf{constructor(e,t){super(e,t),this.iconCreated=!1,this.column=e}setComp(e,t,n,i){super.setGui(t),this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Fr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new na(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Jc(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const o=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(o){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),o.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let n=this.column;do if(n=e?t.getDisplayedColBefore(n):t.getDisplayedColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case X.UP:case X.DOWN:t||e.preventDefault();case X.LEFT:case X.RIGHT:if(t)return;e.stopPropagation();case X.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case X.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&hp(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const s=this.lastFocusEvent,a=!!(s&&s.key===X.TAB);if(s&&a){const l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}const o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}setupHover(){this.createManagedBean(new $_([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,A.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new lM(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){const e=this.column.getColDef();this.suppressFilterButton=e.floatingFilterComponentParams?!!e.floatingFilterComponentParams.suppressFilterButton:!1}setupUserComp(){if(!this.active)return;const e=this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const e=t=>{const n=this.comp.getFloatingFilterComp();n&&n.then(i=>{if(i){const o=this.filterManager.getCurrentFloatingFilterParentModel(this.column);i.onParentModelChanged(o,t)}})};this.destroySyncListener=this.addManagedListener(this.column,rt.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,rt.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,rt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var e,t;const n=this.active;this.setupActive();const i=!n&&this.active;n&&!this.active&&((e=this.destroySyncListener)===null||e===void 0||e.call(this),(t=this.destroyFilterChangedListener)===null||t===void 0||t.call(this));const o=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!o?this.updateCompDetails(o,i):s.then(a=>{var l;!a||this.filterManager.areFilterCompsDifferent((l=this.userCompDetails)!==null&&l!==void 0?l:null,o)?this.updateCompDetails(o,i):this.updateFloatingFilterParams(o)})}updateCompDetails(e,t){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}updateFloatingFilterParams(e){var t;if(!e)return;const n=e.params;(t=this.comp.getFloatingFilterComp())===null||t===void 0||t.then(i=>{i!=null&&i.onParamsUpdated&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(n)})}};GW([x("filterManager")],uM.prototype,"filterManager",void 0);GW([x("columnHoverService")],uM.prototype,"columnHoverService",void 0);GW([x("menuFactory")],uM.prototype,"menuFactory",void 0);var VW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let cM=class extends de{constructor(e,t,n,i,o){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=o}postConstruct(){const e=this.column.getColDef(),t=[];let n,i;const o=()=>{if(Jt(this.eResize,n),!n)return;const l=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(l),i){const u=this.gridOptionsService.is("skipHeaderOnAutoSize"),c=()=>{this.columnModel.autoSizeColumn(this.column,u,"uiColumnResized")};this.eResize.addEventListener("dblclick",c);const d=new Mr(this.eResize);d.addEventListener(Mr.EVENT_DOUBLE_TAP,c),this.addDestroyFunc(()=>{this.eResize.removeEventListener("dblclick",c),d.removeEventListener(Mr.EVENT_DOUBLE_TAP,c),d.destroy()})}},s=()=>{t.forEach(l=>l()),t.length=0},a=()=>{const l=this.column.isResizable(),u=!this.gridOptionsService.is("suppressAutoSize")&&!e.suppressAutoSize;(l!==n||u!==i)&&(n=l,i=u,s(),o())};a(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(a)}onResizing(e,t){const n=this.normaliseResizeAmount(t),i=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnModel.setColumnWidths(i,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gridOptionsService.is("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}};VW([x("horizontalResizeService")],cM.prototype,"horizontalResizeService",void 0);VW([x("columnModel")],cM.prototype,"columnModel",void 0);VW([ge],cM.prototype,"postConstruct",null);var dM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let B_=class extends de{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e;const t=e.getColDef();this.filteredOnly=!!(t!=null&&t.headerCheckboxSelectionFilteredOnly),this.currentPageOnly=!!(t!=null&&t.headerCheckboxSelectionCurrentPageOnly)}onSpaceKeyDown(e){const t=this.cbSelectAll,n=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(n.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new ghe),this.cbSelectAll.addCssClass("ag-header-select-all"),ai(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,A.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),jF(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${i} (${n})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${i} (${n})`),this.headerCellCtrl.refreshAriaDescription()}checkSelectionType(e){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue();let t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");const n={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,n={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};e=t(n)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}};dM([x("gridApi")],B_.prototype,"gridApi",void 0);dM([x("columnApi")],B_.prototype,"columnApi",void 0);dM([x("rowModel")],B_.prototype,"rowModel",void 0);dM([x("selectionService")],B_.prototype,"selectionService",void 0);var cfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nv;(function(r){r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(nv||(nv={}));let kW=class extends de{constructor(e){super(),this.skipTabGuardFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusInnerElement:o,onFocusIn:s,onFocusOut:a,shouldStopEventPropagation:l,onTabKeyDown:u,handleKeyDown:c,eFocusableElement:d}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=o,this.eFocusableElement=d,this.providedFocusIn=s,this.providedFocusOut=a,this.providedShouldStopEventPropagation=l,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=c}postConstruct(){this.createManagedBean(new na(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){const e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}onFocusIn(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()}onFocusOut(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()}};cfe([x("focusService")],kW.prototype,"focusService",void 0);cfe([ge],kW.prototype,"postConstruct",null);var sa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zi;let br=Zi=class extends de{static addKeyboardModeEvents(e,t){const n=Zi.instancesMonitored.get(e);n&&n.length>0?n.indexOf(t)===-1&&n.push(t):(Zi.instancesMonitored.set(e,[t]),e.addEventListener("keydown",Zi.toggleKeyboardMode),e.addEventListener("mousedown",Zi.toggleKeyboardMode))}static removeKeyboardModeEvents(e,t){const n=Zi.instancesMonitored.get(e);let i=[];n&&n.length&&(i=[...n].filter(o=>o!==t),Zi.instancesMonitored.set(e,i)),i.length===0&&(e.removeEventListener("keydown",Zi.toggleKeyboardMode),e.removeEventListener("mousedown",Zi.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=Zi.keyboardModeActive,n=e.type==="keydown";if(n&&(e.ctrlKey||e.metaKey||e.altKey)||t&&n||!t&&!n)return;Zi.keyboardModeActive=n;const i=e.target.ownerDocument;if(!i)return;const o=Zi.instancesMonitored.get(i);o&&o.forEach(s=>{s.dispatchEvent({type:n?A.EVENT_KEYBOARD_FOCUS:A.EVENT_MOUSE_FOCUS})})}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl;const n=this.gridOptionsService.getDocument();Zi.addKeyboardModeEvents(n,this.gridCtrl),this.addDestroyFunc(()=>this.unregisterGridCompController(this.gridCtrl))})}unregisterGridCompController(e){const t=this.gridOptionsService.getDocument();Zi.removeKeyboardModeEvents(t,e)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return Zi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Rh.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,nf.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(this.gridOptionsService.getDomData(n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:n}=this.focusedCellPosition,i={rowIndex:e,rowPinned:t,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=Object.assign({type:A.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:s=!1}=e,a=this.columnModel.getGridColumn(t);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition=a?{rowIndex:n,rowPinned:bu(i),column:a}:null;const l=Object.assign(Object.assign({type:A.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:o,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const t=e.getColumnGroupChild(),n=e.getRowIndex(),i=e.getPinned(),{column:o,headerRowIndex:s}=this.focusedHeaderPosition;return t===o&&n===s&&i==o.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){const{direction:t,fromTab:n,allowUserOverride:i,event:o,fromCell:s}=e;let{headerPosition:a}=e;if(s&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(n){const h=this.gridOptionsService.getCallback("tabToNextHeader");h&&(a=h({backwards:t==="Before",previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d}))}else{const h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&o){const f={key:o.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d,event:o};a=h(f)}}}return a?a.headerRowIndex===-1?this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(a.column):(this.headerNavigationService.scrollToColumn(a.column,t),this.ctrlsService.getHeaderRowContainerCtrl(a.column.getPinned()).focusHeader(a.headerRowIndex,a.column,o)):!1}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];return e?(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}})):!1}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,n=Pn(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===bu(t)}findFocusableElements(e,t,n=!1){const i=qde;let o=Yj;t&&(o+=", "+t),n&&(o+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)),a=Array.prototype.slice.apply(e.querySelectorAll(o));return a.length?((u,c)=>u.filter(d=>c.indexOf(d)===-1))(s,a):s}focusInto(e,t=!1,n=!1){const i=this.findFocusableElements(e,null,n),o=t?Pn(i):i[0];return o?(o.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const n=this.findFocusableElements(e),i=n.indexOf(t);if(i===-1)return null;let o=-1;for(let s=i-1;s>=0;s--)if(n[s].classList.contains(nv.TAB_GUARD_TOP)){o=s;break}return o<=0?null:n[o-1]}findNextFocusableElement(e=this.eGridDiv,t,n){const i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let a;t?a=i.findIndex(u=>u.contains(s)):a=i.indexOf(s);const l=a+(n?-1:1);return l<0||l>=i.length?null:i[l]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const n=e.querySelectorAll(`.${na.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(t))return!0;return!1}findTabbableParent(e,t=5){let n=0;for(;e&&BA(e)===null&&++n<=t;)e=e.parentElement;return BA(e)===null?null:e}focusGridView(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const n=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;const{rowIndex:i,rowPinned:o}=n,s=this.getFocusedHeader();if(!e&&s&&(e=s.column),i==null||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:i,column:e,rowPinned:o}),this.setFocusedCell({rowIndex:i,column:e,rowPinned:bu(o),forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:i,rowPinned:o,column:e};this.rangeService.setRangeToCell(a)}return!0}focusNextGridCoreContainer(e,t=!1){return!t&&this.gridCtrl.focusNextInnerContainer(e)?!0:((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e==null?void 0:e.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(e,t){var n,i;const o=(n=t?void 0:this.advancedFilterFocusColumn)!==null&&n!==void 0?n:(i=this.columnModel.getAllDisplayedColumns())===null||i===void 0?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};br.AG_KEYBOARD_FOCUS="ag-keyboard-focus";br.keyboardModeActive=!1;br.instancesMonitored=new Map;sa([x("eGridDiv")],br.prototype,"eGridDiv",void 0);sa([x("columnModel")],br.prototype,"columnModel",void 0);sa([x("headerNavigationService")],br.prototype,"headerNavigationService",void 0);sa([x("rowRenderer")],br.prototype,"rowRenderer",void 0);sa([x("rowPositionUtils")],br.prototype,"rowPositionUtils",void 0);sa([x("cellPositionUtils")],br.prototype,"cellPositionUtils",void 0);sa([Bt("rangeService")],br.prototype,"rangeService",void 0);sa([x("navigationService")],br.prototype,"navigationService",void 0);sa([x("ctrlsService")],br.prototype,"ctrlsService",void 0);sa([x("filterManager")],br.prototype,"filterManager",void 0);sa([Bt("advancedFilterService")],br.prototype,"advancedFilterService",void 0);sa([ge],br.prototype,"init",null);br=Zi=sa([De("focusService")],br);var nd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Wu=class extends nf{constructor(e,t){super(e,t),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,n,i){super.setGui(t),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new cM(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new $_([this.column],t)),this.createManagedBean(new lM(this.column,t,this.beans)),this.createManagedBean(new na(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(t),this.addManagedListener(this.column,rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))}addMouseDownListenerIfNeeded(e){if(!Rl())return;const t=["mousedown","touchstart"],n=this.gridOptionsService.getDocument();t.forEach(i=>{this.addManagedListener(e,i,o=>{const s=n.activeElement;s!==e&&!e.contains(s)&&(e.focus(),br.toggleKeyboardMode(o))})})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){const e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:n=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,n)},progressSort:n=>{this.sortController.progressSort(this.column,!!n,"uiColumnSorted")},setSort:(n,i)=>{this.sortController.setSortForColumn(this.column,n,!!i,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new B_(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===X.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===X.ENTER&&this.onEnterKeyDown(e)}onEnterKeyDown(e){const t=this.comp.getUserCompInstance();if(t){if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){const n=e.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}}}isMenuEnabled(){return this.menuEnabled}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const e={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},t=this.createManagedBean(new TW(e,this.beans));t.setComp(this.eGui),this.refreshFunctions.push(()=>t.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=sM.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(o=>{i.has(o)?i.delete(o):this.comp.addOrRemoveCssClass(o,!0)}),i.forEach(o=>this.comp.addOrRemoveCssClass(o,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Nr.HeaderCell,eElement:e,getDefaultIconName:()=>t?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>{t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),this.column.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:n=>{var i;if(t){const o=((i=n==null?void 0:n.columns)===null||i===void 0?void 0:i.filter(s=>!s.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(o,!0,"uiColumnMoved")}},onGridExit:n=>{var i;if(t){const o=((i=n==null?void 0:n.columns)===null||i===void 0?void 0:i.filter(s=>!s.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(o,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,rt.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,rt.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,rt.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,rt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,columnModel:i,gridOptionsService:o}=this;if(!t.isSpanHeaderHeight())return;const{numberOfParents:s,isSpanningTotal:a}=this.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",s>0);const l=i.getColumnHeaderRowHeight();if(s===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);const c=o.is("pivotMode")?i.getPivotGroupHeaderHeight():i.getGroupHeaderHeight(),d=s*c;e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${l+d}px`)}getColumnGroupPaddingInfo(){let e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}setupAutoHeight(e){const t=l=>{if(!this.isAlive())return;const{paddingTop:u,paddingBottom:c,borderBottomWidth:d,borderTopWidth:h}=Jh(this.getGui()),f=u+c+d+h,g=e.offsetHeight+f;if(l<5){const C=this.beans.gridOptionsService.getDocument(),m=!C||!C.contains(e),y=g==0;if(m||y){this.beans.frameworkOverrides.setTimeout(()=>t(l+1),0);return}}this.columnModel.setColumnHeaderHeight(this.column,g)};let n=!1,i;const o=()=>{const l=this.column.isAutoHeaderHeight();l&&!n&&s(),!l&&n&&a()},s=()=>{n=!0,t(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),i=this.resizeObserverService.observeResize(e,()=>t(0))},a=()=>{n=!1,i&&i(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),i=void 0};o(),this.addDestroyFunc(()=>a()),this.addManagedListener(this.column,rt.EVENT_WIDTH_CHANGED,()=>n&&t(0)),this.addManagedListener(this.eventService,rt.EVENT_SORT_CHANGED,()=>{n&&this.beans.frameworkOverrides.setTimeout(()=>t(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Pde(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}refreshAriaDescription(){const e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,A.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupFilterCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,rt.EVENT_FILTER_ACTIVE_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=t=>this.setActiveHeader(t.type==="mouseenter");this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}};nd([x("columnModel")],Wu.prototype,"columnModel",void 0);nd([x("columnHoverService")],Wu.prototype,"columnHoverService",void 0);nd([x("sortController")],Wu.prototype,"sortController",void 0);nd([x("menuFactory")],Wu.prototype,"menuFactory",void 0);nd([x("dragAndDropService")],Wu.prototype,"dragAndDropService",void 0);nd([x("resizeObserverService")],Wu.prototype,"resizeObserverService",void 0);nd([x("gridApi")],Wu.prototype,"gridApi",void 0);nd([x("columnApi")],Wu.prototype,"columnApi",void 0);nd([Bi],Wu.prototype,"removeDragSource",null);var hM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let j_=class extends de{constructor(e,t,n,i){super(),this.eResize=t,this.comp=e,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){const t=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const n=[];this.columnGroup.getDisplayedLeafColumns().forEach(o=>{o.getColDef().suppressAutoSize||n.push(o.getColId())}),n.length>0&&this.columnModel.autoSizeColumns({columns:n,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){this.calculateInitialValues();let t=null;if(e&&(t=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),t){const n=t.getDisplayedLeafColumns();this.resizeTakeFromCols=n.filter(i=>i.isResizable()),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(i=>this.resizeTakeFromStartWidth+=i.getActualWidth()),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(i=>this.resizeTakeFromRatios.push(i.getActualWidth()/this.resizeTakeFromStartWidth))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),o=this.resizeStartWidth+i;this.resizeColumns(o,n,e)}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,e,!0)}resizeColumns(e,t,n=!0){const i=[];if(i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){const o=e-this.resizeStartWidth;i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-o})}this.columnModel.resizeColumnSets({resizeSets:i,finished:n,source:t}),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter(t=>t.isResizable()),this.resizeStartWidth=0,this.resizeCols.forEach(t=>this.resizeStartWidth+=t.getActualWidth()),this.resizeRatios=[],this.resizeCols.forEach(t=>this.resizeRatios.push(t.getActualWidth()/this.resizeStartWidth))}normaliseDragChange(e){let t=e;return this.gridOptionsService.is("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}};hM([x("horizontalResizeService")],j_.prototype,"horizontalResizeService",void 0);hM([x("autoWidthCalculator")],j_.prototype,"autoWidthCalculator",void 0);hM([x("columnModel")],j_.prototype,"columnModel",void 0);hM([ge],j_.prototype,"postConstruct",null);var Gqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let dfe=class extends de{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,ni.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};Gqe([ge],dfe.prototype,"postConstruct",null);var fM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let W_=class extends nf{constructor(e,t){super(e,t),this.columnGroup=e}setComp(e,t,n){super.setGui(t),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const i=this.getParentRowCtrl().getPinned(),o=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new $_(o,t)),this.createManagedBean(new lM(this.columnGroup,t,this.beans)),this.createManagedBean(new dfe(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new j_(e,n,i,this.columnGroup)),this.createManagedBean(new na(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.displayName;const t={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:i=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),i,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){let i=this.columnGroup;const o=i.getLeafColumns();for(;i.getParent()&&i.getParent().getLeafColumns().length===o.length;)i=i.getParent();const s=i.getColGroupDef();s&&(e=s.headerName),e||(e=o?this.columnModel.getDisplayNameForColumn(o[0],"header",!0):"")}const n=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(n)}setupTooltip(){const e=this.columnGroup.getColGroupDef(),t={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>e&&e.headerTooltip};e&&(t.getColDef=()=>e),this.createManagedBean(new TW(t,this.beans)).setComp(this.eGui)}setupExpandable(){const e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,An.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,An.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.columnGroup;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.columnGroup.getUniqueId()}addClasses(){const e=this.columnGroup.getColGroupDef(),t=sM.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(t.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(){const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());t.forEach(i=>{this.addManagedListener(i,rt.EVENT_MOVING_CHANGED,n)}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===X.ENTER){const n=this.columnGroup,i=!n.isExpanded();this.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){if(this.isSuppressMoving())return;const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns();let n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const i={type:Nr.HeaderCell,eElement:e,getDefaultIconName:()=>n?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>{n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),t.forEach(o=>o.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>t.forEach(o=>o.setMoving(!1,"uiColumnDragged")),onGridEnter:o=>{var s;if(n){const a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:o=>{var s;if(n){const a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(i))}getDragItemForGroup(){const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach(i=>t[i.getId()]=i.isVisible());const n=[];return this.columnModel.getAllDisplayedColumns().forEach(i=>{e.indexOf(i)>=0&&(n.push(i),Ls(e,i))}),e.forEach(i=>n.push(i)),{columns:n,visibleState:t}}isSuppressMoving(){let e=!1;return this.columnGroup.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")}};fM([x("columnModel")],W_.prototype,"columnModel",void 0);fM([x("dragAndDropService")],W_.prototype,"dragAndDropService",void 0);fM([x("gridApi")],W_.prototype,"gridApi",void 0);fM([x("columnApi")],W_.prototype,"columnApi",void 0);var pM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vqe=0,gp=class extends de{constructor(e,t,n){super(),this.instanceId=Vqe++,this.headerCellCtrls={},this.rowIndex=e,this.pinned=t,this.type=n;const i=n==xi.COLUMN_GROUP?"ag-header-row-column-group":n==xi.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}getTransform(){if(Rl())return"translateZ(0)"}addEventListeners(){this.addManagedListener(this.eventService,A.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){return Jm(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){return this.isPrintLayout?this.pinned!=null?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=this.columnModel.getHeaderRowCount();const t=[];let n=0;this.filterManager.hasFloatingFilters()&&(e++,n=1);const i=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),s=1+n,a=e-s;for(let c=0;c<a;c++)t.push(i);t.push(o);for(let c=0;c<n;c++)t.push(this.columnModel.getFloatingFiltersHeight());let l=0;for(let c=0;c<this.rowIndex;c++)l+=t[c];const u=t[this.rowIndex];return{topOffset:l,rowHeight:u}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(o=>{if(o.isEmptyGroup())return;const s=o.getUniqueId();let a=e[s];if(delete e[s],a&&a.getColumnGroupChild()!=o&&(this.destroyBean(a),a=void 0),a==null)switch(this.type){case xi.FLOATING_FILTER:a=this.createBean(new uM(o,this));break;case xi.COLUMN_GROUP:a=this.createBean(new W_(o,this));break;default:a=this.createBean(new Wu(o,this));break}this.headerCellCtrls[s]=a});const n=o=>this.focusService.isHeaderWrapperFocused(o)?this.columnModel.isDisplayed(o.getColumnGroupChild()):!1;return Dr(e,(o,s)=>{n(s)?this.headerCellCtrls[o]=s:this.destroyBean(s)}),Mu(this.headerCellCtrls)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth();return["left",null,"right"].forEach(n=>{const i=this.columnModel.getVirtualHeaderGroupRow(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type==xi.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){const i=Mu(this.headerCellCtrls).find(o=>o.getColumnGroupChild()==e);return i?(i.focus(t),!0):!1}destroy(){Dr(this.headerCellCtrls,(e,t)=>{this.destroyBean(t)}),this.headerCellCtrls={},super.destroy()}};pM([x("columnModel")],gp.prototype,"columnModel",void 0);pM([x("focusService")],gp.prototype,"focusService",void 0);pM([x("filterManager")],gp.prototype,"filterManager",void 0);pM([ge],gp.prototype,"postConstruct",null);var xy=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let _g=class extends de{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new Dy(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new QF,n=this.focusService.getFocusHeaderToUseAfterRefresh(),i=()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<l;u++){const c=this.createBean(new gp(t.next(),this.pinned,xi.COLUMN_GROUP));this.groupsRowCtrls.push(c)}},o=()=>{const l=t.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==l);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new gp(l,this.pinned,xi.COLUMN)))},s=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){l();return}const u=t.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==u;(!e||c)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new gp(u,this.pinned,xi.FLOATING_FILTER)))};i(),o(),s();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(n)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Py(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const n=()=>{const i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(i==null)return;const o=i==0,s=this.hidden!==o,a=this.gridOptionsService.is("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&t)?i+l:i;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!o),s&&(this.hidden=o,this.refresh())};this.addManagedListener(this.eventService,A.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,A.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,A.EVENT_SCROLLBAR_WIDTH_CHANGED,n)}getHeaderCtrlForColumn(e){if(e instanceof rt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const n=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const n=this.getAllCtrls()[e];return n?n.getType():void 0}focusHeader(e,t,n){const o=this.getAllCtrls()[e];return o?o.focusHeader(t,n):!1}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};xy([x("ctrlsService")],_g.prototype,"ctrlsService",void 0);xy([x("scrollVisibleService")],_g.prototype,"scrollVisibleService",void 0);xy([x("pinnedWidthService")],_g.prototype,"pinnedWidthService",void 0);xy([x("columnModel")],_g.prototype,"columnModel",void 0);xy([x("focusService")],_g.prototype,"focusService",void 0);xy([x("filterManager")],_g.prototype,"filterManager",void 0);var HW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Rc=class SP extends ke{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{const i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new _g(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",n=e?SP.PINNED_LEFT_TEMPLATE:t?SP.PINNED_RIGHT_TEMPLATE:SP.CENTER_TEMPLATE;this.setTemplate(n),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n;const i=o=>{const s=o.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),n&&Jj(this.eRowContainer,s,n),n=s};e.forEach(o=>{const s=o.getInstanceId(),a=t[s];delete t[s];const l=a||this.createBean(new LW(o));this.headerRowComps[s]=l,this.rowCompsList.push(l),i(l)}),Mu(t).forEach(o=>this.destroyRowComp(o))}};Rc.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>';Rc.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>';Rc.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;HW([pe("eCenterContainer")],Rc.prototype,"eCenterContainer",void 0);HW([ge],Rc.prototype,"init",null);HW([Bi],Rc.prototype,"destroyRowComps",null);var U_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uu;(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"})(uu||(uu={}));let kv=class extends de{postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,n){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:i,column:o}=t,s=this.getHeaderRowCount(),a=e===uu.UP;let{nextRow:l,nextFocusColumn:u}=a?this.headerPositionUtils.getColumnVisibleParent(o,i):this.headerPositionUtils.getColumnVisibleChild(o,i),c=!1;return l<0&&(l=0,u=o,c=!0),l>=s&&(l=-1),!c&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:u},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const i=this.focusService.getFocusedHeader(),o=e===uu.LEFT,s=this.gridOptionsService.is("enableRtl");let a,l;return o!==s?(l="Before",a=this.headerPositionUtils.findHeader(i,l)):(l="After",a=this.headerPositionUtils.findHeader(i,l)),a||!t?this.focusService.focusHeaderPosition({headerPosition:a,direction:l,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,l,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let o=null,s;return t==="Before"?i>0&&(s=i-1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),this.focusService.focusHeaderPosition({headerPosition:o,direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(e instanceof ni){const i=e.getDisplayedLeafColumns();n=t==="Before"?Pn(i):i[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}};U_([x("focusService")],kv.prototype,"focusService",void 0);U_([x("headerPositionUtils")],kv.prototype,"headerPositionUtils",void 0);U_([x("ctrlsService")],kv.prototype,"ctrlsService",void 0);U_([ge],kv.prototype,"postConstruct",null);kv=U_([De("headerNavigationService")],kv);var z_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Iy=class extends de{setComp(e,t,n){this.comp=e,this.eGui=t,this.createManagedBean(new na(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0,n=e.getHeaderRowCount(),i;this.filterManager.hasFloatingFilters()&&(n++,t=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),l=1+t,u=n-l;if(i=t*e.getFloatingFiltersHeight(),i+=u*s,i+=a,this.headerHeight===i)return;this.headerHeight=i;const c=`${i+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:A.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.is("enableRtl"),n=e.shiftKey!==t?uu.LEFT:uu.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case X.LEFT:t=uu.LEFT;case X.RIGHT:he(t)||(t=uu.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case X.UP:t=uu.UP;case X.DOWN:he(t)||(t=uu.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:n}=e;!n&&this.eGui.contains(t.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()}};z_([x("headerNavigationService")],Iy.prototype,"headerNavigationService",void 0);z_([x("focusService")],Iy.prototype,"focusService",void 0);z_([x("columnModel")],Iy.prototype,"columnModel",void 0);z_([x("ctrlsService")],Iy.prototype,"ctrlsService",void 0);z_([x("filterManager")],Iy.prototype,"filterManager",void 0);var kqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let hfe=class ffe extends ke{constructor(){super(ffe.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(i,o)=>this.addOrRemoveCssClass(i,o),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new Iy).setComp(e,this.getGui(),this.getFocusableElement());const n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new Rc("left")),n(new Rc(null)),n(new Rc("right"))}};hfe.TEMPLATE='<div class="ag-header" role="presentation"/>';kqe([ge],hfe.prototype,"postConstruct",null);var $W=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let qA=class extends de{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};$W([x("dragService")],qA.prototype,"dragService",void 0);$W([x("ctrlsService")],qA.prototype,"ctrlsService",void 0);qA=$W([De("horizontalResizeService")],qA);var K_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Hv=class extends de{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:n})},"columnMenu",t.target)}showMenuAfterButtonClick(e,t,n){this.showPopup(e,i=>{this.popupService.positionPopupByComponent({type:n,eventSource:t,ePopup:i,keepWithinBounds:!0,position:"under",column:e})},n,t)}showPopup(e,t,n,i){const o=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!o)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");ai(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",f=>this.trapFocusWithin(f,s)),o.guiPromise.then(f=>s.appendChild(f));let a;const l=()=>{var f;return(f=o.filterPromise)===null||f===void 0?void 0:f.then(p=>{var g;return(g=p==null?void 0:p.afterGuiDetached)===null||g===void 0?void 0:g.call(p)})},u=i||this.ctrlsService.getGridBodyCtrl().getGui(),c=f=>{e.setMenuVisible(!1,"contextMenu");const p=f instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),p&&i&&Zh(i)){const g=this.focusService.findTabbableParent(i);g&&g.focus()}l()},d=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:c,positionCallback:()=>t(s),anchorToElement:u,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=a=h.hideFunc),o.filterPromise.then(f=>{t(s),f.afterGuiAttached&&f.afterGuiAttached({container:n,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu")}trapFocusWithin(e,t){e.key!==X.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}isMenuEnabled(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};K_([x("filterManager")],Hv.prototype,"filterManager",void 0);K_([x("popupService")],Hv.prototype,"popupService",void 0);K_([x("focusService")],Hv.prototype,"focusService",void 0);K_([x("ctrlsService")],Hv.prototype,"ctrlsService",void 0);Hv=K_([De("menuFactory")],Hv);var gM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Y_=class pfe extends ke{constructor(e){super(pfe.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e,e.items&&e.items.forEach(t=>this.addItem(t))}postConstruct(){this.createManagedBean(new na(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(()=>{var e,t,n;return(n=(t=(e=this.activeItem)===null||e===void 0?void 0:e.tabbedItem)===null||t===void 0?void 0:t.afterDetachedCallback)===null||n===void 0?void 0:n.call(t)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader" role="tablist" class="ag-tabs-header ${e?`${e}-header`:""}"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}handleKeyDown(e){const t=this.gridOptionsService.getDocument();switch(e.key){case X.RIGHT:case X.LEFT:if(!this.eHeader.contains(t.activeElement))return;const n=e.key===X.RIGHT,i=this.gridOptionsService.is("enableRtl"),o=this.items.indexOf(this.activeItem),s=n!==i?Math.min(o+1,this.items.length-1):Math.max(o-1,0);if(o===s)return;e.preventDefault();const a=this.items[s];this.showItemWrapper(a),a.eHeaderButton.focus();break;case X.UP:case X.DOWN:e.stopPropagation();break}}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,eHeader:n,eBody:i,activeItem:o}=this,a=this.gridOptionsService.getDocument().activeElement,l=e.target;if(e.preventDefault(),n.contains(a)){t.focusInto(i,e.shiftKey);return}let u=null;t.isTargetUnderManagedComponent(i,l)&&(e.shiftKey&&(u=this.focusService.findFocusableElementBeforeTabGuard(i,l)),u||(u=o.eHeaderButton)),!u&&i.contains(a)&&(u=t.findNextFocusableElement(i,!1,e.shiftKey),u||(u=o.eHeaderButton)),u&&u.focus()}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=document.createElement("span");ai(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),Jc(t,e.titleLabel);const n={tabbedItem:e,eHeaderButton:t};this.items.push(n),t.addEventListener("click",this.showItemWrapper.bind(this,n))}showItem(e){const t=this.items.find(n=>n.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,n;const{tabbedItem:i,eHeaderButton:o}=e;if(this.params.onItemClicked&&this.params.onItemClicked({item:i}),this.activeItem===e){lde(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),uo(this.eBody),i.bodyPromise.then(s=>{this.eBody.appendChild(s);const a=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,a),i.afterAttachedCallback&&i.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const l=i.getScrollableContainer&&i.getScrollableContainer()||s;this.lastScrollListener=this.addManagedListener(l,"scroll",()=>{this.tabbedItemScrollMap.set(i.name,l.scrollTop)});const u=this.tabbedItemScrollMap.get(i.name);u!==void 0&&setTimeout(()=>{l.scrollTop=u},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(n=(t=this.activeItem.tabbedItem).afterDetachedCallback)===null||n===void 0||n.call(t)),o.classList.add("ag-tab-selected"),this.activeItem=e}};gM([x("focusService")],Y_.prototype,"focusService",void 0);gM([pe("eHeader")],Y_.prototype,"eHeader",void 0);gM([pe("eBody")],Y_.prototype,"eBody",void 0);gM([ge],Y_.prototype,"postConstruct",null);var Hqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const $qe=50;let KY=class extends de{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const n=this.gridOptionsService.getWindow(),i=()=>{const l=new n.ResizeObserver(t);return l.observe(e),()=>l.disconnect()},o=()=>{let l=ZV(e),u=JV(e),c=!0;const d=()=>{if(c){const h=ZV(e),f=JV(e);(h!==l||f!==u)&&(l=h,u=f,t()),this.doNextPolyfillTurn(d)}};return d(),()=>c=!1},s=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!n.ResizeObserver&&!s?i():o()}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(n=>n())};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(e,$qe)}};KY=Hqe([De("resizeObserverService")],KY);var mM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let lE=class extends de{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,n){this.verifyAnimationFrameOn(n);const i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,i=this.createTasksP2,o=i.list,s=this.destroyTasks,a=new Date().getTime();let l=new Date().getTime()-a;const u=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;u||l<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let h;if(n.length)this.sortTaskList(t),h=n.pop().task;else if(o.length)this.sortTaskList(i),h=o.pop().task;else if(s.length)h=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}l=new Date().getTime()-a}n.length||o.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){this.getFrameworkOverrides().setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};mM([x("ctrlsService")],lE.prototype,"ctrlsService",void 0);mM([x("paginationProxy")],lE.prototype,"paginationProxy",void 0);mM([ge],lE.prototype,"init",null);lE=mM([De("animationFrameService")],lE);var q_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let $v=class extends de{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(n),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),n.appendChild(t);const i=t.offsetWidth;n.removeChild(t);const o=this.getAutoSizePadding();return i+o}getAutoSizePadding(){const e=this.gridOptionsService.getNum("autoSizePadding");return e!=null&&e>=0?e:20}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),o=i.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(o.add("ag-header","ag-header-row"),i.style.position="static"):o.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(u=>a.classList.contains(u))){for(let u=0;u<a.classList.length;u++){const c=a.classList[u];c!="ag-row-position-absolute"&&o.add(c)}break}a=a.parentElement}i.appendChild(n),t.appendChild(i)}};q_([x("rowRenderer")],$v.prototype,"rowRenderer",void 0);q_([x("ctrlsService")],$v.prototype,"ctrlsService",void 0);q_([x("rowCssClassCalculator")],$v.prototype,"rowCssClassCalculator",void 0);q_([ge],$v.prototype,"postConstruct",null);$v=q_([De("autoWidthCalculator")],$v);var vM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Q_=class extends de{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);const t=[],n=this.rowRenderer.getFirstVisibleVerticalPixel(),i=o=>{var s,a,l;t.push(o);let u;if(this.isClientSide){let d=o;for(;d.expanded;)if(d.master)d=d.detailNode;else if(d.childrenAfterSort){if(d.childrenAfterSort.length===0)break;d=Pn(d.childrenAfterSort)}u=d.rowTop+d.rowHeight}else if(o.master)u=o.detailNode.rowTop+o.detailNode.rowHeight;else{const d=(s=o.childStore)===null||s===void 0?void 0:s.getStoreBounds();u=((a=d==null?void 0:d.heightPx)!==null&&a!==void 0?a:0)+((l=d==null?void 0:d.topPx)!==null&&l!==void 0?l:0)}const c=n+e+o.rowHeight;u<c?o.stickyRowTop=e+(u-c):o.stickyRowTop=e,e=0,t.forEach(d=>{const h=d.stickyRowTop+d.rowHeight;e<h&&(e=h)})};for(;;){const o=n+e,s=this.rowModel.getRowIndexAtPixel(o),a=this.rowModel.getRow(s);if(a==null||a.level<0)break;const l=[];let u=a.parent;for(;u.level>=0;)l.push(u),u=u.parent;const c=l.reverse().find(d=>t.indexOf(d)<0&&d.displayed);if(c){i(c);continue}if(a.isExpandable()&&a.expanded&&a.rowTop<o){i(a);continue}break}return this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let n=0;n<this.stickyRowCtrls.length;n++){const i=this.stickyRowCtrls[n].getRowNode();i!==e&&t.push(i)}this.refreshNodesAndContainerHeight(t,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){let n=!1;const i=this.stickyRowCtrls.filter(l=>e.indexOf(l.getRowNode())===-1),o=e.filter(l=>this.stickyRowCtrls.findIndex(u=>u.getRowNode()===l)===-1);(i.length||o.length)&&(n=!0);const s={};i.forEach(l=>{s[l.getRowNode().id]=l,this.stickyRowCtrls=this.stickyRowCtrls.filter(u=>u!==l)});for(const l of Object.values(s))l.getRowNode().sticky=!1;this.destroyRowCtrls(s,!1);const a=o.map(l=>(l.sticky=!0,this.createRowCon(l,!1,!1)));return this.stickyRowCtrls.push(...a),this.stickyRowCtrls.forEach(l=>l.setRowTop(l.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((l,u)=>u.getRowNode().rowIndex-l.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t),n=!0),n}};vM([x("rowModel")],Q_.prototype,"rowModel",void 0);vM([x("rowRenderer")],Q_.prototype,"rowRenderer",void 0);vM([x("ctrlsService")],Q_.prototype,"ctrlsService",void 0);vM([ge],Q_.prototype,"postConstruct",null);var Fl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const Bqe=10;let Na=class extends de{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,A.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,A.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,A.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Q_(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new jqe(t)}}getKeepDetailRowsCount(){const e=this.gridOptionsService.getNum("keepDetailRowsCount");return he(e)&&e>0?e:Bqe}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Mu(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");(t||n)&&e.sort((s,a)=>s.getRowNode().rowIndex-a.getRowNode.rowIndex);const i=Mu(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];i.length>0||o.length>0?this.allRowCtrls=[...e,...i,...o]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,A.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,A.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,A.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(n=>n.onFlashCells(t))}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.gridOptionsService.is("enableRangeSelection")&&(this.addManagedListener(this.eventService,A.EVENT_RANGE_SELECTION_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRangeSelectionChanged())}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PINNED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,A.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.columnModel.getAllGridColumns();e&&e.forEach(t=>{const n=u=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&u(c)})},i=()=>{n(u=>u.onLeftChanged())},o=()=>{n(u=>u.onWidthChanged())},s=()=>{n(u=>u.onFirstRightPinnedChanged())},a=()=>{n(u=>u.onLastLeftPinnedChanged())},l=()=>{n(u=>u.onColDefChanged())};t.addEventListener("leftChanged",i),t.addEventListener("widthChanged",o),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",i),t.removeEventListener("widthChanged",o),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellElement(e);i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(n=>{n.destroyFirstPass(),n.destroySecondPass()}),e.length=0,t&&t.forEach(n=>{const i=new Rh(n,this.beans,!1,!1,this.printLayout);e.push(i)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{const n=i=>{const o=i[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);case"bottom":n(this.bottomRowCtrls);default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=this.gridOptionsService.getDocument().activeElement,o=this.gridOptionsService.getDomData(i,_h.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(i,Rh.DOM_DATA_KEY_ROW_CTRL);return o||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gridOptionsService.isAnimateRows(),o=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(o,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gridOptionsService.is("suppressScrollOnNewData");t&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const o=t[i].getAllCellCtrls(),s=o.length;for(let a=0;a<s;a++)e.push(o[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const n of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[n]);return t}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}flashCells(e={}){const{flashDelay:t,fadeDelay:n}=e;this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.flashCell({flashDelay:t,fadeDelay:n}))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{if(n.refreshShouldDestroy()){const i=n.getRowCtrl();i&&i.refreshCell(n)}else n.refreshCell(t)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(n=>{if(!n.isFullWidth())return;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const n=this.getCellCtrls(e.rowNodes,e.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if(!((t=e.columns)===null||t===void 0)&&t.length)return n;const i=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(o&&!this.isRowInMap(s.getRowNode(),o)||!s.isFullWidth())return;const a=s.getFullWidthCellRenderer();a&&i.push(a)}),[...i,...n]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{const i=n.getCellEditor();i&&t.push(i)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const n=t.getCellPosition();e.push(n)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;n.rowPinned==="top"?t.top[i]=n:n.rowPinned==="bottom"?t.bottom[i]=n:t.normal[i]=n}),t}isRowInMap(e,t){const n=e.id,i=e.rowPinned;return i==="bottom"?t.bottom[n]!=null:i==="top"?t.top[n]!=null:t.normal[n]!=null}getRowCtrls(e){const t=this.mapRowNodes(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const o=i.getRowNode();return this.isRowInMap(o,t)})}getCellCtrls(e,t){let n;he(t)&&(n={},t.forEach(o=>{const s=this.columnModel.getGridColumn(o);he(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(o=>{o.getAllCellCtrls().forEach(s=>{const a=s.getColumn().getId();n&&!n[a]||i.push(s)})}),i}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];Dr(this.rowCtrlsByRowIndex,(n,i)=>{i.getRowNode().id==null&&e.push(n)}),this.removeRowCtrls(e);const t={};return Dr(this.rowCtrlsByRowIndex,(n,i)=>{const o=i.getRowNode();t[o.id]=i}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){e.forEach(t=>{const n=this.rowCtrlsByRowIndex[t];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[t]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let n;this.stickyRowFeature&&zF()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());const a=this.firstRenderedRow!==i||this.lastRenderedRow!==o;if(!(t&&!s&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t),n!=null)){const l=this.getCellToRestoreFocusToAfterRefresh();n!=null&&l==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e){const t={};e.forEach(o=>t[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!t[o]);this.removeRowCtrls(i)}calculateIndexesToDraw(e){let t=Yde(this.firstRenderedRow,this.lastRenderedRow);const n=(o,s)=>{const a=s.getRowNode().rowIndex;a!=null&&(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};Dr(this.rowCtrlsByRowIndex,n),Dr(e,n),t.sort((o,s)=>o-s);const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=this.paginationProxy.getRow(s);a&&!a.sticky&&i.push(s)}return i}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1),i.forEach(o=>{this.createOrUpdateRowCtrl(o,e,t,n)}),e&&(n&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const t={type:A.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.getRowNode();return!(t!=null&&!this.isRowInMap(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let o,s=this.rowCtrlsByRowIndex[e];if(s||(o=this.paginationProxy.getRow(e),he(o)&&he(t)&&t[o.id]&&o.alreadyRendered&&(s=t[o.id],t[o.id]=null)),!s)if(o||(o=this.paginationProxy.getRow(e)),he(o))s=this.createRowCon(o,n,i);else return;return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];Dr(e,(i,o)=>{if(o){if(this.cachedRowCtrls&&o.isCacheable()){this.cachedRowCtrls.addRow(o);return}o.destroyFirstPass(),t?(this.zombieRowCtrls[o.getInstanceId()]=o,n.push(()=>{o.destroySecondPass(),delete this.zombieRowCtrls[o.getInstanceId()]})):o.destroySecondPass()}}),t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),sde(n))}getRowBuffer(){let e=this.gridOptionsService.getNum("rowBuffer");return typeof e=="number"?e<0&&(Ut(()=>console.warn("AG Grid: rowBuffer should not be negative"),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gridOptionsService.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.paginationProxy.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),c=this.gridOptionsService.is("suppressRowVirtualisation");let d=!1,h,f;do{const y=this.paginationProxy.getPixelOffset(),{pageFirstPixel:w,pageLastPixel:E}=this.paginationProxy.getCurrentPagePixelRange(),P=this.rowContainerHeightService.getDivStretchOffset(),T=u.getScrollFeature().getVScrollPosition(),R=T.top,_=T.bottom;c?(h=w+P,f=E+P):(h=Math.max(R+y-l,w)+P,f=Math.min(_+y+l,E)+P),this.firstVisibleVPixel=Math.max(R+y,w)+P,d=this.ensureAllRowsInRangeHaveHeightsCalculated(h,f)}while(d);let p=this.paginationProxy.getRowIndexAtPixel(h),g=this.paginationProxy.getRowIndexAtPixel(f);const C=this.paginationProxy.getPageFirstRow(),m=this.paginationProxy.getPageLastRow();p<C&&(p=C),g>m&&(g=m),e=p,t=g}const n=this.gridOptionsService.isDomLayout("normal"),i=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);n&&!i&&t-e>o&&(t=e+o);const s=e!==this.firstRenderedRow,a=t!==this.lastRenderedRow;if(s||a){this.firstRenderedRow=e,this.lastRenderedRow=t;const l={type:A.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(l)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:A.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return n&&this.updateContainerHeights(),n}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const i=e.getRowNode(),o=this.focusService.isRowNodeFocused(i),s=e.isEditing(),a=i.detail;return o||s||a?!!this.paginationProxy.isRowPresent(i):!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;const o=this.gridOptionsService.is("suppressAnimationFrame"),s=n&&!o&&!this.printLayout;return new Rh(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.getRowNode().rowIndex===n)||null);break}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}};Fl([x("animationFrameService")],Na.prototype,"animationFrameService",void 0);Fl([x("paginationProxy")],Na.prototype,"paginationProxy",void 0);Fl([x("columnModel")],Na.prototype,"columnModel",void 0);Fl([x("pinnedRowModel")],Na.prototype,"pinnedRowModel",void 0);Fl([x("rowModel")],Na.prototype,"rowModel",void 0);Fl([x("focusService")],Na.prototype,"focusService",void 0);Fl([x("beans")],Na.prototype,"beans",void 0);Fl([x("rowContainerHeightService")],Na.prototype,"rowContainerHeightService",void 0);Fl([x("ctrlsService")],Na.prototype,"ctrlsService",void 0);Fl([ge],Na.prototype,"postConstruct",null);Na=Fl([De("rowRenderer")],Na);let jqe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Ls(this.entriesList,e)}getEntries(){return this.entriesList}};var gfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ok=class extends de{formatValue(e,t,n,i,o=!0){let s=null,a;const l=e.getColDef();if(i?a=i:o&&(a=l.valueFormatter),a){const u={value:n,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof a=="function"?s=a(u):s=this.expressionService.evaluate(a,u)}else if(l.refData)return l.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}};gfe([x("expressionService")],ok.prototype,"expressionService",void 0);ok=gfe([De("valueFormatterService")],ok);var BW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let QA=class extends de{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(e){const t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Vs(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Vs(n))return 0;for(let i=0;i<n.length;i++){const o=n[i];if(o.rowTop+o.rowHeight-1>=e)return i}return n.length-1}setPinnedTopRowData(e){this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:A.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:A.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const n=[];if(e){let i=0;e.forEach((o,s)=>{const a=new Ke(this.beans);a.data=o;const l=t?Ke.ID_PREFIX_TOP_PINNED:Ke.ID_PREFIX_BOTTOM_PINNED;a.id=l+s,a.rowPinned=t?"top":"bottom",a.setRowTop(i),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(s),i+=a.rowHeight,n.push(a)})}return n}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Vs(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Vs(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const t=Pn(e);return t.rowTop+t.rowHeight}};BW([x("beans")],QA.prototype,"beans",void 0);BW([ge],QA.prototype,"init",null);QA=BW([De("pinnedRowModel")],QA);var YY;(function(r){r.Applied="Applied",r.StoreNotFound="StoreNotFound",r.StoreLoading="StoreLoading",r.StoreWaitingToLoad="StoreWaitingToLoad",r.StoreLoadingFailed="StoreLoadingFailed",r.StoreWrongType="StoreWrongType",r.Cancelled="Cancelled"})(YY||(YY={}));let jW=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)}depthFirstSearchEverything(e,t,n){if(e.childrenAfterGroup)for(let i=0;i<e.childrenAfterGroup.length;i++){const o=e.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>n[o.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>!n[o.getId()])}},kp=class Lf extends de{constructor(e){super(),this.state=Lf.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=Lf.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=Lf.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=Lf.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=Lf.STATE_LOADED,this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:Lf.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(t)}};kp.EVENT_LOAD_COMPLETE="loadComplete";kp.STATE_WAITING_TO_LOAD="needsLoading";kp.STATE_LOADING="loading";kp.STATE_LOADED="loaded";kp.STATE_FAILED="failed";var yM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wqe=function(r,e){return function(t,n){e(t,n,r)}},EP;let Hp=EP=class extends de{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=q.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(kp.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){q.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:EP.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:EP.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(n=>n.getState()===kp.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Hp.BLOCK_LOADED_EVENT="blockLoaded";Hp.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";yM([x("rowModel")],Hp.prototype,"rowModel",void 0);yM([ge],Hp.prototype,"postConstruct",null);yM([Wqe(0,To("loggerFactory"))],Hp.prototype,"setBeans",null);Hp=EP=yM([De("rowNodeBlockLoader")],Hp);var WW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let XA=class extends de{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,n,i){const o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o}isPaginateChildRows(){return this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.is("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:A.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();const e={type:A.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e;const t={type:A.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return dt(this.topRowBounds)||dt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),n=this.getPageLastRow();for(let i=t;i<=n;i++){const o=this.getRow(i);o&&e(o)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(he(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:A.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};WW([x("rowModel")],XA.prototype,"rowModel",void 0);WW([ge],XA.prototype,"postConstruct",null);XA=WW([De("paginationProxy")],XA);var mfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let sk=class extends de{processAllCellClasses(e,t,n,i){this.processClassRules(e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}processClassRules(e,t,n,i){if(e==null)return;const o=Object.keys(e),s={},a={};for(let l=0;l<o.length;l++){const u=o[l],c=e[u];let d;typeof c=="string"?d=this.expressionService.evaluate(c,t):typeof c=="function"&&(d=c(t)),u.split(" ").forEach(h=>{h==null||h.trim()==""||(d?s[h]=!0:a[h]=!0)})}i&&Object.keys(a).forEach(i),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(o=>{n(o)})}};mfe([x("expressionService")],sk.prototype,"expressionService",void 0);sk=mfe([De("stylingService")],sk);var vfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let UW=class extends ke{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(!(this.params.cellRenderer||!he(t)))if(he(e)){const n=t==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const i=n+e.length,o=Kr(t.slice(0,n),!0),s=Kr(t.slice(n,i),!0),a=Kr(t.slice(i));this.renderValueWithoutRenderer(`${o}<span class="ag-rich-select-row-text-highlight">${s}</span>${a}`)}}else this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const n=this.getGui(),i=`ag-rich-select-row-${this.getCompId()}`;if((t=n.parentElement)===null||t===void 0||t.setAttribute("id",i),e){const o=this.getParentComponent().getAriaElement();kj(o,i),this.wrapperEl.setAttribute("data-active-option",i)}Np(n.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const n=this.gridOptionsService.getDocument(),i=this.getGui(),o=n.createElement("span");o.style.overflow="hidden",o.style.textOverflow="ellipsis";const s=Kr(he(t)?t:e,!0);this.parsedValue=he(s)?s:null,i.appendChild(o),this.renderValueWithoutRenderer(s)}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=he(e)?e:"&nbsp;")}populateWithRenderer(e,t){let n,i;return this.params.cellRenderer&&(i=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,api:this.gridOptionsService.api})),i&&(n=i.newAgStackInstance()),n&&nW(n,this.getGui()),n?(n.then(o=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(o)})}),!0):!1}onMouseUp(){const e=this.getParentComponent(),t={type:A.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(t)}};vfe([x("userComponentFactory")],UW.prototype,"userComponentFactory",void 0);vfe([ge],UW.prototype,"postConstruct",null);let X_=class extends ke{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:i=>{t.forEach(o=>i!=null?o.setAttribute("tabindex",i):o.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new kW({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))}createTabGuard(e){const t=document.createElement("div"),n=e==="top"?nv.TAB_GUARD_TOP:nv.TAB_GUARD_BOTTOM;return t.classList.add(nv.TAB_GUARD,n),ai(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];uo(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){b_(e)||(e=e.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}};var CM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let rd=class yfe extends X_{constructor(e){super(yfe.getTemplate((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20;const{cssIdentifier:t="default",ariaRole:n="listbox",listName:i}=e||{};this.cssIdentifier=t,this.ariaRole=n,this.listName=i}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,A.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;ai(n,this.ariaRole),Jc(n,t)}addResizeObserver(){const e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Dde(t)-1),!1}onFocusOut(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(e){switch(e.key){case X.UP:case X.DOWN:this.navigate(e.key===X.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Lu(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const t=this.lastFocusedRowIndex+(e?-1:1);return t<0||t>=this.model.getRowCount()?!1:(this.focusRow(t),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()},10)}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,n)=>e(t.rowComponent,n))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(e,t=!0){const n=this.model.getRowCount();if(typeof e!="number"||e<0||e>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const i=e*this.rowHeight,o=i+this.rowHeight,s=this.getGui(),a=s.scrollTop,l=s.offsetHeight,u=a+l,c=t?0:this.rowHeight,d=a>i+c,h=u<o-c;if(d)return s.scrollTop=i,!0;if(h){const f=o-l;return s.scrollTop=f,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,Fj(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),n=t.scrollTop,i=n+t.offsetHeight,o=Math.floor(n/this.rowHeight),s=Math.floor(i/this.rowHeight);this.ensureRowsRendered(o,s,e)}ensureRowsRendered(e,t,n){this.renderedRows.forEach((i,o)=>{(o<e||o>t)&&o!==this.lastFocusedRowIndex&&this.removeRow(o)}),n&&this.refreshRows();for(let i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)}insertRow(e){const t=this.model.getRow(e),n=document.createElement("div");if(n.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),ai(n,this.ariaRole==="tree"?"treeitem":"option"),Hj(n,this.model.getRowCount()),$j(n,e+1),n.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){const o=this.model.isRowSelected(e);Np(n,!!o),$de(n,o)}n.style.height=`${this.rowHeight}px`,n.style.top=`${this.rowHeight*e}px`;const i=this.componentCreator(t,n);i.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),n.appendChild(i.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(e,{rowComponent:i,eDiv:n,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,n)=>{var i,o;if(n>=e)this.removeRow(n);else{const s=this.model.getRow(n);!((o=(i=this.model).areRowsEqual)===null||o===void 0)&&o.call(i,t.value,s)?this.componentUpdater(s,t.rowComponent):this.removeRow(n)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};CM([x("resizeObserverService")],rd.prototype,"resizeObserverService",void 0);CM([x("animationFrameService")],rd.prototype,"animationFrameService",void 0);CM([pe("eContainer")],rd.prototype,"eContainer",void 0);CM([ge],rd.prototype,"postConstruct",null);var Cfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const Uqe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`;let wfe=class extends yg{constructor(e){var t,n;super(Object.assign(Object.assign({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(t=e==null?void 0:e.template)!==null&&t!==void 0?t:Uqe,modalPicker:!1},e),{maxPickerHeight:(n=e==null?void 0:e.maxPickerHeight)!==null&&n!==void 0?n:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:i,value:o,valueList:s,searchStringCreator:a}=e||{};i!=null&&(this.cellRowHeight=i),o!==void 0&&(this.value=o),s!=null&&(this.values=s),a&&(this.searchStringCreator=a)}postConstruct(){var e;super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:t,placeholder:n}=this.config;t?(this.eInput.setAutoComplete(!1).setInputPlaceholder(n),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=(e=this.gridOptionsService.getNum("tabIndex"))!==null&&e!==void 0?e:0;const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=al(this.clearSearchString,i),this.renderSelectedValue(),t&&(this.eInput.onValueChange(o=>this.searchTextFromString(o)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gridOptionsService.getDocument(),t=this.localeService.getLocaleTextFunc(),n=e.createElement("div");n.classList.add("ag-loading-text"),n.innerText=t("loadingOoo","Loading..."),this.eLoading=n}createListComponent(){this.listComponent=this.createBean(new rd({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,A.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const t=this.listComponent.getGui(),n=this.listComponent.getAriaElement();this.addManagedListener(t,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(t,"mousedown",a=>a.preventDefault()),t.classList.add("ag-rich-select-list");const i=`ag-rich-select-list-${this.listComponent.getCompId()}`;n.setAttribute("id",i);const s=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Jc(n,s),Bde(this.eWrapper,n)}renderSelectedValue(){const{value:e,eDisplayField:t,config:n}=this,i=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n.allowTyping){this.eInput.setValue(i);return}let o;n.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:i,api:this.gridOptionsService.api}));let s;if(o&&(s=o.newAgStackInstance()),s)uo(t),nW(s,t),s.then(a=>{this.addDestroyFunc(()=>this.getContext().destroyBean(a))});else if(he(this.value))t.innerText=i,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:a}=n;he(a)?(t.innerHTML=`${Kr(a)}`,t.classList.add("ag-display-as-placeholder")):uo(t)}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(t==null)return-1;for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}highlightFilterMatch(){var e;(e=this.listComponent)===null||e===void 0||e.forEachRenderedRow((t,n)=>{t.highlightString(this.searchString)})}highlightSelectedValue(e){var t;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(t=this.listComponent)===null||t===void 0||t.forEachRenderedRow((n,i)=>{const o=e===-1?!1:this.highlightedItem===i;n.updateHighlighted(o)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:n}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:i=>t[i]}),n&&(this.values?this.listComponent.refresh():(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((t=this.eLoading.parentElement)===null||t===void 0||t.removeChild(this.eLoading));const n=this.getCurrentValueIndex();n!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(e){this.eInput&&this.eInput.getFocusableElement().focus()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===X.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!qF(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=i=>i}=this.config;let n;return typeof e[0]=="number"||typeof e[0]=="string"?n=e.map(i=>t(i)):typeof e[0]=="object"&&this.searchStringCreator&&(n=this.searchStringCreator(e)),n}getSuggestionsAndFilteredValues(e,t){let n=[],i=[];if(!e.length)return{suggestions:n,filteredValues:i};const{allowTyping:o,searchType:s="fuzzy",filterList:a}=this.config,l=a&&o;if(s==="fuzzy"){const u=__(this.searchString,t,!0);n=u.values;const c=u.indices;if(l&&c.length)for(let d=0;d<c.length;d++)i.push(this.values[c[d]])}else n=t.filter((u,c)=>{const d=u.toLocaleLowerCase(),h=this.searchString.toLocaleLowerCase(),f=s==="match"?d.startsWith(h):d.indexOf(h)!==-1;return l&&f&&i.push(this.values[c]),f});return{suggestions:n,filteredValues:i}}filterListModel(e){const{allowTyping:t,filterList:n}=this.config;!t||!n||this.setValueList({valueList:e,refresh:!0})}runSearch(){var e,t,n;const{values:i}=this,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}const{suggestions:s,filteredValues:a}=this.getSuggestionsAndFilteredValues(this.searchString,o),{allowTyping:l,filterList:u,highlightMatch:c,searchType:d="fuzzy"}=this.config,h=a.length,f=!!(l&&u&&this.searchString!=="");if(f&&this.filterListModel(f?a:i),s.length){const g=f?0:o.indexOf(s[0]);this.selectListItem(g),c&&d!=="fuzzy"&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!f||h)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(f){this.getAriaElement().removeAttribute("data-active-option");const g=(t=this.listComponent)===null||t===void 0?void 0:t.getAriaElement();g&&kj(g,null)}const p=(n=this.listComponent)===null||n===void 0?void 0:n.getGui();p==null||p.classList.toggle("ag-hidden",f&&!h)}clearSearchString(){this.searchString=""}selectListItem(e,t,n){if(!this.isPickerDisplayed||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!t)&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,t,n){const i=this.currentList.indexOf(e);return i===-1?this:(this.value=e,n||this.selectListItem(i),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new UW(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:n,searchType:i="fuzzy"}=this.config;return n&&i!=="fuzzy"&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const i=(t==null?void 0:t.getGui()).getBoundingClientRect(),o=t.getScrollTop(),s=e.clientY-i.top+o;return Math.floor(s/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);t!==-1&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0,!0))}onNavigationKeyDown(e,t){e.preventDefault();const n=t===X.DOWN;if(!this.isPickerDisplayed&&n){this.showPicker();return}const i=this.highlightedItem,s=i===-1?0:i+(n?1:-1);this.selectListItem(s,!1,!0)}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){const n={type:A.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(n)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:n}=this.config;switch(t){case X.LEFT:case X.RIGHT:case X.PAGE_HOME:case X.PAGE_END:n||e.preventDefault();break;case X.PAGE_UP:case X.PAGE_DOWN:e.preventDefault();break;case X.DOWN:case X.UP:this.onNavigationKeyDown(e,t);break;case X.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),Lu(e),this.hidePicker());break;case X.ENTER:this.onEnterKeyDown(e);break;case X.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};Cfe([x("userComponentFactory")],wfe.prototype,"userComponentFactory",void 0);Cfe([pe("eInput")],wfe.prototype,"eInput",void 0);var wM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let J_=class Sfe extends cW{constructor(e){super(e,Sfe.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(e){const t=A.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,t,()=>{const n=parseFloat(this.eText.getValue());this.eSlider.setValue(n.toString(),!0),e(n||0)}),this.addManagedListener(this.eSlider,t,()=>{const n=this.eSlider.getValue();this.eText.setValue(n,!0),e(parseFloat(n))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:A.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};J_.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;wM([pe("eLabel")],J_.prototype,"eLabel",void 0);wM([pe("eSlider")],J_.prototype,"eSlider",void 0);wM([pe("eText")],J_.prototype,"eText",void 0);wM([ge],J_.prototype,"init",null);var rf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Uu=class _P extends ke{constructor(e={}){super(_P.getTemplate(e)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title:t,enabled:n,items:i,suppressEnabledCheckbox:o,suppressOpenCloseIcons:s}=e;this.title=t,this.cssIdentifier=e.cssIdentifier||"default",this.enabled=n??!0,this.items=i||[],this.alignItems=e.alignItems||"center",o!=null&&(this.suppressEnabledCheckbox=o),s!=null&&(this.suppressOpenCloseIcons=s)}static getTemplate(e){const t=e.cssIdentifier||"default",n=e.direction||"vertical";return`<div class="ag-group ag-${t}-group" role="presentation">
            <div class="ag-group-title-bar ag-${t}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-${t}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${t}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${t}-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-${t}-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-${n} ag-${t}-group-container"></div>
        </div>`}postConstruct(){if(this.items.length){const t=this.items;this.items=[],this.addItems(t)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(ga("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ga("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",()=>this.toggleGroupExpand()),this.addManagedListener(this.eTitleBar,"keydown",e=>{switch(e.key){case X.ENTER:case X.SPACE:e.preventDefault(),this.toggleGroupExpand();break;case X.RIGHT:case X.LEFT:e.preventDefault(),this.toggleGroupExpand(e.key===X.RIGHT);break}})}refreshAriaStatus(){this.suppressOpenCloseIcons||ll(this.eTitleBar,this.expanded)}refreshChildDisplay(){const e=!this.suppressOpenCloseIcons;Jt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Jt(this.eGroupOpenedIcon,e&&this.expanded),Jt(this.eGroupClosedIcon,e&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const t=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(t),this}toggleGroupExpand(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Jt(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Jt(this.eContainer,e),this.dispatchEvent({type:this.expanded?_P.EVENT_EXPANDED:_P.EVENT_COLLAPSED}),this))}addItems(e){e.forEach(t=>this.addItem(t))}addItem(e){const t=this.eContainer,n=e instanceof ke?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),t.appendChild(n),this.items.push(n)}hideItem(e,t){const n=this.items[t];Jt(n,!e)}setTitle(e){return this.eTitle.innerText=e,this}addCssClassToTitleBar(e){this.eTitleBar.classList.add(e)}setEnabled(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this}isEnabled(){return this.enabled}onEnableChange(e){return this.cbGroupEnabled.onValueChange(t=>{this.setEnabled(t,!0),e(t)}),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}};Uu.EVENT_EXPANDED="expanded";Uu.EVENT_COLLAPSED="collapsed";rf([pe("eTitleBar")],Uu.prototype,"eTitleBar",void 0);rf([pe("eGroupOpenedIcon")],Uu.prototype,"eGroupOpenedIcon",void 0);rf([pe("eGroupClosedIcon")],Uu.prototype,"eGroupClosedIcon",void 0);rf([pe("eToolbar")],Uu.prototype,"eToolbar",void 0);rf([pe("cbGroupEnabled")],Uu.prototype,"cbGroupEnabled",void 0);rf([pe("eTitle")],Uu.prototype,"eTitle",void 0);rf([pe("eContainer")],Uu.prototype,"eContainer",void 0);rf([ge],Uu.prototype,"postConstruct",null);var Efe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Fy=class RP extends X_{constructor(e=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}onTabKeyDown(e){const t=this.getParentComponent(),n=t&&t.getGui();n&&n.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case X.UP:case X.RIGHT:case X.DOWN:case X.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case X.ESCAPE:const t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui());break}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&e.forEach(t=>{t==="separator"?this.addSeparator():typeof t=="string"?console.warn(`AG Grid: unrecognised menu item ${t}`):this.addItem(t)})}addItem(e){const t=this.createManagedBean(new Jo(Object.assign(Object.assign({},e),{isAnotherSubMenuOpen:()=>this.menuItems.some(n=>n.isSubMenuOpen())})));t.setParentComponent(this),Fde(t.getGui(),this.level),this.menuItems.push(t),this.appendChild(t.getGui()),this.addManagedListener(t,Jo.EVENT_MENU_ITEM_SELECTED,n=>{this.dispatchEvent(n)}),this.addManagedListener(t,Jo.EVENT_MENU_ITEM_ACTIVATED,n=>{this.activeMenuItem&&this.activeMenuItem!==n.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=n.menuItem})}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}addSeparator(){this.appendChild(Ai(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`))}findTopMenu(){let e=this.getParentComponent();if(!e&&this instanceof RP)return this;for(;;){const t=e&&e.getParentComponent&&e.getParentComponent();if(!t||!(t instanceof RP||t instanceof Jo))break;e=t}return e instanceof RP?e:void 0}handleNavKey(e){switch(e){case X.UP:case X.DOWN:const n=this.findNextItem(e===X.UP);n&&n!==this.activeMenuItem&&n.activate();return}const t=this.gridOptionsService.is("enableRtl")?X.RIGHT:X.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();t&&t instanceof Jo&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(o=>!o.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?Pn(t):t[0];e&&t.reverse();let n,i=!1;for(let o=0;o<t.length;o++){const s=t[o];if(!i){s===this.activeMenuItem&&(i=!0);continue}n=s;break}return n||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};Efe([x("focusService")],Fy.prototype,"focusService",void 0);Efe([ge],Fy.prototype,"postConstruct",null);var zqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let _fe=class extends X_{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===X.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};zqe([ge],_fe.prototype,"postConstruct",null);var Rfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Jo=class fm extends ke{constructor(e){super(),this.params=e,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Vj(e,!0)):(this.addGuiEventListener("click",t=>this.onItemSelected(t)),this.addGuiEventListener("keydown",t=>{(t.key===X.ENTER||t.key===X.SPACE)&&(t.preventDefault(),this.onItemSelected(t))}),this.addGuiEventListener("mousedown",t=>{t.stopPropagation(),t.preventDefault()}),this.addGuiEventListener("mouseenter",()=>this.onMouseEnter()),this.addGuiEventListener("mouseleave",()=>this.onMouseLeave())),this.params.cssClasses&&this.params.cssClasses.forEach(t=>this.addCssClass(t))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const t=Ai('<div class="ag-menu" role="presentation"></div>');let n;if(this.params.subMenu instanceof Array){const l=Ode(this.getGui()),u=isNaN(l)?1:l+1,c=this.createBean(new Fy(u));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),t.appendChild(c.getGui()),this.addManagedListener(c,fm.EVENT_MENU_ITEM_SELECTED,d=>this.dispatchEvent(d)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),n=()=>this.destroyBean(c),e&&setTimeout(()=>c.activateFirstItem(),0)}else{const{subMenu:l}=this.params,u=this.createBean(new _fe(l));u.setParentComponent(this);const c=u.getGui(),d="mouseenter",h=()=>this.cancelDeactivate();c.addEventListener(d,h),n=()=>c.removeEventListener(d,h),t.appendChild(c),l.afterGuiAttached&&setTimeout(()=>l.afterGuiAttached(),0)}const i=this.getGui(),o=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:i,ePopup:t}),s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:t,positionCallback:o,anchorToElement:i,ariaLabel:s("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,ll(i,!0),this.hideSubMenu=()=>{a&&a.hideFunc(),this.subMenuIsOpen=!1,ll(i,!1),n()}}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,ll(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(e){this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const e=Ai(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(Fr("check",this.gridOptionsService)):this.params.icon&&(b_(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){if(!this.params.name&&this.params.isCompact)return;const e=Ai(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addTooltip(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new mg(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const e=Ai(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const e=Ai(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const n=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";ll(t,!1),e.appendChild(Fr(n,this.gridOptionsService))}t.appendChild(e)}onItemSelected(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),this.params.subMenu&&!this.params.action)return;const t={type:fm.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(t)}onItemActivated(){const e={type:fm.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),fm.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),fm.ACTIVATION_DELAY):this.deactivate()}getClassName(e){const t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?`${t}-${e}`:t}};Jo.EVENT_MENU_ITEM_SELECTED="menuItemSelected";Jo.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Jo.ACTIVATION_DELAY=80;Rfe([x("popupService")],Jo.prototype,"popupService",void 0);Rfe([ge],Jo.prototype,"init",null);var Z_=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Rg=class ak extends ke{constructor(e){super(ak.getTemplate(e)),this.closable=!0,this.config=e}static getTemplate(e){const t=e&&e.cssIdentifier||"default";return`<div class="ag-panel ag-${t}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${t}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${t}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${t}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${t}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:t,hideTitleBar:n,title:i,minWidth:o=250,width:s,minHeight:a=250,height:l,centered:u,popup:c,x:d,y:h}=this.config;this.positionableFeature=new vg(this.getGui(),{minWidth:o,width:s,minHeight:a,height:l,centered:u,x:d,y:h,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const f=this.getGui();e&&this.setBodyComponent(e),n?Jt(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(t??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",p=>{const g=this.gridOptionsService.getDocument();if(f.contains(p.relatedTarget)||f.contains(g.activeElement)||this.eTitleBarButtons.contains(p.target)){p.preventDefault();return}const C=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");C&&C.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const t=this.closeButtonComp=new ke(ak.CLOSE_BTN_TEMPLATE);this.getContext().createBean(t);const n=t.getGui(),i=Fr("close",this.gridOptionsService);i.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(i),this.addTitleBarButton(t),t.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const t=this.closeButtonComp.getGui();t.parentElement.removeChild(t),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const n=this.eTitleBarButtons,i=n.children,o=i.length;t==null&&(t=o),t=Math.max(0,Math.min(t,o)),e.addCssClass("ag-panel-title-bar-button");const s=e.getGui();t===0?n.insertAdjacentElement("afterbegin",s):t===o?n.insertAdjacentElement("beforeend",s):i[t-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)}getBodyHeight(){return R_(this.eContentWrapper)}getBodyWidth(){return KF(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&e.offsetParent&&this.close(),super.destroy()}};Rg.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';Z_([pe("eContentWrapper")],Rg.prototype,"eContentWrapper",void 0);Z_([pe("eTitleBar")],Rg.prototype,"eTitleBar",void 0);Z_([pe("eTitleBarButtons")],Rg.prototype,"eTitleBarButtons",void 0);Z_([pe("eTitle")],Rg.prototype,"eTitle",void 0);Z_([ge],Rg.prototype,"postConstruct",null);var Kqe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Yqe=class extends Rg{constructor(e){super(Object.assign(Object.assign({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:n,maximizable:i}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",o=>{e.contains(o.relatedTarget)||this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),i&&this.setMaximizable(i),n&&this.setResizable(n)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:n,title:i,afterGuiAttached:o}=this.config,s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:n,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:t,ariaLabel:i||s("ariaLabelDialog","Dialog"),afterGuiAttached:o});a&&(this.close=a.hideFunc)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:n,width:i,height:o}=this.lastPosition;this.setWidth(i),this.setHeight(o),this.positionableFeature.offsetElement(t,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Jt(this.maximizeIcon,!this.isMaximized),Jt(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const n=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),n.addManagedListener(n.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new ke('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=Fr("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Fr("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};Kqe([x("popupService")],Yqe.prototype,"popupService",void 0);var eR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lk,kd;(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"})(kd||(kd={}));let qqe=0,$p=lk=class extends de{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl,this.addManagedListener(this.gridCtrl,A.EVENT_KEYBOARD_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.add(br.AG_KEYBOARD_FOCUS))}),this.addManagedListener(this.gridCtrl,A.EVENT_MOUSE_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.remove(br.AG_KEYBOARD_FOCUS))})})}getPopupParent(){const e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n}=e,i=this.getPopupIndex(n);if(i!==-1){const p=this.popupList[i];p.alignedToElement=t}const o=t.getBoundingClientRect(),s=this.getParentRect(),a=this.keepXYWithinBounds(n,o.top-s.top,kd.vertical),l=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${l}px`;const c=s.right-s.left-l;let d;this.gridOptionsService.is("enableRtl")?(d=f(),d<0&&(d=h(),this.setAlignedStyles(n,"left")),d>c&&(d=0,this.setAlignedStyles(n,"right"))):(d=h(),d>c&&(d=f(),this.setAlignedStyles(n,"right")),d<0&&(d=0,this.setAlignedStyles(n,"left"))),n.style.left=`${d}px`,n.style.top=`${a}px`;function h(){return o.right-s.left-2}function f(){return o.left-s.left-l}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,eventSource:s,alignSide:a="left",position:l="over",column:u,rowNode:c,type:d}=e,h=s.getBoundingClientRect(),f=this.getParentRect(),p=this.getPopupIndex(t);if(p!==-1){const C=this.popupList[p];C.alignedToElement=s}const g=()=>{let C=h.left-f.left;a==="right"&&(C-=t.offsetWidth-h.width);let m;return l==="over"?(m=h.top-f.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,f,e.nudgeY||0)==="under"?m=h.top-f.top+h.height:m=h.top-t.offsetHeight-(i||0)*2-f.top),{x:C,y:m}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(d,t,s,null,u,c)})}shouldRenderUnderOrAbove(e,t,n,i){const o=n.bottom-t.bottom,s=t.top-n.top,a=e.offsetHeight+i;return o>a?"under":s>a||s>o?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:o}=i;!o||(["right","left","over","above","under"].forEach(a=>{o.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!t)||(o.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,n,i,o,s){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:o,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:o,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},u=(c=!1)=>{let{x:d,y:h}=a();c&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,i&&(d+=i),o&&(h+=o),n&&(d=this.keepXYWithinBounds(t,d,kd.horizontal),h=this.keepXYWithinBounds(t,h,kd.vertical)),t.style.left=`${d}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const c=this.resizeObserverService.observeResize(t,()=>u(!0));setTimeout(()=>c(),lk.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Xj(t)}keepXYWithinBounds(e,t,n){const i=n===kd.vertical,o=i?"clientHeight":"clientWidth",s=i?"top":"left",a=i?"offsetHeight":"offsetWidth",l=i?"scrollTop":"scrollLeft",u=this.gridOptionsService.getDocument(),c=u.documentElement,d=this.getPopupParent(),h=d.getBoundingClientRect(),f=u.documentElement.getBoundingClientRect(),p=d===u.body,g=e[a];let m=p?(i?Qj:tE)(c)+c[l]:d[o];p&&(m-=Math.abs(f[s]-h[s]));const y=m-g;return Math.min(Math.max(t,0),Math.abs(y))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:n,ariaLabel:i,alwaysOnTop:o,positionCallback:s,anchorToElement:a}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,i,!!o),c=this.addEventListenersToPopup(Object.assign(Object.assign({},e),{wrapperEl:u}));return s&&s(),this.addPopupToPopupList(n,u,c,a),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();he(e.style.top)||(e.style.top=`${n.top*-1}px`),he(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const i=this.getPopupParent(),o=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&o.classList.add(...s),o.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||ai(e,"dialog"),Jc(e,t),this.focusService.isKeyboardMode()&&e.classList.add(br.AG_KEYBOARD_FOCUS),o.appendChild(e),i.appendChild(o),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),n=this.getPopupParent(),{wrapperEl:i,eChild:o,click:s,closedCallback:a,afterGuiAttached:l,closeOnEsc:u,modal:c}=e;let d=!1;const h=C=>{if(!i.contains(t.activeElement))return;C.key===X.ESCAPE&&!pl(C)&&g({keyboardEvent:C})},f=C=>g({mouseEvent:C}),p=C=>g({touchEvent:C}),g=(C={})=>{const{mouseEvent:m,touchEvent:y,keyboardEvent:w}=C;this.isEventFromCurrentPopup({mouseEvent:m,touchEvent:y},o)||d||(d=!0,n.removeChild(i),t.removeEventListener("keydown",h),t.removeEventListener("mousedown",f),t.removeEventListener("touchstart",p),t.removeEventListener("contextmenu",f),this.eventService.removeEventListener(A.EVENT_DRAG_STARTED,f),a&&a(m||y||w),this.removePopupFromPopupList(o))};return l&&l({hidePopup:g}),window.setTimeout(()=>{u&&t.addEventListener("keydown",h),c&&(t.addEventListener("mousedown",f),this.eventService.addEventListener(A.EVENT_DRAG_STARTED,f),t.addEventListener("touchstart",p),t.addEventListener("contextmenu",f))},0),g}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:qqe++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=o,i.isAnchored=!0,o}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:o}=e,s=i.getBoundingClientRect(),a=n.top-s.top,l=n.left-s.left;let u=a,c=l;const d=o.style.top,h=parseInt(d.substring(0,d.length-1),10),f=o.style.left,p=parseInt(f.substring(0,f.length-1),10);return new ur(g=>{this.getFrameworkOverrides().setInterval(()=>{const C=t.getBoundingClientRect(),m=i.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const w=C.top-m.top;if(w!=u){const P=this.keepXYWithinBounds(o,h+a-w,kd.vertical);o.style.top=`${P}px`}u=w;const E=C.left-m.left;if(E!=c){const P=this.keepXYWithinBounds(o,p+l-E,kd.horizontal);o.style.left=`${P}px`}c=E},200).then(C=>{g(()=>{C!=null&&window.clearInterval(C)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,o=n||i;if(!o)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let a=s;a<this.popupList.length;a++){const l=this.popupList[a];if(kA(l.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),s=o.length,a=this.getWrapper(e);if(!a||i<=1||!t.contains(e))return;const l=n.indexOf(a),u=a.querySelectorAll("div"),c=[];for(u.forEach(h=>{h.scrollTop!==0&&c.push([h,h.scrollTop])}),s?a.classList.contains("ag-always-on-top")?l!==i-1&&Pn(o).insertAdjacentElement("afterend",a):l!==i-s-1&&o[0].insertAdjacentElement("beforebegin",a):l!==i-1&&Pn(n).insertAdjacentElement("afterend",a);c.length;){const h=c.pop();h[0].scrollTop=h[1]}const d={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:a};this.eventService.dispatchEvent(d)}};$p.WAIT_FOR_POPUP_CONTENT_RESIZE=200;eR([x("focusService")],$p.prototype,"focusService",void 0);eR([x("ctrlsService")],$p.prototype,"ctrlsService",void 0);eR([x("resizeObserverService")],$p.prototype,"resizeObserverService",void 0);eR([ge],$p.prototype,"postConstruct",null);$p=lk=eR([De("popupService")],$p);let Qqe=class extends ke{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let n=!1;if(he(e)){const i=(t=this.value)===null||t===void 0?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){n=!0,this.hasHighlighting=!0;const o=i+e.length,s=Kr(this.value.slice(0,i)),a=Kr(this.value.slice(i,o)),l=Kr(this.value.slice(o));this.getGui().lastElementChild.innerHTML=`${s}<b>${a}</b>${l}`}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=Kr(this.value))!==null&&e!==void 0?e:"&nbsp;"}};var bfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let SM=class Tfe extends wg{constructor(e){super(Tfe.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new rd({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:t=>this.autocompleteEntries[t]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",t=>t.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,t){e.preventDefault();const n=this.autocompleteEntries.indexOf(this.selectedValue),i=t===X.UP?n-1:n+1;this.checkSetSelectedValue(i)}setSearch(e){this.searchString=e,he(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,t){let n,i=!1;const o=e.toLocaleLowerCase(),s=t.filter(a=>{const u=a.toLocaleLowerCase().indexOf(o),c=u===0,d=u>=0;return d&&(!n||!i&&c||i===c&&a.length<n.length)&&(n=a,i=c),d});return!n&&s.length&&(n=s[0]),{topMatch:n,allMatches:s}}runSearch(){var e,t;const{autocompleteEntries:n}=this.params,i=n.map(u=>{var c;return(c=u.displayValue)!==null&&c!==void 0?c:u.key});let o,s;if(this.params.useFuzzySearch)o=__(this.searchString,i,!0).values,s=o.length?o[0]:void 0;else{const u=this.runContainsSearch(this.searchString,i);o=u.allMatches,s=u.topMatch}let a=n.filter(({key:u,displayValue:c})=>o.includes(c??u));if(!a.length&&this.selectedValue&&(!((t=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||t===void 0)&&t.call(e,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!s)return;const l=o.indexOf(s);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((n,i)=>{n.updateSelected(e===i)}))}createRowComponent(e){var t;const n=new Qqe;return this.getContext().createBean(n),n.setState((t=e.displayValue)!==null&&t!==void 0?t:e.key,e===this.selectedValue),n}onMouseMove(e){const t=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),i=e.clientY-t.top+n,o=Math.floor(i/this.virtualList.getRowHeight());this.checkSetSelectedValue(o)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null}};SM.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;bfe([pe("eList")],SM.prototype,"eList",void 0);bfe([ge],SM.prototype,"init",null);var zW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let bg=class Dw extends ke{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const t=bu(e);this.updateValue(t),this.updateAutocompleteList(t)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:Dw.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var t,n,i,o;const s=(n=(t=this.listGenerator)===null||t===void 0?void 0:t.call(this,e,this.lastPosition))!==null&&n!==void 0?n:{enabled:!1};if((!s.type||s.type!==((i=this.autocompleteListParams)===null||i===void 0?void 0:i.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((o=this.autocompleteListParams)===null||o===void 0)&&o.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const t=e.key;switch(this.updateLastPosition(),t){case X.ENTER:this.onEnterKeyDown(e);break;case X.TAB:this.onTabKeyDown(e);break;case X.DOWN:case X.UP:this.onUpDownKeyDown(e,t);break;case X.LEFT:case X.RIGHT:case X.PAGE_HOME:case X.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case X.ESCAPE:this.onEscapeKeyDown(e);break;case X.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}}confirmSelection(){var e;const t=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();t&&(this.closeList(),this.dispatchEvent({type:Dw.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:t,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,t){var n;e.preventDefault(),this.isListOpen?(n=this.autocompleteList)===null||n===void 0||n.onNavigationKeyDown(e,t):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)}setCaret(e,t){const n=this.gridOptionsService.getDocument();t&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(e,e)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0}validate(e){var t;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((t=this.validationMessage)!==null&&t!==void 0?t:""),this.valid=!this.validationMessage,this.dispatchEvent({type:Dw.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new SM({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),t={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},n=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(t),ariaLabel:this.listAriaLabel});this.hidePopup=n.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:Dw.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return bu(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:t,position:n,silent:i,updateListOnlyIfOpen:o,restoreFocus:s}=e;this.eAutocompleteInput.setValue(t,!0),this.setCaret(n??this.lastPosition,s),i||this.updateValue(t),(!o||this.isListOpen)&&this.updateAutocompleteList(t)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};bg.EVENT_VALUE_CHANGED="eventValueChanged";bg.EVENT_VALUE_CONFIRMED="eventValueConfirmed";bg.EVENT_OPTION_SELECTED="eventOptionSelected";bg.EVENT_VALID_CHANGED="eventValidChanged";zW([x("popupService")],bg.prototype,"popupService",void 0);zW([pe("eAutocompleteInput")],bg.prototype,"eAutocompleteInput",void 0);zW([ge],bg.prototype,"postConstruct",null);var My=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Bp=class extends de{getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===X.UP,i=e===X.DOWN,o=e===X.LEFT;let s,a;if(n||i)a=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=t.column;else{const l=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.is("enableRtl");a=t.rowIndex,s=o!==u?l[0]:Pn(l)}return{rowIndex:a,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case X.UP:n=this.getCellAbove(n);break;case X.DOWN:n=this.getCellBelow(n);break;case X.RIGHT:this.gridOptionsService.is("enableRtl")?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case X.LEFT:this.gridOptionsService.is("enableRtl")?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+e);break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex);break}return n?!t.isSuppressNavigable(n):!1}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const i=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(i);return o||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),i=t?-1:1,o=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),s=n[o+i];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned;if(n?t===0:t===this.paginationProxy.getPageFirstRow())return n==="top"?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const o=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(o,!0);return s||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let n=e.rowIndex,i=e.rowPinned,o=this.columnModel.getDisplayedColAfter(e.column);if(!o){o=t[0];const s=this.getRowBelow(e);if(dt(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let n=e.rowIndex,i=e.rowPinned,o=this.columnModel.getDisplayedColBefore(e.column);if(!o){o=Pn(t);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(dt(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}}};My([x("columnModel")],Bp.prototype,"columnModel",void 0);My([x("rowModel")],Bp.prototype,"rowModel",void 0);My([x("rowRenderer")],Bp.prototype,"rowRenderer",void 0);My([x("pinnedRowModel")],Bp.prototype,"pinnedRowModel",void 0);My([x("paginationProxy")],Bp.prototype,"paginationProxy",void 0);Bp=My([De("cellNavigationService")],Bp);var tR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Xqe=function(r,e){return function(t,n){e(t,n,r)}};let Bv=class extends de{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){if(this.consuming)return;const t=this.gridOptionsService.get("alignedGrids");t&&t.forEach(n=>{if(n.api){const i=n.api.__getAlignedGridService();e(i)}})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(n=>{t.push(n)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(n=>{t.push(n.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case A.EVENT_COLUMN_MOVED:case A.EVENT_COLUMN_VISIBLE:case A.EVENT_COLUMN_PINNED:case A.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case A.EVENT_COLUMN_GROUP_OPENED:const n=e;this.processGroupOpenedEvent(n);break;case A.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const t=e.columnGroup;let n=null;if(t){const i=t.getGroupId();n=this.columnModel.getProvidedColumnGroup(i)}t&&!n||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(n,t.isExpanded(),"alignedGridChanged"))}processColumnEvent(e){var t;const n=e.column;let i=null;if(n&&(i=this.columnModel.getPrimaryColumn(n.getColId())),n&&!i)return;const o=this.getMasterColumns(e);switch(e.type){case A.EVENT_COLUMN_MOVED:{const d=e,f=e.columnApi.getColumnState().map(p=>({colId:p.colId}));this.columnModel.applyColumnState({state:f,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${d.toIndex}`)}break;case A.EVENT_COLUMN_VISIBLE:{const d=e,f=e.columnApi.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));this.columnModel.applyColumnState({state:f},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${d.visible}`)}break;case A.EVENT_COLUMN_PINNED:{const d=e,f=e.columnApi.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));this.columnModel.applyColumnState({state:f},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${d.pinned}`)}break;case A.EVENT_COLUMN_RESIZED:const u=e,c={};o.forEach(d=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${d.getActualWidth()}`),c[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),(t=u.flexColumns)===null||t===void 0||t.forEach(d=>{c[d.getId()]&&delete c[d.getId()]}),this.columnModel.setColumnWidths(Object.values(c),!1,u.finished,"alignedGridChanged");break}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),l=this.gridOptionsService.get("alignedGrids");l&&l.forEach(u=>{u.api&&u.api.setAlwaysShowVerticalScroll(a)})}};tR([x("columnModel")],Bv.prototype,"columnModel",void 0);tR([x("ctrlsService")],Bv.prototype,"ctrlsService",void 0);tR([Xqe(0,To("loggerFactory"))],Bv.prototype,"setBeans",null);tR([ge],Bv.prototype,"init",null);Bv=tR([De("alignedGridsService")],Bv);var nR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Jqe=function(r,e){return function(t,n){e(t,n,r)}};let jv=class extends de{setBeans(e){this.logger=e.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",e=>this.groupSelectsChildren=e.currentValue),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",e=>this.rowSelection=e.currentValue),this.addManagedListener(this.eventService,A.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var t;if(e.nodes.length===0)return 0;const{newValue:n,clearSelection:i,suppressFinishActions:o,rangeSelect:s,event:a,source:l="api"}=e;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const u=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=e.nodes.map(h=>h.footer?h.sibling:h);if(s){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const h=this.getLastSelectedNode();if(h){const f=c[0];if(h!==f&&this.isMultiselect()){const g=this.selectRange(f,h,e.newValue,l);return this.setLastSelectedNode(f),g}}}let d=0;for(let h=0;h<c.length;h++){const f=c[h];u&&f.group||f.selectThisNode(n,e.event,l)&&d++,this.groupSelectsChildren&&(!((t=f.childrenAfterGroup)===null||t===void 0)&&t.length)&&(d+=this.selectChildren(f,n,u,l))}if(!o){if(n&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],l)),d>0){this.updateGroupsFromChildrenSelections(l);const f={type:A.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(f)}n&&this.setLastSelectedNode(c[c.length-1])}return d}selectRange(e,t,n=!0,i){const o=this.rowModel.getNodesInRangeForSelection(e,t);let s=0;o.forEach(l=>{if(l.group&&this.groupSelectsChildren||n===!1&&e===l)return;l.selectThisNode(n,void 0,i)&&s++}),this.updateGroupsFromChildrenSelections(i);const a={type:A.EVENT_SELECTION_CHANGED,source:i};return this.eventService.dispatchEvent(a),s}selectChildren(e,t,n,i){const o=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return q.missing(o)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:o})}setLastSelectedNode(e){this.lastSelectedNode=e}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const e=[];return Dr(this.selectedNodes,(t,n)=>{n&&e.push(n)}),e}getSelectedRows(){const e=[];return Dr(this.selectedNodes,(t,n)=>{n&&n.data&&e.push(n.data)}),e}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(e){const t={};Object.entries(this.selectedNodes).forEach(([n,i])=>{i&&e(i)&&(t[n]=i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const i=this.rowModel.getRootNode();t||(t=new jW(!0,i),t.setInactive());let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==i){const a=s.calculateSelectedFromChildren();o=s.selectThisNode(a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t){const n={};let i=0;return Dr(this.selectedNodes,(o,s)=>{if(s&&s.id!==e.id){const a=this.selectedNodes[s.id];i+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&(n[s.parent.id]=s.parent)}}),Dr(n,(o,s)=>{const a=s.calculateSelectedFromChildren();s.selectThisNode(a===null?!1:a,void 0,t)}),i}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:delete this.selectedNodes[t.id])}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(he(t)&&e.id!==t.id&&t){const i=t.id;this.selectedNodes[i]==e&&(this.selectedNodes[t.id]=t)}}syncInNewRowNode(e){he(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const n=[];function i(o){for(let s=0,a=o.length;s<a;s++){const l=o[s];if(l.isSelected())n.push(l);else{const u=l;u.group&&u.children&&i(u.children)}}}return i(t),n}isEmpty(){let e=0;return Dr(this.selectedNodes,(t,n)=>{n&&e++}),e===0}deselectAllRowNodes(e){const t=l=>l.selectThisNode(!1,void 0,i),n=this.rowModel.getType()==="clientSide",{source:i,justFiltered:o,justCurrentPage:s}=e;if(s||o){if(!n){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(o,s).forEach(t)}else Dr(this.selectedNodes,(l,u)=>{u&&t(u)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);const a={type:A.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(a)}getSelectAllState(e,t){let n=0,i=0;const o=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?n++:s.selectable&&i++)};return this.getNodesToSelect(e,t).forEach(o),n===0&&i===0?!1:n>0&&i>0?null:n>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const n=[];if(t)return this.paginationProxy.forEachNodeOnPage(o=>{if(!o.group){n.push(o);return}if(!o.expanded){const s=a=>{var l;n.push(a),!((l=a.childrenAfterFilter)===null||l===void 0)&&l.length&&a.childrenAfterFilter.forEach(s)};s(o);return}this.groupSelectsChildren||n.push(o)}),n;const i=this.rowModel;return e?(i.forEachNodeAfterFilter(o=>{n.push(o)}),n):(i.forEachNode(o=>{n.push(o)}),n)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:n,justCurrentPage:i}=e,o=a=>a.selectThisNode(!0,void 0,t);this.getNodesToSelect(n,i).forEach(o),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const s={type:A.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(s)}getServerSideSelectionState(){return null}setServerSideSelectionState(e){}};nR([x("rowModel")],jv.prototype,"rowModel",void 0);nR([x("paginationProxy")],jv.prototype,"paginationProxy",void 0);nR([Jqe(0,To("loggerFactory"))],jv.prototype,"setBeans",null);nR([ge],jv.prototype,"init",null);jv=nR([De("selectionService")],jv);var KW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let JA=class{sizeColumnsToFit(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.columnModel.setColumnVisible(e,t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.columnModel.setColumnPinned(e,t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.columnModel.moveColumn(e,t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t)}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t)}setColumnWidth(e,t,n=!0,i){this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,i)}setColumnWidths(e,t=!0,n){this.columnModel.setColumnWidths(e,!1,t,n)}setPivotMode(e){this.columnModel.setPivotMode(e)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.columnModel.removeValueColumn(e,"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.columnModel.addValueColumn(e,"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.columnModel.removeRowGroupColumn(e,"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.columnModel.addRowGroupColumn(e,"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.columnModel.removePivotColumn(e,"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.columnModel.addPivotColumn(e,"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.columnModel.autoSizeColumn(e,t,"api")}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns(e,"api")}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(q.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return Ca("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return Ca("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return Ca("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(e){Ca("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)}getSecondaryPivotColumn(e,t){return Ca("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)}};KW([x("columnModel")],JA.prototype,"columnModel",void 0);KW([Bi],JA.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null);JA=KW([De("columnApi")],JA);var Ly=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let jp=class extends de{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(A.EVENT_CELL_VALUE_CHANGED,e=>this.callColumnCellValueChangedHandler(e),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValue(e,t,n=!1,i=!1){if(this.initialised||this.init(),!t)return;const o=e.getColDef(),s=o.field,a=e.getColId(),l=t.data;let u;const c=t.groupData&&t.groupData[a]!==void 0,d=!i&&t.aggData&&t.aggData[a]!==void 0,h=this.isSsrm&&i&&!!e.getColDef().aggFunc,f=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(n&&o.filterValueGetter?u=this.executeFilterValueGetter(o.filterValueGetter,l,e,t):this.isTreeData&&d?u=t.aggData[a]:this.isTreeData&&o.valueGetter?u=this.executeValueGetter(o.valueGetter,l,e,t):this.isTreeData&&s&&l?u=Zm(l,s,e.isFieldContainsDots()):c?u=t.groupData[a]:d?u=t.aggData[a]:o.valueGetter?u=this.executeValueGetter(o.valueGetter,l,e,t):f?u=Zm(l,t.field,e.isFieldContainsDots()):s&&l&&!h&&(u=Zm(l,s,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const p=u.substring(1);u=this.executeValueGetter(p,l,e,t)}if(u==null){const p=this.getOpenedGroup(t,e);if(p!=null)return p}return u}getOpenedGroup(e,t){if(!this.gridOptionsService.is("showOpenedGroup")||!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let o=e.parent;for(;o!=null;){if(o.rowGroupColumn&&(i===!0||i===o.rowGroupColumn.getColId()))return o.key;o=o.parent}}setValue(e,t,n,i){const o=this.columnModel.getPrimaryColumn(t);if(!e||!o)return!1;dt(e.data)&&(e.data={});const{field:s,valueSetter:a}=o.getColDef();if(dt(s)&&dt(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(o,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l={node:e,data:e.data,oldValue:this.getValue(o,e),newValue:n,colDef:o.getColDef(),column:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};l.newValue=n;let u;if(he(a)?typeof a=="function"?u=a(l):u=this.expressionService.evaluate(a,l):u=this.setValueUsingField(e.data,s,n,o.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(o,e);const c={type:A.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:i};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})}setValueUsingField(e,t,n,i){if(!t)return!1;let o=!1;if(!i)o=e[t]===n,o||(e[t]=n);else{const s=t.split(".");let a=e;for(;s.length>0&&a;){const l=s.shift();s.length===0?(o=a[l]===n,o||(a[l]=n)):a=a[l]}}return!o}executeFilterValueGetter(e,t,n,i){const o={data:t,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return typeof e=="function"?e(o):this.expressionService.evaluate(e,o)}executeValueGetter(e,t,n,i){const o=n.getColId(),s=this.valueCache.getValue(i,o);if(s!==void 0)return s;const a={data:t,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};let l;return typeof e=="function"?l=e(a):l=this.expressionService.evaluate(e,a),this.valueCache.setValue(i,o,l),l}getValueCallback(e,t){const n=this.columnModel.getPrimaryColumn(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let o=n;if(i){const s={value:n,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=i(s)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&Ut(()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),o}};Ly([x("expressionService")],jp.prototype,"expressionService",void 0);Ly([x("columnModel")],jp.prototype,"columnModel",void 0);Ly([x("valueCache")],jp.prototype,"valueCache",void 0);Ly([x("dataTypeService")],jp.prototype,"dataTypeService",void 0);Ly([ge],jp.prototype,"init",null);jp=Ly([De("valueService")],jp);var Pfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zqe=function(r,e){return function(t,n){e(t,n,r)}};let uk=class extends de{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+n),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};Pfe([Zqe(0,To("loggerFactory"))],uk.prototype,"setBeans",null);uk=Pfe([De("expressionService")],uk);var eQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let qY=class extends de{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const n=this.templateCache[e];if(n)return n;let i=this.waitingCallbacks[e];const o=this;if(!i){i=[],this.waitingCallbacks[e]=i;const s=new XMLHttpRequest;s.onload=function(){o.handleHttpResult(this,e)},s.open("GET",e),s.send()}return t&&i.push(t),null}handleHttpResult(e,t){if(e.status!==200||e.response===null){console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);return}this.templateCache[t]=e.response||e.responseText;const n=this.waitingCallbacks[t];for(let i=0;i<n.length;i++){const o=n[i];o()}}};qY=eQe([De("templateService")],qY);var Ofe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tQe=function(r,e){return function(t,n){e(t,n,r)}};let ck=class extends de{setBeans(e){this.logging=e.is("debug")}create(e){return new nQe(e,this.isLogging.bind(this))}isLogging(){return this.logging}};Ofe([tQe(0,To("gridOptionsService"))],ck.prototype,"setBeans",null);ck=Ofe([De("loggerFactory")],ck);let nQe=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}};var Ny=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Tg=class extends de{setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:o=>o===Nr.HeaderCell||o===Nr.ToolPanel,getIconName:()=>Ct.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new nM(this.view)),this.addRtlSupport(),this.addManagedListener(this,A.EVENT_KEYBOARD_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,A.EVENT_MOUSE_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!1)});const i=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>i()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1}showDropZones(){return Ye.__isRegistered(Te.RowGroupingModule,this.context.getGridId())}showSideBar(){return Ye.__isRegistered(Te.SideBarModule,this.context.getGridId())}showStatusBar(){return Ye.__isRegistered(Te.StatusBarModule,this.context.getGridId())}showWatermark(){return Ye.__isRegistered(Te.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){const e={type:A.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),o=n.findIndex(s=>s.contains(t.activeElement))+(e?-1:1);return o<=0||o>=n.length?!1:this.focusService.focusInto(n[o])}focusInnerElement(e){const t=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(Pn(t),!0);const i=Pn(n);if(this.focusService.focusGridView(i,!0))return!0}return this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusGridView(n[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};Ny([x("focusService")],Tg.prototype,"focusService",void 0);Ny([x("resizeObserverService")],Tg.prototype,"resizeObserverService",void 0);Ny([x("columnModel")],Tg.prototype,"columnModel",void 0);Ny([x("ctrlsService")],Tg.prototype,"ctrlsService",void 0);Ny([x("mouseEventService")],Tg.prototype,"mouseEventService",void 0);Ny([x("dragAndDropService")],Tg.prototype,"dragAndDropService",void 0);var rR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let iR=class extends X_{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:n=>this.addCssClass(n),addOrRemoveKeyboardFocusClass:n=>this.addOrRemoveCssClass(br.AG_KEYBOARD_FOCUS,n),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:n=>{this.getGui().style.userSelect=n??"",this.getGui().style.webkitUserSelect=n??""},setCursor:n=>{this.getGui().style.cursor=n??""}};this.ctrl=this.createManagedBean(new Tg);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>this.ctrl.focusInnerElement(n)})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const n=this.eRootWrapperBody.classList;n.toggle(Wr.AUTO_HEIGHT,t.autoHeight),n.toggle(Wr.NORMAL,t.normal),n.toggle(Wr.PRINT,t.print),this.addOrRemoveCssClass(Wr.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(Wr.NORMAL,t.normal),this.addOrRemoveCssClass(Wr.PRINT,t.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",n=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",i=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${t}
                </div>
                ${n}
                <ag-pagination></ag-pagination>
                ${i}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>Zh(t))}};rR([x("loggerFactory")],iR.prototype,"loggerFactory",void 0);rR([pe("gridBody")],iR.prototype,"gridBodyComp",void 0);rR([pe("sideBar")],iR.prototype,"sideBarComp",void 0);rR([pe("rootWrapperBody")],iR.prototype,"eRootWrapperBody",void 0);rR([ge],iR.prototype,"postConstruct",null);var Dfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bP;let ZA=bP=class extends de{progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();let s=[e];if(o&&e.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(e),u=l==null?void 0:l.filter(c=>c.getColDef().sortable);u&&(s=[e,...u])}s.forEach(l=>l.setSort(t,i)),(n||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(s,i),this.updateSortIndex(e),this.dispatchSortChangedEvents(i)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),i=t&&n||e,o=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const s=o.filter(l=>l!==i);(i.getSort()?[...s,i]:s).forEach((l,u)=>l.setSortIndex(u))}onSortChanged(e){this.dispatchSortChangedEvents(e)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e){const t={type:A.EVENT_SORT_CHANGED,source:e};this.eventService.dispatchEvent(t)}clearSortBarTheseColumns(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(n=>{e.includes(n)||n.setSort(void 0,t)})}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?t=this.gridOptionsService.get("sortingOrder"):t=bP.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const n=t.indexOf(e.getSort()),i=n<0,o=n==t.length-1;let s;return i||o?s=t[0]:s=t[n+1],bP.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(a=>{const l=!!a.getAggFunc(),u=!a.isPrimary(),c=s?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return l||u||c})}const t=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map(s=>{var a;return(a=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))!==null&&a!==void 0?a:s}))]);const i={};e.forEach((s,a)=>i[s.getId()]=a),e.sort((s,a)=>{const l=s.getSortIndex(),u=a.getSortIndex();if(l!=null&&u!=null)return l-u;if(l==null&&u==null){const c=i[s.getId()],d=i[a.getId()];return c>d?1:-1}else return u==null?-1:1});const o=new Map;return e.forEach((s,a)=>o.set(s,a)),n&&t.forEach(s=>{const a=this.columnModel.getGroupDisplayColumnForGroup(s.getId());o.set(s,o.get(a))}),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,i])=>t-i).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,o=i[0].getSort();return i.every(a=>a.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};ZA.DEFAULT_SORTING_ORDER=["asc","desc",null];Dfe([x("columnModel")],ZA.prototype,"columnModel",void 0);ZA=bP=Dfe([De("sortController")],ZA);var rQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let QY=class extends de{setMouseOver(e){this.selectedColumns=e;const t={type:A.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:A.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};QY=rQe([De("columnHoverService")],QY);var YW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ex=class extends de{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&(this.flush(),this.active=!1)}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(){const e=this.executeNextFuncs;this.executeNextFuncs=[];const t=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&t.length===0)&&(window.setTimeout(()=>e.forEach(n=>n()),0),window.setTimeout(()=>t.forEach(n=>n()),300))}};YW([x("ctrlsService")],ex.prototype,"ctrlsService",void 0);YW([ge],ex.prototype,"postConstruct",null);ex=YW([De("columnAnimationService")],ex);var qW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let tx=class extends de{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,A.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||this.centerRowContainerCon==null}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const n=this.gridOptionsService.getRowHeightAsNumber(),i=Math.floor(e/n);this.gridOptionsService.set("paginationPageSize",i)};this.isBodyRendered?al(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};qW([x("ctrlsService")],tx.prototype,"ctrlsService",void 0);qW([ge],tx.prototype,"postConstruct",null);tx=qW([De("paginationAutoPageSizeService")],tx);var Afe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let dk=class extends de{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}};Afe([ge],dk.prototype,"init",null);dk=Afe([De("valueCache")],dk);var EM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const iQe="paste";let uE=class extends de{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,A.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==iQe&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gridOptionsService.is("suppressChangeDetection"))return;const n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const i=this.gridOptionsService.is("aggregateOnlyChangedColumns"),o=new jW(i,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(s=>{n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}};EM([x("rowModel")],uE.prototype,"rowModel",void 0);EM([x("rowRenderer")],uE.prototype,"rowRenderer",void 0);EM([ge],uE.prototype,"init",null);uE=EM([De("changeDetectionService")],uE);var xfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let hk=class extends de{adaptFunction(e,t){const n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(i){return!1}getGui(){return this.eGui}init(i){const o=e(i),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Ai("<span>"+o+"</span>");return}if(o==null){this.eGui=Ai("<span></span>");return}this.eGui=o}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};xfe([x("componentMetadataProvider")],hk.prototype,"componentMetadataProvider",void 0);hk=xfe([De("agComponentUtils")],hk);var QW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let nx=class extends de{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(e){return this.componentMetaData[e]}};QW([x("agComponentUtils")],nx.prototype,"agComponentUtils",void 0);QW([ge],nx.prototype,"postConstruct",null);nx=QW([De("componentMetadataProvider")],nx);var XW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const oQe=25,XY=10,mN=8,sQe=4,vN=4,yN=6,aQe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:sQe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:mN*7,headerCellMinWidth:48,listItemHeight:mN*4,rowHeight:mN*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:vN*8,headerCellMinWidth:24,listItemHeight:vN*6,rowHeight:vN*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:yN*8,headerCellMinWidth:36,listItemHeight:yN*4,rowHeight:yN*7,chartMenuPanelWidth:240}},JY={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let rx=class extends de{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=(e=this.getTheme().el)!==null&&e!==void 0?e:this.eGridDiv;this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:A.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:n}=this.getTheme();if(!t||t.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const i=this.calculatedSizes[t][e];return i??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,n),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,n){const i="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),o=aQe[i][e],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!JY[e])return o;const a=JY[e],l=s.createElement("div"),u=Array.from(n.classList);l.classList.add(t,...u),l.style.position="absolute";const c=a.reduce((h,f)=>{const p=s.createElement("div");return p.style.position="static",p.classList.add(f),h.appendChild(p),p},l);let d=0;if(s.body){s.body.appendChild(l);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";d=parseInt(window.getComputedStyle(c)[h],10),s.body.removeChild(l)}return d||o}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,n=null,i=[];for(;t;)if(n=e.exec(t.className),!n)t=t.parentElement||void 0;else{const s=t.className.match(e);s&&(i=s);break}if(!n)return{allThemes:i};const o=n[0];return{theme:o,el:t,themeFamily:o.replace(/-dark$/,""),allThemes:i}}getFromTheme(e,t){var n;return(n=this.getSassVariable(t))!==null&&n!==void 0?n:e}getDefaultRowHeight(){return this.getFromTheme(oQe,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gridOptionsService.getNum("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return-1;const n=`${t}px`;return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),t):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return he(e)?Math.max(e,XY):XY}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};XW([x("eGridDiv")],rx.prototype,"eGridDiv",void 0);XW([ge],rx.prototype,"postConstruct",null);rx=XW([De("environment")],rx);var _M=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lQe=function(r,e){return function(t,n){e(t,n,r)}};let cE=class extends de{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,A.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=jde(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(t!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:A.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}};_M([x("ctrlsService")],cE.prototype,"ctrlsService",void 0);_M([lQe(0,To("loggerFactory"))],cE.prototype,"agWire",null);_M([ge],cE.prototype,"postConstruct",null);cE=_M([De("rowContainerHeightService")],cE);var Ife=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let fk=class extends de{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(e){if(this.isRowSelectableFunc){const t=n=>n.childrenAfterGroup;this.recurseDown(e.childrenAfterGroup,t)}}recurseDown(e,t){e&&e.forEach(n=>{if(!n.group)return;n.hasChildren()&&this.recurseDown(t(n),t);let i;if(this.groupSelectsChildren){const o=(t(n)||[]).find(s=>s.selectable===!0);i=he(o)}else i=this.isRowSelectableFunc?this.isRowSelectableFunc(n):!1;n.setRowSelectable(i)})}};Ife([ge],fk.prototype,"init",null);fk=Ife([De("selectableService")],fk);var $a=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ba=class extends ke{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:n,btNext:i,btLast:o}=this;this.activateTabIndex([t,n,i,o]),t.insertAdjacentElement("afterbegin",Fr(e?"last":"first",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",Fr(e?"next":"previous",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",Fr(e?"previous":"next",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",Fr(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,A.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListener(t,"click",n),this.addManagedListener(t,"keydown",i=>{(i.key===X.ENTER||i.key===X.SPACE)&&(i.preventDefault(),n())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),n=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const n=this.localeService.getLocaleTextFunc(),i=n("thousandSeparator",","),o=n("decimalSeparator",".");return Kj(e,i,o)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),o=e("firstPage","First Page"),s=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),l=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${u}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${n}</span>
                    <span id="ag-${u}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${i}</span>
                    <span id="ag-${u}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${u}-start-page">${t}</span>
                        <span id="ag-${u}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${i}</span>
                        <span id="ag-${u}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),o=t&&e===n-1;this.nextButtonDisabled=o||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Vj(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let o,s;if(this.isZeroPagesToDisplay()?o=s=0:(o=t*e+1,s=o+t-1,n&&s>i&&(s=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(o),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(s)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&t===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(n===1){const i=this.paginationProxy.getRow(0);if(i&&i.group&&!(i.groupData||i.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(n);else{const i=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=i,this.lbRecordCount.innerHTML=i}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}};$a([x("paginationProxy")],Ba.prototype,"paginationProxy",void 0);$a([x("rowNodeBlockLoader")],Ba.prototype,"rowNodeBlockLoader",void 0);$a([pe("btFirst")],Ba.prototype,"btFirst",void 0);$a([pe("btPrevious")],Ba.prototype,"btPrevious",void 0);$a([pe("btNext")],Ba.prototype,"btNext",void 0);$a([pe("btLast")],Ba.prototype,"btLast",void 0);$a([pe("lbRecordCount")],Ba.prototype,"lbRecordCount",void 0);$a([pe("lbFirstRowOnPage")],Ba.prototype,"lbFirstRowOnPage",void 0);$a([pe("lbLastRowOnPage")],Ba.prototype,"lbLastRowOnPage",void 0);$a([pe("lbCurrent")],Ba.prototype,"lbCurrent",void 0);$a([pe("lbTotal")],Ba.prototype,"lbTotal",void 0);$a([ge],Ba.prototype,"postConstruct",null);var Gy=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Lm;(function(r){r[r.Loading=0]="Loading",r[r.NoRows=1]="NoRows"})(Lm||(Lm={}));let Pg=class Ffe extends ke{constructor(){super(Ffe.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList;n.toggle(Wr.AUTO_HEIGHT,t.autoHeight),n.toggle(Wr.NORMAL,t.normal),n.toggle(Wr.PRINT,t.print)}postConstruct(){this.createManagedBean(new nM(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,A.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===Lm.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===Lm.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const e={},n=this.userComponentFactory.getLoadingOverlayCompDetails(e).newAgStackInstance();this.showOverlay(n,Lm.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const e={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(e).newAgStackInstance();this.showOverlay(n,Lm.NoRows)}showOverlay(e,t){this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),uo(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};Pg.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`;Gy([x("userComponentFactory")],Pg.prototype,"userComponentFactory",void 0);Gy([x("paginationProxy")],Pg.prototype,"paginationProxy",void 0);Gy([x("gridApi")],Pg.prototype,"gridApi",void 0);Gy([x("columnModel")],Pg.prototype,"columnModel",void 0);Gy([pe("eOverlayWrapper")],Pg.prototype,"eOverlayWrapper",void 0);Gy([ge],Pg.prototype,"postConstruct",null);var RM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let dE=class extends de{getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(t="bottom",e=n-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):i&&(t="top",e=i-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(he(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(n=>{(t===void 0||this.before(t,n))&&(t=n)}),t}rowMin(e){let t;return e.forEach(n=>{(t===void 0||this.before(n,t))&&(t=n)}),t}};RM([x("rowModel")],dE.prototype,"rowModel",void 0);RM([x("pinnedRowModel")],dE.prototype,"pinnedRowModel",void 0);RM([x("paginationProxy")],dE.prototype,"paginationProxy",void 0);dE=RM([De("rowPositionUtils")],dE);var uQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ZY=class extends de{createId(e){const{rowIndex:t,rowPinned:n,column:i}=e;return this.createIdFromValues({rowIndex:t,column:i,rowPinned:n})}createIdFromValues(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}equals(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return n&&i&&o}};ZY=uQe([De("cellPositionUtils")],ZY);let Aw=class{constructor(e){this.cellValueChanges=e}},CN=class extends Aw{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},pk=class Mfe{constructor(e){this.actionStack=[],this.maxStackSize=e||Mfe.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};pk.DEFAULT_STACK_SIZE=10;var zu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Tl=class extends de{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),i=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:a,column:l,oldValue:u,value:c}=e,d={rowPinned:s,rowIndex:a,columnId:l.getColId(),newValue:c,oldValue:u};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new pk(e),this.redoStack=new pk(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,A.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,A.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,A.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:A.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),i={type:A.EVENT_UNDO_ENDED,source:e,operationPerformed:n};this.eventService.dispatchEvent(i)}redo(e){const t={type:A.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),i={type:A.EVENT_REDO_ENDED,source:e,operationPerformed:n};this.eventService.dispatchEvent(i)}undoRedo(e,t,n,i,o){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,a=>a[i],o),s instanceof CN?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:o,rowPinned:s,columnId:a}=i,l={rowIndex:o,rowPinned:s},u=this.getRowNode(l);u.displayed&&u.setDataValue(a,t(i),n)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((n,i)=>{if(!n)return;const o=n.startRow,s=n.endRow;i===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};this.rangeService.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,o={rowIndex:n,rowPinned:i},s=this.getRowNode(o),a={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(a,!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:n,columnId:i,rowPinned:o}=e,s=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(i);if(!a)return;s.ensureIndexVisible(n),s.ensureColumnVisible(a);const l={rowIndex:n,column:a,rowPinned:o};this.focusService.setFocusedCell(Object.assign(Object.assign({},l),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,A.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,A.EVENT_ROW_EDITING_STOPPED,()=>{const e=new Aw(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,A.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,A.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Aw(this.cellValueChanges);this.pushActionsToUndoStack(n)}})}addPasteListeners(){this.addManagedListener(this.eventService,A.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,A.EVENT_PASTE_END,()=>{const e=new Aw(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,A.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,A.EVENT_FILL_END,e=>{const t=new CN(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,A.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gridOptionsService.is("enableRangeSelection")?e=new CN(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Aw(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};zu([x("focusService")],Tl.prototype,"focusService",void 0);zu([x("ctrlsService")],Tl.prototype,"ctrlsService",void 0);zu([x("rowModel")],Tl.prototype,"rowModel",void 0);zu([x("pinnedRowModel")],Tl.prototype,"pinnedRowModel",void 0);zu([x("cellPositionUtils")],Tl.prototype,"cellPositionUtils",void 0);zu([x("rowPositionUtils")],Tl.prototype,"rowPositionUtils",void 0);zu([x("columnModel")],Tl.prototype,"columnModel",void 0);zu([Bt("rangeService")],Tl.prototype,"rangeService",void 0);zu([ge],Tl.prototype,"init",null);Tl=zu([De("undoRedoService")],Tl);var JW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ix=class extends de{findHeader(e,t){let n,i,o;if(e.column instanceof ni?(i=`getDisplayedGroup${t}`,n=this.columnModel[i](e.column)):(o=`getDisplayedCol${t}`,n=this.columnModel[o](e.column)),!n)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)===xi.COLUMN_GROUP){const l=n;if(l.isPadding()&&this.isAnyChildSpanningHeaderHeight(l)){const{nextFocusColumn:u,nextRow:c}=this.getColumnVisibleChild(l,s,t);u&&(n=u,s=c)}}return{column:n,headerRowIndex:s}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const n=this.getHeaderRowType(t),i=n===xi.FLOATING_FILTER,o=n===xi.COLUMN;let s=i?e:e.getParent(),a=t-1;if(o&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),a--;a<0&&(s=e,a=t)}return{nextFocusColumn:s,nextRow:a}}getColumnVisibleChild(e,t,n="After"){const i=this.getHeaderRowType(t);let o=e,s=t+1;if(i===xi.COLUMN_GROUP){const a=e.getLeafColumns(),l=n==="After"?a[0]:Pn(a);if(this.isAnyChildSpanningHeaderHeight(l.getParent())){o=l;let u=l.getParent();for(;u&&u!==e;)u=u.getParent(),s++}else o=e.getDisplayedChildren()[0]}return{nextFocusColumn:o,nextRow:s}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const n=this.columnModel.getAllDisplayedColumns(),i=n[t==="start"?0:n.length-1];if(!i)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(e);if(s==xi.COLUMN_GROUP){const a=this.columnModel.getColumnGroupAtLevel(i,e);return{headerRowIndex:e,column:a}}return{headerRowIndex:s==null?-1:e,column:i}}};JW([x("columnModel")],ix.prototype,"columnModel",void 0);JW([x("ctrlsService")],ix.prototype,"ctrlsService",void 0);ix=JW([De("headerPositionUtils")],ix);var cQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let eq=class{buildColumnDefs(e,t,n){const i=[],o={};return e.forEach(s=>{const a=this.createDefFromColumn(s,t,n);let l=!0,u=a,c=s.getOriginalParent(),d=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const f=o[c.getGroupId()];if(f){f.children.push(u),l=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[u],o[h.groupId]=h,u=h,c=c.getOriginalParent()),c!=null&&d===c){l=!1;break}d=c}l&&i.push(u)}),i}createDefFromGroup(e){const t=NA(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=NA(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}};eq=cQe([De("columnDefFactory")],eq);var ZW=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ox=class{getInitialRowClasses(e){const t=[];return he(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),KV(t,this.processClassesFromGridOptions(e.rowNode)),KV(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],n=s=>{typeof s=="string"?t.push(s):Array.isArray(s)&&s.forEach(a=>t.push(a))},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}const o=this.gridOptionsService.getCallback("getRowClass");if(o){const s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);n(a)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,n=>{t.push(n)},n=>{}),t}processRowClassRules(e,t,n){const i={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,t,n)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};ZW([x("stylingService")],ox.prototype,"stylingService",void 0);ZW([x("gridOptionsService")],ox.prototype,"gridOptionsService",void 0);ox=ZW([De("rowCssClassCalculator")],ox);var bM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let hE=class extends de{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const n=(o,s)=>({currentPos:s,rowNode:o}),i=e.map(n);return i.sort(this.compareRowNodes.bind(this,t)),i.map(o=>o.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,o=n.rowNode;for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.sort==="desc",c=this.getValue(i,l.column),d=this.getValue(o,l.column);let h;const f=this.getComparator(l,i);if(f?h=f(c,d,i,o,u):h=q.defaultComparator(c,d,this.isAccentedSort),!isNaN(h)&&h!==0)return l.sort==="asc"?h:h*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const o=!t.group&&n.getColDef().field;if(!o)return;const s=this.columnModel.getPrimaryColumn(o);if(s)return s.getColDef().comparator}getValue(e,t){var n,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(t.getColDef().keyCreator)return e.key;const u=(n=e.allLeafChildren)===null||n===void 0?void 0:n[0];return u?this.valueService.getValue(t,u,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return a?(i=e.groupData)===null||i===void 0?void 0:i[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}};bM([x("valueService")],hE.prototype,"valueService",void 0);bM([x("columnModel")],hE.prototype,"columnModel",void 0);bM([ge],hE.prototype,"init",null);hE=bM([De("rowNodeSorter")],hE);var dQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gk;let mk=gk=class extends de{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};mk.NAME="ctrlsService";mk=gk=dQe([De(gk.NAME)],mk);var hQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let tq=class extends de{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(t!=null)return new t}};tq=hQe([De("ctrlsFactory")],tq);var oR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Og=class extends ke{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,A.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",zj()||Xh())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=eE(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],t=["mouseleave","touchend"],n=this.getGui();e.forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),t.forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,A.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();Fj(()=>Zh(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};oR([pe("eViewport")],Og.prototype,"eViewport",void 0);oR([pe("eContainer")],Og.prototype,"eContainer",void 0);oR([x("scrollVisibleService")],Og.prototype,"scrollVisibleService",void 0);oR([x("ctrlsService")],Og.prototype,"ctrlsService",void 0);oR([x("animationFrameService")],Og.prototype,"animationFrameService",void 0);var sR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vy=class Lfe extends Og{constructor(){super(Lfe.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Py(t=>this.eContainer.style.width=`${t}px`))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.columnModel.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.gridOptionsService.getScrollbarWidth();n&&(t+=i),Ta(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(o+=i),Ta(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=i)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,n=this.gridOptionsService.is("suppressHorizontalScroll"),i=e&&this.gridOptionsService.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),fp(this.getGui(),s),fp(this.eViewport,s),fp(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return rE(this.getViewport(),this.enableRtl)}setScrollPosition(e){Zh(this.getViewport())||this.attemptSettingScrollPosition(e),iE(this.getViewport(),e,this.enableRtl)}};Vy.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;sR([pe("eLeftSpacer")],Vy.prototype,"eLeftSpacer",void 0);sR([pe("eRightSpacer")],Vy.prototype,"eRightSpacer",void 0);sR([x("columnModel")],Vy.prototype,"columnModel",void 0);sR([x("pinnedRowModel")],Vy.prototype,"pinnedRowModel",void 0);sR([ge],Vy.prototype,"postConstruct",null);var eU=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let sx=class extends de{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:A.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:A.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};eU([x("columnModel")],sx.prototype,"columnModel",void 0);eU([ge],sx.prototype,"postConstruct",null);sx=eU([De("pinnedWidthService")],sx);var TM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let fE=class extends de{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const t=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(t)),this.dispatchExpandedDebounced()}};TM([x("animationFrameService")],fE.prototype,"animationFrameService",void 0);TM([x("rowModel")],fE.prototype,"rowModel",void 0);TM([ge],fE.prototype,"postConstruct",null);fE=TM([De("rowNodeEventThrottle")],fE);var of=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nq=function(r,e){return function(t,n){e(t,n,r)}},vk;function fQe(r){if(typeof r=="number")return r;if(typeof r=="string")return parseInt(r,10)}function Vb(r){return r===!0||r==="true"}let Nu=vk=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new La,this.globalEventHandlerFactory=e=>(t,n)=>{if(this.destroyed)return;const i=vk.alwaysSyncGlobalEvents.has(t);if(i&&!e||!i&&e)return;const o=mr.getCallbackForEvent(t);typeof this.gridOptions[o]=="function"&&this.gridOptions[o](n)}}get context(){return this.gridOptions.context}agWire(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t}init(){this.gridOptionLookup=new Set([...mr.ALL_PROPERTIES,...mr.EVENT_CALLBACKS]);const e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(e){return Vb(this.gridOptions[e])}get(e){return this.gridOptions[e]}getNum(e){return fQe(this.gridOptions[e])}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return he(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>{const i=n;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,e(i)})}__setPropertyOnly(e,t){const n=this.gridOptions[e];return this.gridOptionLookup.has(e)&&(this.gridOptions[e]=t),n!==t}set(e,t,n=!1,i={},o=void 0){if(this.gridOptionLookup.has(e)){const s=this.gridOptions[e];if(n||s!==t){this.gridOptions[e]=t;const a=Object.assign({type:e,currentValue:t,previousValue:s,changeSet:o},i);this.propertyEventService.dispatchEvent(a)}}}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:zde();t!=null&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:A.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&dt(this.gridOptions.rowModelType)}isDomLayout(e){var t;return((t=this.gridOptions.domLayout)!==null&&t!==void 0?t:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,t=!1,n){if(n==null&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:n,estimated:!0};const o={node:e,data:e.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Ut(()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||dt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const n=e[this.getDomDataKey()];return n?n[t]:void 0}setDomData(e,t,n){const i=this.getDomDataKey();let o=e[i];dt(o)&&(o={},e[i]=o),o[t]=n}getDocument(){let e=null;return this.gridOptions.getDocument&&he(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&he(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return he(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.is("ensureDomOrder")?!1:this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(e!=null&&e.comparator)&&!this.is("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(Vb(e))return()=>!0}isGroupIncludeFooterTrueOrCallback(){const e=this.gridOptions.groupIncludeFooter;return Vb(e)||typeof e=="function"}getGroupIncludeFooter(){const e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):Vb(e)?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?YV("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType?YV("groupRows",this.gridOptions.groupDisplayType):!1}};Nu.alwaysSyncGlobalEvents=new Set([A.EVENT_GRID_PRE_DESTROYED]);of([x("gridOptions")],Nu.prototype,"gridOptions",void 0);of([x("eventService")],Nu.prototype,"eventService",void 0);of([x("environment")],Nu.prototype,"environment",void 0);of([x("eGridDiv")],Nu.prototype,"eGridDiv",void 0);of([nq(0,To("gridApi")),nq(1,To("columnApi"))],Nu.prototype,"agWire",null);of([ge],Nu.prototype,"init",null);of([Bi],Nu.prototype,"destroy",null);Nu=vk=of([De("gridOptionsService")],Nu);var pQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let rq=class extends de{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(n,i,o)=>e({key:n,defaultValue:i,variableValues:o});const t=this.gridOptionsService.get("localeText");return(n,i,o)=>{let s=t&&t[n];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??i}}};rq=pQe([De("localeService")],rq);var gQe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Nfe=class Gfe extends Og{constructor(){super(Gfe.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new iM(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,A.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,n=e&&this.gridOptionsService.getScrollbarWidth()||0,i=n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ta(this.getGui(),i),Ta(this.eViewport,i),Ta(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const t=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=t.scrollTop&&(this.eViewport.scrollTop=t.scrollTop)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e){Zh(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};Nfe.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;gQe([ge],Nfe.prototype,"postConstruct",null);var Dg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const iq={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},oq=["january","february","march","april","may","june","july","august","september","october","november","december"];let kh=class extends de{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([i,o])=>{this.dataTypeDefinitions[i]=Object.assign(Object.assign({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})});const n=(e=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&e!==void 0?e:{};this.dataTypeMatchers={},Object.entries(n).forEach(([i,o])=>{const s=this.processDataTypeDefinition(o,n,[i],t);s&&(this.dataTypeDefinitions[i]=s,o.dataTypeMatcher&&(this.dataTypeMatchers[i]=o.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(i=>{const o=this.dataTypeMatchers[i];o&&delete this.dataTypeMatchers[i],this.dataTypeMatchers[i]=o??t[i].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const n=Object.assign(Object.assign({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),n}processDataTypeDefinition(e,t,n,i){let o;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){const a=i[s];if(!this.validateDataTypeDefinition(e,a,s))return;o=this.mergeDataTypeDefinitions(a,e)}else{if(n.includes(s)){Ut(()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.'),"dataTypeExtendsCircularRef");return}const a=t[s];if(!this.validateDataTypeDefinition(e,a,s))return;const l=this.processDataTypeDefinition(a,t,[...n,s],i);if(!l)return;o=this.mergeDataTypeDefinitions(l,e)}return Object.assign(Object.assign({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})}validateDataTypeDefinition(e,t,n){return t?t.baseDataType!==e.baseDataType?(Ut(()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.'),"dataTypeBaseTypesMatch"),!1):!0:(Ut(()=>console.warn(`AG Grid: The data type definition ${n} does not exist.`),"dataTypeDefMissing"+n),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var n,i;if(!((n=t.node)===null||n===void 0)&&n.group){const o=t.column.getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&o!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.value}))}}}return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive())return typeof t.value!="string"||!((i=e.dataTypeMatcher)===null||i===void 0)&&i.call(e,t.value)?e.valueFormatter(t):void 0;return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,n){let{cellDataType:i}=t;const{field:o}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(o,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){Ut(()=>console.warn(`AG Grid: Missing data type definition - "${i}"`),"dataTypeMissing"+i);return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,n),s.columnTypes}updateColDefAndGetColumnType(e,t,n){var i,o;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,n),a=(o=(i=t.type)!==null&&i!==void 0?i:s)!==null&&o!==void 0?o:e.type;return e.type=a,a?this.convertColumnTypes(a):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.addEventListener(rt.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(rt.EVENT_STATE_UPDATED,n))}canInferCellDataType(e,t){var n;if(this.rowModel.getType()!=="clientSide")return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const o=t.type===null?e.type:t.type;if(o){const s=(n=this.gridOptionsService.get("columnTypes"))!==null&&n!==void 0?n:{};if(this.convertColumnTypes(o).some(l=>{const u=s[l.trim()];return u&&this.doColDefPropsPreventInference(u,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>this.doesColDefPropPreventInference(e,t,n,i))}doesColDefPropPreventInference(e,t,n,i){if(!t[n])return!1;const o=e[n];return o===null?(t[n]=!1,!1):i===void 0?!!o:o===i}inferCellDataType(e,t){var n;if(!e)return;let i;const o=this.getInitialData();if(o){const a=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");i=Zm(o,e,a)}else this.initWaitForRowData(t);if(i==null)return;const[s]=(n=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(i)))!==null&&n!==void 0?n:["object"];return s}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const n=this.addManagedListener(this.eventService,A.EVENT_ROW_DATA_UPDATE_STARTED,i=>{const{firstRowData:o}=i;if(!o)return;n==null||n(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();const s={type:A.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(s)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.columnStateUpdateListenerDestroyFuncs.forEach(s=>s()),this.columnStateUpdateListenerDestroyFuncs=[];const i={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,a])=>{const l=this.columnModel.getGridColumn(s);if(!l)return;const u=l.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(l))return;const c=l.getColDef();if(t&&c.type&&c.type!==u.type){const d=this.getUpdatedColumnState(l,a);d.rowGroup&&d.rowGroupIndex==null&&(i[s]=d),d.pivot&&d.pivotIndex==null&&(o[s]=d),n.push(d)}}),t&&n.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(i,o)),n.length&&this.columnModel.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const n=this.columnModel.getColumnStateFromColDef(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(i=>typeof i!="string")?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))===null||t===void 0?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const i=(n=this.getDataTypeDefinition(e))===null||n===void 0?void 0:n.dataTypeMatcher;return i?i(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Ut(()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Ut(()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(e,t,n){const i=(l,u,c)=>{let d=l.getColDef().valueFormatter;return d===t.groupSafeValueFormatter&&(d=t.valueFormatter),this.valueFormatterService.formatValue(l,u,c,d)},o=Ye.__isRegistered(Te.SetFilterModule,this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?Object.assign(Object.assign({},u),l):l};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,t.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",o&&a({comparator:(l,u)=>{const c=l==null?0:parseInt(l),d=u==null?0:parseInt(u);return c===d?0:c>d?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===X.SPACE,a(o?{valueFormatter:l=>he(l.value)?s(String(l.value),l.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,u)=>u===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=l=>i(l.column,l.node,l.value),o&&a({valueFormatter:l=>{const u=i(l.column,l.node,l.value);return he(u)?u:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,u)=>{if(u===1&&l!=null){const c=oq[Number(l)-1];return s(c,iq[c])}return l??s("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=u=>i(u.column,u.node,u.value);const l=this.getDateParserFunction();a(o?{valueFormatter:u=>{const c=i(u.column,u.node,u.value);return he(c)?c:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const c=l(u??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(u,c)=>{if(c===1&&u!=null){const d=oq[Number(u)-1];return s(d,iq[d])}return u??s("blanks","(Blanks)")}}:{comparator:(u,c)=>{const d=l(c);return c==null||d<u?-1:d>u?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,u)=>{const c=this.columnModel.getPrimaryColumn(n),d=c==null?void 0:c.getColDef();if(!c||!d)return 0;const h=l==null?"":i(c,null,l),f=u==null?"":i(c,null,u);return h===f?0:h>f?1:-1},e.keyCreator=l=>i(l.column,l.node,l.value),o?a({valueFormatter:l=>{const u=i(l.column,l.node,l.value);return he(u)?u:s("blanks","(Blanks)")}}):e.filterValueGetter=l=>i(l.column,l.node,this.valueService.getValue(l.column,l.node));break}}}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>n.newValue===""?null:Number(n.newValue),valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:QS(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>n.newValue===""?null:String(n.newValue).toLowerCase()==="true",valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>js(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>{var i;return n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):(i=Gc(n.value,!1))!==null&&i!==void 0?i:""},dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>{var i;return(i=js(n))!==null&&i!==void 0?i:void 0},dateFormatter:n=>{var i;return(i=Gc(n??null,!1))!==null&&i!==void 0?i:void 0},valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>{var i;return(i=QS(n.value))!==null&&i!==void 0?i:""}}}}};Dg([x("rowModel")],kh.prototype,"rowModel",void 0);Dg([x("columnModel")],kh.prototype,"columnModel",void 0);Dg([x("columnUtils")],kh.prototype,"columnUtils",void 0);Dg([x("valueService")],kh.prototype,"valueService",void 0);Dg([x("valueFormatterService")],kh.prototype,"valueFormatterService",void 0);Dg([ge],kh.prototype,"init",null);kh=Dg([De("dataTypeService")],kh);var Vfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let yk=class extends de{parseValue(e,t,n,i){const o=e.getColDef(),s={node:t,data:t==null?void 0:t.data,oldValue:i,newValue:n,colDef:o,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},a=o.valueParser;return he(a)?typeof a=="function"?a(s):this.expressionService.evaluate(a,s):n}};Vfe([x("expressionService")],yk.prototype,"expressionService",void 0);yk=Vfe([De("valueParserService")],yk);var sq;(function(r){r.InsideBase="insideBase",r.InsideEnd="insideEnd",r.Center="center",r.OutsideEnd="outsideEnd"})(sq||(sq={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */const ky=typeof global>"u"?{}:global;ky.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;ky.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;ky.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;ky.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;ky.Node=typeof Node>"u"?{}:Node;ky.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;let tU=class xw{constructor(e,t,n,i,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=xw.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")}getCopyOfNodesMap(){return q.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,n=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(i=>this.createNode(i,this.rootNode,xw.TOP_LEVEL)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=t.childrenAfterFilter,n.childrenAfterGroup=t.childrenAfterGroup,n.childrenAfterAggFilter=t.childrenAfterAggFilter,n.childrenAfterSort=t.childrenAfterSort,n.childrenMapped=t.childrenMapped,n.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&q.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n}dispatchRowDataUpdateStartedEvent(e){const t={type:A.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)}updateSelection(e,t){const n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){const i={type:A.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}}executeAdd(e,t){var n;const{add:i,addIndex:o}=e;if(q.missingOrEmpty(i))return;const s=i.map(a=>this.createNode(a,this.rootNode,xw.TOP_LEVEL));if(typeof o=="number"&&o>=0){const{allLeafChildren:a}=this.rootNode,l=a.length;let u=o;if(this.gridOptionsService.is("treeData")&&o>0&&l>0){for(let f=0;f<l;f++)if(((n=a[f])===null||n===void 0?void 0:n.rowIndex)==o-1){u=f+1;break}}const d=a.slice(0,u),h=a.slice(u,a.length);this.rootNode.allLeafChildren=[...d,...s,...h]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...s];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=s}executeRemove(e,t,n){const{remove:i}=e;if(q.missingOrEmpty(i))return;const o={};i.forEach(s=>{const a=this.lookupRowNode(s);a&&(a.isSelected()&&n.push(a),a.clearRowTopAndRowIndex(),o[a.id]=!0,delete this.allNodesMap[a.id],t.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(s=>!o[s.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,n){const{update:i}=e;q.missingOrEmpty(i)||i.forEach(o=>{const s=this.lookupRowNode(o);s&&(s.updateData(o),!s.selectable&&s.isSelected()&&n.push(s),this.setMasterForRow(s,o,xw.TOP_LEVEL,!1),t.update.push(s))})}lookupRowNode(e){const t=this.gridOptionsService.getCallback("getRowId");let n;if(t){const i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return console.error(`AG Grid: could not find row id=${i}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren.find(i=>i.data===e),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,t,n){const i=new Ke(this.beans);return i.group=!1,this.setMasterForRow(i,e,n,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn(`AG Grid: duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(e,t,n,i){if(this.gridOptionsService.is("treeData"))e.setMaster(!1),i&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),i){const s=this.columnModel.getRowGroupColumns(),a=s?s.length:0,l=n+a;e.expanded=e.master?this.isExpanded(l):!1}}isExpanded(e){const t=this.gridOptionsService.getNum("groupDefaultExpanded");return t===-1?!0:e<t}};tU.TOP_LEVEL=0;tU.ROOT_NODE_ID="ROOT_NODE_ID";var ps=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zl;(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"})(Zl||(Zl={}));let go=class extends de{constructor(){super(...arguments),this.onRowHeightChanged_debounced=q.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const e=this.refreshModel.bind(this,{step:hn.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:hn.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:hn.PIVOT})),this.addManagedListener(this.eventService,A.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,A.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const i=this.refreshModel.bind(this,{step:hn.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],i);const o=this.refreshModel.bind(this,{step:hn.AGGREGATE,keepRenderedRows:!0,animate:t});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],o),this.rootNode=new Ke(this.beans),this.nodeManager=new tU(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",()=>{this.setRowData(this.rootNode.allLeafChildren.map(s=>s.data))})}start(){const e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)}ensureRowHeightsValid(e,t,n,i){let o,s=!1;do{o=!1;const a=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(a,n),c=Math.min(l,i);for(let d=u;d<=c;d++){const h=this.getRow(d);if(h.rowHeightEstimated){const f=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(f.height),o=!0,s=!0}}o&&this.setRowTopAndRowIndex()}while(o);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const n=new Set,i=this.gridOptionsService.isDomLayout("normal");for(let o=0;o<this.rowsToDisplay.length;o++){const s=this.rowsToDisplay[o];if(s.id!=null&&n.add(s.id),s.rowHeight==null){const a=this.gridOptionsService.getRowHeightForNode(s,i,e);s.setRowHeight(a.height,a.estimated)}s.setRowTop(t),s.setRowIndex(o),t+=s.rowHeight}return n}clearRowTopAndRowIndex(e,t){const n=e.isActive(),i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},o=s=>{if(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const a=s.level==-1;n&&!a&&!s.expanded||s.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(e,t,n=0){const i=this.getRowIndexAtPixel(t),o=this.getRow(i),s=!this.gridOptionsService.is("suppressAnimationFrame");return o===e[0]?!1:(e.forEach(a=>{q.removeFromArray(this.rootNode.allLeafChildren,a)}),e.forEach((a,l)=>{q.insertIntoArray(this.rootNode.allLeafChildren,a,Math.max(i+n,0)+l)}),this.refreshModel({step:hn.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,i=n!=null?this.getRow(n):null;if(!i||!e||i===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const o=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(o),this.lastHighlightedRow=i}getHighlightPosition(e,t){if(!t){const o=this.getRowIndexAtPixel(e);if(t=this.getRow(o||0),!t)return _c.Below}const{rowTop:n,rowHeight:i}=t;return e-n<i/2?_c.Above:_c.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let n=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(e){if(q.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:hn.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),i=e.columns.length===0||e.columns.some(o=>o.isPrimary())?hn.FILTER:hn.FILTER_AGGREGATES;this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:hn.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:hn.PIVOT}):this.refreshModel({step:hn.AGGREGATE})}createChangePath(e){const t=q.missingOrEmpty(e),n=new jW(!1,this.rootNode);return(t||this.gridOptionsService.is("treeData"))&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(i=>i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t=hn.EVERYTHING;const n={everything:hn.EVERYTHING,group:hn.EVERYTHING,filter:hn.FILTER,map:hn.MAP,aggregate:hn.AGGREGATE,sort:hn.SORT,pivot:hn.PIVOT};if(q.exists(e)&&(t=n[e]),q.missing(t)){console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(n).join(", ")}`);return}const i=!this.gridOptionsService.is("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}}refreshModel(e){let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const n=this.createChangePath(t.rowNodeTransactions);switch(t.step){case hn.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,n,!!t.afterColumnsChanged);case hn.FILTER:this.doFilter(n);case hn.PIVOT:this.doPivot(n);case hn.AGGREGATE:this.doAggregate(n);case hn.FILTER_AGGREGATES:this.doFilterAggregates(n);case hn.SORT:this.doSort(t.rowNodeTransactions,n);case hn.MAP:this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i);const o={type:A.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(o)}isEmpty(){const e=q.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return q.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return q.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!t,i=!1;const o=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(a=>{if(i)return;if(n&&(a===t||a===e)&&(i=!0,a.group&&s)){o.push(...a.allLeafChildren);return}if(!n){if(a!==t&&a!==e)return;n=!0}if(!a.group||!s){o.push(a);return}}),o}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(q.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let o=-1,s=-1;for(;;){const a=Math.floor((t+n)/2),l=this.rowsToDisplay[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?t=a+1:l.rowTop>e&&(n=a-1),o===t&&s===n))return a;o=t,s=n}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:Zl.Normal,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:Zl.AfterFilter,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:Zl.AfterFilterAndSort,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Zl.PivotNodes,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:n,callback:i,recursionType:o,includeFooterNodes:s}=e;let{index:a}=e;for(let c=0;c<n.length;c++){const d=n[c];if(i(d,a++),d.hasChildren()&&!d.footer){let h=null;switch(o){case Zl.Normal:h=d.childrenAfterGroup;break;case Zl.AfterFilter:h=d.childrenAfterAggFilter;break;case Zl.AfterFilterAndSort:h=d.childrenAfterSort;break;case Zl.PivotNodes:h=d.leafGroup?null:d.childrenAfterSort;break}h&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...h],callback:i,recursionType:o,index:a,includeFooterNodes:s}))}}const l=(t=n[0])===null||t===void 0?void 0:t.parent;if(!s||!l)return a;if(l===this.rootNode){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return a}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:l}))return a;return l.createFooter(),i(l.sibling,a++),a}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.is("treeData"),n=this.columnModel.isPivotActive(),i=a=>{a&&a.forEach(l=>{const u=()=>{l.expanded=e,i(l.childrenAfterGroup)};if(t){q.exists(l.childrenAfterGroup)&&u();return}if(n){!l.leafGroup&&u();return}l.group&&u()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:hn.MAP});const o=e?"expandAll":"collapseAll",s={type:A.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(s)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,n,i,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const a={type:A.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(a)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()}restoreGroupState(e){e&&q.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,n)=>{typeof e[n]=="boolean"&&(t.expanded=e[n])})}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const e={};return q.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,n)=>e[n]=t.expanded),e}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(Ke.ID_PREFIX_ROW_GROUP)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)}setRowData(e){const t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");const n={type:A.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:hn.EVERYTHING,groupState:t,newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let n=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(i=>{const o=this.nodeManager.updateRowData(i.rowDataTransaction,void 0);t.push(o),i.callback&&e.push(i.callback.bind(null,o)),typeof i.rowDataTransaction.addIndex=="number"&&(n=!0)}),this.commonUpdateRowData(t,void 0,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0){const i={type:A.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(i)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const n=this.nodeManager.updateRowData(e,t),i=typeof e.addIndex=="number";return this.commonUpdateRowData([n],t,i),n}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let n=0;n<this.rootNode.allLeafChildren.length;n++){const i=this.rootNode.allLeafChildren[n];t[i.id]=n}return t}commonUpdateRowData(e,t,n){const i=!this.gridOptionsService.is("suppressAnimationFrame");n&&(t=this.createRowNodeOrder()),this.refreshModel({step:hn.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.filterManager.onNewRowsLoaded("rowDataUpdated");const o={type:A.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(o)}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:hn.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};ps([x("columnModel")],go.prototype,"columnModel",void 0);ps([x("selectionService")],go.prototype,"selectionService",void 0);ps([x("filterManager")],go.prototype,"filterManager",void 0);ps([x("valueCache")],go.prototype,"valueCache",void 0);ps([x("beans")],go.prototype,"beans",void 0);ps([x("filterStage")],go.prototype,"filterStage",void 0);ps([x("sortStage")],go.prototype,"sortStage",void 0);ps([x("flattenStage")],go.prototype,"flattenStage",void 0);ps([Bt("groupStage")],go.prototype,"groupStage",void 0);ps([Bt("aggregationStage")],go.prototype,"aggregationStage",void 0);ps([Bt("pivotStage")],go.prototype,"pivotStage",void 0);ps([Bt("filterAggregatesStage")],go.prototype,"filterAggregatesStage",void 0);ps([ge],go.prototype,"init",null);go=ps([De("rowModel")],go);var kfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ax=class extends de{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};kfe([x("filterService")],ax.prototype,"filterService",void 0);ax=kfe([De("filterStage")],ax);var PM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Wv=class extends de{execute(e){const t=this.sortController.getSortOptions(),n=q.exists(t)&&t.length>0,i=n&&q.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),o=t.some(s=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,n,i,e.rowNodeTransactions,e.changedPath,o)}};PM([x("sortService")],Wv.prototype,"sortService",void 0);PM([x("sortController")],Wv.prototype,"sortController",void 0);PM([x("columnModel")],Wv.prototype,"columnModel",void 0);Wv=PM([De("sortStage")],Wv);var nU=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let pE=class extends de{execute(e){const t=e.rowNode,n=[],i=this.columnModel.isPivotMode(),o=i&&t.leafGroup,s=o?[t]:t.childrenAfterSort,a=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(a,s,n,i,0);const l=n.length>0;return!o&&l&&a.groupIncludeTotalFooter&&(t.createFooter(),this.addRowNodeToRowsToDisplay(a,t.sibling,n,0)),n}getFlattenDetails(){const e=this.gridOptionsService.is("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(e,t,n,i,o){if(!q.missingOrEmpty(t))for(let s=0;s<t.length;s++){const a=t[s],l=a.hasChildren(),u=i&&!l,c=e.groupRemoveSingleChildren&&l&&a.childrenAfterGroup.length===1,d=e.groupRemoveLowestSingleChildren&&l&&a.leafGroup&&a.childrenAfterGroup.length===1,h=i&&a.leafGroup,f=e.hideOpenParents&&a.expanded&&!a.master&&!h;if(!u&&!f&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,a,n,o),!(i&&a.leafGroup)){if(l){const g=c||d;if(a.expanded||g){const C=g?o:o+1;this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,n,i,C),e.getGroupIncludeFooter({node:a})?(a.createFooter(),this.addRowNodeToRowsToDisplay(e,a.sibling,n,C)):a.destroyFooter()}}else if(a.master&&a.expanded){const g=this.createDetailNode(a);this.addRowNodeToRowsToDisplay(e,g,n,o)}}}}addRowNodeToRowsToDisplay(e,t,n,i){n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}createDetailNode(e){if(q.exists(e.detailNode))return e.detailNode;const t=new Ke(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,q.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};nU([x("columnModel")],pE.prototype,"columnModel",void 0);nU([x("beans")],pE.prototype,"beans",void 0);pE=nU([De("flattenStage")],pE);var OM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Uv=class extends de{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(e,t,n,i,o,s){const a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some(h=>h.isRowGroupActive());let u={};n&&i&&(u=this.calculateDirtyNodes(i));const c=this.columnModel.isPivotMode(),d=h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const f=c&&h.leafGroup;if(a&&l&&!h.leafGroup&&!s){const g=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort){const C={};h.childrenAfterSort.forEach((m,y)=>{C[m.id]=y}),g.sort((m,y)=>{var w,E;return((w=C[m.id])!==null&&w!==void 0?w:0)-((E=C[y.id])!==null&&E!==void 0?E:0)})}h.childrenAfterSort=g}else!t||f?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):n?h.childrenAfterSort=this.doDeltaSort(h,u,o,e):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),this.postSortFunc){const g={nodes:h.childrenAfterSort};this.postSortFunc(g)}};o&&o.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(e){const t={},n=i=>{i&&i.forEach(o=>t[o.id]=!0)};return e&&e.forEach(i=>{n(i.add),n(i.update),n(i.remove)}),t}doDeltaSort(e,t,n,i){const o=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(o,i);const a={},l=[];o.forEach(h=>{t[h.id]||!n.canSkip(h)?l.push(h):a[h.id]=!0});const u=s.filter(h=>a[h.id]),c=(h,f)=>({currentPos:f,rowNode:h}),d=l.map(c).sort((h,f)=>this.rowNodeSorter.compareRowNodes(i,h,f));return this.mergeSortedArrays(i,d,u.map(c)).map(({rowNode:h})=>h)}mergeSortedArrays(e,t,n){const i=[];let o=0,s=0;for(;o<t.length&&s<n.length;)this.rowNodeSorter.compareRowNodes(e,t[o],n[s])<0?i.push(t[o++]):i.push(n[s++]);for(;o<t.length;)i.push(t[o++]);for(;s<n.length;)i.push(n[s++]);return i}updateChildIndexes(e){if(q.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],o=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(o),i.setLastChild(s),i.setChildIndex(n)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.is("treeData")){const n="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return q.doOnce(()=>console.warn(n),"sortService.hideOpenParentsWithTreeData"),!1}const t=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(i=>{i.hasChildren()&&t(i)})};e&&e.executeFromRootNode(n=>t(n))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.is("groupHideOpenParents")||q.missing(e)||e.forEach(n=>{this.columnModel.getGroupDisplayColumns().forEach(o=>{const s=o.getColDef().showRowGroup;if(typeof s!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=s,l=this.columnModel.getPrimaryColumn(a);if(l!==n.rowGroupColumn)if(t)n.setGroupValue(o.getId(),void 0);else{const c=n.getFirstChildOfFirstChild(l);c&&n.setGroupValue(o.getId(),c.key)}})})}};OM([x("columnModel")],Uv.prototype,"columnModel",void 0);OM([x("rowNodeSorter")],Uv.prototype,"rowNodeSorter",void 0);OM([ge],Uv.prototype,"init",null);Uv=OM([De("sortService")],Uv);var Hfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let lx=class extends de{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(i,o)=>{i.hasChildren()&&e&&!o?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const a=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,l=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return a||l}):i.childrenAfterFilter=i.childrenAfterGroup,i.sibling&&(i.sibling.childrenAfterFilter=i.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const i=(s,a)=>{if(s.childrenAfterGroup)for(let l=0;l<s.childrenAfterGroup.length;l++){const u=s.childrenAfterGroup[l],c=a||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(s.childrenAfterGroup[l],c):n(u,c)}n(s,a)},o=s=>i(s,!1);t.executeFromRootNode(o)}else{const i=o=>n(o,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};Hfe([x("filterManager")],lx.prototype,"filterManager",void 0);lx=Hfe([De("filterService")],lx);var DM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let zv=class extends de{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel)}isActive(){const e=this.gridOptionsService.exists("getRowId");return this.gridOptionsService.is("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[n,i]=t;this.clientSideRowModel.updateRowData(n,i)}createTransactionForRowData(e){if(q.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const t=this.gridOptionsService.getCallback("getRowId");if(t==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return q.exists(e)&&e.forEach((a,l)=>{const u=t({data:a,level:0}),c=i[u];s&&(s[u]=l),c?(c.data!==a&&n.update.push(a),i[u]=void 0):n.add.push(a)}),q.iterateObject(i,(a,l)=>{l&&n.remove.push(l.data)}),[n,s]}};DM([x("rowModel")],zv.prototype,"rowModel",void 0);DM([x("rowRenderer")],zv.prototype,"rowRenderer",void 0);DM([ge],zv.prototype,"postConstruct",null);zv=DM([De("immutableService")],zv);const mQe="30.2.1",l_t={version:mQe,moduleName:Te.ClientSideRowModelModule,rowModel:"clientSide",beans:[go,ax,Wv,pE,Uv,lx,zv]};class vQe{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let n=e[0],i=e[1],o=e[2],s=e[3];n=this.ff(n,i,o,s,t[0],7,-680876936),s=this.ff(s,n,i,o,t[1],12,-389564586),o=this.ff(o,s,n,i,t[2],17,606105819),i=this.ff(i,o,s,n,t[3],22,-1044525330),n=this.ff(n,i,o,s,t[4],7,-176418897),s=this.ff(s,n,i,o,t[5],12,1200080426),o=this.ff(o,s,n,i,t[6],17,-1473231341),i=this.ff(i,o,s,n,t[7],22,-45705983),n=this.ff(n,i,o,s,t[8],7,1770035416),s=this.ff(s,n,i,o,t[9],12,-1958414417),o=this.ff(o,s,n,i,t[10],17,-42063),i=this.ff(i,o,s,n,t[11],22,-1990404162),n=this.ff(n,i,o,s,t[12],7,1804603682),s=this.ff(s,n,i,o,t[13],12,-40341101),o=this.ff(o,s,n,i,t[14],17,-1502002290),i=this.ff(i,o,s,n,t[15],22,1236535329),n=this.gg(n,i,o,s,t[1],5,-165796510),s=this.gg(s,n,i,o,t[6],9,-1069501632),o=this.gg(o,s,n,i,t[11],14,643717713),i=this.gg(i,o,s,n,t[0],20,-373897302),n=this.gg(n,i,o,s,t[5],5,-701558691),s=this.gg(s,n,i,o,t[10],9,38016083),o=this.gg(o,s,n,i,t[15],14,-660478335),i=this.gg(i,o,s,n,t[4],20,-405537848),n=this.gg(n,i,o,s,t[9],5,568446438),s=this.gg(s,n,i,o,t[14],9,-1019803690),o=this.gg(o,s,n,i,t[3],14,-187363961),i=this.gg(i,o,s,n,t[8],20,1163531501),n=this.gg(n,i,o,s,t[13],5,-1444681467),s=this.gg(s,n,i,o,t[2],9,-51403784),o=this.gg(o,s,n,i,t[7],14,1735328473),i=this.gg(i,o,s,n,t[12],20,-1926607734),n=this.hh(n,i,o,s,t[5],4,-378558),s=this.hh(s,n,i,o,t[8],11,-2022574463),o=this.hh(o,s,n,i,t[11],16,1839030562),i=this.hh(i,o,s,n,t[14],23,-35309556),n=this.hh(n,i,o,s,t[1],4,-1530992060),s=this.hh(s,n,i,o,t[4],11,1272893353),o=this.hh(o,s,n,i,t[7],16,-155497632),i=this.hh(i,o,s,n,t[10],23,-1094730640),n=this.hh(n,i,o,s,t[13],4,681279174),s=this.hh(s,n,i,o,t[0],11,-358537222),o=this.hh(o,s,n,i,t[3],16,-722521979),i=this.hh(i,o,s,n,t[6],23,76029189),n=this.hh(n,i,o,s,t[9],4,-640364487),s=this.hh(s,n,i,o,t[12],11,-421815835),o=this.hh(o,s,n,i,t[15],16,530742520),i=this.hh(i,o,s,n,t[2],23,-995338651),n=this.ii(n,i,o,s,t[0],6,-198630844),s=this.ii(s,n,i,o,t[7],10,1126891415),o=this.ii(o,s,n,i,t[14],15,-1416354905),i=this.ii(i,o,s,n,t[5],21,-57434055),n=this.ii(n,i,o,s,t[12],6,1700485571),s=this.ii(s,n,i,o,t[3],10,-1894986606),o=this.ii(o,s,n,i,t[10],15,-1051523),i=this.ii(i,o,s,n,t[1],21,-2054922799),n=this.ii(n,i,o,s,t[8],6,1873313359),s=this.ii(s,n,i,o,t[15],10,-30611744),o=this.ii(o,s,n,i,t[6],15,-1560198380),i=this.ii(i,o,s,n,t[13],21,1309151649),n=this.ii(n,i,o,s,t[4],6,-145523070),s=this.ii(s,n,i,o,t[11],10,-1120210379),o=this.ii(o,s,n,i,t[2],15,718787259),i=this.ii(i,o,s,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(i,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(s,e[3])}cmn(e,t,n,i,o,s){return t=this.add32(this.add32(t,e),this.add32(i,s)),this.add32(t<<o|t>>>32-o,n)}ff(e,t,n,i,o,s,a){return this.cmn(t&n|~t&i,e,t,o,s,a)}gg(e,t,n,i,o,s,a){return this.cmn(t&i|n&~i,e,t,o,s,a)}hh(e,t,n,i,o,s,a){return this.cmn(t^n^i,e,t,o,s,a)}ii(e,t,n,i,o,s,a){return this.cmn(n^(t|~i),e,t,o,s,a)}md51(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let i;for(i=64;i<=e.length;i+=64)this.md5cycle(n,this.md5blk(e.substring(i-64,i)));e=e.substring(i-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<e.length;i++)o[i>>2]|=e.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(n,o),i=0;i<16;i++)o[i]=0;return o[14]=t*8,this.md5cycle(n,o),n}md5blk(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let n="",i=0;for(;i<4;i++)n+=t[e>>i*8+4&15]+t[e>>i*8&15];return n}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}}function aq(r){return r==null||r.length===0}function yQe(r,e=!1){return r!=null&&(r!==""||e)}class sr{constructor(e){this.watermarkMessage=void 0,this.document=e,this.md5=new vQe,this.md5.init()}validateLicense(){if(aq(sr.licenseKey))(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey();else if(sr.licenseKey.length>32)if(sr.licenseKey.indexOf("For_Trialing_ag-Grid_Only")!==-1)this.outputInvalidLicenseKey();else{const{md5:e,license:t,version:n,isTrial:i}=sr.extractLicenseComponents(sr.licenseKey);e===this.md5.md5(t)?yQe(n)&&n?this.validateLicenseKeyForVersion(n,!!i,t):this.validateLegacyKey(t):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()}static extractExpiry(e){const t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(sr.decode(t),10))}static extractLicenseComponents(e){let t=e.replace(/[\u200B-\u200D\uFEFF]/g,"");t=t.replace(/\r?\n|\r/g,"");const n=t.length-32,i=t.substring(n),o=t.substring(0,n),[s,a]=sr.extractBracketedInformation(t);return{md5:i,license:o,version:s,isTrial:a}}getLicenseDetails(e){const{md5:t,license:n,version:i,isTrial:o}=sr.extractLicenseComponents(e);let s=t===this.md5.md5(n)&&e.indexOf("For_Trialing_ag-Grid_Only")===-1,a=null,l=null;return s&&(l=sr.extractExpiry(n),s=!isNaN(l.getTime()),o&&(a=l<new Date)),{licenseKey:e,valid:s,expiry:s?sr.formatDate(l):null,version:i||"legacy",isTrial:o,trialExpired:a}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!aq(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const t=(this.document.defaultView||window).location,{hostname:n=""}=t;return n}isForceWatermark(){const t=(this.document.defaultView||window).location,{pathname:n}=t;return n?n.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getDate(),i=e.getMonth(),o=e.getFullYear();return n+" "+t[i]+" "+o}static getGridReleaseDate(){return new Date(parseInt(sr.decode(sr.RELEASE_INFORMATION),10))}static decode(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",i,o,s,a,l,u,c,d=0;const h=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;d<h.length;)a=t.indexOf(h.charAt(d++)),l=t.indexOf(h.charAt(d++)),u=t.indexOf(h.charAt(d++)),c=t.indexOf(h.charAt(d++)),i=a<<2|l>>4,o=(l&15)<<4|u>>2,s=(u&3)<<6|c,n=n+String.fromCharCode(i),u!=64&&(n=n+String.fromCharCode(o)),c!=64&&(n=n+String.fromCharCode(s));return n=sr.utf8_decode(n),n}static utf8_decode(e){e=e.replace(/rn/g,"n");let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(i&63|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(i&63|128))}return t}static setLicenseKey(e){this.licenseKey=e}static extractBracketedInformation(e){const t=e.split("[").filter(function(o){return o.indexOf("]")>-1}).map(function(o){return o.split("]")[0]});if(!t||t.length===0)return[null,null];const n=t.filter(o=>o==="TRIAL").length===1;return[t.filter(o=>o.indexOf("v")===0).map(o=>o.replace(/^v/,""))[0],n]}validateLicenseKeyForVersion(e,t,n){e==="2"&&(t?this.validateForTrial(n):this.validateLegacyKey(n))}validateLegacyKey(e){const t=sr.getGridReleaseDate(),n=sr.extractExpiry(e);let i=!1,o=!1;if(isNaN(n.getTime())||(i=!0,o=t<n),!i)this.outputInvalidLicenseKey();else if(!o){const s=sr.formatDate(n),a=sr.formatDate(t);this.outputIncompatibleVersion(s,a)}}validateForTrial(e){const t=sr.extractExpiry(e),n=new Date;let i=!1,o=!1;if(isNaN(t.getTime())||(i=!0,o=t>n),!i)this.outputInvalidLicenseKey();else if(!o){const s=sr.formatDate(t);this.outputExpiredTrialKey(s)}}outputInvalidLicenseKey(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error(`* Your license for AG Grid Enterprise expired on ${e}.                                                *`),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"}outputIncompatibleVersion(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error(`* license end date. The license key that you have expires on ${e}, however the version of AG Grid you    *`),console.error(`* are trying to use was released on ${t}.                                                               *`),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"}}sr.RELEASE_INFORMATION="MTY5ODkxNzc1MzgxNA==";var $fe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ux=class extends de{validateLicense(){this.licenseManager=new sr(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new sr(null).getLicenseDetails(e)}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){sr.setLicenseKey(e)}};$fe([VF],ux.prototype,"validateLicense",null);ux=$fe([De("licenseManager")],ux);var rU=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class AM extends ke{constructor(){super(`<div class="ag-watermark">
                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`)}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}}rU([x("licenseManager")],AM.prototype,"licenseManager",void 0);rU([pe("eLicenseTextRef")],AM.prototype,"eLicenseTextRef",void 0);rU([ge],AM.prototype,"postConstruct",null);const CQe="30.2.1",aR={version:CQe,moduleName:Te.EnterpriseCoreModule,beans:[ux],agStackComponents:[{componentName:"AgWatermark",componentClass:AM}]};class wQe{constructor(e,t,n,i,o,s,a,l,u,c){this.rowModel=e,this.filterParams=t,this.createKey=n,this.caseFormat=i,this.columnModel=o,this.valueService=s,this.treeDataOrGrouping=a,this.treeData=l,this.getDataPath=u,this.groupAllowUnbalanced=c}extractUniqueValues(e,t){const n=new Map,i=this.extractExistingFormattedKeys(t),o=new Set,s=this.treeData&&!!this.getDataPath,a=this.columnModel.getRowGroupColumns(),l=(u,c)=>{const d=this.caseFormat(u);if(!o.has(d)){o.add(d);let h=u,f=q.makeNull(c);const p=i==null?void 0:i.get(d);p!=null&&(h=p,f=t.get(p)),n.set(h,f)}};return this.rowModel.forEachLeafNode(u=>{if(!u.data||!e(u))return;if(this.treeDataOrGrouping){this.addValueForTreeDataOrGrouping(u,s,a,l);return}let c=this.getValue(u);if(this.filterParams.convertValuesToStrings){this.addValueForConvertValuesToString(u,c,l);return}c!=null&&Array.isArray(c)?(c.forEach(d=>{l(this.createKey(d,u),d)}),c.length===0&&l(null,null)):l(this.createKey(c,u),c)}),n}addValueForConvertValuesToString(e,t,n){const i=this.createKey(t,e);i!=null&&Array.isArray(i)?(i.forEach(o=>{const s=q.toStringOrNull(q.makeNull(o));n(s,s)}),i.length===0&&n(null,null)):n(i,i)}addValueForTreeDataOrGrouping(e,t,n,i){var o;let s;if(t){if(!((o=e.childrenAfterGroup)===null||o===void 0)&&o.length)return;s=this.getDataPath(e.data)}else s=n.map(a=>this.valueService.getKeyForNode(a,e)),s.push(this.getValue(e));s&&(s=s.map(a=>q.toStringOrNull(q.makeNull(a)))),!t&&this.groupAllowUnbalanced&&(s!=null&&s.some(a=>a==null))&&(s=s.filter(a=>a!=null)),i(this.createKey(s),s)}getValue(e){const{api:t,colDef:n,column:i,columnApi:o,context:s}=this.filterParams;return this.filterParams.valueGetter({api:t,colDef:n,column:i,columnApi:o,context:s,data:e.data,getValue:a=>e.data[a],node:e})}extractExistingFormattedKeys(e){if(!e)return null;const t=new Map;return e.forEach((n,i)=>{t.set(this.caseFormat(i),i)}),t}}class io{}io.SELECT_ALL="__AG_SELECT_ALL__";io.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__";class SQe{constructor(e,t,n,i){this.valueFormatterService=e,this.valueFormatter=t,this.formatter=n,this.column=i,this.displayedKeys=[]}updateDisplayedValuesToAllAvailable(e,t,n){this.displayedKeys=Array.from(n)}updateDisplayedValuesToMatchMiniFilter(e,t,n,i,o){this.displayedKeys=[];for(let s of n)if(s==null)o&&this.displayedKeys.push(s);else{const a=e(s),l=this.valueFormatterService.formatValue(this.column,null,a,this.valueFormatter,!1),u=this.formatter(l);i(u)&&this.displayedKeys.push(s)}}getDisplayedValueCount(){return this.displayedKeys.length}getDisplayedItem(e){return this.displayedKeys[e]}getSelectAllItem(){return io.SELECT_ALL}getAddSelectionToFilterItem(){return io.ADD_SELECTION_TO_FILTER}getDisplayedKeys(){return this.displayedKeys}forEachDisplayedKey(e){this.displayedKeys.forEach(e)}someDisplayedKey(e){return this.displayedKeys.some(e)}hasGroups(){return!1}refresh(){}}class xM{constructor(e,t,n,i){this.formatter=e,this.treeListPathGetter=t,this.treeListFormatter=n,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:io.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:io.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:io.ADD_SELECTION_TO_FILTER,expanded:!0,key:io.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}updateDisplayedValuesToAllAvailable(e,t,n,i){i==="reload"?this.generateItemTree(e,t,n):i==="otherFilter"?(this.updateAvailable(n),this.updateExpandAll()):i==="miniFilter"&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()}updateDisplayedValuesToMatchMiniFilter(e,t,n,i,o,s){s==="reload"?this.generateItemTree(e,t,n):s==="otherFilter"&&this.updateAvailable(n),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()}generateItemTree(e,t,n){var i;this.allDisplayedItemsTree=[],this.groupsExist=!1;const o=this.getTreeListPathGetter(e,n);for(let s of t){const a=e(s),l=(i=o(a))!==null&&i!==void 0?i:[null];l.length>1&&(this.groupsExist=!0);const u=n.has(s);let c=this.allDisplayedItemsTree,d,h=[];l.forEach((f,p)=>{c||(c=[],d.children=c),d=c.find(g=>{var C;return((C=g.treeKey)===null||C===void 0?void 0:C.toUpperCase())===(f==null?void 0:f.toUpperCase())}),d||(d={treeKey:f,depth:p,filterPasses:!0,expanded:!1,available:u,parentTreeKeys:h},p===l.length-1&&(d.key=s),c.push(d)),c=d.children,h=[...h,f]})}this.updateAvailable(n),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1}getTreeListPathGetter(e,t){if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return i=>i;let n=!1;for(const i of t){const o=e(i);if(o instanceof Date){n=!0;break}else if(o!=null)break}return n?xM.DATE_TREE_LIST_PATH_GETTER:(q.doOnce(()=>console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),"getTreeListPathGetter"),i=>[String(i)])}flattenItems(){this.activeDisplayedItemsFlat=[];const e=t=>{t.forEach(n=>{!n.filterPasses||!n.available||(this.activeDisplayedItemsFlat.push(n),n.children&&n.expanded&&e(n.children))})};e(this.allDisplayedItemsTree)}resetFilter(){const e=t=>{t.children&&t.children.forEach(n=>{e(n)}),t.filterPasses=!0};this.allDisplayedItemsTree.forEach(t=>e(t))}updateFilter(e,t){const n=i=>i.available?i.treeKey==null?t:e(this.formatter(this.treeListFormatter?this.treeListFormatter(i.treeKey,i.depth,i.parentTreeKeys):i.treeKey)):!1;this.allDisplayedItemsTree.forEach(i=>this.recursiveItemCheck(i,!1,n,"filterPasses"))}getDisplayedValueCount(){return this.activeDisplayedItemsFlat.length}getDisplayedItem(e){return this.activeDisplayedItemsFlat[e]}getSelectAllItem(){return this.selectAllItem}getAddSelectionToFilterItem(){return this.addSelectionToFilterItem}getDisplayedKeys(){const e=[];return this.forEachDisplayedKey(t=>e.push(t)),e}forEachDisplayedKey(e){const t=(n,i)=>{n.children?(!n.expanded||!i)&&n.children.forEach(o=>{o.filterPasses&&t(o,!1)}):e(n.key)};this.activeDisplayedItemsFlat.forEach(n=>t(n,!0))}someDisplayedKey(e){const t=(n,i)=>{if(n.children){if(!n.expanded||!i)return n.children.some(o=>o.filterPasses?t(o,!1):!1)}else return e(n.key);return!1};return this.activeDisplayedItemsFlat.some(n=>t(n,!0))}hasGroups(){return this.groupsExist}refresh(){this.updateExpandAll(),this.flattenItems()}updateExpandAll(){const e=(n,i,o)=>{for(const s of n){if(!s.filterPasses||!s.available||!s.children)continue;if(i=i||!!s.expanded,o=o||!s.expanded,i&&o)return;const a=e(s.children,i,o);if(a===void 0)return;a?i=!0:o=!0}return i&&o?void 0:i},t=this.getSelectAllItem();t.expanded=e(t.children,!1,!1)}recursiveItemCheck(e,t,n,i){let o=!1;e.children&&e.children.forEach(a=>{const l=this.recursiveItemCheck(a,t||n(e),n,i);o=o||l});const s=t||o||n(e);return e[i]=s,s}updateAvailable(e){const t=n=>e.has(n.key);this.allDisplayedItemsTree.forEach(n=>this.recursiveItemCheck(n,!1,t,"available"))}}xM.DATE_TREE_LIST_PATH_GETTER=r=>r?[String(r.getFullYear()),String(r.getMonth()+1),String(r.getDate())]:null;class EQe{constructor({caseFormat:e}){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}allFilteringKeys(){return this.filteringKeys}allFilteringKeysCaseFormatted(){return this.filteringKeysCaseFormatted}noAppliedFilteringKeys(){return this.hasNoAppliedFilteringKeys}setFilteringKeys(e){this.filteringKeys=new Set(e),this.hasNoAppliedFilteringKeys=!this.filteringKeys||this.filteringKeys.size===0,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(t=>this.filteringKeysCaseFormatted.add(this.caseFormat(t)))}addFilteringKey(e){this.filteringKeys==null&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(e),this.filteringKeysCaseFormatted.add(this.caseFormat(e)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)}hasCaseFormattedFilteringKey(e){return this.filteringKeysCaseFormatted.has(this.caseFormat(e))}hasFilteringKey(e){return this.filteringKeys.has(e)}reset(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1}}var Os;(function(r){r[r.PROVIDED_LIST=0]="PROVIDED_LIST",r[r.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",r[r.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(Os||(Os={}));class lR{constructor(e){var t;this.localEventService=new La,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;const{usingComplexObjects:n,columnModel:i,valueService:o,treeDataTreeList:s,groupingTreeList:a,filterParams:l,gridOptionsService:u,valueFormatterService:c,valueFormatter:d}=e,{column:h,colDef:f,textFormatter:p,doesRowPassOtherFilter:g,suppressSorting:C,comparator:m,rowModel:y,values:w,caseSensitive:E,convertValuesToStrings:P,treeList:T,treeListPathGetter:R,treeListFormatter:_}=l;this.filterParams=l,this.setIsLoading=e.setIsLoading,this.translate=e.translate,this.caseFormat=e.caseFormat,this.createKey=e.createKey,this.usingComplexObjects=!!e.usingComplexObjects,this.formatter=p||qo.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=g,this.suppressSorting=C||!1,this.convertValuesToStrings=!!P,this.filteringKeys=new EQe({caseFormat:this.caseFormat});const b=m??f.comparator,D=!!s||!!a;this.compareByValue=!!(n&&b||D||T&&!R),D&&!b?this.entryComparator=this.createTreeDataOrGroupingComparator():T&&!R&&!b?this.entryComparator=([I,L],[B,j])=>q.defaultComparator(L,j):this.entryComparator=([I,L],[B,j])=>b(L,j),this.keyComparator=(t=b)!==null&&t!==void 0?t:q.defaultComparator,this.caseSensitive=!!E;const M=u.get("getDataPath"),G=u.is("groupAllowUnbalanced");y.getType()==="clientSide"&&(this.clientSideValuesExtractor=new wQe(y,this.filterParams,this.createKey,this.caseFormat,i,o,D,!!s,M,G)),w==null?this.valuesType=Os.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?Os.PROVIDED_LIST:Os.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=T?new xM(this.formatter,R,_,s||a):new SQe(c,d,this.formatter,h),this.updateAllValues().then(I=>this.resetSelectionState(I||[]))}addEventListener(e,t,n){this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService.removeEventListener(e,t,n)}refreshValues(){const e=this.getModel();return this.updateAllValues(),this.setModel(e)}overrideValues(e){return new ur(t=>{this.allValuesPromise.then(()=>{this.valuesType=Os.PROVIDED_LIST,this.providedValues=e,this.refreshValues().then(()=>t())})})}refreshAfterAnyFilterChanged(){return this.showAvailableOnly()?this.allValuesPromise.then(e=>(this.updateAvailableKeys(e??[],"otherFilter"),!0)):ur.resolve(!1)}isInitialised(){return this.initialised}updateAllValues(){return this.allValuesPromise=new ur(e=>{switch(this.valuesType){case Os.TAKEN_FROM_GRID_VALUES:case Os.PROVIDED_LIST:{e(this.processAllKeys(this.valuesType===Os.TAKEN_FROM_GRID_VALUES,this.providedValues));break}case Os.PROVIDED_CALLBACK:{this.setIsLoading(!0);const t=this.providedValues,{columnApi:n,api:i,context:o,column:s,colDef:a}=this.filterParams,l={success:u=>{this.setIsLoading(!1),e(this.processAllKeys(!1,u))},colDef:a,column:s,columnApi:n,api:i,context:o};window.setTimeout(()=>t(l),0);break}default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(e=>this.updateAvailableKeys(e||[],"reload")).then(()=>this.initialised=!0),this.allValuesPromise}processAllKeys(e,t){const n=e?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(t)),i=this.sortKeys(n);return this.allValues=n??new Map,i}validateProvidedValues(e){if(this.usingComplexObjects&&(e!=null&&e.length)){const t=e[0];t&&typeof t!="object"&&typeof t!="function"&&(this.createKey(t)==null?q.doOnce(()=>console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"),"setFilterComplexObjectsProvidedNull"):q.doOnce(()=>console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?"),"setFilterComplexObjectsProvidedPrimitive"))}return e}setValuesType(e){this.valuesType=e}getValuesType(){return this.valuesType}isKeyAvailable(e){return this.availableKeys.has(e)}showAvailableOnly(){return this.valuesType===Os.TAKEN_FROM_GRID_VALUES}updateAvailableKeys(e,t){const n=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):e;this.availableKeys=new Set(n),this.localEventService.dispatchEvent({type:lR.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(t,e)}sortKeys(e){const t=e??new Map;if(this.suppressSorting)return Array.from(t.keys());let n;return this.compareByValue?n=Array.from(t.entries()).sort(this.entryComparator).map(([i])=>i):n=Array.from(t.keys()).sort(this.keyComparator),this.filterParams.excelMode&&t.has(null)&&(n=n.filter(i=>i!=null),n.push(null)),n}getValuesFromRows(e=!1){if(!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null;const t=n=>!e||this.doesRowPassOtherFilters(n);return this.clientSideValuesExtractor.extractUniqueValues(t,e&&!this.caseSensitive?this.allValues:void 0)}setMiniFilter(e){return e=q.makeNull(e),this.miniFilterText===e?!1:(e===null&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=e,this.updateDisplayedValues("miniFilter"),!0)}getMiniFilter(){return this.miniFilterText}updateDisplayedValues(e,t){if(e==="expansion"){this.displayValueModel.refresh();return}if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(s=>this.getValue(s),t,this.availableKeys,e);return}const n=this.caseFormat(this.formatter(this.miniFilterText)||""),i=s=>s!=null&&this.caseFormat(s).indexOf(n)>=0,o=!!this.filterParams.excelMode&&i(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(s=>this.getValue(s),t,this.availableKeys,i,o,e)}getDisplayedValueCount(){return this.displayValueModel.getDisplayedValueCount()}getDisplayedItem(e){return this.displayValueModel.getDisplayedItem(e)}getSelectAllItem(){return this.displayValueModel.getSelectAllItem()}getAddSelectionToFilterItem(){return this.displayValueModel.getAddSelectionToFilterItem()}hasSelections(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size}getKeys(){return Array.from(this.allValues.keys())}getValues(){return Array.from(this.allValues.values())}getValue(e){return this.allValues.get(e)}setAddCurrentSelectionToFilter(e){this.addCurrentSelectionToFilter=e}isInWindowsExcelMode(){return this.filterParams.excelMode==="windows"}isAddCurrentSelectionToFilterChecked(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter}showAddCurrentSelectionToFilter(){return this.isInWindowsExcelMode()&&q.exists(this.miniFilterText)&&this.miniFilterText.length>0}selectAllMatchingMiniFilter(e=!1){this.miniFilterText==null?this.selectedKeys=new Set(this.allValues.keys()):(e&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(t=>this.selectedKeys.add(t)))}deselectAllMatchingMiniFilter(){this.miniFilterText==null?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(e=>this.selectedKeys.delete(e))}selectKey(e){this.selectedKeys.add(e)}deselectKey(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(e)}isKeySelected(e){return this.selectedKeys.has(e)}isEverythingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(e=>!this.isKeySelected(e))}isNothingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(e=>this.isKeySelected(e))}getModel(){if(!this.hasSelections())return null;const e=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(e&&e.size>0)if(this.selectedKeys){const t=new Set([...Array.from(e),...Array.from(this.selectedKeys).filter(n=>!e.has(n))]);return Array.from(t)}else return Array.from(e);return Array.from(this.selectedKeys)}setModel(e){return this.allValuesPromise.then(t=>{if(e==null)this.resetSelectionState(t??[]);else{this.selectedKeys.clear();const n=new Map;this.allValues.forEach((i,o)=>{n.set(this.caseFormat(o),o)}),e.forEach(i=>{const o=this.caseFormat(q.makeNull(i)),s=n.get(o);s!==void 0&&this.selectKey(s)})}})}uniqueValues(e){const t=new Map,n=new Set;return(e??[]).forEach(i=>{const o=q.makeNull(i),s=this.convertAndGetKey(o),a=this.caseFormat(s);n.has(a)||(n.add(a),t.set(s,o))}),t}convertAndGetKey(e){return this.convertValuesToStrings?e:this.createKey(e)}resetSelectionState(e){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(e)}hasGroups(){return this.displayValueModel.hasGroups()}createTreeDataOrGroupingComparator(){return([e,t],[n,i])=>{if(t==null)return i==null?0:-1;if(i==null)return 1;for(let o=0;o<t.length;o++){if(o>=i.length)return 1;const s=q.defaultComparator(t[o],i[o]);if(s!==0)return s}return 0}}setAppliedModelKeys(e){this.filteringKeys.setFilteringKeys(e)}addToAppliedModelKeys(e){this.filteringKeys.addFilteringKey(e)}getAppliedModelKeys(){return this.filteringKeys.allFilteringKeys()}getCaseFormattedAppliedModelKeys(){return this.filteringKeys.allFilteringKeysCaseFormatted()}hasAppliedModelKey(e){return this.filteringKeys.hasCaseFormattedFilteringKey(e)}hasAnyAppliedModelKey(){return!this.filteringKeys.noAppliedFilteringKeys()}}lR.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged";var Ag=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class oi extends ke{constructor(e){var t;super(e.isGroup?oi.GROUP_TEMPLATE:oi.TEMPLATE),this.focusWrapper=e.focusWrapper,this.value=e.value,this.params=e.params,this.translate=e.translate,this.valueFormatter=e.valueFormatter,this.item=e.item,this.isSelected=e.isSelected,this.isTree=e.isTree,this.depth=(t=e.depth)!==null&&t!==void 0?t:0,this.isGroup=e.isGroup,this.groupsExist=e.groupsExist,this.isExpanded=e.isExpanded,this.hasIndeterminateExpandState=e.hasIndeterminateExpandState}init(){this.addDestroyFunc(()=>{var e;return(e=this.destroyCellRendererComponent)===null||e===void 0?void 0:e.call(this)}),this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),q.setAriaLevel(this.focusWrapper,this.depth+1)),!this.params.readOnly&&this.eCheckbox.onValueChange(e=>this.onCheckboxChanged(!!e))}setupExpansion(){this.eGroupClosedIcon.appendChild(q.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(q.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(q.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()}onExpandOrContractClicked(){this.setExpanded(!this.isExpanded)}setExpanded(e,t){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;const n={type:oi.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item};t||this.dispatchEvent(n),this.setExpandedIcons(),this.refreshAriaExpanded()}}refreshAriaExpanded(){q.setAriaExpanded(this.focusWrapper,!!this.isExpanded)}setExpandedIcons(){q.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?this.isExpanded===!1:!this.isExpanded),q.setDisplayed(this.eGroupOpenedIcon,this.isExpanded===!0),this.hasIndeterminateExpandState&&q.setDisplayed(this.eGroupIndeterminateIcon,this.isExpanded===void 0)}onCheckboxChanged(e){this.isSelected=e;const t={type:oi.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item};this.dispatchEvent(t),this.refreshVariableAriaLabels()}toggleSelected(){this.params.readOnly||this.setSelected(!this.isSelected)}setSelected(e,t){this.isSelected=e,this.eCheckbox.setValue(this.isSelected,t)}refreshVariableAriaLabels(){if(!this.isTree)return;const e=this.localeService.getLocaleTextFunc(),t=this.eCheckbox.getValue(),n=t===void 0?e("ariaIndeterminate","indeterminate"):t?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");q.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}setupFixedAriaLabels(e){if(!this.isTree)return;const n=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");q.setAriaLabel(this.focusWrapper,`${e} ${n}`),q.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}refresh(e,t,n){var i,o;if(this.item=e,t!==this.isSelected&&this.setSelected(t,!0),this.setExpanded(n,!0),this.valueFunction){const s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent&&!((o=(i=this.cellRendererComponent).refresh)===null||o===void 0?void 0:o.call(i,this.cellRendererParams))){const a=this.cellRendererComponent;this.renderCell(),this.destroyBean(a)}}render(){const{params:{column:e}}=this;let{value:t}=this,n=null;typeof t=="function"?(this.valueFunction=t,n=this.valueFunction(),t=n):this.isTree?n=q.toStringOrNull(t):n=this.getFormattedValue(e,t),this.setTooltipAndCellRendererParams(t,n),this.renderCell()}setTooltipAndCellRendererParams(e,t){if(this.params.showTooltips){const n=t??q.toStringOrNull(e);this.setTooltip(n)}this.cellRendererParams={value:e,valueFormatted:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}}getTooltipParams(){const e=super.getTooltipParams();return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e}getFormattedValue(e,t){return this.valueFormatterService.formatValue(e,null,t,this.valueFormatter,!1)}renderCell(){const e=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),t=e?e.newAgStackInstance():void 0;if(t==null){this.renderCellWithoutCellRenderer();return}t.then(n=>{n&&(this.cellRendererComponent=n,this.eCheckbox.setLabel(n.getGui()),this.destroyCellRendererComponent=()=>this.destroyBean(n))})}renderCellWithoutCellRenderer(){var e;let t=(e=this.cellRendererParams.valueFormatted==null?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)!==null&&e!==void 0?e:this.translate("blanks");typeof t!="string"&&(q.doOnce(()=>console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"),"setFilterComplexObjectsValueFormatter"),t=""),this.eCheckbox.setLabel(t),this.setupFixedAriaLabels(t)}getComponentHolder(){return this.params.column.getColDef()}}oi.EVENT_SELECTION_CHANGED="selectionChanged";oi.EVENT_EXPANDED_CHANGED="expandedChanged";oi.GROUP_TEMPLATE=`
        <div class="ag-set-filter-item" aria-hidden="true">
            <span class="ag-set-filter-group-icons">
                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>
                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>
            </span>
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`;oi.TEMPLATE=`
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`;Ag([x("valueFormatterService")],oi.prototype,"valueFormatterService",void 0);Ag([x("userComponentFactory")],oi.prototype,"userComponentFactory",void 0);Ag([pe("eCheckbox")],oi.prototype,"eCheckbox",void 0);Ag([pe("eGroupOpenedIcon")],oi.prototype,"eGroupOpenedIcon",void 0);Ag([pe("eGroupClosedIcon")],oi.prototype,"eGroupClosedIcon",void 0);Ag([pe("eGroupIndeterminateIcon")],oi.prototype,"eGroupIndeterminateIcon",void 0);Ag([ge],oi.prototype,"init",null);const _Qe={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."};class Bfe{getModelAsString(e,t){const{values:n}=e||t.getModel()||{},i=t.getValueModel();if(n==null||i==null)return"";const o=n.filter(l=>i.isKeyAvailable(l)),s=o.length,a=o.slice(0,10).map(l=>t.getFormattedValue(l));return`(${s}) ${a.join(",")}${s>10?",...":""}`}}var xg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class id extends Gh{constructor(){super("setFilter"),this.valueModel=null,this.setFilterParams=null,this.virtualList=null,this.caseSensitive=!1,this.convertValuesToStrings=!1,this.treeDataTreeList=!1,this.groupingTreeList=!1,this.hardRefreshVirtualList=!1,this.noValueFormatterSupplied=!1,this.filterModelFormatter=new Bfe}postConstruct(){super.postConstruct()}updateUiVisibility(){}createBodyTemplate(){return`
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">${this.translateForSetFilter("loadingOoo")}</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">${this.translateForSetFilter("noMatches")}</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`}handleKeyDown(e){if(super.handleKeyDown(e),!e.defaultPrevented)switch(e.key){case X.SPACE:this.handleKeySpace(e);break;case X.ENTER:this.handleKeyEnter(e);break;case X.LEFT:this.handleKeyLeft(e);break;case X.RIGHT:this.handleKeyRight(e);break}}handleKeySpace(e){var t;(t=this.getComponentForKeyEvent(e))===null||t===void 0||t.toggleSelected()}handleKeyEnter(e){if(!this.setFilterParams)return;const{excelMode:t,readOnly:n}=this.setFilterParams||{};!t||n||(e.preventDefault(),this.onBtApply(!1,!1,e),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}handleKeyLeft(e){var t;(t=this.getComponentForKeyEvent(e))===null||t===void 0||t.setExpanded(!1)}handleKeyRight(e){var t;(t=this.getComponentForKeyEvent(e))===null||t===void 0||t.setExpanded(!0)}getComponentForKeyEvent(e){var t;const n=this.gridOptionsService.getDocument();if(!this.eSetFilterList.contains(n.activeElement)||!this.virtualList)return;const i=this.virtualList.getLastFocusedRow();if(i==null)return;const o=this.virtualList.getComponentAt(i);if(o==null)return;e.preventDefault();const{readOnly:s}=(t=this.setFilterParams)!==null&&t!==void 0?t:{};if(!s)return o}getCssIdentifier(){return"set-filter"}setModel(e){var t;return e==null&&((t=this.valueModel)===null||t===void 0?void 0:t.getModel())==null?(this.setMiniFilter(null),ur.resolve()):super.setModel(e)}setModelAndRefresh(e){return this.valueModel?this.valueModel.setModel(e).then(()=>this.refresh()):ur.resolve()}resetUiToDefaults(){return this.setMiniFilter(null),this.setModelAndRefresh(null)}setModelIntoUi(e){this.setMiniFilter(null);const t=e==null?null:e.values;return this.setModelAndRefresh(t)}getModelFromUi(){if(!this.valueModel)throw new Error("Value model has not been created.");const e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null}getFilterType(){return"set"}getValueModel(){return this.valueModel}areModelsEqual(e,t){return e==null&&t==null?!0:e!=null&&t!=null&&q.areEqual(e.values,t.values)}setParams(e){var t;this.applyExcelModeOptions(e),super.setParams(e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;let n=(t=e.keyCreator)!==null&&t!==void 0?t:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,n,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);const i=e.column.getId().startsWith(Lv);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&i,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&i,this.createKey=this.generateCreateKey(n,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new lR({filterParams:e,setIsLoading:o=>this.setIsLoading(o),valueFormatterService:this.valueFormatterService,translate:o=>this.translateForSetFilter(o),caseFormat:o=>this.caseFormat(o),createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()}onAddCurrentSelectionToFilterChange(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)}setValueFormatter(e,t,n,i,o){let s=e;if(!s){if(t&&!n&&!i)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,o||(s=a=>q.toStringOrNull(a.value))}this.valueFormatter=s}generateCreateKey(e,t,n){if(n&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?(i,o=null)=>{const s=this.getKeyCreatorParams(i,o);return q.makeNull(e(s))}:t?i=>Array.isArray(i)?i:q.makeNull(q.toStringOrNull(i)):i=>q.makeNull(q.toStringOrNull(i))}getFormattedValue(e){var t;let n=this.valueModel.getValue(e);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(n)&&(n=q.last(n));const i=this.valueFormatterService.formatValue(this.setFilterParams.column,null,n,this.valueFormatter,!1);return(t=i??q.toStringOrNull(n))!==null&&t!==void 0?t:this.translateForSetFilter("blanks")}applyExcelModeOptions(e){e.excelMode==="windows"?(e.buttons||(e.buttons=["apply","cancel"]),e.closeOnApply==null&&(e.closeOnApply=!0)):e.excelMode==="mac"&&(e.buttons||(e.buttons=["reset"]),e.applyMiniFilterWhileTyping==null&&(e.applyMiniFilterWhileTyping=!0),e.debounceMs==null&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,q.doOnce(()=>console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'),"setFilterExcelModeDefaultToNothingSelect"))}addEventListenersForDataChanges(){this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,A.EVENT_CELL_VALUE_CHANGED,e=>{this.setFilterParams&&e.column===this.setFilterParams.column&&this.syncAfterDataChange()})}syncAfterDataChange(){if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(()=>{this.refresh(),this.onBtApply(!1,!0)})}setIsLoading(e){q.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)}initialiseFilterBodyUi(){this.initVirtualList(),this.initMiniFilter()}initVirtualList(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const t=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),n=!!this.setFilterParams.treeList,i=this.virtualList=this.createBean(new rd({cssIdentifier:"filter",ariaRole:n?"tree":"listbox",listName:t})),o=this.getRefElement("eSetFilterList");n&&o.classList.add("ag-set-filter-tree-list"),o&&o.appendChild(i.getGui());const{cellHeight:s}=this.setFilterParams;s!=null&&i.setRowHeight(s);const a=(c,d)=>this.createSetListItem(c,n,d);i.setComponentCreator(a);const l=(c,d)=>this.updateSetListItem(c,d);i.setComponentUpdater(l);let u;this.setFilterParams.suppressSelectAll?u=new RQe(this.valueModel):u=new bQe(this.valueModel,()=>this.isSelectAllSelected()),n&&(u=new TQe(u)),i.setModel(u)}getSelectAllLabel(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const e=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(e)}getAddSelectionToFilterLabel(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")}createSetListItem(e,t,n){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const i=this.valueModel.hasGroups(),{isSelected:o,isExpanded:s}=this.isSelectedExpanded(e),{value:a,depth:l,isGroup:u,hasIndeterminateExpandState:c,selectedListener:d,expandedListener:h}=this.newSetListItemAttributes(e,t),f={focusWrapper:n,value:a,params:this.setFilterParams,translate:g=>this.translateForSetFilter(g),valueFormatter:this.valueFormatter,item:e,isSelected:o,isTree:t,depth:l,groupsExist:i,isGroup:u,isExpanded:s,hasIndeterminateExpandState:c},p=this.createBean(new oi(f));return p.addEventListener(oi.EVENT_SELECTION_CHANGED,d),h&&p.addEventListener(oi.EVENT_EXPANDED_CHANGED,h),p}newSetTreeItemAttributes(e,t){var n,i,o,s,a,l;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const u=this.valueModel.hasGroups();return e.key===io.SELECT_ALL?{value:()=>this.getSelectAllLabel(),isGroup:u,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:c=>this.onSelectAll(c.isSelected),expandedListener:c=>this.onExpandAll(c.item,c.isExpanded)}:e.key===io.ADD_SELECTION_TO_FILTER?{value:()=>this.getAddSelectionToFilterLabel(),depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:c=>{this.onAddCurrentSelectionToFilterChange(c.isSelected)}}:e.children?{value:(o=(i=(n=this.setFilterParams).treeListFormatter)===null||i===void 0?void 0:i.call(n,e.treeKey,e.depth,e.parentTreeKeys))!==null&&o!==void 0?o:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:c=>this.onGroupItemSelected(c.item,c.isSelected),expandedListener:c=>this.onExpandedChanged(c.item,c.isExpanded)}:{value:(l=(a=(s=this.setFilterParams).treeListFormatter)===null||a===void 0?void 0:a.call(s,e.treeKey,e.depth,e.parentTreeKeys))!==null&&l!==void 0?l:e.treeKey,depth:e.depth,selectedListener:c=>this.onItemSelected(c.item.key,c.isSelected)}}newSetListItemAttributes(e,t){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,t):e===io.SELECT_ALL?{value:()=>this.getSelectAllLabel(),selectedListener:n=>this.onSelectAll(n.isSelected)}:e===io.ADD_SELECTION_TO_FILTER?{value:()=>this.getAddSelectionToFilterLabel(),selectedListener:n=>{this.onAddCurrentSelectionToFilterChange(n.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:n=>this.onItemSelected(n.item,n.isSelected)}}updateSetListItem(e,t){const{isSelected:n,isExpanded:i}=this.isSelectedExpanded(e);t.refresh(e,n,i)}isSelectedExpanded(e){let t,n;return this.isSetFilterModelTreeItem(e)?(n=e.expanded,e.key===io.SELECT_ALL?t=this.isSelectAllSelected():e.key===io.ADD_SELECTION_TO_FILTER?t=this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?t=this.areAllChildrenSelected(e):t=this.valueModel.isKeySelected(e.key)):e===io.SELECT_ALL?t=this.isSelectAllSelected():e===io.ADD_SELECTION_TO_FILTER?t=this.valueModel.isAddCurrentSelectionToFilterChecked():t=this.valueModel.isKeySelected(e),{isSelected:t,isExpanded:n}}isSetFilterModelTreeItem(e){return(e==null?void 0:e.treeKey)!==void 0}initMiniFilter(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const{eMiniFilter:e,localeService:t}=this,n=t.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange(()=>this.onMiniFilterInput()),e.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keydown",i=>this.onMiniFilterKeyDown(i))}afterGuiAttached(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");super.afterGuiAttached(e),this.resetExpansion(),this.refreshVirtualList();const{eMiniFilter:t}=this;t.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&t.getFocusableElement().focus()}afterGuiDetached(){var e,t;super.afterGuiDetached(),!((e=this.setFilterParams)===null||e===void 0)&&e.excelMode&&this.resetMiniFilter();const n=this.getModel();(!((t=this.setFilterParams)===null||t===void 0)&&t.excelMode||!this.areModelsEqual(n,this.getModelFromUi()))&&(this.resetUiToActiveModel(n),this.showOrHideResults())}applyModel(e="api"){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&e!=="rowDataUpdated"&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();const t=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(t&&!this.getModel())return!1;const n=super.applyModel(e),i=this.getModel();return i?(t||this.valueModel.setAppliedModelKeys(new Set),i.values.forEach(o=>{this.valueModel.addToAppliedModelKeys(o)})):t||this.valueModel.setAppliedModelKeys(null),n}isModelValid(e){return this.setFilterParams&&this.setFilterParams.excelMode?e==null||e.values.length>0:!0}doesFilterPass(e){if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;const{node:t,data:n}=e;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(t,n);if(this.groupingTreeList)return this.doesFilterPassForGrouping(t,n);let i=this.getValueFromNode(t,n);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(t,i):i!=null&&Array.isArray(i)?i.length===0?this.valueModel.hasAppliedModelKey(null):i.some(o=>this.isInAppliedModel(this.createKey(o,t))):this.isInAppliedModel(this.createKey(i,t))}doesFilterPassForConvertValuesToString(e,t){const n=this.createKey(t,e);return n!=null&&Array.isArray(n)?n.length===0?this.valueModel.hasAppliedModelKey(null):n.some(i=>this.isInAppliedModel(i)):this.isInAppliedModel(n)}doesFilterPassForTreeData(e,t){var n;return!((n=e.childrenAfterGroup)===null||n===void 0)&&n.length?!1:this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(t))))}doesFilterPassForGrouping(e,t){const n=this.columnModel.getRowGroupColumns().map(i=>this.valueService.getKeyForNode(i,e));return n.push(this.getValueFromNode(e,t)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(n)))}checkMakeNullDataPath(e){return e&&(e=e.map(t=>q.toStringOrNull(q.makeNull(t)))),e!=null&&e.some(t=>t==null)?null:e}isInAppliedModel(e){return this.valueModel.hasAppliedModelKey(e)}getValueFromNode(e,t){const{valueGetter:n,api:i,colDef:o,column:s,columnApi:a,context:l}=this.setFilterParams;return n({api:i,colDef:o,column:s,columnApi:a,context:l,data:t,getValue:u=>t[u],node:e})}getKeyCreatorParams(e,t=null){return{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:t,data:t==null?void 0:t.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}}onNewRowsLoaded(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()}isValuesTakenFromGrid(){return this.valueModel?this.valueModel.getValuesType()===Os.TAKEN_FROM_GRID_VALUES:!1}setFilterValues(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(()=>{this.refresh(),this.onUiChanged()})}resetFilterValues(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Os.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()}refreshFilterValues(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(()=>{this.refresh(),this.onUiChanged()})}onAnyFilterChanged(){setTimeout(()=>{if(this.isAlive()){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.refreshAfterAnyFilterChanged().then(e=>{e&&(this.refresh(),this.showOrHideResults())})}},0)}onMiniFilterInput(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.valueModel.setMiniFilter(this.eMiniFilter.getValue()))return;const{applyMiniFilterWhileTyping:e,readOnly:t}=this.setFilterParams||{};!t&&e?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}updateUiAfterMiniFilterChange(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const{excelMode:e,readOnly:t}=this.setFilterParams||{};e==null||t?this.refresh():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()}showOrHideResults(){if(!this.valueModel)throw new Error("Value model has not been created.");const e=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;q.setDisplayed(this.eNoMatches,e),q.setDisplayed(this.eSetFilterList,!e)}resetMiniFilter(){var e;this.eMiniFilter.setValue(null,!0),(e=this.valueModel)===null||e===void 0||e.setMiniFilter(null)}resetUiToActiveModel(e,t){this.setModelAndRefresh(e==null?null:e.values).then(()=>{this.onUiChanged(!1,"prevent"),t==null||t()})}handleCancelEnd(e){this.setMiniFilter(null),super.handleCancelEnd(e)}onMiniFilterKeyDown(e){const{excelMode:t,readOnly:n}=this.setFilterParams||{};e.key===X.ENTER&&!t&&!n&&this.filterOnAllVisibleValues()}filterOnAllVisibleValues(e=!0){const{readOnly:t}=this.setFilterParams||{};if(!this.valueModel)throw new Error("Value model has not been created.");if(t)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()}focusRowIfAlive(e){e!=null&&window.setTimeout(()=>{if(!this.virtualList)throw new Error("Virtual list has not been created.");this.isAlive()&&this.virtualList.focusRow(e)},0)}onSelectAll(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()}onGroupItemSelected(e,t){const n=i=>{i.children?i.children.forEach(o=>n(o)):this.selectItem(i.key,t)};n(e),this.refreshAfterSelection()}onItemSelected(e,t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,t),this.refreshAfterSelection()}selectItem(e,t){t?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)}onExpandAll(e,t){const n=i=>{i.filterPasses&&i.available&&i.children&&(i.children.forEach(o=>n(o)),i.expanded=t)};n(e),this.refreshAfterExpansion()}onExpandedChanged(e,t){e.expanded=t,this.refreshAfterExpansion()}refreshAfterExpansion(){const e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(e)}refreshAfterSelection(){const e=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(e)}setMiniFilter(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()}getMiniFilter(){return this.valueModel?this.valueModel.getMiniFilter():null}refresh(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)}getFilterKeys(){return this.valueModel?this.valueModel.getKeys():[]}getFilterValues(){return this.valueModel?this.valueModel.getValues():[]}getValues(){return this.getFilterKeys()}refreshVirtualList(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()}translateForSetFilter(e){return this.localeService.getLocaleTextFunc()(e,_Qe[e])}isSelectAllSelected(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}}areAllChildrenSelected(e){const t=n=>{if(n.children){let i=!1,o=!1;return n.children.some(a=>{if(!a.filterPasses||!a.available)return!1;const l=t(a);return l===void 0?!0:(l?i=!0:o=!0,i&&o)})?void 0:i}else return this.valueModel.isKeySelected(n.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&t(e):t(e)}destroy(){this.virtualList!=null&&(this.virtualList.destroy(),this.virtualList=null),super.destroy()}caseFormat(e){return e==null||typeof e!="string"||this.caseSensitive?e:e.toUpperCase()}resetExpansion(){var e,t;if(!(!((e=this.setFilterParams)===null||e===void 0)&&e.treeList))return;const n=(t=this.valueModel)===null||t===void 0?void 0:t.getSelectAllItem();if(this.isSetFilterModelTreeItem(n)){const i=o=>{o.children&&(o.children.forEach(s=>i(s)),o.expanded=!1)};i(n),this.valueModel.updateDisplayedValues("expansion")}}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e,this)}getPositionableElement(){return this.eSetFilterList}}xg([pe("eMiniFilter")],id.prototype,"eMiniFilter",void 0);xg([pe("eFilterLoading")],id.prototype,"eFilterLoading",void 0);xg([pe("eSetFilterList")],id.prototype,"eSetFilterList",void 0);xg([pe("eFilterNoMatches")],id.prototype,"eNoMatches",void 0);xg([x("valueFormatterService")],id.prototype,"valueFormatterService",void 0);xg([x("columnModel")],id.prototype,"columnModel",void 0);xg([x("valueService")],id.prototype,"valueService",void 0);class RQe{constructor(e){this.model=e}getRowCount(){return this.model.getDisplayedValueCount()}getRow(e){return this.model.getDisplayedItem(e)}isRowSelected(e){return this.model.isKeySelected(this.getRow(e))}areRowsEqual(e,t){return e===t}}class bQe{constructor(e,t){this.model=e,this.isSelectAllSelected=t}getRowCount(){const t=this.model.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+t}getRow(e){if(e===0)return this.model.getSelectAllItem();const t=this.model.showAddCurrentSelectionToFilter(),n=t?2:1;return e===1&&t?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(e-n)}isRowSelected(e){return e===0?this.isSelectAllSelected():e===1&&this.model.showAddCurrentSelectionToFilter()?this.model.isAddCurrentSelectionToFilterChecked():this.model.isKeySelected(this.getRow(e))}areRowsEqual(e,t){return e===t}}class TQe{constructor(e){this.model=e}getRowCount(){return this.model.getRowCount()}getRow(e){return this.model.getRow(e)}areRowsEqual(e,t){return e==null&&t==null?!0:e!=null&&t!=null&&e.treeKey===t.treeKey&&e.depth===t.depth}}var jfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class iU extends ke{constructor(){super(`
            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`),this.availableValuesListenerAdded=!1,this.filterModelFormatter=new Bfe}destroy(){super.destroy()}init(e){this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams(e)}setParams(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}onParamsUpdated(e){this.params=e,this.setParams(e)}onParentModelChanged(e){this.updateFloatingFilterText(e)}parentSetFilterInstance(e){this.params.parentFilterInstance(t=>{if(!(t instanceof id))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(t)})}addAvailableValuesListener(){this.parentSetFilterInstance(e=>{const t=e.getValueModel();t&&this.addManagedListener(t,lR.EVENT_AVAILABLE_VALUES_CHANGED,()=>this.updateFloatingFilterText())}),this.availableValuesListenerAdded=!0}updateFloatingFilterText(e){this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(t=>{this.eFloatingFilterText.setValue(this.filterModelFormatter.getModelAsString(e,t))})}}jfe([pe("eFloatingFilterText")],iU.prototype,"eFloatingFilterText",void 0);jfe([x("columnModel")],iU.prototype,"columnModel",void 0);const PQe="30.2.1",c_t={version:PQe,moduleName:Te.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:id},{componentName:"agSetColumnFloatingFilter",componentClass:iU}],dependantModules:[aR]};var uR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fu;(function(r){r[r.EXPANDED=0]="EXPANDED",r[r.COLLAPSED=1]="COLLAPSED",r[r.INDETERMINATE=2]="INDETERMINATE"})(fu||(fu={}));class Pa extends ke{constructor(){super(Pa.TEMPLATE)}postConstruct(){this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",t=>{t.key===X.SPACE&&(t.preventDefault(),this.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(()=>this.onFilterTextChanged()),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));const e=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}init(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()}createExpandIcons(){this.eExpand.appendChild(this.eExpandChecked=q.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=q.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=q.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(fu.EXPANDED)}showOrHideOptions(){const e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,i=this.columnModel.isPrimaryColumnGroupsPresent(),o=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search...")),q.setDisplayed(this.eFilterTextField.getGui(),e),q.setDisplayed(this.eSelect.getGui(),t),q.setDisplayed(this.eExpand,n&&i)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=q.debounce(()=>{const e=this.eFilterTextField.getValue();this.dispatchEvent({type:"filterChanged",filterText:e})},Pa.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()}onMiniFilterKeyDown(e){e.key===X.ENTER&&setTimeout(()=>this.onSelectClicked(),Pa.DEBOUNCE_DELAY)}onSelectClicked(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchEvent({type:this.expandState===fu.EXPANDED?"collapseAll":"expandAll"})}setExpandState(e){this.expandState=e,q.setDisplayed(this.eExpandChecked,this.expandState===fu.EXPANDED),q.setDisplayed(this.eExpandUnchecked,this.expandState===fu.COLLAPSED),q.setDisplayed(this.eExpandIndeterminate,this.expandState===fu.INDETERMINATE)}setSelectionState(e){this.selectState=e,this.eSelect.setValue(this.selectState)}}Pa.DEBOUNCE_DELAY=300;Pa.TEMPLATE=`<div class="ag-column-select-header" role="presentation">
            <div ref="eExpand" class="ag-column-select-header-icon"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`;uR([x("columnModel")],Pa.prototype,"columnModel",void 0);uR([pe("eExpand")],Pa.prototype,"eExpand",void 0);uR([pe("eSelect")],Pa.prototype,"eSelect",void 0);uR([pe("eFilterTextField")],Pa.prototype,"eFilterTextField",void 0);uR([ge],Pa.prototype,"postConstruct",null);class ih{constructor(e,t,n,i=!1,o){this.eventService=new La,this.displayName=e,this.dept=n,this.group=i,i?(this.columnGroup=t,this.expanded=o,this.children=[]):this.column=t}isGroup(){return this.group}getDisplayName(){return this.displayName}getColumnGroup(){return this.columnGroup}getColumn(){return this.column}getDept(){return this.dept}isExpanded(){return!!this.expanded}getChildren(){return this.children}isPassesFilter(){return this.passesFilter}setExpanded(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:ih.EVENT_EXPANDED_CHANGED}))}setPassesFilter(e){this.passesFilter=e}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}}ih.EVENT_EXPANDED_CHANGED="expandedChanged";var IM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Hy extends ke{constructor(e,t,n){super('<div class="ag-menu"></div>'),this.column=e,this.mouseEvent=t,this.parentEl=n,this.displayName=null}postConstruct(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof rt?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())}initializeProperties(e){e instanceof An?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some(t=>t.isPrimary()&&t.isAllowRowGroup()),this.allowValues=this.columns.some(t=>t.isPrimary()&&t.isAllowValue()),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(t=>t.isPrimary()&&t.isAllowPivot())}buildMenuItemMap(){const e=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:t=>t.isPrimary()&&t.isAllowRowGroup(),activeFunction:t=>t.isRowGroupActive(),activateLabel:()=>`${e("groupBy","Group by")} ${this.displayName}`,deactivateLabel:()=>`${e("ungroupBy","Un-Group by")} ${this.displayName}`,activateFunction:()=>{const t=this.columnModel.getRowGroupColumns();this.columnModel.setRowGroupColumns(this.addColumnsToList(t),"toolPanelUi")},deActivateFunction:()=>{const t=this.columnModel.getRowGroupColumns();this.columnModel.setRowGroupColumns(this.removeColumnsFromList(t),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:t=>t.isPrimary()&&t.isAllowValue(),activeFunction:t=>t.isValueActive(),activateLabel:()=>e("addToValues",`Add ${this.displayName} to values`,[this.displayName]),deactivateLabel:()=>e("removeFromValues",`Remove ${this.displayName} from values`,[this.displayName]),activateFunction:()=>{const t=this.columnModel.getValueColumns();this.columnModel.setValueColumns(this.addColumnsToList(t),"toolPanelUi")},deActivateFunction:()=>{const t=this.columnModel.getValueColumns();this.columnModel.setValueColumns(this.removeColumnsFromList(t),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:t=>this.columnModel.isPivotMode()&&t.isPrimary()&&t.isAllowPivot(),activeFunction:t=>t.isPivotActive(),activateLabel:()=>e("addToLabels",`Add ${this.displayName} to labels`,[this.displayName]),deactivateLabel:()=>e("removeFromLabels",`Remove ${this.displayName} from labels`,[this.displayName]),activateFunction:()=>{const t=this.columnModel.getPivotColumns();this.columnModel.setPivotColumns(this.addColumnsToList(t),"toolPanelUi")},deActivateFunction:()=>{const t=this.columnModel.getPivotColumns();this.columnModel.setPivotColumns(this.removeColumnsFromList(t),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})}addColumnsToList(e){return[...e].concat(this.columns.filter(t=>e.indexOf(t)===-1))}removeColumnsFromList(e){return e.filter(t=>this.columns.indexOf(t)===-1)}displayContextMenu(){const e=this.getGui(),t=this.createBean(new Fy),n=this.getMappedMenuItems(),i=this.localeService.getLocaleTextFunc();let o=()=>{};e.appendChild(t.getGui()),t.addMenuItems(n),t.addManagedListener(t,Jo.EVENT_MENU_ITEM_SELECTED,()=>{this.parentEl.focus(),o()});const s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,afterGuiAttached:()=>this.focusService.focusInto(t.getGui()),ariaLabel:i("ariaLabelContextMenu","Context Menu"),closedCallback:a=>{a instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(t)}});s&&(o=s.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:e})}isActive(){return this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){const e=[];for(const t of this.menuItemMap.values()){const n=this.columns.some(o=>t.allowedFunction(o)&&!t.activeFunction(o)),i=this.columns.some(o=>t.allowedFunction(o)&&t.activeFunction(o));n&&e.push({name:t.activateLabel(this.displayName),icon:q.createIconNoSpan(t.addIcon,this.gridOptionsService,null),action:()=>t.activateFunction()}),i&&e.push({name:t.deactivateLabel(this.displayName),icon:q.createIconNoSpan(t.removeIcon,this.gridOptionsService,null),action:()=>t.deActivateFunction()})}return e}}IM([x("columnModel")],Hy.prototype,"columnModel",void 0);IM([x("popupService")],Hy.prototype,"popupService",void 0);IM([x("focusService")],Hy.prototype,"focusService",void 0);IM([ge],Hy.prototype,"postConstruct",null);var od=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class gs extends ke{constructor(e,t,n,i){super(),this.modelItem=e,this.allowDragging=t,this.eventType=n,this.focusWrapper=i,this.processingColumnStateChange=!1,this.modelItem=e,this.columnGroup=e.getColumnGroup(),this.columnDept=e.getDept(),this.displayName=e.getDisplayName(),this.allowDragging=t}init(){this.setTemplate(gs.TEMPLATE),this.eDragHandle=q.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");const e=this.cbSelect.getGui(),t=this.cbSelect.getInputElement();e.insertAdjacentElement("afterend",this.eDragHandle),t.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,A.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ih.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),sM.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach(i=>this.addOrRemoveCssClass(i,!0))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){const e=this.columnGroup.getColGroupDef();if(!e)return;const t=()=>{const n=e.headerTooltip;this.setTooltip(n)};t(),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,t)}getTooltipParams(){const e=super.getTooltipParams();return e.location="columnToolPanelColumnGroup",e}handleKeyDown(e){switch(e.key){case X.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case X.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case X.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}}onContextMenu(e){const{columnGroup:t,gridOptionsService:n}=this;if(n.is("functionsReadOnly"))return;const i=this.createBean(new Hy(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}addVisibilityListenersToAllChildren(){this.columnGroup.getLeafColumns().forEach(e=>{this.addManagedListener(e,rt.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(e,rt.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(e,rt.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(e,rt.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this))})}setupDragging(){if(!this.allowDragging){q.setDisplayed(this.eDragHandle,!1);return}let e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const t={type:Nr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>e?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),onDragStarted:()=>{e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const n={type:A.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:this.columnGroup};this.eventService.dispatchEvent(n)},onDragStopped:()=>{const n={type:A.EVENT_COLUMN_PANEL_ITEM_DRAG_END};this.eventService.dispatchEvent(n)},onGridEnter:n=>{e&&this.modelItemUtils.updateColumns({columns:this.columnGroup.getLeafColumns(),visibleState:n==null?void 0:n.visibleState,pivotState:n==null?void 0:n.pivotState,eventType:this.eventType})},onGridExit:()=>{e&&this.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(t))}createDragItem(){const e=this.columnGroup.getLeafColumns(),t={},n={};return e.forEach(i=>{const o=i.getId();t[o]=i.isVisible(),n[o]=this.modelItemUtils.createPivotState(i)}),{columns:e,visibleState:t,pivotState:n}}setupExpandContract(){this.eGroupClosedIcon.appendChild(q.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(q.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));const e=new Mr(this.eColumnGroupIcons,!0);this.addManagedListener(e,Mr.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))}onLabelClicked(){const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}getVisibleLeafColumns(){const e=[],t=n=>{n.forEach(i=>{i.isPassesFilter()&&(i.isGroup()?t(i.getChildren()):e.push(i.getColumn()))})};return t(this.modelItem.getChildren()),e}onChangeCommon(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)}refreshAriaLabel(){const e=this.localeService.getLocaleTextFunc(),t=e("ariaColumnGroup","Column Group"),n=this.cbSelect.getValue(),i=n===void 0?e("ariaIndeterminate","indeterminate"):n?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");q.setAriaLabel(this.focusWrapper,`${this.displayName} ${t}`),this.cbSelect.setInputAriaLabel(`${o} (${i})`),q.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)}onColumnStateChanged(){const e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1}workOutSelectedValue(){const e=this.columnModel.isPivotMode(),t=this.getVisibleLeafColumns();let n=0,i=0;if(t.forEach(o=>{!e&&o.getColDef().lockVisible||(this.isColumnChecked(o,e)?n++:i++)}),!(n>0&&i>0))return n>0}workOutReadOnlyValue(){const e=this.columnModel.isPivotMode();let t=0;return this.columnGroup.getLeafColumns().forEach(n=>{e?n.isAnyFunctionAllowed()&&t++:n.getColDef().lockVisible||t++}),t===0}isColumnChecked(e,t){if(t){const n=e.isPivotActive(),i=e.isRowGroupActive(),o=e.isValueActive();return n||i||o}return e.isVisible()}onExpandOrContractClicked(){const e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){const e=this.modelItem.isExpanded();q.setDisplayed(this.eGroupClosedIcon,!e),q.setDisplayed(this.eGroupOpenedIcon,e)}refreshAriaExpanded(){q.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(e){this.cbSelect.setValue(e,!0)}}gs.TEMPLATE=`<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`;od([x("columnModel")],gs.prototype,"columnModel",void 0);od([x("dragAndDropService")],gs.prototype,"dragAndDropService",void 0);od([x("modelItemUtils")],gs.prototype,"modelItemUtils",void 0);od([pe("cbSelect")],gs.prototype,"cbSelect",void 0);od([pe("eLabel")],gs.prototype,"eLabel",void 0);od([pe("eGroupOpenedIcon")],gs.prototype,"eGroupOpenedIcon",void 0);od([pe("eGroupClosedIcon")],gs.prototype,"eGroupClosedIcon",void 0);od([pe("eColumnGroupIcons")],gs.prototype,"eColumnGroupIcons",void 0);od([ge],gs.prototype,"init",null);var Wfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class oU extends de{constructor(e,t){super(),this.comp=e,this.virtualList=t}postConstruct(){this.createManagedBean(new RW(this.comp,this.virtualList,{dragSourceType:Nr.ToolPanel,listItemDragStartEvent:A.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:A.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:e=>this.getCurrentDragValue(e),isMoveBlocked:e=>this.isMoveBlocked(e),getNumRows:e=>e.getDisplayedColsList().length,moveItem:(e,t)=>this.moveItem(e,t)}))}getCurrentDragValue(e){return e.column}isMoveBlocked(e){return!!this.getCurrentColumns(e).find(i=>{const o=i.getColDef();return!!o.suppressMovable||!!o.lockPosition})}moveItem(e,t){const n=this.getTargetIndex(e,t),i=this.getCurrentColumns(e);n!=null&&this.columnModel.moveColumns(i,n,"toolPanelUi")}getMoveDiff(e,t){const n=this.columnModel.getAllGridColumns(),i=this.getCurrentColumns(e),o=i[0],s=i.length;return n.indexOf(o)<t?s:0}getCurrentColumns(e){return e instanceof An?e.getLeafColumns():[e]}getTargetIndex(e,t){if(!t)return null;const n=t.component;let i=t.position==="top",o;if(n instanceof gs?(o=n.getColumns()[0],i=!0):o=n.getColumn(),this.getCurrentColumns(e).indexOf(o)!==-1)return null;const a=this.columnModel.getAllGridColumns().indexOf(o),l=i?a:a+1,u=this.getMoveDiff(e,l);return l-u}}Wfe([x("columnModel")],oU.prototype,"columnModel",void 0);Wfe([ge],oU.prototype,"postConstruct",null);var $y=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Ku extends ke{constructor(e,t,n,i){super(),this.allowDragging=t,this.groupsExist=n,this.focusWrapper=i,this.processingColumnStateChange=!1,this.column=e.getColumn(),this.columnDept=e.getDept(),this.displayName=e.getDisplayName()}init(){this.setTemplate(Ku.TEMPLATE),this.eDragHandle=q.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");const e=this.cbSelect.getGui(),t=this.cbSelect.getInputElement();e.insertAdjacentElement("afterend",this.eDragHandle),t.setAttribute("tabindex","-1");const n=q.escapeString(this.displayName);this.eLabel.innerHTML=n;const i=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass(`ag-column-select-indent-${i}`),this.setupDragging(),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,rt.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,A.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),sM.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach(s=>this.addOrRemoveCssClass(s,!0))}getColumn(){return this.column}setupTooltip(){const e=()=>{const t=this.column.getColDef().headerTooltip;this.setTooltip(t)};e(),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,e)}getTooltipParams(){const e=super.getTooltipParams();return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e}onContextMenu(e){const{column:t,gridOptionsService:n}=this;if(n.is("functionsReadOnly"))return;const i=this.createBean(new Hy(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}handleKeyDown(e){e.key===X.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gridOptionsService.is("functionsReadOnly"))return;const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}onChangeCommon(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))}refreshAriaLabel(){const e=this.localeService.getLocaleTextFunc(),t=e("ariaColumn","Column"),n=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");q.setAriaLabel(this.focusWrapper,`${this.displayName} ${t}`),this.cbSelect.setInputAriaLabel(`${i} (${n})`),q.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)}setupDragging(){if(!this.allowDragging){q.setDisplayed(this.eDragHandle,!1);return}let e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const t={type:Nr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>e?Ct.ICON_HIDE:Ct.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),onDragStarted:()=>{e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const n={type:A.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:this.column};this.eventService.dispatchEvent(n)},onDragStopped:()=>{const n={type:A.EVENT_COLUMN_PANEL_ITEM_DRAG_END};this.eventService.dispatchEvent(n)},onGridEnter:n=>{e&&this.modelItemUtils.updateColumns({columns:[this.column],visibleState:n==null?void 0:n.visibleState,pivotState:n==null?void 0:n.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{e&&this.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(t))}createDragItem(){const e=this.column.getColId(),t={[e]:this.column.isVisible()},n={[e]:this.modelItemUtils.createPivotState(this.column)};return{columns:[this.column],visibleState:t,pivotState:n}}onColumnStateChanged(){this.processingColumnStateChange=!0;const e=this.columnModel.isPivotMode();if(e){const o=this.column.isAnyFunctionActive();this.cbSelect.setValue(o)}else this.cbSelect.setValue(this.column.isVisible());let t=!0,n=!0;if(e){const o=this.gridOptionsService.is("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();t=!o&&!s,n=t}else{const{enableRowGroup:o,enableValue:s,lockPosition:a,suppressMovable:l,lockVisible:u}=this.column.getColDef(),c=!!o||!!s,d=!!a||!!l;t=!u,n=c||!d}this.cbSelect.setReadOnly(!t),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!n),this.addOrRemoveCssClass("ag-column-select-column-readonly",!n&&!t);const i=e&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(i),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")}}Ku.TEMPLATE=`<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`;$y([x("columnModel")],Ku.prototype,"columnModel",void 0);$y([x("dragAndDropService")],Ku.prototype,"dragAndDropService",void 0);$y([x("modelItemUtils")],Ku.prototype,"modelItemUtils",void 0);$y([pe("eLabel")],Ku.prototype,"eLabel",void 0);$y([pe("cbSelect")],Ku.prototype,"cbSelect",void 0);$y([ge],Ku.prototype,"init",null);var FM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class OQe{constructor(e){this.items=e}getRowCount(){return this.items.length}getRow(e){return this.items[e]}}const DQe="ag-column-select-list";class sf extends ke{constructor(){super(sf.TEMPLATE),this.destroyColumnItemFuncs=[]}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(e=>e()),this.destroyColumnItemFuncs=[]}init(e,t,n){this.params=e,this.allowDragging=t,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,A.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[A.EVENT_COLUMN_PIVOT_CHANGED,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,A.EVENT_COLUMN_ROW_GROUP_CHANGED,A.EVENT_COLUMN_VALUE_CHANGED,A.EVENT_COLUMN_VISIBLE,A.EVENT_NEW_COLUMNS_LOADED].forEach(a=>{this.addManagedListener(this.eventService,a,this.fireSelectionChangedEvent.bind(this))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;const s=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new rd({cssIdentifier:"column-select",ariaRole:"tree",listName:s})),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((a,l)=>(q.setAriaLevel(l,a.getDept()+1),this.createComponentFromItem(a,l))),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsService.is("suppressMovableColumns")&&this.createManagedBean(new oU(this,this.virtualList))}createComponentFromItem(e,t){if(e.isGroup()){const i=new gs(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(i),i}const n=new Ku(e,this.allowDragging,this.groupsExist,t);return this.getContext().createBean(n),n}onColumnsChanged(){const e=this.getExpandedStates(),t=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!t?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){if(!this.allColsTree)return{};const e={};return this.forEachItem(t=>{if(!t.isGroup())return;const n=t.getColumnGroup();n&&(e[n.getId()]=t.isExpanded())}),e}setExpandedStates(e){this.allColsTree&&this.forEachItem(t=>{if(!t.isGroup())return;const n=t.getColumnGroup();if(n){const i=e[n.getId()];i!=null&&t.setExpanded(i)}})}buildTreeFromWhatGridIsDisplaying(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))}setColumnLayout(e){const t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some(n=>n&&typeof n.children<"u"),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()}buildListModel(e){const t=this.onColumnExpanded.bind(this),n=a=>{a.addEventListener(ih.EVENT_EXPANDED_CHANGED,t);const l=a.removeEventListener.bind(a,ih.EVENT_EXPANDED_CHANGED,t);this.destroyColumnItemFuncs.push(l)},i=(a,l,u)=>{a.forEach(c=>{c instanceof An?o(c,l,u):s(c,l,u)})},o=(a,l,u)=>{const c=a.getColGroupDef();if(c&&c.suppressColumnsToolPanel)return;if(a.isPadding()){i(a.getChildren(),l,u);return}const h=this.columnModel.getDisplayNameForProvidedColumnGroup(null,a,"columnToolPanel"),f=new ih(h,a,l,!0,this.expandGroupsByDefault);u.push(f),n(f),i(a.getChildren(),l+1,f.getChildren())},s=(a,l,u)=>{if(a.getColDef()&&a.getColDef().suppressColumnsToolPanel)return;const d=this.columnModel.getDisplayNameForColumn(a,"columnToolPanel");u.push(new ih(d,a,l))};this.destroyColumnTree(),i(e,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];const e=n=>{n.isPassesFilter()&&(this.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(e))};this.allColsTree.forEach(e),this.virtualList.setModel(new OQe(this.displayedColsList));const t=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),t!=null&&this.focusRowIfAlive(t),this.notifyListeners()}focusRowIfAlive(e){window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(e)},0)}forEachItem(e){const t=n=>{n.forEach(i=>{e(i),i.isGroup()&&t(i.getChildren())})};t(this.allColsTree)}doSetExpandedAll(e){this.forEachItem(t=>{t.isGroup()&&t.setExpanded(e)})}setGroupsExpanded(e,t){if(!t){this.doSetExpandedAll(e);return}const n=[];this.forEachItem(o=>{if(!o.isGroup())return;const s=o.getColumnGroup().getId();t.indexOf(s)>=0&&(o.setExpanded(e),n.push(s))});const i=t.filter(o=>!q.includes(n,o));i.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",i)}getExpandState(){let e=0,t=0;return this.forEachItem(n=>{n.isGroup()&&(n.isExpanded()?e++:t++)}),e>0&&t>0?fu.INDETERMINATE:t>0?fu.COLLAPSED:fu.EXPANDED}doSetSelectedAll(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)}getSelectionState(){let e=0,t=0;const n=this.columnModel.isPivotMode();if(this.forEachItem(i=>{if(i.isGroup()||!i.isPassesFilter())return;const o=i.getColumn(),s=o.getColDef();let a;if(n){if(!o.isAllowPivot()&&!o.isAllowRowGroup()&&!o.isAllowValue())return;a=o.isValueActive()||o.isPivotActive()||o.isRowGroupActive()}else{if(s.lockVisible)return;a=o.isVisible()}a?e++:t++}),!(e>0&&t>0))return!(e===0||t>0)}setFilterText(e){this.filterText=q.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){const e=n=>{if(!q.exists(this.filterText))return!0;const i=n.getDisplayName();return i==null||i.toLowerCase().indexOf(this.filterText)!==-1},t=(n,i)=>{let o=!1;if(n.isGroup()){const a=e(n);n.getChildren().forEach(l=>{const u=t(l,a||i);u&&(o=u)})}const s=i||o?!0:e(n);return n.setPassesFilter(s),s};this.allColsTree.forEach(n=>t(n,!1))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){const e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})}fireSelectionChangedEvent(){const e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}}sf.TEMPLATE=`<div class="${DQe}" role="presentation"></div>`;FM([x("columnModel")],sf.prototype,"columnModel",void 0);FM([x("toolPanelColDefService")],sf.prototype,"colDefService",void 0);FM([x("modelItemUtils")],sf.prototype,"modelItemUtils",void 0);FM([Bi],sf.prototype,"destroyColumnTree",null);var sU=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class gE extends ke{createTemplate(){return`<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`}init(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());const e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,A.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))}onBtPivotMode(){const e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");const t=this.gridOptionsService.api;t&&t.refreshHeader()}}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)}}sU([x("columnModel")],gE.prototype,"columnModel",void 0);sU([pe("cbPivotMode")],gE.prototype,"cbPivotMode",void 0);sU([VF],gE.prototype,"init",null);var MM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Kv=class extends de{execute(e){const t=q.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.gridOptionsService.getCallback("getGroupRowAgg"),i=e.changedPath&&e.changedPath.isActive();if(t&&n&&i)return;const o=this.createAggDetails(e);this.recursivelyCreateAggData(o)}createAggDetails(e){const t=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),i=t?this.columnModel.getPivotColumns():[];return{alwaysAggregateAtRootLevel:this.gridOptionsService.is("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:n,pivotColumns:i,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return this.gridOptionsService.getGroupAggFiltering()!==void 0||this.gridOptionsService.is("suppressAggFilteredOnly")}recursivelyCreateAggData(e){const t=n=>{if(!n.hasChildren()){n.aggData&&n.setAggData(null);return}if(n.level===-1&&!e.groupIncludeTotalFooter){const s=!this.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&s)return}this.aggregateRowNode(n,e)};e.changedPath.forEachChangedNodeDepthFirst(t,!0)}aggregateRowNode(e,t){const n=t.valueColumns.length===0,i=t.pivotColumns.length===0;let o;t.userAggFunc?o=t.userAggFunc({nodes:e.childrenAfterFilter}):n?o=null:i?o=this.aggregateRowNodeUsingValuesOnly(e,t):o=this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(o),e.sibling&&e.sibling.setAggData(o)}aggregateRowNodeUsingValuesAndPivot(e){var t;const n={},i=(t=this.columnModel.getSecondaryColumns())!==null&&t!==void 0?t:[];return i.forEach(o=>{const{pivotValueColumn:s,pivotTotalColumnIds:a,colId:l,pivotKeys:u}=o.getColDef();if(q.exists(a))return;const c=u??[];let d;e.leafGroup?d=this.getValuesFromMappedSet(e.childrenMapped,c,s):d=this.getValuesPivotNonLeaf(e,l),n[l]=this.aggregateValues(d,s.getAggFunc(),s,e,o)}),i.forEach(o=>{const{pivotValueColumn:s,pivotTotalColumnIds:a,colId:l}=o.getColDef();if(!q.exists(a))return;const u=[];!a||!a.length||(a.forEach(c=>{u.push(n[c])}),n[l]=this.aggregateValues(u,s.getAggFunc(),s,e,o))}),n}aggregateRowNodeUsingValuesOnly(e,t){const n={},i=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,o=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,s=this.getValuesNormal(e,i,t.filteredOnly),a=e.aggData;return i.forEach((l,u)=>{n[l.getId()]=this.aggregateValues(s[u],l.getAggFunc(),l,e)}),o&&a&&o.forEach(l=>{n[l.getId()]=a[l.getId()]}),n}getValuesPivotNonLeaf(e,t){const n=[];return e.childrenAfterFilter.forEach(i=>{const o=i.aggData[t];n.push(o)}),n}getValuesFromMappedSet(e,t,n){let i=e;if(t.forEach(s=>i=i?i[s]:null),!i)return[];const o=[];return i.forEach(s=>{const a=this.valueService.getValue(n,s);o.push(a)}),o}getValuesNormal(e,t,n){const i=[];t.forEach(()=>i.push([]));const o=t.length,s=n?e.childrenAfterFilter:e.childrenAfterGroup,a=s.length;for(let l=0;l<a;l++){const u=s[l];for(let c=0;c<o;c++){const d=t[c],h=this.valueService.getValue(d,u);i[c].push(h)}}return i}aggregateValues(e,t,n,i,o){const s=typeof t=="string"?this.aggFuncService.getAggFunc(t):t;if(typeof s!="function")return console.error(`AG Grid: unrecognised aggregation function ${t}`),null;const a=s,l={values:e,column:n,colDef:n?n.getColDef():void 0,pivotResultColumn:o,rowNode:i,data:i?i.data:void 0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return a(l)}};MM([x("columnModel")],Kv.prototype,"columnModel",void 0);MM([x("valueService")],Kv.prototype,"valueService",void 0);MM([x("aggFuncService")],Kv.prototype,"aggFuncService",void 0);Kv=MM([De("aggregationStage")],Kv);class wN{constructor(){this.allSets={},this.allParents=[]}removeFromChildrenAfterGroup(e,t){const n=this.getSet(e);n.removeFromChildrenAfterGroup[t.id]=!0}isRemoveFromAllLeafChildren(e,t){return!!this.getSet(e).removeFromAllLeafChildren[t.id]}preventRemoveFromAllLeafChildren(e,t){const n=this.getSet(e);delete n.removeFromAllLeafChildren[t.id]}removeFromAllLeafChildren(e,t){const n=this.getSet(e);n.removeFromAllLeafChildren[t.id]=!0}getSet(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]}getAllParents(){return this.allParents}flush(){this.allParents.forEach(e=>{const t=this.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(n=>!t.removeFromChildrenAfterGroup[n.id]),e.allLeafChildren=e.allLeafChildren.filter(n=>!t.removeFromAllLeafChildren[n.id]),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0}}var By=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Hh=class extends de{constructor(){super(...arguments),this.groupIdSequence=new QF}execute(e){const t=this.createGroupingDetails(e);if(t.transactions)this.handleTransaction(t);else{const n=e.afterColumnsChanged===!0;this.shotgunResetEverything(t,n)}t.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(t)),this.selectableService.updateSelectableAfterGrouping(t.rootNode)}positionLeafsAndGroups(e){e.forEachChangedNodeDepthFirst(t=>{if(t.childrenAfterGroup){const n=[],i=[];let o;t.childrenAfterGroup.forEach(s=>{var a;!((a=s.childrenAfterGroup)===null||a===void 0)&&a.length?s.key===""&&!o?o=s:i.push(s):n.push(s)}),o&&i.push(o),t.childrenAfterGroup=[...n,...i]}},!1)}createGroupingDetails(e){const{rowNode:t,changedPath:n,rowNodeTransactions:i,rowNodeOrder:o}=e,s=this.gridOptionsService.is("treeData"),a=s?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:a,rootNode:t,pivotMode:this.columnModel.isPivotMode(),groupedColCount:s||!a?0:a.length,rowNodeOrder:o,transactions:i,changedPath:n,groupAllowUnbalanced:this.gridOptionsService.is("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),createGroupFooter:this.gridOptionsService.isGroupIncludeFooterTrueOrCallback(),usingTreeData:s,getDataPath:s?this.gridOptionsService.get("getDataPath"):void 0}}handleTransaction(e){e.transactions.forEach(t=>{const n=e.usingTreeData?void 0:new wN;if(q.existsAndNotEmpty(t.remove)&&this.removeNodes(t.remove,e,n),q.existsAndNotEmpty(t.update)&&this.moveNodesInWrongPath(t.update,e,n),q.existsAndNotEmpty(t.add)&&this.insertNodes(t.add,e,!1),n){const i=n.getAllParents().slice();n.flush(),this.removeEmptyGroups(i,e)}}),e.rowNodeOrder&&this.sortChildren(e)}sortChildren(e){e.changedPath.forEachChangedNodeDepthFirst(t=>{if(!t.childrenAfterGroup)return;q.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)&&e.changedPath.addParentNode(t)},!1,!0)}orderGroups(e){const t=e.initialGroupOrderComparator;q.exists(t)&&n(e.rootNode);function n(i){q.exists(i.childrenAfterGroup)&&!i.leafGroup&&(i.childrenAfterGroup.sort((s,a)=>t({nodeA:s,nodeB:a})),i.childrenAfterGroup.forEach(s=>n(s)))}}getExistingPathForNode(e,t){const n=[];let i=t.usingTreeData?e:e.parent;for(;i&&i!==t.rootNode;)n.push({key:i.key,rowGroupColumn:i.rowGroupColumn,field:i.field}),i=i.parent;return n.reverse(),n}moveNodesInWrongPath(e,t,n){e.forEach(i=>{t.changedPath.isActive()&&t.changedPath.addParentNode(i.parent);const o=u=>u.key,s=this.getExistingPathForNode(i,t).map(o),a=this.getGroupInfo(i,t).map(o);q.areEqual(s,a)||this.moveNode(i,t,n)})}moveNode(e,t,n){if(this.removeNodesInStages([e],t,n),this.insertOneNode(e,t,!0,n),e.setData(e.data),t.changedPath.isActive()){const i=e.parent;t.changedPath.addParentNode(i)}}removeNodes(e,t,n){this.removeNodesInStages(e,t,n),t.changedPath.isActive()&&e.forEach(i=>t.changedPath.addParentNode(i.parent))}removeNodesInStages(e,t,n){if(this.removeNodesFromParents(e,t,n),t.usingTreeData){this.postRemoveCreateFillerNodes(e,t);const i=e.map(o=>o.parent);this.removeEmptyGroups(i,t)}}forEachParentGroup(e,t,n){let i=t;for(;i&&i!==e.rootNode;)n(i),i=i.parent}removeNodesFromParents(e,t,n){const i=n==null,o=n||new wN;e.forEach(s=>{this.removeFromParent(s,o),this.forEachParentGroup(t,s.parent,a=>{o.removeFromAllLeafChildren(a,s)})}),i&&o.flush()}postRemoveCreateFillerNodes(e,t){e.forEach(n=>{if(n.hasChildren()){const o=this.getExistingPathForNode(n,t),s=this.findParentForNode(n,o,t);s.expanded=n.expanded,s.allLeafChildren=n.allLeafChildren,s.childrenAfterGroup=n.childrenAfterGroup,s.childrenMapped=n.childrenMapped,s.updateHasChildren(),s.childrenAfterGroup.forEach(a=>a.parent=s)}})}removeEmptyGroups(e,t){let n=!0;const i=o=>{const s=this.getChildrenMappedKey(o.key,o.rowGroupColumn),a=o.parent;return(a&&a.childrenMapped?!a.childrenMapped[s]:!0)?!1:!!o.isEmptyRowGroupNode()};for(;n;){n=!1;const o=new wN;e.forEach(s=>{this.forEachParentGroup(t,s,a=>{i(a)&&(n=!0,this.removeFromParent(a,o),a.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),o.flush()}}removeFromParent(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(q.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));const n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[n]=void 0),e.setRowTop(null),e.setRowIndex(null)}addToParent(e,t){const n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(t.childrenMapped!=null&&(t.childrenMapped[n]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())}areGroupColsEqual(e,t){return e==null||t==null||e.pivotMode!==t.pivotMode?!1:q.areEqual(e.groupedCols,t.groupedCols)}checkAllGroupDataAfterColsChanged(e){const t=n=>{n&&n.forEach(i=>{if(!e.usingTreeData&&!i.group)return;const s={field:i.field,key:i.key,rowGroupColumn:i.rowGroupColumn};this.setGroupData(i,s,e),t(i.childrenAfterGroup)})};t(e.rootNode.childrenAfterGroup)}shotgunResetEverything(e,t){if(this.noChangeInGroupingColumns(e,t))return;this.selectionService.filterFromSelection(s=>s&&!s.group);const{rootNode:n,groupedCols:i}=e;n.leafGroup=e.usingTreeData?!1:i.length===0,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren();const o=n.sibling;o&&(o.childrenAfterGroup=n.childrenAfterGroup,o.childrenMapped=n.childrenMapped),this.insertNodes(n.allLeafChildren,e,!1)}noChangeInGroupingColumns(e,t){let n=!1;const i=this.columnModel.getGroupDisplayColumns(),o=i?i.map(s=>s.getId()).join("-"):"";return t&&(n=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==o&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=o,n}insertNodes(e,t,n){e.forEach(i=>{this.insertOneNode(i,t,n),t.changedPath.isActive()&&t.changedPath.addParentNode(i.parent)})}insertOneNode(e,t,n,i){const o=this.getGroupInfo(e,t),s=this.findParentForNode(e,o,t,i);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),t.usingTreeData?this.swapGroupWithUserNode(s,e,n):(e.parent=s,e.level=o.length,s.childrenAfterGroup.push(e),s.updateHasChildren())}findParentForNode(e,t,n,i){let o=n.rootNode;return t.forEach((s,a)=>{o=this.getOrCreateNextNode(o,s,a,n),i!=null&&i.isRemoveFromAllLeafChildren(o,e)?i==null||i.preventRemoveFromAllLeafChildren(o,e):o.allLeafChildren.push(e)}),o}swapGroupWithUserNode(e,t,n){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,n||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.sibling=e.sibling,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach(i=>i.parent=t),this.addToParent(t,e.parent)}getOrCreateNextNode(e,t,n,i){const o=this.getChildrenMappedKey(t.key,t.rowGroupColumn);let s=e.childrenMapped?e.childrenMapped[o]:void 0;return s||(s=this.createGroup(t,e,n,i),this.addToParent(s,e)),s}createGroup(e,t,n,i){const o=new Ke(this.beans);return o.group=!0,o.field=e.field,o.rowGroupColumn=e.rowGroupColumn,this.setGroupData(o,e,i),o.id=Ke.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),o.key=e.key,o.level=n,o.leafGroup=i.usingTreeData?!1:n===i.groupedColCount-1,o.allLeafChildren=[],o.setAllChildrenCount(0),o.rowGroupIndex=i.usingTreeData?null:n,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren(),o.parent=i.includeParents?t:null,this.setExpandedInitialValue(i,o),o}setGroupData(e,t,n){e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(o=>{(n.usingTreeData||(e.rowGroupColumn?o.isRowGroupDisplayed(e.rowGroupColumn.getId()):!1))&&(e.groupData[o.getColId()]=t.key)})}getChildrenMappedKey(e,t){return t?t.getId()+"-"+e:e}setExpandedInitialValue(e,t){if(e.pivotMode&&t.leafGroup){t.expanded=!1;return}const n=e.isGroupOpenByDefault;if(n){const o={rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn};t.expanded=n(o)==!0;return}const{expandByDefault:i}=e;if(e.expandByDefault===-1){t.expanded=!0;return}t.expanded=t.level<i}getGroupInfo(e,t){return t.usingTreeData?this.getGroupInfoFromCallback(e,t):this.getGroupInfoFromGroupColumns(e,t)}getGroupInfoFromCallback(e,t){const n=t.getDataPath?t.getDataPath(e.data):null;(n==null||n.length===0)&&q.doOnce(()=>console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data),"groupStage.getGroupInfoFromCallback");const i=o=>({key:o,field:null,rowGroupColumn:null});return n?n.map(i):[]}getGroupInfoFromGroupColumns(e,t){const n=[];return t.groupedCols.forEach(i=>{let o=this.valueService.getKeyForNode(i,e),s=o!=null&&o!=="";if((t.pivotMode||!t.groupAllowUnbalanced)&&!s&&(o="",s=!0),s){const l={key:o,field:i.getColDef().field,rowGroupColumn:i};n.push(l)}}),n}};By([x("columnModel")],Hh.prototype,"columnModel",void 0);By([x("selectableService")],Hh.prototype,"selectableService",void 0);By([x("valueService")],Hh.prototype,"valueService",void 0);By([x("beans")],Hh.prototype,"beans",void 0);By([x("selectionService")],Hh.prototype,"selectionService",void 0);Hh=By([De("groupStage")],Hh);var LM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TP;let Wp=TP=class extends de{init(){const e=()=>{var n;return(n=this.gos.get("serverSidePivotResultFieldSeparator"))!==null&&n!==void 0?n:"_"};this.fieldSeparator=e(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",()=>{this.fieldSeparator=e()});const t=()=>{var n;return(n=this.gos.getNum("pivotDefaultExpanded"))!==null&&n!==void 0?n:0};this.pivotDefaultExpanded=t(),this.addManagedPropertyListener("pivotDefaultExpanded",()=>{this.pivotDefaultExpanded=t()})}createPivotColumnDefs(e){const t=this.createPivotColumnsFromUniqueValues(e);function n(s,a=[]){return s.forEach(l=>{l.children!==void 0?n(l.children,a):a.push(l)}),a}const i=n(t);this.addRowGroupTotals(t,i),this.addExpandablePivotGroups(t,i),this.addPivotTotalsToGroups(t,i);const o=i.map(s=>q.cloneObject(s));return{pivotColumnGroupDefs:t,pivotColumnDefs:o}}createPivotColumnsFromUniqueValues(e){const t=this.columnModel.getPivotColumns(),n=t.length;return this.recursivelyBuildGroup(0,e,[],n,t)}recursivelyBuildGroup(e,t,n,i,o){const s=this.columnModel.getValueColumns();if(e>=i)return this.buildMeasureCols(n);const a=o[e].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(s.length===1&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&e===i-1){const c=[];return q.iterateObject(t,d=>{const h=[...n,d],f=this.createColDef(s[0],d,h);f.columnGroupShow="open",c.push(f)}),c.sort(l),c}const u=[];return q.iterateObject(t,(c,d)=>{const h=this.pivotDefaultExpanded===-1||e<this.pivotDefaultExpanded,f=[...n,c];u.push({children:this.recursivelyBuildGroup(e+1,d,f,i,o),headerName:c,pivotKeys:f,columnGroupShow:"open",openByDefault:h,groupId:this.generateColumnGroupId(f)})}),u.sort(l),u}buildMeasureCols(e){const t=this.columnModel.getValueColumns();return t.length===0?[this.createColDef(null,"-",e)]:t.map(n=>{const i=this.columnModel.getDisplayNameForColumn(n,"header");return Object.assign(Object.assign({},this.createColDef(n,i,e)),{columnGroupShow:"open"})})}addExpandablePivotGroups(e,t){if(this.gridOptionsService.is("suppressExpandablePivotGroups")||this.gridOptionsService.get("pivotColumnGroupTotals"))return;const n=(i,o,s)=>{const a=i;if(a.children){const l=new Map;a.children.forEach(c=>{n(c,o,l)});const u=!a.children.some(c=>c.children);this.columnModel.getValueColumns().forEach(c=>{const d=this.columnModel.getDisplayNameForColumn(c,"header"),h=this.createColDef(c,d,i.pivotKeys);h.pivotTotalColumnIds=l.get(c.getColId()),h.columnGroupShow="closed",h.aggFunc=c.getAggFunc(),u||(i.children.push(h),o.push(h))}),this.merge(s,l)}else{const l=i;if(!l.pivotValueColumn)return;const u=l.pivotValueColumn.getColId(),c=s.has(u)?s.get(u):[];c.push(l.colId),s.set(u,c)}};e.forEach(i=>{n(i,t,new Map)})}addPivotTotalsToGroups(e,t){if(!this.gridOptionsService.get("pivotColumnGroupTotals"))return;const n=this.gridOptionsService.get("pivotColumnGroupTotals")==="after",i=this.columnModel.getValueColumns(),o=i.map(a=>a.getAggFunc());if(!o||o.length<1||!this.sameAggFuncs(o))return;const s=i[0];e.forEach(a=>{this.recursivelyAddPivotTotal(a,t,s,n)})}recursivelyAddPivotTotal(e,t,n,i){const o=e;if(!o.children){const a=e;return a.colId?[a.colId]:null}let s=[];if(o.children.forEach(a=>{const l=this.recursivelyAddPivotTotal(a,t,n,i);l&&(s=s.concat(l))}),o.children.length>1){const l=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),u=this.createColDef(n,l,e.pivotKeys,!0);u.pivotTotalColumnIds=s,u.aggFunc=n.getAggFunc();const c=e.children;i?c.push(u):c.unshift(u),t.push(u)}return s}addRowGroupTotals(e,t){if(!this.gridOptionsService.get("pivotRowTotals"))return;const n=this.gridOptionsService.get("pivotRowTotals")==="after",i=this.columnModel.getValueColumns(),o=n?i.slice():i.slice().reverse();for(let s=0;s<o.length;s++){const a=o[s];let l=[];e.forEach(c=>{l=l.concat(this.extractColIdsForValueColumn(c,a))});const u=o.length>1||!this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");this.createRowGroupTotal(e,t,a,l,n,u)}}extractColIdsForValueColumn(e,t){const n=e;if(!n.children){const o=n;return o.pivotValueColumn===t&&o.colId?[o.colId]:[]}let i=[];return n.children.forEach(o=>{this.extractColIdsForValueColumn(o,t);const s=this.extractColIdsForValueColumn(o,t);i=i.concat(s)}),i}createRowGroupTotal(e,t,n,i,o,s){const a=this.columnModel.getValueColumns();let l;if(a.length===0)l=this.createColDef(null,"-",[]);else{const c=this.columnModel.getDisplayNameForColumn(n,"header");l=this.createColDef(n,c,[]),l.pivotTotalColumnIds=i}l.colId=TP.PIVOT_ROW_TOTAL_PREFIX+l.colId,t.push(l);const u=s?{children:[l],pivotKeys:[],groupId:`${TP.PIVOT_ROW_TOTAL_PREFIX}_pivotGroup_${n.getColId()}`}:l;o?e.push(u):e.unshift(u)}createColDef(e,t,n,i=!1){const o={};if(e){const s=e.getColDef();Object.assign(o,s),o.hide=!1}return o.headerName=t,o.colId=this.generateColumnId(n||[],e&&!i?e.getColId():""),o.field=o.colId,o.valueGetter=s=>{var a;return(a=s.data)===null||a===void 0?void 0:a[s.colDef.field]},o.pivotKeys=n,o.pivotValueColumn=e,o.filter===!0&&(o.filter="agNumberColumnFilter"),o}sameAggFuncs(e){if(e.length==1)return!0;for(let t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0}headerNameComparator(e,t,n){return e?e(t.headerName,n.headerName):t.headerName&&!n.headerName?1:!t.headerName&&n.headerName?-1:!t.headerName||!n.headerName?0:t.headerName<n.headerName?-1:t.headerName>n.headerName?1:0}merge(e,t){t.forEach((n,i,o)=>{const a=[...e.has(i)?e.get(i):[],...n];e.set(i,a)})}generateColumnGroupId(e){return`pivotGroup_${this.columnModel.getPivotColumns().map(n=>n.getColId()).join("-")}_${e.join("-")}`}generateColumnId(e,t){return`pivot_${this.columnModel.getPivotColumns().map(i=>i.getColId()).join("-")}_${e.join("-")}_${t}`}createColDefsFromFields(e){const t={};for(let o=0;o<e.length;o++){const a=e[o].split(this.fieldSeparator);let l=t;for(let u=0;u<a.length;u++){const c=a[u];l[c]==null&&(l[c]={}),l=l[c]}}const n=(o,s,a,l)=>{var u;const c=[];for(let f in a){const p=a[f],g=n(`${o}${this.fieldSeparator}${f}`,f,p,l+1);c.push(g)}if(c.length===0){const f={colId:o,headerName:s,valueGetter:g=>{var C;return(C=g.data)===null||C===void 0?void 0:C[o]}},p=this.columnModel.getPrimaryColumn(s);return p&&(f.headerName=(u=this.columnModel.getDisplayNameForColumn(p,"header"))!==null&&u!==void 0?u:s,f.aggFunc=p.getAggFunc(),f.pivotValueColumn=p),f}return this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&c.length===1&&"colId"in c[0]?(c[0].headerName=s,c[0]):{openByDefault:this.pivotDefaultExpanded===-1||l<this.pivotDefaultExpanded,groupId:o,headerName:s,children:c}},i=[];for(let o in t){const s=t[o],a=n(o,o,s,0);i.push(a)}return i}};Wp.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_";LM([x("columnModel")],Wp.prototype,"columnModel",void 0);LM([x("gridOptionsService")],Wp.prototype,"gos",void 0);LM([ge],Wp.prototype,"init",null);Wp=TP=LM([De("pivotColDefService")],Wp);var NM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Yv=class extends de{constructor(){super(...arguments),this.uniqueValues={}}execute(e){const t=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(t):this.executePivotOff(t)}executePivotOff(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())}executePivotOn(e){const t=this.bucketUpRowNodes(e),n=this.setUniqueValues(t),i=this.columnModel.getValueColumns(),o=i.map(d=>`${d.getId()}-${d.getColDef().headerName}`).join("#"),s=i.map(d=>d.getAggFunc().toString()).join("#"),a=this.aggregationColumnsHashLastTime!==o,l=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=o,this.aggregationFuncsHashLastTime=s;const u=this.columnModel.getRowGroupColumns().map(d=>d.getId()).join("#"),c=u!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=u,n||a||c||l){const{pivotColumnGroupDefs:d,pivotColumnDefs:h}=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues);this.pivotColumnDefs=h,this.columnModel.setSecondaryColumns(d,"rowModelUpdated"),e&&e.setInactive()}}setUniqueValues(e){const t=JSON.stringify(e),n=JSON.stringify(this.uniqueValues);return t!==n?(this.uniqueValues=e,!0):!1}bucketUpRowNodes(e){const t={};e.forEachChangedNodeDepthFirst(i=>{i.leafGroup&&(i.childrenMapped=null)});const n=i=>{var o;i.leafGroup?this.bucketRowNode(i,t):(o=i.childrenAfterFilter)===null||o===void 0||o.forEach(n)};return e.executeFromRootNode(n),t}bucketRowNode(e,t){const n=this.columnModel.getPivotColumns();n.length===0?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,n,0,t),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)}bucketChildren(e,t,n,i){const o={},s=t[n];if(e.forEach(a=>{let l=this.valueService.getKeyForNode(s,a);q.missing(l)&&(l=""),i[l]||(i[l]={}),o[l]||(o[l]=[]),o[l].push(a)}),n===t.length-1)return o;{const a={};return q.iterateObject(o,(l,u)=>{a[l]=this.bucketChildren(u,t,n+1,i[l])}),a}}getPivotColumnDefs(){return this.pivotColumnDefs}};NM([x("valueService")],Yv.prototype,"valueService",void 0);NM([x("columnModel")],Yv.prototype,"columnModel",void 0);NM([x("pivotColDefService")],Yv.prototype,"pivotColDefService",void 0);Yv=NM([De("pivotStage")],Yv);var Ufe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qa;const ru=typeof BigInt>"u"?null:BigInt;let Pl=Qa=class extends de{constructor(){super(...arguments),this.aggFuncsMap={},this.initialised=!1}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))}initialiseWithDefaultAggregations(){this.aggFuncsMap[Qa.AGG_SUM]=AQe,this.aggFuncsMap[Qa.AGG_FIRST]=xQe,this.aggFuncsMap[Qa.AGG_LAST]=IQe,this.aggFuncsMap[Qa.AGG_MIN]=FQe,this.aggFuncsMap[Qa.AGG_MAX]=MQe,this.aggFuncsMap[Qa.AGG_COUNT]=LQe,this.aggFuncsMap[Qa.AGG_AVG]=NQe,this.initialised=!0}isAggFuncPossible(e,t){const n=this.getFuncNames(e),i=q.includes(n,t),o=q.exists(this.aggFuncsMap[t]);return i&&o}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if(q.exists(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,Qa.AGG_SUM))return Qa.AGG_SUM;const n=this.getFuncNames(e);return q.existsAndNotEmpty(n)?n[0]:null}addAggFuncs(e){q.iterateObject(e,this.addAggFunc.bind(this))}addAggFunc(e,t){this.init(),this.aggFuncsMap[e]=t}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return t??Object.keys(this.aggFuncsMap).sort()}clear(){this.aggFuncsMap={}}};Pl.AGG_SUM="sum";Pl.AGG_FIRST="first";Pl.AGG_LAST="last";Pl.AGG_MIN="min";Pl.AGG_MAX="max";Pl.AGG_COUNT="count";Pl.AGG_AVG="avg";Ufe([ge],Pl.prototype,"init",null);Pl=Qa=Ufe([De("aggFuncService")],Pl);function AQe(r){const{values:e}=r;let t=null;for(let n=0;n<e.length;n++){const i=e[n];typeof i=="number"?t===null?t=i:ru?t+=typeof t=="number"?i:ru(i):t+=i:typeof i=="bigint"&&(t===null?t=i:t=(typeof t=="bigint"?t:ru(t))+i)}return t}function xQe(r){return r.values.length>0?r.values[0]:null}function IQe(r){return r.values.length>0?q.last(r.values):null}function FQe(r){const{values:e}=r;let t=null;for(let n=0;n<e.length;n++){const i=e[n];(typeof i=="number"||typeof i=="bigint")&&(t===null||t>i)&&(t=i)}return t}function MQe(r){const{values:e}=r;let t=null;for(let n=0;n<e.length;n++){const i=e[n];(typeof i=="number"||typeof i=="bigint")&&(t===null||t<i)&&(t=i)}return t}function LQe(r){var e,t;const{values:n}=r;let i=0;for(let s=0;s<n.length;s++){const a=n[s];i+=a!=null&&typeof a.value=="number"?a.value:1}const o=(t=(e=r.rowNode)===null||e===void 0?void 0:e.aggData)===null||t===void 0?void 0:t[r.column.getColId()];return o&&o.value===i?o:{value:i,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function NQe(r){var e,t,n;const{values:i}=r;let o=0,s=0;for(let u=0;u<i.length;u++){const c=i[u];let d=null;typeof c=="number"||typeof c=="bigint"?(d=c,s++):c!=null&&(typeof c.value=="number"||typeof c.value=="bigint")&&typeof c.count=="number"&&(ru?d=c.value*(typeof c.value=="number"?c.count:ru(c.count)):d=c.value*c.count,s+=c.count),typeof d=="number"?ru?o+=typeof o=="number"?d:ru(d):o+=d:typeof d=="bigint"&&(o=(typeof o=="bigint"?o:ru(o))+d)}let a=null;s>0&&(ru?a=o/(typeof o=="number"?s:ru(s)):a=o/s);const l=(t=(e=r.rowNode)===null||e===void 0?void 0:e.aggData)===null||t===void 0?void 0:t[(n=r.column)===null||n===void 0?void 0:n.getColId()];return l&&l.count===s&&l.value===a?l:{count:s,value:a,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}var Yu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class ki extends ke{constructor(e,t,n,i,o){super(),this.column=e,this.dragSourceDropTarget=t,this.ghost=n,this.dropZonePurpose=i,this.horizontal=o,this.popupShowing=!1}init(){this.setTemplate(ki.TEMPLATE);const e=this.getGui(),t=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(q.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(q.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!t&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,rt.EVENT_SORT_CHANGED,()=>{this.setupAria()}),this.setupTooltip(),this.activateTabIndex()}setupAria(){const e=this.localeService.getLocaleTextFunc(),{name:t,aggFuncName:n}=this.getColumnAndAggFuncName(),i=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),o={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=this.gridOptionsService.is("rowGroupPanelSuppressSort"),l=[[n&&`${n}${i}`,t,this.isGroupingZone()&&!a&&s&&`, ${o[s]}`].filter(d=>!!d).join("")],u=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!u){const d=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");l.push(d)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!a){const d=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");l.push(d)}const c=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");l.push(c),q.setAriaLabel(this.getGui(),l.join(". "))}setupTooltip(){const e=()=>{const t=this.column.getColDef().headerTooltip;this.setTooltip(t)};e(),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,e)}setupSort(){const e=this.column.getColDef().sortable,t=this.isGroupingZone();if(!(!e||!t)&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const n=i=>{i.preventDefault();const s=this.gridOptionsService.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.sortController.progressSort(this.column,s,"uiColumnSorted")};this.addGuiEventListener("click",n),this.addGuiEventListener("keydown",i=>{i.key===X.ENTER&&this.isGroupingZone()&&n(i)})}}addDragSource(){const e={type:Nr.ToolPanel,eElement:this.eDragHandle,getDefaultIconName:()=>Ct.ICON_HIDE,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(e))}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}setupRemove(){q.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));const e={type:ki.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",n=>{const i=n.key===X.ENTER;n.key===X.DELETE&&(n.preventDefault(),this.dispatchEvent(e)),i&&this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&(n.preventDefault(),this.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",n=>{this.dispatchEvent(e),n.stopPropagation()});const t=new Mr(this.eButton);this.addManagedListener(t,Mr.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const n=this.column.getAggFunc(),i=typeof n=="string"?n:"agg";t=this.localeService.getLocaleTextFunc()(i,i)}return{name:e,aggFuncName:t}}setTextValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName(),n=this.isAggregationZone()?`${t}(${e})`:e,i=q.escapeString(n);this.eText.innerHTML=i}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const e=new rd({cssIdentifier:"select-agg-func"}),t=this.aggFuncService.getFuncNames(this.column),n=this.getGui(),i=e.getGui();e.setModel({getRow:function(d){return t[d]},getRowCount:function(){return t.length}}),this.getContext().createBean(e);const o=q.loadTemplate('<div class="ag-select-agg-func-popup"></div>');o.style.top="0px",o.style.left="0px",o.appendChild(i),o.style.width=`${n.clientWidth}px`;const s=this.addManagedListener(o,"focusout",d=>{!o.contains(d.relatedTarget)&&u&&u.hideFunc()}),a=d=>{this.destroyBean(e),this.popupShowing=!1,(d==null?void 0:d.key)==="Escape"&&n.focus(),s&&s()},l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:a,ariaLabel:l("ariaLabelAggregationFunction","Aggregation Function")});u&&e.setComponentCreator(this.createAggSelect.bind(this,u.hideFunc)),e.addGuiEventListener("keydown",d=>{if(d.key===X.ENTER||d.key===X.SPACE){const h=e.getLastFocusedRow();if(h==null)return;const f=e.getComponentAt(h);f&&f.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:n,ePopup:o,keepWithinBounds:!0,column:this.column,position:"under"}),e.refresh();let c=t.findIndex(d=>d===this.column.getAggFunc());c===-1&&(c=0),e.focusRow(c)}createAggSelect(e,t){const n=()=>{if(e(),this.gridOptionsService.is("functionsPassive")){const l={type:A.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[this.column],aggFunc:t};this.eventService.dispatchEvent(l)}else this.columnModel.setColumnAggFunc(this.column,t,"toolPanelDragAndDrop")},i=this.localeService.getLocaleTextFunc(),o=t.toString(),s=i(o,o);return new GQe(n,s)}addElementClasses(e,t){t=t?`-${t}`:"";const n=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${n}-cell${t}`)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}}ki.EVENT_COLUMN_REMOVE="columnRemove";ki.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;Yu([x("dragAndDropService")],ki.prototype,"dragAndDropService",void 0);Yu([x("columnModel")],ki.prototype,"columnModel",void 0);Yu([x("popupService")],ki.prototype,"popupService",void 0);Yu([Bt("aggFuncService")],ki.prototype,"aggFuncService",void 0);Yu([x("sortController")],ki.prototype,"sortController",void 0);Yu([pe("eText")],ki.prototype,"eText",void 0);Yu([pe("eDragHandle")],ki.prototype,"eDragHandle",void 0);Yu([pe("eButton")],ki.prototype,"eButton",void 0);Yu([pe("eSortIndicator")],ki.prototype,"eSortIndicator",void 0);Yu([ge],ki.prototype,"init",null);class GQe extends ke{constructor(e,t){super('<div class="ag-select-agg-func-item"/>'),this.selectItem=e,this.getGui().innerText=t,this.addGuiEventListener("click",this.selectItem)}}var zfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Pi extends ke{constructor(e,t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.dropZonePurpose=t,this.state=Pi.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childColumnComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.eColumnDropList=document.createElement("div"),this.addElementClasses(this.eColumnDropList,"list"),q.setAriaRole(this.eColumnDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}setBeans(e){this.beans=e}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,q.clearElement(this.getGui()),q.clearElement(this.eColumnDropList)}init(e){this.params=e,this.createManagedBean(new na(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new vg(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),q.setAriaLabel(this.eColumnDropList,this.getAriaLabel())}handleKeyDown(e){const t=!this.horizontal;let n=e.key===X.DOWN,i=e.key===X.UP;if(!t){const s=this.gridOptionsService.is("enableRtl");n=!s&&e.key===X.RIGHT||s&&e.key===X.LEFT,i=!s&&e.key===X.LEFT||s&&e.key===X.RIGHT}if(!n&&!i)return;const o=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,i);o&&(e.preventDefault(),o.focus())}addElementClasses(e,t){t=t?`-${t}`:"";const n=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${n}${t}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)}isInterestedIn(e){return e===Nr.HeaderCell||e===Nr.ToolPanel}checkInsertIndex(e){const t=this.getNewInsertIndex(e);if(t<0)return!1;const n=t!==this.insertIndex;return n&&(this.insertIndex=t),n}getNewInsertIndex(e){const t=e.event,n=this.horizontal?t.clientX:t.clientY,i=this.childColumnComponents.map(s=>s.getGui().getBoundingClientRect()),o=i.findIndex(s=>this.horizontal?s.right>n&&s.left<n:s.top<n&&s.bottom>n);if(o===-1){const s=this.beans.gridOptionsService.is("enableRtl");return i.every(u=>n>(this.horizontal?u.right:u.bottom))?s&&this.horizontal?0:this.childColumnComponents.length:i.every(u=>n<(this.horizontal?u.left:u.top))?s&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=o?o+1:o}checkDragStartedBySelf(e){this.state===Pi.STATE_NOT_DRAGGING&&(this.state=Pi.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}onDragEnter(e){const t=e.dragSource.getDragItem().columns||[];this.state=Pi.STATE_NEW_COLUMNS_IN;const n=t.filter(this.isColumnDroppable.bind(this));if(n.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!e.fromNudge){const s=e.dragSource.getDragItem().columns;this.setColumnsVisible(s,!1,"uiColumnDragged")}this.potentialDndColumns=n,this.checkInsertIndex(e),this.refreshGui()}}setColumnsVisible(e,t,n="api"){if(e){const i=e.filter(o=>!o.getColDef().lockVisible);this.colModel.setColumnsVisible(i,t,n)}}isPotentialDndColumns(){return q.existsAndNotEmpty(this.potentialDndColumns)}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}onDragLeave(e){if(this.state===Pi.STATE_REARRANGE_COLUMNS){const t=e.dragSource.getDragItem().columns||[];this.removeColumns(t)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge){const n=e.dragSource.getDragItem();this.setColumnsVisible(n.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=Pi.STATE_NOT_DRAGGING}onDragStop(){if(this.isPotentialDndColumns()){let e=!1;this.state===Pi.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.is("functionsPassive")||!e)&&this.refreshGui()}this.state=Pi.STATE_NOT_DRAGGING}removeColumns(e){const t=this.getExistingColumns().filter(n=>!q.includes(e,n));this.updateColumns(t)}addColumns(e){if(!e)return;const t=this.getExistingColumns().slice(),n=e.filter(i=>t.indexOf(i)<0);q.insertArrayIntoArray(t,n,this.insertIndex),this.updateColumns(t)}rearrangeColumns(e){const t=this.getNonGhostColumns().slice();return q.insertArrayIntoArray(t,e,this.insertIndex),q.areEqual(t,this.getExistingColumns())?!1:(this.updateColumns(t),!0)}refreshGui(){const e=this.eColumnDropList.scrollTop,t=this.resizeEnabled,n=this.getFocusedItem();let i=this.focusService.findNextFocusableElement();i||(i=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),t&&this.toggleResizable(t),this.focusService.isKeyboardMode()&&this.restoreFocus(n,i)}getFocusedItem(){const e=this.getGui(),t=this.gridOptionsService.getDocument().activeElement;return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}restoreFocus(e,t){const n=this.getGui(),i=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;i.length===0&&t.focus();const o=Math.min(i.length-1,e),s=i[o];s&&s.focus()}getNonGhostColumns(){const e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter(t=>!q.includes(this.potentialDndColumns,t)):e}addColumnsToGui(){const t=this.getNonGhostColumns().map(n=>this.createColumnComponent(n,!1));if(this.isPotentialDndColumns()){const n=this.potentialDndColumns.map(i=>this.createColumnComponent(i,!0));this.insertIndex>=t.length?t.push(...n):t.splice(this.insertIndex,0,...n)}this.appendChild(this.eColumnDropList),t.forEach((n,i)=>{i>0&&this.addArrow(this.eColumnDropList),this.eColumnDropList.appendChild(n.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childColumnComponents.forEach((e,t)=>{const n=e.getGui();q.setAriaPosInSet(n,t+1),q.setAriaSetSize(n,this.childColumnComponents.length)})}createColumnComponent(e,t){const n=new ki(e,this.dropTarget,t,this.dropZonePurpose,this.horizontal);return n.addEventListener(ki.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(n),this.guiDestroyFunctions.push(()=>this.destroyBean(n)),t||this.childColumnComponents.push(n),n}addIconAndTitleToGui(){const e=this.params.icon,t=document.createElement("div");if(q.setAriaHidden(t,!0),this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){const n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,t.appendChild(n)}this.appendChild(t)}isExistingColumnsEmpty(){return this.getExistingColumns().length===0}addEmptyMessageToGui(){if(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())return;const e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}addArrow(e){if(this.horizontal){const t=this.beans.gridOptionsService.is("enableRtl"),n=q.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}}}Pi.STATE_NOT_DRAGGING="notDragging";Pi.STATE_NEW_COLUMNS_IN="newColumnsIn";Pi.STATE_REARRANGE_COLUMNS="rearrangeColumns";zfe([x("columnModel")],Pi.prototype,"colModel",void 0);zfe([x("focusService")],Pi.prototype,"focusService",void 0);var GM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Up extends Pi{constructor(e){super(e,"rowGroup")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const e=this.localeService.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=e("groups","Row Groups");super.init({dragAndDropIcon:Ct.ICON_GROUP,icon:q.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:t,title:n}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}getTooltipParams(){const e=super.getTooltipParams();return e.location="rowGroupColumnsList",e}isColumnDroppable(e){return this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&!e.isRowGroupActive()}updateColumns(e){if(this.gridOptionsService.is("functionsPassive")){const t={type:A.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(t)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndColumns()?Ct.ICON_GROUP:Ct.ICON_NOT_ALLOWED}getExistingColumns(){return this.columnModel.getRowGroupColumns()}}GM([x("columnModel")],Up.prototype,"columnModel",void 0);GM([x("loggerFactory")],Up.prototype,"loggerFactory",void 0);GM([x("dragAndDropService")],Up.prototype,"dragAndDropService",void 0);GM([ge],Up.prototype,"passBeansUp",null);var VM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class zp extends Pi{constructor(e){super(e,"pivot")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const e=this.localeService.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),n=e("pivots","Column Labels");super.init({dragAndDropIcon:Ct.ICON_GROUP,icon:q.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:t,title:n}),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}getTooltipParams(){const e=super.getTooltipParams();return e.location="pivotColumnsList",e}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":const t=this.columnModel.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1);break}else this.setDisplayed(e)}isColumnDroppable(e){return this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&!e.isPivotActive()}updateColumns(e){if(this.gridOptionsService.is("functionsPassive")){const t={type:A.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(t)}else this.columnModel.setPivotColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndColumns()?Ct.ICON_PIVOT:Ct.ICON_NOT_ALLOWED}getExistingColumns(){return this.columnModel.getPivotColumns()}}VM([x("columnModel")],zp.prototype,"columnModel",void 0);VM([x("loggerFactory")],zp.prototype,"loggerFactory",void 0);VM([x("dragAndDropService")],zp.prototype,"dragAndDropService",void 0);VM([ge],zp.prototype,"passBeansUp",null);var Kfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class aU extends ke{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,A.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()}createNorthPanel(){const e=document.createElement("div"),t=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),q.setAriaRole(e,"presentation"),this.rowGroupComp=new Up(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new zp(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ke.EVENT_DISPLAYED_CHANGED,t),this.addManagedListener(this.pivotComp,ke.EVENT_DISPLAYED_CHANGED,t),this.onDropPanelVisible(),e}onDropPanelVisible(){const e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)}onRowGroupChanged(){if(!this.rowGroupComp)return;const e=this.gridOptionsService.get("rowGroupPanelShow");if(e==="always")this.rowGroupComp.setDisplayed(!0);else if(e==="onlyWhenGrouping"){const t=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}}Kfe([x("columnModel")],aU.prototype,"columnModel",void 0);Kfe([ge],aU.prototype,"postConstruct",null);var lU=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let mE=class extends de{execute(e){const t=this.columnModel.isPivotMode(),n=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),i=c=>!c.node.group,o=c=>c.node.leafGroup,s=this.gridOptionsService.getGroupAggFiltering()||(t?o:i),{changedPath:a}=e,l=(c,d=!1)=>{c.childrenAfterFilter&&(c.childrenAfterAggFilter=c.childrenAfterFilter,d&&c.childrenAfterAggFilter.forEach(h=>l(h,d)),this.setAllChildrenCount(c)),c.sibling&&(c.sibling.childrenAfterAggFilter=c.childrenAfterAggFilter)},u=c=>{var d;c.childrenAfterAggFilter=((d=c.childrenAfterFilter)===null||d===void 0?void 0:d.filter(h=>{var f;return s({node:h})&&this.filterManager.doesRowPassAggregateFilters({rowNode:h})?(l(h,!0),!0):(f=h.childrenAfterAggFilter)===null||f===void 0?void 0:f.length}))||null,this.setAllChildrenCount(c),c.sibling&&(c.sibling.childrenAfterAggFilter=c.childrenAfterAggFilter)};a.forEachChangedNodeDepthFirst(n?u:l,!0)}setAllChildrenCountTreeData(e){let t=0;e.childrenAfterAggFilter.forEach(n=>{t++,t+=n.allChildrenCount}),e.setAllChildrenCount(t)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach(n=>{n.group?t+=n.allChildrenCount:t++}),e.setAllChildrenCount(t)}setAllChildrenCount(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gridOptionsService.is("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)}};lU([x("filterManager")],mE.prototype,"filterManager",void 0);lU([x("columnModel")],mE.prototype,"columnModel",void 0);mE=lU([De("filterAggregatesStage")],mE);const VQe="30.2.1";var cR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Xs extends X_{constructor(){super(`
            <div class="ag-group-filter">
                <div ref="eGroupField"></div>
                <div ref="eUnderlyingFilter"></div>
            </div>
        `)}postConstruct(){this.initialiseTabGuard({})}init(e){return this.params=e,this.validateParams(),this.updateGroups().then(()=>{this.addManagedListener(this.eventService,A.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onColumnRowGroupChanged())})}validateParams(){const{colDef:e}=this.params;e.field&&q.doOnce(()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.'),"groupFilterFieldParam"),e.filterValueGetter&&q.doOnce(()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),"groupFilterFilterValueGetterParam"),e.filterParams&&q.doOnce(()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.'),"groupFilterFilterParams")}updateGroups(){const e=this.updateGroupField();return this.getUnderlyingFilters(e)}getSourceColumns(){if(this.groupColumn=this.params.column,this.gridOptionsService.is("treeData"))return q.doOnce(()=>console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),"groupFilterTreeData"),[];const e=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return e||(q.doOnce(()=>console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter."),"groupFilterNotGroupColumn"),[])}updateGroupField(){q.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);const e=this.getSourceColumns(),t=e.filter(n=>n.isFilterAllowed());return t.length?(e.length===1?(this.selectedColumn=t[0],q.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!t.some(n=>n.getId()===this.selectedColumn.getId()))&&(this.selectedColumn=t[0]),this.createGroupFieldSelectElement(t),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(q.loadTemplate('<div class="ag-filter-separator"></div>')),q.setDisplayed(this.eGroupField,!0)),t):(this.selectedColumn=void 0,q.setDisplayed(this.eGroupField,!1),null)}createGroupFieldSelectElement(e){this.eGroupFieldSelect=this.createManagedBean(new XF);const t=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(t("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(n=>{var i;return{value:n.getId(),text:(i=this.columnModel.getDisplayNameForColumn(n,"groupFilter",!1))!==null&&i!==void 0?i:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(n=>this.updateSelectedColumn(n)),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),e.length===1&&this.eGroupFieldSelect.setDisabled(!0)}getUnderlyingFilters(e){if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),ur.resolve();const t=[],n=[];return e.forEach(i=>{const o=this.filterManager.getOrCreateFilterWrapper(i,"COLUMN_MENU");o!=null&&o.filterPromise&&t.push(o.filterPromise.then(s=>(s&&n.push({filter:s,column:i}),i.getId()===this.selectedColumn.getId()&&(this.selectedFilter=s??void 0),s)))}),ur.all(t).then(()=>{this.filterColumnPairs=n,this.groupColumn.setFilterActive(this.isFilterActive(),"columnRowGroupChanged")})}addUnderlyingFilterElement(){if(q.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return ur.resolve();const e=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return e?e.guiPromise.then(t=>{var n;this.eUnderlyingFilter.appendChild(t),(n=e.filterPromise)===null||n===void 0||n.then(i=>{var o,s;(o=i==null?void 0:i.afterGuiAttached)===null||o===void 0||o.call(i,this.afterGuiAttachedParams),!(!((s=this.afterGuiAttachedParams)===null||s===void 0)&&s.suppressFocus)&&this.eGroupFieldSelect&&!this.eGroupFieldSelect.isDisabled()&&this.eGroupFieldSelect.getFocusableElement().focus()})}):ur.resolve()}updateSelectedColumn(e){var t,n;if(!e)return;(n=(t=this.selectedFilter)===null||t===void 0?void 0:t.afterGuiDetached)===null||n===void 0||n.call(t);const i=this.getFilterColumnPair(e);this.selectedColumn=i==null?void 0:i.column,this.selectedFilter=i==null?void 0:i.filter,this.dispatchEvent({type:Xs.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}isFilterActive(){var e;return!!(!((e=this.filterColumnPairs)===null||e===void 0)&&e.some(({filter:t})=>t.isFilterActive()))}doesFilterPass(){return!0}getModel(){return null}setModel(){return ur.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()}afterGuiDetached(){var e,t;q.clearElement(this.eUnderlyingFilter),(t=(e=this.selectedFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||t===void 0||t.call(e)}onColumnRowGroupChanged(){this.updateGroups().then(()=>{this.dispatchEvent({type:Xs.EVENT_COLUMN_ROW_GROUP_CHANGED}),this.eventService.dispatchEvent({type:"filterAllowedUpdated"})})}getFilterColumnPair(e){var t;if(e)return(t=this.filterColumnPairs)===null||t===void 0?void 0:t.find(({column:n})=>n.getId()===e)}getSelectedFilter(){return this.selectedFilter}getSelectedColumn(){return this.selectedColumn}isFilterAllowed(){return!!this.selectedColumn}destroy(){super.destroy()}}Xs.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";Xs.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged";cR([x("filterManager")],Xs.prototype,"filterManager",void 0);cR([x("columnModel")],Xs.prototype,"columnModel",void 0);cR([pe("eGroupField")],Xs.prototype,"eGroupField",void 0);cR([pe("eUnderlyingFilter")],Xs.prototype,"eUnderlyingFilter",void 0);cR([ge],Xs.prototype,"postConstruct",null);var uU=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class kM extends ke{constructor(){super(`
            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>
        `),this.haveAddedColumnListeners=!1}init(e){this.params=e;const t=this.gridOptionsService.get("groupDisplayType")==="multipleColumns";return new ur(n=>{this.params.parentFilterInstance(i=>{this.parentFilterInstance=i,t?this.setupUnderlyingFloatingFilterElement().then(()=>n()):(this.setupReadOnlyFloatingFilterElement(),n())})}).then(()=>{this.addManagedListener(this.parentFilterInstance,Xs.EVENT_SELECTED_COLUMN_CHANGED,()=>this.onSelectedColumnChanged()),this.addManagedListener(this.parentFilterInstance,Xs.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onColumnRowGroupChanged())})}onParamsUpdated(e){this.params=e,this.setParams()}setParams(){var e;const t=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),n=this.localeService.getLocaleTextFunc();(e=this.eFloatingFilterText)===null||e===void 0||e.setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}setupReadOnlyFloatingFilterElement(){this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new Ry),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,q.clearElement(this.eFloatingFilter);const e=this.parentFilterInstance.getSelectedColumn();if(e&&!e.isVisible()){const t=this.filterManager.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(t)return this.compDetails=t,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(e,rt.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(e,rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),t.newAgStackInstance().then(n=>{var i,o;this.underlyingFloatingFilter=n,(i=this.underlyingFloatingFilter)===null||i===void 0||i.onParentModelChanged((o=this.parentFilterInstance.getSelectedFilter())===null||o===void 0?void 0:o.getModel()),this.appendChild(n.getGui()),this.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),ur.resolve()}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement()}onColDefChanged(e){var t,n;if(!e.column)return;const i=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);i&&((n=(t=this.underlyingFloatingFilter)===null||t===void 0?void 0:t.onParamsUpdated)===null||n===void 0||n.call(t,i.params))}onParentModelChanged(e,t){var n,i;this.showingUnderlyingFloatingFilter?(n=this.underlyingFloatingFilter)===null||n===void 0||n.onParentModelChanged((i=this.parentFilterInstance.getSelectedFilter())===null||i===void 0?void 0:i.getModel(),t):this.updateDisplayedValue()}updateDisplayedValue(){if(!this.parentFilterInstance||!this.eFloatingFilterText)return;const e=this.parentFilterInstance.getSelectedFilter();if(!e){this.eFloatingFilterText.setValue(""),this.eFloatingFilterText.setDisplayed(!1);return}if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){const t=e.getModel();this.eFloatingFilterText.setValue(t==null?"":e.getModelAsString(t))}else this.eFloatingFilterText.setValue("")}onSelectedColumnChanged(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}onColumnRowGroupChanged(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}destroy(){super.destroy()}}uU([x("columnModel")],kM.prototype,"columnModel",void 0);uU([x("filterManager")],kM.prototype,"filterManager",void 0);uU([pe("eFloatingFilter")],kM.prototype,"eFloatingFilter",void 0);const kQe={version:VQe,moduleName:Te.RowGroupingModule,beans:[Kv,mE,Hh,Wp,Yv,Pl],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:aU}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:Xs},{componentName:"agGroupColumnFloatingFilter",componentClass:kM}],dependantModules:[aR]};var HM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class qv extends Pi{constructor(e){super(e,"aggregation")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const e=this.localeService.getLocaleTextFunc(),t=e("valueColumnsEmptyMessage","Drag here to aggregate"),n=e("values","Values");super.init({dragAndDropIcon:Ct.ICON_AGGREGATE,icon:q.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:t,title:n}),this.addManagedListener(this.eventService,A.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getTooltipParams(){const e=super.getTooltipParams();return e.location="valueColumnsList",e}getIconName(){return this.isPotentialDndColumns()?Ct.ICON_AGGREGATE:Ct.ICON_NOT_ALLOWED}isColumnDroppable(e){return this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&!e.isValueActive()}updateColumns(e){if(this.gridOptionsService.is("functionsPassive")){const t={type:A.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(t)}else this.columnModel.setValueColumns(e,"toolPanelUi")}getExistingColumns(){return this.columnModel.getValueColumns()}}HM([x("columnModel")],qv.prototype,"columnModel",void 0);HM([x("loggerFactory")],qv.prototype,"loggerFactory",void 0);HM([x("dragAndDropService")],qv.prototype,"dragAndDropService",void 0);HM([ge],qv.prototype,"passBeansUp",null);var Yfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class af extends ke{constructor(){super(af.TEMPLATE)}init(e,t,n){this.allowDragging=e,this.params=t,this.eventType=n,this.primaryColsHeaderPanel.init(this.params);const i=this.params.suppressColumnFilter,o=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&i&&o&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new vg(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)}onExpandAll(){this.primaryColsListPanel.doSetExpandedAll(!0)}onCollapseAll(){this.primaryColsListPanel.doSetExpandedAll(!1)}expandGroups(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)}collapseGroups(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)}setColumnLayout(e){this.primaryColsListPanel.setColumnLayout(e)}onFilterChanged(e){this.primaryColsListPanel.setFilterText(e.filterText)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}onSelectAll(){this.primaryColsListPanel.doSetSelectedAll(!0)}onUnselectAll(){this.primaryColsListPanel.doSetSelectedAll(!1)}onGroupExpanded(e){this.primaryColsHeaderPanel.setExpandState(e.state)}onSelectionChange(e){this.primaryColsHeaderPanel.setSelectionState(e.state)}}af.TEMPLATE=`<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`;Yfe([pe("primaryColsHeaderPanel")],af.prototype,"primaryColsHeaderPanel",void 0);Yfe([pe("primaryColsListPanel")],af.prototype,"primaryColsListPanel",void 0);var qfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class jy extends ke{constructor(){super(jy.TEMPLATE),this.initialised=!1,this.childDestroyFuncs=[]}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}init(e){const t={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(this.params=Object.assign(Object.assign(Object.assign({},t),e),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new gE),this.childDestroyFuncs.push(()=>this.destroyBean(this.pivotModePanel)),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new af),this.childDestroyFuncs.push(()=>this.destroyBean(this.primaryColsPanel)),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new Up(!1)),this.childDestroyFuncs.push(()=>this.destroyBean(this.rowGroupDropZonePanel)),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new qv(!1)),this.childDestroyFuncs.push(()=>this.destroyBean(this.valuesDropZonePanel)),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new zp(!1)),this.childDestroyFuncs.push(()=>this.destroyBean(this.pivotDropZonePanel)),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();const n=this.addManagedListener(this.eventService,A.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>{this.resetChildrenHeight(),this.setLastVisible()});this.childDestroyFuncs.push(()=>n())}this.initialised=!0}setPivotModeSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new gE),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(()=>this.destroyBean(this.pivotModePanel))),this.setLastVisible())}setRowGroupsSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new Up(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())}setValuesSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new qv(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())}setPivotSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new zp(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(e=>{if(!e)return;const t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))})}setLastVisible(){const e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(o=>o.classList.remove("ag-last-column-drop"));const n=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),i=q.last(n);i&&i.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){const t=this.getGui().children;for(let n=0;n<t.length;n++){const i=t[n];i.style.removeProperty("height"),i.style.removeProperty("flex")}}isRowGroupingModuleLoaded(){return Ye.__assertRegistered(Te.RowGroupingModule,"Row Grouping",this.context.getGridId())}expandColumnGroups(e){this.primaryColsPanel.expandGroups(e)}collapseColumnGroups(e){this.primaryColsPanel.collapseGroups(e)}setColumnLayout(e){this.primaryColsPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){this.childDestroyFuncs.forEach(e=>e()),this.childDestroyFuncs.length=0,q.clearElement(this.getGui())}refresh(){this.destroyChildren(),this.init(this.params)}destroy(){this.destroyChildren(),super.destroy()}}jy.TEMPLATE='<div class="ag-column-panel"></div>';qfe([x("gridApi")],jy.prototype,"gridApi",void 0);qfe([x("columnApi")],jy.prototype,"columnApi",void 0);var Qfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class $M extends ke{constructor(){super('<div class="ag-tool-panel-horizontal-resize"></div>'),this.minWidth=100,this.maxWidth=null}setElementToResize(e){this.elementToResize=e}postConstruct(){const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.is("enableRtl"))}dispatchResizeEvent(e,t,n){const i={type:A.EVENT_TOOL_PANEL_SIZE_CHANGED,width:n,started:e,ended:t};this.eventService.dispatchEvent(i)}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(e){return this.onResizing(e,!0)}onResizing(e,t=!1){const n=this.inverted?-1:1;let i=Math.max(this.minWidth,Math.floor(this.startingWidth-e*n));this.maxWidth!=null&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width=`${i}px`,this.dispatchResizeEvent(!1,t,i)}setInverted(e){this.inverted=e}setMaxWidth(e){this.maxWidth=e}setMinWidth(e){e!=null?this.minWidth=e:this.minWidth=100}}Qfe([x("horizontalResizeService")],$M.prototype,"horizontalResizeService",void 0);Qfe([ge],$M.prototype,"postConstruct",null);var BM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class kc extends ke{constructor(e){super(),this.toolPanelDef=e}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){const e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id",`ag-${this.getCompId()}-button`)}createTemplate(){return`<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span ref ="eLabel" class="ag-side-button-label"></span>
                </button>
            </div>`}setLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.toolPanelDef,n=e(t.labelKey,t.labelDefault);this.eLabel.innerText=n}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",q.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))}onButtonPressed(){this.dispatchEvent({type:kc.EVENT_TOGGLE_BUTTON_CLICKED})}setSelected(e){this.addOrRemoveCssClass("ag-selected",e),q.setAriaExpanded(this.eToggleButton,e)}getButtonElement(){return this.eToggleButton}}kc.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked";BM([pe("eToggleButton")],kc.prototype,"eToggleButton",void 0);BM([pe("eIconWrapper")],kc.prototype,"eIconWrapper",void 0);BM([pe("eLabel")],kc.prototype,"eLabel",void 0);BM([ge],kc.prototype,"postConstruct",null);var jM=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Ol extends ke{constructor(){super(Ol.TEMPLATE),this.buttonComps=[]}postConstruct(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){if(e.key!==X.TAB||!e.shiftKey)return;const t=q.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(t,!0)&&e.preventDefault()}setActiveButton(e){this.buttonComps.forEach(t=>{t.setSelected(e===t.getToolPanelId())})}addButtonComp(e){const t=this.createBean(new kc(e));return this.buttonComps.push(t),this.appendChild(t),t.addEventListener(kc.EVENT_TOGGLE_BUTTON_CLICKED,()=>{this.dispatchEvent({type:Ol.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),t}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),q.clearElement(this.getGui())}}Ol.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked";Ol.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>';jM([x("focusService")],Ol.prototype,"focusService",void 0);jM([x("columnModel")],Ol.prototype,"columnModel",void 0);jM([ge],Ol.prototype,"postConstruct",null);jM([Bi],Ol.prototype,"clearButtons",null);class Ro{static parse(e){if(!e)return;if(e===!0)return{toolPanels:[Ro.DEFAULT_COLUMN_COMP,Ro.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof e=="string")return Ro.parse([e]);if(Array.isArray(e)){const n=[];return e.forEach(i=>{const o=Ro.DEFAULT_BY_KEY[i];if(!o){console.warn(`AG Grid: the key ${i} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(Ro.DEFAULT_BY_KEY).join(",")}`);return}n.push(o)}),n.length===0?void 0:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:Ro.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}static parseComponents(e){const t=[];return e&&e.forEach(n=>{let i=null;if(typeof n=="string"){const o=Ro.DEFAULT_BY_KEY[n];if(!o){console.warn(`AG Grid: the key ${n} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(Ro.DEFAULT_BY_KEY).join(",")}`);return}i=o}else i=n;t.push(i)}),t}}Ro.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"};Ro.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"};Ro.DEFAULT_BY_KEY={columns:Ro.DEFAULT_COLUMN_COMP,filters:Ro.DEFAULT_FILTER_COMP};var Xfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Wy extends ke{constructor(){super(Wy.TEMPLATE)}setupResize(){const e=this.getGui(),t=this.resizeBar=this.createManagedBean(new $M);e.setAttribute("id",`ag-${this.getCompId()}`),t.setElementToResize(e),this.appendChild(t)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(e){const{id:t,minWidth:n,maxWidth:i,width:o}=e;this.toolPanelId=t,this.width=o;const s={},l=this.userComponentFactory.getToolPanelCompDetails(e,s).newAgStackInstance();if(l==null){console.warn(`AG Grid: error processing tool panel component ${t}. You need to specify 'toolPanel'`);return}l.then(this.setToolPanelComponent.bind(this)),n!=null&&this.resizeBar.setMinWidth(n),i!=null&&this.resizeBar.setMaxWidth(i)}setToolPanelComponent(e){this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(()=>{this.destroyBean(e)}),this.width&&(this.getGui().style.width=`${this.width}px`)}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(e){const t=this.gridOptionsService.is("enableRtl"),n=e==="left",i=t?n:!n;this.resizeBar.setInverted(i)}refresh(){this.toolPanelCompInstance.refresh()}}Wy.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>';Xfe([x("userComponentFactory")],Wy.prototype,"userComponentFactory",void 0);Xfe([ge],Wy.prototype,"setupResize",null);var dR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class sd extends ke{constructor(){super(sd.TEMPLATE),this.toolPanelWrappers=[]}postConstruct(){this.sideBarButtonsComp.addEventListener(Ol.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",()=>{this.clearDownUi(),this.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new na(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,sideBarButtonsComp:n}=this,i=this.getGui(),o=n.getGui(),a=this.gridOptionsService.getDocument().activeElement,l=i.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),u=e.target;if(!l)return;if(o.contains(a)){t.focusInto(l,e.shiftKey)&&e.preventDefault();return}if(!e.shiftKey)return;let c=null;l.contains(a)?c=this.focusService.findNextFocusableElement(l,void 0,!0):t.isTargetUnderManagedComponent(l,u)&&e.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(l,u)),c||(c=o.querySelector(".ag-selected button")),c&&(e.preventDefault(),c.focus())}handleKeyDown(e){const t=this.gridOptionsService.getDocument();if(!this.sideBarButtonsComp.getGui().contains(t.activeElement))return;const n=this.sideBarButtonsComp.getGui(),i=Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")),o=t.activeElement,s=i.findIndex(u=>u.contains(o));let a=null;switch(e.key){case X.LEFT:case X.UP:a=Math.max(0,s-1);break;case X.RIGHT:case X.DOWN:a=Math.min(s+1,i.length-1);break}if(a===null)return;const l=i[a].querySelector("button");l&&(l.focus(),e.preventDefault())}onToolPanelButtonClicked(e){const t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(t,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef(){this.setDisplayed(!1);const e=this.gridOptionsService.get("sideBar");if(this.sideBar=Ro.parse(e),this.sideBar&&this.sideBar.toolPanels){const t=this.sideBar.toolPanels;if(this.createToolPanelsAndSideButtons(t),!this.toolPanelWrappers.length)return;const n=!this.sideBar.hiddenByDefault;this.setDisplayed(n),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(e){e||(e="right");const t=e==="left",n=t?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",t),this.addOrRemoveCssClass("ag-side-bar-right",!t),this.toolPanelWrappers.forEach(i=>{i.setResizerSizerSide(n)}),this}createToolPanelsAndSideButtons(e){for(const t of e)this.createToolPanelAndSideButton(t)}validateDef(e){if(e.id==null)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if(e.toolPanel==="agColumnsToolPanel"&&!Ye.__assertRegistered(Te.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId()))return!1;if(e.toolPanel==="agFiltersToolPanel"){if(!Ye.__assertRegistered(Te.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId()))return!1;if(this.filterManager.isAdvancedFilterEnabled())return q.doOnce(()=>{console.warn("AG Grid: Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.")},"advancedFilterToolPanel"),!1}return!0}createToolPanelAndSideButton(e){if(!this.validateDef(e))return;const t=this.sideBarButtonsComp.addButtonComp(e),n=this.getContext().createBean(new Wy);n.setToolPanelDef(e),n.setDisplayed(!1);const i=n.getGui();this.appendChild(i),this.toolPanelWrappers.push(n),q.setAriaControls(t.getButtonElement(),i)}refresh(){this.toolPanelWrappers.forEach(e=>e.refresh())}openToolPanel(e,t="api"){const n=this.openedItem();if(n===e)return;this.toolPanelWrappers.forEach(s=>{const a=e===s.getToolPanelId();s.setDisplayed(a)});const i=this.openedItem();n!==i&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,n??void 0,t))}getToolPanelInstance(e){const t=this.toolPanelWrappers.filter(n=>n.getToolPanelId()===e)[0];if(!t){console.warn(`AG Grid: unable to lookup Tool Panel as invalid key supplied: ${e}`);return}return t.getToolPanelInstance()}raiseToolPanelVisibleEvent(e,t,n){const i=!!e&&!!t;if(t){const o={type:A.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:t,visible:!1,switchingToolPanel:i};this.eventService.dispatchEvent(o)}if(e){const o={type:A.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:e,visible:!0,switchingToolPanel:i};this.eventService.dispatchEvent(o)}}close(e="api"){this.openToolPanel(void 0,e)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let e=null;return this.toolPanelWrappers.forEach(t=>{t.isDisplayed()&&(e=t.getToolPanelId())}),e}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(e=>{q.removeFromParent(e.getGui()),this.destroyBean(e)}),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}}sd.TEMPLATE=`<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`;dR([x("gridApi")],sd.prototype,"gridApi",void 0);dR([x("focusService")],sd.prototype,"focusService",void 0);dR([x("filterManager")],sd.prototype,"filterManager",void 0);dR([pe("sideBarButtons")],sd.prototype,"sideBarButtonsComp",void 0);dR([ge],sd.prototype,"postConstruct",null);var Jfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let cx=class extends de{constructor(){super(...arguments),this.isColGroupDef=e=>e&&typeof e.children<"u",this.getId=e=>this.isColGroupDef(e)?e.groupId:e.colId}createColumnTree(e){const t=[],n=(o,s)=>{if(this.isColGroupDef(o)){const a=o,l=typeof a.groupId<"u"?a.groupId:a.headerName,u=new An(a,l,!1,s),c=[];return a.children.forEach(d=>{const h=n(d,s+1);h&&c.push(h)}),u.setChildren(c),u}else{const a=o,l=a.colId?a.colId:a.field,u=this.columnModel.getPrimaryColumn(l);return u||t.push(a),u}},i=[];return e.forEach(o=>{const s=n(o,0);s&&i.push(s)}),t.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",t),i}syncLayoutWithGrid(e){const t=this.getLeafPathTrees(),n=this.mergeLeafPathTrees(t);e(n)}getLeafPathTrees(){const e=(i,o)=>{let s;if(i instanceof An)if(i.isPadding())s=o;else{const l=Object.assign({},i.getColGroupDef());l.groupId=i.getGroupId(),l.children=[o],s=l}else{const l=Object.assign({},i.getColDef());l.colId=i.getColId(),s=l}const a=i.getOriginalParent();return a?e(a,s):s};return this.columnModel.getAllGridColumns().filter(i=>{const o=i.getColDef();return i.isPrimary()&&!o.showRowGroup}).map(i=>e(i,i.getColDef()))}mergeLeafPathTrees(e){const t=(o,s)=>this.isColGroupDef(o)&&this.isColGroupDef(s)&&this.getId(o)===this.getId(s),n=(o,s)=>{if(!this.isColGroupDef(s))return o;const a=o,l=s;return l.children&&l.groupId&&this.addChildrenToGroup(a,l.groupId,l.children[0])||l.children.forEach(u=>n(a,u)),a},i=[];for(let o=1;o<=e.length;o++){const s=e[o-1],a=e[o];t(s,a)?e[o]=n(s,a):i.push(s)}return i}addChildrenToGroup(e,t,n){const i=(a,l)=>{const u=a.children.map(this.getId),c=q.includes(u,this.getId(l)),d=q.last(a.children),h=d&&this.getId(d)!==this.getId(l);return c&&h};if(!this.isColGroupDef(e))return!0;const o=e,s=n;if(i(o,s))return o.children.push(s),!0;if(o.groupId===t){const a=o.children.map(this.getId);if(!q.includes(a,this.getId(s)))return o.children.push(s),!0}return o.children.forEach(a=>this.addChildrenToGroup(a,t,n)),!1}};Jfe([x("columnModel")],cx.prototype,"columnModel",void 0);cx=Jfe([De("toolPanelColDefService")],cx);const HQe="30.2.1",$Qe={version:HQe,moduleName:Te.SideBarModule,beans:[cx],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:$M},{componentName:"AgSideBar",componentClass:sd},{componentName:"AgSideBarButtons",componentClass:Ol}],dependantModules:[aR]};var hR=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Kp=class{selectAllChildren(e,t,n){const i=this.extractAllLeafColumns(e);this.setAllColumns(i,t,n)}setColumn(e,t,n){this.setAllColumns([e],t,n)}setAllColumns(e,t,n){this.columnModel.isPivotMode()?this.setAllPivot(e,t,n):this.setAllVisible(e,t,n)}extractAllLeafColumns(e){const t=[],n=i=>{i.forEach(o=>{o.isPassesFilter()&&(o.isGroup()?n(o.getChildren()):t.push(o.getColumn()))})};return n(e),t}setAllVisible(e,t,n){const i=[];e.forEach(o=>{o.getColDef().lockVisible||o.isVisible()!=t&&i.push({colId:o.getId(),hide:!t})}),i.length>0&&this.columnModel.applyColumnState({state:i},n)}setAllPivot(e,t,n){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,n)}setAllPivotPassive(e,t){const n=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice();let s=!1,a=!1,l=!1;const d=t?h=>{h.isAnyFunctionActive()||(h.isAllowValue()?(i.push(h),a=!0):h.isAllowRowGroup()?(o.push(h),s=!0):h.isAllowPivot()&&(n.push(h),l=!0))}:h=>{h.isAnyFunctionActive()&&(n.indexOf(h)>=0&&(q.removeFromArray(n,h),s=!0),i.indexOf(h)>=0&&(q.removeFromArray(i,h),a=!0),o.indexOf(h)>=0&&(q.removeFromArray(o,h),l=!0))};if(e.forEach(d),s){const h={type:A.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n};this.eventService.dispatchEvent(h)}if(l){const h={type:A.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}if(a){const h={type:A.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}}setAllPivotActive(e,t,n){const i=[],a=t?l=>{if(!l.isAnyFunctionActive())if(l.isAllowValue()){const u=typeof l.getAggFunc()=="string"?l.getAggFunc():this.aggFuncService.getDefaultAggFunc(l);i.push({colId:l.getId(),aggFunc:u})}else l.isAllowRowGroup()?i.push({colId:l.getId(),rowGroup:!0}):l.isAllowPivot()&&i.push({colId:l.getId(),pivot:!0})}:l=>{(l.isPivotActive()||l.isRowGroupActive()||l.isValueActive())&&i.push({colId:l.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};e.forEach(a),i.length>0&&this.columnModel.applyColumnState({state:i},n)}updateColumns(e){const{columns:t,visibleState:n,pivotState:i,eventType:o}=e,s=t.map(a=>{const l=a.getColId();if(this.columnModel.isPivotMode()){const u=i==null?void 0:i[l];return{colId:l,pivot:u==null?void 0:u.pivot,rowGroup:u==null?void 0:u.rowGroup,aggFunc:u==null?void 0:u.aggFunc}}else return{colId:l,hide:!(n!=null&&n[l])}});this.columnModel.applyColumnState({state:s},o)}createPivotState(e){return{pivot:e.isPivotActive(),rowGroup:e.isRowGroupActive(),aggFunc:e.isValueActive()?e.getAggFunc():void 0}}};hR([x("aggFuncService")],Kp.prototype,"aggFuncService",void 0);hR([x("columnModel")],Kp.prototype,"columnModel",void 0);hR([x("gridOptionsService")],Kp.prototype,"gridOptionsService",void 0);hR([x("eventService")],Kp.prototype,"eventService",void 0);Kp=hR([De("modelItemUtils")],Kp);const BQe="30.2.1",C_t={version:BQe,moduleName:Te.ColumnsToolPanelModule,beans:[Kp],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:Pa},{componentName:"AgPrimaryColsList",componentClass:sf},{componentName:"AgPrimaryCols",componentClass:af}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:jy}],dependantModules:[aR,kQe,$Qe]};var ms=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let $h=class extends de{hideActiveMenu(){this.destroyBean(this.activeMenu)}showMenuAfterMouseEvent(e,t,n){this.showMenu(e,i=>{const o=i.getGui();this.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:o}),n&&i.showTab(n)},"columnMenu",n,void 0,t.target)}showMenuAfterButtonClick(e,t,n,i,o){let s=-1,a="left";this.gridOptionsService.is("enableRtl")&&(s=1,a="right"),this.showMenu(e,l=>{const u=l.getGui();this.popupService.positionPopupByComponent({type:n,column:e,eventSource:t,ePopup:u,alignSide:a,nudgeX:9*s,nudgeY:-23,position:"under",keepWithinBounds:!0}),i&&l.showTab(i)},n,i,o,t)}showMenu(e,t,n,i,o,s){const{menu:a,eMenuGui:l,currentHeaderPosition:u,currentColumnIndex:c,anchorToElement:d}=this.getMenuParams(e,o,s),h=[];h.push(this.getClosedCallback(e,a,u,c,s));const f=this.localeService.getLocaleTextFunc();this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:g=>{h.forEach(C=>C(g))},afterGuiAttached:g=>a.afterGuiAttached(Object.assign({},{container:n},g)),positionCallback:i?()=>t(a):void 0,ariaLabel:f("ariaLabelColumnMenu","Column Menu")}),i||(a.showTabBasedOnPreviousSelection(),t(a));const p=this.popupService.setPopupPositionRelatedToElement(l,d);p&&this.addStopAnchoring(p,e,h),a.addEventListener(St.EVENT_TAB_SELECTED,g=>{this.lastSelectedTab=g.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=a,a.addEventListener(de.EVENT_DESTROYED,()=>{this.activeMenu===a&&(this.activeMenu=null)})}addStopAnchoring(e,t,n){e.then(i=>{t.addEventListener("leftChanged",i),t.addEventListener("visibleChanged",i),n.push(()=>{t.removeEventListener("leftChanged",i),t.removeEventListener("visibleChanged",i)})})}getClosedCallback(e,t,n,i,o){return s=>{if(this.destroyBean(t),e.setMenuVisible(!1,"contextMenu"),!(s instanceof KeyboardEvent)||!o)return;if(this.columnModel.getAllDisplayedColumns().some(u=>u===e)&&q.isVisible(o)){const u=this.focusService.findTabbableParent(o);u&&(e&&this.headerNavigationService.scrollToColumn(e),u.focus())}else if(n&&i!==-1){const u=this.columnModel.getAllDisplayedColumns(),c=u[i]||q.last(u);c&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:n.headerRowIndex,column:c}})}}}getMenuParams(e,t,n){const i=this.createBean(new St(e,this.lastSelectedTab,t));return{menu:i,eMenuGui:i.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),anchorToElement:n||this.ctrlsService.getGridBodyCtrl().getGui()}}isMenuEnabled(e){return e.getMenuTabs(St.TABS_DEFAULT).length>0}};ms([x("popupService")],$h.prototype,"popupService",void 0);ms([x("focusService")],$h.prototype,"focusService",void 0);ms([x("headerNavigationService")],$h.prototype,"headerNavigationService",void 0);ms([x("ctrlsService")],$h.prototype,"ctrlsService",void 0);ms([x("columnModel")],$h.prototype,"columnModel",void 0);$h=ms([De("menuFactory")],$h);class St extends de{constructor(e,t,n){super(),this.tabFactories={},this.includeChecks={},this.column=e,this.initialSelection=t,this.tabFactories[St.TAB_GENERAL]=this.createMainPanel.bind(this),this.tabFactories[St.TAB_FILTER]=this.createFilterPanel.bind(this),this.tabFactories[St.TAB_COLUMNS]=this.createColumnsPanel.bind(this),this.includeChecks[St.TAB_GENERAL]=()=>!0,this.includeChecks[St.TAB_FILTER]=()=>this.filterManager.isFilterAllowed(e),this.includeChecks[St.TAB_COLUMNS]=()=>!0,this.restrictTo=n}init(){const e=this.getTabsToCreate().map(t=>this.createTab(t));this.tabbedLayout=new Y_({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(()=>this.destroyBean(this.tabbedLayout))}getTabsToCreate(){return this.restrictTo?this.restrictTo:this.column.getMenuTabs(St.TABS_DEFAULT).filter(e=>this.isValidMenuTabItem(e)).filter(e=>this.isNotSuppressed(e)).filter(e=>this.isModuleLoaded(e))}isModuleLoaded(e){return e===St.TAB_COLUMNS?Ye.__isRegistered(Te.ColumnsToolPanelModule,this.context.getGridId()):!0}isValidMenuTabItem(e){let t=!0,n=St.TABS_DEFAULT;return this.restrictTo!=null&&(t=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),t=t&&St.TABS_DEFAULT.indexOf(e)>-1,t||console.warn(`AG Grid: Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of [${n}]`),t}isNotSuppressed(e){return this.includeChecks[e]()}createTab(e){return this.tabFactories[e]()}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection)}showTab(e){this.tabItemColumns&&e===St.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===St.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===St.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()}onTabItemClicked(e){let t=null;switch(e.item){case this.tabItemColumns:t=St.TAB_COLUMNS;break;case this.tabItemFilter:t=St.TAB_FILTER;break;case this.tabItemGeneral:t=St.TAB_GENERAL;break}t&&this.activateTab(t)}activateTab(e){const t={type:St.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(t)}getMenuItems(){const e=this.getDefaultMenuOptions();let t;const n=this.gridOptionsService.getCallback("getMainMenuItems");return n?t=n({column:this.column,defaultItems:e}):t=e,q.removeRepeatsFromArray(t,St.MENU_ITEM_SEPARATOR),t}getDefaultMenuOptions(){const e=[],t=!this.column.getColDef().lockPinned,n=this.columnModel.getRowGroupColumns().length,i=n>0,o=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),u=this.columnModel.isPivotMode(),c=this.rowModel.getType()==="clientSide",d=this.gridOptionsService.is("treeData"),h=l&&i&&s||!l;return t&&e.push("pinSubMenu"),h&&e.push("valueAggSubMenu"),(t||h)&&e.push(St.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(St.MENU_ITEM_SEPARATOR),this.column.getColDef().showRowGroup&&e.push("rowUnGroup"),a&&this.column.isPrimary()&&(o?e.push("rowUnGroup"):e.push("rowGroup")),e.push(St.MENU_ITEM_SEPARATOR),e.push("resetColumns"),c&&(d||n>(u?1:0))&&(e.push("expandAll"),e.push("contractAll")),e}createMainPanel(){this.mainMenuList=this.createManagedBean(new Fy);const e=this.getMenuItems(),t=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(t),this.mainMenuList.addEventListener(Jo.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:q.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:St.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ur.resolve(this.mainMenuList.getGui()),name:St.TAB_GENERAL},this.tabItemGeneral}onHidePopup(e){let t;e&&e.event&&e.event instanceof KeyboardEvent&&(t=e.event),this.hidePopupFunc(t&&{keyboardEvent:t});const n=this.focusService.getFocusedCell(),i=this.gridOptionsService.getDocument();if(i.activeElement===i.body&&n){const{rowIndex:o,rowPinned:s,column:a}=n;this.focusService.setFocusedCell({rowIndex:o,column:a,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}createFilterPanel(){const e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!e)throw new Error("AG Grid - Unable to instantiate filter");const t=i=>{e!=null&&e.filterPromise&&e.filterPromise.then(o=>{o&&o.afterGuiAttached&&o.afterGuiAttached(i)})},n=()=>{var i;return(i=e==null?void 0:e.filterPromise)===null||i===void 0?void 0:i.then(o=>{var s;return(s=o==null?void 0:o.afterGuiDetached)===null||s===void 0?void 0:s.call(o)})};return this.tabItemFilter={title:q.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:St.TAB_FILTER.replace("MenuTab",""),bodyPromise:e==null?void 0:e.guiPromise,afterAttachedCallback:t,afterDetachedCallback:n,name:St.TAB_FILTER},this.tabItemFilter}createColumnsPanel(){const e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");const t=this.createManagedBean(new af);let n=this.column.getColDef().columnsMenuParams;n||(n={});const{contractColumnSelection:i,suppressColumnExpandAll:o,suppressColumnFilter:s,suppressColumnSelectAll:a,suppressSyncLayoutWithGrid:l,columnLayout:u}=n;t.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!i,suppressColumnExpandAll:!!o,suppressColumnFilter:!!s,suppressColumnSelectAll:!!a,suppressSyncLayoutWithGrid:!!u||!!l,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),u&&t.setColumnLayout(u);const c=t.getGui();return c.classList.add("ag-menu-column-select"),e.appendChild(c),this.tabItemColumns={title:q.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:St.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ur.resolve(e),name:St.TAB_COLUMNS},this.tabItemColumns}afterGuiAttached(e){const{container:t,hidePopup:n}=e;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))}getGui(){return this.tabbedLayout.getGui()}}St.EVENT_TAB_SELECTED="tabSelected";St.TAB_FILTER="filterMenuTab";St.TAB_GENERAL="generalMenuTab";St.TAB_COLUMNS="columnsMenuTab";St.TABS_DEFAULT=[St.TAB_GENERAL,St.TAB_FILTER,St.TAB_COLUMNS];St.MENU_ITEM_SEPARATOR="separator";ms([x("columnModel")],St.prototype,"columnModel",void 0);ms([x("filterManager")],St.prototype,"filterManager",void 0);ms([x("gridApi")],St.prototype,"gridApi",void 0);ms([x("columnApi")],St.prototype,"columnApi",void 0);ms([x("menuItemMapper")],St.prototype,"menuItemMapper",void 0);ms([x("rowModel")],St.prototype,"rowModel",void 0);ms([x("focusService")],St.prototype,"focusService",void 0);ms([ge],St.prototype,"init",null);var ad=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const jQe="ag-menu",lq="ag-context-menu-open";let Yp=class extends de{hideActiveMenu(){this.destroyBean(this.activeMenu)}getMenuItems(e,t,n){const i=[];if(q.exists(e)&&Ye.__isRegistered(Te.ClipboardModule,this.context.getGridId())&&t&&(this.gridOptionsService.is("suppressCutToClipboard")||i.push("cut"),i.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.is("enableCharts")&&Ye.__isRegistered(Te.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&i.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&i.push("chartRange")),q.exists(e)){const s=!Ye.__isRegistered(Te.CsvExportModule,this.context.getGridId()),a=!Ye.__isRegistered(Te.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.is("suppressExcelExport")||a,u=this.gridOptionsService.is("suppressCsvExport")||s;!q.isIOSUserAgent()&&(!l||!u)&&i.push("export")}const o=this.gridOptionsService.getCallback("getContextMenuItems");if(o){const s={node:e,column:t,value:n,defaultItems:i.length?i:void 0};return o(s)}return i}onContextMenu(e,t,n,i,o,s){if(!this.gridOptionsService.is("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsService.is("suppressContextMenu")))return;const a=e||t.touches[0];this.showMenu(n,i,o,a,s)&&(e||t).preventDefault()}blockMiddleClickScrollsIfNeeded(e){const{gridOptionsService:t}=this,{which:n}=e;t.is("suppressMiddleClickScrolls")&&n===2&&e.preventDefault()}showMenu(e,t,n,i,o){const s=this.getMenuItems(e,t,n),a=this.ctrlsService.getGridBodyCtrl().getGui();if(s===void 0||q.missingOrEmpty(s))return!1;const l=new fR(s);this.createBean(l);const u=l.getGui(),c={column:t,rowNode:e,type:"contextMenu",mouseEvent:i,ePopup:u,nudgeY:1},d=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:()=>{a.classList.remove(lq),this.destroyBean(l)},click:i,positionCallback:()=>{const f=this.gridOptionsService.is("enableRtl");this.popupService.positionPopupUnderMouseEvent(Object.assign(Object.assign({},c),{nudgeX:f?(u.offsetWidth+1)*-1:1}))},anchorToElement:o,ariaLabel:d("ariaLabelContextMenu","Context Menu")});return h&&(a.classList.add(lq),l.afterGuiAttached({container:"contextMenu",hidePopup:h.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(de.EVENT_DESTROYED,()=>{this.activeMenu===l&&(this.activeMenu=null)}),h&&l.addEventListener(Jo.EVENT_MENU_ITEM_SELECTED,h.hideFunc),!0}};ad([x("popupService")],Yp.prototype,"popupService",void 0);ad([Bt("rangeService")],Yp.prototype,"rangeService",void 0);ad([x("ctrlsService")],Yp.prototype,"ctrlsService",void 0);ad([x("columnModel")],Yp.prototype,"columnModel",void 0);Yp=ad([De("contextMenuFactory")],Yp);class fR extends ke{constructor(e){super(`<div class="${jQe}" role="presentation"></div>`),this.menuList=null,this.focusedCell=null,this.menuItems=e}addMenuItems(){const e=this.createManagedBean(new Fy),t=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener(Jo.EVENT_MENU_ITEM_SELECTED,n=>this.dispatchEvent(n))}afterGuiAttached(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())}restoreFocusedCell(){const e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){const{rowIndex:t,rowPinned:n,column:i}=this.focusedCell,o=this.gridOptionsService.getDocument();o.activeElement===o.body&&this.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}}destroy(){this.restoreFocusedCell(),super.destroy()}}ad([x("menuItemMapper")],fR.prototype,"menuItemMapper",void 0);ad([x("focusService")],fR.prototype,"focusService",void 0);ad([x("cellPositionUtils")],fR.prototype,"cellPositionUtils",void 0);ad([ge],fR.prototype,"addMenuItems",null);var lf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Gu=class extends de{mapWithStockItems(e,t){if(!e)return[];const n=[];return e.forEach(i=>{let o;if(typeof i=="string"?o=this.getStockMenuItem(i,t):o=Object.assign({},i),!o)return;const s=o,{subMenu:a}=s;a&&a instanceof Array&&(s.subMenu=this.mapWithStockItems(a,t)),o!=null&&n.push(o)}),n}getStockMenuItem(e,t){var n,i;const o=this.localeService.getLocaleTextFunc(),s=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:q.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:()=>this.columnModel.setColumnPinned(t,"left","contextMenu"),checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:()=>this.columnModel.setColumnPinned(t,"right","contextMenu"),checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:()=>this.columnModel.setColumnPinned(t,null,"contextMenu"),checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return Ye.__assertRegistered(Te.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())?!(t!=null&&t.isPrimary())&&!(t!=null&&t.getColDef().pivotValueColumn)?null:{name:o("valueAggregation","Value Aggregation"),icon:q.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:()=>this.columnModel.autoSizeColumn(t,s,"contextMenu")};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:()=>this.columnModel.autoSizeAllColumns(s,"contextMenu")};case"rowGroup":return{name:o("groupBy","Group by")+" "+q.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),disabled:(t==null?void 0:t.isRowGroupActive())||!(t!=null&&t.getColDef().enableRowGroup),action:()=>this.columnModel.addRowGroupColumn(t,"contextMenu"),icon:q.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":const a=q.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),l=t==null?void 0:t.getColDef().showRowGroup;if(l===!0)return{name:o("ungroupAll","Un-Group All"),disabled:!(t!=null&&t.getColDef().showRowGroup),action:()=>this.columnModel.setRowGroupColumns([],"contextMenu"),icon:a};if(typeof l=="string"){const h=(n=this.columnModel.getSourceColumnsForGroupColumn(t))===null||n===void 0?void 0:n[0],f=h!=null?q.escapeString(this.columnModel.getDisplayNameForColumn(h,"header")):l;return{name:o("ungroupBy","Un-Group by")+" "+f,disabled:!(t!=null&&t.getColDef().showRowGroup),action:()=>this.columnModel.removeRowGroupColumn(l,"contextMenu"),icon:a}}return{name:o("ungroupBy","Un-Group by")+" "+q.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),disabled:!(t!=null&&t.isRowGroupActive())||!(t!=null&&t.getColDef().enableRowGroup),action:()=>this.columnModel.removeRowGroupColumn(t,"contextMenu"),icon:a};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:()=>this.columnModel.resetColumnState("contextMenu")};case"expandAll":return{name:o("expandAll","Expand All Row Groups"),action:()=>this.gridApi.expandAll()};case"contractAll":return{name:o("collapseAll","Collapse All Row Groups"),action:()=>this.gridApi.collapseAll()};case"copy":return Ye.__assertRegistered(Te.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:q.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:()=>this.clipboardService.copyToClipboard()}:null;case"copyWithHeaders":return Ye.__assertRegistered(Te.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:o("copyWithHeaders","Copy with Headers"),icon:q.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:()=>this.clipboardService.copyToClipboard({includeHeaders:!0})}:null;case"copyWithGroupHeaders":return Ye.__assertRegistered(Te.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:q.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:()=>this.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}:null;case"cut":if(Ye.__assertRegistered(Te.ClipboardModule,"Cut from Menu",this.context.getGridId())){const h=this.focusService.getFocusedCell(),f=h?this.rowPositionUtils.getRowNode(h):null,p=f?h==null?void 0:h.column.isCellEditable(f):!1;return{name:o("cut","Cut"),shortcut:o("ctrlX","Ctrl+X"),icon:q.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!p||this.gridOptionsService.is("suppressCutToClipboard"),action:()=>this.clipboardService.cutToClipboard(void 0,"contextMenu")}}else return null;case"paste":return Ye.__assertRegistered(Te.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:q.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:()=>this.clipboardService.pasteFromClipboard()}:null;case"export":const u=[],c=Ye.__isRegistered(Te.CsvExportModule,this.context.getGridId()),d=Ye.__isRegistered(Te.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.is("suppressCsvExport")&&c&&u.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&d&&u.push("excelExport"),{name:o("export","Export"),subMenu:u,icon:q.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:q.createIconNoSpan("csvExport",this.gridOptionsService,null),action:()=>this.gridApi.exportDataAsCsv({})};case"excelExport":return{name:o("excelExport","Excel Export"),icon:q.createIconNoSpan("excelExport",this.gridOptionsService,null),action:()=>this.gridApi.exportDataAsExcel()};case"separator":return"separator";case"pivotChart":case"chartRange":return(i=this.chartMenuItemMapper.getChartItems(e))!==null&&i!==void 0?i:null;default:return console.warn(`AG Grid: unknown menu item type ${e}`),null}}createAggregationSubMenu(e){const t=this.localeService.getLocaleTextFunc();let n;if(e.isPrimary())n=e;else{const o=e.getColDef().pivotValueColumn;n=q.exists(o)?o:void 0}const i=[];if(n){const o=n.isValueActive(),s=this.aggFuncService.getFuncNames(n);i.push({name:t("noAggregation","None"),action:()=>{this.columnModel.removeValueColumn(n,"contextMenu"),this.columnModel.setColumnAggFunc(n,void 0,"contextMenu")},checked:!o}),s.forEach(a=>{i.push({name:t(a,q.capitalise(a)),action:()=>{this.columnModel.setColumnAggFunc(n,a,"contextMenu"),this.columnModel.addValueColumn(n,"contextMenu")},checked:o&&n.getAggFunc()===a})})}return i}};lf([x("columnModel")],Gu.prototype,"columnModel",void 0);lf([x("gridApi")],Gu.prototype,"gridApi",void 0);lf([Bt("clipboardService")],Gu.prototype,"clipboardService",void 0);lf([Bt("aggFuncService")],Gu.prototype,"aggFuncService",void 0);lf([x("focusService")],Gu.prototype,"focusService",void 0);lf([x("rowPositionUtils")],Gu.prototype,"rowPositionUtils",void 0);lf([x("chartMenuItemMapper")],Gu.prototype,"chartMenuItemMapper",void 0);Gu=lf([De("menuItemMapper")],Gu);const WQe="30.2.1";var Zfe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ck;let dx=Ck=class extends de{getChartItems(e){var t,n;if(!this.chartService){Ye.__assertRegistered(Te.GridChartsModule,`the Context Menu key "${e}"`,this.context.getGridId());return}const i=e==="pivotChart"?new UQe(this.gridOptionsService,this.chartService,this.localeService):new zQe(this.gridOptionsService,this.chartService,this.localeService);let o=i.getMenuItem();const s=(n=(t=this.gridOptionsService.get("chartToolPanelsDef"))===null||t===void 0?void 0:t.settingsPanel)===null||n===void 0?void 0:n.chartGroupsDef;return s&&(o=Ck.filterAndOrderChartMenu(o,s,i.getConfigLookup())),this.cleanInternals(o)}cleanInternals(e){if(!e)return e;const t=n=>{var i;return n==null||delete n._key,(i=n==null?void 0:n.subMenu)===null||i===void 0||i.forEach(o=>t(o)),n};return t(e)}static buildLookup(e){let t={};const n=i=>{t[i._key]=i,i.subMenu&&i.subMenu.forEach(o=>n(o))};return n(e),t}static filterAndOrderChartMenu(e,t,n){var i;const o=this.buildLookup(e);let s=Object.assign(Object.assign({},e),{subMenu:[]});if(Object.entries(t).forEach(([a,l])=>{var u,c;const d=n[a];if(d==null){q.doOnce(()=>console.warn(`AG Grid - invalid chartGroupsDef config '${a}'`),`invalid_chartGroupsDef${a}`);return}const h=o[d._key];if(h)if(h.subMenu){const f=l.map(p=>{const g=d[p];if(g==null){q.doOnce(()=>console.warn(`AG Grid - invalid chartGroupsDef config '${a}.${p}'`),`invalid_chartGroupsDef${p}_${a}`);return}return o[g]}).filter(p=>p!==void 0);f.length>0&&(h.subMenu=f,(u=s.subMenu)===null||u===void 0||u.push(h))}else(c=s.subMenu)===null||c===void 0||c.push(h)}),((i=s.subMenu)===null||i===void 0?void 0:i.length)!=0)return s}};Zfe([Bt("chartService")],dx.prototype,"chartService",void 0);dx=Ck=Zfe([De("chartMenuItemMapper")],dx);class UQe{constructor(e,t,n){this.gridOptionsService=e,this.chartService=t,this.localeService=n}getMenuItem(){const e=this.localeService.getLocaleTextFunc(),t=(n,i,o,s)=>({name:e(n,i),action:()=>this.chartService.createPivotChart({chartType:o}),_key:s});return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),t("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),t("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),t("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),t("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[t("pie","Pie&lrm;","pie","pivotPie"),t("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},t("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter&lrm;","scatter","pivotScatter"),t("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[t("area","Area&lrm;","area","pivotArea"),t("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),t("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},t("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),t("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:q.createIconNoSpan("chart",this.gridOptionsService,void 0)}}getConfigLookup(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}}}class zQe{constructor(e,t,n){this.gridOptionsService=e,this.chartService=t,this.localeService=n}getMenuItem(){const e=this.localeService.getLocaleTextFunc(),t=(n,i,o,s)=>({name:e(n,i),action:()=>this.chartService.createChartFromCurrentRange(o),_key:s});return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),t("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),t("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),t("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),t("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[t("pie","Pie&lrm;","pie","rangePie"),t("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},t("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter&lrm;","scatter","rangeScatter"),t("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[t("area","Area&lrm;","area","rangeArea"),t("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),t("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},t("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),t("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:q.createIconNoSpan("chart",this.gridOptionsService,void 0)}}getConfigLookup(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}}}const R_t={version:WQe,moduleName:Te.MenuModule,beans:[$h,Yp,Gu,dx],dependantModules:[aR]};var KQe={},WM={},pR={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function Pu(r){return r==null||r===""?null:r}function ce(r,e){return e===void 0&&(e=!1),r!=null&&(r!==""||e)}function ut(r){return!ce(r)}function ks(r){return r==null||r.length===0}function vE(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function _a(r){if(r!==void 0){if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;var e=parseInt(r,10);return isNaN(e)?void 0:e}}function cu(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function YQe(r){if(!(r==null||r===""))return r}function qQe(r,e){return r==null&&e==null?!0:r==null&&e!=null||r!=null&&e==null?!1:r===e}function QQe(r,e){var t=r?JSON.stringify(r):null,n=e?JSON.stringify(e):null;return t===n}function XQe(r,e,t){t===void 0&&(t=!1);var n=r==null,i=e==null;if(r&&r.toNumber&&(r=r.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof r!="string"||!t)return o(r,e);try{return r.localeCompare(e)}catch{return o(r,e)}}function mp(r){if(r instanceof Set||r instanceof Map){var e=[];return r.forEach(function(t){return e.push(t)}),e}return Object.values(r)}var JQe=Object.freeze({__proto__:null,makeNull:Pu,exists:ce,missing:ut,missingOrEmpty:ks,toStringOrNull:vE,attrToNumber:_a,attrToBoolean:cu,attrToString:YQe,referenceCompare:qQe,jsonEquals:QQe,defaultComparator:XQe,values:mp}),epe=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},r.prototype.getUniqueKey=function(e,t){e=vE(e);for(var n=0;;){var i=void 0;if(e?(i=e,n!==0&&(i+="_"+n)):t?(i=t,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}},r}(),ZQe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eXe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function cr(r,e){var t,n;if(r!=null){if(Array.isArray(r)){for(var i=0;i<r.length;i++)e(i.toString(),r[i]);return}try{for(var o=ZQe(Object.entries(r)),s=o.next();!s.done;s=o.next()){var a=eXe(s.value,2),l=a[0],u=a[1];e(l,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}function cU(r){for(var e={},t=Object.keys(r),n=0;n<t.length;n++){var i=t[n],o=r[i];e[i]=o}return e}function tXe(r){return JSON.parse(JSON.stringify(r))}function hx(r,e){if(r){var t=r,n={};return Object.keys(t).forEach(function(i){if(!(e&&e.indexOf(i)>=0)){var o=t[i],s=fx(o)&&o.constructor===Object;s?n[i]=hx(o):n[i]=o}}),n}}function tpe(r,e){return r[e]}function npe(r,e,t){r[e]=t}function nXe(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];t.forEach(function(i){return rpe(r,e,i)})}function rpe(r,e,t,n){var i=tpe(r,t);i!==void 0&&npe(e,t,n?n(i):i)}function ipe(r){var e={};return r.filter(function(t){return t!=null}).forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=null})}),Object.keys(e)}function Vu(r){if(!r)return[];var e=Object;if(typeof e.values=="function")return e.values(r);var t=[];for(var n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&t.push(r[n]);return t}function Ws(r,e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),ce(e)&&cr(e,function(i,o){var s=r[i];if(s!==o){if(n){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},r[i]=s)}}fx(o)&&fx(s)&&!Array.isArray(s)?Ws(s,o,t,n):(t||o!==void 0)&&(r[i]=o)}})}function rXe(r){return ut(r)||Object.keys(r).length===0}function iXe(r,e,t){if(r==null)return t;for(var n=e.split("."),i=r;n.length>1;)if(i=i[n.shift()],i==null)return t;var o=i[n[0]];return o??t}function oXe(r,e,t){if(r!=null){var n=e.split("."),i=r;n.forEach(function(o,s){i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=t}}function rv(r,e,t){if(!(!e||!r)){if(!t)return r[e];for(var n=e.split("."),i=r,o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}}function ope(r,e){Object.keys(r).forEach(function(i){var o=r[i];typeof o=="object"&&(r[i]=void 0)});var t=Object.getPrototypeOf(r),n={};Object.keys(t).forEach(function(i){var o=t[i];if(typeof o=="function"){var s=function(){console.warn("AG Grid: "+e+" function "+i+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};n[i]={value:s,writable:!0}}}),Object.defineProperties(r,n)}function fx(r){return typeof r=="object"&&r!==null}var sXe=Object.freeze({__proto__:null,iterateObject:cr,cloneObject:cU,deepCloneObject:tXe,deepCloneDefinition:hx,getProperty:tpe,setProperty:npe,copyPropertiesIfPresent:nXe,copyPropertyIfPresent:rpe,getAllKeysInObjects:ipe,getAllValuesInObject:Vu,mergeDeep:Ws,missingOrEmptyObject:rXe,get:iXe,set:oXe,getValueUsingField:rv,removeAllReferences:ope,isNonNullObject:fx}),uq={};function Ht(r,e){uq[e]||(r(),uq[e]=!0)}function UM(r){if(r.name)return r.name;var e=/function\s+([^\(]+)/.exec(r.toString());return e&&e.length===2?e[1].trim():null}function zM(r){return!!(r&&r.constructor&&r.call&&r.apply)}function spe(r){ape(r,400)}var SN=[],EN=!1;function wk(r){SN.push(r),!EN&&(EN=!0,window.setTimeout(function(){var e=SN.slice();SN.length=0,EN=!1,e.forEach(function(t){return t()})},0))}function ape(r,e){e===void 0&&(e=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(t){return t()})},e)}function ul(r,e){var t;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;window.clearTimeout(t),t=window.setTimeout(function(){r.apply(o,n)},e)}}function Sk(r,e){var t=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s=new Date().getTime();s-t<e||(t=s,r.apply(o,n))}}function dU(r,e,t,n){t===void 0&&(t=100);var i=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-i>t;(r()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function aXe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return r.reduce(function(n,i){return i(n)},t)}}function lpe(r){r&&r()}var lXe=function(){},uXe=Object.freeze({__proto__:null,doOnce:Ht,getFunctionName:UM,isFunction:zM,executeInAWhile:spe,executeNextVMTurn:wk,executeAfter:ape,debounce:ul,throttle:Sk,waitUntil:dU,compose:aXe,callIfPresent:lpe,noop:lXe}),Ne;(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue"})(Ne||(Ne={}));var DC=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},cq=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},lt=function(){function r(){}return r.register=function(e){r.__register(e,!0,void 0)},r.registerModules=function(e){r.__registerModules(e,!0,void 0)},r.__register=function(e,t,n){r.runVersionChecks(e),n!==void 0?(r.areGridScopedModules=!0,r.gridModulesMap[n]===void 0&&(r.gridModulesMap[n]={}),r.gridModulesMap[n][e.moduleName]=e):r.globalModulesMap[e.moduleName]=e,r.setModuleBased(t)},r.__unRegisterGridModules=function(e){delete r.gridModulesMap[e]},r.__registerModules=function(e,t,n){r.setModuleBased(t),e&&e.forEach(function(i){return r.__register(i,t,n)})},r.isValidModuleVersion=function(e){var t=DC(e.version.split(".")||[],2),n=t[0],i=t[1],o=DC(r.currentModuleVersion.split(".")||[],2),s=o[0],a=o[1];return n===s&&i===a},r.runVersionChecks=function(e){if(r.currentModuleVersion||(r.currentModuleVersion=e.version),e.version?r.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is version "+e.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is incompatible. Please update all modules to the same version."),e.validate){var t=e.validate();if(!t.isValid){var n=t;console.error("AG Grid: "+n.message)}}},r.setModuleBased=function(e){r.moduleBased===void 0?r.moduleBased=e:r.moduleBased!==e&&Ht(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(e,t,n){var i;if(this.__isRegistered(e,n))return!0;var o=t+e,s;if(r.isBundled)s="AG Grid: unable to use "+t+` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(r.moduleBased||r.moduleBased===void 0){var a=(i=Object.entries(Ne).find(function(l){var u=DC(l,2);u[0];var c=u[1];return c===e}))===null||i===void 0?void 0:i[0];s="AG Grid: unable to use "+t+" as the "+a+" is not registered"+(r.areGridScopedModules?" for gridId: "+n:"")+`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `+a+" } from '"+e+`';
    
    ModuleRegistry.registerModules([ `+a+` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s="AG Grid: unable to use "+t+` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Ht(function(){console.warn(s)},o),!1},r.__isRegistered=function(e,t){var n;return!!r.globalModulesMap[e]||!!(!((n=r.gridModulesMap[t])===null||n===void 0)&&n[e])},r.__getRegisteredModules=function(e){return cq(cq([],DC(mp(r.globalModulesMap))),DC(mp(r.gridModulesMap[e]||{})))},r.__getGridRegisteredModules=function(e){var t;return mp((t=r.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),cXe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},dXe=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},upe=function(){function r(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return mp(this.beanWrappers).map(function(e){return e.beanInstance})},r.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},r.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),ce(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},r.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),cr(this.beanWrappers,function(n,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=e.getBeansForParameters(o,i.bean.name),a=new(i.bean.bind.apply(i.bean,dXe([null],cXe(s))));i.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},r.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var n=void 0;e.prototype.constructor?n=UM(e.prototype.constructor):n=""+e,console.error("Context item "+n+" is not a bean");return}var i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i},r.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(i,o){var s=i.agClassAttributes;s&&s.forEach(function(a){var l=t.lookupBeanInstance(o,a.beanName,a.optional);n[a.attributeName]=l})})})},r.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(i,o){cr(i.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=t.getBeansForParameters(a,o);n[s].apply(n,l)}})})})},r.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);n!=null;){var i=n.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,s=this.getBeanName(i);t(o,s)}n=Object.getPrototypeOf(n)}},r.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),n=t.substring(9,t.indexOf("("));return n},r.prototype.getBeansForParameters=function(e,t){var n=this,i=[];return e&&cr(e,function(o,s){var a=n.lookupBeanInstance(t,s);i[Number(o)]=a}),i},r.prototype.lookupBeanInstance=function(e,t,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference "+t+" is used after the grid is destroyed!"),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var i=this.beanWrappers[t];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},r.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,t)})},r.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var i={};this.forEachMetaDataInHierarchy(e,function(s){var a=s[t];a&&a.forEach(function(l){l!=n&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(s){return e[s]()})},r.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,lt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},r.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(n){t.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var i=n;typeof i.destroy=="function"&&i.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function Ek(r,e,t){var n=qp(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function we(r,e,t){var n=qp(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function ui(r,e,t){var n=qp(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function Me(r){return function(e){var t=qp(e);t.beanName=r}}function V(r){return function(e,t,n){cpe(e,r,!1,e,t)}}function nn(r){return function(e,t,n){cpe(e,r,!0,e,t)}}function cpe(r,e,t,n,i,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}var s=qp(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:e,optional:t})}function Ii(r){return function(e,t,n){var i=typeof e=="function"?e:e.constructor,o;if(typeof n=="number"){var s=void 0;t?(o=qp(i),s=t):(o=qp(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function qp(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var dq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},AC=function(r,e){return function(t,n){e(t,n,r)}},ld=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(e,t,n,i,o){if(i===void 0&&(i=null),o===void 0&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=t,i){var s=t.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)},r.prototype.getListeners=function(e,t,n){var i=t?this.allAsyncListeners:this.allSyncListeners,o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o},r.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},r.prototype.addEventListener=function(e,t,n){n===void 0&&(n=!1),this.getListeners(e,n,!0).add(t)},r.prototype.removeEventListener=function(e,t,n){n===void 0&&(n=!1);var i=this.getListeners(e,n,!1);if(i&&(i.delete(t),i.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},r.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},r.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},r.prototype.dispatchEvent=function(e){var t=e;if(this.gridOptionsService){var n=this.gridOptionsService,i=n.api,o=n.columnApi,s=n.context;t.api=i,t.columnApi=o,t.context=s}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},r.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},r.prototype.dispatchToListeners=function(e,t){var n=this,i=e.type;if(t&&"event"in e){var o=e.event;o instanceof Event&&(e.eventPath=o.composedPath())}var s=function(u){return u.forEach(function(c){t?n.dispatchAsync(function(){return c(e)}):c(e)})},a=new Set(this.getListeners(i,t,!1));a.size>0&&s(a);var l=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);l.forEach(function(u){t?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(i,function(){return u(i,e)},!0)}):n.frameworkOverrides.dispatchEvent(i,function(){return u(i,e)},!0)})},r.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},dq([AC(0,Ii("loggerFactory")),AC(1,Ii("gridOptionsService")),AC(2,Ii("frameworkOverrides")),AC(3,Ii("globalEventListener")),AC(4,Ii("globalSyncEventListener"))],r.prototype,"setBeans",null),r=dq([Me("eventService")],r),r}(),kb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hq=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},fq=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},hXe=0;function dpe(){return hXe++}var Tn=function(){function r(e,t,n,i){this.instanceId=dpe(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new ld,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=_a(e.sortIndex),n=_a(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);var i=cu(e.hide),o=cu(e.initialHide);i!==void 0?this.visible=!i:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var s=_a(e.flex),a=_a(e.initialFlex);s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},r.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(e){this.parent=e},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},r.prototype.initDotNotation=function(){var e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=ce(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=ce(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},r.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},r.prototype.initTooltip=function(){this.tooltipEnabled=ce(this.colDef.tooltipField)||ce(this.colDef.tooltipValueGetter)||ce(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(e){if(ut(this.colDef)||ut(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.validate=function(){var e=this.colDef;function t(u,c,d){Ht(function(){Ht(function(){return console.warn(u)},c)},c)}var n=this.gridOptionsService.isRowModelType("clientSide");if(n&&!lt.__isRegistered(Ne.RowGroupingModule,this.gridOptionsService.getGridId())){var i=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"],o=i.filter(function(u){return ce(e[u])});o.length>0&&lt.__assertRegistered(Ne.RowGroupingModule,o.map(function(u){return"colDef."+u}).join(", "),this.gridOptionsService.getGridId())}if((this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&lt.__assertRegistered(Ne.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")){var s=["rowGroup","rowGroupIndex","pivot","pivotIndex"],o=s.filter(function(c){return ce(e[c])});o.length>0&&t("AG Grid: "+o.join()+" is not possible when doing tree data, your column definition should not have "+o.join(),"TreeDataCannotRowGroup")}if(ce(e.menuTabs))if(Array.isArray(e.menuTabs)){var a=["filterMenuTab"],l=["columnsMenuTab","generalMenuTab"],o=l.filter(function(c){return e.menuTabs.includes(c)});o.length>0&&lt.__assertRegistered(Ne.MenuModule,"menuTab(s): "+o.map(function(c){return"'"+c+"'"}).join(),this.gridOptionsService.getGridId()),e.menuTabs.forEach(function(c){!l.includes(c)&&!a.includes(c)&&t("AG Grid: '"+c+"' is not valid for 'colDef.menuTabs'. Valid values are: "+fq(fq([],hq(a)),hq(l)).map(function(d){return"'"+d+"'"}).join()+".","wrongValue_menuTabs_"+c)})}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");ce(e.columnsMenuParams)&&lt.__assertRegistered(Ne.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),ce(e.columnsMenuParams)&&lt.__assertRegistered(Ne.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),ce(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),ce(e.columnGroupShow)&&e.columnGroupShow!=="closed"&&e.columnGroupShow!=="open"&&t("AG Grid: '"+e.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},r.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1},r.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.is("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!cu(this.colDef.suppressFillHandle)},r.prototype.isAutoHeight=function(){return!!cu(this.colDef.autoHeight)},r.prototype.isAutoHeaderHeight=function(){return!!cu(this.colDef.autoHeaderHeight)},r.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},r.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!cu(this.colDef.resizable)},r.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var n=this.createColumnFunctionCallbackParams(e),i=t;return i(n)}return!1},r.prototype.setMoving=function(e,t){t===void 0&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},r.prototype.createColumnEvent=function(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(e,t){t===void 0&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(e,t){t===void 0&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortAscending=function(){return this.sort==="asc"},r.prototype.isSortDescending=function(){return this.sort==="desc"},r.prototype.isSortNone=function(){return ut(this.sort)},r.prototype.isSorting=function(){return ce(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(e,t){t===void 0&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(e,t,n){t===void 0&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var i=this.createColumnEvent("filterChanged",t);n&&Ws(i,n),this.eventService.dispatchEvent(i)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(e,t){t===void 0&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},r.prototype.setLastLeftPinned=function(e,t){t===void 0&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},r.prototype.isPinnedLeft=function(){return this.pinned==="left"},r.prototype.isPinnedRight=function(){return this.pinned==="right"},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(e,t){t===void 0&&(t="api");var n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},r.prototype.createBaseColDefParams=function(e){var t={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return t},r.prototype.getColSpan=function(e){if(ut(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},r.prototype.getRowSpan=function(e){if(ut(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},r.prototype.setActualWidth=function(e,t,n){t===void 0&&(t="api"),n===void 0&&(n=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},r.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(e){e===void 0&&(e="api"),ce(this.minWidth)&&this.setActualWidth(this.minWidth,e)},r.prototype.setRowGroupActive=function(e,t){t===void 0&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(e,t){t===void 0&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(e,t){t===void 0&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},r.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},r.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},r.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return t==null&&(t=e),t},r.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:e})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",kb([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),kb([V("columnUtils")],r.prototype,"columnUtils",void 0),kb([V("columnHoverService")],r.prototype,"columnHoverService",void 0),kb([we],r.prototype,"initialise",null),r}(),fXe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_r=function(){function r(e,t,n,i){this.localEventService=new ld,this.expandable=!1,this.instanceId=dpe(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=i}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:r.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(e){this.children=e},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof Tn?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},r.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding(),o=0,s=i.length;o<s;o++){var a=i[o];if(a.isVisible()){var l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}}var u=e&&t&&n;if(this.expandable!==u){this.expandable=u;var c={type:r.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},r.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(n){n.forEach(function(i){var o=i instanceof r&&i.isPadding();o?t(i.children):e.push(i)})};return t(this.children),e},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",fXe([ui],r.prototype,"destroy",null),r}(),pXe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function hpe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++){var n=r[t];if(ce(n))return n}return null}function gXe(r){return r!=null&&r.length>0}function On(r){if(!(!r||!r.length))return r[r.length-1]}function oh(r,e,t){return r==null&&e==null?!0:r!=null&&e!=null&&r.length===e.length&&r.every(function(n,i){return t?t(n,e[i]):e[i]===n})}function mXe(r,e){return oh(r,e)}function fpe(r){return r.sort(function(e,t){return e-t})}function vXe(r,e){if(r)for(var t=r.length-2;t>=0;t--){var n=r[t]===e,i=r[t+1]===e;n&&i&&r.splice(t+1,1)}}function hU(r,e){var t=r.indexOf(e);t>=0&&(r[t]=r[r.length-1],r.pop())}function Ns(r,e){var t=r.indexOf(e);t>=0&&r.splice(t,1)}function ppe(r,e){for(var t=0;t<e.length;t++)hU(r,e[t])}function gpe(r,e){for(var t=0;t<e.length;t++)Ns(r,e[t])}function yE(r,e,t){r.splice(t,0,e)}function yXe(r,e,t){if(!(r==null||e==null))for(var n=e.length-1;n>=0;n--){var i=e[n];yE(r,i,t)}}function _k(r,e,t){gpe(r,e),e.slice().reverse().forEach(function(n){return yE(r,n,t)})}function Oa(r,e){return r.indexOf(e)>-1}function mpe(r){return[].concat.apply([],r)}function Rk(r,e){e==null||r==null||e.forEach(function(t){return r.push(t)})}function CXe(r){return r.map(vE)}function wXe(r,e){if(r!=null)for(var t=r.length-1;t>=0;t--)e(r[t],t)}var SXe=Object.freeze({__proto__:null,firstExistingValue:hpe,existsAndNotEmpty:gXe,last:On,areEqual:oh,shallowCompare:mXe,sortNumerically:fpe,removeRepeatsFromArray:vXe,removeFromUnorderedArray:hU,removeFromArray:Ns,removeAllFromUnorderedArray:ppe,removeAllFromArray:gpe,insertIntoArray:yE,insertArrayIntoArray:yXe,moveInArray:_k,includes:Oa,flatten:mpe,pushAll:Rk,toStrings:CXe,forEachReverse:wXe}),vpe="__ag_Grid_Stop_Propagation",EXe=["touchstart","touchend","touchmove","touchcancel","scroll"],_N={};function ku(r){r[vpe]=!0}function gl(r){return r[vpe]===!0}var fU=function(){var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof _N[t]=="boolean")return _N[t];var n=document.createElement(r[t]||"div");return t="on"+t,_N[t]=t in n};return e}();function px(r,e,t){for(var n=e;n;){var i=r.getDomData(n,t);if(i)return i;n=n.parentElement}return null}function gx(r,e){return!e||!r?!1:Cpe(e).indexOf(r)>=0}function ype(r){for(var e=[],t=r.target;t;)e.push(t),t=t.parentElement;return e}function Cpe(r){var e=r;return e.path?e.path:e.composedPath?e.composedPath():ype(e)}function wpe(r,e,t,n){var i=Oa(EXe,t),o=i?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(e,t,n,o)}var _Xe=Object.freeze({__proto__:null,stopPropagationForAgGrid:ku,isStopPropagationForAgGrid:gl,isEventSupported:fU,getCtrlForEventTarget:px,isElementInEventPath:gx,createEventPath:ype,getEventPath:Cpe,addSafePassiveEventListener:wpe}),Sf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ye=function(){function r(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new ld),this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},r.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},r.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},r.prototype.addManagedListener=function(e,t,n){var i=this;if(!this.destroyed){e instanceof HTMLElement?wpe(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function(){return e.removeEventListener(t,n),i.destroyFunctions=i.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(e,t){var n=this;this.gridOptionsService.addEventListener(e,t);var i=function(){return n.gridOptionsService.removeEventListener(e,t),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==i}),null};this.destroyFunctions.push(i)},r.prototype.addManagedPropertyListener=function(e,t){this.destroyed||this.setupGridOptionListener(e,t)},r.prototype.addManagedPropertyListeners=function(e,t){var n=this;if(!this.destroyed){var i=e.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=s.changeSet.id}var a={type:"gridPropertyChanged",changeSet:s.changeSet};t(a)};e.forEach(function(s){return n.setupGridOptionListener(s,o)})}},r.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},r.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},r.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},r.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},r.prototype.destroyBeans=function(e,t){var n=this;return e&&e.forEach(function(i){return n.destroyBean(i,t)}),[]},r.EVENT_DESTROYED="destroyed",Sf([V("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Sf([V("context")],r.prototype,"context",void 0),Sf([V("eventService")],r.prototype,"eventService",void 0),Sf([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Sf([V("localeService")],r.prototype,"localeService",void 0),Sf([V("environment")],r.prototype,"environment",void 0),Sf([ui],r.prototype,"destroy",null),r}(),RXe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bXe=function(r,e){return function(t,n){e(t,n,r)}},Spe=function(r){RXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,n,i){var o=new epe,s=this.extractExistingTreeData(i),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(t,0,n,a,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var h=this.balanceColumnTree(c,0,d,o),f=function(p,g){p instanceof _r&&p.setupExpandable(),p.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,f),{columnTree:h,treeDept:d}},e.prototype.extractExistingTreeData=function(t){var n=[],i=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){if(s instanceof _r){var a=s;i.push(a)}else{var l=s;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:i,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,n){var i=this;return t.map(function(o){return i.createAutoGroupTreeItem(n,o)})},e.prototype.createAutoGroupTreeItem=function(t,n){for(var i=this.findDepth(t),o=n,s=i-1;s>=0;s--){var a=new _r(null,"FAKE_PATH_"+n.getId()+"}_"+s,!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return i===0&&n.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var n=0,i=t;i&&i[0]&&i[0]instanceof _r;)n++,i=i[0].getChildren();return n},e.prototype.balanceColumnTree=function(t,n,i,o){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l instanceof _r){var u=l,c=this.balanceColumnTree(u.getChildren(),n+1,i,o);u.setChildren(c),s.push(u)}else{for(var d=void 0,h=void 0,f=i-1;f>=n;f--){var p=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),C=new _r(g,p,!0,n);this.createBean(C),h&&h.setChildren([C]),h=C,d||(d=h)}if(d&&h){s.push(d);var m=t.some(function(y){return y instanceof _r});if(m){h.setChildren([l]);continue}else{h.setChildren(t);break}}s.push(l)}}return s},e.prototype.findMaxDept=function(t,n){for(var i=n,o=0;o<t.length;o++){var s=t[o];if(s instanceof _r){var a=s,l=this.findMaxDept(a.getChildren(),n+1);i<l&&(i=l)}}return i},e.prototype.recursivelyCreateColumns=function(t,n,i,o,s,a){if(!t)return[];for(var l=new Array(t.length),u=0;u<l.length;u++){var c=t[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(i,c,n,o,s,a):l[u]=this.createColumn(i,c,o,s)}return l},e.prototype.createColumnGroup=function(t,n,i,o,s,a){var l=this.createMergedColGroupDef(n),u=s.getUniqueKey(l.groupId||null,null),c=new _r(l,u,!1,i);this.createBean(c);var d=this.findExistingGroup(n,a);d&&a.splice(d.idx,1);var h=d==null?void 0:d.group;h&&c.setExpanded(h.isExpanded());var f=this.recursivelyCreateColumns(l.children,i+1,t,o,s,a);return c.setChildren(f),c},e.prototype.createMergedColGroupDef=function(t){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,t),n},e.prototype.createColumn=function(t,n,i,o){var s=this.findExistingColumn(n,i);s&&(i==null||i.splice(s.idx,1));var a=s==null?void 0:s.column;if(a){var u=this.addColumnDefaultAndTypes(n,a.getColId());a.setColDef(u,n),this.applyColumnState(a,u)}else{var l=o.getUniqueKey(n.colId,n.field),u=this.addColumnDefaultAndTypes(n,l);a=new Tn(u,n,l,t),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},e.prototype.applyColumnState=function(t,n){var i=_a(n.flex);i!==void 0&&t.setFlex(i);var o=t.getFlex()<=0;if(o){var s=_a(n.width);if(s!=null)t.setActualWidth(s);else{var a=t.getActualWidth();t.setActualWidth(a)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?t.setSort(n.sort):t.setSort(void 0));var l=_a(n.sortIndex);l!==void 0&&t.setSortIndex(l);var u=cu(n.hide);u!==void 0&&t.setVisible(!u),n.pinned!==void 0&&t.setPinned(n.pinned)},e.prototype.findExistingColumn=function(t,n){if(n)for(var i=0;i<n.length;i++){var o=n[i].getUserProvidedColDef();if(o){var s=t.colId!=null;if(s){if(n[i].getId()===t.colId)return{idx:i,column:n[i]};continue}var a=t.field!=null;if(a){if(o.field===t.field)return{idx:i,column:n[i]};continue}if(o===t)return{idx:i,column:n[i]}}}},e.prototype.findExistingGroup=function(t,n){var i=t.groupId!=null;if(i)for(var o=0;o<n.length;o++){var s=n[o],a=s.getColGroupDef();if(a&&s.getId()===t.groupId)return{idx:o,group:s}}},e.prototype.addColumnDefaultAndTypes=function(t,n){var i={},o=this.gridOptionsService.get("defaultColDef");Ws(i,o,!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(i,t,n);s&&this.assignColumnTypes(s,i),Ws(i,t,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&a&&l&&Ws(i,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},e.prototype.assignColumnTypes=function(t,n){if(t.length){var i=Object.assign({},pXe),o=this.gridOptionsService.get("columnTypes")||{};cr(o,function(s,a){s in i?console.warn("AG Grid: the column type '"+s+"' is a default column type and cannot be overridden."):i[s]=a}),t.forEach(function(s){var a=i[s.trim()];a?Ws(n,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},Hb([V("columnUtils")],e.prototype,"columnUtils",void 0),Hb([V("dataTypeService")],e.prototype,"dataTypeService",void 0),Hb([bXe(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),e=Hb([Me("columnFactory")],e),e}(ye),TXe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gi=function(){function r(e,t,n,i){this.displayedChildren=[],this.localEventService=new ld,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=i}return r.createUniqueId=function(e,t){return e+"_"+t},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(e){this.parent=e},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},r.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof r&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=On(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(e){return{type:e}},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(n){e===n&&(t=!0),n instanceof r&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},r.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},r.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},r.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},r.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof Tn?e.push(t):t instanceof r&&t.addDisplayedLeafColumns(e)})},r.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof Tn?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},r.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var n=t?t.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof r&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var s=i.getColumnGroupShow();switch(s){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(i);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(i);break;default:e.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",TXe([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),k=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_CHANGED="rowDataChanged",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_KEYBOARD_FOCUS="keyboardFocus",r.EVENT_MOUSE_FOCUS="mouseFocus",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r}(),pU=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n},r}(),PXe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qp="ag-Grid-AutoColumn",OXe=function(r){PXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var n=this,i=[],o=this.gridOptionsService.is("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?t.forEach(function(a,l){i.push(n.createOneAutoGroupColumn(a,l))}):i.push(this.createOneAutoGroupColumn()),i},e.prototype.updateAutoGroupColumns=function(t){var n=this;t.forEach(function(i,o){return n.updateOneAutoGroupColumn(i,o)})},e.prototype.createOneAutoGroupColumn=function(t,n){var i;t?i=Qp+"-"+t.getId():i=Qp;var o=this.createAutoGroupColDef(i,t,n);o.colId=i;var s=new Tn(o,null,i,!0);return this.context.createBean(s),s},e.prototype.updateOneAutoGroupColumn=function(t,n){var i=t.getColDef(),o=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,s=o!=null?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(t.getId(),s??void 0,n);t.setColDef(a,null),this.columnFactory.applyColumnState(t,a)},e.prototype.createAutoGroupColDef=function(t,n,i){var o=this.createBaseColDef(n),s=this.gridOptionsService.get("autoGroupColumnDef");if(Ws(o,s),o=this.columnFactory.addColumnDefaultAndTypes(o,t),!this.gridOptionsService.is("treeData")){var a=ut(o.field)&&ut(o.valueGetter)&&ut(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";a&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var n=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},s=n&&(n.cellRenderer||n.cellRendererSelector);if(s||(o.cellRenderer="agGroupCellRenderer"),t){var a=t.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=t.getColId()}else o.showRowGroup=!0;return o},RN([V("columnModel")],e.prototype,"columnModel",void 0),RN([V("columnFactory")],e.prototype,"columnFactory",void 0),e=RN([Me("autoGroupColService")],e),e}(ye),DXe=/[&<>"']/g,AXe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xXe(r){var e=String.fromCharCode;function t(d){var h=[];if(!d)return[];for(var f=d.length,p=0,g,C;p<f;)g=d.charCodeAt(p++),g>=55296&&g<=56319&&p<f?(C=d.charCodeAt(p++),(C&64512)==56320?h.push(((g&1023)<<10)+(C&1023)+65536):(h.push(g),p--)):h.push(g);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var h=d.toString(16).toUpperCase(),f=h.padStart(4,"0");return"_x"+f+"_"}if(!(d&4294967168))return e(d);var p="";return d&4294965248?d&4294901760?d&4292870144||(p=e(d>>18&7|240),p+=i(d,12),p+=i(d,6)):(n(d),p=e(d>>12&15|224),p+=i(d,6)):p=e(d>>6&31|192),p+=e(d&63|128),p}for(var s=t(r),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function IXe(r){return r[0].toUpperCase()+r.substr(1).toLowerCase()}function Yr(r,e){if(r==null)return null;var t=r.toString().toString();return e?t:t.replace(DXe,function(n){return AXe[n]})}function Epe(r){if(!r||r==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,n=r.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function _pe(r){return r.replace(/[A-Z]/g,function(e){return"-"+e.toLocaleLowerCase()})}var FXe=Object.freeze({__proto__:null,utf8_encode:xXe,capitalise:IXe,escapeString:Yr,camelCaseToHumanText:Epe,camelCaseToHyphenated:_pe});function Qd(r){var e=new Map;return r.forEach(function(t){return e.set(t[0],t[1])}),e}function MXe(r,e){var t=new Map;return r.forEach(function(n){return t.set(e(n),n)}),t}function LXe(r){var e=[];return r.forEach(function(t,n){return e.push(n)}),e}var NXe=Object.freeze({__proto__:null,convertToMap:Qd,mapById:MXe,keys:LXe}),Rpe=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),vd=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},yd=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},eu=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=yd(yd([],vd(r.FUNCTIONAL_PROPERTIES)),vd(r.CALLBACK_PROPERTIES)),r.ALL_PROPERTIES=yd(yd(yd(yd(yd(yd([],vd(r.ARRAY_PROPERTIES)),vd(r.OBJECT_PROPERTIES)),vd(r.STRING_PROPERTIES)),vd(r.NUMBER_PROPERTIES)),vd(r.FUNCTION_PROPERTIES)),vd(r.BOOLEAN_PROPERTIES)),r}(),bk=function(){return bk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},bk.apply(this,arguments)},xC=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},IC=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},aS=function(){function r(){}return r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},r.getCoercionLookup=function(){var e={};return IC(IC(IC(IC(IC([],xC(r.ARRAY_PROPERTIES)),xC(r.OBJECT_PROPERTIES)),xC(r.STRING_PROPERTIES)),xC(r.FUNCTION_PROPERTIES)),xC(r.EVENT_CALLBACKS)).forEach(function(t){return e[t]="none"}),r.BOOLEAN_PROPERTIES.forEach(function(t){return e[t]="boolean"}),r.NUMBER_PROPERTIES.forEach(function(t){return e[t]="number"}),e},r.getValue=function(e,t){var n=r.coercionLookup[e];if(n){var i=t;switch(n){case"number":{i=r.toNumber(t);break}case"boolean":{i=r.toBoolean(t);break}case"none":{e==="groupAggFiltering"&&typeof t!="function"&&(i=r.toBoolean(t));break}}return i}},r.getGridOptionKeys=function(e,t){return Object.keys(t?r.coercionLookup:e)},r.copyAttributesToGridOptions=function(e,t,n){n===void 0&&(n=!1),typeof e!="object"&&(e={});var i=e,o=r.getGridOptionKeys(t,n);return o.forEach(function(s){var a=t[s];if(typeof a<"u"){var l=r.getValue(s,a);l!==void 0&&(i[s]=l)}}),e},r.processOnChange=function(e,t){var n=this;if(!(!e||Object.keys(e).length===0)){this.changeSetId++;var i=bk({},e);i.columnTypes&&(t.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(t.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(t.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(t.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs);var o=Object.keys(i).map(function(l){var u=l,c=r.getValue(u,i[u].currentValue),d=t.__setPropertyOnly(u,c);return{gridKey:u,coercedValue:c,isChanged:d}}).filter(function(l){return l.isChanged}),s=o.map(function(l){return l.gridKey});o.forEach(function(l){return t.__updateProperty(l.gridKey,l.coercedValue,l.isChanged,{id:n.changeSetId,properties:s})});var a={type:k.EVENT_COMPONENT_STATE_CHANGED};cr(e,function(l,u){a[l]=u}),t.dispatchEvent(a)}},r.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},r.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)},r.EVENTS=mp(k),r.EXCLUDED_INTERNAL_EVENTS=[k.EVENT_SCROLLBAR_WIDTH_CHANGED,k.EVENT_CHECKBOX_CHANGED,k.EVENT_HEIGHT_SCALE_CHANGED,k.EVENT_BODY_HEIGHT_CHANGED,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,k.EVENT_SCROLL_VISIBILITY_CHANGED,k.EVENT_COLUMN_HOVER_CHANGED,k.EVENT_FLASH_CELLS,k.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,k.EVENT_DISPLAYED_ROWS_CHANGED,k.EVENT_LEFT_PINNED_WIDTH_CHANGED,k.EVENT_RIGHT_PINNED_WIDTH_CHANGED,k.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,k.EVENT_POPUP_TO_FRONT,k.EVENT_KEYBOARD_FOCUS,k.EVENT_MOUSE_FOCUS,k.EVENT_STORE_UPDATED,k.EVENT_COLUMN_PANEL_ITEM_DRAG_START,k.EVENT_COLUMN_PANEL_ITEM_DRAG_END,k.EVENT_FILL_START,k.EVENT_FILL_END,k.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,k.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,k.EVENT_FULL_WIDTH_ROW_FOCUSED,k.EVENT_HEADER_HEIGHT_CHANGED,k.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,k.EVENT_CELL_FOCUS_CLEARED,k.EVENT_GRID_STYLES_CHANGED,k.EVENT_FILTER_DESTROYED,k.EVENT_ROW_DATA_UPDATE_STARTED,k.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,k.EVENT_DATA_TYPES_INFERRED,k.EVENT_FIELD_VALUE_CHANGED,k.EVENT_FIELD_PICKER_VALUE_SELECTED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(e){return!Oa(r.EXCLUDED_INTERNAL_EVENTS,e)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(e){return r.getCallbackForEvent(e)}),r.STRING_PROPERTIES=eu.STRING_PROPERTIES,r.OBJECT_PROPERTIES=eu.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=eu.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=eu.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=eu.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=eu.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=eu.ALL_PROPERTIES,r.ALL_PROPERTIES_SET=new Set(eu.ALL_PROPERTIES),r.changeSetId=0,r.coercionLookup=r.getCoercionLookup(),r}(),GXe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function bpe(r,e,t){var n={},i=r.filter(function(o){return!e.some(function(s){return s===o})});return i.length>0&&i.forEach(function(o){return n[o]=gR(o,t).values}),n}function gR(r,e,t,n){var i,o,s=e.map(function(p,g){return{value:p,relevance:VXe(r.toLowerCase(),p.toLocaleLowerCase()),idx:g}});if(s.sort(function(p,g){return g.relevance-p.relevance}),t&&(s=s.filter(function(p){return p.relevance!==0})),s.length>0&&n&&n>0){var a=s[0].relevance,l=a*n;s=s.filter(function(p){return l-p.relevance<0})}var u=[],c=[];try{for(var d=GXe(s),h=d.next();!h.done;h=d.next()){var f=h.value;u.push(f.value),c.push(f.idx)}}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function VXe(r,e){for(var t=r.replace(/\s/g,""),n=e.replace(/\s/g,""),i=0,o=-1,s=0;s<t.length;s++){var a=n.indexOf(t[s],o+1);a!==-1&&(o=a,i+=100-o*100/1e4*100)}return i}var kXe=Object.freeze({__proto__:null,fuzzyCheckStrings:bpe,fuzzySuggestions:gR}),$b=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cd=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wd=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};function wa(r,e,t,n){var i=t?"Please use '"+t+"' instead. ":"";Ht(function(){return console.warn("AG Grid: since v"+r+", '"+e+"' is deprecated. "+i+(n??""))},"Deprecated_"+e)}var pq=["__ob__","__v_skip","__metadata__"],HXe=function(){function r(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}return r.prototype.pickOneWarning=function(e,t){console.warn("AG Grid: "+e+" and "+t+" do not work with each other, you need to pick one.")},r.prototype.init=function(){var e=this;if(this.checkForDeprecated(),this.checkForViolations(),this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.get("rowSelection")!=="multiple"&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var t=function(i,o){return"AG Grid: '"+i+"' is not supported on the Server-Side Row Model."+(o?" Please use "+o+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?lt.__assertRegistered(Ne.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var n=function(i,o){return e.gridOptionsService.exists(i)&&lt.__assertRegistered(o,i,e.gridOptionsService.getGridId())};n("sideBar",Ne.SideBarModule),n("statusBar",Ne.StatusBarModule),n("enableCharts",Ne.GridChartsModule),n("getMainMenuItems",Ne.MenuModule),n("getContextMenuItems",Ne.MenuModule),n("allowContextMenuWithControlKey",Ne.MenuModule),n("enableAdvancedFilter",Ne.AdvancedFilterModule),n("treeData",Ne.RowGroupingModule),n("enableRangeSelection",Ne.RangeSelectionModule),n("masterDetail",Ne.MasterDetailModule)},r.prototype.checkColumnDefProperties=function(){var e=this;if(this.gridOptions.columnDefs!=null){var t=Rpe.ALL_PROPERTIES,n=function(i,o){var s=Object.getOwnPropertyNames(i);e.checkProperties(s,wd(wd([],Cd(t)),Cd(pq)),t,o,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(function(a){return n(a,"columnDefs.children")})};this.gridOptions.columnDefs.forEach(function(i){return n(i,"columnDefs")}),this.gridOptions.defaultColDef&&n(this.gridOptions.defaultColDef,"defaultColDef")}},r.prototype.checkColumnDefViolations=function(){var e,t=(e=this.gridOptionsService.get("rowModelType"))!==null&&e!==void 0?e:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]},i=n[t];if(i){var o=this.gridOptionsService.get("rowSelection")==="multiple",s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=function(l){o||s.forEach(function(u){u in l&&l[u]&&console.warn("AG Grid: Column property "+u+" is not supported unless rowSelection='multiple'.")}),i.forEach(function(u){u in l&&l[u]&&console.warn("AG Grid: Column property "+u+" is not supported with the row model type "+t+".")})};this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(l){return a(l)}),this.gridOptions.autoGroupColumnDef!=null&&a(this.gridOptions.autoGroupColumnDef),this.gridOptions.defaultColDef!=null&&a(this.gridOptions.defaultColDef)}},r.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=wd(wd([],Cd(eu.ALL_PROPERTIES)),Cd(aS.EVENT_CALLBACKS)),n=wd(wd(wd(wd([],Cd(t)),["api","columnApi"]),Cd(pq)),Cd(Object.keys(this.deprecatedProperties)));this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},r.prototype.checkProperties=function(e,t,n,i,o){var s=bpe(e,t,n);cr(s,function(a,l){Ht(function(){return console.warn("AG Grid: invalid "+i+" property '"+a+"' did you mean any of these: "+l.slice(0,8).join(", "))},"invalidProperty"+i+a)}),Object.keys(s).length>0&&Ht(function(){return console.warn("AG Grid: to see all the valid "+i+" properties please check: "+o)},"invalidProperties"+i+o)},r.prototype.checkForDeprecated=function(){var e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(function(t){var n,i=Cd(t,2),o=i[0],s=i[1],a=e[o];a&&(wa(s.version,o,s.newProp,s.message),s.copyToNewProp&&s.newProp&&e[s.newProp]==null&&(e[s.newProp]=(n=s.newPropValue)!==null&&n!==void 0?n:a))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll=e.serverSideStoreType!=="partial")},r.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},r.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},$b([V("gridOptions")],r.prototype,"gridOptions",void 0),$b([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),$b([we],r.prototype,"init",null),r=$b([Me("gridOptionsValidator")],r),r}();function Tk(r,e){var t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+t.join("', '")+"'"),!1):e===r}function $Xe(r,e){var t=["auto","custom"];return t.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid treeDataDisplayType value - possible values are: '"+t.join("', '")+"'"),!1):e===r}var BXe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_i=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jXe=function(r,e){return function(t,n){e(t,n,r)}},WXe=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Ka=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Ya=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},gq=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tpe=function(r){BXe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var n=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData"],function(){return t.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(i){return t.onSharedColDefChanged(i.source)}),this.addManagedPropertyListener("columnTypes",function(i){return t.onSharedColDefChanged(i.source)})},e.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},e.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},e.prototype.onSharedColDefChanged=function(t){t===void 0&&(t="api"),this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,t)},e.prototype.setColumnDefs=function(t,n){n===void 0&&(n="api");var i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,n)},e.prototype.recreateColumnDefs=function(t){t===void 0&&(t="api"),this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,n){var i={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){i[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){i[s.getInstanceId()]=null});var o=Object.values(i).filter(function(s){return s!=null});this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,n){var i=this;n===void 0&&(n="api");var o=t?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},e.prototype.dispatchNewColumnsLoaded=function(t){var n={type:k.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(n)},e.prototype.dispatchEverythingChanged=function(t){t===void 0&&(t="api");var n={type:k.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(n)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,n=this.primaryColumns;if(n){var i=n.filter(function(s){return t.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return i.indexOf(s)<0});this.gridColumns=Ya(Ya([],Ka(o)),Ka(i)),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var n=t,i=[];n!=null;)i.push(n),n=this.getDisplayedColAfter(n);return i},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var i={type:k.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(i)}}},e.prototype.setViewportPosition=function(t,n,i){i===void 0&&(i=!1),(t!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsService.is("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,n){if(n===void 0&&(n="api"),!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var i={type:k.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.getSecondaryPivotColumn=function(t,n){if(ut(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=oh(a,t),c=l===i;u&&c&&(o=s)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var n,i;this.gridOptionsService.is("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?On(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?On(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,t),o.setFirstRightPinned(o===i,t)})},e.prototype.autoSizeColumns=function(t){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(t)});return}var i=t.columns,o=t.skipHeader,s=t.skipHeaderGroups,a=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,h=o??this.gridOptionsService.is("skipHeaderOnAutoSize"),f=s??h;d!==0;)d=0,this.actionOnGridColumns(i,function(p){if(c.indexOf(p)>=0)return!1;var g=n.autoWidthCalculator.getPreferredWidthForColumn(p,h);if(g>0){var C=n.normaliseColumnWidth(p,g);p.setActualWidth(C,u),c.push(p),d++}return!0},u);f||this.autoSizeColumnGroupsByColumns(i,u,a),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,n,i,o){if(o===void 0&&(o=null),t&&t.length){var s={type:k.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:i};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnChangedEvent=function(t,n,i){var o={type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var n=t.movedColumns,i=t.source,o=t.toIndex,s=t.finished,a={type:k.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:s,source:i};this.eventService.dispatchEvent(a)},e.prototype.dispatchColumnPinnedEvent=function(t,n){if(t.length){var i=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.getPinned()}),s={type:k.EVENT_COLUMN_PINNED,pinned:o??null,columns:t,column:i,source:n};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnVisibleEvent=function(t,n){if(t.length){var i=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.isVisible()}),s={type:k.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:i,source:n};this.eventService.dispatchEvent(s)}},e.prototype.autoSizeColumn=function(t,n,i){i===void 0&&(i="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:n,skipHeaderGroups:!0,source:i})},e.prototype.autoSizeColumnGroupsByColumns=function(t,n,i){var o,s,a,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(w){for(var E=w.getParent();E&&E!=i;)E.isPadding()||u.add(E),E=E.getParent()});var d,h=[];try{for(var f=gq(u),p=f.next();!p.done;p=f.next()){var g=p.value;try{for(var C=(a=void 0,gq(this.ctrlsService.getHeaderRowContainerCtrls())),m=C.next();!m.done;m=C.next()){var y=m.value;if(d=y.getHeaderCtrlForColumn(g),d)break}}catch(w){a={error:w}}finally{try{m&&!m.done&&(l=C.return)&&l.call(C)}finally{if(a)throw a.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(w){o={error:w}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}return h},e.prototype.autoSizeAllColumns=function(t,n){var i=this;if(n===void 0&&(n="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(t,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:t,source:n})},e.prototype.getColumnsFromTree=function(t){var n=[],i=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof Tn?n.push(a):a instanceof _r&&i(a.getChildren())}};return i(t),n},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,n,i,o){for(var s=[],a=null,l=function(d){var h=n[d],f=n.length-d,p=Math.min(h.getColSpan(t),f),g=[h];if(p>1){for(var C=p-1,m=1;m<=C;m++)g.push(n[d+m]);d+=C}var y;if(i?(y=!1,g.forEach(function(E){i(E)&&(y=!0)})):y=!0,y){if(s.length===0&&a){var w=o?o(h):!1;w&&s.push(a)}s.push(h)}a=h,u=d},u,c=0;c<n.length;c++)l(c),c=u;return s},e.prototype.getViewportCenterColumnsForRow=function(t){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(s){var a=s.getLeft();return ce(a)&&a>n.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,i)},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var n=t.getLeft()||0,i=n+t.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=n<o&&i<o,l=n>s&&i>s;return!a&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,n,i,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!t||ks(t))){var u=!1;if(t.forEach(function(d){var h=l.getPrimaryColumn(d);if(h){if(i){if(n.indexOf(h)>=0)return;n.push(h)}else{if(n.indexOf(h)<0)return;Ns(n,h)}o(h),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:n,column:n.length===1?n[0]:null,source:a};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,k.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},e.prototype.setRowGroupActive=function(t,n,i){t!==n.isRowGroupActive()&&(n.setRowGroupActive(t,i),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,i),!t&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,i))},e.prototype.addRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.addRowGroupColumns([t],n)},e.prototype.addRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),k.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),k.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.removeRowGroupColumns([t],n)},e.prototype.addPivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},k.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.setPivotColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.pivotColumns,k.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,n)},n)},e.prototype.addPivotColumn=function(t,n){n===void 0&&(n="api"),this.addPivotColumns([t],n)},e.prototype.removePivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},k.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.removePivotColumn=function(t,n){n===void 0&&(n="api"),this.removePivotColumns([t],n)},e.prototype.setPrimaryColumnList=function(t,n,i,o,s,a){var l=this,u=new Map;n.forEach(function(c,d){return u.set(c,d)}),n.length=0,ce(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&n.push(d)}),n.forEach(function(c,d){var h=u.get(c);if(h===void 0){u.set(c,0);return}o&&h!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=n.indexOf(c)>=0;s(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(i,Ya([],Ka(u.keys())),a)},e.prototype.setValueColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.valueColumns,k.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},e.prototype.setValueActive=function(t,n,i){if(t!==n.isValueActive()&&(n.setValueActive(t,i),t&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},e.prototype.addValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),k.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.addValueColumn=function(t,n){n===void 0&&(n="api"),t&&this.addValueColumns([t],n)},e.prototype.removeValueColumn=function(t,n){n===void 0&&(n="api"),this.removeValueColumns([t],n)},e.prototype.removeValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),k.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.normaliseColumnWidth=function(t,n){var i=t.getMinWidth();ce(i)&&n<i&&(n=i);var o=t.getMaxWidth();return ce(o)&&t.isGreaterThanMax(n)&&(n=o),n},e.prototype.getPrimaryOrGridColumn=function(t){var n=this.getPrimaryColumn(t);return n||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,n,i,o){var s=this;o===void 0&&(o="api");var a=[];t.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(n=!n),n){var d=s.getDisplayedColAfter(u);if(!d)return;var h=u.getActualWidth()-l.newWidth,f=d.getActualWidth()+h;a.push({width:f,ratios:[1],columns:[d]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:i,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var n=t.columns,i=t.width,o=0,s=0,a=!0;n.forEach(function(c){var d=c.getMinWidth();o+=d||0;var h=c.getMaxWidth();ce(h)&&h>0?s+=h:a=!1});var l=i>=o,u=!a||i<=s;return l&&u},e.prototype.resizeColumnSets=function(t){var n=this,i=t.resizeSets,o=t.finished,s=t.source,a=!i||i.every(function(p){return n.checkMinAndMaxWidthsForSet(p)});if(!a){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,s)}return}var u=[],c=[];i.forEach(function(p){var g=p.width,C=p.columns,m=p.ratios,y={},w={};C.forEach(function(_){return c.push(_)});for(var E=!0,P=0,T=function(){if(P++,P>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";E=!1;var _=[],b=0,D=g;C.forEach(function(G,I){var L=w[G.getId()];if(L)D-=y[G.getId()];else{_.push(G);var B=m[I];b+=B}});var M=1/b;_.forEach(function(G,I){var L=I===_.length-1,B;L?B=D:(B=Math.round(m[I]*g*M),D-=B);var j=G.getMinWidth(),z=G.getMaxWidth();ce(j)&&B<j?(B=j,w[G.getId()]=!0,E=!0):ce(z)&&z>0&&B>z&&(B=z,w[G.getId()]=!0,E=!0),y[G.getId()]=B})};E;){var R=T();if(R==="break")break}C.forEach(function(_){var b=y[_.getId()],D=_.getActualWidth();D!==b&&(_.setActualWidth(b,s),u.push(_))})});var d=u.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var f=c.concat(h);(d||o)&&this.dispatchColumnResizedEvent(f,o,s,h)},e.prototype.setColumnAggFunc=function(t,n,i){if(i===void 0&&(i="api"),!!t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(k.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},e.prototype.moveRowGroupColumn=function(t,n,i){i===void 0&&(i="api");var o=this.rowGroupColumns[t],s=this.rowGroupColumns.slice(t,n);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(n,0,o);var a={type:k.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:i};this.eventService.dispatchEvent(a)},e.prototype.moveColumns=function(t,n,i,o){if(i===void 0&&(i="api"),o===void 0&&(o=!0),this.columnAnimationService.start(),n>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var s=this.getGridColumns(t),a=!this.doesMovePassRules(s,n);a||(_k(this.gridColumns,s,n),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:s,source:i,toIndex:n,finished:o}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,n){var i=this.getProposedColumnOrder(t,n);return this.doesOrderPassRules(i)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,n){var i=this.gridColumns.slice();return _k(i,t,n),i},e.prototype.sortColumnsLikeGridColumns=function(t){var n=this;if(!(!t||t.length<=1)){var i=t.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;i||t.sort(function(o,s){var a=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(s);return a-l})}},e.prototype.doesMovePassLockedPositions=function(t){var n=0,i=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return t.forEach(function(s){var a=o(s.getColDef().lockPosition);a<n&&(i=!1),n=a}),i},e.prototype.doesMovePassMarryChildren=function(t){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof _r){var o=i,s=o.getColGroupDef(),a=s&&s.marryChildren;if(a){var l=[];o.getLeafColumns().forEach(function(f){var p=t.indexOf(f);l.push(p)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,h=o.getLeafColumns().length-1;d>h&&(n=!1)}}}),n},e.prototype.moveColumn=function(t,n,i){i===void 0&&(i="api"),this.moveColumns([t],n,i)},e.prototype.moveColumnByIndex=function(t,n,i){i===void 0&&(i="api");var o=this.gridColumns[t];this.moveColumn(o,n,i)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,o){return t.gridColumns.indexOf(i)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(i,o){return t.lastPrimaryOrder.indexOf(i)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==n||this.rightWidth!==i;if(o){this.bodyWidth=t,this.leftWidth=n,this.rightWidth=i;var s={type:k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return ks(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return ks(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,n,i){i===void 0&&(i="api"),this.setColumnsVisible([t],n,i)},e.prototype.setColumnsVisible=function(t,n,i){n===void 0&&(n=!1),i===void 0&&(i="api"),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},i)},e.prototype.setColumnPinned=function(t,n,i){i===void 0&&(i="api"),t&&this.setColumnsPinned([t],n,i)},e.prototype.setColumnsPinned=function(t,n,i){if(i===void 0&&(i="api"),this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(t,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},i,function(){var s={type:k.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return s}),this.columnAnimationService.finish()},e.prototype.actionOnGridColumns=function(t,n,i,o){var s=this;if(!ks(t)){var a=[];if(t.forEach(function(u){var c=s.getGridColumn(u);if(c){var d=n(c);d!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(i),ce(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var n=this.getAllDisplayedColumns(),i=n.indexOf(t);return i>0?n[i-1]:null},e.prototype.getDisplayedColAfter=function(t){var n=this.getAllDisplayedColumns(),i=n.indexOf(t);return i<n.length-1?n[i+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,n){for(var i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),s=n==="After"?On(o):o[0],a="getDisplayedCol"+n;;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,n){for(var i=t.getParent(),o,s;;){var a=i.getProvidedColumnGroup();if(o=a.getLevel(),s=i.getPaddingLevel(),o+s<=n)break;i=i.getParent()}return i},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var n=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,s=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:n,pivot:t.isPivotActive(),pivotIndex:i,flex:l};return u},e.prototype.getColumnState=function(){if(ut(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),n=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},e.prototype.orderColumnStateList=function(t){var n=Qd(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));t.sort(function(i,o){var s=n.has(i.colId)?n.get(i.colId):-1,a=n.has(o.colId)?n.get(o.colId):-1;return s-a})},e.prototype.resetColumnState=function(t){var n=this;t===void 0&&(t="api");var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=n.getColumnStateFromColDef(u);ut(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),ut(c.pivotIndex)&&c.pivot&&(c.pivotIndex=a++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},t)},e.prototype.getColumnStateFromColDef=function(t){var n=function(C,m){return C??m??null},i=t.getColDef(),o=n(i.sort,i.initialSort),s=n(i.sortIndex,i.initialSortIndex),a=n(i.hide,i.initialHide),l=n(i.pinned,i.initialPinned),u=n(i.width,i.initialWidth),c=n(i.flex,i.initialFlex),d=n(i.rowGroupIndex,i.initialRowGroupIndex),h=n(i.rowGroup,i.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);var f=n(i.pivotIndex,i.initialPivotIndex),p=n(i.pivot,i.initialPivot);f==null&&(p==null||p==!1)&&(f=null,p=null);var g=n(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:h,rowGroupIndex:d,pivot:p,pivotIndex:f,aggFunc:g}},e.prototype.applyColumnState=function(t,n){var i=this;if(ks(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var h=i.compareColumnStatesAndDispatchEvents(n);i.autoGroupsNeedBuilding=!0;var f=c.slice(),p={},g={},C=[],m=[],y=0,w=i.rowGroupColumns.slice(),E=i.pivotColumns.slice();u.forEach(function(_){var b=_.colId||"",D=b.startsWith(Qp);if(D){C.push(_),m.push(_);return}var M=d(b);M?(i.syncColumnWithStateItem(M,_,t.defaultState,p,g,!1,n),Ns(f,M)):(m.push(_),y+=1)});var P=function(_){return i.syncColumnWithStateItem(_,null,t.defaultState,p,g,!1,n)};f.forEach(P);var T=function(_,b,D,M){var G=_[D.getId()],I=_[M.getId()],L=G!=null,B=I!=null;if(L&&B)return G-I;if(L)return-1;if(B)return 1;var j=b.indexOf(D),z=b.indexOf(M),W=j>=0,H=z>=0;return W&&H?j-z:W?-1:1};i.rowGroupColumns.sort(T.bind(i,p,w)),i.pivotColumns.sort(T.bind(i,g,E)),i.updateGridColumns();var R=i.groupAutoColumns?i.groupAutoColumns.slice():[];return C.forEach(function(_){var b=i.getAutoColumn(_.colId);Ns(R,b),i.syncColumnWithStateItem(b,_,t.defaultState,null,null,!0,n)}),R.forEach(P),i.applyOrderAfterApplyState(t),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),h(),{unmatchedAndAutoStates:m,unmatchedCount:y}};this.columnAnimationService.start();var s=o(t.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||ce(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var n=this;if(!(!t.applyOrder||!t.state)){var i=[],o={};t.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=n.gridColumnsMap[a.colId];l&&(i.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(Qp);c?yE(i,a,s++):i.push(a)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(m,y,w,E){var P=y.map(E),T=w.map(E),R=oh(P,T);if(!R){var _=new Set(y);w.forEach(function(M){_.delete(M)||_.add(M)});var b=Ya([],Ka(_)),D={type:m,columns:b,column:b.length===1?b[0]:null,source:t};n.eventService.dispatchEvent(D)}},u=function(m){var y=[];return a.forEach(function(w){var E=s[w.getColId()];E&&m(E,w)&&y.push(w)}),y},c=function(m){return m.getColId()};l(k.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,c),l(k.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,c);var d=function(m,y){var w=m.aggFunc!=null,E=w!=y.isValueActive(),P=w&&m.aggFunc!=y.getAggFunc();return E||P},h=u(d);h.length>0&&n.dispatchColumnChangedEvent(k.EVENT_COLUMN_VALUE_CHANGED,h,t);var f=function(m,y){return m.width!=y.getActualWidth()};n.dispatchColumnResizedEvent(u(f),!0,t);var p=function(m,y){return m.pinned!=y.getPinned()};n.dispatchColumnPinnedEvent(u(p),t);var g=function(m,y){return m.hide==y.isVisible()};n.dispatchColumnVisibleEvent(u(g),t);var C=function(m,y){return m.sort!=y.getSort()||m.sortIndex!=y.getSortIndex()};u(C).length>0&&n.sortController.dispatchSortChangedEvents(t),n.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,n){if(!(!t||t.length==0)){for(var i=n(t[0]),o=1;o<t.length;o++)if(i!==n(t[o]))return;return i}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,n){var i=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};t.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=t.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];u.forEach(function(d,h){var f=l&&l[h];if(f&&f.colId!==d.colId){var p=i.getGridColumn(f.colId);p&&c.push(p)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:n,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,n,i,o,s,a,l){if(t){var u=function(b,D){var M={value1:void 0,value2:void 0},G=!1;return n&&(n[b]!==void 0&&(M.value1=n[b],G=!0),ce(D)&&n[D]!==void 0&&(M.value2=n[D],G=!0)),!G&&i&&(i[b]!==void 0&&(M.value1=i[b]),ce(D)&&i[D]!==void 0&&(M.value2=i[D])),M},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),f=u("flex").value1;f!==void 0&&t.setFlex(f);var p=t.getFlex()<=0;if(p){var g=u("width").value1;g!=null&&h!=null&&g>=h&&t.setActualWidth(g,l)}var C=u("sort").value1;C!==void 0&&(C==="desc"||C==="asc"?t.setSort(C,l):t.setSort(void 0,l));var m=u("sortIndex").value1;if(m!==void 0&&t.setSortIndex(m),!(a||!t.isPrimary())){var y=u("aggFunc").value1;y!==void 0&&(typeof y=="string"?(t.setAggFunc(y),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(ce(y)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),Ns(this.valueColumns,t))));var w=u("rowGroup","rowGroupIndex"),E=w.value1,P=w.value2;(E!==void 0||P!==void 0)&&(typeof P=="number"||E?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof P=="number"&&(o[t.getId()]=P)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),Ns(this.rowGroupColumns,t)));var T=u("pivot","pivotIndex"),R=T.value1,_=T.value2;(R!==void 0||_!==void 0)&&(typeof _=="number"||R?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),s&&typeof _=="number"&&(s[t.getId()]=_)):t.isPivotActive()&&(t.setPivotActive(!1,l),Ns(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,n){var i=[];return t&&t.forEach(function(o){var s=n(o);s&&i.push(s)}),i},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var n=this.getGridColumn(t);return n||console.warn("AG Grid: could not find column "+t),n},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,n,i){if(!t)return null;if(typeof t=="string"&&i[t])return i[t];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],t))return n[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var n=t.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(n);return i?[i]:null},e.prototype.getAutoColumn=function(t){var n=this;return!this.groupAutoColumns||!ce(this.groupAutoColumns)||ut(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return n.columnsMatch(i,t)})||null},e.prototype.columnsMatch=function(t,n){var i=t===n,o=t.getColDef()===n,s=t.getColId()==n;return i||o||s},e.prototype.getDisplayNameForColumn=function(t,n,i){if(i===void 0&&(i=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,n);return i?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,n,i){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,t,n,i):null},e.prototype.getDisplayNameForColumnGroup=function(t,n){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),n)},e.prototype.getHeaderName=function(t,n,i,o,s){var a=t.headerValueGetter;if(a){var l={colDef:t,column:n,columnGroup:i,providedColumnGroup:o,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return Epe(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,n){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return n;var i=t.getColDef().pivotValueColumn,o=ce(i),s=null,a;if(o){var l=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return n;s=i?i.getAggFunc():null,a=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(s=t.getAggFunc(),a=!0):a=!1}if(a){var h=typeof s=="string"?s:"func",f=this.localeService.getLocaleTextFunc(),p=f(h,h);return p+"("+n+")"}return n},e.prototype.getColumnGroup=function(t,n){if(!t)return null;if(t instanceof gi)return t;var i=this.getAllDisplayedTrees(),o=typeof n=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(a){if(a instanceof gi){var l=a,u=void 0;o?u=t===l.getGroupId()&&n===l.getPartId():u=t===l.getGroupId(),u&&(s=l)}}),s},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,o){return i.setValueActive(o,t)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,t)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},e.prototype.extractColumns=function(t,n,i,o,s,a,l){t===void 0&&(t=[]),n===void 0&&(n=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(f){var p=t.indexOf(f)<0,g=f.getColDef(),C=cu(a(g)),m=cu(l(g)),y=_a(o(g)),w=_a(s(g)),E,P=C!==void 0,T=y!==void 0,R=m!==void 0,_=w!==void 0;if(P?E=C:T?y===null?E=!1:E=y>=0:p?R?E=m:_?E=w!=null&&w>=0:E=!1:E=n.indexOf(f)>=0,E){var b=p?y!=null||w!=null:y!=null;b?u.push(f):c.push(f)}});var d=function(f){var p=o(f.getColDef()),g=s(f.getColDef());return p??g};u.sort(function(f,p){var g=d(f),C=d(p);return g===C?0:g<C?-1:1});var h=[].concat(u);return n.forEach(function(f){c.indexOf(f)>=0&&h.push(f)}),c.forEach(function(f){h.indexOf(f)<0&&h.push(f)}),n.forEach(function(f){h.indexOf(f)<0&&i(f,!1)}),h.forEach(function(f){n.indexOf(f)<0&&i(f,!0)}),h},e.prototype.extractPivotColumns=function(t,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,o){return i.setPivotActive(o,t)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},e.prototype.resetColumnGroupState=function(t){t===void 0&&(t="api");var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof _r){var o=i.getColGroupDef(),s={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof _r&&t.push({groupId:n.getGroupId(),open:n.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,n){var i=this;n===void 0&&(n="api"),this.columnAnimationService.start();var o=[];t.forEach(function(s){var a=s.groupId,l=s.open,u=i.getProvidedColumnGroup(a);u&&u.isExpanded()!==l&&(i.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),o.push(u))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.forEach(function(s){var a={type:k.EVENT_COLUMN_GROUP_OPENED,columnGroup:s};i.eventService.dispatchEvent(a)}),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,n,i){i===void 0&&(i="api");var o;t instanceof _r?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:n}],i)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof _r&&i.getId()===t&&(n=i)}),n},e.prototype.calculateColumnsForDisplay=function(){var t=this,n;return this.pivotMode&&ut(this.secondaryColumns)?n=this.gridColumns.filter(function(i){var o=t.groupAutoColumns&&Oa(t.groupAutoColumns,i),s=t.valueColumns&&Oa(t.valueColumns,i);return o||s}):n=this.gridColumns.filter(function(i){var o=t.groupAutoColumns&&Oa(t.groupAutoColumns,i);return o||i.isVisible()}),n},e.prototype.checkColSpanActiveInCols=function(t){var n=!1;return t.forEach(function(i){ce(i.getColDef().colSpan)&&(n=!0)}),n},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(i){var o=i.getColDef(),s=o.showRowGroup;o&&ce(s)&&(t.groupDisplayColumns.push(i),typeof s=="string"?t.groupDisplayColumnsMap[s]=i:s===!0&&t.getRowGroupColumns().forEach(function(a){t.groupDisplayColumnsMap[a.getId()]=i}))};this.gridColumns.forEach(n)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return ce(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,n){var i=this;n===void 0&&(n="api");var o=t&&t.length>0;if(!(!o&&ut(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var s=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return i.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}},e.prototype.processSecondaryColumnDefinitions=function(t){var n=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!(!n&&!i)){var o=function(s){s.forEach(function(a){var l=ce(a.children);if(l){var u=a;i&&i(u),o(u.children)}else{var c=a;n&&n(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);var s=this.createGroupAutoColumnsIfNeeded();if(s&&i){var a=Qd(this.groupAutoColumns.map(function(u){return[u,!0]}));i=i.filter(function(u){return!a.has(u)}),i=Ya(Ya([],Ka(this.groupAutoColumns)),Ka(i))}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!oh(n,this.gridBalancedTree)){var l={type:k.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(i){return i.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");if(!t){var n="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";Ht(function(){return console.warn(n)},"autoHeightActive.wrongRowModel")}}},e.prototype.orderGridColsLike=function(t){if(!ut(t)){var n=Qd(t.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){n.has(c)&&(i=!1)}),!i){var o=Qd(this.gridColumns.map(function(c){return[c,!0]})),s=t.filter(function(c){return o.has(c)}),a=Qd(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var h=[];!h.length&&d;){var f=d.getLeafColumns();f.forEach(function(C){var m=u.indexOf(C)>=0,y=h.indexOf(C)<0;m&&y&&h.push(C)}),d=d.getOriginalParent()}if(!h.length){u.push(c);return}var p=h.map(function(C){return u.indexOf(C)}),g=Math.max.apply(Math,Ya([],Ka(p)));yE(u,c,g+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,n=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?n:n.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var n=[],i=[],o=[];return t.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),Ya(Ya(Ya([],Ka(n)),Ka(i)),Ka(o))},e.prototype.addAutoGroupToGridColumns=function(){if(ut(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:k.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var n=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=n.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,t)})}else{var l=0;s.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}ppe(i,s)}),i.forEach(function(s){s.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(n){if(n instanceof gi){var i=n;i.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(i){i instanceof Tn&&n.push(i)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,n){var i;switch(t){case"left":i=this.viewportRowLeft[n];break;case"right":i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n];break}return ut(i)&&(i=[]),i},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(i){return t[i.getId()]=!0});var n=function(i,o,s){for(var a=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof Tn)c=t[u.getId()]===!0;else{var d=u,h=d.getDisplayedChildren();h&&(c=n(h,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return o.getId()+"-"+(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(t).join("#"),i=this.viewportColumnsHash!==n;return i&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),i},e.prototype.refreshFlexedColumns=function(t){var n;t===void 0&&(t={});var i=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols){for(var s=new Set(t.resizingCols),a=this.displayedColumnsCenter,l=a.length-1;l>=0;l--)if(s.has(a[l])){o=l;break}}for(var u=0,c=[],d=0,h=0,l=0;l<this.displayedColumnsCenter.length;l++){var f=this.displayedColumnsCenter[l].getFlex()&&l>o;f?(c.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var p=[];u+d>this.flexViewportWidth&&(c.forEach(function(_){var b;return _.setActualWidth((b=_.getMinWidth())!==null&&b!==void 0?b:0,i)}),p=c,c=[]);var g=[],C;e:for(;;){C=this.flexViewportWidth-u;for(var m=C/h,l=0;l<c.length;l++){var y=c[l],w=m*y.getFlex(),E=0,P=y.getMinWidth(),T=y.getMaxWidth();if(ce(P)&&w<P?E=P:ce(T)&&w>T&&(E=T),E){y.setActualWidth(E,i),hU(c,y),h-=y.getFlex(),p.push(y),u+=y.getActualWidth();continue e}g[l]=Math.round(w)}break}var R=C;return c.forEach(function(_,b){_.setActualWidth(Math.min(g[b],R),i),p.push(_),R-=g[b]}),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(p,!0,i,c),c},e.prototype.sizeColumnsToFit=function(t,n,i,o){var s=this,a,l,u,c,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(t,n,i,o)});return}var h={};o&&((a=o==null?void 0:o.columnLimits)===null||a===void 0||a.forEach(function(z){var W=z.key,H=WXe(z,["key"]);h[typeof W=="string"?W:W.getColId()]=H}));var f=this.getAllDisplayedColumns(),p=t===this.getWidthOfColsInList(f);if(!(t<=0||!f.length||p)){var g=[],C=[];f.forEach(function(z){z.getColDef().suppressSizeToFit===!0?C.push(z):g.push(z)});var m=g.slice(0),y=!1,w=function(z){Ns(g,z),C.push(z)};for(g.forEach(function(z){var W,H;z.resetActualWidth(n);var Y=h==null?void 0:h[z.getId()],Q=(W=Y==null?void 0:Y.minWidth)!==null&&W!==void 0?W:o==null?void 0:o.defaultMinWidth,J=(H=Y==null?void 0:Y.maxWidth)!==null&&H!==void 0?H:o==null?void 0:o.defaultMaxWidth,oe=z.getActualWidth();typeof Q=="number"&&oe<Q?z.setActualWidth(Q,n,!0):typeof J=="number"&&oe>J&&z.setActualWidth(J,n,!0)});!y;){y=!0;var E=t-this.getWidthOfColsInList(C);if(E<=0)g.forEach(function(z){var W,H,Y=(H=(W=h==null?void 0:h[z.getId()])===null||W===void 0?void 0:W.minWidth)!==null&&H!==void 0?H:o==null?void 0:o.defaultMinWidth;if(typeof Y=="number"){z.setActualWidth(Y,n,!0);return}z.setMinimum(n)});else for(var P=E/this.getWidthOfColsInList(g),T=E,R=g.length-1;R>=0;R--){var _=g[R],b=h==null?void 0:h[_.getId()],D=(l=b==null?void 0:b.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,M=(u=b==null?void 0:b.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,G=(c=_.getMinWidth())!==null&&c!==void 0?c:0,I=(d=_.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,L=typeof D=="number"&&D>G?D:_.getMinWidth(),B=typeof M=="number"&&M<I?M:_.getMaxWidth(),j=Math.round(_.getActualWidth()*P);ce(L)&&j<L?(j=L,w(_),y=!1):ce(B)&&j>B?(j=B,w(_),y=!1):R===0&&(j=T),_.setActualWidth(j,n,!0),T-=j}}m.forEach(function(z){z.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,n)}},e.prototype.buildDisplayedTrees=function(t){var n=[],i=[],o=[];t.forEach(function(a){switch(a.getPinned()){case"left":n.push(a);break;case"right":i.push(a);break;default:o.push(a);break}});var s=new pU;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var n=function(i){t.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},e.prototype.isDisplayed=function(t){var n=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return n===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(n){n instanceof gi&&n.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"),s=o&&!i&&!n;if(s){var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),n=t?Tk("custom",t):!1;if(n)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i?$Xe("custom",i):!1},e.prototype.autoColsEqual=function(t,n){return oh(t,n,function(i,o){return i.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(n,i){return n+i.getActualWidth()},0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.is("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&n.reverse();for(var i=0;i<n.length;i++){var o=this[n[i]]();if(o.length)return t?On(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,n){var i=t.setAutoHeaderHeight(n);if(i){var o={type:k.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,Ya([t],Ka(n)))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.getNum("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t){var n=t.getUserProvidedColDef();if(!n)return!1;var i=this.columnFactory.addColumnDefaultAndTypes(n,t.getColId());return t.setColDef(i,n),!0},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,n){var i=this,o={},s=function(a,l,u,c,d,h){if(!l.length||!i.primaryColumns)return[];for(var f=Object.keys(a),p=new Set(f),g=new Set(f),C=new Set(l.map(function(D){var M=D.getColId();return g.delete(M),M}).concat(f)),m=[],y={},w=0,E=0;E<i.primaryColumns.length;E++){var P=i.primaryColumns[E].getColId();C.has(P)&&(m.push(P),y[P]=w++)}var T=1e3,R=!1,_=0,b=function(D){for(var M=y[D],G=_;G<M;G++){var I=m[G];g.has(I)&&(a[I][d]=T++,g.delete(I))}_=M};l.forEach(function(D){var M=D.getColId();if(p.has(M))b(M),a[M][d]=T++;else{var G=D.getColDef(),I=G[d]===null||G[d]===void 0&&G[h]==null;if(I){if(!R){var L=G[u]||G[u]===void 0&&G[c];L?b(M):(g.forEach(function(B){a[B][d]=T+y[B]}),T+=m.length,R=!0)}o[M]||(o[M]={colId:M}),o[M][d]=T++}}})};return s(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},_i([V("expressionService")],e.prototype,"expressionService",void 0),_i([V("columnFactory")],e.prototype,"columnFactory",void 0),_i([V("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),_i([V("ctrlsService")],e.prototype,"ctrlsService",void 0),_i([V("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),_i([V("columnUtils")],e.prototype,"columnUtils",void 0),_i([V("columnAnimationService")],e.prototype,"columnAnimationService",void 0),_i([V("autoGroupColService")],e.prototype,"autoGroupColService",void 0),_i([nn("aggFuncService")],e.prototype,"aggFuncService",void 0),_i([nn("valueCache")],e.prototype,"valueCache",void 0),_i([nn("animationFrameService")],e.prototype,"animationFrameService",void 0),_i([V("sortController")],e.prototype,"sortController",void 0),_i([V("columnDefFactory")],e.prototype,"columnDefFactory",void 0),_i([we],e.prototype,"init",null),_i([ui],e.prototype,"destroyColumns",null),_i([jXe(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),e=_i([Me("columnModel")],e),e}(ye),UXe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zXe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ppe=function(r){UXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var n=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t),o,s=_a(t.width),a=_a(t.initialWidth);return s!=null?o=s:a!=null?o=a:o=200,Math.max(Math.min(o,i),n)},e.prototype.getOriginalPathForColumn=function(t,n){var i=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof _r){var d=c;s(d.getChildren(),l+1),i[l]=c}else c===t&&(o=!0)}};return s(n,0),o?i:null},e.prototype.depthFirstOriginalTreeSearch=function(t,n,i){var o=this;n&&n.forEach(function(s){s instanceof _r&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),i),i(s,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,n){var i=this;t&&t.forEach(function(o){o instanceof gi&&i.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,n){var i=this;t&&t.forEach(function(o){o instanceof gi&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},e=zXe([Me("columnUtils")],e),e}(ye),KXe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YXe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ope=function(r){KXe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,n,i,o){for(var s=this,a=this.mapOldGroupsById(o),l=[],u=t,c=function(){var d=u;u=[];for(var h=0,f=function(P){var T=h;h=P;var R=d[T],_=R instanceof gi?R.getProvidedColumnGroup():R,b=_.getOriginalParent();if(b==null){for(var D=T;D<P;D++)l.push(d[D]);return}for(var M=s.createColumnGroup(b,n,a,i),D=T;D<P;D++)M.addChild(d[D]);u.push(M)},p=1;p<d.length;p++){var g=d[p],C=g instanceof gi?g.getProvidedColumnGroup():g,m=C.getOriginalParent(),y=d[h],w=y instanceof gi?y.getProvidedColumnGroup():y,E=w.getOriginalParent();m!==E&&f(p)}h<d.length&&f(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,n,i,o){var s=t.getGroupId(),a=n.getInstanceIdForKey(s),l=gi.createUniqueId(s,a),u=i[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),ce(u)?u.reset():(u=new gi(t,s,a,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var n={},i=function(o){o.forEach(function(s){if(s instanceof gi){var a=s;n[s.getUniqueId()]=a,i(a.getChildren())}})};return t&&i(t),n},e.prototype.setupParentsIntoColumns=function(t,n){var i=this;t.forEach(function(o){if(o.setParent(n),o instanceof gi){var s=o;i.setupParentsIntoColumns(s.getChildren(),s)}})},e=YXe([Me("displayedGroupCreator")],e),e}(ye),qXe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QXe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dpe=function(r){qXe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var n=this;t&&t.forEach(function(i){return n.addComponent(i)})},e.prototype.addComponent=function(t){var n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=n.toUpperCase();this.componentsMappedByName[i]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=QXe([Me("agStackComponentsRegistry")],e),e}(ye);function Ml(r,e,t){t==null||t==""?gU(r,e):ja(r,e,t)}function ja(r,e,t){r.setAttribute(Ape(e),t.toString())}function gU(r,e){r.removeAttribute(Ape(e))}function Ape(r){return"aria-"+r}function li(r,e){e?r.setAttribute("role",e):r.removeAttribute("role")}function xpe(r){var e;return r==="asc"?e="ascending":r==="desc"?e="descending":r==="mixed"?e="other":e="none",e}function Ipe(r){return parseInt(r.getAttribute("aria-level"),10)}function Fpe(r){return parseInt(r.getAttribute("aria-posinset"),10)}function XXe(r){return r.getAttribute("aria-describedby")||""}function ud(r,e){Ml(r,"label",e)}function KM(r,e){Ml(r,"labelledby",e)}function Mpe(r,e){Ml(r,"description",e)}function Lpe(r,e){Ml(r,"describedby",e)}function Npe(r,e){Ml(r,"live",e)}function Gpe(r,e){Ml(r,"level",e)}function mU(r,e){Ml(r,"disabled",e)}function YM(r,e){Ml(r,"hidden",e)}function vU(r,e){Ml(r,"activedescendant",e)}function cl(r,e){ja(r,"expanded",e)}function Vpe(r){gU(r,"expanded")}function yU(r,e){ja(r,"setsize",e)}function CU(r,e){ja(r,"posinset",e)}function kpe(r,e){ja(r,"multiselectable",e)}function Hpe(r,e){ja(r,"rowcount",e)}function wU(r,e){ja(r,"rowindex",e)}function $pe(r,e){ja(r,"colcount",e)}function SU(r,e){ja(r,"colindex",e)}function Bpe(r,e){ja(r,"colspan",e)}function jpe(r,e){ja(r,"sort",e)}function Wpe(r){gU(r,"sort")}function Xp(r,e){Ml(r,"selected",e)}function Upe(r,e){ja(r,"checked",e===void 0?"mixed":e)}function zpe(r,e){Ml(r,"controls",e.id),KM(e,r.id)}function qM(r,e){return e===void 0?r("ariaIndeterminate","indeterminate"):e===!0?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var JXe=Object.freeze({__proto__:null,setAriaRole:li,getAriaSortState:xpe,getAriaLevel:Ipe,getAriaPosInSet:Fpe,getAriaDescribedBy:XXe,setAriaLabel:ud,setAriaLabelledBy:KM,setAriaDescription:Mpe,setAriaDescribedBy:Lpe,setAriaLive:Npe,setAriaLevel:Gpe,setAriaDisabled:mU,setAriaHidden:YM,setAriaActiveDescendant:vU,setAriaExpanded:cl,removeAriaExpanded:Vpe,setAriaSetSize:yU,setAriaPosInSet:CU,setAriaMultiSelectable:kpe,setAriaRowCount:Hpe,setAriaRowIndex:wU,setAriaColCount:$pe,setAriaColIndex:SU,setAriaColSpan:Bpe,setAriaSort:jpe,removeAriaSort:Wpe,setAriaSelected:Xp,setAriaChecked:Upe,setAriaControls:zpe,getAriaCheckboxStateName:qM}),bN,Bb,TN,PN,ON,DN,Pk,Ok;function Ga(){return bN===void 0&&(bN=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),bN}function EU(){if(Bb===void 0)if(Ga()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(Bb=r[1]!=null?parseFloat(r[1]):0)}else Bb=0;return Bb}function QM(){if(TN===void 0){var r=window;TN=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return TN}function _U(){return PN===void 0&&(PN=/(firefox)/i.test(navigator.userAgent)),PN}function RU(){return ON===void 0&&(ON=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ON}function uf(){return DN===void 0&&(DN=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),DN}function XM(){return!Ga()||EU()>=15}function mx(r){if(!r)return null;var e=r.tabIndex,t=r.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!_U())?null:e.toString()}function Kpe(){if(!document.body)return-1;var r=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var n=r*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;r=n}return document.body.removeChild(t),r}function Ype(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function qpe(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function Qpe(){return Ok==null&&Xpe(),Ok}function Xpe(){var r=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",r.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(Ok=t,Pk=t===0)}function CE(){return Pk==null&&Xpe(),Pk}var ZXe=Object.freeze({__proto__:null,isBrowserSafari:Ga,getSafariVersion:EU,isBrowserChrome:QM,isBrowserFirefox:_U,isMacOsUserAgent:RU,isIOSUserAgent:uf,browserSupportsPreventScroll:XM,getTabIndex:mx,getMaxDivHeight:Kpe,getBodyWidth:Ype,getBodyHeight:qpe,getScrollbarWidth:Qpe,isInvisibleScrollbar:CE});function iv(r,e){return r.toString().padStart(e,"0")}function Jpe(r,e){for(var t=[],n=r;n<=e;n++)t.push(n);return t}function eJe(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function tJe(r,e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(r&255),r>>>=8;return t}function nJe(r,e,t){return typeof r!="number"?"":bU(Math.round(r*100)/100,e,t)}function bU(r,e,t){return typeof r!="number"?"":r.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}function rJe(r){return r==null?null:r.reduce(function(e,t){return e+t},0)}function iJe(r,e){return r>=0?r:e}function oJe(r,e){var t=parseInt(r,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}var sJe=Object.freeze({__proto__:null,padStartWidthZeros:iv,createArrayOfNumbers:Jpe,cleanNumber:eJe,decToHex:tJe,formatNumberTwoDecimalPlacesAndCommas:nJe,formatNumberCommas:bU,sum:rJe,zeroOrGreater:iJe,oneOrGreater:oJe}),AN=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function Da(r,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!r)return null;var n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(i){return iv(i,2)}).join(t);return e&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(i){return iv(i,2)}).join(":")),n}var xN=function(r){if(r>3&&r<21)return"th";var e=r%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ov(r,e){e===void 0&&(e="YYYY-MM-DD");var t=iv(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return""+r.getFullYear()},MMMM:function(){return n[r.getMonth()]},MMM:function(){return n[r.getMonth()].slice(0,3)},MM:function(){return iv(r.getMonth()+1,2)},Mo:function(){return""+(r.getMonth()+1)+xN(r.getMonth()+1)},M:function(){return""+(r.getMonth()+1)},Do:function(){return""+r.getDate()+xN(r.getDate())},DD:function(){return iv(r.getDate(),2)},D:function(){return""+r.getDate()},dddd:function(){return i[r.getDay()]},ddd:function(){return i[r.getDay()].slice(0,3)},dd:function(){return i[r.getDay()].slice(0,2)},do:function(){return""+r.getDay()+xN(r.getDay())},d:function(){return""+r.getDay()}},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,function(a){return a in o?o[a]():a})}function es(r){if(!r)return null;var e=AN(r.split(" "),2),t=e[0],n=e[1];if(!t)return null;var i=t.split("-").map(function(p){return parseInt(p,10)});if(i.filter(function(p){return!isNaN(p)}).length!==3)return null;var o=AN(i,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;var c=AN(n.split(":").map(function(p){return parseInt(p,10)}),3),d=c[0],h=c[1],f=c[2];return d>=0&&d<24&&u.setHours(d),h>=0&&h<60&&u.setMinutes(h),f>=0&&f<60&&u.setSeconds(f),u}var aJe=Object.freeze({__proto__:null,serialiseDate:Da,dateToFormattedString:ov,parseDateTimeFromString:es}),lJe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uJe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},jb;function Dk(r,e,t){for(var n=r.parentElement,i=n&&n.firstChild;i;)e&&i.classList.toggle(e,i===r),t&&i.classList.toggle(t,i!==r),i=i.nextSibling}var Zpe="[tabindex], input, select, button, textarea, [href]",TU=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function PU(r){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",n=e.call(r,t),i=e.call(r,TU),o=df(r),s=n&&!i&&o;return s}function Zt(r,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;r.classList.toggle("ag-hidden",!e),n||YM(r,!e)}function ege(r,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;r.classList.toggle("ag-invisible",!e),n||YM(r,!e)}function Qv(r,e){var t="disabled",n=e?function(i){return i.setAttribute(t,"")}:function(i){return i.removeAttribute(t)};n(r),FU(r.querySelectorAll("input"),function(i){return n(i)})}function vp(r,e,t){for(var n=0;r;){if(r.classList.contains(e))return!0;if(r=r.parentElement,typeof t=="number"){if(++n>t)break}else if(r===t)break}return!1}function cf(r){var e=window.getComputedStyle(r),t=e.height,n=e.width,i=e.borderTopWidth,o=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,h=e.marginTop,f=e.marginRight,p=e.marginBottom,g=e.marginLeft,C=e.boxSizing;return{height:parseFloat(t),width:parseFloat(n),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(h),marginRight:parseFloat(f),marginBottom:parseFloat(p),marginLeft:parseFloat(g),boxSizing:C}}function mR(r){var e=cf(r);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function JM(r){var e=cf(r);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function OU(r){var e=cf(r),t=e.marginBottom+e.marginTop;return Math.ceil(r.offsetHeight+t)}function wE(r){var e=cf(r),t=e.marginLeft+e.marginRight;return Math.ceil(r.offsetWidth+t)}function DU(r){var e=r.getBoundingClientRect(),t=cf(r),n=t.borderTopWidth,i=t.borderLeftWidth,o=t.borderRightWidth,s=t.borderBottomWidth;return{top:e.top+(n||0),left:e.left+(i||0),right:e.right+(o||0),bottom:e.bottom+(s||0)}}function SE(){if(typeof jb=="boolean")return jb;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,jb=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),jb}function EE(r,e){var t=r.scrollLeft;return e&&(t=Math.abs(t),QM()&&!SE()&&(t=r.scrollWidth-r.clientWidth-t)),t}function _E(r,e,t){t&&(SE()?e*=-1:(Ga()||QM())&&(e=r.scrollWidth-r.clientWidth-e)),r.scrollLeft=e}function co(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function cJe(r,e){gc(r.querySelector(e))}function gc(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function df(r){return r.offsetParent!==null}function Fi(r){var e=document.createElement("div");return e.innerHTML=(r||"").trim(),e.firstChild}function dJe(r,e){r.lastChild?r.insertAdjacentHTML("afterbegin",e):r.innerHTML=e}function hJe(r,e){if(r.attributes&&r.attributes[e]){var t=r.attributes[e];return t.value}return null}function Ak(r){return r&&r.clientHeight?r.clientHeight:0}function xk(r){return r&&r.clientWidth?r.clientWidth:0}function AU(r,e,t){if(!(t&&t.nextSibling===e)){var n=document.activeElement,i=e.contains(n);t?t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e):r.firstChild&&r.firstChild!==e&&r.insertAdjacentElement("afterbegin",e),i&&n&&XM()&&n.focus({preventScroll:!0})}}function xU(r,e){for(var t=0;t<e.length;t++){var n=e[t],i=r.children[t];i!==n&&r.insertBefore(n,i)}}function tge(r,e,t){t?t.insertAdjacentElement("afterend",e):r.firstChild?r.insertAdjacentElement("afterbegin",e):r.appendChild(e)}function fJe(r,e){ce(r.firstChild)?r.insertBefore(e,r.firstChild):r.appendChild(e)}function IU(r,e){var t,n;if(e)try{for(var i=lJe(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=uJe(o.value,2),a=s[0],l=s[1];if(!(!a||!a.length||l==null)){var u=_pe(a),c=l.toString(),d=c.replace(/\s*!important/g,""),h=d.length!=c.length?"important":void 0;r.style.setProperty(u,d,h)}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function nge(r){return r.clientWidth<r.scrollWidth}function rge(r){return r.clientHeight<r.scrollHeight}function RE(r,e){e==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):Aa(r,e)}function Aa(r,e){e=ZM(e),r.style.width=e.toString(),r.style.maxWidth=e.toString(),r.style.minWidth=e.toString()}function pJe(r,e){e==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):yp(r,e)}function yp(r,e){e=ZM(e),r.style.height=e.toString(),r.style.maxHeight=e.toString(),r.style.minHeight=e.toString()}function ZM(r){return typeof r=="number"?r+"px":r}function vR(r){return r instanceof Node||r instanceof HTMLElement}function ige(r){if(r==null)return[];var e=[];return FU(r,function(t){return e.push(t)}),e}function oge(r,e){if(r)for(var t=0;t<r.length;t++){var n=r[t];e(n.name,n.value)}}function Ou(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t.toString())}function FU(r,e){if(r!=null)for(var t=0;t<r.length;t++)e(r[t])}function MU(r,e){r.then(function(t){var n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}var gJe=Object.freeze({__proto__:null,radioCssClass:Dk,FOCUSABLE_SELECTOR:Zpe,FOCUSABLE_EXCLUDE:TU,isFocusableFormField:PU,setDisplayed:Zt,setVisible:ege,setDisabled:Qv,isElementChildOfClass:vp,getElementSize:cf,getInnerHeight:mR,getInnerWidth:JM,getAbsoluteHeight:OU,getAbsoluteWidth:wE,getElementRectWithOffset:DU,isRtlNegativeScroll:SE,getScrollLeft:EE,setScrollLeft:_E,clearElement:co,removeElement:cJe,removeFromParent:gc,isVisible:df,loadTemplate:Fi,appendHtml:dJe,getElementAttribute:hJe,offsetHeight:Ak,offsetWidth:xk,ensureDomOrder:AU,setDomChildOrder:xU,insertWithDomOrder:tge,prependDC:fJe,addStylesToElement:IU,isHorizontalScrollShowing:nge,isVerticalScrollShowing:rge,setElementWidth:RE,setFixedWidth:Aa,setElementHeight:pJe,setFixedHeight:yp,formatSize:ZM,isNodeOrElement:vR,copyNodeList:ige,iterateNamedNodeMap:oge,addOrRemoveAttribute:Ou,nodeListForEach:FU,bindCellRendererToHtmlElement:MU}),sge={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function ma(r,e,t){var n=Lr(r,e,t);if(n){var i=n.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Lr(r,e,t,n){var i=null,o=t&&t.getColDef().icons;if(o&&(i=o[r]),e&&!i){var s=e.get("icons");s&&(i=s[r])}if(i){var a=void 0;if(typeof i=="function")a=i();else if(typeof i=="string")a=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return Fi(a);if(vR(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=sge[r];return u||(n?u=r:(console.warn("AG Grid: Did not find icon "+r),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),li(l,"presentation"),l}}var mJe=Object.freeze({__proto__:null,iconNameClassMap:sge,createIcon:ma,createIconNoSpan:Lr}),ne=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}(),vJe=65,yJe=67,CJe=86,wJe=68,SJe=90,EJe=89;function eL(r){if(r.altKey||r.ctrlKey||r.metaKey)return!1;var e=r.key.length===1;return e}function vx(r,e,t,n,i){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s={event:e,editing:i,column:n,api:r.api,node:t,data:t.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};if(o){var a=o(s);if(a)return!0}return!1}function age(r,e,t,n){var i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!ce(o))return!1;var s={api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:t,event:e};return!!o(s)}function lge(r){var e=r.keyCode,t;switch(e){case vJe:t=ne.A;break;case yJe:t=ne.C;break;case CJe:t=ne.V;break;case wJe:t=ne.D;break;case SJe:t=ne.Z;break;case EJe:t=ne.Y;break;default:t=r.code}return t}function uge(r,e){return e===void 0&&(e=!1),r===ne.DELETE?!0:!e&&r===ne.BACKSPACE?RU():!1}var _Je=Object.freeze({__proto__:null,isEventFromPrintableCharacter:eL,isUserSuppressingKeyboardEvent:vx,isUserSuppressingHeaderKeyboardEvent:age,normaliseQwertyAzerty:lge,isDeleteKey:uge});function LU(r,e,t){if(t===0)return!1;var n=Math.abs(r.clientX-e.clientX),i=Math.abs(r.clientY-e.clientY);return Math.max(n,i)<=t}var RJe=Object.freeze({__proto__:null,areEventsNear:LU});function bJe(r,e){if(!r)return!1;for(var t=function(a,l){var u=e[a.id],c=e[l.id],d=u!==void 0,h=c!==void 0,f=d&&h,p=!d&&!h;return f?u-c:p?a.__objectId-l.__objectId:d?1:-1},n,i,o=!1,s=0;s<r.length-1;s++)if(n=r[s],i=r[s+1],t(n,i)>0){o=!0;break}return o?(r.sort(t),!0):!1}function TJe(r,e){var t=[];n(r);function n(i){i&&i.forEach(function(o){if(o.group||o.hasChildren()){t.push(o.key);var s=t.join("|");e(o,s),n(o.childrenAfterGroup),t.pop()}})}}var PJe=Object.freeze({__proto__:null,sortRowNodesByOrder:bJe,traverseNodesWithKey:TJe});function NU(r){var e=new Set;return r.forEach(function(t){return e.add(t)}),e}var OJe=Object.freeze({__proto__:null,convertToSet:NU}),kr=function(){return kr=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kr.apply(this,arguments)},DJe=kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr(kr({},JXe),SXe),ZXe),aJe),gJe),_Xe),uXe),kXe),JQe),mJe),_Je),NXe),RJe),sJe),sXe),PJe),OJe),FXe),st=DJe,Jp=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return r.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(e){this.nextValue+=e},r}(),ep;(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"})(ep||(ep={}));var Gs=function(){function r(e){var t=this;this.status=ep.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(n){return t.onDone(n)},function(n){return t.onReject(n)})}return r.all=function(e){return new r(function(t){var n=e.length,i=new Array(n);e.forEach(function(o,s){o.then(function(a){i[s]=a,n--,n===0&&t(i)})})})},r.resolve=function(e){return e===void 0&&(e=null),new r(function(t){return t(e)})},r.prototype.then=function(e){var t=this;return new r(function(n){t.status===ep.RESOLVED?n(e(t.resolution)):t.waiters.push(function(i){return n(e(i))})})},r.prototype.resolveNow=function(e,t){return this.status===ep.RESOLVED?t(this.resolution):e},r.prototype.onDone=function(e){this.status=ep.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},r.prototype.onReject=function(e){console.warn("TBI")},r}(),AJe=function(){function r(){this.timestamp=new Date().getTime()}return r.prototype.print=function(e){var t=new Date().getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=new Date().getTime()},r}(),xJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hf=function(){return Hf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Hf.apply(this,arguments)},IN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ja;(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"})(Ja||(Ja={}));var tu;(function(r){r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS"})(tu||(tu={}));var tL=function(r){xJe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parentComp=t,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=i,o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=Ja.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return e.prototype.postConstruct=function(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===tu.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===tu.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var n=this.gridOptionsService.getNum(t);if(ce(n))return n<0&&Ht(function(){return console.warn("AG Grid: "+t+" should not be lower than 0")},t+"Warn"),Math.max(200,n)},e.prototype.getTooltipDelay=function(t){var n,i,o,s;return t==="show"?(i=(n=this.getGridOptionsTooltipDelay("tooltipShowDelay"))!==null&&n!==void 0?n:this.tooltipShowDelayOverride)!==null&&i!==void 0?i:this.DEFAULT_SHOW_TOOLTIP_DELAY:(s=(o=this.getGridOptionsTooltipDelay("tooltipHideDelay"))!==null&&o!==void 0?o:this.tooltipHideDelayOverride)!==null&&s!==void 0?s:this.DEFAULT_HIDE_TOOLTIP_DELAY},e.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?tu.HOVER:tu.FOCUS},e.prototype.onMouseEnter=function(t){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!uf()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===Ja.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var n,i=t.relatedTarget,o=this.parentComp.getGui(),s=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&(s!=null&&s.contains(i))||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=Ja.NOTHING||e.isLocked)return!1;var n=0;return t&&(n=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=Ja.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),n=e.lastTooltipHideTime;return t-n<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===Ja.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=Ja.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=Hf({},this.parentComp.getTooltipParams());if(!ce(t.value)){this.setToDoNothing();return}this.state=Ja.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(t);i.newAgStackInstance().then(n)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var n={type:k.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=Ja.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,n){var i=this.state!==Ja.SHOWING||this.tooltipInstanceCount!==t;if(i){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===tu.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===tu.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,k.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,k.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===tu.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:k.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var n,i=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),s=t.relatedTarget;o!=null&&o.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Hf(Hf({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Hf(Hf({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===tu.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),t.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,IN([V("popupService")],e.prototype,"popupService",void 0),IN([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),IN([we],e.prototype,"postConstruct",null),e}(ye),cge=function(){function r(e){this.cssClassStates={},this.getGui=e}return r.prototype.addCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.addCssClass(s)});return}var i=this.cssClassStates[e]!==!0;if(i&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},r.prototype.removeCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.removeCssClass(s)});return}var i=this.cssClassStates[e]!==!1;if(i&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},r.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},r.prototype.addOrRemoveCssClass=function(e,t){var n=this;if(e){if(e.indexOf(" ")>=0){var i=(e||"").split(" ");if(i.length>1){i.forEach(function(a){return n.addOrRemoveCssClass(a,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},r}(),IJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},FJe=new Jp,Rt=function(r){IJe(e,r);function e(t){var n=r.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=FJe.next(),n.cssClassManager=new cge(function(){return n.eGui}),t&&n.setTemplate(t),n}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,n,i){var o=this,s=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},a=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new tL(o,n,i))};this.tooltipText!=t&&(this.tooltipText&&s(),t!=null&&(this.tooltipText=t,this.tooltipText&&a()))},e.prototype.createChildComponentsFromTags=function(t,n){var i=this,o=ige(t.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=i.createComponentFromElement(s,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(s,u.getGui())},n);if(a){if(a.addItems&&s.children.length){i.createChildComponentsFromTags(s,n);var l=Array.prototype.slice.call(s.children);a.addItems(l)}i.swapComponentForNode(a,t,s)}else s.childNodes&&i.createChildComponentsFromTags(s,n)}})},e.prototype.createComponentFromElement=function(t,n,i){var o=t.nodeName,s=i?i[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){e.elementGettingCreated=t;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},e.prototype.copyAttributesFromNode=function(t,n){oge(t.attributes,function(i,o){return n.setAttribute(i,o)})},e.prototype.swapComponentForNode=function(t,n,i){var o=t.getGui();n.replaceChild(o,i),n.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,i)},e.prototype.swapInComponentForQuerySelectors=function(t,n){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===n&&(i[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var n=Object.getPrototypeOf(this);n!=null;){var i=n.__agComponentMetaData,o=UM(n.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(s){return t(s)}),n=Object.getPrototypeOf(n)}},e.prototype.activateTabIndex=function(t){var n=this.gridOptionsService.getNum("tabIndex")||0;t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(i){return i.setAttribute("tabindex",n.toString())})},e.prototype.setTemplate=function(t,n){var i=Fi(t);this.setTemplateFromElement(i,n)},e.prototype.setTemplateFromElement=function(t,n){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return n[i.attributeName]=l},s=i.refSelector&&t.getAttribute("ref")===i.refSelector;if(s)o(t.eGui);else{var a=t.eGui.querySelector(i.querySelector);a&&o(a.__agComponent||a)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,n){if(t!=null)if(n||(n=this.eGui),vR(t))n.appendChild(t);else{var i=t;n.appendChild(i.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,n){if(n===void 0&&(n={}),t!==this.visible){this.visible=t;var i=n.skipAriaHidden;ege(this.eGui,t,{skipAriaHidden:i})}},e.prototype.setDisplayed=function(t,n){if(n===void 0&&(n={}),t!==this.displayed){this.displayed=t;var i=n.skipAriaHidden;Zt(this.eGui,t,{skipAriaHidden:i});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),r.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,n,i){var o=this;this.eGui.addEventListener(t,n,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(t,n)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,n){this.cssClassManager.addOrRemoveCssClass(t,n)},e.prototype.getAttribute=function(t){var n=this.eGui;return n?n.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",FN([V("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),FN([Ek],e.prototype,"preConstructOnComponent",null),FN([Ek],e.prototype,"createChildComponentsPreConstruct",null),e}(ye);function MJe(r){return dge.bind(this,r,void 0)}function _e(r){return dge.bind(this,"[ref="+r+"]",r)}function dge(r,e,t,n,i){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}LJe(t,"querySelectors",{attributeName:n,querySelector:r,refSelector:e})}function LJe(r,e,t){var n=NJe(r,UM(r.constructor));n[e]||(n[e]=[]),n[e].push(t)}function NJe(r,e){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[e]||(r.__agComponentMetaData[e]={}),r.__agComponentMetaData[e]}var GJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},VJe=function(r){GJe(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+i("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var n=this;if(!t){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(t);n.eFloatingFilterText.setValue(o)}})},e.prototype.onParamsUpdated=function(t){this.init(t)},mq([_e("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),mq([V("columnModel")],e.prototype,"columnModel",void 0),e}(Rt),hge=function(){function r(e,t,n,i){var o=this;this.alive=!0,this.context=e,this.eParent=i;var s=t.getDateCompDetails(n),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},r.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},r.prototype.setDisplayed=function(e){Zt(this.eParent,e)},r.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},r.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},r.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},r.prototype.updateParams=function(e){var t;!((t=this.dateComp)===null||t===void 0)&&t.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)},r.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},r}(),fge=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(s){return t[s]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+o+"'"),!1)};if(!n.every(i)){e.filterOptions=e.filterOptions.filter(function(o){return o===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},r.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},r}(),pge={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},kJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ik=function(){return Ik=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ik.apply(this,arguments)},vq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cd=function(r){kJe(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this)||this;return i.eFocusableElement=t,i.callbacks=n,i.callbacks=Ik({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},n),i}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var n=this;this.addManagedListener(t,"keydown",function(i){if(!(i.defaultPrevented||gl(i))){if(n.callbacks.shouldStopEventPropagation(i)){ku(i);return}i.key===ne.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",vq([V("focusService")],e.prototype,"focusService",void 0),vq([we],e.prototype,"postConstruct",null),e}(ye),HJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),MN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gge="ag-resizer-wrapper",$Je='<div class="'+gge+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,GU=function(r){HJe(e,r);function e(t,n){var i=r.call(this)||this;return i.element=t,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return e.prototype.center=function(){var t=this.offsetParent,n=t.clientHeight,i=t.clientWidth,o=i/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,n=t.centered,i=t.forcePopupParentAsOffsetParent,o=t.minWidth,s=t.width,a=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,f=!!this.element.offsetParent;if(f){var p=this.findBoundaryElement(),g=window.getComputedStyle(p);if(g.minWidth!=null){var C=p.offsetWidth-this.element.offsetWidth;h=parseInt(g.minWidth,10)-C}if(g.minHeight!=null){var m=p.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-m}}if(this.minHeight=a||d,this.minWidth=o||h,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),n)this.center();else if(u||c)this.offsetElement(u,c);else if(f&&i){var p=this.boundaryEl,y=!0;if(p||(p=this.findBoundaryElement(),y=!1),p){var w=parseFloat(p.style.top),E=parseFloat(p.style.left);y?this.offsetElement(isNaN(E)?0:E,isNaN(w)?0:w):this.setPosition(E,w)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,n){if(!(!this.config.popup||t===this.movable)){this.movable=t;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var n=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(i){var o=t,s=!!o[i],a=n.getResizerElement(i),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return n.onResizeStart(u,i)},onDragging:n.onResize.bind(n),onDragStop:function(u){return n.onResizeEnd(u,i)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(l),n.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",n.resizable[i]=s)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,n=t.height,i=t.width;i!==-1&&(this.element.style.width=i+"px"),n!==-1&&(this.element.style.height=n+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var n=this.config.popup,i=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)yp(i,t),t=OU(i),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var s=this.getAvailableHeight();s&&t>s&&(t=s)}this.getHeight()!==t&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?yp(i,t):(i.style.height=t+"px",i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,n=t.popup,i=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:s.top,u=n?0:a.top,c=0;if(i){var d=this.element.parentElement;if(d){var h=d.getBoundingClientRect().bottom;c=h-s.bottom}}var f=o+u-l-c;return f},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var n=this.element,i=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Aa(n,t),t=wE(n),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var s=this.offsetParent.clientWidth,a=i?this.position.x:this.element.getBoundingClientRect().left;s&&t+a>s&&(t=s-a)}this.getWidth()!==t&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?Aa(n,t):(n.style.width=t+"px",n.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var n=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height",o+"px")};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n},e.prototype.updateDragStartPosition=function(t,n){this.dragStartPosition={x:t,y:n}},e.prototype.calculateMouseMovement=function(t){var n=t.e,i=t.isLeft,o=t.isTop,s=t.anywhereWithin,a=t.topBuffer,l=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,c=this.shouldSkipX(n,!!i,!!s,l)?0:l,d=this.shouldSkipY(n,!!o,a,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,n,i,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=t.clientX||a.right<=t.clientX&&a.right<=l.right;return c?!0:(n?c=o<0&&t.clientX>u+a.left||o>0&&t.clientX<u+a.left:i?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+a.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,n,i,o){i===void 0&&(i=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=t.clientY||a.bottom<=t.clientY&&a.bottom<=l.bottom;return c?!0:(n?c=o<0&&t.clientY>u+a.top+i||o>0&&t.clientY<u+a.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var n=new DOMParser,i=n.parseFromString($Je,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+gge);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config,o=i.popup,s=i.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,n=t.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],n=0,i=0,o=0;o<t.length;o++){var s=t[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;n+=l,i+=u}}return{height:n,width:i}},e.prototype.applySizeToSiblings=function(t){var n=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var s=i[o];s!==n&&(t?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(n=i[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,d=l||c,h=u||a,f=this.calculateMouseMovement({e:t,isLeft:c,isTop:a}),p=f.movementX,g=f.movementY,C=this.position.x,m=this.position.y,y=0,w=0;if(d&&p){var E=c?-1:1,P=this.getWidth(),T=P+p*E,R=!1;c&&(y=P-T,(C+y<=0||T<=this.minWidth)&&(R=!0,y=0)),R||this.setWidth(T)}if(h&&g){var E=a?-1:1,_=this.getHeight(),b=_+g*E,D=!1;a?(w=_-b,(m+w<=0||b<=this.minHeight)&&(D=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&_<b&&this.getMinSizeOfSiblings().height+b>this.element.parentElement.offsetHeight&&(D=!0),D||this.setHeight(b)}this.updateDragStartPosition(t.clientX,t.clientY),((i||o)&&y||w)&&this.offsetElement(C+y,m+w)}},e.prototype.onResizeEnd=function(t,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var n=this.position,i=n.x,o=n.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},MN([V("popupService")],e.prototype,"popupService",void 0),MN([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),MN([V("dragService")],e.prototype,"dragService",void 0),e}(ye),BJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bE=function(r){BJe(e,r);function e(t){var n=r.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new cd(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new GU(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper" ref="eFilterBody">
                    `+this.createBodyTemplate()+`
                </div>
            </form>`;this.setTemplate(i,t),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var n=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,n=this.providedFilterParams.buttons;if(!(!n||n.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel");var o=function(s){var a,l;switch(s){case"apply":a=t.translate("applyFilter"),l=function(d){return t.onBtApply(!1,!1,d)};break;case"clear":a=t.translate("clearFilter"),l=function(){return t.onBtClear()};break;case"reset":a=t.translate("resetFilter"),l=function(){return t.onBtReset()};break;case"cancel":a=t.translate("cancelFilter"),l=function(d){t.onBtCancel(d)};break;default:console.warn("AG Grid: Unknown button type specified");return}var u=s==="apply"?"submit":"button",c=Fi(`<button
                    type="`+u+`"
                    ref="`+s+`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`+a+`
                </button>`);i.appendChild(c),t.addManagedListener(c,"click",l)};NU(n).forEach(function(s){return o(s)}),this.getGui().appendChild(i)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=ul(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,i()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var n=this,i=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return i.then(function(){n.updateUiVisibility(),n.applyModel("api")})},e.prototype.onBtCancel=function(t){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,n){var i=this,o=function(){i.onUiChanged(!1,"prevent"),n==null||n()};t!=null?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,n,i){if(t===void 0&&(t=!1),n===void 0&&(n=!1),i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:n,source:o})}var s=this.providedFilterParams.closeOnApply;s&&this.applyActive&&!t&&!n&&this.close(i)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var n=t,i=n&&n.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,n){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi());Qv(this.getRefElement("applyFilterButton"),!i)}t&&!n||n==="immediately"?this.onBtApply(t):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var n=t==="floatingFilter",i=this,o=i.positionableFeature,s=i.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(s.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),r.prototype.destroy.call(this)},e.prototype.translate=function(t){var n=this.localeService.getLocaleTextFunc();return n(t,pge[t])},e.prototype.getCellValue=function(t){var n=this.providedFilterParams,i=n.api,o=n.colDef,s=n.column,a=n.columnApi,l=n.context;return this.providedFilterParams.valueGetter({api:i,colDef:o,column:s,columnApi:a,context:l,data:t.data,getValue:function(u){return t.data[u]},node:t})},e.prototype.getPositionableElement=function(){return this.eFilterBody},LN([V("rowModel")],e.prototype,"rowModel",void 0),LN([_e("eFilterBody")],e.prototype,"eFilterBody",void 0),LN([we],e.prototype,"postConstruct",null),e}(Rt),jJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WJe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},VU=function(r){jJe(e,r);function e(t,n){var i=r.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=t||{},i}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,n=t.labelSeparator,i=t.label,o=t.labelWidth,s=t.labelAlignment;n!=null&&this.setLabelSeparator(n),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){co(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Zt(this.eLabel,!1),li(this.eLabel,"presentation")):(Zt(this.eLabel,!0),li(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var n=this.getGui(),i=n.classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(RE(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var n=this.getGui();return Qv(n,t),n.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},WJe([we],e.prototype,"postConstruct",null),e}(Rt),UJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kU=function(r){UJe(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.className=i,o}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,k.EVENT_FIELD_VALUE_CHANGED,function(){return t(n.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Aa(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t?this:(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:k.EVENT_FIELD_VALUE_CHANGED}),this)},e}(VU),zJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},KJe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,HU=function(r){zJe(e,r);function e(t){var n=r.call(this,t,(t==null?void 0:t.template)||KJe,t==null?void 0:t.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=t==null?void 0:t.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!t)return n;var i=t.pickerGap,o=t.maxPickerHeight,s=t.variableWidth,a=t.minPickerWidth,l=t.maxPickerWidth;return i!=null&&(n.pickerGap=i),n.variableWidth=!!s,o!=null&&n.setPickerMaxHeight(o),a!=null&&n.setPickerMinWidth(a),l!=null&&n.setPickerMaxWidth(l),n}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var t="ag-"+this.getCompId()+"-display";this.eDisplayField.setAttribute("id",t);var n=this.getAriaElement();Lpe(n,t),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Lr(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),cl(t,!1),this.ariaRole&&li(t,this.ariaRole)},e.prototype.refreshLabel=function(){var t,n=this.getAriaElement();KM(n,(t=this.getLabelId())!==null&&t!==void 0?t:""),r.prototype.refreshLabel.call(this)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t&&(t.preventDefault(),this.getFocusableElement().focus()),this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case ne.UP:case ne.DOWN:case ne.ENTER:case ne.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ne.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,n=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(n.body,"wheel",function(T){i.contains(T.target)||t.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerType,l=s.pickerAriaLabelKey,u=s.pickerAriaLabelValue,c=s.modalPicker,d=c===void 0?!0:c,h={modal:d,eChild:i,closeOnEsc:!0,closedCallback:function(){var T=n.activeElement===n.body;t.beforeHidePicker(),T&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(l,u)},f=this.popupService.addPopup(h),p=this,g=p.maxPickerHeight,C=p.minPickerWidth,m=p.maxPickerWidth,y=p.pickerGap,w=p.variableWidth;w?(C&&(i.style.minWidth=C),i.style.width=ZM(wE(this.eWrapper)),m&&(i.style.maxWidth=m)):RE(i,m??wE(this.eWrapper));var E=g??mR(this.popupService.getPopupParent())+"px";i.style.setProperty("max-height",E),i.style.position="absolute";var P=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:a,eventSource:this.eWrapper,ePopup:i,position:"under",alignSide:P,keepWithinBounds:!0,nudgeY:y}),f.hideFunc},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var n=this.getAriaElement();cl(n,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setAriaLabel=function(t){return ud(this.getAriaElement(),t),this},e.prototype.setInputWidth=function(t){return RE(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t=t+"px"),this.minPickerWidth=t??void 0,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t=t+"px"),this.maxPickerWidth=t??void 0,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t=t+"px"),this.maxPickerHeight=t??void 0,this},e.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},FC([V("popupService")],e.prototype,"popupService",void 0),FC([_e("eLabel")],e.prototype,"eLabel",void 0),FC([_e("eWrapper")],e.prototype,"eWrapper",void 0),FC([_e("eDisplayField")],e.prototype,"eDisplayField",void 0),FC([_e("eIcon")],e.prototype,"eIcon",void 0),e}(kU),YJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qJe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yq=function(r){YJe(e,r);function e(t){t===void 0&&(t="default");var n=r.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var n=t.key;switch(n){case ne.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case ne.DOWN:case ne.UP:var o=n===ne.DOWN,s=void 0;if(t.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(i){return n.addOption(i)}),this},e.prototype.addOption=function(t){var n=t.value,i=t.text,o=Yr(i||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(n,i){CU(n,i+1),yU(n,t.length)})},e.prototype.renderOption=function(t,n){var i=this,o=document.createElement("div");li(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+n+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,n){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var i=this.options.findIndex(function(s){return s.value===t});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===t.value});n!==-1&&this.highlightItem(this.itemEls[n])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),Xp(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),Xp(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:k.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",qJe([we],e.prototype,"init",null),e}(Rt),QJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fk=function(){return Fk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Fk.apply(this,arguments)},nL=function(r){QJe(e,r);function e(t){return r.call(this,Fk({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},t))||this}return e.prototype.postConstruct=function(){var t;r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=(t=this.gridOptionsService.getNum("tabIndex"))!==null&&t!==void 0?t:0},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new yq("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",function(n){n.key===ne.TAB&&(n.preventDefault(),n.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:n.key,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,yq.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,k.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(i){return n.addOption(i)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,n,i){if(this.value===t||!this.listComponent)return this;i||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,t,n))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(HU),XJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sh=function(r){XJe(e,r);function e(t,n,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var s=r.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+o+' ref="eInput" class="ag-input-field-input"></'+o+`>
                </div>
            </div>`,n)||this;return s.inputType=i,s.displayFieldTag=o,s}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,n=t.width,i=t.value;n!=null&&this.setWidth(n),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.refreshLabel=function(){ce(this.getLabel())?KM(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),r.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){return t.setValue(n.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return RE(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var n=this.eInput;return n.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return Ou(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return ud(this.eInput,t),this},e.prototype.setDisabled=function(t){return Qv(this.eInput,t),r.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)Ou(this.eInput,"autocomplete",null);else{var n=typeof t=="string"?t:"off";Ou(this.eInput,"autocomplete",n)}return this},NN([_e("eLabel")],e.prototype,"eLabel",void 0),NN([_e("eWrapper")],e.prototype,"eWrapper",void 0),NN([_e("eInput")],e.prototype,"eInput",void 0),e}(kU),JJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yR=function(r){JJe(e,r);function e(t,n,i){n===void 0&&(n="ag-checkbox"),i===void 0&&(i="checkbox");var o=r.call(this,t,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),r.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,t):this.setValue(n)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,n){return this.refreshSelectedClass(t),this.setSelected(t,n),this},e.prototype.setName=function(t){var n=this.getInputElement();return n.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,n){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,n||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,i){this.dispatchEvent({type:k.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:n,event:i});var o=this.getInputElement(),s={type:k.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(s)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(sh),ZJe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$U=function(r){ZJe(e,r);function e(t){return r.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,k.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(yR),eZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tZe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},nZe=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},BU=function(){function r(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}return r.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var n=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(n){var o=e,s=o.conditions;if(!s){var a=o.condition1,l=o.condition2;s=[a,l]}var u=s.map(function(m){return t.getModelAsString(m)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" "+i(c,pge[c])+" ")}else{if(e.type===tr.BLANK||e.type===tr.NOT_BLANK)return i(e.type,e.type);var d=e,h=this.optionsFactory.getCustomOption(d.type),f=h||{},p=f.displayKey,g=f.displayName,C=f.numberOfInputs;return p&&g&&C===0?(i(p,g),g):this.conditionToString(d,h)}},r.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},r.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)},r}(),tr=function(r){eZe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var i=n.numberOfInputs;return i??1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,n){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var n=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(t,!0):i.setValue(n.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,n){var i=this;if(!t&&!n)return!0;if(!t&&n||t&&!n)return!1;var o=!t.operator,s=!n.operator,a=!o&&s||o&&!s;if(a)return!1;var l;if(o){var u=t,c=n;l=this.areSimpleModelsEqual(u,c)}else{var d=t,h=n;l=d.operator===h.operator&&oh(d.conditions,h.conditions,function(f,p){return i.areSimpleModelsEqual(f,p)})}return l},e.prototype.setModelIntoUi=function(t){var n=this,i=t.operator;if(i){var o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,h){n.eTypes[h].setValue(d.type,!0),n.setConditionIntoUi(d,h)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Gs.resolve()},e.prototype.validateAndUpdateConditions=function(t){var n=t.length;return n>this.maxNumConditions&&(t.splice(this.maxNumConditions),Ht(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),n=this.maxNumConditions),n},e.prototype.doesFilterPass=function(t){var n=this,i,o=this.getModel();if(o==null)return!0;var s=o.operator,a=[];if(s){var l=o;a.push.apply(a,nZe([],tZe((i=l.conditions)!==null&&i!==void 0?i:[])))}else a.push(o);var u=s&&s==="OR"?"some":"every";return a[u](function(c){return n.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new fge,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var n,i;t.suppressAndOrCondition!=null&&Ht(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),t.alwaysShowBothConditions!=null&&Ht(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=(n=t.maxNumConditions)!==null&&n!==void 0?n:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Ht(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=t.numAlwaysVisibleConditions)!==null&&i!==void 0?i:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Ht(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Ht(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,n=this.createManagedBean(new nL);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return t.resetInput(s)}),this.addChangedListeners(n,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(i,o,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,n,i){var o=this.createManagedBean(new $U);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+i),n.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(i){return typeof i=="string"?t.createBoilerplateListOption(i):t.createCustomListOption(i)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(n){t.addOption(n)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var n=t.displayKey,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,n=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var s=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var a=n+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},e.prototype.updateConditionStatusesAndValues=function(t,n){var i=this;this.eTypes.forEach(function(s,a){var l=i.isConditionDisabled(a,t);s.setDisabled(l||i.filterListOptions.length<=1),a===1&&(Qv(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(s,a){Zt(s,i.isConditionBodyVisible(a))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,l,u){i.setElementDisplayed(s,a<u),i.setElementDisabled(s,i.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,n){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,n),this.removeElements(this.eConditionBodies,t,n),this.removeValueElements(t,n);var i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}},e.prototype.removeElements=function(t,n,i){var o=this.removeItems(t,n,i);o.forEach(function(s){return gc(s)})},e.prototype.removeComponents=function(t,n,i){var o=this,s=this.removeItems(t,n,i);s.forEach(function(a){gc(a.getGui()),o.destroyBean(a)})},e.prototype.removeItems=function(t,n,i){return i==null?t.splice(n):t.splice(n,i)},e.prototype.afterGuiAttached=function(t){if(r.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof sh&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var t=this.getModel();(!this.areModelsEqual(t,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(t);for(var n=-1,i=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))n===-1&&(n=a,i=a);else{var l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<n;(l||u)&&(this.removeConditionsAndOperators(a,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},e.prototype.getPlaceholderText=function(t,n){var i=this.translate(t);if(zM(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue(),a=this.translate(s);i=o({filterOptionKey:s,filterOption:a,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},e.prototype.resetPlaceholder=function(){var t=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,s,a){if(i instanceof sh){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(t.getPlaceholderText(l,s)),i.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,n,i){t instanceof sh&&t.setValue(n!=null?String(n):null,!0)},e.prototype.setElementDisplayed=function(t,n){t instanceof Rt&&Zt(t.getGui(),n)},e.prototype.setElementDisabled=function(t,n){t instanceof Rt&&Qv(t.getGui(),n)},e.prototype.attachElementOnChange=function(t,n){t instanceof sh&&t.onValueChange(n)},e.prototype.forEachInput=function(t){var n=this;this.getConditionTypes().forEach(function(i,o){n.forEachPositionTypeInput(o,i,t)})},e.prototype.forEachPositionInput=function(t,n){var i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,n)},e.prototype.forEachPositionTypeInput=function(t,n,i){for(var o=this.getNumberOfInputs(n),s=this.getInputs(t),a=0;a<s.length;a++){var l=s[a];l!=null&&i(l,a,t,o)}},e.prototype.isConditionDisabled=function(t,n){return this.isReadOnly()?!0:t===0?!1:t>n+1},e.prototype.isConditionBodyVisible=function(t){var n=this.getConditionType(t),i=this.getNumberOfInputs(n);return i>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var n=this.getConditionType(t);return!(n===e.EMPTY||this.getValues(t).some(function(i){return i==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&t.push(this.createCondition(n));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return n.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return n.resetJoinOperatorAnd(i,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return n.resetJoinOperatorOr(i,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return n.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),Gs.resolve()},e.prototype.resetType=function(t){var n=this.localeService.getLocaleTextFunc(),i=n("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,n,i){this.resetJoinOperator(t,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},e.prototype.resetJoinOperatorOr=function(t,n,i){this.resetJoinOperator(t,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},e.prototype.resetJoinOperator=function(t,n,i,o,s){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+s).setLabel(o),n)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(n,i){return t.updateJoinOperatorDisabled(n,i)}),this.eJoinOperatorsOr.forEach(function(n,i){return t.updateJoinOperatorDisabled(n,i)})},e.prototype.updateJoinOperatorDisabled=function(t,n){t.setDisabled(this.isReadOnly()||n>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,n){var i=this,o=this.mapValuesFromModel(t);this.forEachInput(function(s,a,l,u){l===n&&i.setElementValue(s,o[a]!=null?o[a]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var n=this;this.forEachInput(function(i,o,s,a){n.setElementValue(i,o===0&&s===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,n){var i=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(n,function(o){i.attachElementOnChange(o,i.listener)}))},e.prototype.individualConditionPasses=function(t,n){var i=this.getCellValue(t.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type),a=this.evaluateCustomFilter(s,o,i);return a??(i==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,i,n,t))},e.prototype.evaluateCustomFilter=function(t,n,i){if(t!=null){var o=t.predicate;if(o!=null&&!n.some(function(s){return s==null}))return o(n,i)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(bE),rZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ei=function(r){rZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,i){var o=this.comparator(),s=t[0]!=null?o(t[0],n):0;switch(i.type){case e.EQUALS:return s===0;case e.NOT_EQUAL:return s!==0;case e.GREATER_THAN:return s>0;case e.GREATER_THAN_OR_EQUAL:return s>=0;case e.LESS_THAN:return s<0;case e.LESS_THAN_OR_EQUAL:return s<=0;case e.IN_RANGE:{var a=o(t[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(tr),mge=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mk=function(){return Mk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Mk.apply(this,arguments)},iZe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cq=1e3,wq=1/0,vge=function(r){mge(e,r);function e(t,n,i){var o=r.call(this,n,i)||this;return o.dateFilterParams=t,o}return e.prototype.conditionToString=function(t,n){var i=t.type,o=(n||{}).numberOfInputs,s=i==tr.IN_RANGE||o===2,a=es(t.dateFrom),l=es(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?ov(a,u):"null",d=l!==null?ov(l,u):"null";return c+"-"+d}return a!=null?ov(a,u):""+i},e.prototype.updateParams=function(t){r.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(BU),jU=function(r){mge(e,r);function e(){var t=r.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=Cq,t.maxValidYear=wq,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){r.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.dateFrom,o=n.dateTo,s=n.type;return[i&&es(i)||null,o&&es(o)||null].slice(0,this.getNumberOfInputs(s))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,n){var i=n;return n==null||i<t?-1:i>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,r.prototype.setParams.call(this,t);var n=function(i,o){if(t[i]!=null)if(isNaN(t[i]))console.warn("AG Grid: DateFilter "+i+" is not a number");else return t[i]==null?o:Number(t[i]);return o};this.minValidYear=n("minValidYear",Cq),this.maxValidYear=n("maxValidYear",wq),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:es(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:es(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new vge(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var n=this,i=new hge(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return i.destroy()}),i},e.prototype.setElementValue=function(t,n){t.setDate(n)},e.prototype.setElementDisplayed=function(t,n){t.setDisplayed(n)},e.prototype.setElementDisabled=function(t,n){t.setDisabled(n)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,n,i,o){var s=document.createElement("div");s.classList.add("ag-filter-"+o),s.classList.add("ag-filter-date-"+o),n.push(s),t.appendChild(s),i.push(this.createDateCompWrapper(s))},e.prototype.removeValueElements=function(t,n){this.removeDateComps(this.dateConditionFromComps,t,n),this.removeDateComps(this.dateConditionToComps,t,n),this.removeItems(this.eConditionPanelsFrom,t,n),this.removeItems(this.eConditionPanelsTo,t,n)},e.prototype.removeDateComps=function(t,n,i){var o=this.removeItems(t,n,i);o.forEach(function(s){return s.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var n=this;if(!r.prototype.isConditionUiComplete.call(this,t))return!1;var i=!0;return this.forEachInput(function(o,s,a,l){a!==t||!i||s>=l||(i=i&&n.isValidDateValue(o.getDate()))}),i},e.prototype.areSimpleModelsEqual=function(t,n){return t.dateFrom===n.dateFrom&&t.dateTo===n.dateTo&&t.type===n.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={},o=this.getValues(t);return o.length>0&&(i.dateFrom=Da(o[0])),o.length>1&&(i.dateTo=Da(o[1])),Mk({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(i)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var n=[];return this.forEachPositionInput(t,function(i,o,s,a){o<a&&n.push(i.getDate())}),n},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[ei.EQUALS,ei.GREATER_THAN,ei.LESS_THAN,ei.NOT_EQUAL,ei.IN_RANGE,ei.BLANK,ei.NOT_BLANK],iZe([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ei),oZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yge=function(r){oZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t==null?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var n=t.operator,i;if(n){var o=t;i=o.conditions[0]}else i=t;this.lastType=i.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var n=t.operator;if(n)return!1;var i=t;return this.isTypeEditable(i.type)},e.prototype.init=function(t){this.setSimpleParams(t)},e.prototype.setSimpleParams=function(t){this.optionsFactory=new fge,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var n=this.isTypeEditable(this.lastType);this.setEditable(n)},e.prototype.onParamsUpdated=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var n=this.optionsFactory.getCustomOption(t),i=(n||{}).numberOfInputs;return i==null||i==1},e.prototype.isTypeEditable=function(t){var n=[tr.IN_RANGE,tr.EMPTY,tr.BLANK,tr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&n.indexOf(t)<0},e}(Rt),sZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},aZe=function(r){sZe(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return jU.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){r.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new vge(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){r.prototype.onParamsUpdated.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})},e.prototype.setEditable=function(t){Zt(this.eDateWrapper,t),Zt(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,n){if(!(this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n))){r.prototype.setLastTypeFromModel.call(this,t);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(i),i){if(t){var o=t;this.dateComp.setDate(es(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,n=this.dateComp.getDate(),i=Da(n);this.params.parentFilterInstance(function(o){if(o){var s=es(i);o.onFloatingFilterChanged(t.getLastType()||null,s)}})},e.prototype.getDateComponentParams=function(){var t=bE.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ul(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new hge(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.getDateComponentParams(),n=this.gridOptionsService,i=n.api,o=n.columnApi,s=n.context;t.api=i,t.columnApi=o,t.context=s,this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},GN([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),GN([_e("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),GN([_e("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(yge),lZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uZe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cZe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},dZe=function(r){lZe(e,r);function e(){return r.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this;this.params=t,this.setParams(t);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===i.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},e.prototype.setParams=function(t){var n=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&Ga(),n.type=i?"date":"text";var o=t.filterParams||{},s=o.minValidYear,a=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&s&&Ht(function(){return console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")},"DateFilter.minValidDateAndMinValidYearWarning"),u&&a&&Ht(function(){return console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")},"DateFilter.maxValidDateAndMaxValidYearWarning"),l&&u){var c=cZe([l,u].map(function(f){return f instanceof Date?f:es(f)}),2),d=c[0],h=c[1];d&&h&&d.getTime()>h.getTime()&&Ht(function(){return console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")},"DateFilter.minValidDateAndMaxValidDateWarning")}l?l instanceof Date?n.min=ov(l):n.min=l:s&&(n.min=s+"-01-01"),u?u instanceof Date?n.max=ov(u):n.max=u:a&&(n.max=a+"-12-31")},e.prototype.onParamsUpdated=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return es(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Da(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:QM()||_U()||Ga()&&EU()>=14.1},uZe([_e("eDateInput")],e.prototype,"eDateInput",void 0),e}(Rt),hZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hf=function(r){hZe(e,r);function e(t,n,i){return n===void 0&&(n="ag-text-field"),i===void 0&&(i="text"),r.call(this,t,n,i)||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,n){return this.eInput.value!==t&&(this.eInput.value=ce(t)?t:""),r.prototype.setValue.call(this,t,n)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]"),n=function(i){eL(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(i){var o,s=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!t.test(a)})&&i.preventDefault()})},e}(sh),fZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rL=function(r){fZe(e,r);function e(t){return r.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(t.eInput.value),i=isNaN(n)?"":t.normalizeValue(n.toString());t.value!==i&&t.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var n=parseFloat(t);return this.min!=null&&n<this.min?t=this.min.toString():this.max!=null&&n>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,n){if(this.precision==null)return t;if(n){var i=parseFloat(t).toFixed(this.precision);return parseFloat(i).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return o[0]+"."+o[1].slice(0,this.precision)}return o[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,Ou(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,Ou(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,Ou(this.eInput,"step",t),this)},e.prototype.setValue=function(t,n){var i=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(i,o,n)},function(){return i},t)},e.prototype.setStartValue=function(t){var n=this;return this.setValueOrInputValue(function(i){return r.prototype.setValue.call(n,i,!0)},function(i){n.eInput.value=i},t)},e.prototype.setValueOrInputValue=function(t,n,i){if(ce(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return t(i);if(!o){i=this.adjustPrecision(i);var s=this.normalizeValue(i);o=i!=s}if(o)return n(i)}return t(i)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):r.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(hf),Cge=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wge=function(r){Cge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var i=(n||{}).numberOfInputs,o=t.type==tr.IN_RANGE||i===2;return o?this.formatValue(t.filter)+"-"+this.formatValue(t.filterTo):t.filter!=null?this.formatValue(t.filter):""+t.type},e}(BU);function Lk(r){var e=(r??{}).allowedCharPattern;return e??null}var WU=function(r){Cge(e,r);function e(){var t=r.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.filter,o=n.filterTo,s=n.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,n){return t===n?0:t<n?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,r.prototype.setParams.call(this,t),this.filterModelFormatter=new wge(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,n,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;r.prototype.setElementValue.call(this,t,o)},e.prototype.createValueElement=function(){var t=Lk(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),li(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",t),this.createFromToElement(n,this.eValuesTo,"to",t),n},e.prototype.createFromToElement=function(t,n,i,o){var s=this.createManagedBean(o?new hf({allowedCharPattern:o}):new rL);s.addCssClass("ag-filter-"+i),s.addCssClass("ag-filter-filter"),n.push(s),t.appendChild(s.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.getValues=function(t){var n=this,i=[];return this.forEachPositionInput(t,function(o,s,a,l){s<l&&i.push(n.processValue(n.stringToFloat(o.getValue())))}),i},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var n=Pu(t);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={filterType:this.getFilterType(),type:n},o=this.getValues(t);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[ei.EQUALS,ei.NOT_EQUAL,ei.LESS_THAN,ei.LESS_THAN_OR_EQUAL,ei.GREATER_THAN,ei.GREATER_THAN_OR_EQUAL,ei.IN_RANGE,ei.BLANK,ei.NOT_BLANK],e}(ei),Sge=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yx=function(){return yx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yx.apply(this,arguments)},Ege=function(r){Sge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var i=(n||{}).numberOfInputs,o=t.type==tr.IN_RANGE||i===2;return o?t.filter+"-"+t.filterTo:t.filter!=null?""+t.filter:""+t.type},e}(BU),iL=function(r){Sge(e,r);function e(){var t=r.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var n=t&&t.trim();return n===""?t:n},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,r.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Ege(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(st.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(n){var i=n.filterOption,o=n.value,s=n.filterText;return t(i,o,s)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,n){var i=this,o=[];return this.forEachPositionInput(t,function(s,a,l,u){var c;if(a<u){var d=Pu(s.getValue());n&&i.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,s.setValue(d,!0)),o.push(d)}}),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),li(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,n,i){var o=this.createManagedBean(new hf);o.addCssClass("ag-filter-"+i),o.addCssClass("ag-filter-filter"),n.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.filter,o=n.filterTo,s=n.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(s))},e.prototype.evaluateNullValue=function(t){var n=[tr.NOT_EQUAL,tr.NOT_CONTAINS,tr.BLANK];return t?n.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,n,i,o){var s=this,a=t.map(function(m){return s.formatter(m)})||[],l=this.formatter(n),u=this.textFilterParams,c=u.api,d=u.colDef,h=u.column,f=u.columnApi,p=u.context,g=u.textFormatter;if(i.type===tr.BLANK)return this.isBlank(n);if(i.type===tr.NOT_BLANK)return!this.isBlank(n);var C={api:c,colDef:d,column:h,columnApi:f,context:p,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:g};return a.some(function(m){return s.matcher(yx(yx({},C),{filterText:m}))})},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[tr.CONTAINS,tr.NOT_CONTAINS,tr.EQUALS,tr.NOT_EQUAL,tr.STARTS_WITH,tr.ENDS_WITH,tr.BLANK,tr.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,i=t.value,o=t.filterText;if(o==null)return!1;switch(n){case e.CONTAINS:return i.indexOf(o)>=0;case e.NOT_CONTAINS:return i.indexOf(o)<0;case e.EQUALS:return i===o;case e.NOT_EQUAL:return i!=o;case e.STARTS_WITH:return i.indexOf(o)===0;case e.ENDS_WITH:var s=i.lastIndexOf(o);return s>=0&&s===i.length-o.length;default:return!1}},e}(tr),_ge=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Rge=function(r){_ge(e,r);function e(t){var n=r.call(this)||this;return n.params=t,n.valueChangedListener=function(){},n}return e.prototype.setupGui=function(t){var n=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new hf((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,n){this.eFloatingFilterTextInput.setValue(t,n)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(ye),bge=function(r){_ge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),r.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var n;this.params=t;var i=(n=t.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:i}),this.applyActive=bE.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=bE.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=ul(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},e.prototype.onParamsUpdated=function(t){r.prototype.onParamsUpdated.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var n=this.floatingFilterInputService.getValue();co(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(n,!0)},e.prototype.getAriaLabel=function(t){var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return n+" "+i("ariaFilterInput","Filter Input")},e.prototype.syncUpWithParentFilter=function(t){var n=this,i=t.key===ne.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=iL.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},VN([V("columnModel")],e.prototype,"columnModel",void 0),VN([_e("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),VN([we],e.prototype,"postConstruct",null),e}(yge),Tge=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pZe=function(r){Tge(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new rL),this.eFloatingFilterTextInput=this.createManagedBean(new hf),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(i),t.appendChild(o),this.setupListeners(i,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,n){this.getActiveInputElement().setValue(t,n)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,n){this.addManagedListener(t,"input",n),this.addManagedListener(t,"keydown",n)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(ye),gZe=function(r){Tge(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){var n;r.prototype.init.call(this,t),this.filterModelFormatter=new wge(this.localeService,this.optionsFactory,(n=t.filterParams)===null||n===void 0?void 0:n.numberFormatter)},e.prototype.onParamsUpdated=function(t){var n=Lk(t.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),r.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return WU.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=Lk(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Rge({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new pZe)},e}(bge),mZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pge=function(r){mZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.call(this,t),this.filterModelFormatter=new Ege(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){r.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return iL.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Rge)},e}(bge),ts=function(){function r(e,t){var n=this;t===void 0&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new ld,this.eElement=e,this.preventMouseClick=t;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return r.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t].identifier===this.touchStart.identifier;if(n)return e[t]}return null},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var i=t.touchStart===n;if(t.touching&&i&&!t.moved){t.moved=!0;var o={type:r.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},r.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var n=!LU(t,this.touchStart,4);n&&(this.moved=!0)}}},r.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:r.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},r.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>r.DOUBLE_TAP_MILLIS){var n={type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),vZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ef=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oL=function(r){vZe(e,r);function e(t){var n=r.call(this)||this;return t||n.setTemplate(e.TEMPLATE),n}return e.prototype.attachCustomElements=function(t,n,i,o,s){this.eSortOrder=t,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=s},e.prototype.setupSort=function(t,n){var i=this;n===void 0&&(n=!1),this.column=t,this.suppressOrder=n,this.setupMultiSortIndicator();var o=!!this.column.getColDef().sortable;o&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,k.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,n,i){if(n!=null){var o=Lr(t,this.gridOptionsService,i);o&&n.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=t==="asc";Zt(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var i=t==="desc";Zt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),s=t==null;Zt(this.eSortNone,!o&&s,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&n&&(this.addManagedListener(this.eventService,k.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Zt(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,n;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,s=i.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:!1}),a=o>=0&&s;Zt(this.eSortOrder,a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():co(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,Ef([_e("eSortOrder")],e.prototype,"eSortOrder",void 0),Ef([_e("eSortAsc")],e.prototype,"eSortAsc",void 0),Ef([_e("eSortDesc")],e.prototype,"eSortDesc",void 0),Ef([_e("eSortMixed")],e.prototype,"eSortMixed",void 0),Ef([_e("eSortNone")],e.prototype,"eSortNone",void 0),Ef([V("columnModel")],e.prototype,"columnModel",void 0),Ef([V("sortController")],e.prototype,"sortController",void 0),e}(Rt),yZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ws=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},CZe=function(r){yZe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=hpe(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t,t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var n=Yr(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,n,i){if(n!=null){var o=Lr(t,this.gridOptionsService,i);o&&n.appendChild(o)}},e.prototype.setupTap=function(){var t=this,n=this.gridOptionsService;if(!n.is("suppressTouch")){var i=new ts(this.getGui(),!0),o=n.is("suppressMenuHide"),s=o&&ce(this.eMenu),a=s?new ts(this.eMenu,!0):i;if(this.params.enableMenu){var l=s?"EVENT_TAP":"EVENT_LONG_TAP",u=function(d){n.api.showColumnMenuAfterMouseClick(t.params.column,d.touchStart)};this.addManagedListener(a,ts[l],u)}if(this.params.enableSorting){var c=function(d){var h=d.touchStart.target;o&&t.eMenu.contains(h)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,ts.EVENT_TAP,c)}this.addDestroyFunc(function(){return i.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.is("suppressMenuHide"),n=uf()&&t,i=this.params.enableMenu&&!n;return i},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){gc(this.eMenu);return}var n=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",n)}},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new oL(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){var n=this.gridOptionsService.get("multiSortKey")==="ctrl";this.addManagedListener(this.params.column,Tn.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var s=t.params.column.isMoving(),a=new Date().getTime(),l=a-t.lastMovingChanged<50,u=s||l;if(!u){var c=n?o.ctrlKey||o.metaKey:o.shiftKey;t.params.progressSort(c)}});var i=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var o=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),s=o==null?void 0:o.every(function(l){return t.params.column.getSort()==l.getSort()}),a=!s;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,k.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Tn.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();Zt(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,ws([V("sortController")],e.prototype,"sortController",void 0),ws([V("menuFactory")],e.prototype,"menuFactory",void 0),ws([V("columnModel")],e.prototype,"columnModel",void 0),ws([_e("eFilter")],e.prototype,"eFilter",void 0),ws([_e("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ws([_e("eMenu")],e.prototype,"eMenu",void 0),ws([_e("eLabel")],e.prototype,"eLabel",void 0),ws([_e("eText")],e.prototype,"eText",void 0),ws([_e("eSortOrder")],e.prototype,"eSortOrder",void 0),ws([_e("eSortAsc")],e.prototype,"eSortAsc",void 0),ws([_e("eSortDesc")],e.prototype,"eSortDesc",void 0),ws([_e("eSortMixed")],e.prototype,"eSortMixed",void 0),ws([_e("eSortNone")],e.prototype,"eSortNone",void 0),e}(Rt),wZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},SZe=function(r){wZe(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;if(t.template){var n="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";Ht(function(){return console.warn(n)},"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!gl(s)){var a=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(s){ku(s)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,_r.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,_r.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,n){var i=new ts(t,!0);this.addManagedListener(i,ts.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(t,"click",n)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var n=this.params.columnGroup.isExpanded();Zt(this.eOpenIcon,n),Zt(this.eCloseIcon,!n)}else Zt(this.eOpenIcon,!1),Zt(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,n){var i=Lr(t,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){Zt(this.eOpenIcon,!1),Zt(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,n=this.params,i=n.displayName,o=n.columnGroup;if(ce(i)){var s=Yr(i);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=o.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,kN([V("columnModel")],e.prototype,"columnModel",void 0),kN([_e("agOpened")],e.prototype,"eOpenIcon",void 0),kN([_e("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Rt),EZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ff=function(r){EZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,n=t&&t.isAlive();n&&t.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},e}(Rt),_Ze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RZe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Oge=function(r){_Ze(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),ce(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var n=t.key;(n===ne.LEFT||n===ne.UP||n===ne.RIGHT||n===ne.DOWN||t.shiftKey&&n===ne.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!ce(t)&&!ce(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,RZe([_e("eTextArea")],e.prototype,"eTextArea",void 0),e}(ff),bZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dge=function(r){bZe(e,r);function e(){var t=r.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var n=this,i=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,a=t.values,l=t.value,u=t.eventKey;if(ut(a)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===ne.ENTER:!1;var c=!1;a.forEach(function(p){var g={value:p},C=o.formatValue(t.column,null,p),m=C!=null;g.text=m?C:p,i.addOption(g),c=c||l===p}),c?i.setValue(t.value,!0):t.values.length&&i.setValue(t.values[0],!0);var d=t.valueListGap,h=t.valueListMaxWidth,f=t.valueListMaxHeight;d!=null&&i.setPickerGap(d),f!=null&&i.setPickerMaxHeight(f),h!=null&&i.setPickerMaxWidth(h),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,nL.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},Sq([V("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Sq([_e("eSelect")],e.prototype,"eSelect",void 0),e}(ff),TZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PZe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sL=function(r){TZe(e,r);function e(t){var n=r.call(this,`
            <div class="ag-cell-edit-wrapper">
                `+t.getTemplate()+`
            </div>`)||this;return n.cellEditorInput=t,n}return e.prototype.init=function(t){this.params=t;var n=this.eInput;this.cellEditorInput.init(n,t);var i;if(t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===ne.BACKSPACE||t.eventKey===ne.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==ne.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&n.setStartValue(i),this.addManagedListener(n.getGui(),"keydown",function(s){var a=s.key;(a===ne.PAGE_UP||a===ne.PAGE_DOWN)&&s.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,n,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Ga()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():(n=(t=this.cellEditorInput).setCaret)===null||n===void 0||n.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,n=t.getFocusableElement(),i=t.getInputElement();n.focus(),i.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},PZe([_e("eInput")],e.prototype,"eInput",void 0),e}(ff),OZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DZe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},r.prototype.getValue=function(){var e=this.eInput.getValue();return!ce(e)&&!ce(this.params.value)?this.params.value:this.params.parseValue(e)},r.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var e=this.eInput.getValue(),t=ce(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},r}(),Nk=function(r){OZe(e,r);function e(){return r.call(this,new DZe)||this}return e}(sL),AZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xZe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},IZe="",FZe="",Age=function(r){AZe(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,n){var i=Math.abs(n),o=t.formatValue(i),s=ce(o)?o:i,a=n>=0;a?this.eDelta.innerHTML=IZe+s:this.eDelta.innerHTML=FZe+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===t.refreshCount&&t.hideDeltaValue()},2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),co(this.eDelta)},e.prototype.refresh=function(t){var n=t.value;if(n===this.lastValue||(ce(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:ce(t.value)?this.eValue.innerHTML=n:co(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){var i=n-this.lastValue;this.showDelta(t,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',xZe([V("filterManager")],e.prototype,"filterManager",void 0),e}(Rt),MZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LZe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xge=function(r){MZe(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Fi('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},e.prototype.refresh=function(t){var n=t.value;return ut(n)&&(n=""),n===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=n,ce(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:ce(t.value)?this.eCurrent.innerHTML=n:co(this.eCurrent),!0)},e.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,LZe([V("filterManager")],e.prototype,"filterManager",void 0),e}(Rt),Nm=function(){return Nm=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Nm.apply(this,arguments)},xt=function(){function r(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return r.prototype.setData=function(e){this.setDataCommon(e,!1)},r.prototype.updateData=function(e){this.setDataCommon(e,!0)},r.prototype.setDataCommon=function(e,t){var n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(i)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(e,t,n){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}},r.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},r.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var e=new r(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},r.prototype.setDataAndId=function(e,t){var n=ce(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},r.prototype.setRowSelectable=function(e){if(this.selectable!==e){this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED));var t=this.beans.gridOptionsService.is("groupSelectsChildren");if(t){var n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}}},r.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+r.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},r.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},r.prototype.isPixelInRange=function(e){return!ce(this.rowTop)||!ce(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ul(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var e=this,t=!1,n=!0,i=0,o=this.__autoHeights;if(o!=null){var s=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(s.forEach(function(l){var u=o[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else n=!1;u>i&&(i=u)}),!t&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},r.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(k.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},r.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},r.prototype.setDataValue=function(e,t,n){var i=this,o=function(){var u;return typeof e!="string"?e:(u=i.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(e)},s=o(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,t,n),!1;var l=this.beans.valueService.setValue(this,s,t,n);return this.dispatchCellChangedEvent(s,t,a),this.checkRowSelectable(),l},r.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),a=n&&o&&!s,l=this.beans.valueService.getValue(e,this,!1,a);return l},r.prototype.dispatchEventForSaveValueReadOnly=function(e,t,n,i){var o={type:k.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(e,t){var n=this.beans.columnModel.getGridColumn(e);ut(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,o))},r.prototype.setAggData=function(e){var t=this,n=ipe([this.aggData,e]),i=this.aggData;this.aggData=e,this.eventService&&n.forEach(function(o){var s=t.aggData?t.aggData[o]:void 0,a=i?i[o]:void 0;if(s!==a){var l=t.beans.columnModel.lookupGridColumn(o);l&&t.dispatchCellChangedEvent(l,s,a)}})},r.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var n=this.beans.gridOptionsService.is("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&ks(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(e,t,n){var i={type:r.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(i)},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},r.prototype.calculateSelectedFromChildren=function(){var e,t=!1,n=!1,i=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||t&&n))return t?!0:n?!1:this.selectable?this.selected:null},r.prototype.setSelectedInitialValue=function(e){this.selected=e},r.prototype.selectThisNode=function(e,t,n){n===void 0&&(n="api");var i=!this.selectable&&e,o=this.selected===e;if(i||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var a=Nm(Nm({},this.createGlobalRowEvent(k.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(a),!0},r.prototype.setSelected=function(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})},r.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Nm(Nm({},e),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},r.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},r.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new ld),this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,n=!0,i=!1,o=null;n&&!i;){var s=t.parent,a=ce(s)&&t.firstChild;a?s.rowGroupColumn===e&&(i=!0,o=s):n=!1,t=s}return i?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},r.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},r.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),n=new r(this.beans);Object.keys(this).forEach(function(i){t.has(i)||(n[i]=e[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},r.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),NZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cx=function(){return Cx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Cx.apply(this,arguments)},Eq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},UU=function(r){NZe(e,r);function e(){return r.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),Npe(this.eCheckbox.getInputElement(),"polite")},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),i=qM(t,n),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},e.prototype.onClicked=function(t,n,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:n,event:i,source:"checkboxSelected"})},e.prototype.init=function(t){var n=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){ku(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){ku(a);var l=n.gridOptionsService.is("groupSelectsFiltered"),u=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(u,l)){var c=n.onClicked(!0,l,a||{});c===0&&n.onClicked(!1,l,a)}else u?n.onClicked(!1,l,a):n.onClicked(!0,l,a||{})}),this.addManagedListener(this.rowNode,xt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,xt.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,xt.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,n,i,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=u?a(Cx(Cx({},l),u)):!1}else s=a??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},e.prototype.getIsVisible=function(){var t,n;return this.overrides?this.overrides.isVisible:(n=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||n===void 0?void 0:n.checkboxSelection},Eq([_e("eCheckbox")],e.prototype,"eCheckbox",void 0),Eq([we],e.prototype,"postConstruct",null),e}(Rt),GZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_f=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wb=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ho;(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(ho||(ho={}));var Zp;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(Zp||(Zp={}));var rl;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"})(rl||(rl={}));var ri=function(r){GZe(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}t=e,e.prototype.init=function(){this.ePinnedIcon=ma("columnMovePin",this.gridOptionsService,null),this.eHideIcon=ma("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=ma("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=ma("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=ma("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=ma("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=ma("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=ma("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=ma("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(n,i){i===void 0&&(i=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},e.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});i&&(this.dragService.removeDragSource(i.params),Ns(this.dragSourceAndParamsList,i))},e.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(n,i){var o=this,s,a,l,u,c=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var h=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(n,g)}),f=this.findCurrentDropTarget(n,h);if(f!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,d,i),this.lastDropTarget!==null&&f===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&f!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(f,n,c,d,i),this.lastDropTarget=f;else if(f&&f.onDragging){var p=this.createDropTargetEvent(f,n,c,d,i);f.onDragging(p)}},e.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return i?o.concat(i):o},e.prototype.allContainersIntersect=function(n,i){var o,s;try{for(var a=Wb(i),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=n.clientX>=c.left&&n.clientX<c.right,h=n.clientY>=c.top&&n.clientY<c.bottom;if(!d||!h)return!1}}catch(f){o={error:f}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(n,i){var o,s,a=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=Wb(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(n,i){var o,s,a,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(n.clientX,n.clientY);try{for(var h=Wb(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{for(var g=(a=void 0,Wb(i)),C=g.next();!C.done;C=g.next()){var m=C.value,y=mpe(this.getAllContainersFromDropTarget(m));if(y.indexOf(p)!==-1)return m}}catch(w){a={error:w}}finally{try{C&&!C.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}}}catch(w){o={error:w}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(n,i,o,s,a){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,i,o,s,a);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(n,i,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,n,i,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(n){this.dropTargets.push(n)},e.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},e.prototype.findExternalZone=function(n){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===n.getContainer()})||null},e.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return i===o?null:i>o?rl.Left:rl.Right},e.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return i===o?null:i>o?Zp.Up:Zp.Down},e.prototype.createDropTargetEvent=function(n,i,o,s,a){var l=n.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,h=c.columnApi,f=c.dragItem,p=c.dragSource,g=i.clientX-u.left,C=i.clientY-u.top;return{event:i,x:g,y:C,vDirection:s,hDirection:o,dragSource:p,fromNudge:a,dragItem:f,api:d,columnApi:h,dropZoneTarget:l}},e.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),s=o.height,a=Ype()-2,l=qpe()-2,u=DU(i.offsetParent),c=n.clientY,d=n.clientX,h=c-u.top-s/2,f=d-u.left-10,p=this.gridOptionsService.getDocument(),g=p.defaultView||window,C=g.pageYOffset||p.documentElement.scrollTop,m=g.pageXOffset||p.documentElement.scrollLeft;a>0&&f+i.clientWidth>a+m&&(f=a+m-i.clientWidth),f<0&&(f=0),l>0&&h+i.clientHeight>l+C&&(h=l+C-i.clientHeight),h<0&&(h=0),i.style.left=f+"px",i.style.top=h+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=Fi(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;zM(o)&&(o=o()),i.innerHTML=Yr(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{if(!a){var l=this.gridOptionsService.getRootNode(),u=l.querySelector("body");u?a=u:l instanceof ShadowRoot?a=l:a=l==null?void 0:l.documentElement}}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(n,i){i===void 0&&(i=!1),co(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),n){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,_f([V("dragService")],e.prototype,"dragService",void 0),_f([V("mouseEventService")],e.prototype,"mouseEventService",void 0),_f([V("columnApi")],e.prototype,"columnApi",void 0),_f([V("gridApi")],e.prototype,"gridApi",void 0),_f([we],e.prototype,"init",null),_f([ui],e.prototype,"clearDragSourceParamsList",null),e=t=_f([Me("dragAndDropService")],e),e}(ye),aL=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wx=function(r){aL(e,r);function e(t,n,i,o,s,a){var l=r.call(this)||this;return l.cellValueFn=t,l.rowNode=n,l.column=i,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Lr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.is("rowDragManaged")?new kZe(this,this.beans,this.rowNode,this.column):new VZe(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,n){this.setTemplateFromElement(t),this.addDragSource(n)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.is("rowDragMultiRow");if(!t)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.is("rowDragManaged"),n=this.gridOptionsService.is("treeData");n&&t&&Ht(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var n=t.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var n=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var i=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:ho.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=n.getDragItem(),l=((s=a.rowNodes)===null||s===void 0?void 0:s.length)||1;return i?i(a,l):l===1?n.cellValueFn():l+" "+o("rowDragRows","rows")},getDragItem:function(){return n.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},lS([V("beans")],e.prototype,"beans",void 0),lS([we],e.prototype,"postConstruct",null),lS([ui],e.prototype,"removeDragSource",null),e}(Rt),Ige=function(r){aL(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.rowNode=n,o.column=i,o}return e.prototype.setDisplayedOrVisible=function(t){var n={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,n);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=zM(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(i,n)):(this.parent.setDisplayed(i,n),this.parent.setVisible(!0,n))}},e}(ye),VZe=function(r){aL(e,r);function e(t,n,i,o){var s=r.call(this,t,i,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)},lS([we],e.prototype,"postConstruct",null),e}(Ige),kZe=function(r){aL(e,r);function e(t,n,i,o){var s=r.call(this,t,i,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,k.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,k.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),n=t.getRowDragFeature(),i=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.is("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),a=i&&!s||o;this.setDisplayedOrVisible(a)},lS([we],e.prototype,"postConstruct",null),e}(Ige),HZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sx=function(){return Sx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Sx.apply(this,arguments)},MC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fge=function(r){HZe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,o,s,a,l){this.params=l,this.eGui=n,this.eCheckbox=i,this.eExpanded=o,this.eContracted=s,this.comp=t,this.compClass=a;var u=l.node,c=l.value,d=l.colDef,h=this.isTopLevelFooter();if(!h){var f=this.isEmbeddedRowMismatch();if(f)return;var p=(d==null?void 0:d.showRowGroup)===!0,g=c==null&&!u.master;if(!p&&g)return;if(u.footer&&this.gridOptionsService.is("groupHideOpenParents")){var C=d&&d.showRowGroup,m=u.rowGroupColumn&&u.rowGroupColumn.getColId();if(C!==m)return}}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,n=t.node,i=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){Vpe(i);return}var o=function(){cl(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,xt.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,n=t==null;if(n||t.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",n=this.params.pinned==="right",i=!t&&!n;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!t:!i},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;i!=null;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}ut(this.displayedGroupNode)&&(this.displayedGroupNode=n)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,n=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var i=t.rowGroupColumn!=null;if(i){var o=t.rowGroupColumn.getId(),s=n.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=t.groupData[n.getId()]!=null;this.showingValueForOpenedParent=a},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(t),i=t.valueFormatted,o=t.value,s=i;if(s==null)if(o===""&&this.params.node.group){var a=this.localeService.getLocaleTextFunc();s=a("blanks","(Blanks)")}else s=o??null;this.comp.setInnerRenderer(n,s)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!t)return this.params;var i=n!=null;if(i){var o=n.isRowGroupDisplayed(t.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(t,u,l),d=Sx(Sx({},s),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,n="";if(t){var i=cU(this.params);i.value=this.params.value,typeof t=="function"?n=t(i):typeof t=="string"?n=this.expressionService.evaluate(t,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,n)},e.prototype.getInnerCompDetails=function(t){var n=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var i=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==n.compClass};if(i&&!o(i))return i;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,t);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,xt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),i=n&&t!=null&&t>=0,o=i?"("+t+")":"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.is("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var n=this.params.column,i=n==null||n.isRowGroupDisplayed(t.getId());return i},e.prototype.addExpandAndContract=function(){var t,n=this.params,i=Lr("groupExpanded",this.gridOptionsService,null),o=Lr("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var s=n.eGridCell,a=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(n.node))&&this.gridOptionsService.is("enableGroupEdit");!a&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,xt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,xt.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,xt.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,xt.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,xt.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){gl(t)||(ku(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var n=this.displayedGroupNode,i=!n.expanded;!i&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(i,t)},e.prototype.scrollToStickyNode=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature();i.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&t.leafGroup,i=t.isExpandable()&&!t.footer&&!n;if(!i)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,n=t.params,i=t.displayedGroupNode,o=t.columnModel,s=n.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=a&&!c,h=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(t,xt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var t=this.params,n=t.node,i=!!t.colDef,o=this.gridOptionsService.is("treeData"),s=!i||o||t.colDef.showRowGroup===!0,a=s?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new wx(function(){return t.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var o=new UU;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},e.prototype.onKeyDown=function(t){var n=t.key===ne.ENTER;if(!(!n||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!gl(t)){var n=gx(this.eExpanded,t)||gx(this.eContracted,t);n||this.onExpandOrContract(t)}},MC([V("expressionService")],e.prototype,"expressionService",void 0),MC([V("valueFormatterService")],e.prototype,"valueFormatterService",void 0),MC([V("columnModel")],e.prototype,"columnModel",void 0),MC([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),MC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(ye),$Ze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gk=function(r){$Ze(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this,i={setInnerRenderer:function(l,u){return n.setRenderDetails(l,u)},setChildCount:function(l){return n.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return n.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return Zt(n.eContracted,l)},setExpandedDisplayed:function(l){return Zt(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new Fge),s=!t.colDef,a=this.getGui();o.init(i,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&li(a,"gridcell")},e.prototype.setRenderDetails=function(t,n){var i=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return i.context.destroyBean(s)};i.isAlive()?(i.eValue.appendChild(s.getGui()),i.addDestroyFunc(a)):a()}})}else this.eValue.innerText=n},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,LC([_e("eExpanded")],e.prototype,"eExpanded",void 0),LC([_e("eContracted")],e.prototype,"eContracted",void 0),LC([_e("eCheckbox")],e.prototype,"eCheckbox",void 0),LC([_e("eValue")],e.prototype,"eValue",void 0),LC([_e("eChildCount")],e.prototype,"eChildCount",void 0),e}(Rt),BZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_q=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jZe=function(r){BZe(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Lr("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,_q([_e("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),_q([_e("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Rt),WZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UZe=function(r){WZe(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n,i=(n=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&n!==void 0?n:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(s)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(Rt),zZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KZe=function(r){zZe(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n,i=(n=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&n!==void 0?n:e.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(s)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(Rt),YZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qZe=function(r){YZe(e,r);function e(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var n=t.value;this.getGui().innerHTML=Yr(n)},e}(ff),QZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XZe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")},r.prototype.getValue=function(){var e=this.eInput.getValue();if(!ce(e)&&!ce(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},r.prototype.getStartValue=function(){return this.params.value},r}(),Mge=function(r){QZe(e,r);function e(){return r.call(this,new XZe)||this}return e}(sL),JZe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZZe=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},r.prototype.getValue=function(){var e=this.eInput.getDate();return!ce(e)&&!ce(this.params.value)?this.params.value:e??null},r.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return Da(e,!1)},r}(),Lge=function(r){JZe(e,r);function e(){return r.call(this,new ZZe)||this}return e}(sL),eet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tet=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},net=function(){function r(e){this.getDataTypeService=e}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},r.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!ce(e)&&!ce(this.params.value)?this.params.value:this.params.parseValue(e??"")},r.prototype.getStartValue=function(){var e,t;return Da((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},r.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction()(e)},r.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction()(e)},r}(),Nge=function(r){eet(e,r);function e(){var t=r.call(this,new net(function(){return t.dataTypeService}))||this;return t}return tet([V("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(sL),ret=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iet=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gge=function(r){ret(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this;this.params=t,this.updateCheckbox(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(o){if(ku(o),!n.eCheckbox.isDisabled()){var s=n.eCheckbox.getValue();n.onCheckboxChanged(s)}}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(o){ku(o)});var i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(o){if(o.key===ne.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===i.activeElement&&n.eCheckbox.toggle();var s=n.eCheckbox.getValue();n.onCheckboxChanged(s),o.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var n,i,o,s,a=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith(Qp)?s=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?s=(n=t.value)!==null&&n!==void 0?n:void 0:a=!1}else s=(i=t.value)!==null&&i!==void 0?i:void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);var u=t.disabled!=null?t.disabled:!(!((o=t.column)===null||o===void 0)&&o.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=qM(c,s),h=u?d:c("ariaToggleCellValue","Press SPACE to toggle cell value")+" ("+d+")";this.eCheckbox.setInputAriaLabel(h)},e.prototype.onCheckboxChanged=function(t){var n=this.params,i=n.column,o=n.node,s=n.rowIndex,a=n.value,l={type:k.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:k.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,iet([_e("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(Rt),oet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),set=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Vge=function(r){oet(e,r);function e(){return r.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var n=this,i;this.params=t;var o=(i=t.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,k.EVENT_FIELD_VALUE_CHANGED,function(s){return n.setAriaLabel(s.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var n=this.localeService.getLocaleTextFunc(),i=qM(n,t),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},set([_e("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(ff),aet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Rq=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},bq=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},kge=function(r){aet(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:dZe,agColumnHeader:CZe,agColumnGroupHeader:SZe,agSortIndicator:oL,agTextColumnFloatingFilter:Pge,agNumberColumnFloatingFilter:gZe,agDateColumnFloatingFilter:aZe,agReadOnlyFloatingFilter:VJe,agAnimateShowChangeCellRenderer:Age,agAnimateSlideCellRenderer:xge,agGroupCellRenderer:Gk,agGroupRowRenderer:Gk,agLoadingCellRenderer:jZe,agCheckboxCellRenderer:Gge,agCellEditor:Nk,agTextCellEditor:Nk,agNumberCellEditor:Mge,agDateCellEditor:Lge,agDateStringCellEditor:Nge,agSelectCellEditor:Dge,agLargeTextCellEditor:Oge,agCheckboxCellEditor:Vge,agTextColumnFilter:iL,agNumberColumnFilter:WU,agDateColumnFilter:jU,agLoadingOverlay:UZe,agNoRowsOverlay:KZe,agTooltipComponent:qZe},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:Ne.SetFilterModule,agSetColumnFloatingFilter:Ne.SetFilterModule,agMultiColumnFilter:Ne.MultiFilterModule,agMultiColumnFloatingFilter:Ne.MultiFilterModule,agGroupColumnFilter:Ne.RowGroupingModule,agGroupColumnFloatingFilter:Ne.RowGroupingModule,agRichSelect:Ne.RichSelectModule,agRichSelectCellEditor:Ne.RichSelectModule,agDetailCellRenderer:Ne.MasterDetailModule,agSparklineCellRenderer:Ne.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&cr(this.gridOptions.components,function(n,i){return t.registerJsComponent(n,i)})},e.prototype.registerDefaultComponent=function(t,n){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=n},e.prototype.registerJsComponent=function(t,n){this.jsComps[t]=n},e.prototype.retrieve=function(t,n){var i=this,o=function(d,h){return{componentFromFramework:h,component:d}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(s!=null)return o(s,!0);var a=this.jsComps[n];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return o(a,l)}var u=this.agGridDefaults[n];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[n];return c?lt.__assertRegistered(c,"AG Grid '"+t+"' component: "+n,this.context.getGridId()):Ht(function(){i.warnAboutMissingComponent(t,n)},"MissingComp"+n),null},e.prototype.warnAboutMissingComponent=function(t,n){var i=bq(bq([],Rq(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)}))),Rq(Object.keys(this.jsComps))),o=gR(n,i,!0,.8).values;console.warn("AG Grid: Could not find '"+n+`' component. It was configured as "`+t+": '"+n+`'" but it wasn't found in the list of registered components.`),o.length>0&&console.warn("         Did you mean: ["+o.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},HN([V("gridOptions")],e.prototype,"gridOptions",void 0),HN([we],e.prototype,"init",null),e=HN([Me("userComponentRegistry")],e),e}(ye),uet={propertyName:"dateComponent",cellRenderer:!1},cet={propertyName:"headerComponent",cellRenderer:!1},det={propertyName:"headerGroupComponent",cellRenderer:!1},Tq={propertyName:"cellRenderer",cellRenderer:!0},het={propertyName:"cellEditor",cellRenderer:!1},Pq={propertyName:"innerRenderer",cellRenderer:!0},fet={propertyName:"loadingOverlayComponent",cellRenderer:!1},pet={propertyName:"noRowsOverlayComponent",cellRenderer:!1},get={propertyName:"tooltipComponent",cellRenderer:!1},Vk={propertyName:"filter",cellRenderer:!1},met={propertyName:"floatingFilterComponent",cellRenderer:!1},vet={propertyName:"toolPanel",cellRenderer:!1},yet={propertyName:"statusPanel",cellRenderer:!1},Cet={propertyName:"fullWidthCellRenderer",cellRenderer:!0},wet={propertyName:"loadingCellRenderer",cellRenderer:!0},Eet={propertyName:"groupRowRenderer",cellRenderer:!0},_et={propertyName:"detailCellRenderer",cellRenderer:!0},Hge=function(){function r(){}return r.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),Ret=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$ge=function(r){Ret(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,n){return this.getCompDetails(t,cet,"agColumnHeader",n)},e.prototype.getHeaderGroupCompDetails=function(t){var n=t.columnGroup.getColGroupDef();return this.getCompDetails(n,det,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Cet,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,wet,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Eet,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,_et,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,n){return this.getCompDetails(t,Pq,null,n)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,n){return this.getCompDetails(t,Pq,null,n)},e.prototype.getCellRendererDetails=function(t,n){return this.getCompDetails(t,Tq,null,n)},e.prototype.getCellEditorDetails=function(t,n){return this.getCompDetails(t,het,"agCellEditor",n,!0)},e.prototype.getFilterDetails=function(t,n,i){return this.getCompDetails(t,Vk,i,n,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,uet,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,fet,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,pet,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,get,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,n){return this.getCompDetails(t,Tq,null,n)},e.prototype.getFloatingFilterCompDetails=function(t,n,i){return this.getCompDetails(t,met,i,n)},e.prototype.getToolPanelCompDetails=function(t,n){return this.getCompDetails(t,vet,null,n,!0)},e.prototype.getStatusPanelCompDetails=function(t,n){return this.getCompDetails(t,yet,null,n,!0)},e.prototype.getCompDetails=function(t,n,i,o,s){var a=this;s===void 0&&(s=!1);var l=n.propertyName,u=n.cellRenderer,c=this.getCompKeys(t,n,o),d=c.compName,h=c.jsComp,f=c.fwComp,p=c.paramsFromSelector,g=c.popupFromSelector,C=c.popupPositionFromSelector,m=function(P){var T=a.userComponentRegistry.retrieve(l,P);T&&(h=T.componentFromFramework?void 0:T.component,f=T.componentFromFramework?T.component:void 0)};if(d!=null&&m(d),h==null&&f==null&&i!=null&&m(i),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),!h&&!f){s&&console.error("AG Grid: Could not find component "+d+", did you forget to configure this component?");return}var y=this.mergeParamsWithApplicationProvidedParams(t,n,o,p),w=h==null,E=h||f;return{componentFromFramework:w,componentClass:E,params:y,type:n,popupFromSelector:g,popupPositionFromSelector:C,newAgStackInstance:function(){return a.newAgStackInstance(E,w,y,n)}}},e.prototype.getCompKeys=function(t,n,i){var o=this,s=n.propertyName,a,l,u,c,d,h;if(t){var f=t,p=f[s+"Selector"],g=p?p(i):null,C=function(m){if(typeof m=="string")a=m;else if(m!=null&&m!==!0){var y=o.getFrameworkOverrides().isFrameworkComponent(m);y?u=m:l=m}};g?(C(g.component),c=g.params,d=g.popup,h=g.popupPosition):C(f[s])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}},e.prototype.newAgStackInstance=function(t,n,i,o){var s=o.propertyName,a=!n,l;if(a)l=new t;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?Gs.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,n,i,o){o===void 0&&(o=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};Ws(s,i);var a=t,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){var u=l(i);Ws(s,u)}else typeof l=="object"&&Ws(s,l);return Ws(s,o),s},e.prototype.initComponent=function(t,n){if(this.context.createBean(t),t.init!=null)return t.init(n)},e.prototype.getDefaultFloatingFilterType=function(t,n){if(t==null)return null;var i=null,o=this.getCompKeys(t,Vk),s=o.compName,a=o.jsComp,l=o.fwComp;if(s)i=Hge.getFloatingFilterType(s);else{var u=a==null&&l==null&&t.filter===!0;u&&(i=n())}return i},zg([V("gridOptions")],e.prototype,"gridOptions",void 0),zg([V("agComponentUtils")],e.prototype,"agComponentUtils",void 0),zg([V("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),zg([V("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),zg([nn("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=zg([Me("userComponentFactory")],e),e}(ye),TE;(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"})(TE||(TE={}));var bet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$N=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Bge=function(r){bet(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var n=t.dragSource.eElement,i=t.mouseDownListener;if(n.removeEventListener("mousedown",i),t.touchEnabled){var o=t.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var n=this.dragSources.find(function(i){return i.dragSource===t});n&&(this.removeListener(n),Ns(this.dragSources,n))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var n=this,i=this.onMouseDown.bind(this,t),o=t.eElement,s=t.includeTouch,a=t.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.is("suppressTouch");s&&!u&&(l=function(c){PU(c.target)||(c.cancelable&&(c.preventDefault(),a&&c.stopPropagation()),n.onTouchStart(t,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:i,touchStartListener:l,touchEnabled:!!s})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,n){var i=this;this.currentDragParams=t,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return i.onTouchMove(d,t.eElement)},a=function(d){return i.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=n.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,n){var i=this,o=n;if(!(t.skipMouseEvent&&t.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var s=function(d){return i.onMouseMove(d,t.eElement)},a=function(d){return i.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:a},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(n,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(n){var i=n.target,o=n.type,s=n.listener,a=n.options;i.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){t.forEach(function(n){var i=n.target,o=n.type,s=n.listener,a=n.options;i.removeEventListener(o,s,a)})})},e.prototype.isEventNearStartEvent=function(t,n){var i=this.currentDragParams.dragStartPixels,o=ce(i)?i:4;return LU(t,n,o)},e.prototype.getFirstActiveTouch=function(t){for(var n=0;n<t.length;n++)if(t[n].identifier===this.touchStart.identifier)return t[n];return null},e.prototype.onCommonMove=function(t,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,n))return;this.dragging=!0;var o={type:k.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,n){var i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,n)},e.prototype.onMouseMove=function(t,n){this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,n)},e.prototype.shouldPreventMouseEvent=function(t){var n=this.gridOptionsService.is("enableCellTextSelection"),i=Ga(),o=t.type==="mousemove";return(n&&o||i)&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var n=t.target,i=n==null?void 0:n.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,n){var i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},e.prototype.onMouseUp=function(t,n){this.onUpCommon(t,n)},e.prototype.onUpCommon=function(t,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var i={type:k.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},$N([V("mouseEventService")],e.prototype,"mouseEventService",void 0),$N([ui],e.prototype,"removeAllListeners",null),e=$N([Me("dragService")],e),e}(ye),zU=function(){function r(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(e,t){t===void 0&&(t=!1);var n=t||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<i.left+o,this.tickRight=e.clientX>i.right-o,this.tickUp=e.clientY<i.top+o&&!n,this.tickDown=e.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-e),this.tickRight&&this.setHorizontalPosition(n+e)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),Tet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Oq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},BN="ag-list-item-hovered",Pet=function(r){Tet(e,r);function e(t,n,i){var o=r.call(this)||this;return o.comp=t,o.virtualList=n,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,n={isInterestedIn:function(i){return i===t.params.dragSourceType},getIconName:function(){return ri[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(i){return t.onDragging(i)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new zU({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(n){return t.scrollTop=n}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(t),i=this.virtualList.getComponentAt(n.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=n,Dk(o,BN),Dk(o,"ag-item-highlight-"+n.position))}}},e.prototype.getListDragItem=function(t){var n=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(t.y-i+s)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,a)|0;return{rowIndex:u,position:Math.round(a)>a||a>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll("."+BN).forEach(function(n){[BN,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){n.classList.remove(i)})}),this.lastHoveredListItem=null},Oq([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Oq([we],e.prototype,"postConstruct",null),e}(ye),Du;(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"})(Du||(Du={}));var ln;(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"})(ln||(ln={}));var an=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function tp(r){var e=r,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():r}var jge=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},r.prototype.registerSideBarComp=function(e){this.sideBarComp=e},r.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.getSetterMethod=function(e){return"set"+e.charAt(0).toUpperCase()+e.substring(1)},r.prototype.__setPropertyOnly=function(e,t){return this.gos.__setPropertyOnly(e,t)},r.prototype.__updateProperty=function(e,t,n,i){i===void 0&&(i=void 0),this.gos.set(e,t,n,{},i);var o=this.getSetterMethod(e),s=this;s[o]&&s[o](t)},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},r.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},r.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},r.prototype.forEachDetailGridInfo=function(e){var t=0;cr(this.detailGridInfoMap,function(n,i){ce(i)&&(e(i,t),t++)})},r.prototype.getDataAsCsv=function(e){if(lt.__assertRegistered(Ne.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},r.prototype.exportDataAsCsv=function(e){lt.__assertRegistered(Ne.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},r.prototype.getExcelExportMode=function(e){var t=this.gos.get("defaultExcelExportParams"),n=Object.assign({exportMode:"xlsx"},t,e);return n.exportMode},r.prototype.assertNotExcelMultiSheet=function(e,t){if(!lt.__assertRegistered(Ne.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;var n=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(n)===TE.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0},r.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},r.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},r.prototype.getSheetDataForExcel=function(e){if(lt.__assertRegistered(Ne.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId())){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(TE.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},r.prototype.getMultipleSheetsAsExcel=function(e){if(lt.__assertRegistered(Ne.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},r.prototype.exportMultipleSheetsAsExcel=function(e){if(lt.__assertRegistered(Ne.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)},r.prototype.setTreeData=function(e){this.gos.set("treeData",e)},r.prototype.setGridAriaProperty=function(e,t){if(e){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+e;t===null?n.removeAttribute(i):n.setAttribute(i,t)}},r.prototype.logMissingRowModel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error("AG Grid: api."+e+" can only be called when gridOptions.rowModelType is "+t.join(" or "))},r.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.setCacheBlockSize=function(e){this.serverSideRowModel?(this.gos.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},r.prototype.setDatasource=function(e){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")},r.prototype.setViewportDatasource=function(e){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")},r.prototype.setRowData=function(e){var t=this.immutableService==null;if(t){this.logMissingRowModel("setRowData","clientSide");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},r.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},r.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},r.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},r.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),this.columnModel.setColumnDefs(e,t),this.gos.set("columnDefs",e,!0,{source:t})},r.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),this.gos.set("autoGroupColumnDef",e,!0,{source:t})},r.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),this.gos.set("defaultColDef",e,!0,{source:t})},r.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),this.gos.set("columnTypes",e,!0,{source:t})},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.setAlwaysShowHorizontalScroll=function(e){this.gos.set("alwaysShowHorizontalScroll",e)},r.prototype.setAlwaysShowVerticalScroll=function(e){this.gos.set("alwaysShowVerticalScroll",e)},r.prototype.refreshCells=function(e){e===void 0&&(e={}),this.rowRenderer.refreshCells(e)},r.prototype.flashCells=function(e){e===void 0&&(e={}),this.rowRenderer.flashCells(e)},r.prototype.redrawRows=function(e){e===void 0&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},r.prototype.setFunctionsReadOnly=function(e){this.gos.set("functionsReadOnly",e)},r.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return this.rowModel},r.prototype.setRowNodeExpanded=function(e,t,n){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,n),e.setExpanded(t))},r.prototype.onGroupExpandedOrCollapsed=function(){if(ut(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.clientSideRowModel.refreshModel({step:ln.MAP})},r.prototype.refreshClientSideRowModel=function(e){if(ut(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.setQuickFilter=function(e){this.gos.set("quickFilterText",e)},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){wa("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.gos.set("includeHiddenColumnsInQuickFilter",e)},r.prototype.setQuickFilterParser=function(e){this.gos.set("quickFilterParser",e)},r.prototype.setQuickFilterMatcher=function(e){this.gos.set("quickFilterMatcher",e)},r.prototype.getAdvancedFilterModel=function(){return lt.__assertRegistered(Ne.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(e){this.gos.set("advancedFilterModel",e)},r.prototype.setEnableAdvancedFilter=function(e){this.gos.set("enableAdvancedFilter",e)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.gos.set("includeHiddenColumnsInAdvancedFilter",e)},r.prototype.setAdvancedFilterParent=function(e){this.gos.set("advancedFilterParent",e)},r.prototype.setAdvancedFilterBuilderParams=function(e){this.gos.set("advancedFilterBuilderParams",e)},r.prototype.showAdvancedFilterBuilder=function(){lt.__assertRegistered(Ne.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(t){var n=e.nodes,i=e.source,o=e.newValue,s=n;this.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:o})}},r.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},r.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},r.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},r.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return ut(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},r.prototype.setServerSideSelectionState=function(e){if(ut(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setServerSideSelectionState(e)},r.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},r.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},r.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(ut(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(e,t){t===void 0&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},r.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},r.prototype.ensureNodeVisible=function(e,t){t===void 0&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},r.prototype.forEachLeafNode=function(e){if(ut(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},r.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},r.prototype.forEachNodeAfterFilter=function(e){if(ut(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},r.prototype.forEachNodeAfterFilterAndSort=function(e){if(ut(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},r.prototype.getFilterInstance=function(e,t){return this.filterManager.getFilterInstance(e,t)},r.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},r.prototype.getStatusPanel=function(e){if(lt.__assertRegistered(Ne.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return tp(t)}},r.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})},r.prototype.setSuppressRowDrag=function(e){this.gos.set("suppressRowDrag",e)},r.prototype.setSuppressMoveWhenRowDragging=function(e){this.gos.set("suppressMoveWhenRowDragging",e)},r.prototype.setSuppressRowClickSelection=function(e){this.gos.set("suppressRowClickSelection",e)},r.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},r.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},r.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},r.prototype.setHeaderHeight=function(e){this.gos.set("headerHeight",e)},r.prototype.setDomLayout=function(e){this.gos.set("domLayout",e)},r.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},r.prototype.setFillHandleDirection=function(e){this.gos.set("fillHandleDirection",e)},r.prototype.setGroupHeaderHeight=function(e){this.gos.set("groupHeaderHeight",e)},r.prototype.setFloatingFiltersHeight=function(e){this.gos.set("floatingFiltersHeight",e)},r.prototype.setPivotHeaderHeight=function(e){this.gos.set("pivotHeaderHeight",e)},r.prototype.setPivotGroupHeaderHeight=function(e){this.gos.set("pivotGroupHeaderHeight",e)},r.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},r.prototype.setAnimateRows=function(e){this.gos.set("animateRows",e)},r.prototype.setIsExternalFilterPresent=function(e){this.gos.set("isExternalFilterPresent",e)},r.prototype.setDoesExternalFilterPass=function(e){this.gos.set("doesExternalFilterPass",e)},r.prototype.setNavigateToNextCell=function(e){this.gos.set("navigateToNextCell",e)},r.prototype.setTabToNextCell=function(e){this.gos.set("tabToNextCell",e)},r.prototype.setTabToNextHeader=function(e){this.gos.set("tabToNextHeader",e)},r.prototype.setNavigateToNextHeader=function(e){this.gos.set("navigateToNextHeader",e)},r.prototype.setRowGroupPanelShow=function(e){this.gos.set("rowGroupPanelShow",e)},r.prototype.setGetGroupRowAgg=function(e){this.gos.set("getGroupRowAgg",e)},r.prototype.setGetBusinessKeyForNode=function(e){this.gos.set("getBusinessKeyForNode",e)},r.prototype.setGetChildCount=function(e){this.gos.set("getChildCount",e)},r.prototype.setProcessRowPostCreate=function(e){this.gos.set("processRowPostCreate",e)},r.prototype.setGetRowId=function(e){this.gos.set("getRowId",e)},r.prototype.setGetRowClass=function(e){this.gos.set("getRowClass",e)},r.prototype.setIsFullWidthRow=function(e){this.gos.set("isFullWidthRow",e)},r.prototype.setIsRowSelectable=function(e){this.gos.set("isRowSelectable",e)},r.prototype.setIsRowMaster=function(e){this.gos.set("isRowMaster",e)},r.prototype.setPostSortRows=function(e){this.gos.set("postSortRows",e)},r.prototype.setGetDocument=function(e){this.gos.set("getDocument",e)},r.prototype.setGetContextMenuItems=function(e){this.gos.set("getContextMenuItems",e)},r.prototype.setGetMainMenuItems=function(e){this.gos.set("getMainMenuItems",e)},r.prototype.setProcessCellForClipboard=function(e){this.gos.set("processCellForClipboard",e)},r.prototype.setSendToClipboard=function(e){this.gos.set("sendToClipboard",e)},r.prototype.setProcessCellFromClipboard=function(e){this.gos.set("processCellFromClipboard",e)},r.prototype.setProcessSecondaryColDef=function(e){wa("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)},r.prototype.setProcessSecondaryColGroupDef=function(e){wa("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)},r.prototype.setProcessPivotResultColDef=function(e){this.gos.set("processPivotResultColDef",e)},r.prototype.setProcessPivotResultColGroupDef=function(e){this.gos.set("processPivotResultColGroupDef",e)},r.prototype.setPostProcessPopup=function(e){this.gos.set("postProcessPopup",e)},r.prototype.setInitialGroupOrderComparator=function(e){this.gos.set("initialGroupOrderComparator",e)},r.prototype.setGetChartToolbarItems=function(e){this.gos.set("getChartToolbarItems",e)},r.prototype.setPaginationNumberFormatter=function(e){this.gos.set("paginationNumberFormatter",e)},r.prototype.setGetServerSideStoreParams=function(e){wa("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)},r.prototype.setGetServerSideGroupLevelParams=function(e){this.gos.set("getServerSideGroupLevelParams",e)},r.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gos.set("isServerSideGroupOpenByDefault",e)},r.prototype.setIsApplyServerSideTransaction=function(e){this.gos.set("isApplyServerSideTransaction",e)},r.prototype.setIsServerSideGroup=function(e){this.gos.set("isServerSideGroup",e)},r.prototype.setGetServerSideGroupKey=function(e){this.gos.set("getServerSideGroupKey",e)},r.prototype.setGetRowStyle=function(e){this.gos.set("getRowStyle",e)},r.prototype.setGetRowHeight=function(e){this.gos.set("getRowHeight",e)},r.prototype.assertSideBarLoaded=function(e){return lt.__assertRegistered(Ne.SideBarModule,"api."+e,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},r.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)},r.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)},r.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},r.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarComp.getToolPanelInstance(e);return tp(t)}},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},r.prototype.setSideBar=function(e){this.gos.set("sideBar",e)},r.prototype.setSuppressClipboardPaste=function(e){this.gos.set("suppressClipboardPaste",e)},r.prototype.resetRowHeights=function(){if(ce(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},r.prototype.setGroupRemoveSingleChildren=function(e){this.gos.set("groupRemoveSingleChildren",e)},r.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gos.set("groupRemoveLowestSingleChildren",e)},r.prototype.setGroupDisplayType=function(e){this.gos.set("groupDisplayType",e)},r.prototype.setGroupIncludeFooter=function(e){this.gos.set("groupIncludeFooter",e)},r.prototype.setGroupIncludeTotalFooter=function(e){this.gos.set("groupIncludeTotalFooter",e)},r.prototype.setRowClass=function(e){this.gos.set("rowClass",e)},r.prototype.setDeltaSort=function(e){this.gos.set("deltaSort",e)},r.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(e,t){var n=this.columnModel.getPrimaryColumn(e);return ut(n)&&(n=this.columnModel.getGridColumn(e)),ut(n)?null:this.valueService.getValue(n,t)},r.prototype.addEventListener=function(e,t){var n=this.gos.useAsyncEvents();this.eventService.addEventListener(e,t,n)},r.prototype.addGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.addGlobalListener(e,t)},r.prototype.removeEventListener=function(e,t){var n=this.gos.useAsyncEvents();this.eventService.removeEventListener(e,t,n)},r.prototype.removeGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},r.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},r.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0,this.dispatchEvent({type:k.EVENT_GRID_PRE_DESTROYED});var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ope.bind(window,this,"Grid API"),100)},r.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},r.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(lt.__assertRegistered(Ne.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}lt.__assertRegistered(Ne.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),lt.__assertRegistered(Ne.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.getChartModels=function(){if(lt.__assertRegistered(Ne.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},r.prototype.getChartRef=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)},r.prototype.getChartImageDataURL=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)},r.prototype.downloadChart=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)},r.prototype.openChartToolPanel=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)},r.prototype.closeChartToolPanel=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)},r.prototype.createRangeChart=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)},r.prototype.createPivotChart=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)},r.prototype.createCrossFilterChart=function(e){if(lt.__assertRegistered(Ne.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)},r.prototype.updateChart=function(e){lt.__assertRegistered(Ne.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)},r.prototype.restoreChart=function(e,t){if(lt.__assertRegistered(Ne.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)},r.prototype.copyToClipboard=function(e){lt.__assertRegistered(Ne.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)},r.prototype.cutToClipboard=function(e){lt.__assertRegistered(Ne.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")},r.prototype.copySelectedRowsToClipboard=function(e){lt.__assertRegistered(Ne.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)},r.prototype.copySelectedRangeToClipboard=function(e){lt.__assertRegistered(Ne.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)},r.prototype.copySelectedRangeDown=function(){lt.__assertRegistered(Ne.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},r.prototype.pasteFromClipboard=function(){lt.__assertRegistered(Ne.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},r.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t,"columnMenu")},r.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error("AG Grid: column '"+e+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(n,t)},r.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},r.prototype.setPopupParent=function(e){this.gos.set("popupParent",e)},r.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},r.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},r.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),n=t.map(tp);return n},r.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),n=t.map(tp);return n},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},r.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for "+e.colKey);return}var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},i=e.rowPinned==null;i&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))},r.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},r.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},r.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},r.prototype.applyServerSideRowData=function(e){var t,n,i=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(i<0){console.warn("AG Grid: invalid value "+e.startRow+" for startRow, the value should be >= 0");return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},r.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},r.prototype.applyTransaction=function(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(e)},r.prototype.applyTransactionAsync=function(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(e,t)},r.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.gos.set("suppressModelUpdateAfterUpdateTransaction",e)},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},r.prototype.refreshServerSideStore=function(e){return wa("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)},r.prototype.getServerSideStoreState=function(){return wa("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.setDataTypeDefinitions=function(e){this.gos.set("dataTypeDefinitions",e)},r.prototype.setPagination=function(e){this.gos.set("pagination",e)},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationSetPageSize=function(e){this.gos.set("paginationPageSize",e)},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},an([nn("immutableService")],r.prototype,"immutableService",void 0),an([nn("csvCreator")],r.prototype,"csvCreator",void 0),an([nn("excelCreator")],r.prototype,"excelCreator",void 0),an([V("rowRenderer")],r.prototype,"rowRenderer",void 0),an([V("navigationService")],r.prototype,"navigationService",void 0),an([V("filterManager")],r.prototype,"filterManager",void 0),an([V("columnModel")],r.prototype,"columnModel",void 0),an([V("selectionService")],r.prototype,"selectionService",void 0),an([V("gridOptionsService")],r.prototype,"gos",void 0),an([V("valueService")],r.prototype,"valueService",void 0),an([V("alignedGridsService")],r.prototype,"alignedGridsService",void 0),an([V("eventService")],r.prototype,"eventService",void 0),an([V("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),an([V("context")],r.prototype,"context",void 0),an([V("rowModel")],r.prototype,"rowModel",void 0),an([V("sortController")],r.prototype,"sortController",void 0),an([V("paginationProxy")],r.prototype,"paginationProxy",void 0),an([V("focusService")],r.prototype,"focusService",void 0),an([V("dragAndDropService")],r.prototype,"dragAndDropService",void 0),an([nn("rangeService")],r.prototype,"rangeService",void 0),an([nn("clipboardService")],r.prototype,"clipboardService",void 0),an([nn("aggFuncService")],r.prototype,"aggFuncService",void 0),an([V("menuFactory")],r.prototype,"menuFactory",void 0),an([nn("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),an([V("valueCache")],r.prototype,"valueCache",void 0),an([V("animationFrameService")],r.prototype,"animationFrameService",void 0),an([nn("statusBarService")],r.prototype,"statusBarService",void 0),an([nn("chartService")],r.prototype,"chartService",void 0),an([nn("undoRedoService")],r.prototype,"undoRedoService",void 0),an([nn("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),an([nn("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),an([V("ctrlsService")],r.prototype,"ctrlsService",void 0),an([we],r.prototype,"init",null),an([ui],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),r=an([Me("gridApi")],r),r}(),Oet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wge=function(r){Oet(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}t=e,e.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return n.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(n){var i=this,o=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?i.doesRowPassQuickFilterCache(n,s):i.doesRowPassQuickFilterNoCache(n,s)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var n=this,i=n.quickFilter,o=n.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(n){return ce(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof n);return}var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||i!==this.matcher;this.parser=n,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(n,i){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,n);return ce(l)&&l.indexOf(i)>=0})},e.prototype.doesRowPassQuickFilterCache=function(n,i){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(i)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(n,i){var o;n?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var s=this,a=s.quickFilterParts,l=s.matcher;return l(a,o)},e.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},e.prototype.getQuickFilterTextForColumn=function(n,i){var o=this.valueService.getValue(n,i,!0),s=n.getColDef();if(s.getQuickFilterText){var a={value:o,node:i,data:i.data,column:n,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=s.getQuickFilterText(a)}return ce(o)?o.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(n){var i=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();return s.forEach(function(a){var l=i.getQuickFilterTextForColumn(a,n);ce(l)&&o.push(l)}),o.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,NC([V("valueService")],e.prototype,"valueService",void 0),NC([V("columnModel")],e.prototype,"columnModel",void 0),NC([V("rowModel")],e.prototype,"rowModel",void 0),NC([we],e.prototype,"postConstruct",null),e=t=NC([Me("quickFilterService")],e),e}(ye),Det=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ex=function(){return Ex=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ex.apply(this,arguments)},jl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Uge=function(r){Det(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){return t.updateAggFiltering()}),this.addManagedPropertyListener("advancedFilterModel",function(n){return t.setAdvancedFilterModel(n.currentValue)}),this.addManagedListener(this.eventService,k.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(n){var i=n.enabled;return t.onAdvancedFilterEnabledChanged(i)}),this.addManagedListener(this.eventService,k.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,Wge.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(t):!1},e.prototype.setFilterModel=function(t){var n=this;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push(t);return}var i=[],o=this.getFilterModel();if(t){var s=NU(Object.keys(t));this.allColumnFilters.forEach(function(a,l){var u=t[l];i.push(n.setModelOnFilterWrapper(a.filterPromise,u)),s.delete(l)}),s.forEach(function(a){var l=n.columnModel.getPrimaryColumn(a)||n.columnModel.getGridColumn(a);if(!l){console.warn("AG Grid: setFilterModel() - no column found for colId: "+a);return}if(!l.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);return}var u=n.getOrCreateFilterWrapper(l,"NO_UI");if(!u){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a);return}i.push(n.setModelOnFilterWrapper(u.filterPromise,t[a]))})}else this.allColumnFilters.forEach(function(a){i.push(n.setModelOnFilterWrapper(a.filterPromise,null))});Gs.all(i).then(function(){var a=n.getFilterModel(),l=[];n.allColumnFilters.forEach(function(u,c){var d=o?o[c]:null,h=a?a[c]:null;st.jsonEquals(d,h)||l.push(u.column)}),l.length>0&&n.onFilterChanged({columns:l,source:"api"})})},e.prototype.setModelOnFilterWrapper=function(t,n){return new Gs(function(i){t.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(n)||Gs.resolve()).then(function(){return i()})})})},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach(function(n,i){var o=n.filterPromise,s=o.resolveNow(null,function(l){return l});if(s==null)return null;if(typeof s.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var a=s.getModel();ce(a)&&(t[i]=a)}),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var n=this,i;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,n){return this.doColumnFiltersPass(t,n,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(s){var a=!s.isPrimary();if(a)return!0;var l=!t.columnModel.isPivotActive(),u=s.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var a=s.filterPromise.resolveNow(null,function(l){return l});o(s.column)?t.activeAggregateFilters.push(a):t.activeColumnFilters.push(a)}})},e.prototype.updateFilterFlagInColumns=function(t,n){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});i.column.setFilterActive(o,t,n)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,n,i){for(var o=t.data,s=t.aggData,a=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?s:o,u=0;u<a.length;u++){var c=a[u];if(!(c==null||c===n)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var n=this,i=function(){return n.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var n=t.source,i=t.filterInstance,o=t.additionalEventAttributes,s=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={source:n,type:k.EVENT_FILTER_CHANGED,columns:s||[]};o&&Ws(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var n=this;return function(i){var o=i.node;return n.valueService.getValue(t,o,!0)}},e.prototype.getFilterComponent=function(t,n,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(t,n))===null||o===void 0?void 0:o.filterPromise)||null;var s=this.cachedFilter(t);return s?s.filterPromise:null},e.prototype.isFilterActive=function(t){var n=this.cachedFilter(t);return!!n&&n.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,n){var i=this;if(!t.isFilterAllowed())return null;var o=this.cachedFilter(t);if(o)n!=="NO_UI"&&this.putIntoGui(o,n);else{o=this.createFilterWrapper(t,n);var s=t.getColId();this.allColumnFilters.set(s,o),this.allColumnListeners.set(s,this.addManagedListener(t,Tn.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(s)}))}return o},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var n;if(lt.__isRegistered(Ne.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var i=t.getColDef().cellDataType;i==="number"?n="agNumberColumnFilter":i==="date"||i==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},e.prototype.getDefaultFloatingFilter=function(t){var n;if(lt.__isRegistered(Ne.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var i=t.getColDef().cellDataType;i==="number"?n="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},e.prototype.createFilterInstance=function(t){var n=this,i=this.getDefaultFilter(t),o=t.getColDef(),s,a=Ex(Ex({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){var u={type:k.EVENT_FILTER_MODIFIED,column:t,filterInstance:s};n.eventService.dispatchEvent(u)},filterChangedCallback:function(u){var c,d=(c=u==null?void 0:u.source)!==null&&c!==void 0?c:"api",h={filterInstance:s,additionalEventAttributes:u,columns:[t],source:d};n.callOnFilterChangedOutsideRenderCycle(h)},doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(s,u)}}),l=this.userComponentFactory.getFilterDetails(o,a,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return s=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,n){var i={column:t,colDef:cU(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return i},e.prototype.createFilterWrapper=function(t,n){var i,o={column:t,filterPromise:null,compiledElement:null,guiPromise:Gs.resolve(null),compDetails:null},s=this.createFilterInstance(t),a=s.filterPromise,l=s.compDetails;return o.filterPromise=(i=a==null?void 0:a())!==null&&i!==void 0?i:null,o.compDetails=l,a&&this.putIntoGui(o,n),o},e.prototype.putIntoGui=function(t,n){var i=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new Gs(function(s){t.filterPromise.then(function(a){var l=a.getGui();ce(l)||console.warn("AG Grid: getGui method from filter returned "+l+", it should be a DOM element or an HTML template string."),typeof l=="string"&&(l=Fi(l)),o.appendChild(l),s(o);var u={type:k.EVENT_FILTER_OPENED,column:t.column,source:n,eGui:o};i.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,n=[];this.allColumnFilters.forEach(function(i,o){var s;i.column.isPrimary()?s=t.columnModel.getPrimaryColumn(o):s=t.columnModel.getGridColumn(o),!s&&(n.push(i.column),t.disposeFilterWrapper(i,"columnChanged"),t.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,n=this.columnModel.getGroupAutoColumns();n==null||n.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(i,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var n,i;if(this.isAdvancedFilterEnabled())return!1;var o=t.isFilterAllowed();if(!o)return!1;var s=this.allColumnFilters.get(t.getColId());return(i=(n=s==null?void 0:s.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(a){var l,u;return typeof((l=a)===null||l===void 0?void 0:l.isFilterAllowed)=="function"?(u=a)===null||u===void 0?void 0:u.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},e.prototype.getFloatingFilterCompDetails=function(t,n){var i=this,o=t.getColDef(),s=this.createFilterParams(t,o),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,Vk,s),l=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return i.getDefaultFloatingFilter(t)});l==null&&(l="agReadOnlyFloatingFilter");var u=function(d){var h=i.getFilterComponent(t,"NO_UI");h!=null&&h.then(function(f){d(tp(f))})},c={column:t,filterParams:a,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:u,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,c,l)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var n=this.getFilterComponent(t,"NO_UI",!1);return n?n.resolveNow(null,function(i){return i&&i.getModel()}):null},e.prototype.destroyFilter=function(t,n){n===void 0&&(n="api");var i=t.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var n=this.allColumnListeners.get(t);n&&(this.allColumnListeners.delete(t),n())},e.prototype.disposeFilterWrapper=function(t,n){var i=this;t.filterPromise.then(function(o){(o.setModel(null)||Gs.resolve()).then(function(){i.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(t.column.getColId());var s={type:k.EVENT_FILTER_DESTROYED,source:n,column:t.column};i.eventService.dispatchEvent(s)})})},e.prototype.checkDestroyFilter=function(t){var n=this.allColumnFilters.get(t);if(n){var i=n.column,o=(i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null}).compDetails;this.areFilterCompsDifferent(n.compDetails,o)&&this.destroyFilter(i,"columnChanged")}},e.prototype.areFilterCompsDifferent=function(t,n){if(!n||!t)return!0;var i=t.componentClass,o=n.componentClass,s=i===o||(i==null?void 0:i.render)&&(o==null?void 0:o.render)&&i.render===o.render;return!s},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t?t.some(function(n){return n.getColDef().floatingFilter}):!1},e.prototype.getFilterInstance=function(t,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(t,function(s){if(n){var a=tp(s);n(a)}}),o=tp(i);return o},e.prototype.getFilterInstanceImpl=function(t,n){var i=this.columnModel.getPrimaryColumn(t);if(i){var o=this.getFilterComponent(i,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(n,0,s):o&&o.then(function(a){n(a)}),s}},e.prototype.warnAdvancedFilters=function(){Ht(function(){console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(n){return t.setFilterModel(n)}),this.filterModelUpdateQueue=[]},e.prototype.destroy=function(){var t=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return t.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},jl([V("valueService")],e.prototype,"valueService",void 0),jl([V("columnModel")],e.prototype,"columnModel",void 0),jl([V("rowModel")],e.prototype,"rowModel",void 0),jl([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),jl([V("rowRenderer")],e.prototype,"rowRenderer",void 0),jl([V("dataTypeService")],e.prototype,"dataTypeService",void 0),jl([V("quickFilterService")],e.prototype,"quickFilterService",void 0),jl([nn("advancedFilterService")],e.prototype,"advancedFilterService",void 0),jl([we],e.prototype,"init",null),e=jl([Me("filterManager")],e),e}(ye),Aet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KU=function(r){Aet(e,r);function e(t,n){var i=r.call(this,t)||this;return i.ctrl=n,i}return e.prototype.getCtrl=function(){return this.ctrl},e}(Rt),xet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zge=function(r){xet(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return t.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return Zt(t.eButtonWrapper,o)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var n=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,GC([_e("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),GC([_e("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),GC([_e("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),GC([we],e.prototype,"postConstruct",null),GC([ui],e.prototype,"destroyFloatingFilterComp",null),e}(KU),Iet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fet=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ar;(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"})(Ar||(Ar={}));var YU=function(r){Iet(e,r);function e(t){var n=r.call(this)||this;return n.view=t,n}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),n={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=n.autoHeight?Ar.AUTO_HEIGHT:n.print?Ar.PRINT:Ar.NORMAL;this.view.updateLayoutClasses(i,n)},e.prototype.getDomLayout=function(){var t,n=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",i=["normal","print","autoHeight"];return i.indexOf(n)===-1?(Ht(function(){return console.warn("AG Grid: "+n+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):n},Fet([we],e.prototype,"postConstruct",null),e}(ye),Met=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_x=function(){return _x=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},_x.apply(this,arguments)},Sd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},to;(function(r){r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal"})(to||(to={}));var wo;(function(r){r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer"})(wo||(wo={}));var Let=function(r){Met(e,r);function e(t){var n=r.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=t,n.resetLastHScrollDebounced=ul(function(){return n.lastScrollSource[to.Horizontal]=null},500),n.resetLastVScrollDebounced=ul(function(){return n.lastScrollSource[to.Vertical]=null},500),n}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.is("debounceVerticalScrollbar"),o=i?ul(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=i?ul(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var n=this.centerRowContainerCtrl==null;if(!n){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),a.setContainerTranslateX(i),o.setContainerTranslateX(i),s.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[to.Horizontal]===wo.Container;t=Math.abs(t),d?l.setScrollPosition(t):_E(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=t,!0):this.lastScrollSource[n]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(wo.FakeContainer,to.Horizontal)&&this.onHScrollCommon(wo.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(wo.Container,to.Horizontal)&&this.onHScrollCommon(wo.Container)},e.prototype.onHScrollCommon=function(t){var n=this.centerRowContainerCtrl.getViewportElement(),i=n.scrollLeft;if(!this.shouldBlockScrollUpdate(to.Horizontal,i,!0)){var o;t===wo.Container?o=EE(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(wo.FakeContainer,to.Vertical)&&this.onVScrollCommon(wo.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(wo.Container,to.Vertical)&&this.onVScrollCommon(wo.Container)},e.prototype.onVScrollCommon=function(t){var n;t===wo.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(to.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,t===wo.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===n||(this.scrollLeft=t,this.fireScrollEvent(to.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var n=this,i={type:k.EVENT_BODY_SCROLL,direction:t===to.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=_x(_x({},i),{type:k.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,n,i){return i===void 0&&(i=!1),i&&!uf()?!1:t===to.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},e.prototype.shouldBlockVerticalScroll=function(t){var n=mR(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return t<0||t+n>i},e.prototype.shouldBlockHorizontalScroll=function(t){var n=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&SE()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+n>i},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(to.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(wo.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,n){n===void 0&&(n=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(to.Horizontal,t)&&(this.enableRtl&&SE()?t=t>0?0:o:t=Math.min(Math.max(t,i),o)),_E(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){var t={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return t},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,n){n===void 0&&(n=null);for(var i=this.rowModel.getRowCount(),o=-1,s=0;s<i;s++){var a=this.rowModel.getRow(s);if(typeof t=="function"){var l=t;if(a&&l(a)){o=s;break}}else if(t===a||t===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},e.prototype.ensureIndexVisible=function(t,n){if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}var o=this.gridOptionsService.is("pagination"),s=o&&!this.gridOptionsService.is("suppressPaginationPanel");s||this.paginationProxy.goToPageWithIndex(t);var a=this.ctrlsService.getGridBodyCtrl(),l=a.getStickyTopHeight(),u=this.paginationProxy.getRow(t),c;do{var d=u.rowTop,h=u.rowHeight,f=this.paginationProxy.getPixelOffset(),p=u.rowTop-f,g=p+u.rowHeight,C=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),y=C.top+m,w=C.bottom+m,E=w-y,P=this.heightScaler.getScrollPositionForPixel(p),T=this.heightScaler.getScrollPositionForPixel(g-E),R=Math.min((P+T)/2,p),_=y+l>p,b=w<g,D=null;n==="top"?D=P:n==="bottom"?D=T:n==="middle"?D=R:_?D=P-l:b&&(D=T),D!==null&&(this.setVerticalScrollPosition(D),this.rowRenderer.redraw({afterScroll:!0})),c=d!==u.rowTop||h!==u.rowHeight}while(c);this.animationFrameService.flushAllFrames()}},e.prototype.ensureColumnVisible=function(t,n){n===void 0&&(n="auto");var i=this.columnModel.getGridColumn(t);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,n);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,n){var i=this.isColumnOutsideViewport(t),o=i.columnBeforeStart,s=i.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,d=u?s:o;n!=="auto"&&(c=n==="start",d=n==="end");var h=n==="middle";if(c||d||h){var f=this.getColumnBounds(t),p=f.colLeft,g=f.colMiddle,C=f.colRight;return h?g-l/2:c?u?C:p:u?p-l:C-l}return null},e.prototype.isColumnOutsideViewport=function(t){var n=this.getViewportBounds(),i=n.start,o=n.end,s=this.getColumnBounds(t),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<a:i>a;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),s=t.getLeft(),a=n?-1:1,l=n?i-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=n,o=t+n;return{start:i,end:o,width:t}},Sd([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Sd([V("animationFrameService")],e.prototype,"animationFrameService",void 0),Sd([V("paginationProxy")],e.prototype,"paginationProxy",void 0),Sd([V("rowModel")],e.prototype,"rowModel",void 0),Sd([V("rowContainerHeightService")],e.prototype,"heightScaler",void 0),Sd([V("rowRenderer")],e.prototype,"rowRenderer",void 0),Sd([V("columnModel")],e.prototype,"columnModel",void 0),Sd([we],e.prototype,"postConstruct",null),e}(ye),Net=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kk=function(){return kk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},kk.apply(this,arguments)},ha=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Get=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Vet=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},ket=function(r){Net(e,r);function e(t){var n=r.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var n=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,k.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var i=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new zU({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!ks(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===ho.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.is("rowDragManaged");return t&&this.shouldPreventRowMove()?ri.ICON_NOT_ALLOWED:ri.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var n=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var i=this.gridOptionsService.is("rowDragMultiRow"),o=Vet([],Get(this.selectionService.getSelectedNodes())).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(a)-n.getRowIndexNumber(l)}),s=t.dragItem.rowNode;return i&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(k.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var n=t.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getGui(),o=t.dropZoneTarget;return!i.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(k.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var n=this.mouseEventService.getNormalisedPosition(t).y,i=this.gridOptionsService.is("rowDragManaged");i&&this.doManagedDrag(t,n),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,n){var i=this.isFromThisGrid(t),o=this.gridOptionsService.is("rowDragManaged"),s=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},e.prototype.getRowIndexNumber=function(t){return parseInt(On(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Du.Below,s=this.mouseEventService.getNormalisedPosition(t).y,a=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))a.forEach(function(d){d.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Du.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,n,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,n,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var n=this;if(!t.getContainer()){Ht(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,i=t):(t.onDragEnter&&(i.onDragEnter=function(o){t.onDragEnter(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(i.onDragLeave=function(o){t.onDragLeave(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(i.onDragging=function(o){t.onDragging(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(i.onDragStop=function(o){t.onDragStop(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(kk({isInterestedIn:function(o){return o===ho.RowDrag},getIconName:function(){return ri.ICON_MOVE},external:!0},i))},e.prototype.getRowDropZone=function(t){var n=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:i,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){s(u),t.onDragLeave(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:t.onDragging?function(u){a(u),t.onDragging(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(n.draggingToRowDragEvent(k.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,n){var i=this.mouseEventService.getNormalisedPosition(n).y,o=i>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(s));var l;switch(n.vDirection){case Zp.Down:l="down";break;case Zp.Up:l="up";break;default:l=null;break}var u={type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:a,y:i,vDirection:l};return u},e.prototype.dispatchGridEvent=function(t,n){var i=this.draggingToRowDragEvent(t,n);this.eventService.dispatchEvent(i)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(k.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(k.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(n){n.setDragging(!1)})},ha([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ha([V("rowModel")],e.prototype,"rowModel",void 0),ha([V("paginationProxy")],e.prototype,"paginationProxy",void 0),ha([V("columnModel")],e.prototype,"columnModel",void 0),ha([V("focusService")],e.prototype,"focusService",void 0),ha([V("sortController")],e.prototype,"sortController",void 0),ha([V("filterManager")],e.prototype,"filterManager",void 0),ha([V("selectionService")],e.prototype,"selectionService",void 0),ha([V("mouseEventService")],e.prototype,"mouseEventService",void 0),ha([V("ctrlsService")],e.prototype,"ctrlsService",void 0),ha([nn("rangeService")],e.prototype,"rangeService",void 0),ha([we],e.prototype,"postConstruct",null),e}(ye),Het=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ko=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eg;(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"})(eg||(eg={}));var Kge="ag-force-vertical-scroll",$et="ag-selectable",Bet="ag-column-moving",Yge=function(r){Het(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,n,i,o,s,a){this.comp=t,this.eGridBody=n,this.eBodyViewport=i,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new YU(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Let(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,k.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var n=this;t.forEach(function(i){n.addManagedListener(i,"focusin",function(o){var s=o.target,a=vp(s,"ag-root",i);i.classList.toggle("ag-has-focus",!a)}),n.addManagedListener(i,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=i.contains(a),u=vp(a,"ag-root",i),c=vp(s,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(Bet,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss($et,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var i=n&&this.gridOptionsService.getScrollbarWidth()||0,o=CE()?16:0,s="calc(100% + "+(i+o)+"px)";this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(s)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(mx(s)===null){t.rowRenderer.stopEditing();return}var a=i.some(function(u){return u.contains(s)})&&t.mouseEventService.isElementInThisGrid(s);if(!a){var l=t.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||t.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return t.addManagedListener(o,"focusout",n)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=n===-1?-1:t+n;this.comp.setRowCount(i)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var n=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowVerticalScroll"),n=t?Kge:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,t),t||i&&rge(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,n=function(){var i=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=i?eg.ANIMATION_ON:eg.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedListener(this.eventService,k.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&i&&this.addManagedListener(n,"wheel",function(o){return t.onFullWidthContainerWheel(o,i)})},e.prototype.onFullWidthContainerWheel=function(t,n){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),n.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,n,i){if(!(!t&&!i)){if(this.gridOptionsService.is("preventDefaultOnContextMenu")){var o=t||i;o.preventDefault()}var s=(t||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(uf()){var n=new ts(this.eBodyViewport),i=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,ts.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+t),this.eBodyViewport.scrollTop-n},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new ket(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,n=t.getPinnedTopTotalHeight();n&&(n+=1);var i=t.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+n+"px)")}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),n=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),i>0&&(o+=i+1),this.comp.setStickyTopTop(o+"px")},e.prototype.sizeColumnsToFit=function(t,n){var i=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsService.getScrollbarWidth():0,a=JM(this.eGridBody),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}n===void 0?window.setTimeout(function(){i.sizeColumnsToFit(t,100)},0):n===100?window.setTimeout(function(){i.sizeColumnsToFit(t,500)},100):n===500?window.setTimeout(function(){i.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},ko([V("animationFrameService")],e.prototype,"animationFrameService",void 0),ko([V("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),ko([V("ctrlsService")],e.prototype,"ctrlsService",void 0),ko([V("columnModel")],e.prototype,"columnModel",void 0),ko([V("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),ko([nn("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),ko([V("headerNavigationService")],e.prototype,"headerNavigationService",void 0),ko([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ko([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ko([V("rowRenderer")],e.prototype,"rowRenderer",void 0),ko([V("popupService")],e.prototype,"popupService",void 0),ko([V("mouseEventService")],e.prototype,"mouseEventService",void 0),ko([V("rowModel")],e.prototype,"rowModel",void 0),ko([V("filterManager")],e.prototype,"filterManager",void 0),e}(ye),PE;(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"})(PE||(PE={}));var np;(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"})(np||(np={}));var VC="ag-cell-range-selected",jet="ag-cell-range-chart",Wet="ag-cell-range-single-cell",Uet="ag-cell-range-chart-category",zet="ag-cell-range-handle",Ket="ag-cell-range-top",Yet="ag-cell-range-right",qet="ag-cell-range-bottom",Qet="ag-cell-range-left",Xet=function(){function r(e,t){this.beans=e,this.cellCtrl=t}return r.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(VC,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(VC+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(VC+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(VC+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(VC+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(jet,this.hasChartRange),Xp(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Wet,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(Ket,n),this.cellComp.addOrRemoveCssClass(Yet,i),this.cellComp.addOrRemoveCssClass(qet,o),this.cellComp.addOrRemoveCssClass(Qet,s)},r.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(n){return Oa([np.DIMENSION,np.VALUE],n.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.is("enableRtl"),n=!1,i=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,h;t?(d=c.getDisplayedColAfter(a),h=c.getDisplayedColBefore(a)):(d=c.getDisplayedColBefore(a),h=c.getDisplayedColAfter(a));var f=u.getCellRanges().filter(function(y){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),y)});d||(s=!0),h||(i=!0);for(var p=0;p<f.length&&!(n&&i&&o&&s);p++){var g=f[p],C=u.getRangeStartRow(g),m=u.getRangeEndRow(g);!n&&this.beans.rowPositionUtils.sameRow(C,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!s&&d&&g.columns.indexOf(d)<0&&(s=!0),!i&&h&&g.columns.indexOf(h)<0&&(i=!0)}return{top:n,right:i,bottom:o,left:s}},r.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(zet,!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var s=On(i),a=this.cellCtrl.getCellPosition(),l=t.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.is("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===np.DIMENSION,h=d&&n.isCellInSpecificRange(a,i[0]);this.cellComp.addOrRemoveCssClass(Uet,h),c=s.type===np.VALUE}return c&&s.endRow!=null&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},r.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,i=On(n.getCellRanges()).type,o=t.is("enableFillHandle")&&ut(i),s=o?PE.FILL:PE.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),Jet=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zet=function(r){Jet(e,r);function e(t,n){var i=r.call(this)||this;return i.cellCtrl=t,i.beans=n,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();oh(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,n){return t+n.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),n=[];if(t===1)n.push(this.column);else for(var i=this.column,o=this.column.getPinned(),s=0;i&&s<t&&(n.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||ut(i)||o!==i.getPinned()));s++);return n},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?t=On(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return n+i+(t||0)}return n+(t||0)},e.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var t=this.beans.gridOptionsService.getRowHeightAsNumber(),n=t*this.rowSpan;this.eGui.style.height=n+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(ye),ett=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ttt=function(r){ett(e,r);function e(t,n){var i=r.call(this)||this;return i.staticClasses=[],i.cellCtrl=t,i.beans=n,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(n.cellClassRules,i,function(o){return t.cellComp.addOrRemoveCssClass(o,!0)},function(o){return t.cellComp.addOrRemoveCssClass(o,!1)})},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var n;if(typeof t.cellStyle=="function"){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=t.cellStyle;n=o(i)}else n=t.cellStyle;n&&this.cellComp.setUserStyles(n)}},e.prototype.applyClassesFromColDef=function(){var t=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(ye),ntt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lL=function(r){ntt(e,r);function e(t,n){var i=r.call(this)||this;return i.ctrl=t,i.beans=n,i}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var n="title";t!=null&&t!=""?this.eGui.setAttribute(n,t):this.eGui.removeAttribute(n)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,n,i,o,s;if(this.genericTooltipFeature==null){var a={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new tL(a,(i=(n=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(n),(s=(o=this.ctrl).getTooltipHideDelayOverride)===null||s===void 0?void 0:s.call(o)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,n=this.ctrl,i=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:i,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(ye),_t=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qU=function(){function r(){}return r.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},_t([V("resizeObserverService")],r.prototype,"resizeObserverService",void 0),_t([V("paginationProxy")],r.prototype,"paginationProxy",void 0),_t([V("context")],r.prototype,"context",void 0),_t([V("columnApi")],r.prototype,"columnApi",void 0),_t([V("gridApi")],r.prototype,"gridApi",void 0),_t([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),_t([V("expressionService")],r.prototype,"expressionService",void 0),_t([V("environment")],r.prototype,"environment",void 0),_t([V("rowRenderer")],r.prototype,"rowRenderer",void 0),_t([V("templateService")],r.prototype,"templateService",void 0),_t([V("valueService")],r.prototype,"valueService",void 0),_t([V("eventService")],r.prototype,"eventService",void 0),_t([V("columnModel")],r.prototype,"columnModel",void 0),_t([V("headerNavigationService")],r.prototype,"headerNavigationService",void 0),_t([V("navigationService")],r.prototype,"navigationService",void 0),_t([V("columnAnimationService")],r.prototype,"columnAnimationService",void 0),_t([nn("rangeService")],r.prototype,"rangeService",void 0),_t([V("focusService")],r.prototype,"focusService",void 0),_t([nn("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),_t([V("popupService")],r.prototype,"popupService",void 0),_t([V("valueFormatterService")],r.prototype,"valueFormatterService",void 0),_t([V("stylingService")],r.prototype,"stylingService",void 0),_t([V("columnHoverService")],r.prototype,"columnHoverService",void 0),_t([V("userComponentFactory")],r.prototype,"userComponentFactory",void 0),_t([V("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),_t([V("animationFrameService")],r.prototype,"animationFrameService",void 0),_t([V("dragService")],r.prototype,"dragService",void 0),_t([V("dragAndDropService")],r.prototype,"dragAndDropService",void 0),_t([V("sortController")],r.prototype,"sortController",void 0),_t([V("filterManager")],r.prototype,"filterManager",void 0),_t([V("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),_t([V("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),_t([V("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),_t([V("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),_t([V("selectionService")],r.prototype,"selectionService",void 0),_t([nn("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),_t([V("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),_t([V("rowModel")],r.prototype,"rowModel",void 0),_t([V("ctrlsService")],r.prototype,"ctrlsService",void 0),_t([V("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),_t([V("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),_t([V("valueCache")],r.prototype,"valueCache",void 0),_t([V("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),_t([V("localeService")],r.prototype,"localeService",void 0),_t([V("valueParserService")],r.prototype,"valueParserService",void 0),_t([we],r.prototype,"postConstruct",null),r=_t([Me("beans")],r),r}(),rtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),itt=function(r){rtt(e,r);function e(t,n,i){var o=r.call(this)||this;return o.cellCtrl=t,o.beans=n,o.column=i,o}return e.prototype.onMouseEvent=function(t,n){if(!gl(n))switch(t){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var n=this.beans,i=n.eventService,o=n.rangeService,s=n.gridOptionsService,a=t.ctrlKey||t.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(t,k.EVENT_CELL_CLICKED);i.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.is("singleClickEdit")||u.singleClickEdit)&&!s.is("suppressClickEdit");c&&!(t.shiftKey&&(o==null?void 0:o.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!uf()||fU("dblclick"))return!1;var t=new Date().getTime(),n=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,n},e.prototype.onCellDoubleClicked=function(t){var n=this.column.getColDef(),i=this.cellCtrl.createEvent(t,k.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof n.onCellDoubleClicked=="function"&&window.setTimeout(function(){return n.onCellDoubleClicked(i)},0);var o=!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var n=t.ctrlKey,i=t.metaKey,o=t.shiftKey,s=t.target,a=this,l=a.cellCtrl,u=a.beans,c=u.eventService,d=u.rangeService,h=u.focusService;if(!this.isRightClickInExistingRange(t)){var f=d&&d.getCellRanges().length!=0;if(!o||!f){var p=Ga()&&!l.isEditing()&&!PU(s);l.focusCell(p)}if(o&&f&&!h.isCellFocused(l.getCellPosition())){t.preventDefault();var g=h.getFocusedCell();if(g){var C=g.column,m=g.rowIndex,y=g.rowPinned,w=u.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:y}),E=w==null?void 0:w.getCellCtrl(C);E!=null&&E.isEditing()&&E.stopEditing(),h.setFocusedCell({column:C,rowIndex:m,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(d){var P=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(P);else{var T=n||i;d.setRangeToCell(P,T)}}c.dispatchEvent(this.cellCtrl.createEvent(t,k.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var n=this.beans.rangeService;if(n){var i=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},e.prototype.containsWidget=function(t){return vp(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,k.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,k.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(t.target),o=n.contains(t.relatedTarget);return i&&o},e.prototype.destroy=function(){},e}(qU),ott=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),stt=function(r){ott(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;return a.cellCtrl=t,a.beans=n,a.rowNode=o,a.rowCtrl=s,a}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var n=t.key;switch(n){case ne.ENTER:this.onEnterKeyDown(t);break;case ne.F2:this.onF2KeyDown(t);break;case ne.ESCAPE:this.onEscapeKeyDown(t);break;case ne.TAB:this.onTabKeyDown(t);break;case ne.BACKSPACE:case ne.DELETE:this.onBackspaceOrDeleteKeyDown(n,t);break;case ne.DOWN:case ne.UP:case ne.RIGHT:case ne.LEFT:this.onNavigationKeyDown(t,n);break}},e.prototype.onNavigationKeyDown=function(t,n){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,n,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(t);n&&this.beans.navigationService.ensureCellVisible(n)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,n){var i=this,o=i.cellCtrl,s=i.beans,a=i.rowNode,l=s.gridOptionsService,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:k.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),uge(t,l.is("enableCellEditingOnBackspace"))?u&&l.is("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,n),c.dispatchEvent({type:k.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){var n=t.shiftKey?ne.UP:ne.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ne.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ne.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var n=t.target,i=n!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=t.key;o===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(o,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!n.is("suppressRowDeselection")){var s=this.beans.gridOptionsService.is("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"});i===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(ye),att=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ltt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},utt=function(r){att(e,r);function e(t,n,i){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=t,o.column=n,o.eCell=i,o}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(Lr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(n.rowNode.data);t.dataTransfer.setData("application/json",a),t.dataTransfer.setData("text/plain",a)}catch{}};if(i){var s={rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};i(s)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},ltt([we],e.prototype,"postConstruct",null),e}(Rt),ctt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rx=function(){return Rx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Rx.apply(this,arguments)},dtt="ag-cell",htt="ag-cell-auto-height",ftt="ag-cell-normal-height",ptt="ag-cell-focus",gtt="ag-cell-first-right-pinned",mtt="ag-cell-last-left-pinned",vtt="ag-cell-not-inline-editing",ytt="ag-column-hover",Ctt="ag-cell-wrap-text",wtt=0,bh=function(r){ctt(e,r);function e(t,n,i,o){var s=r.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=t,s.rowNode=n,s.beans=i,s.rowCtrl=o,s.instanceId=t.getId()+"-"+wtt++;var a=s.column.getColDef();return s.colIdSanitised=Yr(s.column.getId()),s.beans.gridOptionsService.is("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=a.cellRenderer!=null||a.cellRendererSelector!=null,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!0),s}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new Zet(this,this.beans),this.addDestroyFunc(function(){var i;(i=t.cellPositionFeature)===null||i===void 0||i.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new ttt(this,this.beans),this.addDestroyFunc(function(){var i;(i=t.cellCustomStyleFeature)===null||i===void 0||i.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new itt(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=t.cellMouseListenerFeature)===null||i===void 0||i.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new stt(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=t.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),t.cellKeyboardListenerFeature=null});var n=this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection");n&&(this.cellRangeFeature=new Xet(this.beans,this),this.addDestroyFunc(function(){var i;(i=t.cellRangeFeature)===null||i===void 0||i.destroy(),t.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,n=function(){var o=t.column.getColDef(),s=t.rowNode.data;if(o.tooltipField&&ce(s))return rv(s,o.tooltipField,t.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},i={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new lL(i,this.beans),this.addDestroyFunc(function(){var o;(o=t.tooltipFeature)===null||o===void 0||o.destroy(),t.tooltipFeature=null})},e.prototype.setComp=function(t,n,i,o,s){var a,l,u,c;this.cellComp=t,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),i&&this.setupAutoHeight(i),this.setAriaColIndex(),(a=this.cellPositionFeature)===null||a===void 0||a.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(n),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var n=this;if(this.column.isAutoHeight()){var i=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!n.editing&&n.isAlive()){var c=cf(i),d=c.paddingTop,h=c.paddingBottom,f=c.borderBottomWidth,p=c.borderTopWidth,g=d+h+f+p,C=t.offsetHeight,m=C+g;if(u<5){var y=n.beans.gridOptionsService.getDocument(),w=!y||!y.contains(t),E=m==0;if(w||E){n.beans.frameworkOverrides.setTimeout(function(){return s(u+1)},0);return}}var P=Math.max(m,o);n.rowNode.setRowAutoHeight(P,n.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.getIsCellRenderer=function(){return this.isCellRenderer},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var n=this.getValueToDisplay(),i;if(this.isCellRenderer){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,n,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var n=this.rowNode.rowPinned!=null,i=typeof t=="function",o=n?!1:i||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return n||i||o},e.prototype.startEditing=function(t,n,i){var o=this;if(t===void 0&&(t=null),n===void 0&&(n=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(t,n,i)});return}var s=this.createCellEditorParams(t,n),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s),u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!a.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c);var d=this.createEvent(i,k.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var n={newValueExists:!1};if(t)return n;var i=this.cellComp.getCellEditor();if(!i)return n;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return n;var s=i.getValue();return{newValue:s,newValueExists:!0}},e.prototype.saveNewValue=function(t,n){if(n===t)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(t),i=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,i,!t&&!!a),a},e.prototype.dispatchEditingStoppedEvent=function(t,n,i){var o=Rx(Rx({},this.createEvent(null,k.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this,n={value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(i){return t.beans.valueService.setValue(t.rowNode,t.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,s,a){return t.registerRowDragger(i,o,a)}};return n},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){if(this.cellComp){var n=t.column===this.column;n&&this.refreshCell({})}},e.prototype.refreshCell=function(t){var n,i,o;if(!(this.suppressRefreshCell||this.editing)&&this.cellComp){var s=this.column.getColDef(),a=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!s.suppressCellFlash,u=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,c=t&&t.forceRefresh||u||a,d=this.updateAndFormatValue(),h=c||d;if(h){this.showValue(a);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),p=!l&&!f&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash);p&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(n)},e.prototype.navigateAfterEdit=function(t){var n=this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit");if(n){var i=t?ne.UP:ne.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var n=t&&t.flashDelay,i=t&&t.fadeDelay;this.animateCell("data-changed",n,i)},e.prototype.animateCell=function(t,n,i){var o=this,s,a;if(this.cellComp){var l="ag-cell-"+t,u="ag-cell-"+t+"-animation",c=this.beans.gridOptionsService;n||(n=(s=c.getNum("cellFlashDelay"))!==null&&s!==void 0?s:500),ce(i)||(i=(a=c.getNum("cellFadeDelay"))!==null&&a!==void 0?a:1e3),this.cellComp.addOrRemoveCssClass(l,!0),this.cellComp.addOrRemoveCssClass(u,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(l,!1),o.cellComp.addOrRemoveCssClass(u,!0),o.eGui.style.transition="background-color "+i+"ms",window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(u,!1),o.eGui.style.transition="")},i))},n)}},e.prototype.onFlashCells=function(t){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=t.cells[n];i&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var n;return(n=this.callValueFormatter(t))!==null&&n!==void 0?n:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){t===void 0&&(t=!1);var n=this.value,i=this.valueFormatted;this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value);var o=t?!0:!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i;return o},e.prototype.valuesAreEqual=function(t,n){var i=this.column.getColDef();return i.equals?i.equals(t,n):t===n},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,n){var i={type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex};return i},e.prototype.processCharacter=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(t)},e.prototype.onKeyDown=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(t)},e.prototype.onMouseEvent=function(t,n){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(t,n)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);SU(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(gtt,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(mtt,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.is("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(ptt,n),n&&t&&t.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Pu(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(dtt,!0),this.cellComp.addOrRemoveCssClass(vtt,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(htt,t),this.cellComp.addOrRemoveCssClass(ftt,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(ytt,t)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(Ctt,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var n=this.column.getColDef(),i=this.createEvent(t,k.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(i)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new UU;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new utt(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,n,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,n);return}var s=this.createRowDragComp(t,n,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,n,i){var o=this,s=this.beans.gridOptionsService.is("pagination"),a=this.beans.gridOptionsService.is("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l){Ht(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(s){Ht(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var u=new wx(function(){return o.value},this.rowNode,this.column,t,n,i);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(ye),Stt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ett=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jN=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},WN=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Wo;(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"})(Wo||(Wo={}));var _tt=0,Th=function(r){Stt(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=n,a.gridOptionsService=n.gridOptionsService,a.rowNode=t,a.paginationPage=n.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.instanceId=t.id+"-"+_tt++,a.rowId=Yr(t.id),a.initRowBusinessKey(),a.rowFocused=n.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=n.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(i),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.is("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Yr(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n,i){var o={rowComp:t,element:n,containerType:i};this.allRowGuis.push(o),i===Br.LEFT?this.leftGui=o:i===Br.RIGHT?this.rightGui=o:i===Br.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==t}),t){case Br.LEFT:this.leftGui=void 0;break;case Br.RIGHT:this.rightGui=void 0;break;case Br.FULL_WIDTH:this.fullWidthGui=void 0;break;case Br.CENTER:this.centerGui=void 0;break}},e.prototype.isCacheable=function(){return this.rowType===Wo.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")},e.prototype.setCached=function(t){var n=t?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},e.prototype.initialiseRowComp=function(t){var n=this,i=this.gridOptionsService;this.listenOnDomOrder(t),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp,s=this.getInitialRowClasses(t.containerType);s.forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&cl(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=Yr(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var n=this,i=t.containerType,o=this.slideInAnimation[i];o&&(wk(function(){n.onTopChanged()}),this.slideInAnimation[i]=!1);var s=this.fadeInAnimation[i];s&&(wk(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.is("enableRangeSelection")){Ht(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var n=this.beans.localeService.getLocaleTextFunc(),i=new wx(function(){return"1 "+n("rowDragRow","row")},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(i,this.beans.context)},e.prototype.setupFullWidth=function(t){var n=this.getPinnedForContainer(t.containerType),i=this.createFullWidthParams(t.element,n);if(!(this.rowType==Wo.FullWidthDetail&&!lt.__assertRegistered(Ne.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Wo.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Wo.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Wo.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,n;return(n=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var n=this.getCellCtrl(t);return n?n.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(n)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&n&&i},e.prototype.setRowType=function(){var t=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.gridOptionsService.isGroupUseEntireRow(o);t?this.rowType=Wo.FullWidthLoading:i?this.rowType=Wo.FullWidthDetail:n?this.rowType=Wo.FullWidth:a?this.rowType=Wo.FullWidthGroup:this.rowType=Wo.Normal},e.prototype.updateColumnLists=function(t,n){var i=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=t||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,n,i){var o=this;i===void 0&&(i=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return n.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new bh(l,o.rowNode,o.beans,o)),a(u,c)}),t.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var n=this;this.allRowGuis.forEach(function(i){var o=n.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case Br.LEFT:return this.leftCellCtrls.list;case Br.RIGHT:return this.rightCellCtrls.list;case Br.FULL_WIDTH:return[];case Br.CENTER:return this.centerCellCtrls.list;default:var n=t;throw new Error("Unhandled case: "+n)}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,n){var i=!0,o=!1,s=t.getColumn();if(s.getPinned()!=n)return i;var a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=a||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),h=d.indexOf(c)>=0;return h?o:i}return i},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.is("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var n=this,i=function(){t.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var n=ce(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==Wo.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,n=function(u,c){if(!u)return!0;var d=u.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;var h=t.createFullWidthParams(u.element,c),f=d.refresh(h);return f},i=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),a=n(this.rightGui,"right"),l=i&&o&&s&&a;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,xt.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,xt.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,xt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,xt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,xt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,k.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,k.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,k.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,k.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(n,k.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(n,k.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,k.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,k.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,xt.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,xt.EVENT_CELL_CHANGED,function(n){t.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},e.prototype.onRowNodeDataChanged=function(t){var n=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var i=t===Du.Above,o=t===Du.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",t),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!n),cl(i.element,t&&n)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:Pu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var n=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),i=n?n.element:null,o=i===t.target;if(o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||gl(t))){var n=this.allRowGuis.find(function(a){return a.element.contains(t.target)}),i=n?n.element:null,o=i===t.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(i,!1,t.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var n,i=this.rowNode,o=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,n){var i={list:[],map:{}};return t.list.forEach(function(o){o!==n&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},e.prototype.onMouseEvent=function(t,n){switch(t){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},e.prototype.createRowEvent=function(t,n){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:n}},e.prototype.createRowEventWithSource=function(t,n){var i=this.createRowEvent(t,n);return i.source=this,i},e.prototype.onRowDblClick=function(t){if(!gl(t)){var n=this.createRowEventWithSource(k.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(n)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=vp(t.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var n=gl(t)||this.lastMouseDownOnDragger;if(!n){var i=this.createRowEventWithSource(k.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(i);var o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.gridOptionsService.is("groupSelectsChildren");if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))){var l=this.gridOptionsService.is("rowMultiSelectWithClick"),u=!this.gridOptionsService.is("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:t,source:c})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var n=this;if(this.rowType===Wo.FullWidthDetail&&this.gridOptionsService.is("detailRowAutoHeight")){var i=function(){var s=t.clientHeight;if(s!=null&&s>0){var a=function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};n.beans.frameworkOverrides.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(o),i()}},e.prototype.createFullWidthParams=function(t,n){var i=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return i.addFullWidthRowDragging(s,a,l,u)}};return o},e.prototype.addFullWidthRowDragging=function(t,n,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var s=new wx(function(){return i},this.rowNode,void 0,t,n,o);this.createManagedBean(s,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var n="ag-row-level-"+t,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},e.prototype.stopEditing=function(t){var n,i;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=Ett(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);s&&!t&&!a&&d&&(a=!0)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}if(a){var h=this.createRowEvent(k.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var n=t?this.createRowEvent(k.EVENT_ROW_EDITING_STARTED):this.createRowEvent(k.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},e.prototype.startRowEditing=function(t,n,i){if(t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(s,a){var l=a===n;return l?a.startEditing(t,l,i):a.startEditing(null,l,i),s?!0:a.isEditing()},!1);o&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=WN(WN(WN([],jN(this.centerCellCtrls.list)),jN(this.leftCellCtrls.list)),jN(this.rightCellCtrls.list));return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},e.prototype.setStylesFromGridOptions=function(t,n){var i=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var n=t===Br.LEFT?"left":t===Br.RIGHT?"right":null;return n},e.prototype.getInitialRowClasses=function(t){var n=this.getPinnedForContainer(t),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),i;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=n(o)}return i||t?Object.assign({},t,i):this.emptyStyle},e.prototype.onRowSelected=function(t){var n=this,i=!!this.rowNode.isSelected();this.forEachGui(t,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",i),Xp(o.element,i?!0:void 0);var s=n.createAriaLabel();ud(o.element,s??"")})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!(t&&this.gridOptionsService.is("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),i=n(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.");return i}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var n=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,xt.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.is("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,xt.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var n=this.beans.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,s=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,t),s)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,n){t?n(t):this.allRowGuis.forEach(n)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),s=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(i,s)-2+"px":void 0;this.forEachGui(t,function(l){l.element.style.height=n+"px",a&&l.element.style.setProperty("--ag-line-height",a)})}},e.prototype.addEventListener=function(t,n){r.prototype.addEventListener.call(this,t,n)},e.prototype.removeEventListener=function(t,n){r.prototype.removeEventListener.call(this,t,n)},e.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var t=this.createRowEvent(k.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),r.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var t=this.rowNode.rowTop!=null;if(t){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var n=this;this.forEachGui(t,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var i=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return t+i*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&ce(t)){var n=this.applyPaginationOffset(t),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),s=o+"px";this.setRowTopStyle(s)}},e.prototype.getInitialRowTop=function(t){var n=this.gridOptionsService.is("suppressRowTransform");return n?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){var n=this.gridOptionsService.is("suppressRowTransform");return n?void 0:"translateY("+this.getInitialRowTopShared(t)+")"},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},e.prototype.setRowTopStyle=function(t){var n=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(i){return n?i.rowComp.setTop(t):i.rowComp.setTransform("translateY("+t+")")})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==t&&(n=i)}),n!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(t)>=0&&(n=i)}),n},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,s=i+this.rowNode.rowIndex+1;this.forEachGui(t,function(a){a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),wU(a.element,s)})},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(ye),Rtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ss=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},btt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Ttt=function(r){Rtt(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",n=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,n)},e.prototype.addMouseListeners=function(){var t=this,n=fU("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",n];i.forEach(function(o){var s=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,s)})},e.prototype.processMouseEvent=function(t,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||gl(n))){var i=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);t==="contextmenu"?this.handleContextMenuMouseEvent(n,null,i,o):(o&&o.onMouseEvent(t,n),i&&i.onMouseEvent(t,n))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(uf()){var n=new ts(this.element),i=function(o){var s=t.getRowForEvent(o.touchEvent),a=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(n,ts.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.getRowForEvent=function(t){for(var n=t.target;n;){var i=this.gridOptionsService.getDomData(n,Th.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,n,i,o){var s=i?i.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=t||n;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,n,s,a,l,d)},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:px(this.gridOptionsService,t,bh.DOM_DATA_KEY_CELL_CTRL),rowCtrl:px(this.gridOptionsService,t,Th.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,n){var i=this.getControlsForEventTarget(n.target),o=i.cellCtrl,s=i.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,t,n))},e.prototype.processCellKeyboardEvent=function(t,n,i){var o=t.getRowNode(),s=t.getColumn(),a=t.isEditing(),l=!vx(this.gridOptionsService,i,o,s,a);if(l&&n==="keydown"){var u=!a&&this.navigationService.handlePageScrollingKey(i);u||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),eL(i)&&t.processCharacter(i)}if(n==="keydown"){var c=t.createEvent(i,k.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,n,i){var o=t.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!vx(this.gridOptionsService,i,o,a,!1);if(l){var u=i.key;if(n==="keydown")switch(u){case ne.PAGE_HOME:case ne.PAGE_END:case ne.PAGE_UP:case ne.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case ne.UP:case ne.DOWN:t.onKeyboardNavigate(i);break;case ne.TAB:t.onTabKeyDown(i);break}}if(n==="keydown"){var c=t.createRowEvent(k.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,n){if(!(!t.ctrlKey&&!t.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(t)){var i=lge(t);if(i===ne.A)return this.onCtrlAndA(t);if(i===ne.C)return this.onCtrlAndC(t);if(i===ne.D)return this.onCtrlAndD(t);if(i===ne.V)return this.onCtrlAndV(t);if(i===ne.X)return this.onCtrlAndX(t);if(i===ne.Y)return this.onCtrlAndY();if(i===ne.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var n=this,i=n.pinnedRowModel,o=n.paginationProxy,s=n.rangeService;if(s&&o.isRowsToRender()){var a=btt([i.isEmpty("top"),i.isEmpty("bottom")],2),l=a[0],u=a[1],c=l?null:"top",d=void 0,h=void 0;u?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=i.getPinnedBottomRowData().length-1);var f=this.columnModel.getAllDisplayedColumns();if(ks(f))return;s.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:h,rowEndPinned:d,columnStart:f[0],columnEnd:On(f)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.is("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Ss([V("mouseEventService")],e.prototype,"mouseEventService",void 0),Ss([V("valueService")],e.prototype,"valueService",void 0),Ss([nn("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Ss([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Ss([V("navigationService")],e.prototype,"navigationService",void 0),Ss([V("focusService")],e.prototype,"focusService",void 0),Ss([V("undoRedoService")],e.prototype,"undoRedoService",void 0),Ss([V("columnModel")],e.prototype,"columnModel",void 0),Ss([V("paginationProxy")],e.prototype,"paginationProxy",void 0),Ss([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ss([nn("rangeService")],e.prototype,"rangeService",void 0),Ss([nn("clipboardService")],e.prototype,"clipboardService",void 0),Ss([we],e.prototype,"postConstruct",null),e}(ye),Ptt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ub=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ott=function(r){Ptt(e,r);function e(t){var n=r.call(this)||this;return n.centerContainerCtrl=t,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,k.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,n=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=mR(t);if(this.bodyHeight!==n){this.bodyHeight=n;var i={type:k.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,n)},Ub([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Ub([V("columnModel")],e.prototype,"columnModel",void 0),Ub([V("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ub([we],e.prototype,"postConstruct",null),e}(ye),Dtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Att=function(r){Dtt(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,k.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),n=t>0;Zt(this.element,n),Aa(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Dq([V("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Dq([we],e.prototype,"postConstruct",null),e}(ye),xtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Aq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Itt=function(r){xtt(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,k.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),n=t>0;Zt(this.element,n),Aa(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},Aq([V("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Aq([we],e.prototype,"postConstruct",null),e}(ye),Ftt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qge=function(r){Ftt(e,r);function e(t,n){var i=r.call(this)||this;return i.eContainer=t,i.eViewport=n,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,k.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),n=t!=null?t+"px":"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},xq([V("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),xq([we],e.prototype,"postConstruct",null),e}(ye),Mtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ltt=function(r){Mtt(e,r);function e(t){var n=r.call(this)||this;return n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;if(!(!this.gridOptionsService.is("enableRangeSelection")||ut(this.rangeService))){var n={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(n),this.addDestroyFunc(function(){return t.dragService.removeDragSource(n)})}},UN([nn("rangeService")],e.prototype,"rangeService",void 0),UN([V("dragService")],e.prototype,"dragService",void 0),UN([we],e.prototype,"postConstruct",null),e}(ye),Ntt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},QU=function(r){Ntt(e,r);function e(t,n){n===void 0&&(n=!1);var i=r.call(this)||this;return i.callback=t,i.addSpacer=n,i}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,k.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),a;if(n)a=i+o+s;else if(a=i,this.addSpacer){var l=this.gridOptionsService.is("enableRtl")?o:s;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())}this.callback(a)},zN([V("columnModel")],e.prototype,"columnModel",void 0),zN([V("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),zN([we],e.prototype,"postConstruct",null),e}(ye),Gtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ed=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zb=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Kb=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},se;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"})(se||(se={}));var Br;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"})(Br||(Br={}));function Qge(r){switch(r){case se.CENTER:case se.TOP_CENTER:case se.STICKY_TOP_CENTER:case se.BOTTOM_CENTER:return Br.CENTER;case se.LEFT:case se.TOP_LEFT:case se.STICKY_TOP_LEFT:case se.BOTTOM_LEFT:return Br.LEFT;case se.RIGHT:case se.TOP_RIGHT:case se.STICKY_TOP_RIGHT:case se.BOTTOM_RIGHT:return Br.RIGHT;case se.FULL_WIDTH:case se.TOP_FULL_WIDTH:case se.STICKY_TOP_FULL_WIDTH:case se.BOTTOM_FULL_WIDTH:return Br.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var Vtt=Qd([[se.CENTER,"ag-center-cols-container"],[se.LEFT,"ag-pinned-left-cols-container"],[se.RIGHT,"ag-pinned-right-cols-container"],[se.FULL_WIDTH,"ag-full-width-container"],[se.TOP_CENTER,"ag-floating-top-container"],[se.TOP_LEFT,"ag-pinned-left-floating-top"],[se.TOP_RIGHT,"ag-pinned-right-floating-top"],[se.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[se.STICKY_TOP_CENTER,"ag-sticky-top-container"],[se.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[se.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[se.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[se.BOTTOM_CENTER,"ag-floating-bottom-container"],[se.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[se.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[se.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),ktt=Qd([[se.CENTER,"ag-center-cols-viewport"],[se.TOP_CENTER,"ag-floating-top-viewport"],[se.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[se.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),XU=function(r){Gtt(e,r);function e(t){var n=r.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=t,n.isFullWithContainer=n.name===se.TOP_FULL_WIDTH||n.name===se.STICKY_TOP_FULL_WIDTH||n.name===se.BOTTOM_FULL_WIDTH||n.name===se.FULL_WIDTH,n}return e.getRowContainerCssClasses=function(t){var n=Vtt.get(t),i=ktt.get(t);return{container:n,viewport:i}},e.getPinned=function(t){switch(t){case se.BOTTOM_LEFT:case se.TOP_LEFT:case se.STICKY_TOP_LEFT:case se.LEFT:return"left";case se.BOTTOM_RIGHT:case se.TOP_RIGHT:case se.STICKY_TOP_RIGHT:case se.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([se.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new Ott(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case se.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case se.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case se.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case se.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case se.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case se.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case se.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case se.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case se.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case se.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case se.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case se.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,n){t.indexOf(this.name)>=0&&n()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,n,i){var o=this;this.comp=t,this.eContainer=n,this.eViewport=i,this.createManagedBean(new Ttt(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[se.TOP_CENTER,se.TOP_LEFT,se.TOP_RIGHT],a=[se.STICKY_TOP_CENTER,se.STICKY_TOP_LEFT,se.STICKY_TOP_RIGHT],l=[se.BOTTOM_CENTER,se.BOTTOM_LEFT,se.BOTTOM_RIGHT],u=[se.CENTER,se.LEFT,se.RIGHT],c=Kb(Kb(Kb(Kb([],zb(s)),zb(l)),zb(u)),zb(a)),d=[se.CENTER,se.LEFT,se.RIGHT,se.FULL_WIDTH],h=[se.CENTER,se.TOP_CENTER,se.STICKY_TOP_CENTER,se.BOTTOM_CENTER],f=[se.LEFT,se.BOTTOM_LEFT,se.TOP_LEFT,se.STICKY_TOP_LEFT],p=[se.RIGHT,se.BOTTOM_RIGHT,se.TOP_RIGHT,se.STICKY_TOP_RIGHT];this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new Att(o.eContainer)),o.addManagedListener(o.eventService,k.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(p,function(){o.pinnedWidthFeature=o.createManagedBean(new Itt(o.eContainer)),o.addManagedListener(o.eventService,k.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new qge(o.eContainer,o.name===se.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new Ltt(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new QU(function(g){return o.comp.setContainerWidth(g+"px")}))}),CE()&&(this.forContainers([se.CENTER],function(){var g=o.enableRtl?k.EVENT_LEFT_PINNED_WIDTH_CHANGED:k.EVENT_RIGHT_PINNED_WIDTH_CHANGED;o.addManagedListener(o.eventService,g,function(){return o.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},e.prototype.refreshPaddingForFakeScrollbar=function(){var t=this,n=t.enableRtl,i=t.columnModel,o=t.eContainer,s=n?se.LEFT:se.RIGHT;this.forContainers([se.CENTER,s],function(){var a=i.getContainerWidth(s),l=n?"marginLeft":"marginRight";o.style[l]=a?"16px":"0px"})},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return t.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,n=[se.STICKY_TOP_CENTER,se.STICKY_TOP_LEFT,se.STICKY_TOP_RIGHT,se.STICKY_TOP_FULL_WIDTH],i=n.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var s=t.gridOptionsService.is("ensureDomOrder"),a=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([se.TOP_CENTER,se.STICKY_TOP_CENTER,se.BOTTOM_CENTER],function(){var n=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",n)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([se.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([se.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,n=function(i){t.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",n)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,t)},e.prototype.getCenterWidth=function(){return JM(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return EE(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var n=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return n()})},e.prototype.isViewportVisible=function(){return df(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return EE(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowHorizontalScroll");return t||nge(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){_E(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),CE()&&this.refreshPaddingForFakeScrollbar()},e.prototype.onDisplayedRowsChanged=function(t){var n=this;if(t===void 0&&(t=!1),this.visible){var i=this.gridOptionsService.isDomLayout("print"),o=function(a){var l=a.isFullWidth(),u=n.embedFullWidthRows||i,c=n.isFullWithContainer?!u&&l:u||!l;return c},s=this.getRowCtrls().filter(o);this.comp.setRowCtrls(s,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case se.TOP_CENTER:case se.TOP_LEFT:case se.TOP_RIGHT:case se.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case se.STICKY_TOP_CENTER:case se.STICKY_TOP_LEFT:case se.STICKY_TOP_RIGHT:case se.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case se.BOTTOM_CENTER:case se.BOTTOM_LEFT:case se.BOTTOM_RIGHT:case se.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Ed([V("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ed([V("dragService")],e.prototype,"dragService",void 0),Ed([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Ed([V("columnModel")],e.prototype,"columnModel",void 0),Ed([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ed([V("animationFrameService")],e.prototype,"animationFrameService",void 0),Ed([V("rowRenderer")],e.prototype,"rowRenderer",void 0),Ed([we],e.prototype,"postConstruct",null),e}(ye),Htt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$tt=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+se.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+se.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+se.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+se.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`+se.LEFT+`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`+se.CENTER+`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`+se.RIGHT+`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`+se.FULL_WIDTH+`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`+se.STICKY_TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`+se.STICKY_TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`+se.STICKY_TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`+se.STICKY_TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+se.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+se.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+se.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+se.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Xge=function(r){Htt(e,r);function e(){return r.call(this,$tt)||this}return e.prototype.init=function(){var t=this,n=function(o,s){var a=o+"px";s.style.minHeight=a,s.style.height=a},i={setRowAnimationCssOnBodyViewport:function(o,s){return t.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return $pe(t.getGui(),o)},setRowCount:function(o){return Hpe(t.getGui(),o)},setTopHeight:function(o){return n(o,t.eTop)},setBottomHeight:function(o){return n(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return t.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){var a=[t.eBodyViewport.classList,t.eBody.classList];a.forEach(function(l){l.toggle(Ar.AUTO_HEIGHT,s.autoHeight),l.toggle(Ar.NORMAL,s.normal),l.toggle(Ar.PRINT,s.print)}),t.addOrRemoveCssClass(Ar.AUTO_HEIGHT,s.autoHeight),t.addOrRemoveCssClass(Ar.NORMAL,s.normal),t.addOrRemoveCssClass(Ar.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return t.eBodyViewport.classList.toggle(Kge,s)},registerBodyViewportResizeListener:function(o){var s=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return t.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new Yge),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsService.get("rowSelection")==="multiple")&&kpe(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,n){var i=this.eBodyViewport.classList;i.toggle(eg.ANIMATION_ON,n),i.toggle(eg.ANIMATION_OFF,!n)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Zu([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Zu([nn("rangeService")],e.prototype,"rangeService",void 0),Zu([_e("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Zu([_e("eStickyTop")],e.prototype,"eStickyTop",void 0),Zu([_e("eTop")],e.prototype,"eTop",void 0),Zu([_e("eBottom")],e.prototype,"eBottom",void 0),Zu([_e("gridHeader")],e.prototype,"headerRootComp",void 0),Zu([_e("eBody")],e.prototype,"eBody",void 0),Zu([we],e.prototype,"init",null),e}(Rt),Btt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Jge=function(r){Btt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},e.prototype.setScrollsVisible=function(t){var n=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(n){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var i={type:k.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},KN([V("ctrlsService")],e.prototype,"ctrlsService",void 0),KN([we],e.prototype,"postConstruct",null),e=KN([Me("scrollVisibleService")],e),e}(ye),jtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zge=function(r){jtt(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.gridInstanceId=t.gridInstanceSequence.next(),n}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(n){return px(this.gridOptionsService,n.target,bh.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(n){var i=this.isElementInThisGrid(n.target);return i},e.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var o=i[t.GRID_DOM_KEY];if(ce(o)){var s=o===this.gridInstanceId;return s}i=i.parentElement}return!1},e.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},e.prototype.getNormalisedPosition=function(n){var i=this.gridOptionsService.isDomLayout("normal"),o=n,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var t;return e.gridInstanceSequence=new Jp,e.GRID_DOM_KEY="__ag_grid_instance",Iq([V("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=Iq([Me("mouseEventService")],e),e}(ye),Wtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bx=function(){return bx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},bx.apply(this,arguments)},Ho=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eme=function(r){Wtt(e,r);function e(){var t=r.call(this)||this;return t.onPageDown=Sk(t.onPageDown,100),t.onPageUp=Sk(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,n){n===void 0&&(n=!1);var i=t.key,o=t.altKey,s=t.ctrlKey||t.metaKey,a=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(i){case ne.PAGE_HOME:case ne.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case ne.LEFT:case ne.RIGHT:case ne.UP:case ne.DOWN:if(!l)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case ne.PAGE_DOWN:case ne.PAGE_UP:!s&&!o&&(u=this.handlePageUpDown(i,l,n));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,n,i){return i&&(n=this.focusService.getFocusedCell()),n?(t===ne.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},e.prototype.navigateTo=function(t){var n=t.scrollIndex,i=t.scrollType,o=t.scrollColumn,s=t.focusIndex,a=t.focusColumn;if(ce(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),ce(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=i.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a,!0):this.navigateToNextPage(t,a,!0)},e.prototype.navigateToNextPage=function(t,n,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=i?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,h=this.paginationProxy.getRowIndexAtPixel(d+l);if(h===t.rowIndex){var f=i?-1:1;n=h=t.rowIndex+f}var p;i?(p="bottom",h<s&&(h=s),n<s&&(n=s)):(p="top",h>a&&(h=a),n>a&&(n=a)),this.isRowTallerThanView(h)&&(n=h,p="top"),this.navigateTo({scrollIndex:n,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,n,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(t,i);o.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,n){var i;n===void 0&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>s)break;l+=d}u+=o}return Math.max(0,Math.min(u,a))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},e.prototype.isRowTallerThanView=function(t){var n=this.paginationProxy.getRow(t);if(!n)return!1;var i=n.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,n){var i=this.cellNavigationService.getNextCellToFocus(t,n,!0),o=i.rowIndex,s=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},e.prototype.onHomeOrEndKey=function(t){var n=t===ne.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=n?i[0]:On(i),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},e.prototype.onTabKeyDown=function(t,n){var i=n.shiftKey,o=this.tabToNextCellCommon(t,i,n);if(o){n.preventDefault();return}if(i){var s=t.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else t instanceof bh&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},e.prototype.tabToNextCell=function(t,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,n)},e.prototype.tabToNextCellCommon=function(t,n,i){var o=t.isEditing();if(!o&&t instanceof bh){var s=t,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,n,i):l=this.moveToNextEditingCell(t,n,i):l=this.moveToNextCellNotEditing(t,n),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,n,i){i===void 0&&(i=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return s==null?!1:(s.startEditing(null,!0,i),s.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,n,i){i===void 0&&(i=null);var o=t.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var h=s.getRowCtrl();h.startRowEditing(void 0,void 0,i)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,n){var i=this.columnModel.getAllDisplayedColumns(),o;t instanceof Th?o=bx(bx({},t.getRowPosition()),{column:n?i[0]:On(i)}):o=t.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof bh)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return ce(s)},e.prototype.findNextCellToFocusOn=function(t,n,i){for(var o=t;;){t!==o&&(t=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(ce(s)){var a={backwards:n,editing:i,previousCellPosition:t,nextCellPosition:o||null},l=s(a);ce(l)?(l.floating&&(Ht(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var f=this.rowRenderer.getRowByPosition(o);if(!f||!f.isFullWidth()||i)continue;return f}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}},e.prototype.isCellEditable=function(t){var n=this.lookupRowNodeForCell(t);return n?t.column.isCellEditable(n):!1},e.prototype.getCellByPosition=function(t){var n=this.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,n,i,o){for(var s=i,a=!1;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?n===ne.LEFT&&(s=this.getLastCellOfColSpan(s)):n===ne.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(n,s),a=ut(s);if(a&&t&&t.key===ne.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(ce(l)){var u={key:n,previousCellPosition:i,nextCellPosition:s||null,event:t},c=l(u);ce(c)?(c.floating&&(Ht(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s){if(s.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}var h=this.getNormalisedPosition(s);h?this.focusPosition(h):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var n=this.getCellByPosition(t);return n?(t=n.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,n){n===void 0&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(n?On(i):i[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:k.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var n=this.rowPositionUtils.getRowNode(t);return!!n},e.prototype.getLastCellOfColSpan=function(t){var n=this.getCellByPosition(t);if(!n)return t;var i=n.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:On(i),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var n=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex),o=n&&(i==null?void 0:i.sticky);!o&&ut(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},Ho([V("mouseEventService")],e.prototype,"mouseEventService",void 0),Ho([V("paginationProxy")],e.prototype,"paginationProxy",void 0),Ho([V("focusService")],e.prototype,"focusService",void 0),Ho([nn("rangeService")],e.prototype,"rangeService",void 0),Ho([V("columnModel")],e.prototype,"columnModel",void 0),Ho([V("rowModel")],e.prototype,"rowModel",void 0),Ho([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Ho([V("rowRenderer")],e.prototype,"rowRenderer",void 0),Ho([V("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Ho([V("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Ho([V("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Ho([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ho([we],e.prototype,"postConstruct",null),e=Ho([Me("navigationService")],e),e}(ye),Utt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ztt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tme=function(r){Utt(e,r);function e(t){var n=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=t,n}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,n=this.getGui(),i=this.params,o=function(s){vx(t.gridOptionsService,s,i.node,i.column,!0)||i.onKeyDown(s)};this.addManagedListener(n,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",ztt([we],e.prototype,"postConstruct",null),e}(ff),Ktt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nme=function(r){Ktt(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=n.getColumn(),a.rowNode=n.getRowNode(),a.rowCtrl=n.getRowCtrl(),a.eRow=o,a.cellCtrl=n,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var l=a.getGui();a.forceWrapper=n.isForceWrapper(),a.refreshWrapper(!1);var u=function(h,f){f!=null&&f!=""?l.setAttribute(h,f):l.removeAttribute(h)};li(l,"gridcell"),u("col-id",n.getColumnIdSanitised());var c=n.getTabIndex();c!==void 0&&u("tabindex",c.toString());var d={addOrRemoveCssClass:function(h,f){return a.addOrRemoveCssClass(h,f)},setUserStyles:function(h){return IU(l,h)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(h){return a.includeSelection=h},setIncludeRowDrag:function(h){return a.includeRowDrag=h},setIncludeDndSource:function(h){return a.includeDndSource=h},setRenderDetails:function(h,f,p){return a.setRenderDetails(h,f,p)},setEditDetails:function(h,f,p){return a.setEditDetails(h,f,p)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return n.setComp(d,a.getGui(),a.eCellWrapper,i,s),a}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,n,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var a=i||s,l=a?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},e.prototype.setEditDetails=function(t,n,i){t?this.createCellEditorInstance(t,n,i):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,o=i&&this.eCellWrapper==null;o&&(this.eCellWrapper=Fi('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!i&&this.eCellWrapper!=null;s&&(gc(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var a=!t&&i,l=a&&this.eCellValue==null;l&&(this.eCellValue=Fi('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!a&&this.eCellValue!=null;u&&(gc(this.eCellValue),this.eCellValue=void 0);var c=o||s||l||u;return c&&this.removeControls(),t||n&&this.addControls(),c},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,n,i){var o=this,s=this.editorVersion,a=t.newAgStackInstance();if(a){var l=t.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,n,i)});var u=ut(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var n=this.getParentOfValue();co(n);var i=t!=null?Yr(t):null;i!=null&&(n.innerHTML=i)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),gc(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),gc(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0},e.prototype.createCellRendererInstance=function(t){var n=this,i=this.beans.gridOptionsService.is("suppressAnimationFrame"),o=!i,s=this.rendererVersion,a=t.componentClass,l=function(){var u=n.rendererVersion!==s||!n.isAlive();if(!u){var c=t.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,s,a);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,n,i){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();co(s),s.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,n,i,o,s){var a=t!==this.editorVersion;if(a){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var u=o||n.isPopup!==void 0&&n.isPopup();u?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),n.afterGuiAttached&&n.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,n){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!n),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(t.contains(n.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,n){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new tme(t));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),u=n??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.is("enableRtl"),d={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},h=a.positionPopupByComponent.bind(a,d),f=this.beans.localeService.getLocaleTextFunc(),p=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:f("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();t.contains(n.activeElement)&&XM()&&t.focus({preventScroll:!0}),co(this.getParentOfValue())},e}(Rt),Ytt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qtt=function(r){Ytt(e,r);function e(t,n,i){var o=r.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=t,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle(i)+'"/>');var s=o.getGui(),a=s.style;o.domOrder=o.rowCtrl.getDomOrder(),li(s,"row");var l=o.rowCtrl.getTabIndex();l!=null&&s.setAttribute("tabindex",l.toString());var u={setDomOrder:function(c){return o.domOrder=c},setCellCtrls:function(c){return o.setCellCtrls(c)},showFullWidth:function(c){return o.showFullWidth(c)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(c,d){return o.addOrRemoveCssClass(c,d)},setUserStyles:function(c){return IU(s,c)},setTop:function(c){return a.top=c},setTransform:function(c){return a.transform=c},setRowIndex:function(c){return s.setAttribute("row-index",c)},setRowId:function(c){return s.setAttribute("row-id",c)},setRowBusinessKey:function(c){return s.setAttribute("row-business-key",c)}};return t.setComp(u,o.getGui(),i),o.addDestroyFunc(function(){t.unsetComp(i)}),o}return e.prototype.getInitialStyle=function(t){var n=this.rowCtrl.getInitialTransform(t),i=this.rowCtrl.getInitialRowTop(t);return n?"transform: "+n:"top: "+i},e.prototype.showFullWidth=function(t){var n=this,i=function(s){if(n.isAlive()){var a=s.getGui();n.getGui().appendChild(a),n.rowCtrl.setupDetailRowAutoHeight(a),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)},o=t.newAgStackInstance();o&&o.then(i)},e.prototype.setCellCtrls=function(t){var n=this,i=Object.assign({},this.cellComps);t.forEach(function(s){var a=s.getInstanceId(),l=n.cellComps[a];l==null?n.newCellComp(s):i[a]=null});var o=Vu(i).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var n=this;if(this.domOrder){var i=[];t.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&i.push(s.getGui())}),xU(this.getGui(),i)}},e.prototype.newCellComp=function(t){var n=new nme(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=Vu(this.cellComps).filter(function(n){return n!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var n=this;t.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();n.cellComps[o]===i&&(i.detach(),i.destroy(),n.cellComps[o]=null)}})},e}(Rt),Qtt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Hk=function(){return Hk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Hk.apply(this,arguments)},kC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function Xtt(){var r=Rt.elementGettingCreated.getAttribute("name"),e=XU.getRowContainerCssClasses(r),t,n=r===se.CENTER||r===se.TOP_CENTER||r===se.STICKY_TOP_CENTER||r===se.BOTTOM_CENTER;return n?t='<div class="'+e.viewport+`" ref="eViewport" role="presentation">
                <div class="`+e.container+`" ref="eContainer"></div>
            </div>`:t='<div class="'+e.container+'" ref="eContainer"></div>',t}var rme=function(r){Qtt(e,r);function e(){var t=r.call(this,Xtt())||this;return t.rowComps={},t.name=Rt.elementGettingCreated.getAttribute("name"),t.type=Qge(t.name),t}return e.prototype.postConstruct=function(){var t=this,n={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){return t.setRowCtrls(o)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},i=this.createManagedBean(new XU(this.name));i.setComp(n,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var n=this,i=Hk({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=i[a];if(l)n.rowComps[a]=l,delete i[a],n.ensureDomOrder(l.getGui());else{if(!s.getRowNode().displayed)return;var u=new qtt(s,n.beans,n.type);n.rowComps[a]=u,n.appendRow(u.getGui())}};t.forEach(o),Vu(i).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),li(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?tge(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(AU(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},kC([V("beans")],e.prototype,"beans",void 0),kC([_e("eViewport")],e.prototype,"eViewport",void 0),kC([_e("eContainer")],e.prototype,"eContainer",void 0),kC([we],e.prototype,"postConstruct",null),kC([ui],e.prototype,"preDestroy",null),e}(Rt),Fq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ime=function(){function r(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return r.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var n=e.dragItem.columns;n&&n.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?t.columnsToAggregate.push(i):i.isAllowRowGroup()?t.columnsToGroup.push(i):i.isAllowPivot()&&t.columnsToPivot.push(i)))})}},r.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?ri.ICON_PINNED:ri.ICON_MOVE:null},r.prototype.onDragLeave=function(e){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(e){},r.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Fq([V("columnModel")],r.prototype,"columnModel",void 0),Fq([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),HC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Jtt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ome=function(){function r(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!ce(e)}return r.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?ri.ICON_PINNED:ri.ICON_MOVE},r.prototype.onDragEnter=function(e){var t=e.dragItem.columns,n=e.dragSource.type===ho.ToolPanel;if(n)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var i=e.dragItem.visibleState,o=(t||[]).filter(function(s){return i[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(e,t,n){if(n===void 0&&(n="api"),e){var i=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,t,n)}},r.prototype.setColumnsPinned=function(e,t,n){if(n===void 0&&(n="api"),e){var i=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,t,n)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.normaliseX=function(e){if(this.gridOptionsService.is("enableRtl")){var t=this.eContainer.clientWidth;e=t-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},r.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(e,t,n,i){var o=this,s;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;this.moveColumns(l,u,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,!ut(e.hDirection)){var c=this.normaliseX(e.x);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),h=e.dragSource.type,f=((s=e.dragSource.getDragItem().columns)===null||s===void 0?void 0:s.filter(function(p){return p.getColDef().lockPinned?p.getPinned()==o.pinned:!0}))||[];this.attemptMoveColumns({dragSourceType:h,allMovingColumns:f,hDirection:d,mouseX:c,fromEnter:t,fakeEvent:n})}},r.prototype.normaliseDirection=function(e){if(this.gridOptionsService.is("enableRtl"))switch(e){case rl.Left:return rl.Right;case rl.Right:return rl.Left;default:console.error("AG Grid: Unknown direction "+e)}else return e},r.prototype.attemptMoveColumns=function(e){var t=e.dragSourceType,n=e.hDirection,i=e.mouseX,o=e.fromEnter,s=e.fakeEvent,a=n===rl.Left,l=n===rl.Right,u=e.allMovingColumns;if(t===ho.HeaderCell){var c=[];u.forEach(function(_){for(var b,D=null,M=_.getParent();M!=null&&M.getDisplayedLeafColumns().length===1;)D=M,M=M.getParent();if(D!=null){var G=!!(!((b=D.getColGroupDef())===null||b===void 0)&&b.marryChildren),I=G?D.getProvidedColumnGroup().getLeafColumns():D.getLeafColumns();I.forEach(function(L){c.includes(L)||c.push(L)})}else c.includes(_)||c.push(_)}),u=c}var d=u.slice();this.columnModel.sortColumnsLikeGridColumns(d);var h=this.calculateValidMoves(d,l,i),f=this.calculateOldIndex(d);if(h.length!==0){var p=h[0],g=f!==null&&!o;if(t==ho.HeaderCell&&(g=f!==null),!(g&&!s&&(a&&p>=f||l&&p<=f))){for(var C=this.columnModel.getAllDisplayedColumns(),m=[],y=null,w=0;w<h.length;w++){var E=h[w],P=this.columnModel.getProposedColumnOrder(d,E);if(this.columnModel.doesOrderPassRules(P)){var T=P.filter(function(_){return C.includes(_)});if(y===null)y=T;else if(!st.areEqual(T,y))break;var R=this.groupFragCount(P);m.push({move:E,fragCount:R})}}m.length!==0&&(m.sort(function(_,b){return _.fragCount-b.fragCount}),this.moveColumns(u,m[0].move,"uiColumnMoved",!1))}}},r.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),n=fpe(e.map(function(l){return t.indexOf(l)})),i=n[0],o=On(n),s=o-i,a=s!==n.length-1;return a?null:i},r.prototype.moveColumns=function(e,t,n,i){this.columnModel.moveColumns(e,t,n,i),this.lastMovedInfo=i?null:{columns:e,toIndex:t}},r.prototype.groupFragCount=function(e){function t(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var n=0,i=function(s){var a,l=t(e[s]),u=t(e[s+1]);a=Jtt(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&n++})},o=0;o<e.length-1;o++)i(o);return n},r.prototype.calculateValidMoves=function(e,t,n){var i=this.gridOptionsService.is("suppressMovableColumns")||e.some(function(R){return R.getColDef().suppressMovable});if(i)return[];var o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(function(R){return Oa(e,R)}),l=o.filter(function(R){return!Oa(e,R)}),u=s.filter(function(R){return!Oa(e,R)}),c=0,d=n;if(t){var h=0;a.forEach(function(R){return h+=R.getActualWidth()}),d-=h}if(d>0){for(var f=0;f<l.length;f++){var p=l[f];if(d-=p.getActualWidth(),d<0)break;c++}t&&c++}var g;if(c>0){var C=l[c-1];g=u.indexOf(C)+1}else g=u.indexOf(l[0]),g===-1&&(g=0);var m=[g],y=function(R,_){return R-_};if(t){for(var w=g+1,E=s.length-1;w<=E;)m.push(w),w++;m.sort(y)}else{for(var w=g,E=s.length-1,P=s[w];w<=E&&this.isColumnHidden(o,P);)w++,m.push(w),P=s[w];w=g-1;for(var T=0;w>=T;)m.push(w),w--;m.sort(y).reverse()}return m},r.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ri.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ri.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ri.ICON_MOVE))},r.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(ri.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},HC([V("columnModel")],r.prototype,"columnModel",void 0),HC([V("dragAndDropService")],r.prototype,"dragAndDropService",void 0),HC([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),HC([V("ctrlsService")],r.prototype,"ctrlsService",void 0),HC([we],r.prototype,"init",null),r}(),Ztt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$C=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sme=function(r){Ztt(e,r);function e(t,n){var i=r.call(this)||this;return i.pinned=t,i.eContainer=n,i}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){switch(t.pinned){case"left":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===ho.HeaderCell||t===ho.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new ome(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new ime(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===ho.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},$C([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),$C([V("columnModel")],e.prototype,"columnModel",void 0),$C([V("ctrlsService")],e.prototype,"ctrlsService",void 0),$C([we],e.prototype,"postConstruct",null),$C([we],e.prototype,"init",null),e}(ye),ent=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},tnt=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},JU=function(){function r(){}return r.getHeaderClassesFromColDef=function(e,t,n,i){return ut(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,i)},r.getToolPanelClassesFromColDef=function(e,t,n,i){return ut(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,i)},r.getClassParams=function(e,t,n,i){return{colDef:e,column:n,columnGroup:i,api:t.api,columnApi:t.columnApi,context:t.context}},r.getColumnClassesFromCollDef=function(e,t,n,i,o){if(ut(e))return[];var s;if(typeof e=="function"){var a=this.getClassParams(t,n,i,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?tnt([],ent(s)):[]},r}(),nnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},rnt=function(r){nnt(e,r);function e(t){var n=r.call(this,e.TEMPLATE,t)||this;return n.headerCompVersion=0,n.column=t.getColumnGroupChild(),n.pinned=t.getPinned(),n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=function(a,l){l!=null&&l!=""?n.setAttribute(a,l):n.removeAttribute(a)};i("col-id",this.column.getColId());var o={setWidth:function(a){return n.style.width=a},addOrRemoveCssClass:function(a,l){return t.addOrRemoveCssClass(a,l)},setAriaDescription:function(a){return Mpe(n,a)},setAriaSort:function(a){return a?jpe(n,a):Wpe(n)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;t.newAgStackInstance().then(function(o){return n.afterCompCreated(i,o)})},e.prototype.afterCompCreated=function(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,Yb([_e("eResize")],e.prototype,"eResize",void 0),Yb([_e("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),Yb([we],e.prototype,"postConstruct",null),Yb([ui],e.prototype,"destroyHeaderComp",null),e}(KU),int=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ont=function(r){int(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=function(s,a){return a!=null?n.setAttribute(s,a):n.removeAttribute(s)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return Zt(t.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return i("aria-expanded",s)},setUserCompDetails:function(s){return t.setUserCompDetails(s)}};this.ctrl.setComp(o,n,this.eResize)},e.prototype.setUserCompDetails=function(t){var n=this;t.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},e.prototype.afterHeaderCompCreated=function(t){var n=this,i=function(){return n.destroyBean(t)};if(!this.isAlive()){i();return}var o=this.getGui(),s=t.getGui();o.appendChild(s),this.addDestroyFunc(i),this.ctrl.setDragSource(o)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,YN([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),YN([_e("eResize")],e.prototype,"eResize",void 0),YN([we],e.prototype,"postConstruct",null),e}(KU),snt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Mq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mi;(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"})(mi||(mi={}));var ame=function(r){snt(e,r);function e(t){var n=r.call(this)||this;return n.headerComps={},n.ctrl=t,n.setTemplate('<div class="'+n.ctrl.getHeaderRowClass()+'" role="row"></div>'),n}return e.prototype.init=function(){var t=this;this.getGui().style.transform=this.ctrl.getTransform(),wU(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(i){return t.getGui().style.height=i},setTop:function(i){return t.getGui().style.top=i},setHeaderCtrls:function(i,o){return t.setHeaderCtrls(i,o)},setWidth:function(i){return t.getGui().style.width=i}};this.ctrl.setComp(n)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,n){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),cr(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),n){var s=Vu(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var a=s.map(function(l){return l.getGui()});xU(this.getGui(),a)}}},e.prototype.createHeaderComp=function(t){var n;switch(this.ctrl.getType()){case mi.COLUMN_GROUP:n=new ont(t);break;case mi.FLOATING_FILTER:n=new zge(t);break;default:n=new rnt(t);break}return this.createBean(n),n.setParentComponent(this),n},Mq([we],e.prototype,"init",null),Mq([ui],e.prototype,"destroyHeaderCtrls",null),e}(Rt),ant=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lnt=0,CR=function(r){ant(e,r);function e(t,n){var i=r.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=t,i.parentRowCtrl=n,i.instanceId=t.getUniqueId()+"-"+lnt++,i}return e.prototype.shouldStopEventPropagation=function(t){var n=this.focusService.getFocusedHeader(),i=n.headerRowIndex,o=n.column;return age(this.gridOptionsService,t,i,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),n=t.activeElement;return n===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var n=this.getWrapperHasFocus();switch(t.key){case ne.PAGE_DOWN:case ne.PAGE_UP:case ne.PAGE_HOME:case ne.PAGE_END:n&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,n,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",qN([V("focusService")],e.prototype,"focusService",void 0),qN([V("beans")],e.prototype,"beans",void 0),qN([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ye),unt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cnt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uL=function(r){unt(e,r);function e(t,n,i,o){var s=r.call(this)||this;return s.columnOrGroup=t,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=i,s}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?On(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Tn.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),n=ce(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&n&&!t;i?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,n=this.getColumnOrGroup(),i=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),a=this.modifyLeftForPrintLayout(n,i);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===a&&t.setLeft(a)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),n=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,n),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,n){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||t.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+n}return o+n},e.prototype.setLeft=function(t){ce(t)&&(this.eCell.style.left=t+"px");var n;if(this.columnOrGroup instanceof Tn)n=this.columnOrGroup;else{var i=this.columnOrGroup,o=i.getLeafColumns();if(!o.length)return;o.length>1&&Bpe(this.ariaEl,o.length),n=o[0]}var s=this.beans.columnModel.getAriaColumnIndex(n);SU(this.ariaEl,s)},cnt([we],e.prototype,"postConstruct",null),e}(ye),dnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ZU=function(r){dnt(e,r);function e(t,n){var i=r.call(this)||this;return i.columns=t,i.element=n,i}return e.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Lq([V("columnHoverService")],e.prototype,"columnHoverService",void 0),Lq([we],e.prototype,"postConstruct",null),e}(ye),hnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lme=function(r){hnt(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.iconCreated=!1,i.column=t,i}return e.prototype.setComp=function(t,n,i,o){r.prototype.setGui.call(this,n),this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Tn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.setupActive=function(){var t=this.column.getColDef(),n=!!t.filter,i=!!t.floatingFilter;this.active=n&&i},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=Lr("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new cd(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();ud(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.getDocument(),i=n.activeElement,o=i===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(t.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var n=this.beans.columnModel,i=this.column;do if(i=t?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();switch(t.key){case ne.UP:case ne.DOWN:n||t.preventDefault();case ne.LEFT:case ne.RIGHT:if(n)return;t.stopPropagation();case ne.ENTER:n&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case ne.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var n=this.eGui.contains(t.relatedTarget);if(!n){var i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&vp(t.relatedTarget,"ag-floating-filter");if(i&&o&&t.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===ne.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new ZU([this.column],this.eGui));var n=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var i=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,k.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupLeft=function(){var t=new uL(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){var t=this.column.getColDef();this.suppressFilterButton=t.floatingFilterComponentParams?!!t.floatingFilterComponentParams.suppressFilterButton:!1},e.prototype.setupUserComp=function(){var t=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});n&&this.setCompDetails(n)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var n=function(i){var o=t.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=t.filterManager.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(a,i)}})};this.destroySyncListener=this.addManagedListener(this.column,Tn.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},e.prototype.setupWidth=function(){var t=this,n=function(){var i=t.column.getActualWidth()+"px";t.comp.setWidth(i)};this.addManagedListener(this.column,Tn.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Tn.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},e.prototype.onColDefChanged=function(){var t=this,n,i,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!a?this.updateCompDetails(a,s):l.then(function(u){var c;!u||t.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,a)?t.updateCompDetails(a,s):t.updateFloatingFilterParams(a)})},e.prototype.updateCompDetails=function(t,n){this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},e.prototype.updateFloatingFilterParams=function(t){var n;if(t){var i=t.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){o!=null&&o.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(i)})}},QN([V("filterManager")],e.prototype,"filterManager",void 0),QN([V("columnHoverService")],e.prototype,"columnHoverService",void 0),QN([V("menuFactory")],e.prototype,"menuFactory",void 0),e}(CR),fnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pnt=function(r){fnt(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;return a.pinned=t,a.column=n,a.eResize=i,a.comp=o,a.ctrl=s,a}return e.prototype.postConstruct=function(){var t=this,n=this.column.getColDef(),i=[],o,s,a=function(){if(Zt(t.eResize,o),!!o){var c=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(i.push(c),s){var d=t.gridOptionsService.is("skipHeaderOnAutoSize"),h=function(){t.columnModel.autoSizeColumn(t.column,d,"uiColumnResized")};t.eResize.addEventListener("dblclick",h);var f=new ts(t.eResize);f.addEventListener(ts.EVENT_DOUBLE_TAP,h),t.addDestroyFunc(function(){t.eResize.removeEventListener("dblclick",h),f.removeEventListener(ts.EVENT_DOUBLE_TAP,h),f.destroy()})}}},l=function(){i.forEach(function(c){return c()}),i.length=0},u=function(){var c=t.column.isResizable(),d=!t.gridOptionsService.is("suppressAutoSize")&&!n.suppressAutoSize,h=c!==o||d!==s;h&&(o=c,s=d,l(),a())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},e.prototype.onResizing=function(t,n){var i=this.normaliseResizeAmount(n),o=[{key:this.column,newWidth:this.resizeStartWidth+i}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var n=t,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.is("enableRtl")?i&&(n*=-1):o&&(n*=-1),n},XN([V("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),XN([V("columnModel")],e.prototype,"columnModel",void 0),XN([we],e.prototype,"postConstruct",null),e}(ye),gnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mnt=function(r){gnt(e,r);function e(t){var n=r.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=t;var i=t.getColDef();return n.filteredOnly=!!(i!=null&&i.headerCheckboxSelectionFilteredOnly),n.currentPageOnly=!!(i!=null&&i.headerCheckboxSelectionCurrentPageOnly),n}return e.prototype.onSpaceKeyDown=function(t){var n=this.cbSelectAll,i=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new yR),this.cbSelectAll.addCssClass("ag-header-select-all"),li(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,k.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,k.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),YM(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),i=n?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+i+")"):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(o+" ("+i+")"),this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkSelectionType=function(t){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: "+t+" is only available if using 'multiple' rowSelection."),!1)},e.prototype.checkRightRowModelType=function(t){var n=this.rowModel.getType(),i=n==="clientSide"||n==="serverSide";return i?!0:(console.warn("AG Grid: "+t+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+n+"."),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),n="uiSelectAll";this.currentPageOnly?n="uiSelectAllCurrentPage":this.filteredOnly&&(n="uiSelectAllFiltered");var i={source:n,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var n=t,i={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};t=n(i)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},qb([V("gridApi")],e.prototype,"gridApi",void 0),qb([V("columnApi")],e.prototype,"columnApi",void 0),qb([V("rowModel")],e.prototype,"rowModel",void 0),qb([V("selectionService")],e.prototype,"selectionService",void 0),e}(ye),vnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cp;(function(r){r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Cp||(Cp={}));var ume=function(r){vnt(e,r);function e(t){var n=r.call(this)||this;n.skipTabGuardFocus=!1;var i=t.comp,o=t.eTopGuard,s=t.eBottomGuard,a=t.focusInnerElement,l=t.onFocusIn,u=t.onFocusOut,c=t.shouldStopEventPropagation,d=t.onTabKeyDown,h=t.handleKeyDown,f=t.eFocusableElement;return n.comp=i,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=a,n.eFocusableElement=f,n.providedFocusIn=l,n.providedFocusOut=u,n.providedShouldStopEventPropagation=c,n.providedOnTabKeyDown=d,n.providedHandleKeyDown=h,n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new cd(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)},onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return t.addManagedListener(n,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){var t=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(t.toString())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var n=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!t.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[t?n.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1);var n=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},Nq([V("focusService")],e.prototype,"focusService",void 0),Nq([we],e.prototype,"postConstruct",null),e}(ye),ynt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uS=function(){return uS=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},uS.apply(this,arguments)},Es=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cnt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},wnt=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},wp=function(r){ynt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(n,i){var o=t.instancesMonitored.get(n);o&&o.length>0?o.indexOf(i)===-1&&o.push(i):(t.instancesMonitored.set(n,[i]),n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(n,i){var o=t.instancesMonitored.get(n),s=[];o&&o.length&&(s=wnt([],Cnt(o)).filter(function(a){return a!==i}),t.instancesMonitored.set(n,s)),s.length===0&&(n.removeEventListener("keydown",t.toggleKeyboardMode),n.removeEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(n){var i=t.keyboardModeActive,o=n.type==="keydown";if(!(o&&(n.ctrlKey||n.metaKey||n.altKey))&&!(i&&o||!i&&!o)){t.keyboardModeActive=o;var s=n.target.ownerDocument;if(s){var a=t.instancesMonitored.get(s);a&&a.forEach(function(l){l.dispatchEvent({type:o?k.EVENT_KEYBOARD_FOCUS:k.EVENT_MOUSE_FOCUS})})}}},e.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl;var s=n.gridOptionsService.getDocument();t.addKeyboardModeEvents(s,n.gridCtrl),n.addDestroyFunc(function(){return n.unregisterGridCompController(n.gridCtrl)})})},e.prototype.unregisterGridCompController=function(n){var i=this.gridOptionsService.getDocument();t.removeKeyboardModeEvents(i,n)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,Th.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,CR.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(n,i){for(var o=n;o;){var s=this.gridOptionsService.getDomData(o,i);if(s)return!1;o=o.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(n){var i=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},e.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,i=n.rowIndex,o=n.rowPinned,s=n.column,a={rowIndex:i,rowPinned:o,column:s,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(a.isFullWidthCell=l.isFullWidth()),a},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=uS({type:k.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},e.prototype.setFocusedCell=function(n){var i=n.column,o=n.rowIndex,s=n.rowPinned,a=n.forceBrowserFocus,l=a===void 0?!1:a,u=n.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Pu(s),column:d}:null;var h=uS(uS({type:k.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(h)},e.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},e.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var i=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return i===l&&o===u&&s==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},e.prototype.focusHeaderPosition=function(n){var i=n.direction,o=n.fromTab,s=n.allowUserOverride,a=n.event,l=n.fromCell,u=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){var c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var f={backwards:i==="Before",previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d};u=h(f)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&a){var p={key:a.key,previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d,event:a};u=h(p)}}}if(!u)return!1;if(u.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()),C=g.focusHeader(u.headerRowIndex,u.column,a);return C},e.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return n?(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}})):!1},e.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,o=On(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:n})},e.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(n,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===Pu(i)},e.prototype.findFocusableElements=function(n,i,o){o===void 0&&(o=!1);var s=Zpe,a=TU;i&&(a+=", "+i),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(s)),u=Array.prototype.slice.apply(n.querySelectorAll(a));if(!u.length)return l;var c=function(d,h){return d.filter(function(f){return h.indexOf(f)===-1})};return c(l,u)},e.prototype.focusInto=function(n,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(n,null,o),a=i?On(s):s[0];return a?(a.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(n,i){if(!i)return null;var o=this.findFocusableElements(n),s=o.indexOf(i);if(s===-1)return null;for(var a=-1,l=s-1;l>=0;l--)if(o[l].classList.contains(Cp.TAB_GUARD_TOP)){a=l;break}return a<=0?null:o[a-1]},e.prototype.findNextFocusableElement=function(n,i,o){n===void 0&&(n=this.eGridDiv);var s=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),a=this.gridOptionsService.getDocument(),l=a.activeElement,u;i?u=s.findIndex(function(d){return d.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},e.prototype.isTargetUnderManagedComponent=function(n,i){if(!i)return!1;var o=n.querySelectorAll("."+cd.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1},e.prototype.findTabbableParent=function(n,i){i===void 0&&(i=5);for(var o=0;n&&mx(n)===null&&++o<=i;)n=n.parentElement;return mx(n)===null?null:n},e.prototype.focusGridView=function(n,i){if(this.gridOptionsService.is("suppressCellFocus"))return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),s==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:Pu(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:n};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(n,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(n)?!0:((i||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},e.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n==null?void 0:n.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(n,i){var o,s,a=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(s=this.columnModel.getAllDisplayedColumns())===null||s===void 0?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,Es([V("eGridDiv")],e.prototype,"eGridDiv",void 0),Es([V("columnModel")],e.prototype,"columnModel",void 0),Es([V("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Es([V("rowRenderer")],e.prototype,"rowRenderer",void 0),Es([V("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Es([V("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Es([nn("rangeService")],e.prototype,"rangeService",void 0),Es([V("navigationService")],e.prototype,"navigationService",void 0),Es([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Es([V("filterManager")],e.prototype,"filterManager",void 0),Es([nn("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Es([we],e.prototype,"init",null),e=t=Es([Me("focusService")],e),e}(ye),Snt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ec=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cme=function(r){Snt(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=t,i}return e.prototype.setComp=function(t,n,i,o){var s=this;r.prototype.setGui.call(this,n),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new pnt(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new ZU([this.column],n)),this.createManagedBean(new uL(this.column,n,this.beans)),this.createManagedBean(new cd(n,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(n),this.addManagedListener(this.column,Tn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addMouseDownListenerIfNeeded=function(t){var n=this;if(Ga()){var i=["mousedown","touchstart"],o=this.gridOptionsService.getDocument();i.forEach(function(s){n.addManagedListener(t,s,function(a){var l=o.activeElement;l!==t&&!t.contains(l)&&(t.focus(),wp.toggleKeyboardMode(a))})})}},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,t)},e.prototype.createParams=function(){var t=this,n=this.column.getColDef(),i={column:this.column,displayName:this.displayName,enableSorting:n.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){t.gridApi.showColumnMenuAfterButtonClick(t.column,o)},progressSort:function(o){t.sortController.progressSort(t.column,!!o,"uiColumnSorted")},setSort:function(o,s){t.sortController.setSortForColumn(t.column,o,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return i},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new mnt(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t),t.key===ne.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===ne.ENTER&&this.onEnterKeyDown(t)},e.prototype.onEnterKeyDown=function(t){var n=this.comp.getUserCompInstance();if(n){if(t.ctrlKey||t.metaKey)this.menuEnabled&&n.showMenu&&(t.preventDefault(),n.showMenu());else if(this.sortable){var i=t.shiftKey;this.sortController.progressSort(this.column,i,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,n={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new lL(n,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,n=function(){var i=t.column.getColDef(),o=JU.getHeaderClassesFromColDef(i,t.gridOptionsService,t.column,null),s=t.userHeaderClasses;t.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):t.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(n),n()},e.prototype.setDragSource=function(t){var n=this;if(this.dragSourceElement=t,this.removeDragSource(),!!t&&this.draggable){var i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:ho.HeaderCell,eElement:t,getDefaultIconName:function(){return i?ri.ICON_HIDE:ri.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){i=!n.gridOptionsService.is("suppressDragLeaveHidesColumns"),n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return n.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(o){var s;if(i){var a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:function(o){var s;if(i){var a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),i=n!=null&&this.userCompDetails.componentClass==t.componentClass,o=i?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var i=n.refresh(t);return i},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),n=this.gridOptionsService.is("suppressMovableColumns"),i=!n&&!t.suppressMovable&&!t.lockPosition;return!!i||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,n=function(){var i=t.column.getActualWidth();t.comp.setWidth(i+"px")};this.addManagedListener(this.column,Tn.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupMovingCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,Tn.EVENT_MOVING_CHANGED,n),n()},e.prototype.setupMenuClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,Tn.EVENT_MENU_VISIBLE_CHANGED,n),n()},e.prototype.setupSortableClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,Tn.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,n=function(){var i=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};n(),this.addRefreshFunction(n)},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,n=t.eGui,i=t.column,o=t.comp,s=t.columnModel,a=t.gridOptionsService;if(i.isSpanHeaderHeight()){var l=this.getColumnGroupPaddingInfo(),u=l.numberOfParents,c=l.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",u>0);var d=s.getColumnHeaderRowHeight();if(u===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height",d+"px");return}o.addOrRemoveCssClass("ag-header-span-total",c);var h=a.is("pivotMode"),f=h?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),p=u*f;n.style.setProperty("top",-p+"px"),n.style.setProperty("height",d+p+"px")}},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=t.getPaddingLevel()+1,i=!0;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:n,isSpanningTotal:i}},e.prototype.setupAutoHeight=function(t){var n=this,i=function(c){if(n.isAlive()){var d=cf(n.getGui()),h=d.paddingTop,f=d.paddingBottom,p=d.borderBottomWidth,g=d.borderTopWidth,C=h+f+p+g,m=t.offsetHeight,y=m+C;if(c<5){var w=n.beans.gridOptionsService.getDocument(),E=!w||!w.contains(t),P=y==0;if(E||P){n.beans.frameworkOverrides.setTimeout(function(){return i(c+1)},0);return}}n.columnModel.setColumnHeaderHeight(n.column,y)}},o=!1,s,a=function(){var c=n.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,i(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(t,function(){return i(0)})},u=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,Tn.EVENT_WIDTH_CHANGED,function(){return o&&i(0)}),this.addManagedListener(this.eventService,Tn.EVENT_SORT_CHANGED,function(){o&&n.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(a)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(xpe(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,n){n!=null?this.ariaDescriptionProperties.set(t,n):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,n=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var i=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,k.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupFilterCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,Tn.EVENT_FILTER_ACTIVE_CHANGED,n),n()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,n=function(i){return t.setActiveHeader(i.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},ec([V("columnModel")],e.prototype,"columnModel",void 0),ec([V("columnHoverService")],e.prototype,"columnHoverService",void 0),ec([V("sortController")],e.prototype,"sortController",void 0),ec([V("menuFactory")],e.prototype,"menuFactory",void 0),ec([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ec([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ec([V("gridApi")],e.prototype,"gridApi",void 0),ec([V("columnApi")],e.prototype,"columnApi",void 0),ec([ui],e.prototype,"removeDragSource",null),e}(CR),Ent=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_nt=function(r){Ent(e,r);function e(t,n,i,o){var s=r.call(this)||this;return s.eResize=n,s.comp=t,s.pinned=i,s.columnGroup=o,s}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.is("suppressAutoSize")){var i=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],s=t.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var n=this;this.calculateInitialValues();var i=null;if(t&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return n.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return n.resizeTakeFromRatios.push(s.getActualWidth()/n.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,n,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(n),s=this.resizeStartWidth+o;this.resizeColumns(s,i,t)},e.prototype.resizeLeafColumnsToFit=function(t){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),n>this.resizeStartWidth&&this.resizeColumns(n,t,!0)},e.prototype.resizeColumns=function(t,n,i){i===void 0&&(i=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var s=t-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-s})}this.columnModel.resizeColumnSets({resizeSets:o,finished:i,source:n}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,n=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=n.filter(function(i){return i.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(i){return t.resizeStartWidth+=i.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(i){return t.resizeRatios.push(i.getActualWidth()/t.resizeStartWidth)})},e.prototype.normaliseDragChange=function(t){var n=t;return this.gridOptionsService.is("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},Qb([V("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Qb([V("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Qb([V("columnModel")],e.prototype,"columnModel",void 0),Qb([we],e.prototype,"postConstruct",null),e}(ye),Rnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bnt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Tnt=function(r){Rnt(e,r);function e(t,n){var i=r.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=t,i}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,gi.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",n),i.addEventListener("visibleChanged",n),t.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",n),i.removeEventListener("visibleChanged",n)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth(t+"px"),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},bnt([we],e.prototype,"postConstruct",null),e}(ye),Pnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},dme=function(r){Pnt(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.columnGroup=t,i}return e.prototype.setComp=function(t,n,i){r.prototype.setGui.call(this,n),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new ZU(s,n)),this.createManagedBean(new uL(this.columnGroup,n,this.beans)),this.createManagedBean(new Tnt(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new _nt(t,i,o,this.columnGroup)),this.createManagedBean(new cd(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(t){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,n=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!n){for(var o=this.columnGroup,s=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===s.length;)o=o.getParent();var a=o.getColGroupDef();a&&(n=a.headerName),n||(n=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(l)},e.prototype.setupTooltip=function(){var t=this,n=this.columnGroup.getColGroupDef(),i={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n});var o=this.createManagedBean(new lL(i,this.beans));o.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,_r.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,_r.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var n=t.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.columnGroup.getUniqueId()},e.prototype.addClasses=function(){var t=this,n=this.columnGroup.getColGroupDef(),i=JU.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.columnGroup);if(this.columnGroup.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.columnGroup.getLeafColumns();o.every(function(s){return s.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!0)})},e.prototype.setupMovingCss=function(){var t=this,n=this.columnGroup.getProvidedColumnGroup(),i=n.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};i.forEach(function(s){t.addManagedListener(s,Tn.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.columnGroup)}},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&t.key===ne.ENTER){var i=this.columnGroup,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var n=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:ho.HeaderCell,eElement:t,getDefaultIconName:function(){return o?ri.ICON_HIDE:ri.ICON_NOT_ALLOWED},dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){o=!n.gridOptionsService.is("suppressDragLeaveHidesColumns"),i.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var l;if(o){var u=((l=a==null?void 0:a.columns)===null||l===void 0?void 0:l.filter(function(c){return!c.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(u,!0,"uiColumnMoved")}},onGridExit:function(a){var l;if(o){var u=((l=a==null?void 0:a.columns)===null||l===void 0?void 0:l.filter(function(c){return!c.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(u,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(s)})}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n={};t.forEach(function(o){return n[o.getId()]=o.isVisible()});var i=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){t.indexOf(o)>=0&&(i.push(o),Ns(t,o))}),t.forEach(function(o){return i.push(o)}),{columns:i,visibleState:n}},e.prototype.isSuppressMoving=function(){var t=!1;this.columnGroup.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)});var n=t||this.gridOptionsService.is("suppressMovableColumns");return n},Xb([V("columnModel")],e.prototype,"columnModel",void 0),Xb([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Xb([V("gridApi")],e.prototype,"gridApi",void 0),Xb([V("columnApi")],e.prototype,"columnApi",void 0),e}(CR),Ont=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dnt=0,PP=function(r){Ont(e,r);function e(t,n,i){var o=r.call(this)||this;o.instanceId=Dnt++,o.headerCellCtrls={},o.rowIndex=t,o.pinned=n,o.type=i;var s=i==mi.COLUMN_GROUP?"ag-header-row-column-group":i==mi.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row "+s,o}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n){n===void 0&&(n=!0),this.comp=t,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.getTransform=function(){if(Ga())return"translateZ(0)"},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return t.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return t.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return mp(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){if(this.isPrintLayout){var t=this.pinned!=null;return t?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),n=t.topOffset,i=t.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(i+"px")},e.prototype.getTopAndHeight=function(){var t=this.columnModel.getHeaderRowCount(),n=[],i=0;this.filterManager.hasFloatingFilters()&&(t++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+i,l=t-a,u=0;u<l;u++)n.push(o);n.push(s);for(var u=0;u<i;u++)n.push(this.columnModel.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=n[u];var d=n[this.rowIndex];return{topOffset:c,rowHeight:d}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var n=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,i,t)},e.prototype.getHeaderCtrls=function(){var t=this,n=this.headerCellCtrls;this.headerCellCtrls={};var i=this.getColumnsInViewport();i.forEach(function(a){if(!a.isEmptyGroup()){var l=a.getUniqueId(),u=n[l];delete n[l];var c=u&&u.getColumnGroupChild()!=a;if(c&&(t.destroyBean(u),u=void 0),u==null)switch(t.type){case mi.FLOATING_FILTER:u=t.createBean(new lme(a,t));break;case mi.COLUMN_GROUP:u=t.createBean(new dme(a,t));break;default:u=t.createBean(new cme(a,t));break}t.headerCellCtrls[l]=u}});var o=function(a){var l=t.focusService.isHeaderWrapperFocused(a);if(!l)return!1;var u=t.columnModel.isDisplayed(a.getColumnGroupChild());return u};cr(n,function(a,l){var u=o(l);u?t.headerCellCtrls[a]=l:t.destroyBean(l)});var s=Vu(this.headerCellCtrls);return s},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(this.pinned!=null)return[];var n=[],i=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=t.columnModel.getVirtualHeaderGroupRow(o,i);n=n.concat(s)}),n},e.prototype.getActualDepth=function(){return this.type==mi.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,n){var i=Vu(this.headerCellCtrls),o=i.find(function(s){return s.getColumnGroupChild()==t});return o?(o.focus(n),!0):!1},e.prototype.destroy=function(){var t=this;cr(this.headerCellCtrls,function(n,i){t.destroyBean(i)}),this.headerCellCtrls={},r.prototype.destroy.call(this)},Jb([V("columnModel")],e.prototype,"columnModel",void 0),Jb([V("focusService")],e.prototype,"focusService",void 0),Jb([V("filterManager")],e.prototype,"filterManager",void 0),Jb([we],e.prototype,"postConstruct",null),e}(ye),Ant=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xnt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Int=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},hme=function(r){Ant(e,r);function e(t){var n=r.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=t,n}return e.prototype.setComp=function(t,n){this.comp=t,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,k.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var n=new sme(this.pinned,t);this.createManagedBean(n)},e.prototype.refresh=function(t){var n=this;t===void 0&&(t=!1);var i=new Jp,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<c;d++){var h=n.createBean(new PP(i.next(),n.pinned,mi.COLUMN_GROUP));n.groupsRowCtrls.push(h)}},a=function(){var c=i.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!t||n.columnsRowCtrl.getRowIndex()!==c),h=d||n.hidden;h&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new PP(c,n.pinned,mi.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var c=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){c();return}var d=i.next();if(n.filtersRowCtrl){var h=n.filtersRowCtrl.getRowIndex()!==d;(!t||h)&&c()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new PP(d,n.pinned,mi.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=Int([],xnt(this.groupsRowCtrls));return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new QU(function(n){return t.comp.setCenterWidth(n+"px")},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var n=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var s=n?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=t.hidden!==a,u=t.gridOptionsService.is("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&n||!u&&i),h=d?s+c:s;t.comp.setPinnedContainerWidth(h+"px"),t.comp.setDisplayed(!a),l&&(t.hidden=a,t.refresh())}};this.addManagedListener(this.eventService,k.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,k.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,k.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,k.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof Tn)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(t);if(i)return i}},e.prototype.getHtmlElementForColumnHeader=function(t){var n=this.getHeaderCtrlForColumn(t);return n?n.getGui():null},e.prototype.getRowType=function(t){var n=this.getAllCtrls(),i=n[t];return i?i.getType():void 0},e.prototype.focusHeader=function(t,n,i){var o=this.getAllCtrls(),s=o[t];return s?s.focusHeader(n,i):!1},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},Kg([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Kg([V("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Kg([V("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Kg([V("columnModel")],e.prototype,"columnModel",void 0),Kg([V("focusService")],e.prototype,"focusService",void 0),Kg([V("filterManager")],e.prototype,"filterManager",void 0),e}(ye),Fnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},OP=function(r){Fnt(e,r);function e(t){var n=r.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=t,n}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return t.setDisplayed(o)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return t.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=t.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},i=this.createManagedBean(new hme(this.pinned));i.setComp(n,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",n=this.pinned=="right",i=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=n.eRowContainer;u&&n.eRowContainer.appendChild(l),o&&AU(n.eRowContainer,l,o),o=l};t.forEach(function(a){var l=a.getInstanceId(),u=i[l];delete i[l];var c=u||n.createBean(new ame(a));n.headerRowComps[l]=c,n.rowCompsList.push(c),s(c)}),Vu(i).forEach(function(a){return n.destroyRowComp(a)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,JN([_e("eCenterContainer")],e.prototype,"eCenterContainer",void 0),JN([we],e.prototype,"init",null),JN([ui],e.prototype,"destroyRowComps",null),e}(Rt),Mnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},il;(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"})(il||(il={}));var fme=function(r){Mnt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),l=t===il.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),c=u.nextRow,d=u.nextFocusColumn,h=!1;return c<0&&(c=0,d=s,h=!0),c>=a&&(c=-1),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},e.prototype.navigateHorizontally=function(t,n,i){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),s=t===il.LEFT,a=this.gridOptionsService.is("enableRtl"),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:n,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},e.prototype.focusNextHeaderRow=function(t,n,i){var o=t.headerRowIndex,s=null,a;return n==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:i})},e.prototype.scrollToColumn=function(t,n){if(n===void 0&&(n="After"),!t.getPinned()){var i;if(t instanceof gi){var o=t.getDisplayedLeafColumns();i=n==="Before"?On(o):o[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},BC([V("focusService")],e.prototype,"focusService",void 0),BC([V("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),BC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),BC([we],e.prototype,"postConstruct",null),e=BC([Me("headerNavigationService")],e),e}(ye),Lnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pme=function(r){Lnt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,i){this.comp=t,this.eGui=n,this.createManagedBean(new cd(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,n=0,i=t.getHeaderRowCount(),o,s=this.filterManager.hasFloatingFilters();s&&(i++,n=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+n,c=i-u;if(o=n*t.getFloatingFiltersHeight(),o+=c*a,o+=l,this.headerHeight!==o){this.headerHeight=o;var d=o+1+"px";this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:k.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),n=t.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.is("enableRtl"),i=t.shiftKey!==n?il.LEFT:il.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var n=null;switch(t.key){case ne.LEFT:n=il.LEFT;case ne.RIGHT:ce(n)||(n=il.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,t);break;case ne.UP:n=il.UP;case ne.DOWN:ce(n)||(n=il.DOWN),this.headerNavigationService.navigateVertically(n,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var n=this.gridOptionsService.getDocument(),i=t.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},jC([V("headerNavigationService")],e.prototype,"headerNavigationService",void 0),jC([V("focusService")],e.prototype,"focusService",void 0),jC([V("columnModel")],e.prototype,"columnModel",void 0),jC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),jC([V("filterManager")],e.prototype,"filterManager",void 0),e}(ye),Nnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gnt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gme=function(r){Nnt(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,n={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){t.getGui().style.height=s,t.getGui().style.minHeight=s}},i=this.createManagedBean(new pme);i.setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){t.createManagedBean(s),t.appendChild(s)};o(new OP("left")),o(new OP(null)),o(new OP("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',Gnt([we],e.prototype,"postConstruct",null),e}(Rt),Vnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZN=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mme=function(r){Vnt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var n=this,i={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return n.dragService.removeDragSource(i)};return o},e.prototype.onDragStart=function(t,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&n.shiftKey===!0;t.onResizeStart(i)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,n){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,n){this.resizeAmount=n.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},ZN([V("dragService")],e.prototype,"dragService",void 0),ZN([V("ctrlsService")],e.prototype,"ctrlsService",void 0),e=ZN([Me("horizontalResizeService")],e),e}(ye),knt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vme=function(r){knt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,n){var i=this;this.showPopup(t,function(o){i.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},e.prototype.showMenuAfterButtonClick=function(t,n,i){var o=this;this.showPopup(t,function(s){o.popupService.positionPopupByComponent({type:i,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:t})},i,n)},e.prototype.showPopup=function(t,n,i,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");li(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return s.trapFocusWithin(g,l)}),a.guiPromise.then(function(g){return l.appendChild(g)});var u,c=function(){var g;return(g=a.filterPromise)===null||g===void 0?void 0:g.then(function(C){var m;return(m=C==null?void 0:C.afterGuiDetached)===null||m===void 0?void 0:m.call(C)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),h=function(g){t.setMenuVisible(!1,"contextMenu");var C=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),C&&o&&df(o)){var m=s.focusService.findTabbableParent(o);m&&m.focus()}c()},f=this.localeService.getLocaleTextFunc(),p=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return n(l)},anchorToElement:d,ariaLabel:f("ariaLabelColumnMenu","Column Menu")});p&&(this.hidePopup=u=p.hideFunc),a.filterPromise.then(function(g){n(l),g.afterGuiAttached&&g.afterGuiAttached({container:i,hidePopup:u})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,n){t.key!==ne.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(n,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},WC([V("filterManager")],e.prototype,"filterManager",void 0),WC([V("popupService")],e.prototype,"popupService",void 0),WC([V("focusService")],e.prototype,"focusService",void 0),WC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),e=WC([Me("menuFactory")],e),e}(ye),Hnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zb=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$nt=function(r){Hnt(e,r);function e(t){var n=r.call(this,e.getTemplate(t.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=t,t.items&&t.items.forEach(function(i){return n.addItem(i)}),n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new cd(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var n,i,o;return(o=(i=(n=t.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},e.getTemplate=function(t){return'<div class="ag-tabs '+t+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(t?t+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(t?t+"-body":"")+`"></div>
        </div>`},e.prototype.handleKeyDown=function(t){var n=this.gridOptionsService.getDocument();switch(t.key){case ne.RIGHT:case ne.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=t.key===ne.RIGHT,o=this.gridOptionsService.is("enableRtl"),s=this.items.indexOf(this.activeItem),a=i!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;t.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case ne.UP:case ne.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var n=this,i=n.focusService,o=n.eHeader,s=n.eBody,a=n.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),o.contains(u)){i.focusInto(s,t.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(s,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(s,c)),d||(d=a.eHeaderButton)),!d&&s.contains(u)&&(d=i.findNextFocusableElement(s,!1,t.shiftKey),d||(d=a.eHeaderButton)),d&&d.focus()}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var n=document.createElement("span");li(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(t.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),ud(n,t.titleLabel);var i={tabbedItem:t,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},e.prototype.showItem=function(t){var n=this.items.find(function(i){return i.tabbedItem===t});n&&this.showItemWrapper(n)},e.prototype.showItemWrapper=function(t){var n=this,i,o,s=t.tabbedItem,a=t.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem===t){lpe(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),co(this.eBody),s.bodyPromise.then(function(l){n.eBody.appendChild(l);var u=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var c=s.getScrollableContainer&&s.getScrollableContainer()||l;n.lastScrollListener=n.addManagedListener(c,"scroll",function(){n.tabbedItemScrollMap.set(s.name,c.scrollTop)});var d=n.tabbedItemScrollMap.get(s.name);d!==void 0&&setTimeout(function(){c.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(i=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(i)),a.classList.add("ag-tab-selected"),this.activeItem=t},Zb([V("focusService")],e.prototype,"focusService",void 0),Zb([_e("eHeader")],e.prototype,"eHeader",void 0),Zb([_e("eBody")],e.prototype,"eBody",void 0),Zb([we],e.prototype,"postConstruct",null),e}(Rt);function Bnt(r){return Ht(function(){return console.warn("AG Grid: Since v29 simpleHttpRequest has been deprecated as it was only meant for use in internal AG Grid documentation examples. Please use the browser fetch api directly.")},"simpleHttpRequest"),new Gs(function(e){var t=new XMLHttpRequest;t.open("GET",r.url),t.send(),t.onreadystatechange=function(){t.readyState===4&&t.status===200&&e(JSON.parse(t.responseText))}})}var jnt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wnt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Unt=50,yme=function(r){jnt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,n){var i=this,o=this.gridOptionsService.getWindow(),s=function(){var c=new o.ResizeObserver(n);return c.observe(t),function(){return c.disconnect()}},a=function(){var c=xk(t),d=Ak(t),h=!0,f=function(){if(h){var p=xk(t),g=Ak(t),C=p!==c||g!==d;C&&(c=p,d=g,n()),i.doNextPolyfillTurn(f)}};return f(),function(){return h=!1}},l=this.gridOptionsService.is("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?s():a()},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var n=function(){var i=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(n,Unt)}},e=Wnt([Me("resizeObserverService")],e),e}(ye),znt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cme=function(r){znt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var n=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,n&&t===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,n,i){this.verifyAnimationFrameOn(i);var o={task:t,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,n){t.list.push(n),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var n=this.scrollGoingDown?1:-1;t.list.sort(function(i,o){return i.index!==o.index?n*(o.index-i.index):o.createOrder-i.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var h=d.getScrollFeature().scrollGridIfNeeded();if(!h){var f=void 0;if(i.length)this.sortTaskList(n),f=i.pop().task;else if(s.length)this.sortTaskList(o),f=s.pop().task;else if(a.length)f=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}u=new Date().getTime()-l}i.length||s.length||a.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var n=this,i=!1;return function(){if(!n.isOn()){n.getFrameworkOverrides().setTimeout(t,0);return}i||(i=!0,n.addDestroyTask(function(){i=!1,t()}))}},eT([V("ctrlsService")],e.prototype,"ctrlsService",void 0),eT([V("paginationProxy")],e.prototype,"paginationProxy",void 0),eT([we],e.prototype,"init",null),e=eT([Me("animationFrameService")],e),e}(ye),Knt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wme=function(r){Knt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,n){var i=this.getHeaderCellForColumn(t);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return n||o.push(i),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var n=this.getHeaderCellForColumn(t);return n?this.addElementsToContainerAndGetWidth([n]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var n=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return n.cloneItemIntoDummy(l,i)}),o.appendChild(i);var s=i.offsetWidth;o.removeChild(i);var a=this.getAutoSizePadding();return s+a},e.prototype.getAutoSizePadding=function(){var t=this.gridOptionsService.getNum("autoSizePadding");return t!=null&&t>=0?t:20},e.prototype.getHeaderCellForColumn=function(t){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(t);o!=null&&(n=o)}),n},e.prototype.cloneItemIntoDummy=function(t,n){var i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(h){return i.classList.contains(h)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&s.add(d)}break}l=l.parentElement}o.appendChild(i),n.appendChild(o)},UC([V("rowRenderer")],e.prototype,"rowRenderer",void 0),UC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),UC([V("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),UC([we],e.prototype,"postConstruct",null),e=UC([Me("autoWidthCalculator")],e),e}(ye),Ynt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qnt=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qnt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Xnt=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Jnt=function(r){Ynt(e,r);function e(t,n){var i=r.call(this)||this;return i.createRowCon=t,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(f){var p,g,C;i.push(f);var m;if(t.isClientSide){for(var y=f;y.expanded;)if(y.master)y=y.detailNode;else if(y.childrenAfterSort){if(y.childrenAfterSort.length===0)break;y=On(y.childrenAfterSort)}m=y.rowTop+y.rowHeight}else if(f.master)m=f.detailNode.rowTop+f.detailNode.rowHeight;else{var w=(p=f.childStore)===null||p===void 0?void 0:p.getStoreBounds();m=((g=w==null?void 0:w.heightPx)!==null&&g!==void 0?g:0)+((C=w==null?void 0:w.topPx)!==null&&C!==void 0?C:0)}var E=o+n+f.rowHeight;m<E?f.stickyRowTop=n+(m-E):f.stickyRowTop=n,n=0,i.forEach(function(P){var T=P.stickyRowTop+P.rowHeight;n<T&&(n=T)})};;){var a=o+n,l=this.rowModel.getRowIndexAtPixel(a),u=this.rowModel.getRow(l);if(u==null||u.level<0)break;for(var c=[],d=u.parent;d.level>=0;)c.push(d),d=d.parent;var h=c.reverse().find(function(f){return i.indexOf(f)<0&&f.displayed});if(h){s(h);continue}if(u.isExpandable()&&u.expanded&&u.rowTop<a){s(u);continue}break}return this.refreshNodesAndContainerHeight(i,n)},e.prototype.refreshStickyNode=function(t){for(var n=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==t&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,n){var i,o,s,a=this,l=!1,u=this.stickyRowCtrls.filter(function(C){return t.indexOf(C.getRowNode())===-1}),c=t.filter(function(C){return a.stickyRowCtrls.findIndex(function(m){return m.getRowNode()===C})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(C){d[C.getRowNode().id]=C,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(m){return m!==C})});try{for(var h=qnt(Object.values(d)),f=h.next();!f.done;f=h.next()){var p=f.value;p.getRowNode().sticky=!1}}catch(C){i={error:C}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var g=c.map(function(C){return C.sticky=!0,a.createRowCon(C,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,Xnt([],Qnt(g))),this.stickyRowCtrls.forEach(function(C){return C.setRowTop(C.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(C,m){return m.getRowNode().rowIndex-C.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},tT([V("rowModel")],e.prototype,"rowModel",void 0),tT([V("rowRenderer")],e.prototype,"rowRenderer",void 0),tT([V("ctrlsService")],e.prototype,"ctrlsService",void 0),tT([we],e.prototype,"postConstruct",null),e}(ye),Znt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_d=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Rd=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},ert=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},trt=10,Sme=function(r){Znt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){if(this.addManagedListener(this.eventService,k.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,k.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,k.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){var t=this.rowModel.getType();(t==="clientSide"||t==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Jnt(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var t=this.getKeepDetailRowsCount(),n=t??3;this.cachedRowCtrls=new nrt(n)}},e.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptionsService.getNum("keepDetailRowsCount");return ce(t)&&t>0?t:trt},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=Vu(this.rowCtrlsByRowIndex),n=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(n||i)&&t.sort(function(a,l){return a.getRowNode().rowIndex-l.getRowNode.rowIndex});var o=Vu(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||s.length>0?this.allRowCtrls=Rd(Rd(Rd([],_d(t)),_d(o)),_d(s)):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_CELL_FOCUSED,function(i){t.onCellFocusChanged(i)}),this.addManagedListener(this.eventService,k.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,k.EVENT_FLASH_CELLS,function(i){t.getAllCellCtrls().forEach(function(o){return o.onFlashCells(i)})}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})});var n=this.gridOptionsService.is("enableRangeSelection");n&&(this.addManagedListener(this.eventService,k.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,k.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n&&n.forEach(function(i){var o=function(d){t.getAllCellCtrls().forEach(function(h){h.getColumn()===i&&d(h)})},s=function(){o(function(d){return d.onLeftChanged()})},a=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",s),i.addEventListener("widthChanged",a),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",s),i.removeEventListener("widthChanged",a),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t||this.gridOptionsService.is("embedFullWidthRows"),i=n!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var n={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},e.prototype.getAllCellsForColumn=function(t){var n=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(t);o&&n.push(o)}),n},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,n){var i=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,n&&n.forEach(function(o){var s=new Th(o,i.beans,!1,!1,i.printLayout);t.push(s)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,n){var i=this;if(n===void 0&&(n=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{var o=function(s){var a=s[t.rowIndex];a&&a.getRowNode()===t&&(a.destroyFirstPass(),a.destroySecondPass(),s[t.rowIndex]=i.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var n=this,i=t!=null;if(i){t==null||t.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var n=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,s=this.gridOptionsService.getDomData(o,bh.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,Th.DOM_DATA_KEY_ROW_CTRL),l=s||a;return l?n:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var i=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var n=t.newData||t.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],n=this.getAllRowCtrls(),i=n.length,o=0;o<i;o++)for(var s=n[o].getAllCellCtrls(),a=s.length,l=0;l<a;l++)t.push(s[l]);return t},e.prototype.getAllRowCtrls=function(){var t,n,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Rd(Rd(Rd([],_d(this.topRowCtrls)),_d(this.bottomRowCtrls)),_d(i));try{for(var s=ert(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next()){var l=a.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,n,i){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(t,i)},e.prototype.flashCells=function(t){t===void 0&&(t={});var n=t.flashDelay,i=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:i})})},e.prototype.refreshCells=function(t){var n=this;t===void 0&&(t={});var i={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){if(o.refreshShouldDestroy()){var s=o.getRowCtrl();s&&s.refreshCell(o)}else o.refreshCell(i)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(o){if(o.isFullWidth()){var s=o.refreshFullWidth();s||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var n=this,i,o=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=t.columns)===null||i===void 0)&&i.length)return o;var s=[],a=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(a&&!n.isRowInMap(l.getRowNode(),a))&&l.isFullWidth()){var u=l.getFullWidthCellRenderer();u&&s.push(u)}}),Rd(Rd([],_d(s)),_d(o))},e.prototype.getCellEditorInstances=function(t){var n=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(i){var o=i.getCellEditor();o&&n.push(o)}),n},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();t.push(i)}}),t},e.prototype.mapRowNodes=function(t){if(t){var n={top:{},bottom:{},normal:{}};return t.forEach(function(i){var o=i.id;i.rowPinned==="top"?n.top[o]=i:i.rowPinned==="bottom"?n.bottom[o]=i:n.normal[o]=i}),n}},e.prototype.isRowInMap=function(t,n){var i=t.id,o=t.rowPinned;return o==="bottom"?n.bottom[i]!=null:o==="top"?n.top[i]!=null:n.normal[i]!=null},e.prototype.getRowCtrls=function(t){var n=this,i=this.mapRowNodes(t),o=this.getAllRowCtrls();return!t||!i?o:o.filter(function(s){var a=s.getRowNode();return n.isRowInMap(a,i)})},e.prototype.getCellCtrls=function(t,n){var i=this,o;ce(n)&&(o={},n.forEach(function(a){var l=i.columnModel.getGridColumn(a);ce(l)&&(o[l.getId()]=!0)}));var s=[];return this.getRowCtrls(t).forEach(function(a){a.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||s.push(l)})}),s},e.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];cr(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode().id==null;s&&t.push(i)}),this.removeRowCtrls(t);var n={};return cr(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},e.prototype.removeRowCtrls=function(t){var n=this;t.forEach(function(i){var o=n.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete n.rowCtrlsByRowIndex[i]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var n=t.afterScroll,i;this.stickyRowFeature&&XM()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(n&&!a&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},e.prototype.removeRowCompsNotToDraw=function(t){var n={};t.forEach(function(s){return n[s]=!0});var i=Object.keys(this.rowCtrlsByRowIndex),o=i.filter(function(s){return!n[s]});this.removeRowCtrls(o)},e.prototype.calculateIndexesToDraw=function(t){var n=this,i=Jpe(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var h=d.getRowNode().rowIndex;h!=null&&(h<n.firstRenderedRow||h>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&i.push(h)};cr(this.rowCtrlsByRowIndex,o),cr(t,o),i.sort(function(c,d){return c-d});for(var s=[],a=0;a<i.length;a++){var l=i[a],u=this.paginationProxy.getRow(l);u&&!u.sticky&&s.push(l)}return s},e.prototype.recycleRows=function(t,n,i){var o=this;n===void 0&&(n=!1),i===void 0&&(i=!1);var s=this.calculateIndexesToDraw(t);if(this.removeRowCompsNotToDraw(s),this.printLayout&&(n=!1),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,n,i);ce(u)}),t){var a=i&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,n)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var n={type:k.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(n)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),i=this.pinningLeft!==t||n!==this.pinningRight;i&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var n=this,i=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(i!=null&&!n.isRowInMap(s,i))})},e.prototype.createOrUpdateRowCtrl=function(t,n,i,o){var s,a=this.rowCtrlsByRowIndex[t];a||(s=this.paginationProxy.getRow(t),ce(s)&&ce(n)&&n[s.id]&&s.alreadyRendered&&(a=n[s.id],n[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(t)),ce(s))a=this.createRowCon(s,i,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=a,a},e.prototype.destroyRowCtrls=function(t,n){var i=this,o=[];cr(t,function(s,a){if(a){if(i.cachedRowCtrls&&a.isCacheable()){i.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(),n?(i.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete i.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),n&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),spe(o))},e.prototype.getRowBuffer=function(){var t=this.gridOptionsService.getNum("rowBuffer");return typeof t=="number"?t<0&&(Ht(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return t*n},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,n;if(!this.paginationProxy.isRowsToRender())t=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.is("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,f=d.pageLastPixel,p=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),C=g.top,m=g.bottom;s?(l=h+p,u=f+p):(l=Math.max(C+c-i,h)+p,u=Math.min(m+c+i,f)+p),this.firstVisibleVPixel=Math.max(C+c,h)+p,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var y=this.paginationProxy.getRowIndexAtPixel(l),w=this.paginationProxy.getRowIndexAtPixel(u),E=this.paginationProxy.getPageFirstRow(),P=this.paginationProxy.getPageLastRow();y<E&&(y=E),w>P&&(w=P),t=y,n=w}var T=this.gridOptionsService.isDomLayout("normal"),R=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),_=Math.max(this.getRowBuffer(),500);T&&!R&&n-t>_&&(n=t+_);var b=t!==this.firstRenderedRow,D=n!==this.lastRenderedRow;if(b||D){this.firstRenderedRow=t,this.lastRenderedRow=n;var M={type:k.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:n};this.eventService.dispatchEvent(M)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:k.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(n)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,n){var i=this.paginationProxy.ensureRowHeightsValid(t,n,-1,-1);return i&&this.updateContainerHeights(),i},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var n=!1,i=!0,o=t.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=t.isEditing(),l=o.detail,u=s||a||l;if(!u)return n;var c=this.paginationProxy.isRowPresent(o);return c?i:n},e.prototype.createRowCon=function(t,n,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var s=this.gridOptionsService.is("suppressAnimationFrame"),a=i&&!s&&!this.printLayout,l=new Th(t,this.beans,n,a,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(n){return t[n].getRowNode()})},e.prototype.getRowByPosition=function(t){var n,i=t.rowIndex;switch(t.rowPinned){case"top":n=this.topRowCtrls[i];break;case"bottom":n=this.bottomRowCtrls[i];break;default:n=this.rowCtrlsByRowIndex[i],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return n},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,n){var i=t==null||n==null;if(i)return!1;var o=t>this.lastRenderedRow,s=n<this.firstRenderedRow,a=!s&&!o;return a},qa([V("animationFrameService")],e.prototype,"animationFrameService",void 0),qa([V("paginationProxy")],e.prototype,"paginationProxy",void 0),qa([V("columnModel")],e.prototype,"columnModel",void 0),qa([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),qa([V("rowModel")],e.prototype,"rowModel",void 0),qa([V("focusService")],e.prototype,"focusService",void 0),qa([V("beans")],e.prototype,"beans",void 0),qa([V("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),qa([V("ctrlsService")],e.prototype,"ctrlsService",void 0),qa([we],e.prototype,"postConstruct",null),e=qa([Me("rowRenderer")],e),e}(ye),nrt=function(){function r(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return r.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},r.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var n=t.getRowNode()!=e;return n?null:t},r.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Ns(this.entriesList,e)},r.prototype.getEntries=function(){return this.entriesList},r}(),rrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Eme=function(r){rrt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.formatValue=function(t,n,i,o,s){s===void 0&&(s=!0);var a=null,l,u=t.getColDef();if(o?l=o:s&&(l=u.valueFormatter),l){var c={value:i,node:n,data:n?n.data:null,colDef:u,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof l=="function"?a=l(c):a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return a==null&&Array.isArray(i)&&(a=i.join(", ")),a},Gq([V("expressionService")],e.prototype,"expressionService",void 0),e=Gq([Me("valueFormatterService")],e),e}(ye),irt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_me=function(r){irt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},e.prototype.isEmpty=function(t){var n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return ks(n)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,n){var i=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(ks(i))return 0;for(var o=0;o<i.length;o++){var s=i[o],a=s.rowTop+s.rowHeight-1;if(a>=t)return o}return i.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var n={type:k.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var n={type:k.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.createNodesFromData=function(t,n){var i=this,o=[];if(t){var s=0;t.forEach(function(a,l){var u=new xt(i.beans);u.data=a;var c=n?xt.ID_PREFIX_TOP_PINNED:xt.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=n?"top":"bottom",u.setRowTop(s),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){ks(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){ks(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var n=On(t);return n.rowTop+n.rowHeight},eG([V("beans")],e.prototype,"beans",void 0),eG([we],e.prototype,"init",null),e=eG([Me("pinnedRowModel")],e),e}(ye),$k;(function(r){r.Applied="Applied",r.StoreNotFound="StoreNotFound",r.StoreLoading="StoreLoading",r.StoreWaitingToLoad="StoreWaitingToLoad",r.StoreLoadingFailed="StoreLoadingFailed",r.StoreWrongType="StoreWrongType",r.Cancelled="Cancelled"})($k||($k={}));var cL=function(){function r(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},r.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var o=e.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(o)}t(e)},r.prototype.forEachChangedNodeDepthFirst=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},r.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},r.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n},r.prototype.populateColumnsMap=function(e,t){var n=this;if(!(!this.keepingColumns||!t))for(var i=e;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(function(o){return n.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},r.prototype.linkPathItems=function(e,t){for(var n=e,i=0;i<t;i++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},r.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},r.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},r.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id],i=t.filter(function(o){return n[o.getId()]});return i},r.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id],i=t.filter(function(o){return!n[o.getId()]});return i},r}(),ort=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tx=function(r){ort(e,r);function e(t){var n=r.call(this)||this;return n.state=e.STATE_WAITING_TO_LOAD,n.version=0,n.id=t,n}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var n=this.isRequestMostRecentAndLive(t);n&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,n){this.successCommon(t,n)},e.prototype.pageLoaded=function(t,n,i){this.successCommon(t,{rowData:n,rowCount:i})},e.prototype.isRequestMostRecentAndLive=function(t){var n=t===this.version,i=this.isAlive();return n&&i},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(t);i&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(ye),srt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},art=function(r,e){return function(t,n){e(t,n,r)}},Rme=function(r){srt(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.getNum("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=st.debounce(this.performCheckBlocksToLoad.bind(this),n))},e.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},e.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(Tx.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(n){st.removeFromArray(this.blocks,n)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===Tx.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var i={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson(),a=s.id,l=s.state;i[a]=l}),i},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",nT([V("rowModel")],e.prototype,"rowModel",void 0),nT([we],e.prototype,"postConstruct",null),nT([art(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),e=t=nT([Me("rowNodeBlockLoader")],e),e}(ye),lrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bme=function(r){lrt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,k.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,n,i,o){var s=this.rowModel.ensureRowHeightsValid(t,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.is("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var n={type:k.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},e.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var t={type:k.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var n={type:k.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(n)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return ut(this.topRowBounds)||ut(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:n}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var n=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return n},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var n=this.getPageFirstRow(),i=this.getPageLastRow(),o=n;o<=i;o++){var s=this.getRow(o);s&&t(s)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var n=this.rowModel.getRowBounds(t);return n.rowIndex=t,n},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var n=this.getPageForIndex(t);this.goToPage(n)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var n=this.getPageForIndex(t.rowIndex);return n===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),n=Math.floor(t/this.pageSize);this.goToPage(n)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ce(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:k.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},tG([V("rowModel")],e.prototype,"rowModel",void 0),tG([we],e.prototype,"postConstruct",null),e=tG([Me("paginationProxy")],e),e}(ye),urt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Tme=function(r){urt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,n,i,o){this.processClassRules(t.cellClassRules,n,i,o),this.processStaticCellClasses(t,n,i)},e.prototype.processClassRules=function(t,n,i,o){if(t!=null){for(var s=Object.keys(t),a={},l={},u=function(h){var f=s[h],p=t[f],g;typeof p=="string"?g=c.expressionService.evaluate(p,n):typeof p=="function"&&(g=p(n)),f.split(" ").forEach(function(C){C==null||C.trim()==""||(g?a[C]=!0:l[C]=!0)})},c=this,d=0;d<s.length;d++)u(d);o&&Object.keys(l).forEach(o),Object.keys(a).forEach(i)}},e.prototype.getStaticCellClasses=function(t,n){var i=t.cellClass;if(!i)return[];var o;if(typeof i=="function"){var s=i;o=s(n)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,n,i){var o=this.getStaticCellClasses(t,n);o.forEach(function(s){i(s)})},Vq([V("expressionService")],e.prototype,"expressionService",void 0),e=Vq([Me("stylingService")],e),e}(ye),crt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pme=function(r){crt(e,r);function e(t){return r.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,n){return r.prototype.setValue.call(this,t,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(yR),drt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ome=function(r){drt(e,r);function e(t){return r.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,n){var i=r.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(sh),hrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dme=function(r){hrt(e,r);function e(t){return r.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Ga();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||n||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var n,i=t instanceof Date?(n=Da(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.min===i?this:(this.min=i,Ou(this.eInput,"min",i),this)},e.prototype.setMax=function(t){var n,i=t instanceof Date?(n=Da(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.max===i?this:(this.max=i,Ou(this.eInput,"max",i),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,Ou(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=es(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,n){this.setValue(Da(t??null,!1),n)},e}(hf),frt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ame=function(r){frt(e,r);function e(t){return r.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var t=this.config,n=t.min,i=t.max,o=t.step;n!=null&&this.setMinValue(n),i!=null&&this.setMaxValue(i),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){var i=n.target.value;t.setValue(i)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,n){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var i=r.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},e}(sh),prt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},grt=function(r){prt(e,r);function e(t,n){var i=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=t,i.wrapperEl=n,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},e.prototype.setState=function(t){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(t));var i=this.populateWithRenderer(t,n);i||this.populateWithoutRenderer(t,n),this.value=t},e.prototype.highlightString=function(t){var n=this.parsedValue;if(!(this.params.cellRenderer||!ce(n)))if(ce(t)){var i=n==null?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){var o=i+t.length,s=Yr(n.slice(0,i),!0),a=Yr(n.slice(i,o),!0),l=Yr(n.slice(o));this.renderValueWithoutRenderer(s+'<span class="ag-rich-select-row-text-highlight">'+a+"</span>"+l)}}else this.renderValueWithoutRenderer(n)},e.prototype.updateHighlighted=function(t){var n,i=this.getGui(),o="ag-rich-select-row-"+this.getCompId();if((n=i.parentElement)===null||n===void 0||n.setAttribute("id",o),t){var s=this.getParentComponent().getAriaElement();vU(s,o),this.wrapperEl.setAttribute("data-active-option",o)}Xp(i.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,n){var i=this.gridOptionsService.getDocument(),o=this.getGui(),s=i.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=Yr(ce(n)?n:t,!0);this.parsedValue=ce(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},e.prototype.renderValueWithoutRenderer=function(t){var n=this.getGui().querySelector("span");n&&(n.innerHTML=ce(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,n){var i=this,o,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:n,api:this.gridOptionsService.api})),s&&(o=s.newAgStackInstance()),o&&MU(o,this.getGui()),o?(o.then(function(a){i.addDestroyFunc(function(){i.getContext().destroyBean(a)})}),!0):!1},e.prototype.onMouseUp=function(){var t=this.getParentComponent(),n={type:k.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(n)},kq([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),kq([we],e.prototype,"postConstruct",null),e}(Rt),mrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vrt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},yrt=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},wR=function(r){mrt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){n.forEach(function(s){return o!=null?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new ume({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var n=document.createElement("div"),i=t==="top"?Cp.TAB_GUARD_TOP:Cp.TAB_GUARD_BOTTOM;return n.classList.add(Cp.TAB_GUARD,i),li(n,"presentation"),n},e.prototype.addTabGuards=function(t,n){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",n)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];co(this.getFocusableElement()),this.addTabGuards.apply(this,yrt([],vrt(t)))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,n){vR(t)||(t=t.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",t):r.prototype.appendChild.call(this,t,n)},e}(Rt),Crt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},e2=function(r){Crt(e,r);function e(t){var n=r.call(this,e.getTemplate((t==null?void 0:t.cssIdentifier)||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var i=t||{},o=i.cssIdentifier,s=o===void 0?"default":o,a=i.ariaRole,l=a===void 0?"listbox":a,u=i.listName;return n.cssIdentifier=s,n.ariaRole=l,n.listName=u,n}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)},focusInnerElement:function(n){return t.focusInnerElement(n)},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,k.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),n=t("ariaDefaultListName",this.listName||"List"),i=this.eContainer;li(i,this.ariaRole),ud(i,n)},e.prototype.addResizeObserver=function(){var t=this,n=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(i)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var n=t.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Fpe(n)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case ne.UP:case ne.DOWN:this.navigate(t.key===ne.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(ku(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(t?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var n=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(n.isAlive()){var i=n.renderedRows.get(t);i&&i.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var n=this.renderedRows.get(t);return n&&n.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(n,i){return t(n.rowComponent,i)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'+t+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+t+`-virtual-list-container" ref="eContainer"></div>
            </div>`},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,n){n===void 0&&(n=!0);var i=this.model.getRowCount();if(typeof t!="number"||t<0||t>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,c=l+u,d=n?0:this.rowHeight,h=l>o+d,f=c<s-d;if(h)return a.scrollTop=o,!0;if(f){var p=s-u;return a.scrollTop=p,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var n=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",dU(function(){return n.eContainer.clientHeight>=i*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(t)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(n,i){return t.removeRow(i)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),i=n.scrollTop,o=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,t)}},e.prototype.ensureRowsRendered=function(t,n,i){var o=this;this.renderedRows.forEach(function(a,l){(l<t||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var s=t;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},e.prototype.insertRow=function(t){var n=this,i=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),li(o,this.ariaRole==="tree"?"treeitem":"option"),yU(o,this.model.getRowCount()),CU(o,t+1),o.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var s=this.model.isRowSelected(t);Xp(o,!!s),Upe(o,s)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=t}),o.appendChild(a.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:a,eDiv:o,value:i})},e.prototype.removeRow=function(t){var n=this.renderedRows.get(t);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,n=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var s,a;if(o>=n)t.removeRow(o);else{var l=t.model.getRow(o);!((a=(s=t.model).areRowsEqual)===null||a===void 0)&&a.call(s,i.value,l)?t.componentUpdater(l,i.rowComponent):t.removeRow(o)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),r.prototype.destroy.call(this))},rT([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),rT([V("animationFrameService")],e.prototype,"animationFrameService",void 0),rT([_e("eContainer")],e.prototype,"eContainer",void 0),rT([we],e.prototype,"postConstruct",null),e}(wR),wrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Px=function(){return Px=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Px.apply(this,arguments)},Hq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Srt=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,xme=function(r){wrt(e,r);function e(t){var n,i,o=r.call(this,Px(Px({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(n=t==null?void 0:t.template)!==null&&n!==void 0?n:Srt,modalPicker:!1},t),{maxPickerHeight:(i=t==null?void 0:t.maxPickerHeight)!==null&&i!==void 0?i:"calc(var(--ag-row-height) * 6.5)"}))||this;o.searchString="",o.highlightedItem=-1,o.lastRowHovered=-1,o.searchStringCreator=null;var s=t||{},a=s.cellRowHeight,l=s.value,u=s.valueList,c=s.searchStringCreator;return a!=null&&(o.cellRowHeight=a),l!==void 0&&(o.value=l),u!=null&&(o.values=u),c&&(o.searchStringCreator=c),o}return e.prototype.postConstruct=function(){var t=this,n;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var i=this.config,o=i.allowTyping,s=i.placeholder;o?(this.eInput.setAutoComplete(!1).setInputPlaceholder(s),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=(n=this.gridOptionsService.getNum("tabIndex"))!==null&&n!==void 0?n:0;var a=this.config.searchDebounceDelay,l=a===void 0?300:a;this.clearSearchString=ul(this.clearSearchString,l),this.renderSelectedValue(),o&&(this.eInput.onValueChange(function(u){return t.searchTextFromString(u)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),i=t.createElement("div");i.classList.add("ag-loading-text"),i.innerText=n("loadingOoo","Loading..."),this.eLoading=i},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new e2({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,k.EVENT_FIELD_PICKER_VALUE_SELECTED,function(u){t.onListValueSelected(u.value,u.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var i=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(u){return u.preventDefault()}),i.classList.add("ag-rich-select-list");var s="ag-rich-select-list-"+this.listComponent.getCompId();o.setAttribute("id",s);var a=this.localeService.getLocaleTextFunc(),l=a(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);ud(o,l),zpe(this.eWrapper,o)},e.prototype.renderSelectedValue=function(){var t=this,n=this,i=n.value,o=n.eDisplayField,s=n.config,a=this.config.valueFormatter?this.config.valueFormatter(i):i;if(s.allowTyping){this.eInput.setValue(a);return}var l;s.cellRenderer&&(l=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:a,api:this.gridOptionsService.api}));var u;if(l&&(u=l.newAgStackInstance()),u)co(o),MU(u,o),u.then(function(d){t.addDestroyFunc(function(){return t.getContext().destroyBean(d)})});else if(ce(this.value))o.innerText=a,o.classList.remove("ag-display-as-placeholder");else{var c=s.placeholder;ce(c)?(o.innerHTML=""+Yr(c),o.classList.add("ag-display-as-placeholder")):co(o)}},e.prototype.getCurrentValueIndex=function(){var t=this,n=t.currentList,i=t.value;if(i==null)return-1;for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1},e.prototype.highlightFilterMatch=function(){var t=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(i,o){i.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var n=this,i;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,s){var a=t===-1?!1:n.highlightedItem===s;o.updateHighlighted(a)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var n=t.valueList,i=t.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]}}),i&&(this.values?this.listComponent.refresh():(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker()},e.prototype.showCurrentValueInPicker=function(){var t,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(t){this.eInput&&this.eInput.getFocusableElement().focus()},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var n=t.key;if(n===ne.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!eL(t))return;t.preventDefault(),this.searchTextFromCharacter(n)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var n=this.config.valueFormatter,i=n===void 0?function(s){return s}:n,o;return typeof t[0]=="number"||typeof t[0]=="string"?o=t.map(function(s){return i(s)}):typeof t[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(t)),o},e.prototype.getSuggestionsAndFilteredValues=function(t,n){var i=this,o=[],s=[];if(!t.length)return{suggestions:o,filteredValues:s};var a=this.config,l=a.allowTyping,u=a.searchType,c=u===void 0?"fuzzy":u,d=a.filterList,h=d&&l;if(c==="fuzzy"){var f=gR(this.searchString,n,!0);o=f.values;var p=f.indices;if(h&&p.length)for(var g=0;g<p.length;g++)s.push(this.values[p[g]])}else o=n.filter(function(C,m){var y=C.toLocaleLowerCase(),w=i.searchString.toLocaleLowerCase(),E=c==="match"?y.startsWith(w):y.indexOf(w)!==-1;return h&&E&&s.push(i.values[m]),E});return{suggestions:o,filteredValues:s}},e.prototype.filterListModel=function(t){var n=this.config,i=n.allowTyping,o=n.filterList;!i||!o||this.setValueList({valueList:t,refresh:!0})},e.prototype.runSearch=function(){var t,n,i,o=this.values,s=this.buildSearchStrings(o);if(!s){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,s),l=a.suggestions,u=a.filteredValues,c=this.config,d=c.allowTyping,h=c.filterList,f=c.highlightMatch,p=c.searchType,g=p===void 0?"fuzzy":p,C=u.length,m=!!(d&&h&&this.searchString!=="");if(m&&this.filterListModel(m?u:o),l.length){var y=m?0:s.indexOf(l[0]);this.selectListItem(y),f&&g!=="fuzzy"&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!m||C)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(m){this.getAriaElement().removeAttribute("data-active-option");var w=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();w&&vU(w,null)}var E=(i=this.listComponent)===null||i===void 0?void 0:i.getGui();E==null||E.classList.toggle("ag-hidden",m&&!C)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,n,i){if(!(!this.isPickerDisplayed||!this.listComponent||t<0||t>=this.currentList.length)){var o=this.listComponent.ensureIndexVisible(t,!n);o&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,n,i){var o=this.currentList.indexOf(t);return o===-1?this:(this.value=t,i||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,t,n))},e.prototype.createRowComponent=function(t){var n=new grt(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(t);var i=this.config,o=i.highlightMatch,s=i.searchType,a=s===void 0?"fuzzy":s;return o&&a!=="fuzzy"&&n.highlightString(this.searchString),n},e.prototype.getRowForMouseEvent=function(t){var n=this.listComponent;if(!n)return-1;var i=n==null?void 0:n.getGui(),o=i.getBoundingClientRect(),s=n.getScrollTop(),a=t.clientY-o.top+s;return Math.floor(a/n.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var n=this.getRowForMouseEvent(t);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0,!0))}},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var i=n===ne.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,s=i?1:-1,a=o===-1?0:o+s;this.selectListItem(a,!1,!0)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,n){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,n),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,n){var i={type:k.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:t};this.dispatchEvent(i)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var n=t.key,i=this.config.allowTyping;switch(n){case ne.LEFT:case ne.RIGHT:case ne.PAGE_HOME:case ne.PAGE_END:i||t.preventDefault();break;case ne.PAGE_UP:case ne.PAGE_DOWN:t.preventDefault();break;case ne.DOWN:case ne.UP:this.onNavigationKeyDown(t,n);break;case ne.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),ku(t),this.hidePicker());break;case ne.ENTER:this.onEnterKeyDown(t);break;case ne.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},Hq([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Hq([_e("eInput")],e.prototype,"eInput",void 0),e}(HU),Ert=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ime=function(r){Ert(e,r);function e(t){var n=r.call(this,t,e.TEMPLATE)||this;return n.labelAlignment="top",n}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var n=this,i=k.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:k.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,iT([_e("eLabel")],e.prototype,"eLabel",void 0),iT([_e("eSlider")],e.prototype,"eSlider",void 0),iT([_e("eText")],e.prototype,"eText",void 0),iT([we],e.prototype,"init",null),e}(VU),_rt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fme=function(r){_rt(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,e.getTemplate(t))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=t.title,o=t.enabled,s=t.items,a=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return n.title=i,n.cssIdentifier=t.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=t.alignItems||"center",a!=null&&(n.suppressEnabledCheckbox=a),l!=null&&(n.suppressOpenCloseIcons=l),n}return e.getTemplate=function(t){var n=t.cssIdentifier||"default",i=t.direction||"vertical";return'<div class="ag-group ag-'+n+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+n+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+n+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+n+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+n+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+n+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+i+" ag-"+n+`-group-container"></div>
        </div>`},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(ma("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ma("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case ne.ENTER:case ne.SPACE:n.preventDefault(),t.toggleGroupExpand();break;case ne.RIGHT:case ne.LEFT:n.preventDefault(),t.toggleGroupExpand(n.key===ne.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||cl(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Zt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Zt(this.eGroupOpenedIcon,t&&this.expanded),Zt(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var n="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(n),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Zt(this.eContainer,!0),this):(t=t??!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),Zt(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var n=this;t.forEach(function(i){return n.addItem(i)})},e.prototype.addItem=function(t){var n=this.eContainer,i=t instanceof Rt?t.getGui():t;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),n.appendChild(i),this.items.push(i)},e.prototype.hideItem=function(t,n){var i=this.items[n];Zt(i,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,n){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),n||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),t(i)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",bd([_e("eTitleBar")],e.prototype,"eTitleBar",void 0),bd([_e("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),bd([_e("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),bd([_e("eToolbar")],e.prototype,"eToolbar",void 0),bd([_e("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),bd([_e("eTitle")],e.prototype,"eTitle",void 0),bd([_e("eContainer")],e.prototype,"eContainer",void 0),bd([we],e.prototype,"postConstruct",null),e}(Rt),Rrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ox=function(){return Ox=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ox.apply(this,arguments)},$q=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Mme=function(r){Rrt(e,r);function e(t){t===void 0&&(t=1);var n=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=t,n.menuItems=[],n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.onTabKeyDown=function(t){var n=this.getParentComponent(),i=n&&n.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case ne.UP:case ne.RIGHT:case ne.DOWN:case ne.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case ne.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var n=this;t!=null&&t.forEach(function(i){i==="separator"?n.addSeparator():typeof i=="string"?console.warn("AG Grid: unrecognised menu item "+i):n.addItem(i)})},e.prototype.addItem=function(t){var n=this,i=this.createManagedBean(new pm(Ox(Ox({},t),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),Gpe(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,pm.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(i,pm.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(n){return!n.isDisabled()})[0];t&&t.activate()},e.prototype.addSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(Fi(t))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof pm))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case ne.UP:case ne.DOWN:var n=this.findNextItem(t===ne.UP);n&&n!==this.activeMenuItem&&n.activate();return}var i=this.gridOptionsService.is("enableRtl")?ne.RIGHT:ne.LEFT;t===i?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var n=this.getParentComponent();n&&n instanceof pm&&(t&&t.preventDefault(),n.closeSubMenu(),n.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return t?On(n):n[0];t&&n.reverse();for(var i,o=!1,s=0;s<n.length;s++){var a=n[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}i=a;break}return i||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},$q([V("focusService")],e.prototype,"focusService",void 0),$q([we],e.prototype,"postConstruct",null),e}(wR),brt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Trt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Lme=function(r){brt(e,r);function e(t){var n=r.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.handleKeyDown=function(t){t.key===ne.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},Trt([we],e.prototype,"postConstruct",null),e}(wR),Prt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pm=function(r){Prt(e,r);function e(t){var n=r.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),mU(n,!0)):(this.addGuiEventListener("click",function(i){return t.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===ne.ENTER||i.key===ne.SPACE)&&(i.preventDefault(),t.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return t.addCssClass(i)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){var i=Fi('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=Ipe(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new Mme(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),i.appendChild(l.getGui()),this.addManagedListener(l,e.EVENT_MENU_ITEM_SELECTED,function(y){return n.dispatchEvent(y)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(l)},t&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new Lme(u));c.setParentComponent(this);var d=c.getGui(),h="mouseenter",f=function(){return n.cancelDeactivate()};d.addEventListener(h,f),o=function(){return d.removeEventListener(h,f)},i.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var p=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:p,ePopup:i}),C=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:g,anchorToElement:p,ariaLabel:C("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,cl(p,!0),this.hideSubMenu=function(){m&&m.hideFunc(),n.subMenuIsOpen=!1,cl(p,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,cl(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var t=Fi('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(Lr("check",this.gridOptionsService)):this.params.icon&&(vR(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var t=Fi('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new tL(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var t=Fi('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var t=Fi('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";cl(n,!1),t.appendChild(Lr(i,this.gridOptionsService))}n.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?n+"-"+t:n},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,Bq([V("popupService")],e.prototype,"popupService",void 0),Bq([we],e.prototype,"init",null),e}(Rt),Ort=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},t2=function(r){Ort(e,r);function e(t){var n=r.call(this,e.getTemplate(t))||this;return n.closable=!0,n.config=t,n}return e.getTemplate=function(t){var n=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+n+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+n+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+n+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+n+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+n+`-panel-content-wrapper"></div>
        </div>`},e.prototype.postConstruct=function(){var t=this,n=this.config,i=n.component,o=n.closable,s=n.hideTitleBar,a=n.title,l=n.minWidth,u=l===void 0?250:l,c=n.width,d=n.minHeight,h=d===void 0?250:d,f=n.height,p=n.centered,g=n.popup,C=n.x,m=n.y;this.positionableFeature=new GU(this.getGui(),{minWidth:u,width:c,minHeight:h,height:f,centered:p,x:C,y:m,popup:g,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();i&&this.setBodyComponent(i),s?Zt(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(w){var E=t.gridOptionsService.getDocument();if(y.contains(w.relatedTarget)||y.contains(E.activeElement)||t.eTitleBarButtons.contains(w.target)){w.preventDefault();return}var P=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");P&&P.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new Rt(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=Lr("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,n){var i=this.eTitleBarButtons,o=i.children,s=o.length;n==null&&(n=s),n=Math.max(0,Math.min(n,s)),t.addCssClass("ag-panel-title-bar-button");var a=t.getGui();n===0?i.insertAdjacentElement("afterbegin",a):n===s?i.insertAdjacentElement("beforeend",a):o[n-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return mR(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return JM(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),r.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',zC([_e("eContentWrapper")],e.prototype,"eContentWrapper",void 0),zC([_e("eTitleBar")],e.prototype,"eTitleBar",void 0),zC([_e("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),zC([_e("eTitle")],e.prototype,"eTitle",void 0),zC([we],e.prototype,"postConstruct",null),e}(Rt),Drt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dx=function(){return Dx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Dx.apply(this,arguments)},Art=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nme=function(r){Drt(e,r);function e(t){var n=r.call(this,Dx(Dx({},t),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=this.config,o=i.movable,s=i.resizable,a=i.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||t.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},e.prototype.renderComponent=function(){var t=this.getGui(),n=this.config,i=n.alwaysOnTop,o=n.modal,s=n.title,a=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:s||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});u&&(this.close=u.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,o=n.y,s=n.width,a=n.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Zt(this.maximizeIcon,!this.isMaximized),Zt(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var n=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||t===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new Rt('<div class="ag-dialog-button"></span>')),n=t.getGui();return this.maximizeIcon=Lr("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Lr("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},Art([V("popupService")],e.prototype,"popupService",void 0),e}(t2),xrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ax=function(){return Ax=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ax.apply(this,arguments)},KC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Irt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Frt=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Hd;(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"})(Hd||(Hd={}));var Mrt=0,Gme=function(r){xrt(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.popupList=[],n}t=e,e.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(i){n.gridCtrl=i.gridCtrl,n.addManagedListener(n.gridCtrl,k.EVENT_KEYBOARD_FOCUS,function(){n.popupList.forEach(function(o){return o.element.classList.add(wp.AG_KEYBOARD_FOCUS)})}),n.addManagedListener(n.gridCtrl,k.EVENT_MOUSE_FOCUS,function(){n.popupList.forEach(function(o){return o.element.classList.remove(wp.AG_KEYBOARD_FOCUS)})})})},e.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(n){var i=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);if(s!==-1){var a=this.popupList[s];a.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,Hd.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth=d+"px";var h=u.right-u.left,f=h-d,p;this.gridOptionsService.is("enableRtl")?(p=C(),p<0&&(p=g(),this.setAlignedStyles(o,"left")),p>f&&(p=0,this.setAlignedStyles(o,"right"))):(p=g(),p>f&&(p=C(),this.setAlignedStyles(o,"right")),p<0&&(p=0,this.setAlignedStyles(o,"left"))),o.style.left=p+"px",o.style.top=c+"px";function g(){return l.right-u.left-2}function C(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},e.prototype.calculatePointerAlign=function(n){var i=this.getParentRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},e.prototype.positionPopupByComponent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.keepWithinBounds,u=n.eventSource,c=n.alignSide,d=c===void 0?"left":c,h=n.position,f=h===void 0?"over":h,p=n.column,g=n.rowNode,C=n.type,m=u.getBoundingClientRect(),y=this.getParentRect(),w=this.getPopupIndex(o);if(w!==-1){var E=this.popupList[w];E.alignedToElement=u}var P=function(){var T=m.left-y.left;d==="right"&&(T-=o.offsetWidth-m.width);var R;if(f==="over")R=m.top-y.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var _=i.shouldRenderUnderOrAbove(o,m,y,n.nudgeY||0);_==="under"?R=m.top-y.top+m.height:R=m.top-o.offsetHeight-(a||0)*2-y.top}return{x:T,y:R}};this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:l,updatePosition:P,postProcessCallback:function(){return i.callPostProcessPopup(C,o,u,null,p,g)}})},e.prototype.shouldRenderUnderOrAbove=function(n,i,o,s){var a=o.bottom-i.bottom,l=i.top-o.top,u=n.offsetHeight+s;return a>u?"under":l>u||l>a?"above":"under"},e.prototype.setAlignedStyles=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o],a=s.alignedToElement;if(a){var l=["right","left","over","above","under"];l.forEach(function(u){a.classList.remove("ag-has-popup-positioned-"+u),n.classList.remove("ag-popup-positioned-"+u)}),i&&(a.classList.add("ag-has-popup-positioned-"+i),n.classList.add("ag-popup-positioned-"+i))}}},e.prototype.callPostProcessPopup=function(n,i,o,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:a,rowNode:l,ePopup:i,type:n,eventSource:o,mouseEvent:s};u(c)}},e.prototype.positionPopup=function(n){var i=this,o=n.ePopup,s=n.keepWithinBounds,a=n.nudgeX,l=n.nudgeY,u=n.skipObserver,c=n.updatePosition,d={width:0,height:0},h=function(p){p===void 0&&(p=!1);var g=c(),C=g.x,m=g.y;p&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,a&&(C+=a),l&&(m+=l),s&&(C=i.keepXYWithinBounds(o,C,Hd.horizontal),m=i.keepXYWithinBounds(o,m,Hd.vertical)),o.style.left=C+"px",o.style.top=m+"px",n.postProcessCallback&&n.postProcessCallback())};if(h(),!u){var f=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return f()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===n.body?i=n.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),DU(i)},e.prototype.keepXYWithinBounds=function(n,i,o){var s=o===Hd.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,f=this.getPopupParent(),p=f.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),C=f===d.body,m=n[u],y=s?OU:wE,w=C?y(h)+h[c]:f[a];C&&(w-=Math.abs(g[l]-p[l]));var E=w-m;return Math.min(Math.max(i,0),Math.abs(E))},e.prototype.addPopup=function(n){var i=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,a=n.alwaysOnTop,l=n.positionCallback,u=n.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,s,!!a),f=this.addEventListenersToPopup(Ax(Ax({},n),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,f,u),{hideFunc:f}},e.prototype.initialisePopupPosition=function(n){var i=this.getPopupParent(),o=i.getBoundingClientRect();ce(n.style.top)||(n.style.top=o.top*-1+"px"),ce(n.style.left)||(n.style.left=o.left*-1+"px")},e.prototype.createPopupWrapper=function(n,i,o){var s,a=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(s=l.classList).add.apply(s,Frt([],Irt(u))),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||li(n,"dialog"),ud(n,i),this.focusService.isKeyboardMode()&&n.classList.add(wp.AG_KEYBOARD_FOCUS),l.appendChild(n),a.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},e.prototype.addEventListenersToPopup=function(n){var i=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=n.wrapperEl,l=n.eChild;n.click;var u=n.closedCallback,c=n.afterGuiAttached,d=n.closeOnEsc,h=n.modal,f=!1,p=function(y){if(a.contains(o.activeElement)){var w=y.key;w===ne.ESCAPE&&!gl(y)&&m({keyboardEvent:y})}},g=function(y){return m({mouseEvent:y})},C=function(y){return m({touchEvent:y})},m=function(y){y===void 0&&(y={});var w=y.mouseEvent,E=y.touchEvent,P=y.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:w,touchEvent:E},l)||f||(f=!0,s.removeChild(a),o.removeEventListener("keydown",p),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",C),o.removeEventListener("contextmenu",g),i.eventService.removeEventListener(k.EVENT_DRAG_STARTED,g),u&&u(w||E||P),i.removePopupFromPopupList(l))};return c&&c({hidePopup:m}),window.setTimeout(function(){d&&o.addEventListener("keydown",p),h&&(o.addEventListener("mousedown",g),i.eventService.addEventListener(k.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",C),o.addEventListener("contextmenu",g))},0),m},e.prototype.addPopupToPopupList=function(n,i,o,s){this.popupList.push({element:n,wrapper:i,hideFunc:o,instanceId:Mrt++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},e.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(i){return i.element===n})},e.prototype.setPopupPositionRelatedToElement=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(l){return l&&l()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!!i){var a=this.keepPopupPositionedRelativeTo({element:i,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},e.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(i){return i.element!==n})},e.prototype.keepPopupPositionedRelativeTo=function(n){var i=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=n.element,l=n.ePopup,u=a.getBoundingClientRect(),c=s.top-u.top,d=s.left-u.left,h=c,f=d,p=l.style.top,g=parseInt(p.substring(0,p.length-1),10),C=l.style.left,m=parseInt(C.substring(0,C.length-1),10);return new Gs(function(y){i.getFrameworkOverrides().setInterval(function(){var w=o.getBoundingClientRect(),E=a.getBoundingClientRect(),P=E.top==0&&E.left==0&&E.height==0&&E.width==0;if(P){n.hidePopup();return}var T=w.top-E.top;if(T!=h){var R=i.keepXYWithinBounds(l,g+c-T,Hd.vertical);l.style.top=R+"px"}h=T;var _=w.left-E.left;if(_!=f){var b=i.keepXYWithinBounds(l,m+d-_,Hd.horizontal);l.style.left=b+"px"}f=_},200).then(function(w){var E=function(){w!=null&&window.clearInterval(w)};y(E)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},e.prototype.isEventFromCurrentPopup=function(n,i){var o=n.mouseEvent,s=n.touchEvent,a=o||s;if(!a)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(gx(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},e.prototype.isElementWithinCustomPopup=function(n){for(var i=this.gridOptionsService.getDocument();n&&n!==i.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},e.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},e.prototype.setAlwaysOnTop=function(n,i){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(n){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(n);if(!(!u||s<=1||!i.contains(n))){var c=o.indexOf(u),d=u.querySelectorAll("div"),h=[];if(d.forEach(function(C){C.scrollTop!==0&&h.push([C,C.scrollTop])}),l){var f=u.classList.contains("ag-always-on-top");f?c!==s-1&&On(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&On(o).insertAdjacentElement("afterend",u);for(;h.length;){var p=h.pop();p[0].scrollTop=p[1]}var g={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:u};this.eventService.dispatchEvent(g)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,KC([V("focusService")],e.prototype,"focusService",void 0),KC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),KC([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),KC([we],e.prototype,"postConstruct",null),e=t=KC([Me("popupService")],e),e}(ye),Lrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nrt=function(r){Lrt(e,r);function e(){var t=r.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,n){this.value=t,this.render(),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var n,i=!1;if(ce(t)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var s=o+t.length,a=Yr(this.value.slice(0,o)),l=Yr(this.value.slice(o,s)),u=Yr(this.value.slice(s));this.getGui().lastElementChild.innerHTML=a+"<b>"+l+"</b>"+u}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=Yr(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(Rt),Grt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Vrt=function(r){Grt(e,r);function e(t){var n=r.call(this,e.TEMPLATE)||this;return n.params=t,n.searchString="",n}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new e2({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(i){return t.autocompleteEntries[i]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=n===ne.UP?i-1:i+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,ce(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,n){var i,o=!1,s=t.toLocaleLowerCase(),a=n.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(s),d=c===0,h=c>=0;return h&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),h});return!i&&a.length&&(i=a[0]),{topMatch:i,allMatches:a}},e.prototype.runSearch=function(){var t,n,i=this.params.autocompleteEntries,o=i.map(function(d){var h;return(h=d.displayValue)!==null&&h!==void 0?h:d.key}),s,a;if(this.params.useFuzzySearch)s=gR(this.searchString,o,!0).values,a=s.length?s[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);s=l.allMatches,a=l.topMatch}var u=i.filter(function(d){var h=d.key,f=d.displayValue;return s.includes(f??h)});if(!u.length&&this.selectedValue&&(!((n=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||n===void 0)&&n.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!a){var c=s.indexOf(a);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var n=this.autocompleteEntries[t];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(t===o)}))},e.prototype.createRowComponent=function(t){var n,i=new Nrt;return this.getContext().createBean(i),i.setState((n=t.displayValue)!==null&&n!==void 0?n:t.key,t===this.selectedValue),i},e.prototype.onMouseMove=function(t){var n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=t.clientY-n.top+i,s=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,jq([_e("eList")],e.prototype,"eList",void 0),jq([we],e.prototype,"init",null),e}(ff),krt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Vme=function(r){krt(e,r);function e(){var t=r.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(n){return t.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var n=Pu(t);this.updateValue(n),this.updateAutocompleteList(n)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var n,i,o,s,a=(i=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,t,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!a.type||a.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,!((s=this.autocompleteListParams)===null||s===void 0)&&s.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var n=this,i=t.key;switch(this.updateLastPosition(),i){case ne.ENTER:this.onEnterKeyDown(t);break;case ne.TAB:this.onTabKeyDown(t);break;case ne.DOWN:case ne.UP:this.onUpDownKeyDown(t,i);break;case ne.LEFT:case ne.RIGHT:case ne.PAGE_HOME:case ne.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case ne.ESCAPE:this.onEscapeKeyDown(t);break;case ne.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,n=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,n){var i;t.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(t,n):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,n){var i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(t,t)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var n;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new Vrt({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),i={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return Pu(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var n=t.value,i=t.position,o=t.silent,s=t.updateListOnlyIfOpen,a=t.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,a),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",nG([V("popupService")],e.prototype,"popupService",void 0),nG([_e("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),nG([we],e.prototype,"postConstruct",null),e}(Rt),Hrt=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],$rt=["touchstart","touchend","touchmove","touchcancel"],kme=function(){function r(){this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return Oa(Hrt,e)}}return r.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},r.prototype.setInterval=function(e,t){return new Gs(function(n){n(window.setInterval(e,t))})},r.prototype.addEventListener=function(e,t,n,i){var o=Oa($rt,t);e.addEventListener(t,n,{capture:!!i,passive:o})},r.prototype.dispatchEvent=function(e,t,n){t()},r.prototype.frameworkComponent=function(e){return null},r.prototype.isFrameworkComponent=function(e){return!1},r}(),Brt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jrt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Wrt=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Hme=function(r){Brt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,n,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(t,n):this.getNextCellToFocusWithoutCtrlPressed(t,n)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,n){var i=t===ne.UP,o=t===ne.DOWN,s=t===ne.LEFT,a,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=n.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.is("enableRtl");l=n.rowIndex,a=s!==c?u[0]:On(u)}return{rowIndex:l,rowPinned:null,column:a}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,n){for(var i=n,o=!1;!o;){switch(t){case ne.UP:i=this.getCellAbove(i);break;case ne.DOWN:i=this.getCellBelow(i);break;case ne.RIGHT:this.gridOptionsService.is("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case ne.LEFT:this.gridOptionsService.is("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},e.prototype.isCellGoodToFocusOn=function(t){var n=t.column,i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}if(!i)return!1;var o=n.isSuppressNavigable(i);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColBefore(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColAfter(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var n=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:n+1,rowPinned:i}},e.prototype.getNextStickyPosition=function(t,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var i=Wrt([],jrt(this.rowRenderer.getStickyTopRowCtrls())).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=n?-1:1,s=i.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),a=i[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var n=t.rowPinned,i=t.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(n==="bottom"){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=i}var a=this.paginationProxy.getPageLastRow();return a<=i},e.prototype.getRowAbove=function(t){var n=t.rowIndex,i=t.rowPinned,o=i?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:n-1,rowPinned:i}},e.prototype.getCellAbove=function(t){if(!t)return null;var n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,n){return n?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColAfter(t.column);if(!s){s=n[0];var a=this.getRowBelow(t);if(ut(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColBefore(t.column);if(!s){s=On(n);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(ut(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},Yg([V("columnModel")],e.prototype,"columnModel",void 0),Yg([V("rowModel")],e.prototype,"rowModel",void 0),Yg([V("rowRenderer")],e.prototype,"rowRenderer",void 0),Yg([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Yg([V("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Yg([Me("cellNavigationService")],e),e}(ye),Urt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zrt=function(r,e){return function(t,n){e(t,n,r)}},$me=function(r){Urt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,k.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,k.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var n=this.gridOptionsService.get("alignedGrids");n&&n.forEach(function(i){if(i.api){var o=i.api.__getAlignedGridService();t(o)}})}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(n){n.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var n=this;this.onEvent(function(){var i=n.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var n=[];return t.columns?t.columns.forEach(function(i){n.push(i)}):t.column&&n.push(t.column),n},e.prototype.getColumnIds=function(t){var n=[];return t.columns?t.columns.forEach(function(i){n.push(i.getColId())}):t.column&&n.push(t.column.getColId()),n},e.prototype.onColumnEvent=function(t){var n=this;this.onEvent(function(){switch(t.type){case k.EVENT_COLUMN_MOVED:case k.EVENT_COLUMN_VISIBLE:case k.EVENT_COLUMN_PINNED:case k.EVENT_COLUMN_RESIZED:var i=t;n.processColumnEvent(i);break;case k.EVENT_COLUMN_GROUP_OPENED:var o=t;n.processGroupOpenedEvent(o);break;case k.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var n=t.columnGroup,i=null;if(n){var o=n.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}n&&!i||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+n.isExpanded()),this.columnModel.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var n=this,i,o=t.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(t);switch(t.type){case k.EVENT_COLUMN_MOVED:{var l=t,u=t.columnApi.getColumnState(),c=u.map(function(y){return{colId:y.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+l.toIndex)}break;case k.EVENT_COLUMN_VISIBLE:{var d=t,u=t.columnApi.getColumnState(),c=u.map(function(E){return{colId:E.colId,hide:E.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+d.visible)}break;case k.EVENT_COLUMN_PINNED:{var h=t,u=t.columnApi.getColumnState(),c=u.map(function(E){return{colId:E.colId,pinned:E.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+h.pinned)}break;case k.EVENT_COLUMN_RESIZED:var f=t,p={};a.forEach(function(y){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+y.getActualWidth()),p[y.getId()]={key:y.getColId(),newWidth:y.getActualWidth()}}),(i=f.flexColumns)===null||i===void 0||i.forEach(function(y){p[y.getId()]&&delete p[y.getId()]}),this.columnModel.setColumnWidths(Object.values(p),!1,f.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),C=g.isVerticalScrollShowing(),m=this.gridOptionsService.get("alignedGrids");m&&m.forEach(function(y){y.api&&y.api.setAlwaysShowVerticalScroll(C)})}},YC([V("columnModel")],e.prototype,"columnModel",void 0),YC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),YC([zrt(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),YC([we],e.prototype,"init",null),e=YC([Me("alignedGridsService")],e),e}(ye),Krt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Yrt=function(r,e){return function(t,n){e(t,n,r)}},qrt=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Qrt=function(r){Krt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){var t=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(n){return t.groupSelectsChildren=n.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(n){return t.rowSelection=n.currentValue}),this.addManagedListener(this.eventService,k.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var n;if(t.nodes.length===0)return 0;var i=t.newValue,o=t.clearSelection,s=t.suppressFinishActions,a=t.rangeSelect;t.event;var l=t.source,u=l===void 0?"api":l;if(t.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var c=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,d=t.nodes.map(function(T){return T.footer?T.sibling:T});if(a){if(t.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var h=this.getLastSelectedNode();if(h){var f=d[0],p=h!==f;if(p&&this.isMultiselect()){var g=this.selectRange(f,h,t.newValue,u);return this.setLastSelectedNode(f),g}}}for(var C=0,m=0;m<d.length;m++){var f=d[m],y=c&&f.group;if(!y){var w=f.selectThisNode(i,t.event,u);w&&C++}this.groupSelectsChildren&&(!((n=f.childrenAfterGroup)===null||n===void 0)&&n.length)&&(C+=this.selectChildren(f,i,c,u))}if(!s){var E=i&&(o||!this.isMultiselect());if(E&&(C+=this.clearOtherNodes(d[0],u)),C>0){this.updateGroupsFromChildrenSelections(u);var P={type:k.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(P)}i&&this.setLastSelectedNode(d[d.length-1])}return C},e.prototype.selectRange=function(t,n,i,o){var s=this;i===void 0&&(i=!0);var a=this.rowModel.getNodesInRangeForSelection(t,n),l=0;a.forEach(function(c){if(!(c.group&&s.groupSelectsChildren||i===!1&&t===c)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:k.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,n,i,o){var s=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return st.missing(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:s})},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return cr(this.selectedNodes,function(n,i){i&&t.push(i)}),t},e.prototype.getSelectedRows=function(){var t=[];return cr(this.selectedNodes,function(n,i){i&&i.data&&t.push(i.data)}),t},e.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},e.prototype.filterFromSelection=function(t){var n={};Object.entries(this.selectedNodes).forEach(function(i){var o=qrt(i,2),s=o[0],a=o[1],l=a&&t(a);l&&(n[s]=a)}),this.selectedNodes=n},e.prototype.updateGroupsFromChildrenSelections=function(t,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();n||(n=new cL(!0,o),n.setInactive());var s=!1;return n.forEachChangedNodeDepthFirst(function(a){if(a!==o){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(l===null?!1:l,void 0,t)||s}}),s},e.prototype.clearOtherNodes=function(t,n){var i=this,o={},s=0;return cr(this.selectedNodes,function(a,l){if(l&&l.id!==t.id){var u=i.selectedNodes[l.id];s+=u.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),i.groupSelectsChildren&&l.parent&&(o[l.parent.id]=l.parent)}}),cr(o,function(a,l){var u=l.calculateSelectedFromChildren();l.selectThisNode(u===null?!1:u,void 0,n)}),s},e.prototype.onRowSelected=function(t){var n=t.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes[n.id]=n:delete this.selectedNodes[n.id])},e.prototype.syncInRowNode=function(t,n){this.syncInOldRowNode(t,n),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,n){var i=ce(n)&&t.id!==n.id;if(i&&n){var o=n.id,s=this.selectedNodes[o]==t;s&&(this.selectedNodes[n.id]=n)}},e.prototype.syncInNewRowNode=function(t){ce(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,n=t.getTopLevelNodes();if(n===null)return;var i=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(n),i},e.prototype.isEmpty=function(){var t=0;return cr(this.selectedNodes,function(n,i){i&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var n=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=t.source,s=t.justFiltered,a=t.justCurrentPage;if(a||s){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,a).forEach(n)}else cr(this.selectedNodes,function(u,c){c&&n(c)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:k.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},e.prototype.getSelectAllState=function(t,n){var i=this,o=0,s=0,a=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&s++)};return this.getNodesToSelect(t,n).forEach(a),o===0&&s===0?!1:o>0&&s>0?null:o>0},e.prototype.getNodesToSelect=function(t,n){var i=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(a){if(!a.group){o.push(a);return}if(!a.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(a);return}i.groupSelectsChildren||o.push(a)}),o;var s=this.rowModel;return t?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var n=t.source,i=t.justFiltered,o=t.justCurrentPage,s=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(i,o).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var a={type:k.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)},e.prototype.getServerSideSelectionState=function(){return null},e.prototype.setServerSideSelectionState=function(t){},qC([V("rowModel")],e.prototype,"rowModel",void 0),qC([V("paginationProxy")],e.prototype,"paginationProxy",void 0),qC([Yrt(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),qC([we],e.prototype,"init",null),e=qC([Me("selectionService")],e),e}(ye),rG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Bme=function(){function r(){}return r.prototype.sizeColumnsToFit=function(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},r.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},r.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},r.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},r.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},r.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},r.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},r.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},r.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},r.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},r.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},r.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},r.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},r.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},r.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},r.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},r.prototype.setColumnWidth=function(e,t,n,i){n===void 0&&(n=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,i)},r.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,n)},r.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},r.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},r.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},r.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},r.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},r.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},r.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},r.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},r.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},r.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},r.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},r.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},r.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},r.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},r.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},r.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},r.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(st.removeAllReferences.bind(window,this,"Column API"),100)},r.prototype.getAllColumns=function(){return wa("28.0","getAllColumns","getColumns"),this.getColumns()},r.prototype.getPrimaryColumns=function(){return wa("28.0","getPrimaryColumns","getColumns"),this.getColumns()},r.prototype.getSecondaryColumns=function(){return wa("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},r.prototype.setSecondaryColumns=function(e){wa("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)},r.prototype.getSecondaryPivotColumn=function(e,t){return wa("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)},rG([V("columnModel")],r.prototype,"columnModel",void 0),rG([ui],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),r=rG([Me("columnApi")],r),r}(),Xrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jme=function(r){Xrt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(k.EVENT_CELL_VALUE_CHANGED,function(n){return t.callColumnCellValueChangedHandler(n)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(n){return t.isTreeData=n.currentValue})},e.prototype.getValue=function(t,n,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var s=t.getColDef(),a=s.field,l=t.getColId(),u=n.data,c,d=n.groupData&&n.groupData[l]!==void 0,h=!o&&n.aggData&&n.aggData[l]!==void 0,f=this.isSsrm&&o&&!!t.getColDef().aggFunc,p=this.isSsrm&&n.footer&&n.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===n.field);if(i&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,t,n):this.isTreeData&&h?c=n.aggData[l]:this.isTreeData&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):this.isTreeData&&a&&u?c=rv(u,a,t.isFieldContainsDots()):d?c=n.groupData[l]:h?c=n.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):p?c=rv(u,n.field,t.isFieldContainsDots()):a&&u&&!f&&(c=rv(u,a,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var g=c.substring(1);c=this.executeValueGetter(g,u,t,n)}if(c==null){var C=this.getOpenedGroup(n,t);if(C!=null)return C}return c}},e.prototype.getOpenedGroup=function(t,n){if(this.gridOptionsService.is("showOpenedGroup")){var i=n.getColDef();if(i.showRowGroup)for(var o=n.getColDef().showRowGroup,s=t.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}},e.prototype.setValue=function(t,n,i,o){var s=this.columnModel.getPrimaryColumn(n);if(!t||!s)return!1;ut(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(ut(l)&&ut(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:i,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};c.newValue=i;var d;if(ce(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,i,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(s,t);var h={type:k.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(h),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var n=t.colDef.onCellValueChanged;typeof n=="function"&&n({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,n,i,o){if(!n)return!1;var s=!1;if(!o)s=t[n]===i,s||(t[n]=i);else for(var a=n.split("."),l=t;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]===i,s||(l[u]=i)):l=l[u]}return!s},e.prototype.executeFilterValueGetter=function(t,n,i,o){var s={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return typeof t=="function"?t(s):this.expressionService.evaluate(t,s)},e.prototype.executeValueGetter=function(t,n,i,o){var s=i.getColId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)},u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(o,s,u),u},e.prototype.getValueCallback=function(t,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,t):null},e.prototype.getKeyForNode=function(t,n){var i=this.getValue(t,n),o=t.getColDef().keyCreator,s=i;if(o){var a={value:i,colDef:t.getColDef(),column:t,node:n,data:n.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Ht(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),s},qg([V("expressionService")],e.prototype,"expressionService",void 0),qg([V("columnModel")],e.prototype,"columnModel",void 0),qg([V("valueCache")],e.prototype,"valueCache",void 0),qg([V("dataTypeService")],e.prototype,"dataTypeService",void 0),qg([we],e.prototype,"init",null),e=qg([Me("valueService")],e),e}(ye),Jrt=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Wq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zrt=function(r,e){return function(t,n){e(t,n,r)}},Wme=function(r){Jrt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,n){if(typeof t=="string")return this.evaluateExpression(t,n);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,n){try{var i=this.createExpressionFunction(t),o=i(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",n),console.log("Exception = "+s),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var n=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[t]=i,i},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Wq([Zrt(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),e=Wq([Me("expressionService")],e),e}(ye),eit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tit=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ume=function(r){eit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,n){var i=this.templateCache[t];if(i)return i;var o=this.waitingCallbacks[t],s=this;if(!o){o=[],this.waitingCallbacks[t]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,t)},a.open("GET",t),a.send()}return n&&o.push(n),null},e.prototype.handleHttpResult=function(t,n){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error "+t.status+" - "+n);return}this.templateCache[n]=t.response||t.responseText;for(var i=this.waitingCallbacks[n],o=0;o<i.length;o++){var s=i[o];s()}},e=tit([Me("templateService")],e),e}(ye),nit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},rit=function(r,e){return function(t,n){e(t,n,r)}},zme=function(r){nit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.is("debug")},e.prototype.create=function(t){return new xx(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Uq([rit(0,Ii("gridOptionsService"))],e.prototype,"setBeans",null),e=Uq([Me("loggerFactory")],e),e}(ye),xx=function(){function r(e,t){this.name=e,this.isLoggingFunc=t}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},r}(),iit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Kme=function(r){iit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,i){var o=this;this.view=t,this.eGridHostDiv=n,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===ho.HeaderCell||a===ho.ToolPanel},getIconName:function(){return ri.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new YU(this.view)),this.addRtlSupport(),this.addManagedListener(this,k.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,k.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,n=this.focusService.findTabbableParent(this.getGui());return((t=n==null?void 0:n.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return lt.__isRegistered(Ne.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return lt.__isRegistered(Ne.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return lt.__isRegistered(Ne.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return lt.__isRegistered(Ne.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:k.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var n=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(a){return a.contains(n.activeElement)}),s=o+(t?-1:1);return s<=0||s>=i.length?!1:this.focusService.focusInto(i[s])},e.prototype.focusInnerElement=function(t){var n=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(n.length>1)return this.focusService.focusInto(On(n),!0);var o=On(i);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},Qg([V("focusService")],e.prototype,"focusService",void 0),Qg([V("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Qg([V("columnModel")],e.prototype,"columnModel",void 0),Qg([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Qg([V("mouseEventService")],e.prototype,"mouseEventService",void 0),Qg([V("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(ye),oit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Yme=function(r){oit(e,r);function e(t){var n=r.call(this)||this;return n.eGridDiv=t,n}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return t.addOrRemoveCssClass(wp.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o??"",t.getGui().style.webkitUserSelect=o??""},setCursor:function(o){t.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new Kme);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)}})},e.prototype.insertGridIntoDom=function(){var t=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){t.eGridDiv.removeChild(n),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,n){var i=this.eRootWrapperBody.classList;i.toggle(Ar.AUTO_HEIGHT,n.autoHeight),i.toggle(Ar.NORMAL,n.normal),i.toggle(Ar.PRINT,n.print),this.addOrRemoveCssClass(Ar.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(Ar.NORMAL,n.normal),this.addOrRemoveCssClass(Ar.PRINT,n.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `+t+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+n+`
                </div>
                `+i+`
                <ag-pagination></ag-pagination>
                `+o+`
            </div>`;return s},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(n){return df(n)})},QC([V("loggerFactory")],e.prototype,"loggerFactory",void 0),QC([_e("gridBody")],e.prototype,"gridBodyComp",void 0),QC([_e("sideBar")],e.prototype,"sideBarComp",void 0),QC([_e("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),QC([we],e.prototype,"postConstruct",null),e}(wR),sit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),zq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Td=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Xg=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},qme=function(r){sit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(n,i,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,i,o)},e.prototype.setSortForColumn=function(n,i,o,s){i!=="asc"&&i!=="desc"&&(i=null);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(a&&n.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(n),c=u==null?void 0:u.filter(function(h){return h.getColDef().sortable});c&&(l=Xg([n],Td(c)))}l.forEach(function(h){return h.setSort(i,s)});var d=(o||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort");d||this.clearSortBarTheseColumns(l,s),this.updateSortIndex(n),this.dispatchSortChangedEvents(s)},e.prototype.updateSortIndex=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=i&&o||n,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?Xg(Xg([],Td(l)),[s]):l;u.forEach(function(c,d){return c.setSortIndex(d)})},e.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},e.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=n.filter(function(o){return!!o.getSort()});return i&&i.length>0},e.prototype.dispatchSortChangedEvents=function(n){var i={type:k.EVENT_SORT_CHANGED,source:n};this.eventService.dispatchEvent(i)},e.prototype.clearSortBarTheseColumns=function(n,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){n.includes(o)||o.setSort(void 0,i)})},e.prototype.getNextSortDirection=function(n){var i;if(n.getColDef().sortingOrder?i=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=t.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+i),null;var o=i.indexOf(n.getSort()),s=o<0,a=o==i.length-1,l;return s||a?l=i[0]:l=i[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getIndexedSortMap=function(){var n=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),h=!c.isPrimary(),f=o?n.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||h||f})}var s=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(i=Xg([],Td(new Set(i.map(function(c){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c})))));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var h=c.getSortIndex(),f=d.getSortIndex();if(h!=null&&f!=null)return h-f;if(h==null&&f==null){var p=l[c.getId()],g=l[d.getId()];return p>g?1:-1}else return f==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),a&&s.forEach(function(c){var d=n.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return Xg([],Td(this.getIndexedSortMap().entries())).sort(function(n,i){var o=Td(n,2);o[0];var s=o[1],a=Td(i,2);a[0];var l=a[1];return s-l}).map(function(n){var i=Td(n,1),o=i[0];return o})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},e.prototype.canColumnDisplayMixedSort=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return i&&o},e.prototype.getDisplaySortForColumn=function(n){var i=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!(i!=null&&i.length))return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,s=o?Xg([n],Td(i)):i,a=s[0].getSort(),l=s.every(function(u){return u.getSort()==a});return l?a:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],zq([V("columnModel")],e.prototype,"columnModel",void 0),e=t=zq([Me("sortController")],e),e}(ye),ait=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lit=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uit=function(r){ait(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var n={type:k.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:k.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=lit([Me("columnHoverService")],e),e}(ye),cit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},dit=function(r){cit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){return t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===n&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],!(t.length===0&&n.length===0)&&(window.setTimeout(function(){return t.forEach(function(i){return i()})},0),window.setTimeout(function(){return n.forEach(function(i){return i()})},300))},iG([V("ctrlsService")],e.prototype,"ctrlsService",void 0),iG([we],e.prototype,"postConstruct",null),e=iG([Me("columnAnimationService")],e),e}(ye),hit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fit=function(r){hit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCon=n.centerRowContainerCtrl,t.addManagedListener(t.eventService,k.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,k.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=function(){var o=t.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);t.gridOptionsService.set("paginationPageSize",s)};this.isBodyRendered?ul(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},oG([V("ctrlsService")],e.prototype,"ctrlsService",void 0),oG([we],e.prototype,"postConstruct",null),e=oG([Me("paginationAutoPageSizeService")],e),e}(ye),pit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qme=function(r){pit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,n,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[n]=i)},e.prototype.getValue=function(t,n){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[n]},Kq([we],e.prototype,"init",null),e=Kq([Me("valueCache")],e),e}(ye),git=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mit="paste",vit=function(r){git(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,k.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==mit&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,n){if(!this.gridOptionsService.is("suppressChangeDetection")){var i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.is("aggregateOnlyChangedColumns"),s=new cL(o,this.clientSideRowModel.getRootNode());s.addParentNode(t.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){i.push(a)})}this.rowRenderer.refreshCells({rowNodes:i})}},oT([V("rowModel")],e.prototype,"rowModel",void 0),oT([V("rowRenderer")],e.prototype,"rowRenderer",void 0),oT([we],e.prototype,"init",null),e=oT([Me("changeDetectionService")],e),e}(ye),yit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cit=function(r){yit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,n){var i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(n):null},e.prototype.adaptCellRendererFunction=function(t){var n=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var s=t(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=Fi("<span>"+s+"</span>");return}if(s==null){this.eGui=Fi("<span></span>");return}this.eGui=s},i}();return n},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},Yq([V("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=Yq([Me("agComponentUtils")],e),e}(ye),wit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Sit=function(r){wit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},sG([V("agComponentUtils")],e.prototype,"agComponentUtils",void 0),sG([we],e.prototype,"postConstruct",null),e=sG([Me("componentMetadataProvider")],e),e}(ye),Eit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_it=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Rit=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},bit=25,qq=10,lG=8,Tit=4,uG=4,cG=6,Pit={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:Tit*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:lG*7,headerCellMinWidth:48,listItemHeight:lG*4,rowHeight:lG*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:uG*8,headerCellMinWidth:24,listItemHeight:uG*6,rowHeight:uG*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:cG*8,headerCellMinWidth:36,listItemHeight:cG*4,rowHeight:cG*7,chartMenuPanelWidth:240}},Qq={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Xme=function(r){Eit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,n,i=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:k.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var n=this.getTheme(),i=n.themeFamily,o=n.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var s=this.calculatedSizes[i][t];return s??(this.calculatedSizes[i][t]=this.calculateValueForSassProperty(t,i,o),this.calculatedSizes[i][t])}},e.prototype.calculateValueForSassProperty=function(t,n,i){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),a=Pit[s][t],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!Qq[t])return a;var u=Qq[t],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,Rit([n],_it(d))),c.style.position="absolute";var h=u.reduce(function(g,C){var m=l.createElement("div");return m.style.position="static",m.classList.add(C),g.appendChild(m),m},c),f=0;if(l.body){l.body.appendChild(c);var p=t.toLowerCase().indexOf("height")!==-1?"height":"width";f=parseInt(window.getComputedStyle(h)[p],10),l.body.removeChild(c)}return f||a},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,i=null,o=[];n;)if(i=t.exec(n.className),!i)n=n.parentElement||void 0;else{var s=n.className.match(t);s&&(o=s);break}if(!i)return{allThemes:o};var a=i[0];return{theme:a,el:n,themeFamily:a.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,n){var i;return(i=this.getSassVariable(n))!==null&&i!==void 0?i:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(bit,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.getNum("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return-1;var i=n+"px";return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return ce(t)?Math.max(t,qq):qq},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},aG([V("eGridDiv")],e.prototype,"eGridDiv",void 0),aG([we],e.prototype,"postConstruct",null),e=aG([Me("environment")],e),e}(ye),Oit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dit=function(r,e){return function(t,n){e(t,n,r)}},Ait=function(r){Oit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,k.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Kpe(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=n!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,n=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+n+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(n)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:k.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var n=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:k.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition();return n.bottom-n.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var n=this.modelHeight-this.getUiBodyHeight(),i=t/n,o=this.maxScrollY*i;return o},sT([V("ctrlsService")],e.prototype,"ctrlsService",void 0),sT([Dit(0,Ii("loggerFactory"))],e.prototype,"agWire",null),sT([we],e.prototype,"postConstruct",null),e=sT([Me("rowContainerHeightService")],e),e}(ye),xit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xq=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Jme=function(r){xit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){var n=function(i){return i.childrenAfterGroup};this.recurseDown(t.childrenAfterGroup,n)}},e.prototype.recurseDown=function(t,n){var i=this;t&&t.forEach(function(o){if(o.group){o.hasChildren()&&i.recurseDown(n(o),n);var s;if(i.groupSelectsChildren){var a=(n(o)||[]).find(function(l){return l.selectable===!0});s=ce(a)}else s=i.isRowSelectableFunc?i.isRowSelectableFunc(o):!1;o.setRowSelectable(s)}})},Xq([we],e.prototype,"init",null),e=Xq([Me("selectableService")],e),e}(ye),Iit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fit=function(r){Iit(e,r);function e(){var t=r.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());var n=this,i=n.btFirst,o=n.btPrevious,s=n.btNext,a=n.btLast;this.activateTabIndex([i,o,s,a]),i.insertAdjacentElement("afterbegin",Lr(t?"last":"first",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",Lr(t?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Lr(t?"previous":"next",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Lr(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.is("pagination"),n=t&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,k.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var i=n.el,o=n.fn;t.addManagedListener(i,"click",o),t.addManagedListener(i,"keydown",function(s){(s.key===ne.ENTER||s.key===ne.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),i=t?n+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)},e.prototype.formatNumber=function(t){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var i={value:t};return n(i)}var o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return bU(t,s,a)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),n=t("page","Page"),i=t("to","to"),o=t("of","of"),s=t("firstPage","First Page"),a=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+c+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+c+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-to">'+i+`</span>
                    <span id="ag-`+c+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-of">'+o+`</span>
                    <span id="ag-`+c+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`+s+`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`+a+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+c+'-start-page">'+n+`</span>
                        <span id="ag-`+c+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+c+'-of-page">'+o+`</span>
                        <span id="ag-`+c+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`+l+`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`+u+`"></div>
                </span>
            </div>`},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=n&&t===i-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!n||o||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,n){mU(t,n),t.classList.toggle("ag-disabled",n)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;if(this.isZeroPagesToDisplay()?s=a=0:(s=n*t+1,a=s+n-1,i&&a>o&&(a=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return t&&n===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},fa([V("paginationProxy")],e.prototype,"paginationProxy",void 0),fa([V("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),fa([_e("btFirst")],e.prototype,"btFirst",void 0),fa([_e("btPrevious")],e.prototype,"btPrevious",void 0),fa([_e("btNext")],e.prototype,"btNext",void 0),fa([_e("btLast")],e.prototype,"btLast",void 0),fa([_e("lbRecordCount")],e.prototype,"lbRecordCount",void 0),fa([_e("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),fa([_e("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),fa([_e("lbCurrent")],e.prototype,"lbCurrent",void 0),fa([_e("lbTotal")],e.prototype,"lbTotal",void 0),fa([we],e.prototype,"postConstruct",null),e}(Rt),Mit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jg=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gm;(function(r){r[r.Loading=0]="Loading",r[r.NoRows=1]="NoRows"})(Gm||(Gm={}));var Lit=function(r){Mit(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t.manuallyDisplayed=!1,t}return e.prototype.updateLayoutClasses=function(t,n){var i=this.eOverlayWrapper.classList;i.toggle(Ar.AUTO_HEIGHT,n.autoHeight),i.toggle(Ar.NORMAL,n.normal),i.toggle(Ar.PRINT,n.print)},e.prototype.postConstruct=function(){this.createManagedBean(new YU(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,k.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var n=this.eOverlayWrapper.classList;n.toggle("ag-overlay-loading-wrapper",t===Gm.Loading),n.toggle("ag-overlay-no-rows-wrapper",t===Gm.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var t={},n=this.userComponentFactory.getLoadingOverlayCompDetails(t),i=n.newAgStackInstance();this.showOverlay(i,Gm.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var t={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(t),i=n.newAgStackInstance();this.showOverlay(i,Gm.NoRows)}},e.prototype.showOverlay=function(t,n){var i=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),co(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),n=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!n?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},e.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,Jg([V("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Jg([V("paginationProxy")],e.prototype,"paginationProxy",void 0),Jg([V("gridApi")],e.prototype,"gridApi",void 0),Jg([V("columnModel")],e.prototype,"columnModel",void 0),Jg([_e("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Jg([we],e.prototype,"postConstruct",null),e}(Rt),Nit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zme=function(r){Nit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getLastRow=function(){var t,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(n="bottom",t=i-1):this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,n){return!t&&!n?!0:t&&!n||!t&&n?!1:t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned},e.prototype.before=function(t,n){switch(t.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(ce(n.rowPinned))return n.rowPinned!=="top";break}return t.rowIndex<n.rowIndex},e.prototype.rowMax=function(t){var n=this,i;return t.forEach(function(o){(i===void 0||n.before(i,o))&&(i=o)}),i},e.prototype.rowMin=function(t){var n=this,i;return t.forEach(function(o){(i===void 0||n.before(o,i))&&(i=o)}),i},aT([V("rowModel")],e.prototype,"rowModel",void 0),aT([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),aT([V("paginationProxy")],e.prototype,"paginationProxy",void 0),e=aT([Me("rowPositionUtils")],e),e}(ye),Git=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vit=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eve=function(r){Git(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createId=function(t){var n=t.rowIndex,i=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:i})},e.prototype.createIdFromValues=function(t){var n=t.rowIndex,i=t.rowPinned,o=t.column;return n+"."+(i??"null")+"."+o.getId()},e.prototype.equals=function(t,n){var i=t.column===n.column,o=t.rowPinned===n.rowPinned,s=t.rowIndex===n.rowIndex;return i&&o&&s},e=Vit([Me("cellPositionUtils")],e),e}(ye),kit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Iw=function(){function r(e){this.cellValueChanges=e}return r}(),dG=function(r){kit(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.initialRange=n,s.finalRange=i,s.ranges=o,s}return e}(Iw),Jq=function(){function r(e){this.actionStack=[],this.maxStackSize=e||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),Hit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ix=function(){return Ix=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ix.apply(this,arguments)},Wl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$it=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Bit=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},jit=function(r){Hit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,i),s=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,i),a=o||s||t.isPasting||t.isRangeInAction;if(a){var l=n.rowPinned,u=n.rowIndex,c=n.column,d=n.oldValue,h=n.value,f={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:h,oldValue:d};t.cellValueChanges.push(f)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var n=this.gridOptionsService.getNum("undoRedoCellEditingLimit");n<=0||(this.undoStack=new Jq(n),this.redoStack=new Jq(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,k.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,k.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,k.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var n={type:k.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:k.EVENT_UNDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var n={type:k.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:k.EVENT_REDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,n,i,o,s){if(!t)return!1;var a=t.pop();return!a||!a.cellValueChanges?!1:(this.processAction(a,function(l){return l[o]},s),a instanceof dG?this.processRange(a.ranges||[a[i]]):this.processCell(a.cellValueChanges),n.push(a),!0)},e.prototype.processAction=function(t,n,i){var o=this;t.cellValueChanges.forEach(function(s){var a=s.rowIndex,l=s.rowPinned,u=s.columnId,c={rowIndex:a,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,n(s),i)})},e.prototype.processRange=function(t){var n=this,i;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,s){if(o){var a=o.startRow,l=o.endRow;s===t.length-1&&(i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(i));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var n=t[0],i=n.rowIndex,o=n.rowPinned,s={rowIndex:i,rowPinned:o},a=this.getRowNode(s),l={rowPinned:n.rowPinned,rowIndex:a.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,n){var i=t.rowIndex,o=t.columnId,s=t.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){a.ensureIndexVisible(i),a.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:s};this.focusService.setFocusedCell(Ix(Ix({},u),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_ROW_EDITING_STARTED,function(n){t.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,k.EVENT_ROW_EDITING_STOPPED,function(){var n=new Iw(t.cellValueChanges);t.pushActionsToUndoStack(n),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_CELL_EDITING_STARTED,function(n){t.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,k.EVENT_CELL_EDITING_STOPPED,function(n){t.activeCellEdit=null;var i=n.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(i){var o=new Iw(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,k.EVENT_PASTE_END,function(){var n=new Iw(t.cellValueChanges);t.pushActionsToUndoStack(n),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,k.EVENT_FILL_END,function(n){var i=new dG(t.cellValueChanges,n.initialRange,n.finalRange);t.pushActionsToUndoStack(i),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,k.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;t.rangeService&&t.gridOptionsService.is("enableRangeSelection")?n=new dG(t.cellValueChanges,void 0,void 0,Bit([],$it(t.rangeService.getCellRanges()))):n=new Iw(t.cellValueChanges),t.pushActionsToUndoStack(n),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Wl([V("focusService")],e.prototype,"focusService",void 0),Wl([V("ctrlsService")],e.prototype,"ctrlsService",void 0),Wl([V("rowModel")],e.prototype,"rowModel",void 0),Wl([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Wl([V("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Wl([V("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Wl([V("columnModel")],e.prototype,"columnModel",void 0),Wl([nn("rangeService")],e.prototype,"rangeService",void 0),Wl([we],e.prototype,"init",null),e=Wl([Me("undoRedoService")],e),e}(ye),Wit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tve=function(r){Wit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.findHeader=function(t,n){var i,o,s;if(t.column instanceof gi?(o="getDisplayedGroup"+n,i=this.columnModel[o](t.column)):(s="getDisplayedCol"+n,i=this.columnModel[s](t.column)),!!i){var a=t.headerRowIndex,l=this.getHeaderRowType(a);if(l===mi.COLUMN_GROUP){var u=i;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var c=this.getColumnVisibleChild(u,a,n),d=c.nextFocusColumn,h=c.nextRow;d&&(i=d,a=h)}}return{column:i,headerRowIndex:a}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,n){var i=this.getHeaderRowType(n),o=i===mi.FLOATING_FILTER,s=i===mi.COLUMN,a=o?t:t.getParent(),l=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=t,l=n)}return{nextFocusColumn:a,nextRow:l}},e.prototype.getColumnVisibleChild=function(t,n,i){i===void 0&&(i="After");var o=this.getHeaderRowType(n),s=t,a=n+1;if(o===mi.COLUMN_GROUP){var l=t.getLeafColumns(),u=i==="After"?l[0]:On(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var c=u.getParent();c&&c!==t;)c=c.getParent(),a++}else s=t.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},e.prototype.getHeaderRowType=function(t){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,n){var i=this.columnModel.getAllDisplayedColumns(),o=i[n==="start"?0:i.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(t);if(a==mi.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:a==null?-1:t,column:o}}},hG([V("columnModel")],e.prototype,"columnModel",void 0),hG([V("ctrlsService")],e.prototype,"ctrlsService",void 0),e=hG([Me("headerPositionUtils")],e),e}(ye),Uit=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zit=function(){function r(){}return r.prototype.buildColumnDefs=function(e,t,n){var i=this,o=[],s={};return e.forEach(function(a){for(var l=i.createDefFromColumn(a,t,n),u=!0,c=l,d=a.getOriginalParent(),h=null;d;){var f=null;if(d.isPadding()){d=d.getOriginalParent();continue}var p=s[d.getGroupId()];if(p){p.children.push(c),u=!1;break}if(f=i.createDefFromGroup(d),f&&(f.children=[c],s[f.groupId]=f,c=f,d=d.getOriginalParent()),d!=null&&h===d){u=!1;break}h=d}u&&o.push(c)}),o},r.prototype.createDefFromGroup=function(e){var t=hx(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},r.prototype.createDefFromColumn=function(e,t,n){var i=hx(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i},r=Uit([Me("columnDefFactory")],r),r}(),fG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Kit=function(){function r(){}return r.prototype.getInitialRowClasses=function(e){var t=[];return ce(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Rk(t,this.processClassesFromGridOptions(e.rowNode)),Rk(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},r.prototype.processClassesFromGridOptions=function(e){var t=[],n=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);n(a)}return t},r.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(n){t.push(n)},function(n){}),t},r.prototype.processRowClassRules=function(e,t,n){var i={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,t,n)},r.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},fG([V("stylingService")],r.prototype,"stylingService",void 0),fG([V("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r=fG([Me("rowCssClassCalculator")],r),r}(),Yit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nve=function(r){Yit(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return t.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,n){var i=function(s,a){return{currentPos:a,rowNode:s}},o=t.map(i);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},e.prototype.compareRowNodes=function(t,n,i){for(var o=n.rowNode,s=i.rowNode,a=0,l=t.length;a<l;a++){var u=t[a],c=u.sort==="desc",d=this.getValue(o,u.column),h=this.getValue(s,u.column),f=void 0,p=this.getComparator(u,o);p?f=p(d,h,o,s,c):f=st.defaultComparator(d,h,this.isAccentedSort);var g=!isNaN(f);if(g&&f!==0)return u.sort==="asc"?f:f*-1}return n.currentPos-i.currentPos},e.prototype.getComparator=function(t,n){var i=t.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var s=!n.group&&i.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},e.prototype.getValue=function(t,n){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,t,!1,!1);var s=t.rowGroupColumn===n;if(s){var a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=n.getColDef().keyCreator;if(l)return t.key;var u=(i=t.allLeafChildren)===null||i===void 0?void 0:i[0];return u?this.valueService.getValue(n,u,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return c?(o=t.groupData)===null||o===void 0?void 0:o[c.getId()]:void 0}if(!(t.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,t,!1,!1)},lT([V("valueService")],e.prototype,"valueService",void 0),lT([V("columnModel")],e.prototype,"columnModel",void 0),lT([we],e.prototype,"init",null),e=lT([Me("rowNodeSorter")],e),e}(ye),qit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qit=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},rve=function(r){qit(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},e.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerHeaderContainer=function(n,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},e.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=Qit([Me(t.NAME)],e),e}(ye),Xit=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jit=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zit=function(r){Xit(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var n=this.registry[t];if(n!=null)return new n},e=Jit([Me("ctrlsFactory")],e),e}(ye),eot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ive=function(r){eot(e,r);function e(t,n){var i=r.call(this,t)||this;return i.direction=n,i.hideTimeout=null,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,k.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",RU()||uf())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=CE(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,n=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();n.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,k.EVENT_BODY_SCROLL,function(n){n.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,k.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var n=this,i=this.getViewport();dU(function(){return df(i)},function(){return n.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},XC([_e("eViewport")],e.prototype,"eViewport",void 0),XC([_e("eContainer")],e.prototype,"eContainer",void 0),XC([V("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),XC([V("ctrlsService")],e.prototype,"ctrlsService",void 0),XC([V("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(Rt),tot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JC=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},not=function(r){tot(e,r);function e(){return r.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,k.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new QU(function(i){return t.eContainer.style.width=i+"px"}))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=t+"px"}},e.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();i&&(n+=o),Aa(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&t;a&&(s+=o),Aa(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.is("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,s=o===0&&n?16:o,a=i?0:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),yp(this.getGui(),a),yp(this.eViewport,a),yp(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return EE(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){df(this.getViewport())||this.attemptSettingScrollPosition(t),_E(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,JC([_e("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),JC([_e("eRightSpacer")],e.prototype,"eRightSpacer",void 0),JC([V("columnModel")],e.prototype,"columnModel",void 0),JC([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),JC([we],e.prototype,"postConstruct",null),e}(ive),rot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},iot=function(r){rot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,k.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:k.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:k.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},pG([V("columnModel")],e.prototype,"columnModel",void 0),pG([we],e.prototype,"postConstruct",null),e=pG([Me("pinnedWidthService")],e),e}(ye),oot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sot=function(r){oot(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var i=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},uT([V("animationFrameService")],e.prototype,"animationFrameService",void 0),uT([V("rowModel")],e.prototype,"rowModel",void 0),uT([we],e.prototype,"postConstruct",null),e=uT([Me("rowNodeEventThrottle")],e),e}(ye),Bk=function(){return Bk=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Bk.apply(this,arguments)},Pd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zq=function(r,e){return function(t,n){e(t,n,r)}},eQ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},tQ=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};function aot(r){if(typeof r=="number")return r;if(typeof r=="string")return parseInt(r,10)}function cT(r){return r===!0||r==="true"}var ove=function(){function r(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ld,this.globalEventHandlerFactory=function(n){return function(i,o){if(!t.destroyed){var s=e.alwaysSyncGlobalEvents.has(i);if(!(s&&!n||!s&&n)){var a=aS.getCallbackForEvent(i);typeof t.gridOptions[a]=="function"&&t.gridOptions[a](o)}}}}}e=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.agWire=function(t,n){this.gridOptions.api=t,this.gridOptions.columnApi=n,this.api=t,this.columnApi=n},r.prototype.init=function(){this.gridOptionLookup=new Set(tQ(tQ([],eQ(aS.ALL_PROPERTIES)),eQ(aS.EVENT_CALLBACKS)));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},r.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},r.prototype.is=function(t){return cT(this.gridOptions[t])},r.prototype.get=function(t){return this.gridOptions[t]},r.prototype.getNum=function(t){return aot(this.gridOptions[t])},r.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},r.prototype.exists=function(t){return ce(this.gridOptions[t])},r.prototype.mergeGridCommonParams=function(t){var n=this;if(t){var i=function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,t(s)};return i}return t},r.prototype.__setPropertyOnly=function(t,n){var i=this.gridOptions[t];return this.gridOptionLookup.has(t)&&(this.gridOptions[t]=n),i!==n},r.prototype.set=function(t,n,i,o,s){if(i===void 0&&(i=!1),o===void 0&&(o={}),s===void 0&&(s=void 0),this.gridOptionLookup.has(t)){var a=this.gridOptions[t];if(i||a!==n){this.gridOptions[t]=n;var l=Bk({type:t,currentValue:n,previousValue:a,changeSet:s},o);this.propertyEventService.dispatchEvent(l)}}},r.prototype.addEventListener=function(t,n){this.propertyEventService.addEventListener(t,n)},r.prototype.removeEventListener=function(t,n){this.propertyEventService.removeEventListener(t,n)},r.prototype.getGridId=function(){return this.api.getGridId()},r.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=t?this.gridOptions.scrollbarWidth:Qpe();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:k.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&ut(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(t){var n,i=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return i===t},r.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},r.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},r.prototype.getRowHeightForNode=function(t,n,i){if(n===void 0&&(n=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var o={node:t,data:t.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Ht(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}if(t.detail&&this.is("masterDetail"))return this.getMasterDetailRowHeight();var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:a,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||ut(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(t,n){var i=t[this.getDomDataKey()];return i?i[n]:void 0},r.prototype.setDomData=function(t,n,i){var o=this.getDomDataKey(),s=t[o];ut(s)&&(s={},t[o]=s),s[n]=i},r.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&ce(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&ce(t)?t:document},r.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return ce(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return this.is("ensureDomOrder")?!1:this.is("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))},r.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef,n=this.isRowModelType("clientSide");return n&&!(t!=null&&t.comparator)&&!this.is("treeData")},r.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(cT(t))return function(){return!0}},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return cT(t)||typeof t=="function"},r.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):cT(t)?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Tk("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType?Tk("groupRows",this.gridOptions.groupDisplayType):!1};var e;return r.alwaysSyncGlobalEvents=new Set([k.EVENT_GRID_PRE_DESTROYED]),Pd([V("gridOptions")],r.prototype,"gridOptions",void 0),Pd([V("eventService")],r.prototype,"eventService",void 0),Pd([V("environment")],r.prototype,"environment",void 0),Pd([V("eGridDiv")],r.prototype,"eGridDiv",void 0),Pd([Zq(0,Ii("gridApi")),Zq(1,Ii("columnApi"))],r.prototype,"agWire",null),Pd([we],r.prototype,"init",null),Pd([ui],r.prototype,"destroy",null),r=e=Pd([Me("gridOptionsService")],r),r}(),lot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uot=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sve=function(r){lot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(i,o,s){var a={key:i,defaultValue:o,variableValues:s};return t(a)};var n=this.gridOptionsService.get("localeText");return function(i,o,s){var a=n&&n[i];if(a&&s&&s.length)for(var l=0;!(l>=s.length);){var u=a.indexOf("${variable}");if(u===-1)break;a=a.replace("${variable}",s[l++])}return a??o}},e=uot([Me("localeService")],e),e}(ye),cot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dot=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hot=function(r){cot(e,r);function e(){return r.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new qge(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,k.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=t&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Aa(this.getGui(),o),Aa(this.eViewport,o),Aa(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getBodyViewportElement();this.eViewport.scrollTop!=n.scrollTop&&(this.eViewport.scrollTop=n.scrollTop)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t){df(this.getViewport())||this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,dot([we],e.prototype,"postConstruct",null),e}(ive),fot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uo=function(){return Uo=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Uo.apply(this,arguments)},Rf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ul=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ZC=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},nQ={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},rQ=["january","february","march","april","may","june","july","august","september","october","november","december"],ave=function(r){fot(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs("gridOptionsChanged")})},e.prototype.processDataTypeDefinitions=function(){var t=this,n,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(s){var a=Ul(s,2),l=a[0],u=a[1];t.dataTypeDefinitions[l]=Uo(Uo({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=Ul(s,2),l=a[0],u=a[1],c=t.processDataTypeDefinition(u,o,[l],i);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(s){var a=t.dataTypeMatchers[s];a&&delete t.dataTypeMatchers[s],t.dataTypeMatchers[s]=a??i[s].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,n){var i=Uo(Uo({},t),n);return t.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(i.columnTypes=ZC(ZC([],Ul(this.convertColumnTypes(t.columnTypes))),Ul(this.convertColumnTypes(n.columnTypes)))),i},e.prototype.processDataTypeDefinition=function(t,n,i,o){var s,a=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=o[a];if(!this.validateDataTypeDefinition(t,l,a))return;s=this.mergeDataTypeDefinitions(l,t)}else{if(i.includes(a)){Ht(function(){return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')},"dataTypeExtendsCircularRef");return}var u=n[a];if(!this.validateDataTypeDefinition(t,u,a))return;var c=this.processDataTypeDefinition(u,n,ZC(ZC([],Ul(i)),[a]),o);if(!c)return;s=this.mergeDataTypeDefinitions(c,t)}return Uo(Uo({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},e.prototype.validateDataTypeDefinition=function(t,n,i){return n?n.baseDataType!==t.baseDataType?(Ht(function(){return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')},"dataTypeBaseTypesMatch"),!1):!0:(Ht(function(){return console.warn("AG Grid: The data type definition "+i+" does not exist.")},"dataTypeDefMissing"+i),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var n=this;if(t.valueFormatter)return function(i){var o,s;if(!((o=i.node)===null||o===void 0)&&o.group){var a=i.column.getAggFunc();if(a){if(a==="first"||a==="last")return t.valueFormatter(i);if(t.baseDataType==="number"&&a!=="count"){if(typeof i.value=="number")return t.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return t.valueFormatter(Uo(Uo({},i),{value:i.value.toNumber()}));if("value"in i.value)return t.valueFormatter(Uo(Uo({},i),{value:i.value.value}))}}}return}else if(n.groupHideOpenParents&&i.column.isRowGroupActive())return typeof i.value!="string"||!((s=t.dataTypeMatcher)===null||s===void 0)&&s.call(t,i.value)?t.valueFormatter(i):void 0;return t.valueFormatter(i)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,n,i){var o=n.cellDataType,s=n.field;if(o===void 0&&(o=t.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(t,n)?this.inferCellDataType(s,i):!1),!o){t.cellDataType=!1;return}var a=this.dataTypeDefinitions[o];if(!a){Ht(function(){return console.warn('AG Grid: Missing data type definition - "'+o+'"')},"dataTypeMissing"+o);return}return t.cellDataType=o,a.groupSafeValueFormatter&&(t.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(t.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,a,i),a.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,n,i){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(t,n,i),l=(s=(o=n.type)!==null&&o!==void 0?o:a)!==null&&s!==void 0?s:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[t.getColId()];if(n){var i=function(o){n.add(o.key)};t.addEventListener(Tn.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(Tn.EVENT_STATE_UPDATED,i)})}}},e.prototype.canInferCellDataType=function(t,n){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var a=n.type===null?t.type:n.type;if(a){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(a).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,s)});if(u)return!1}return!this.doColDefPropsPreventInference(t,s)},e.prototype.doColDefPropsPreventInference=function(t,n){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=Ul(o,2),a=s[0],l=s[1];return i.doesColDefPropPreventInference(t,n,a,l)})},e.prototype.doesColDefPropPreventInference=function(t,n,i,o){if(!n[i])return!1;var s=t[i];return s===null?(n[i]=!1,!1):o===void 0?!!s:s===o},e.prototype.inferCellDataType=function(t,n){var i;if(t){var o,s=this.getInitialData();if(s){var a=t.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");o=rv(s,t,a)}else this.initWaitForRowData(n);if(o!=null){var l=Ul((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=Ul(c,2);d[0];var h=d[1];return h(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n!=null&&n.length?n[0].data:null},e.prototype.initWaitForRowData=function(t){var n=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,k.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;if(a){o==null||o(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(a,i),n.columnStateUpdatesPendingInference={},i&&n.columnModel.processResizeOperations();var l={type:k.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,n){var i=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=Ul(l,2),c=u[0],d=u[1],h=i.columnModel.getGridColumn(c);if(h){var f=h.getColDef();if(i.columnModel.resetColumnDefIntoColumn(h)){var p=h.getColDef();if(n&&p.type&&p.type!==f.type){var g=i.getUpdatedColumnState(h,d);g.rowGroup&&g.rowGroupIndex==null&&(s[c]=g),g.pivot&&g.pivotIndex==null&&(a[c]=g),o.push(g)}}}}),n&&o.push.apply(o,ZC([],Ul(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)))),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,n){var i=this.columnModel.getColumnStateFromColDef(t);return n.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},e.prototype.checkObjectValueHandlers=function(t){var n=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=n.valueParser!==i.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==i.valueFormatter},e.prototype.convertColumnTypes=function(t){var n=[];if(t instanceof Array){var i=t.some(function(o){return typeof o!="string"});i?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else typeof t=="string"?n=t.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return n},e.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},e.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},e.prototype.getDataTypeDefinition=function(t){var n=t.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},e.prototype.getBaseDataType=function(t){var n;return(n=this.getDataTypeDefinition(t))===null||n===void 0?void 0:n.baseDataType},e.prototype.checkType=function(t,n){var i;if(n==null)return!0;var o=(i=this.getDataTypeDefinition(t))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(n):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Ht(function(){return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')},"dataTypeObjectValueFormatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Ht(function(){return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')},"dataTypeObjectValueParser"))},e.prototype.setColDefPropertiesForBaseDataType=function(t,n,i){var o=this,s=function(d,h,f){var p=d.getColDef().valueFormatter;return p===n.groupSafeValueFormatter&&(p=n.valueFormatter),o.valueFormatterService.formatValue(d,h,f,p)},a=lt.__isRegistered(Ne.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var h=t.filterParams;t.filterParams=typeof h=="object"?Uo(Uo({},h),d):d};switch(t.useValueFormatterForExport=!0,t.useValueParserForImport=!0,n.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",a&&u({comparator:function(d,h){var f=d==null?0:parseInt(d),p=h==null?0:parseInt(h);return f===p?0:f>p?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===ne.SPACE},u(a?{valueFormatter:function(d){return ce(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return h===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)},a&&u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return ce(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(h===1&&d!=null){var f=rQ[Number(d)-1];return l(f,nQ[f])}return d??l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)};var c=this.getDateParserFunction();u(a?{valueFormatter:function(d){var h=s(d.column,d.node,d.value);return ce(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=c(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(h===1&&d!=null){var f=rQ[Number(d)-1];return l(f,nQ[f])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var f=c(h);return h==null||f<d?-1:f>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,h){var f=o.columnModel.getPrimaryColumn(i),p=f==null?void 0:f.getColDef();if(!f||!p)return 0;var g=d==null?"":s(f,null,d),C=h==null?"":s(f,null,h);return g===C?0:g>C?1:-1},t.keyCreator=function(d){return s(d.column,d.node,d.value)},a?u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return ce(h)?h:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return s(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){return i.newValue===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?n("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:vE(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){return i.newValue===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return es(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?n("invalidDate","Invalid Date"):(o=Da(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=es(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=Da(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return t(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return t(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&t(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=vE(i.value))!==null&&o!==void 0?o:""}}}},Rf([V("rowModel")],e.prototype,"rowModel",void 0),Rf([V("columnModel")],e.prototype,"columnModel",void 0),Rf([V("columnUtils")],e.prototype,"columnUtils",void 0),Rf([V("valueService")],e.prototype,"valueService",void 0),Rf([V("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Rf([we],e.prototype,"init",null),e=Rf([Me("dataTypeService")],e),e}(ye),pot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iQ=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lve=function(r){pot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.parseValue=function(t,n,i,o){var s=t.getColDef(),a={node:n,data:n==null?void 0:n.data,oldValue:o,newValue:i,colDef:s,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},l=s.valueParser;return ce(l)?typeof l=="function"?l(a):this.expressionService.evaluate(l,a):i},iQ([V("expressionService")],e.prototype,"expressionService",void 0),e=iQ([Me("valueParserService")],e),e}(ye),oQ=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},sQ=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},got=function(){function r(e,t,n){if(!t){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=t,new uve().create(e,t,function(i){var o=new Yme(e);i.createBean(o)},void 0,n)}return r.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},r}(),mot=1,uve=function(){function r(){}return r.prototype.create=function(e,t,n,i,o){var s=this,a,l=!!t.debug,u=(a=t.gridId)!==null&&a!==void 0?a:String(mot++),c=this.getRegisteredModules(o,u),d=this.createBeansList(t.rowModelType,c,u),h=this.createProvidedBeans(e,t,o);if(d){var f={providedBeanInstances:h,beanClasses:d,debug:l,gridId:u},p=new xx("AG Grid",function(){return t.debug}),g=new xx("Context",function(){return f.debug}),C=new upe(f,g),m=C.getBean("beans");this.registerModuleUserComponents(m,c),this.registerStackComponents(m,c),this.registerControllers(m,c),n(C),m.ctrlsService.whenReady(function(){s.setColumnsAndData(m),s.dispatchGridReadyEvent(m);var y=lt.__isRegistered(Ne.EnterpriseCoreModule,u);p.log("initialised successfully, enterprise = "+y)}),i&&i(C)}},r.prototype.registerControllers=function(e,t){t.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return e.ctrlsFactory.register(i)})})},r.prototype.registerStackComponents=function(e,t){var n=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(n)},r.prototype.getRegisteredModules=function(e,t){var n=e?e.modules:null,i=lt.__getRegisteredModules(t),o=[],s={},a=function(l,u,c){var d=function(h){s[h.moduleName]||(s[h.moduleName]=!0,o.push(h),lt.__register(h,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(h){return a(l,h,c)})};return n&&n.forEach(function(l){return a(!0,l,t)}),i&&i.forEach(function(l){return a(!lt.__isPackageBased(),l,void 0)}),o},r.prototype.registerModuleUserComponents=function(e,t){var n=this.extractModuleEntity(t,function(i){return i.userComponents?i.userComponents:[]});n.forEach(function(i){e.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},r.prototype.createProvidedBeans=function(e,t,n){var i=n?n.frameworkOverrides:null;ut(i)&&(i=new kme);var o={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:yR},{componentName:"AgRadioButton",componentClass:$U},{componentName:"AgToggleButton",componentClass:Pme},{componentName:"AgInputTextField",componentClass:hf},{componentName:"AgInputTextArea",componentClass:Ome},{componentName:"AgInputNumberField",componentClass:rL},{componentName:"AgInputDateField",componentClass:Dme},{componentName:"AgInputRange",componentClass:Ame},{componentName:"AgRichSelect",componentClass:xme},{componentName:"AgSelect",componentClass:nL},{componentName:"AgSlider",componentClass:Ime},{componentName:"AgGridBody",componentClass:Xge},{componentName:"AgHeaderRoot",componentClass:gme},{componentName:"AgSortIndicator",componentClass:oL},{componentName:"AgPagination",componentClass:Fit},{componentName:"AgOverlayWrapper",componentClass:Lit},{componentName:"AgGroupComponent",componentClass:Fme},{componentName:"AgPanel",componentClass:t2},{componentName:"AgDialog",componentClass:Nme},{componentName:"AgRowContainer",componentClass:rme},{componentName:"AgFakeHorizontalScroll",componentClass:not},{componentName:"AgFakeVerticalScroll",componentClass:hot},{componentName:"AgAutocomplete",componentClass:Vme}],n=this.extractModuleEntity(e,function(i){return i.agStackComponents?i.agStackComponents:[]});return t=t.concat(n),t},r.prototype.createBeansList=function(e,t,n){e===void 0&&(e="clientSide");var i=t.filter(function(u){return!u.rowModel||u.rowModel===e}),o={clientSide:Ne.ClientSideRowModelModule,infinite:Ne.InfiniteRowModelModule,serverSide:Ne.ServerSideRowModelModule,viewport:Ne.ViewportRowModelModule};if(!o[e]){console.error("AG Grid: could not find row model for rowModelType = "+e);return}if(lt.__assertRegistered(o[e],"rowModelType = '"+e+"'",n)){var s=[qU,Zme,eve,tve,fit,jge,kge,Cit,Sit,yme,$ge,Ait,mme,sve,HXe,_me,Bge,Ope,ld,ove,Gme,Qrt,Uge,Tpe,fme,bme,Sme,Wme,Spe,Ume,$me,eme,Qme,jme,zme,Ppe,wme,vme,ri,Bme,wp,Zge,Xme,Hme,Eme,Tme,Jge,qme,uit,dit,Jme,OXe,vit,Cme,jit,Dpe,zit,Kit,Rme,nve,rve,iot,sot,Zit,ave,lve,Wge],a=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});s.push.apply(s,sQ([],oQ(a)));var l=[];return s.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},r.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],sQ([],oQ(e.map(t))))},r.prototype.setColumnsAndData=function(e){var t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},r.prototype.dispatchGridReadyEvent=function(e){var t={type:k.EVENT_GRID_READY};e.eventService.dispatchEvent(t)},r}(),vot=function(){function r(){}return r.prototype.wrap=function(e,t,n,i){var o=this;n===void 0&&(n=[]);var s=this.createWrapper(e,i);return t.forEach(function(a){o.createMethod(s,a,!0)}),n.forEach(function(a){o.createMethod(s,a,!1)}),s},r.prototype.unwrap=function(e){return e},r.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},r.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},r}(),yot={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},Cot=["chartSettings","chartData","chartFormat"],wot=["chartUnlink","chartLink","chartDownload"],Sot={settings:"chartSettings",data:"chartData",format:"chartFormat"},Eot=0,jk;(function(r){r.InsideBase="insideBase",r.InsideEnd="insideEnd",r.Center="center",r.OutsideEnd="outsideEnd"})(jk||(jk={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Uy=typeof global>"u"?{}:global;Uy.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Uy.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Uy.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Uy.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Uy.Node=typeof Node>"u"?{}:Node;Uy.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var ew=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},tw=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},_ot=function(){function r(e,t,n,i,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return r.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")},r.prototype.getCopyOfNodesMap=function(){return st.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(e){return this.allNodesMap[e]},r.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,r.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)},r.prototype.updateRowData=function(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&st.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},r.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:k.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)},r.prototype.updateSelection=function(e,t){var n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){var i={type:k.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}},r.prototype.executeAdd=function(e,t){var n=this,i,o=e.add,s=e.addIndex;if(!st.missingOrEmpty(o)){var a=o.map(function(g){return n.createNode(g,n.rootNode,r.TOP_LEVEL)});if(typeof s=="number"&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s,d=this.gridOptionsService.is("treeData");if(d&&s>0&&u>0){for(var h=0;h<u;h++)if(((i=l[h])===null||i===void 0?void 0:i.rowIndex)==s-1){c=h+1;break}}var f=l.slice(0,c),p=l.slice(c,l.length);this.rootNode.allLeafChildren=tw(tw(tw([],ew(f)),ew(a)),ew(p))}else this.rootNode.allLeafChildren=tw(tw([],ew(this.rootNode.allLeafChildren)),ew(a));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=a}},r.prototype.executeRemove=function(e,t,n){var i=this,o=e.remove;if(!st.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=i.lookupRowNode(a);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete i.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(e,t,n){var i=this,o=e.update;st.missingOrEmpty(o)||o.forEach(function(s){var a=i.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&n.push(a),i.setMasterForRow(a,s,r.TOP_LEVEL,!1),t.update.push(a))})},r.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),n;if(t){var i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},r.prototype.createNode=function(e,t,n){var i=new xt(this.beans);return i.group=!1,this.setMasterForRow(i,e,n,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},r.prototype.setMasterForRow=function(e,t,n,i){var o=this.gridOptionsService.is("treeData");if(o)e.setMaster(!1),i&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),i){var s=this.columnModel.getRowGroupColumns(),a=s?s.length:0,l=n+a;e.expanded=e.master?this.isExpanded(l):!1}},r.prototype.isExpanded=function(e){var t=this.gridOptionsService.getNum("groupDefaultExpanded");return t===-1?!0:e<t},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),Rot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$o=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nw=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},rw=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},nu;(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"})(nu||(nu={}));var bot=function(r){Rot(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=st.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t}return e.prototype.init=function(){var t=this,n=this.refreshModel.bind(this,{step:ln.EVERYTHING}),i=!this.gridOptionsService.is("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ln.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,k.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,k.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ln.PIVOT})),this.addManagedListener(this.eventService,k.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,k.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var s=this.refreshModel.bind(this,{step:ln.MAP,keepRenderedRows:!0,animate:i});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],s);var a=this.refreshModel.bind(this,{step:ln.AGGREGATE,keepRenderedRows:!0,animate:i});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],a),this.rootNode=new xt(this.beans),this.nodeManager=new _ot(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",function(){t.setRowData(t.rootNode.allLeafChildren.map(function(l){return l.data}))})},e.prototype.start=function(){var t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,n,i,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(n),c=Math.max(l,i),d=Math.min(u,o),h=c;h<=d;h++){var f=this.getRow(h);if(f.rowHeightEstimated){var p=this.gridOptionsService.getRowHeightForNode(f);f.setRowHeight(p.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),n=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&i.add(a.id),a.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(a,o,t);a.setRowHeight(l.height,l.estimated)}a.setRowTop(n),a.setRowIndex(s),n+=a.rowHeight}return i},e.prototype.clearRowTopAndRowIndex=function(t,n){var i=t.isActive(),o=function(a){a&&a.id!=null&&!n.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=i&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,n,i){var o=this;i===void 0&&(i=0);var s=this.getRowIndexAtPixel(n),a=this.getRow(s),l=!this.gridOptionsService.is("suppressAnimationFrame");return a===t[0]?!1:(t.forEach(function(u){st.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){st.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+i,0)+c)}),this.refreshModel({step:ln.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,n){var i=n!=null?this.getRowIndexAtPixel(n):null,o=i!=null?this.getRow(i):null;if(!o||!t||o===t||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,n){if(!n){var i=this.getRowIndexAtPixel(t);if(n=this.getRow(i||0),!n)return Du.Below}var o=n.rowTop,s=n.rowHeight;return t-o<s/2?Du.Above:Du.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return t;var i=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},e.prototype.getRowBounds=function(t){if(st.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[t];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ln.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),i=t.columns.length===0||t.columns.some(function(s){return s.isPrimary()}),o=i?ln.FILTER:ln.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ln.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ln.PIVOT}):this.refreshModel({step:ln.AGGREGATE})},e.prototype.createChangePath=function(t){var n=st.missingOrEmpty(t),i=new cL(!1,this.rootNode);return(n||this.gridOptionsService.is("treeData"))&&i.setInactive(),i},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var n=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=n==null||n.length==0;return i},e.prototype.buildRefreshModelParams=function(t){var n=ln.EVERYTHING,i={everything:ln.EVERYTHING,group:ln.EVERYTHING,filter:ln.FILTER,map:ln.MAP,aggregate:ln.AGGREGATE,sort:ln.SORT,pivot:ln.PIVOT};if(st.exists(t)&&(n=i[t]),st.missing(n)){console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(i).join(", "));return}var o=!this.gridOptionsService.is("suppressAnimationFrame"),s={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return s},e.prototype.refreshModel=function(t){var n=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var i=this.createChangePath(n.rowNodeTransactions);switch(n.step){case ln.EVERYTHING:this.doRowGrouping(n.groupState,n.rowNodeTransactions,n.rowNodeOrder,i,!!n.afterColumnsChanged);case ln.FILTER:this.doFilter(i);case ln.PIVOT:this.doPivot(i);case ln.AGGREGATE:this.doAggregate(i);case ln.FILTER_AGGREGATES:this.doFilterAggregates(i);case ln.SORT:this.doSort(n.rowNodeTransactions,i);case ln.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o);var s={type:k.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(s)}},e.prototype.isEmpty=function(){var t=st.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return st.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return st.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,n){var i=!n,o=!1,s=[],a=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===n||l===t)&&(o=!0,l.group&&a)){s.push.apply(s,rw([],nw(l.allLeafChildren)));return}if(!i){if(l!==n&&l!==t)return;i=!0}var u=!l.group||!a;if(u){s.push(l);return}}}),s},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=st.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((n+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?n=l+1:u.rowTop>t&&(i=l-1);var c=s===n&&a===i;if(c)return l;s=n,a=i}},e.prototype.isRowInPixel=function(t,n){var i=t.rowTop,o=t.rowTop+t.rowHeight,s=i<=n&&o>n;return s},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return t(n,i)})},e.prototype.forEachNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:rw([],nw(this.rootNode.childrenAfterGroup||[])),callback:t,recursionType:nu.Normal,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilter=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:rw([],nw(this.rootNode.childrenAfterAggFilter||[])),callback:t,recursionType:nu.AfterFilter,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilterAndSort=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:rw([],nw(this.rootNode.childrenAfterSort||[])),callback:t,recursionType:nu.AfterFilterAndSort,index:0,includeFooterNodes:n})},e.prototype.forEachPivotNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:nu.PivotNodes,index:0,includeFooterNodes:n})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var n,i=t.nodes,o=t.callback,s=t.recursionType,a=t.includeFooterNodes,l=t.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(s){case nu.Normal:d=c.childrenAfterGroup;break;case nu.AfterFilter:d=c.childrenAfterAggFilter;break;case nu.AfterFilterAndSort:d=c.childrenAfterSort;break;case nu.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:rw([],nw(d)),callback:o,recursionType:s,index:l,includeFooterNodes:a}))}}var h=(n=i[0])===null||n===void 0?void 0:n.parent;if(!a||!h)return l;var f=h===this.rootNode;if(f){var p=this.gridOptionsService.is("groupIncludeTotalFooter");if(!p)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:h}))return l}return h.createFooter(),o(h.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var n=this.gridOptionsService.is("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(n){var d=st.exists(u.childrenAfterGroup);d&&c();return}if(i){var h=!u.leafGroup;h&&c();return}var f=u.group;f&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ln.MAP});var s=t?"expandAll":"collapseAll",a={type:k.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},e.prototype.doSort=function(t,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:n})},e.prototype.doRowGrouping=function(t,n,i,o,s){if(this.groupStage){if(n?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:n,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:s}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o);if(a){var l={type:k.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(l)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},e.prototype.restoreGroupState=function(t){t&&st.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){typeof t[i]=="boolean"&&(n.expanded=t[i])})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var t={};return st.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){return t[i]=n.expanded}),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var n=typeof t=="string"&&t.indexOf(xt.ID_PREFIX_ROW_GROUP)==0;if(n){var i=void 0;return this.forEachNode(function(o){o.id===t&&(i=o)}),i}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var n=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var i={type:k.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(i),this.refreshModel({step:ln.EVERYTHING,groupState:n,newData:!0})},e.prototype.batchUpdateRowData=function(t,n){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:n})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var n=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=t.nodeManager.updateRowData(a.rowDataTransaction,void 0);i.push(l),a.callback&&n.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(a){return a()})},0),i.length>0){var s={type:k.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(t,n),o=typeof t.addIndex=="number";return this.commonUpdateRowData([i],n,o),i},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.is("suppressMaintainUnsortedOrder");if(!t){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];n[o.id]=i}return n}},e.prototype.commonUpdateRowData=function(t,n,i){var o=!this.gridOptionsService.is("suppressAnimationFrame");i&&(n=this.createRowNodeOrder()),this.refreshModel({step:ln.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var s={type:k.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:ln.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},$o([V("columnModel")],e.prototype,"columnModel",void 0),$o([V("selectionService")],e.prototype,"selectionService",void 0),$o([V("filterManager")],e.prototype,"filterManager",void 0),$o([V("valueCache")],e.prototype,"valueCache",void 0),$o([V("beans")],e.prototype,"beans",void 0),$o([V("filterStage")],e.prototype,"filterStage",void 0),$o([V("sortStage")],e.prototype,"sortStage",void 0),$o([V("flattenStage")],e.prototype,"flattenStage",void 0),$o([nn("groupStage")],e.prototype,"groupStage",void 0),$o([nn("aggregationStage")],e.prototype,"aggregationStage",void 0),$o([nn("pivotStage")],e.prototype,"pivotStage",void 0),$o([nn("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),$o([we],e.prototype,"init",null),e=$o([Me("rowModel")],e),e}(ye),Tot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aQ=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Pot=function(r){Tot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.changedPath;this.filterService.filter(n)},aQ([V("filterService")],e.prototype,"filterService",void 0),e=aQ([Me("filterStage")],e),e}(ye),Oot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dot=function(r){Oot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=this,i=this.sortController.getSortOptions(),o=st.exists(i)&&i.length>0,s=o&&st.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),a=i.some(function(l){var u=n.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,s,t.rowNodeTransactions,t.changedPath,a)},dT([V("sortService")],e.prototype,"sortService",void 0),dT([V("sortController")],e.prototype,"sortController",void 0),dT([V("columnModel")],e.prototype,"columnModel",void 0),e=dT([Me("sortStage")],e),e}(ye),Aot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xot=function(r){Aot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.rowNode,i=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,a=s?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,i,o,0);var u=i.length>0,c=!s&&u&&l.groupIncludeTotalFooter;return c&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,i,0)),i},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.is("groupRemoveSingleChildren"),n=!t&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,n,i,o,s){if(!st.missingOrEmpty(n))for(var a=0;a<n.length;a++){var l=n[a],u=l.hasChildren(),c=o&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,h=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,f=o&&l.leafGroup,p=t.hideOpenParents&&l.expanded&&!l.master&&!f,g=!c&&!p&&!d&&!h;if(g&&this.addRowNodeToRowsToDisplay(t,l,i,s),!(o&&l.leafGroup)){if(u){var C=d||h;if(l.expanded||C){var m=C?s:s+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,i,o,m);var y=t.getGroupIncludeFooter({node:l});y?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,i,m)):l.destroyFooter()}}else if(l.master&&l.expanded){var w=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,w,i,s)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,n,i,o){i.push(n),n.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(st.exists(t.detailNode))return t.detailNode;var n=new xt(this.beans);return n.detail=!0,n.selectable=!1,n.parent=t,st.exists(t.id)&&(n.id="detail_"+t.id),n.data=t.data,n.level=t.level+1,t.detailNode=n,n},gG([V("columnModel")],e.prototype,"columnModel",void 0),gG([V("beans")],e.prototype,"beans",void 0),e=gG([Me("flattenStage")],e),e}(ye),Iot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fot=function(r){Iot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")},e.prototype.sort=function(t,n,i,o,s,a){var l=this,u=this.gridOptionsService.is("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(p){return p.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),f=function(p){l.pullDownGroupDataForHideOpenParents(p.childrenAfterAggFilter,!0);var g=h&&p.leafGroup,C=u&&c&&!p.leafGroup&&!a;if(C){var m=p.childrenAfterAggFilter.slice(0);if(p.childrenAfterSort){var y={};p.childrenAfterSort.forEach(function(E,P){y[E.id]=P}),m.sort(function(E,P){var T,R;return((T=y[E.id])!==null&&T!==void 0?T:0)-((R=y[P.id])!==null&&R!==void 0?R:0)})}p.childrenAfterSort=m}else!n||g?p.childrenAfterSort=p.childrenAfterAggFilter.slice(0):i?p.childrenAfterSort=l.doDeltaSort(p,d,s,t):p.childrenAfterSort=l.rowNodeSorter.doFullSort(p.childrenAfterAggFilter,t);if(p.sibling&&(p.sibling.childrenAfterSort=p.childrenAfterSort),l.updateChildIndexes(p),l.postSortFunc){var w={nodes:p.childrenAfterSort};l.postSortFunc(w)}};s&&s.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(s)},e.prototype.calculateDirtyNodes=function(t){var n={},i=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return t&&t.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),n},e.prototype.doDeltaSort=function(t,n,i,o){var s=this,a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(p){n[p.id]||!i.canSkip(p)?c.push(p):u[p.id]=!0});var d=l.filter(function(p){return u[p.id]}),h=function(p,g){return{currentPos:g,rowNode:p}},f=c.map(h).sort(function(p,g){return s.rowNodeSorter.compareRowNodes(o,p,g)});return this.mergeSortedArrays(o,f,d.map(h)).map(function(p){var g=p.rowNode;return g})},e.prototype.mergeSortedArrays=function(t,n,i){for(var o=[],s=0,a=0;s<n.length&&a<i.length;){var l=this.rowNodeSorter.compareRowNodes(t,n[s],i[a]);l<0?o.push(n[s++]):o.push(i[a++])}for(;s<n.length;)o.push(n[s++]);for(;a<i.length;)o.push(i[a++]);return o},e.prototype.updateChildIndexes=function(t){if(!st.missing(t.childrenAfterSort))for(var n=t.childrenAfterSort,i=0;i<n.length;i++){var o=n[i],s=i===0,a=i===t.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(i)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var n=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.is("treeData")){var i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return st.doOnce(function(){return console.warn(i)},"sortService.hideOpenParentsWithTreeData"),!1}var o=function(s){n.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(function(a){a.hasChildren()&&o(a)})};t&&t.executeFromRootNode(function(s){return o(s)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,n){var i=this;!this.gridOptionsService.is("groupHideOpenParents")||st.missing(t)||t.forEach(function(o){var s=i.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(a.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(a.getId(),h.key)}})})},hT([V("columnModel")],e.prototype,"columnModel",void 0),hT([V("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),hT([we],e.prototype,"init",null),e=hT([Me("sortService")],e),e}(ye),Mot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lQ=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Lot=function(r){Mot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(t){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,t)},e.prototype.filterNodes=function(t,n){var i=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,f=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return h||f}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var h=u.childrenAfterGroup[d],f=c||i.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?s(u.childrenAfterGroup[d],f):o(h,f)}o(u,c)},a=function(u){return s(u,!1)};n.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},lQ([V("filterManager")],e.prototype,"filterManager",void 0),e=lQ([Me("filterService")],e),e}(ye),Not=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Got=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Vot=function(r){Not(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.is("resetRowDataOnUpdate");return n?!1:t},e.prototype.setRowData=function(t){var n=this.createTransactionForRowData(t);if(n){var i=Got(n,2),o=i[0],s=i[1];this.clientSideRowModel.updateRowData(o,s)}},e.prototype.createTransactionForRowData=function(t){if(st.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.is("suppressMaintainUnsortedOrder"),a=s?void 0:{};return st.exists(t)&&t.forEach(function(l,u){var c=n({data:l,level:0}),d=o[c];if(a&&(a[c]=u),d){var h=d.data!==l;h&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),st.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,a]},fT([V("rowModel")],e.prototype,"rowModel",void 0),fT([V("rowRenderer")],e.prototype,"rowRenderer",void 0),fT([we],e.prototype,"postConstruct",null),e=fT([Me("immutableService")],e),e}(ye),kot="30.2.1",cve={version:kot,moduleName:Ne.ClientSideRowModelModule,rowModel:"clientSide",beans:[bot,Pot,Dot,xot,Fot,Lot,Vot]},Hot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mG=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uQ=function(r){Hot(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parentCache=n,o.params=i,o.startRow=t*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,n,i){st.exists(n)?t.setDataAndId(n,i.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,n=this.createLoadParams();if(st.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(n)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return t},e.prototype.forEachNode=function(t,n,i){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<i&&t(s,n.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=t-this.startRow;return this.rowNodes[i]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var n=this.startRow+t,i=new xt(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},e.prototype.processServerResult=function(t){var n=this;this.rowNodes.forEach(function(o,s){var a=t.rowData?t.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(n.rowNodes[s]=new xt(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],a,n.startRow+s)});var i=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,i)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},mG([V("beans")],e.prototype,"beans",void 0),mG([we],e.prototype,"postConstruct",null),mG([ui],e.prototype,"destroyRowNodes",null),e}(Tx),$ot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pT=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Bot=function(r,e){return function(t,n){e(t,n,r)}},jot=function(r){$ot(e,r);function e(t){var n=r.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,n){n===void 0&&(n=!1);var i=Math.floor(t/this.params.blockSize),o=this.blocks[i];if(!o){if(n)return;o=this.createBlock(i)}return o.getRow(t)},e.prototype.createBlock=function(t){var n=this.createBean(new uQ(t,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.destroyBlock(n)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+n),this.checkRowCount(t,n),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,i=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===uQ.STATE_WAITING_TO_LOAD&&c>=l,h=s?c>=a:!1;if(d||h){if(n.isBlockCurrentlyDisplayed(u)||n.isBlockFocused(u))return;n.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var i=t.getStartRow(),o=t.getEndRow(),s=n.rowIndex>=i&&n.rowIndex<o;return s},e.prototype.isBlockCurrentlyDisplayed=function(t){var n=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(t.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,n){this.rowCount=t,st.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var n=this,i=new Jp;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,i,n.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(i,o){return i.getId()-o.getId()},n=st.getAllValuesInObject(this.blocks).sort(t);return n},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:k.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,n=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*t.params.blockSize;o>=t.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return t.destroyBlock(i)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,n){var i=this,o=[],s=-1,a=!1,l=new Jp;st.missing(t)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(a&&s+1!==d.getId()){u=!0;return}s=d.getId(),d.forEachNode(function(h){var f=h===t||h===n;(a||f)&&o.push(h),f&&(a=!a)},l,i.rowCount)}});var c=u||a;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,pT([V("rowRenderer")],e.prototype,"rowRenderer",void 0),pT([V("focusService")],e.prototype,"focusService",void 0),pT([Bot(0,Ii("loggerFactory"))],e.prototype,"setBeans",null),pT([ui],e.prototype,"destroyAllBlocks",null),e}(ye),Wot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Od=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Uot=function(r){Wot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,n,i,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){var t="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";st.doOnce(function(){return console.warn(t)},"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,k.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,k.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,k.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!st.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,n):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),n=t!=null;n||this.selectionService.reset(),this.resetCache();var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}},e.prototype.createModelUpdatedEvent=function(){return{type:k.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new Jp},this.infiniteCache=this.createBean(new jot(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,n){return t>0?t:n},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var n;return this.forEachNode(function(i){i.id===t&&(n=i)}),n},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var n=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var n=this.getRowNode(t.id);return!!n},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,n){this.infiniteCache&&this.infiniteCache.setRowCount(t,n)},Od([V("filterManager")],e.prototype,"filterManager",void 0),Od([V("sortController")],e.prototype,"sortController",void 0),Od([V("selectionService")],e.prototype,"selectionService",void 0),Od([V("rowRenderer")],e.prototype,"rowRenderer",void 0),Od([V("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Od([we],e.prototype,"init",null),Od([ui],e.prototype,"destroyDatasource",null),e=Od([Me("rowModel")],e),e}(ye),zot="30.2.1",dve={version:zot,moduleName:Ne.InfiniteRowModelModule,rowModel:"infinite",beans:[Uot]},hve=function(){function r(){}return r.prototype.setBeans=function(e){this.beans=e},r.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?e+"."+t:e},r.prototype.getData=function(e){var t=this.createSerializingSession(e),n=this.beans.gridSerializer.serialize(t,e);return n},r}(),fve=function(){function r(e){this.groupColumns=[];var t=e.columnModel,n=e.valueService,i=e.gridOptionsService,o=e.valueFormatterService,s=e.valueParserService,a=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return r.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t??""},r.prototype.extractRowCellValue=function(e,t,n,i,o){var s=this.gridOptionsService.is("groupHideOpenParents"),a=(!s||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:e,value:a,processCellCallback:this.processCellCallback,type:i});return l},r.prototype.shouldRenderGroupSummaryCell=function(e,t,n){var i,o=e&&e.group;if(!o)return!1;var s=this.groupColumns.indexOf(t);if(s!==-1){if(((i=e.groupData)===null||i===void 0?void 0:i[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var a=t.getColDef(),l=a==null||a.showRowGroup===!0;return l||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&u},r.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},r.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var t=e.footer,n=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,n.push(e.key);var i=n.reverse().join(" -> ");return t?"Total "+i:i},r.prototype.processCell=function(e){var t=this,n,i=e.accumulatedRowIndex,o=e.rowNode,s=e.column,a=e.value,l=e.processCellCallback,u=e.type;return l?{value:(n=l({accumulatedRowIndex:i,column:s,node:o,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:u,parseValue:function(c){return t.valueParserService.parseValue(s,o,c,t.valueService.getValue(s,o))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(s,o,c))!==null&&d!==void 0?d:c}}))!==null&&n!==void 0?n:""}:s.getColDef().useValueFormatterForExport?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},r}(),pve=function(){function r(){}return r.download=function(e,t){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=n.URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},r}(),Kot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cQ=`\r
`,Yot=function(r){Kot(e,r);function e(t){var n=r.call(this,t)||this;n.isFirstLine=!0,n.result="";var i=t.suppressQuotes,o=t.columnSeparator;return n.suppressQuotes=i,n.columnSeparator=o,n}return e.prototype.addCustomContent=function(t){var n=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,cQ),this.result+=t):t.forEach(function(i){n.beginNewLine(),i.forEach(function(o,s){s!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,n,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var n=1;n<=t;n++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,n,i){var o;n!=0&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(t,n,n,"csv",i);this.result+=this.putInQuotes((o=s.valueFormatted)!==null&&o!==void 0?o:s.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var n;typeof t=="string"?n=t:typeof t.toString=="function"?n=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var i=n.replace(/"/g,'""');return'"'+i+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=cQ),this.isFirstLine=!1},e}(fve),qot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},gve=function(r){qot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(t),i=this.getData(n),o=new Blob(["\uFEFF",i],{type:"text/plain"});return pve.download(this.getFileName(n.fileName),o),i},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,n){n===void 0&&(n=!1);var i=n?Object.assign({},t):this.getMergedParams(t);return this.getData(i)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var n=this,i=n.columnModel,o=n.valueService,s=n.gridOptionsService,a=n.valueFormatterService,l=n.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,h=u.processGroupHeaderCallback,f=u.processRowGroupCallback,p=u.suppressQuotes,g=u.columnSeparator;return new Yot({columnModel:i,valueService:o,gridOptionsService:s,valueFormatterService:a,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:h||void 0,processRowGroupCallback:f||void 0,suppressQuotes:p||!1,columnSeparator:g||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Dd([V("columnModel")],e.prototype,"columnModel",void 0),Dd([V("valueService")],e.prototype,"valueService",void 0),Dd([V("gridSerializer")],e.prototype,"gridSerializer",void 0),Dd([V("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Dd([V("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Dd([V("valueParserService")],e.prototype,"valueParserService",void 0),Dd([we],e.prototype,"postConstruct",null),e=Dd([Me("csvCreator")],e),e}(hve),Qot=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ad=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wk;(function(r){r[r.HEADER_GROUPING=0]="HEADER_GROUPING",r[r.HEADER=1]="HEADER",r[r.BODY=2]="BODY"})(Wk||(Wk={}));var mve=function(r){Qot(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.serialize=function(t,n){n===void 0&&(n={});var i=this.getColumnsToExport(n.allColumns,n.columnKeys),o=st.compose(this.prepareSession(i),this.prependContent(n),this.exportColumnGroups(n,i),this.exportHeaders(n,i),this.processPinnedTopRows(n,i),this.processRows(n,i),this.processPinnedBottomRows(n,i),this.appendContent(n));return o(t).parse()},e.prototype.processRow=function(t,n,i,o){var s=n.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.context,l=this.gridOptionsService.api,u=this.gridOptionsService.columnApi,c=this.gridOptionsService.is("groupRemoveSingleChildren"),d=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),h=n.rowPositions!=null,f=h||!!n.onlySelected,p=this.gridOptionsService.is("groupHideOpenParents")&&!f,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,C=!!o.footer,m=n.skipGroups||n.skipRowGroups,y=d&&o.leafGroup,w=o.allChildrenCount===1&&(c||y);if(m&&n.skipGroups&&st.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!g&&!C&&(n.skipRowGroups||w||p)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var E=o.level===-1;if(!(E&&!g&&!C)){var P=s({node:o,api:l,columnApi:u,context:a});if(!P){var T=t.onNewBodyRow(o);if(i.forEach(function(_,b){T.onColumn(_,b,o)}),n.getCustomContentBelowRow){var R=n.getCustomContentBelowRow({node:o,api:l,columnApi:u,context:a});R&&t.addCustomContent(R)}}}}},e.prototype.appendContent=function(t){return function(n){var i=t.customFooter||t.appendContent;return i&&(t.customFooter&&st.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),n.addCustomContent(i)),n}},e.prototype.prependContent=function(t){return function(n){var i=t.customHeader||t.prependContent;return i&&(t.customHeader&&st.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),n.addCustomContent(i)),n}},e.prototype.prepareSession=function(t){return function(n){return n.prepare(t),n}},e.prototype.exportColumnGroups=function(t,n){var i=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&st.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var s=new pU,a=i.displayedGroupCreator.createDisplayedGroups(n,s,null);i.recursivelyAddHeaderGroups(a,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,n){return function(i){if(!t.skipHeader&&!t.skipColumnHeaders){var o=i.onNewHeaderRow();n.forEach(function(s,a){o.onColumn(s,a,void 0)})}else t.skipHeader&&st.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return i}},e.prototype.processPinnedTopRows=function(t,n){var i=this;return function(o){var s=i.processRow.bind(i,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedTopRow(s),o}},e.prototype.processRows=function(t,n){var i=this;return function(o){var s=i.rowModel,a=s.getType(),l=a==="clientSide",u=a==="serverSide",c=!l&&t.onlySelected,d=i.processRow.bind(i,o,t,n),h=t.exportedRows,f=h===void 0?"filteredAndSorted":h;if(t.rowPositions)t.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,C){return g.rowIndex-C.rowIndex}).map(function(g){return s.getRow(g.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?s.forEachPivotNode(d,!0):u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);else if(t.onlySelectedAllPages||c){var p=i.selectionService.getSelectedNodes();i.replicateSortedOrder(p),p.forEach(d)}else f==="all"?s.forEachNode(d):l||u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);return o}},e.prototype.replicateSortedOrder=function(t){var n=this,i=this.sortController.getSortOptions(),o=function(s,a){var l,u,c,d;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((l=s.parent)===null||l===void 0?void 0:l.id)===((u=a.parent)===null||u===void 0?void 0:u.id)?n.rowNodeSorter.compareRowNodes(i,{rowNode:s,currentPos:(c=s.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:a,currentPos:(d=a.rowIndex)!==null&&d!==void 0?d:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,n){var i=this;return function(o){var s=i.processRow.bind(i,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedBottomRow(s),o}},e.prototype.getColumnsToExport=function(t,n){t===void 0&&(t=!1);var i=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getGridColumns(n);if(t&&!i){var o=this.gridOptionsService.is("treeData")?this.columnModel.getGridColumns([Qp]):[];return o.concat(this.columnModel.getAllGridColumns()||[])}return this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,n,i){var o=[];t.forEach(function(s){var a=s;a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof gi&&this.doAddHeaderHeader(n,t,i),o.length>0&&this.recursivelyAddHeaderGroups(o,n,i)},e.prototype.doAddHeaderHeader=function(t,n,i){var o=this,s=t.onNewHeaderGroupingRow(),a=0;n.forEach(function(l){var u=l,c;i?c=i({columnGroup:u,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(h,f,p,g){var C=st.last(h),m=f.getColumnGroupShow()==="open";return m?(!C||C[1]!=null)&&(C=[p],h.push(C)):C&&C[1]==null&&(C[1]=p-1),p===g.length-1&&C&&C[1]==null&&(C[1]=p),h},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,d)})},Ad([V("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Ad([V("columnModel")],e.prototype,"columnModel",void 0),Ad([V("rowModel")],e.prototype,"rowModel",void 0),Ad([V("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ad([V("selectionService")],e.prototype,"selectionService",void 0),Ad([V("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Ad([V("sortController")],e.prototype,"sortController",void 0),e=Ad([Me("gridSerializer")],e),e}(ye),Xot="30.2.1",vve={version:Xot,moduleName:Ne.CsvExportModule,beans:[gve,mve]},gT=`\r
`,Jot=function(){function r(){}return r.createHeader=function(e){e===void 0&&(e={});var t="<?",n="?>",i=["version"];e.version||(e.version="1.0"),e.encoding&&i.push("encoding"),e.standalone&&i.push("standalone");var o=i.map(function(s){return s+'="'+e[s]+'"'}).join(" ");return t+"xml "+o+" "+n},r.createXml=function(e,t){var n=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){i+=n.returnAttributeIfPopulated(s.prefix+a,s.map[a],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(s){i+=n.returnAttributeIfPopulated(s,e.properties.rawMap[s],t)}));var o="<"+e.name+i;return!e.children&&e.textNode==null?o+"/>"+gT:e.textNode!=null?o+">"+e.textNode+"</"+e.name+">"+gT:(o+=">"+gT,e.children&&e.children.forEach(function(s){o+=n.createXml(s,t)}),o+"</"+e.name+">"+gT)},r.returnAttributeIfPopulated=function(e,t,n){if(!t&&t!==""&&t!==0)return"";var i=t;return typeof t=="boolean"&&n&&(i=n(t))," "+e+'="'+i+'"'},r}(),Zot=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},est=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),tst=function(){function r(){}return r.addFolders=function(e){e.forEach(this.addFolder.bind(this))},r.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},r.addFile=function(e,t,n){n===void 0&&(n=!1),this.files.push({path:e,created:new Date,content:t,isBase64:n})},r.getContent=function(e){e===void 0&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},r.clearStream=function(){this.folders=[],this.files=[]},r.buildFileStream=function(e){var t,n;e===void 0&&(e="");var i=this.folders.concat(this.files),o=i.length,s="",a=0,l=0;try{for(var u=Zot(i),c=u.next();!c.done;c=u.next()){var d=c.value,h=this.getHeader(d,a),f=h.fileHeader,p=h.folderHeader,g=h.content;a+=f.length+g.length,l+=p.length,e+=f+g,s+=p}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var C=this.buildFolderEnd(o,l,a);return e+s+C},r.getHeader=function(e,t){var n=e.content,i=e.path,o=e.created,s=e.isBase64,a=st.utf8_encode,l=st.decToHex,u=a(i),c=u!==i,d=this.convertTime(o),h=this.convertDate(o),f="";if(c){var p=l(1,1)+l(this.getFromCrc32Table(u),4)+u;f="up"+l(p.length,2)+p}var g=n?this.getConvertedContent(n,s):{size:0,content:""},C=g.size,m=g.content,y=`
\0`+(c?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(h,2)+l(C?this.getFromCrc32Table(m):0,4)+l(C,4)+l(C,4)+l(u.length,2)+l(f.length,2),w="PK"+y+u+f,E="PK\0"+y+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+l(t,4)+u+f;return{fileHeader:w,folderHeader:E,content:m||""}},r.getConvertedContent=function(e,t){return t===void 0&&(t=!1),t&&(e=e.split(";base64,")[1]),e=t?atob(e):e,{size:e.length,content:e}},r.buildFolderEnd=function(e,t,n){var i=st.decToHex;return"PK\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+"\0\0"},r.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},r.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);for(var o=-1,s=0,a=0,l=0,i=0;i<t;i++)s=n[i],a=(o^s)&255,l=est[a],o=o>>>8^l;return o^-1},r.convertTime=function(e){var t=e.getHours();return t<<=6,t=t|e.getMinutes(),t<<=5,t=t|e.getSeconds()/2,t},r.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t=t|e.getMonth()+1,t<<=5,t=t|e.getDate(),t},r.folders=[],r.files=[],r}(),yve=[cve,dve,vve];lt.registerModules(yve);const nst=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl:CR,AgAbstractField:kU,AgAbstractLabel:VU,AgAutocomplete:Vme,AgCheckbox:yR,AgDialog:Nme,AgGroupComponent:Fme,AgInputDateField:Dme,AgInputNumberField:rL,AgInputRange:Ame,AgInputTextArea:Ome,AgInputTextField:hf,AgMenuItemComponent:pm,AgMenuList:Mme,AgMenuPanel:Lme,AgPanel:t2,AgPickerField:HU,AgPromise:Gs,get AgPromiseStatus(){return ep},AgRadioButton:$U,AgRichSelect:xme,AgSelect:nL,AgSlider:Ime,AgStackComponentsRegistry:Dpe,AgToggleButton:Pme,AlignedGridsService:$me,AllCommunityModules:yve,AnimateShowChangeCellRenderer:Age,AnimateSlideCellRenderer:xge,AnimationFrameService:Cme,AutoScrollService:zU,AutoWidthCalculator:wme,Autowired:V,get BarColumnLabelPlacement(){return jk},BaseComponentWrapper:vot,BaseCreator:hve,BaseGridSerializingSession:fve,Bean:Me,BeanStub:ye,Beans:qU,BodyDropPivotTarget:ime,BodyDropTarget:sme,CHART_TOOLBAR_ALLOW_LIST:wot,CHART_TOOL_PANEL_ALLOW_LIST:Cot,CHART_TOOL_PANEL_MENU_OPTIONS:Sot,CellComp:nme,CellCtrl:bh,CellNavigationService:Hme,CellPositionUtils:eve,get CellRangeType(){return np},ChangedPath:cL,CheckboxCellEditor:Vge,CheckboxCellRenderer:Gge,CheckboxSelectionComponent:UU,ClientSideRowModelModule:cve,get ClientSideRowModelSteps(){return ln},ColDefUtil:Rpe,Column:Tn,ColumnApi:Bme,ColumnFactory:Spe,ColumnGroup:gi,ColumnKeyCreator:epe,ColumnModel:Tpe,ColumnUtils:Ppe,Component:Rt,ComponentUtil:aS,Context:upe,CssClassApplier:JU,CssClassManager:cge,CsvCreator:gve,CsvExportModule:vve,CtrlsService:rve,CustomTooltipFeature:tL,DEFAULT_CHART_GROUPS:yot,DataTypeService:ave,DateCellEditor:Lge,DateFilter:jU,DateStringCellEditor:Nge,DisplayedGroupCreator:Ope,Downloader:pve,DragAndDropService:ri,DragService:Bge,get DragSourceType(){return ho},Environment:Xme,EventService:ld,Events:k,get ExcelFactoryMode(){return TE},ExpressionService:Wme,FilterManager:Uge,FloatingFilterMapper:Hge,FocusService:wp,GROUP_AUTO_COLUMN_ID:Qp,Grid:got,GridApi:jge,GridBodyComp:Xge,GridBodyCtrl:Yge,GridComp:Yme,GridCoreCreator:uve,GridCtrl:Kme,GridHeaderComp:gme,GridHeaderCtrl:pme,GridOptionsService:ove,GridSerializer:mve,GroupCellRenderer:Gk,GroupCellRendererCtrl:Fge,GroupInstanceIdCreator:pU,HeaderCellCtrl:cme,HeaderFilterCellComp:zge,HeaderFilterCellCtrl:lme,HeaderGroupCellCtrl:dme,get HeaderNavigationDirection(){return il},HeaderNavigationService:fme,HeaderPositionUtils:tve,HeaderRowComp:ame,HeaderRowContainerComp:OP,HeaderRowContainerCtrl:hme,HeaderRowCtrl:PP,get HeaderRowType(){return mi},get HorizontalDirection(){return rl},HorizontalResizeService:mme,InfiniteRowModelModule:dve,KeyCode:ne,LargeTextCellEditor:Oge,get LayoutCssClasses(){return Ar},LocaleService:sve,Logger:xx,LoggerFactory:zme,ManagedFocusFeature:cd,get ModuleNames(){return Ne},ModuleRegistry:lt,MouseEventService:Zge,MoveColumnFeature:ome,NavigationService:eme,NumberCellEditor:Mge,NumberFilter:WU,NumberSequence:Jp,Optional:nn,PaginationProxy:bme,PinnedRowModel:_me,PopupComponent:ff,PopupEditorWrapper:tme,PopupService:Gme,PositionableFeature:GU,PostConstruct:we,PreConstruct:Ek,PreDestroy:ui,PropertyKeys:eu,ProvidedColumnGroup:_r,ProvidedFilter:bE,Qualifier:Ii,QuerySelector:MJe,RefSelector:_e,ResizeObserverService:yme,get RowAnimationCssClasses(){return eg},RowContainerComp:rme,RowContainerCtrl:XU,get RowContainerName(){return se},get RowContainerType(){return Br},RowCtrl:Th,get RowHighlightPosition(){return Du},RowNode:xt,RowNodeBlock:Tx,RowNodeBlockLoader:Rme,RowNodeSorter:nve,RowPositionUtils:Zme,RowRenderer:Sme,get RowType(){return Wk},ScalarFilter:ei,ScrollVisibleService:Jge,SelectCellEditor:Dge,SelectableService:Jme,get SelectionHandleType(){return PE},get ServerSideTransactionResultStatus(){return $k},SetLeftFeature:uL,SimpleFilter:tr,SortController:qme,SortIndicatorComp:oL,StandardMenuFactory:vme,StylingService:Tme,get TabGuardClassNames(){return Cp},TabGuardComp:wR,TabGuardCtrl:ume,TabbedLayout:$nt,TemplateService:Ume,TextCellEditor:Nk,TextFilter:iL,TextFloatingFilter:Pge,Timer:AJe,TooltipFeature:lL,TouchListener:ts,UserComponentFactory:$ge,UserComponentRegistry:kge,ValueCache:Qme,ValueFormatterService:Eme,ValueParserService:lve,ValueService:jme,VanillaFrameworkOverrides:kme,get VerticalDirection(){return Zp},VirtualList:e2,VirtualListDragFeature:Pet,XmlFactory:Jot,ZipContainer:tst,_:st,__FORCE_MODULE_DETECTION:Eot,getRowContainerTypeForName:Qge,simpleHttpRequest:Bnt},Symbol.toStringTag,{value:"Module"})),ci=Cwe(nst);var dL={},SR={},rst=Z&&Z.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(SR,"__esModule",{value:!0});SR.ReactComponent=void 0;var ist=function(){function r(){}return r}(),ost=function(r){rst(e,r);function e(t,n,i){var o=r.call(this)||this;return o.portal=null,o.reactComponent=t,o.portalManager=n,o.componentType=i,o.statelessComponent=o.isStateless(o.reactComponent),o}return e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},e.prototype.createParentElement=function(t){var n=this.portalManager.getComponentWrappingElement(),i=document.createElement(n||"div");return i.classList.add("ag-react-container"),t.reactContainer=i,i},e.prototype.addParentContainerStyleAndClasses=function(){var t=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){var n=this.componentInstance.getReactContainerClasses();n.forEach(function(i){return t.eParentElement.classList.add(i)})}},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},e.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},e.prototype.isStateless=function(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()},e.prototype.hasMethod=function(t){var n=this.getFrameworkComponentInstance();return!!n&&n[t]!==null||this.fallbackMethodAvailable(t)},e.prototype.callMethod=function(t,n){var i=this,o=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,n&&n[0]?n[0]:{});if(!o){setTimeout(function(){return i.callMethod(t,n)});return}var s=o[t];if(s)return s.apply(o,n);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,n&&n[0]?n[0]:{})},e.prototype.addMethod=function(t,n){this[t]=n},e}(ist);SR.ReactComponent=ost;var pf={},zy={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cve=S;function Nt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ko=Object.prototype.hasOwnProperty,sst=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dQ={},hQ={};function wve(r){return Ko.call(hQ,r)?!0:Ko.call(dQ,r)?!1:sst.test(r)?hQ[r]=!0:(dQ[r]=!0,!1)}function Mo(r,e,t,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Hi[r]=new Mo(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Hi[e]=new Mo(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Hi[r]=new Mo(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Hi[r]=new Mo(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Hi[r]=new Mo(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Hi[r]=new Mo(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Hi[r]=new Mo(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Hi[r]=new Mo(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Hi[r]=new Mo(r,5,!1,r.toLowerCase(),null,!1,!1)});var n2=/[\-:]([a-z])/g;function r2(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(n2,r2);Hi[e]=new Mo(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(n2,r2);Hi[e]=new Mo(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(n2,r2);Hi[e]=new Mo(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Hi[r]=new Mo(r,1,!1,r.toLowerCase(),null,!1,!1)});Hi.xlinkHref=new Mo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Hi[r]=new Mo(r,1,!1,r.toLowerCase(),null,!0,!0)});var DP={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ast=["Webkit","ms","Moz","O"];Object.keys(DP).forEach(function(r){ast.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),DP[e]=DP[r]})});var lst=/["'&<>]/;function Po(r){if(typeof r=="boolean"||typeof r=="number")return""+r;r=""+r;var e=lst.exec(r);if(e){var t="",n,i=0;for(n=e.index;n<r.length;n++){switch(r.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(t+=r.substring(i,n)),i=n+1,t+=e}r=i!==n?t+r.substring(i,n):t}return r}var ust=/([A-Z])/g,cst=/^ms-/,Uk=Array.isArray;function tc(r,e){return{insertionMode:r,selectedValue:e}}function dst(r,e,t){switch(e){case"select":return tc(1,t.value!=null?t.value:t.defaultValue);case"svg":return tc(2,null);case"math":return tc(3,null);case"foreignObject":return tc(1,null);case"table":return tc(4,null);case"thead":case"tbody":case"tfoot":return tc(5,null);case"colgroup":return tc(7,null);case"tr":return tc(6,null)}return 4<=r.insertionMode||r.insertionMode===0?tc(1,null):r}var fQ=new Map;function Sve(r,e,t){if(typeof t!="object")throw Error(Nt(62));e=!0;for(var n in t)if(Ko.call(t,n)){var i=t[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var o=Po(n);i=Po((""+i).trim())}else{o=n;var s=fQ.get(o);s!==void 0||(s=Po(o.replace(ust,"-$1").toLowerCase().replace(cst,"-ms-")),fQ.set(o,s)),o=s,i=typeof i=="number"?i===0||Ko.call(DP,n)?""+i:i+"px":Po((""+i).trim())}e?(e=!1,r.push(' style="',o,":",i)):r.push(";",o,":",i)}}e||r.push('"')}function Rs(r,e,t,n){switch(t){case"style":Sve(r,e,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=Hi.hasOwnProperty(t)?Hi[t]:null,e!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=e.attributeName,e.type){case 3:n&&r.push(" ",t,'=""');break;case 4:n===!0?r.push(" ",t,'=""'):n!==!1&&r.push(" ",t,'="',Po(n),'"');break;case 5:isNaN(n)||r.push(" ",t,'="',Po(n),'"');break;case 6:!isNaN(n)&&1<=n&&r.push(" ",t,'="',Po(n),'"');break;default:e.sanitizeURL&&(n=""+n),r.push(" ",t,'="',Po(n),'"')}}else if(wve(t)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}r.push(" ",t,'="',Po(n),'"')}}}function AP(r,e,t){if(e!=null){if(t!=null)throw Error(Nt(60));if(typeof e!="object"||!("__html"in e))throw Error(Nt(61));e=e.__html,e!=null&&r.push(""+e)}}function hst(r){var e="";return Cve.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}function vG(r,e,t,n){r.push(Yl(t));var i=t=null,o;for(o in e)if(Ko.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":t=s;break;case"dangerouslySetInnerHTML":i=s;break;default:Rs(r,n,o,s)}}return r.push(">"),AP(r,i,t),typeof t=="string"?(r.push(Po(t)),null):t}var fst=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,pQ=new Map;function Yl(r){var e=pQ.get(r);if(e===void 0){if(!fst.test(r))throw Error(Nt(65,r));e="<"+r,pQ.set(r,e)}return e}function pst(r,e,t,n,i){switch(e){case"select":r.push(Yl("select"));var o=null,s=null;for(c in t)if(Ko.call(t,c)){var a=t[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Rs(r,n,c,a)}}return r.push(">"),AP(r,s,o),o;case"option":s=i.selectedValue,r.push(Yl("option"));var l=a=null,u=null,c=null;for(o in t)if(Ko.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Rs(r,n,o,d)}}if(s!=null)if(t=l!==null?""+l:hst(a),Uk(s)){for(n=0;n<s.length;n++)if(""+s[n]===t){r.push(' selected=""');break}}else""+s===t&&r.push(' selected=""');else u&&r.push(' selected=""');return r.push(">"),AP(r,c,a),a;case"textarea":r.push(Yl("textarea")),c=s=o=null;for(a in t)if(Ko.call(t,a)&&(l=t[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Nt(91));default:Rs(r,n,a,l)}if(o===null&&s!==null&&(o=s),r.push(">"),c!=null){if(o!=null)throw Error(Nt(92));if(Uk(c)&&1<c.length)throw Error(Nt(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&r.push(`
`),o!==null&&r.push(Po(""+o)),null;case"input":r.push(Yl("input")),l=c=a=o=null;for(s in t)if(Ko.call(t,s)&&(u=t[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Nt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:Rs(r,n,s,u)}return c!==null?Rs(r,n,"checked",c):l!==null&&Rs(r,n,"checked",l),o!==null?Rs(r,n,"value",o):a!==null&&Rs(r,n,"value",a),r.push("/>"),null;case"menuitem":r.push(Yl("menuitem"));for(var h in t)if(Ko.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Nt(400));default:Rs(r,n,h,o)}return r.push(">"),null;case"title":r.push(Yl("title")),o=null;for(d in t)if(Ko.call(t,d)&&(s=t[d],s!=null))switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Nt(434));default:Rs(r,n,d,s)}return r.push(">"),o;case"listing":case"pre":r.push(Yl(e)),s=o=null;for(l in t)if(Ko.call(t,l)&&(a=t[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Rs(r,n,l,a)}if(r.push(">"),s!=null){if(o!=null)throw Error(Nt(60));if(typeof s!="object"||!("__html"in s))throw Error(Nt(61));t=s.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?r.push(`
`,t):r.push(""+t))}return typeof o=="string"&&o[0]===`
`&&r.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":r.push(Yl(e));for(var f in t)if(Ko.call(t,f)&&(o=t[f],o!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Nt(399,e));default:Rs(r,n,f,o)}return r.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vG(r,t,e,n);case"html":return i.insertionMode===0&&r.push("<!DOCTYPE html>"),vG(r,t,e,n);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return vG(r,t,e,n);r.push(Yl(e)),s=o=null;for(u in t)if(Ko.call(t,u)&&(a=t[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Sve(r,n,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:wve(u)&&typeof a!="function"&&typeof a!="symbol"&&r.push(" ",u,'="',Po(a),'"')}return r.push(">"),AP(r,s,o),o}}function gQ(r,e,t){if(r.push('<!--$?--><template id="'),t===null)throw Error(Nt(395));return r.push(t),r.push('"></template>')}function gst(r,e,t,n){switch(t.insertionMode){case 0:case 1:return r.push('<div hidden id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 2:return r.push('<svg aria-hidden="true" style="display:none" id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 3:return r.push('<math aria-hidden="true" style="display:none" id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 4:return r.push('<table hidden id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 5:return r.push('<table hidden><tbody id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 6:return r.push('<table hidden><tr id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 7:return r.push('<table hidden><colgroup id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');default:throw Error(Nt(397))}}function mst(r,e){switch(e.insertionMode){case 0:case 1:return r.push("</div>");case 2:return r.push("</svg>");case 3:return r.push("</math>");case 4:return r.push("</table>");case 5:return r.push("</tbody></table>");case 6:return r.push("</tr></table>");case 7:return r.push("</colgroup></table>");default:throw Error(Nt(397))}}var vst=/[<\u2028\u2029]/g;function yG(r){return JSON.stringify(r).replace(vst,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function yst(r,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:r}}function mQ(r,e,t,n){return t.generateStaticMarkup?(r.push(Po(e)),!1):(e===""?r=n:(n&&r.push("<!-- -->"),r.push(Po(e)),r=!0),r)}var cS=Object.assign,Cst=Symbol.for("react.element"),Eve=Symbol.for("react.portal"),_ve=Symbol.for("react.fragment"),Rve=Symbol.for("react.strict_mode"),bve=Symbol.for("react.profiler"),Tve=Symbol.for("react.provider"),Pve=Symbol.for("react.context"),Ove=Symbol.for("react.forward_ref"),Dve=Symbol.for("react.suspense"),Ave=Symbol.for("react.suspense_list"),xve=Symbol.for("react.memo"),i2=Symbol.for("react.lazy"),wst=Symbol.for("react.scope"),Sst=Symbol.for("react.debug_trace_mode"),Est=Symbol.for("react.legacy_hidden"),_st=Symbol.for("react.default_value"),vQ=Symbol.iterator;function zk(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case _ve:return"Fragment";case Eve:return"Portal";case bve:return"Profiler";case Rve:return"StrictMode";case Dve:return"Suspense";case Ave:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Pve:return(r.displayName||"Context")+".Consumer";case Tve:return(r._context.displayName||"Context")+".Provider";case Ove:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xve:return e=r.displayName||null,e!==null?e:zk(r.type)||"Memo";case i2:e=r._payload,r=r._init;try{return zk(r(e))}catch{}}return null}var Ive={};function yQ(r,e){if(r=r.contextTypes,!r)return Ive;var t={},n;for(n in r)t[n]=e[n];return t}var rp=null;function hL(r,e){if(r!==e){r.context._currentValue2=r.parentValue,r=r.parent;var t=e.parent;if(r===null){if(t!==null)throw Error(Nt(401))}else{if(t===null)throw Error(Nt(401));hL(r,t)}e.context._currentValue2=e.value}}function Fve(r){r.context._currentValue2=r.parentValue,r=r.parent,r!==null&&Fve(r)}function Mve(r){var e=r.parent;e!==null&&Mve(e),r.context._currentValue2=r.value}function Lve(r,e){if(r.context._currentValue2=r.parentValue,r=r.parent,r===null)throw Error(Nt(402));r.depth===e.depth?hL(r,e):Lve(r,e)}function Nve(r,e){var t=e.parent;if(t===null)throw Error(Nt(402));r.depth===t.depth?hL(r,t):Nve(r,t),e.context._currentValue2=e.value}function Fx(r){var e=rp;e!==r&&(e===null?Mve(r):r===null?Fve(e):e.depth===r.depth?hL(e,r):e.depth>r.depth?Lve(e,r):Nve(e,r),rp=r)}var CQ={isMounted:function(){return!1},enqueueSetState:function(r,e){r=r._reactInternals,r.queue!==null&&r.queue.push(e)},enqueueReplaceState:function(r,e){r=r._reactInternals,r.replace=!0,r.queue=[e]},enqueueForceUpdate:function(){}};function wQ(r,e,t,n){var i=r.state!==void 0?r.state:null;r.updater=CQ,r.props=t,r.state=i;var o={queue:[],replace:!1};r._reactInternals=o;var s=e.contextType;if(r.context=typeof s=="object"&&s!==null?s._currentValue2:n,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(t,i),i=s==null?i:cS({},i,s),r.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function"))if(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&CQ.enqueueReplaceState(r,r.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)r.state=e[0];else{for(o=s?e[0]:r.state,i=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(r,o,t,n):a,a!=null&&(i?(i=!1,o=cS({},o,a)):cS(o,a))}r.state=o}else o.queue=null}var Rst={id:1,overflow:""};function Kk(r,e,t){var n=r.id;r=r.overflow;var i=32-xP(n)-1;n&=~(1<<i),t+=1;var o=32-xP(e)+i;if(30<o){var s=i-i%5;return o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,{id:1<<32-xP(e)+i|t<<i|n,overflow:o+r}}return{id:1<<o|t<<i|n,overflow:r}}var xP=Math.clz32?Math.clz32:Pst,bst=Math.log,Tst=Math.LN2;function Pst(r){return r>>>=0,r===0?32:31-(bst(r)/Tst|0)|0}function Ost(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Dst=typeof Object.is=="function"?Object.is:Ost,Hc=null,o2=null,IP=null,Un=null,Fw=!1,Mx=!1,OE=0,ah=null,fL=0;function $f(){if(Hc===null)throw Error(Nt(321));return Hc}function SQ(){if(0<fL)throw Error(Nt(312));return{memoizedState:null,queue:null,next:null}}function s2(){return Un===null?IP===null?(Fw=!1,IP=Un=SQ()):(Fw=!0,Un=IP):Un.next===null?(Fw=!1,Un=Un.next=SQ()):(Fw=!0,Un=Un.next),Un}function a2(){o2=Hc=null,Mx=!1,IP=null,fL=0,Un=ah=null}function Gve(r,e){return typeof e=="function"?e(r):e}function EQ(r,e,t){if(Hc=$f(),Un=s2(),Fw){var n=Un.queue;if(e=n.dispatch,ah!==null&&(t=ah.get(n),t!==void 0)){ah.delete(n),n=Un.memoizedState;do n=r(n,t.action),t=t.next;while(t!==null);return Un.memoizedState=n,[n,e]}return[Un.memoizedState,e]}return r=r===Gve?typeof e=="function"?e():e:t!==void 0?t(e):e,Un.memoizedState=r,r=Un.queue={last:null,dispatch:null},r=r.dispatch=Ast.bind(null,Hc,r),[Un.memoizedState,r]}function _Q(r,e){if(Hc=$f(),Un=s2(),e=e===void 0?null:e,Un!==null){var t=Un.memoizedState;if(t!==null&&e!==null){var n=t[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<e.length;i++)if(!Dst(e[i],n[i])){n=!1;break e}n=!0}if(n)return t[0]}}return r=r(),Un.memoizedState=[r,e],r}function Ast(r,e,t){if(25<=fL)throw Error(Nt(301));if(r===Hc)if(Mx=!0,r={action:t,next:null},ah===null&&(ah=new Map),t=ah.get(e),t===void 0)ah.set(e,r);else{for(e=t;e.next!==null;)e=e.next;e.next=r}}function xst(){throw Error(Nt(394))}function mT(){}var RQ={readContext:function(r){return r._currentValue2},useContext:function(r){return $f(),r._currentValue2},useMemo:_Q,useReducer:EQ,useRef:function(r){Hc=$f(),Un=s2();var e=Un.memoizedState;return e===null?(r={current:r},Un.memoizedState=r):e},useState:function(r){return EQ(Gve,r)},useInsertionEffect:mT,useLayoutEffect:function(){},useCallback:function(r,e){return _Q(function(){return r},e)},useImperativeHandle:mT,useEffect:mT,useDebugValue:mT,useDeferredValue:function(r){return $f(),r},useTransition:function(){return $f(),[!1,xst]},useId:function(){var r=o2.treeContext,e=r.overflow;r=r.id,r=(r&~(1<<32-xP(r)-1)).toString(32)+e;var t=FP;if(t===null)throw Error(Nt(404));return e=OE++,r=":"+t.idPrefix+"R"+r,0<e&&(r+="H"+e.toString(32)),r+":"},useMutableSource:function(r,e){return $f(),e(r._source)},useSyncExternalStore:function(r,e,t){if(t===void 0)throw Error(Nt(407));return t()}},FP=null,CG=Cve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ist(r){return console.error(r),null}function Mw(){}function Fst(r,e,t,n,i,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Ist:i,onAllReady:Mw,onShellReady:s===void 0?Mw:s,onShellError:Mw,onFatalError:Mw},t=Lx(e,0,null,t,!1,!1),t.parentFlushed=!0,r=l2(e,r,null,t,c,Ive,null,Rst),u.push(r),e}function l2(r,e,t,n,i,o,s,a){r.allPendingTasks++,t===null?r.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=r.pingedTasks;u.push(l),u.length===1&&Hve(r)},blockedBoundary:t,blockedSegment:n,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function Lx(r,e,t,n,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:t,lastPushedText:i,textEmbedded:o}}function DE(r,e){if(r=r.onError(e),r!=null&&typeof r!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof r+'" instead');return r}function Nx(r,e){var t=r.onShellError;t(e),t=r.onFatalError,t(e),r.destination!==null?(r.status=2,r.destination.destroy(e)):(r.status=1,r.fatalError=e)}function bQ(r,e,t,n,i){for(Hc={},o2=e,OE=0,r=t(n,i);Mx;)Mx=!1,OE=0,fL+=1,Un=null,r=t(n,i);return a2(),r}function TQ(r,e,t,n){var i=t.render(),o=n.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof t.getChildContext!="function")n=s;else{t=t.getChildContext();for(var a in t)if(!(a in o))throw Error(Nt(108,zk(n)||"Unknown",a));n=cS({},s,t)}e.legacyContext=n,As(r,e,i),e.legacyContext=s}else As(r,e,i)}function PQ(r,e){if(r&&r.defaultProps){e=cS({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Yk(r,e,t,n,i){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){i=yQ(t,e.legacyContext);var o=t.contextType;o=new t(n,typeof o=="object"&&o!==null?o._currentValue2:i),wQ(o,t,n,i),TQ(r,e,o,t)}else{o=yQ(t,e.legacyContext),i=bQ(r,e,t,n,o);var s=OE!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)wQ(i,t,n,o),TQ(r,e,i,t);else if(s){n=e.treeContext,e.treeContext=Kk(n,1,0);try{As(r,e,i)}finally{e.treeContext=n}}else As(r,e,i)}else if(typeof t=="string"){switch(i=e.blockedSegment,o=pst(i.chunks,t,n,r.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=dst(s,t,n),qk(r,e,o),i.formatContext=s,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",t,">")}i.lastPushedText=!1}else{switch(t){case Est:case Sst:case Rve:case bve:case _ve:As(r,e,n.children);return;case Ave:As(r,e,n.children);return;case wst:throw Error(Nt(343));case Dve:e:{t=e.blockedBoundary,i=e.blockedSegment,o=n.fallback,n=n.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=Lx(r,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=Lx(r,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(qk(r,e,n),r.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Gx(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=DE(r,c)}finally{e.blockedBoundary=t,e.blockedSegment=i}e=l2(r,o,t,l,s,e.legacyContext,e.context,e.treeContext),r.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ove:if(n=bQ(r,e,t.render,n,i),OE!==0){t=e.treeContext,e.treeContext=Kk(t,1,0);try{As(r,e,n)}finally{e.treeContext=t}}else As(r,e,n);return;case xve:t=t.type,n=PQ(t,n),Yk(r,e,t,n,i);return;case Tve:if(i=n.children,t=t._context,n=n.value,o=t._currentValue2,t._currentValue2=n,s=rp,rp=n={parent:s,depth:s===null?0:s.depth+1,context:t,parentValue:o,value:n},e.context=n,As(r,e,i),r=rp,r===null)throw Error(Nt(403));n=r.parentValue,r.context._currentValue2=n===_st?r.context._defaultValue:n,r=rp=r.parent,e.context=r;return;case Pve:n=n.children,n=n(t._currentValue2),As(r,e,n);return;case i2:i=t._init,t=i(t._payload),n=PQ(t,n),Yk(r,e,t,n,void 0);return}throw Error(Nt(130,t==null?t:typeof t,""))}}function As(r,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case Cst:Yk(r,e,t.type,t.props,t.ref);return;case Eve:throw Error(Nt(257));case i2:var n=t._init;t=n(t._payload),As(r,e,t);return}if(Uk(t)){OQ(r,e,t);return}if(t===null||typeof t!="object"?n=null:(n=vQ&&t[vQ]||t["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(t))){if(t=n.next(),!t.done){var i=[];do i.push(t.value),t=n.next();while(!t.done);OQ(r,e,i)}return}throw r=Object.prototype.toString.call(t),Error(Nt(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}typeof t=="string"?(n=e.blockedSegment,n.lastPushedText=mQ(e.blockedSegment.chunks,t,r.responseState,n.lastPushedText)):typeof t=="number"&&(n=e.blockedSegment,n.lastPushedText=mQ(e.blockedSegment.chunks,""+t,r.responseState,n.lastPushedText))}function OQ(r,e,t){for(var n=t.length,i=0;i<n;i++){var o=e.treeContext;e.treeContext=Kk(o,n,i);try{qk(r,e,t[i])}finally{e.treeContext=o}}}function qk(r,e,t){var n=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return As(r,e,t)}catch(l){if(a2(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var s=e.blockedSegment,a=Lx(r,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,r=l2(r,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(r,r),e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,Fx(o)}else throw e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,Fx(o),l}}function Mst(r){var e=r.blockedBoundary;r=r.blockedSegment,r.status=3,kve(this,e,r)}function Vve(r,e,t){var n=r.blockedBoundary;r.blockedSegment.status=3,n===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,r=t===void 0?Error(Nt(432)):t,n.errorDigest=e.onError(r),n.parentFlushed&&e.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return Vve(i,e,t)}),n.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(n=e.onAllReady,n()))}function Gx(r,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&Gx(r,t)}else r.completedSegments.push(e)}function kve(r,e,t){if(e===null){if(t.parentFlushed){if(r.completedRootSegment!==null)throw Error(Nt(389));r.completedRootSegment=t}r.pendingRootTasks--,r.pendingRootTasks===0&&(r.onShellError=Mw,e=r.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&Gx(e,t),e.parentFlushed&&r.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(Mst,r),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(Gx(e,t),e.completedSegments.length===1&&e.parentFlushed&&r.partialBoundaries.push(e)));r.allPendingTasks--,r.allPendingTasks===0&&(r=r.onAllReady,r())}function Hve(r){if(r.status!==2){var e=rp,t=CG.current;CG.current=RQ;var n=FP;FP=r.responseState;try{var i=r.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=r,l=s.blockedSegment;if(l.status===0){Fx(s.context);try{As(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,kve(a,s.blockedBoundary,l)}catch(p){if(a2(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var u=s.ping;p.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=p,h=DE(a,d);if(c===null?Nx(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var f=a.onAllReady;f()}}}finally{}}}i.splice(0,o),r.destination!==null&&u2(r,r.destination)}catch(p){DE(r,p),Nx(r,p)}finally{FP=n,CG.current=t,t===RQ&&Fx(e)}}}function vT(r,e,t){switch(t.parentFlushed=!0,t.status){case 0:var n=t.id=r.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,r=r.responseState,e.push('<template id="'),e.push(r.placeholderPrefix),r=n.toString(16),e.push(r),e.push('"></template>');case 1:t.status=2;var i=!0;n=t.chunks;var o=0;t=t.children;for(var s=0;s<t.length;s++){for(i=t[s];o<i.index;o++)e.push(n[o]);i=pL(r,e,i)}for(;o<n.length-1;o++)e.push(n[o]);return o<n.length&&(i=e.push(n[o])),i;default:throw Error(Nt(390))}}function pL(r,e,t){var n=t.boundary;if(n===null)return vT(r,e,t);if(n.parentFlushed=!0,n.forceClientRender)return r.responseState.generateStaticMarkup||(n=n.errorDigest,e.push("<!--$!-->"),e.push("<template"),n&&(e.push(' data-dgst="'),n=Po(n),e.push(n),e.push('"')),e.push("></template>")),vT(r,e,t),r=r.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),r;if(0<n.pendingTasks){n.rootSegmentID=r.nextSegmentId++,0<n.completedSegments.length&&r.partialBoundaries.push(n);var i=r.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),n=n.id=i,gQ(e,r.responseState,n),vT(r,e,t),e.push("<!--/$-->")}if(n.byteSize>r.progressiveChunkSize)return n.rootSegmentID=r.nextSegmentId++,r.completedBoundaries.push(n),gQ(e,r.responseState,n.id),vT(r,e,t),e.push("<!--/$-->");if(r.responseState.generateStaticMarkup||e.push("<!--$-->"),t=n.completedSegments,t.length!==1)throw Error(Nt(391));return pL(r,e,t[0]),r=r.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),r}function DQ(r,e,t){return gst(e,r.responseState,t.formatContext,t.id),pL(r,e,t),mst(e,t.formatContext)}function AQ(r,e,t){for(var n=t.completedSegments,i=0;i<n.length;i++)$ve(r,e,t,n[i]);if(n.length=0,r=r.responseState,n=t.id,t=t.rootSegmentID,e.push(r.startInlineScript),r.sentCompleteBoundaryFunction?e.push('$RC("'):(r.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),n===null)throw Error(Nt(395));return t=t.toString(16),e.push(n),e.push('","'),e.push(r.segmentPrefix),e.push(t),e.push('")<\/script>')}function $ve(r,e,t,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=t.rootSegmentID)===-1)throw Error(Nt(392));return DQ(r,e,n)}return DQ(r,e,n),r=r.responseState,e.push(r.startInlineScript),r.sentCompleteSegmentFunction?e.push('$RS("'):(r.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(r.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(r.placeholderPrefix),e.push(i),e.push('")<\/script>')}function u2(r,e){try{var t=r.completedRootSegment;if(t!==null&&r.pendingRootTasks===0){pL(r,e,t),r.completedRootSegment=null;var n=r.responseState.bootstrapChunks;for(t=0;t<n.length-1;t++)e.push(n[t]);t<n.length&&e.push(n[t])}var i=r.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];n=e;var a=r.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,d=s.errorComponentStack;if(n.push(a.startInlineScript),a.sentClientRenderFunction?n.push('$RX("'):(a.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Nt(395));if(n.push(l),n.push('"'),u||c||d){n.push(",");var h=yG(u||"");n.push(h)}if(c||d){n.push(",");var f=yG(c||"");n.push(f)}if(d){n.push(",");var p=yG(d);n.push(p)}if(!n.push(")<\/script>")){r.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var g=r.completedBoundaries;for(o=0;o<g.length;o++)if(!AQ(r,e,g[o])){r.destination=null,o++,g.splice(0,o);return}g.splice(0,o);var C=r.partialBoundaries;for(o=0;o<C.length;o++){var m=C[o];e:{i=r,s=e;var y=m.completedSegments;for(a=0;a<y.length;a++)if(!$ve(i,s,m,y[a])){a++,y.splice(0,a);var w=!1;break e}y.splice(0,a),w=!0}if(!w){r.destination=null,o++,C.splice(0,o);return}}C.splice(0,o);var E=r.completedBoundaries;for(o=0;o<E.length;o++)if(!AQ(r,e,E[o])){r.destination=null,o++,E.splice(0,o);return}E.splice(0,o)}finally{r.allPendingTasks===0&&r.pingedTasks.length===0&&r.clientRenderedBoundaries.length===0&&r.completedBoundaries.length===0&&e.push(null)}}function Lst(r,e){try{var t=r.abortableTasks;t.forEach(function(n){return Vve(n,r,e)}),t.clear(),r.destination!==null&&u2(r,r.destination)}catch(n){DE(r,n),Nx(r,n)}}function Nst(){}function Bve(r,e,t,n){var i=!1,o=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(r=Fst(r,yst(t,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Nst,void 0,function(){l=!0}),Hve(r),Lst(r,n),r.status===1)r.status=2,a.destroy(r.fatalError);else if(r.status!==2&&r.destination===null){r.destination=a;try{u2(r,a)}catch(u){DE(r,u),Nx(r,u)}}if(i)throw o;if(!l)throw Error(Nt(426));return s}zy.renderToNodeStream=function(){throw Error(Nt(207))};zy.renderToStaticMarkup=function(r,e){return Bve(r,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};zy.renderToStaticNodeStream=function(){throw Error(Nt(208))};zy.renderToString=function(r,e){return Bve(r,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};zy.version="18.3.1";var c2={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jve=S;function Wt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xs=null,Is=0;function nt(r,e){if(e.length!==0)if(512<e.length)0<Is&&(r.enqueue(new Uint8Array(xs.buffer,0,Is)),xs=new Uint8Array(512),Is=0),r.enqueue(e);else{var t=xs.length-Is;t<e.length&&(t===0?r.enqueue(xs):(xs.set(e.subarray(0,t),Is),r.enqueue(xs),e=e.subarray(t)),xs=new Uint8Array(512),Is=0),xs.set(e,Is),Is+=e.length}}function nr(r,e){return nt(r,e),!0}function xQ(r){xs&&0<Is&&(r.enqueue(new Uint8Array(xs.buffer,0,Is)),xs=null,Is=0)}var Wve=new TextEncoder;function qt(r){return Wve.encode(r)}function He(r){return Wve.encode(r)}function Uve(r,e){typeof r.error=="function"?r.error(e):r.close()}var Yo=Object.prototype.hasOwnProperty,Gst=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IQ={},FQ={};function zve(r){return Yo.call(FQ,r)?!0:Yo.call(IQ,r)?!1:Gst.test(r)?FQ[r]=!0:(IQ[r]=!0,!1)}function Lo(r,e,t,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){$i[r]=new Lo(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];$i[e]=new Lo(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){$i[r]=new Lo(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){$i[r]=new Lo(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){$i[r]=new Lo(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){$i[r]=new Lo(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){$i[r]=new Lo(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){$i[r]=new Lo(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){$i[r]=new Lo(r,5,!1,r.toLowerCase(),null,!1,!1)});var d2=/[\-:]([a-z])/g;function h2(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(d2,h2);$i[e]=new Lo(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(d2,h2);$i[e]=new Lo(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(d2,h2);$i[e]=new Lo(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){$i[r]=new Lo(r,1,!1,r.toLowerCase(),null,!1,!1)});$i.xlinkHref=new Lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){$i[r]=new Lo(r,1,!1,r.toLowerCase(),null,!0,!0)});var MP={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vst=["Webkit","ms","Moz","O"];Object.keys(MP).forEach(function(r){Vst.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),MP[e]=MP[r]})});var kst=/["'&<>]/;function Mi(r){if(typeof r=="boolean"||typeof r=="number")return""+r;r=""+r;var e=kst.exec(r);if(e){var t="",n,i=0;for(n=e.index;n<r.length;n++){switch(r.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(t+=r.substring(i,n)),i=n+1,t+=e}r=i!==n?t+r.substring(i,n):t}return r}var Hst=/([A-Z])/g,$st=/^ms-/,Qk=Array.isArray,Bst=He("<script>"),jst=He("<\/script>"),Wst=He('<script src="'),Ust=He('<script type="module" src="'),MQ=He('" async=""><\/script>'),zst=/(<\/|<)(s)(cript)/gi;function Kst(r,e,t,n){return""+e+(t==="s"?"\\u0073":"\\u0053")+n}function Yst(r,e,t,n,i){r=r===void 0?"":r,e=e===void 0?Bst:He('<script nonce="'+Mi(e)+'">');var o=[];if(t!==void 0&&o.push(e,qt((""+t).replace(zst,Kst)),jst),n!==void 0)for(t=0;t<n.length;t++)o.push(Wst,qt(Mi(n[t])),MQ);if(i!==void 0)for(n=0;n<i.length;n++)o.push(Ust,qt(Mi(i[n])),MQ);return{bootstrapChunks:o,startInlineScript:e,placeholderPrefix:He(r+"P:"),segmentPrefix:He(r+"S:"),boundaryPrefix:r+"B:",idPrefix:r,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ql(r,e){return{insertionMode:r,selectedValue:e}}function qst(r){return ql(r==="http://www.w3.org/2000/svg"?2:r==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Qst(r,e,t){switch(e){case"select":return ql(1,t.value!=null?t.value:t.defaultValue);case"svg":return ql(2,null);case"math":return ql(3,null);case"foreignObject":return ql(1,null);case"table":return ql(4,null);case"thead":case"tbody":case"tfoot":return ql(5,null);case"colgroup":return ql(7,null);case"tr":return ql(6,null)}return 4<=r.insertionMode||r.insertionMode===0?ql(1,null):r}var f2=He("<!-- -->");function LQ(r,e,t,n){return e===""?n:(n&&r.push(f2),r.push(qt(Mi(e))),!0)}var NQ=new Map,Xst=He(' style="'),GQ=He(":"),Jst=He(";");function Kve(r,e,t){if(typeof t!="object")throw Error(Wt(62));e=!0;for(var n in t)if(Yo.call(t,n)){var i=t[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var o=qt(Mi(n));i=qt(Mi((""+i).trim()))}else{o=n;var s=NQ.get(o);s!==void 0||(s=He(Mi(o.replace(Hst,"-$1").toLowerCase().replace($st,"-ms-"))),NQ.set(o,s)),o=s,i=typeof i=="number"?i===0||Yo.call(MP,n)?qt(""+i):qt(i+"px"):qt(Mi((""+i).trim()))}e?(e=!1,r.push(Xst,o,GQ,i)):r.push(Jst,o,GQ,i)}}e||r.push(Bf)}var Md=He(" "),gm=He('="'),Bf=He('"'),VQ=He('=""');function bs(r,e,t,n){switch(t){case"style":Kve(r,e,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=$i.hasOwnProperty(t)?$i[t]:null,e!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=qt(e.attributeName),e.type){case 3:n&&r.push(Md,t,VQ);break;case 4:n===!0?r.push(Md,t,VQ):n!==!1&&r.push(Md,t,gm,qt(Mi(n)),Bf);break;case 5:isNaN(n)||r.push(Md,t,gm,qt(Mi(n)),Bf);break;case 6:!isNaN(n)&&1<=n&&r.push(Md,t,gm,qt(Mi(n)),Bf);break;default:e.sanitizeURL&&(n=""+n),r.push(Md,t,gm,qt(Mi(n)),Bf)}}else if(zve(t)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}r.push(Md,qt(t),gm,qt(Mi(n)),Bf)}}}var Ld=He(">"),kQ=He("/>");function LP(r,e,t){if(e!=null){if(t!=null)throw Error(Wt(60));if(typeof e!="object"||!("__html"in e))throw Error(Wt(61));e=e.__html,e!=null&&r.push(qt(""+e))}}function Zst(r){var e="";return jve.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}var wG=He(' selected=""');function SG(r,e,t,n){r.push(Ql(t));var i=t=null,o;for(o in e)if(Yo.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":t=s;break;case"dangerouslySetInnerHTML":i=s;break;default:bs(r,n,o,s)}}return r.push(Ld),LP(r,i,t),typeof t=="string"?(r.push(qt(Mi(t))),null):t}var EG=He(`
`),eat=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,HQ=new Map;function Ql(r){var e=HQ.get(r);if(e===void 0){if(!eat.test(r))throw Error(Wt(65,r));e=He("<"+r),HQ.set(r,e)}return e}var tat=He("<!DOCTYPE html>");function nat(r,e,t,n,i){switch(e){case"select":r.push(Ql("select"));var o=null,s=null;for(c in t)if(Yo.call(t,c)){var a=t[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:bs(r,n,c,a)}}return r.push(Ld),LP(r,s,o),o;case"option":s=i.selectedValue,r.push(Ql("option"));var l=a=null,u=null,c=null;for(o in t)if(Yo.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:bs(r,n,o,d)}}if(s!=null)if(t=l!==null?""+l:Zst(a),Qk(s)){for(n=0;n<s.length;n++)if(""+s[n]===t){r.push(wG);break}}else""+s===t&&r.push(wG);else u&&r.push(wG);return r.push(Ld),LP(r,c,a),a;case"textarea":r.push(Ql("textarea")),c=s=o=null;for(a in t)if(Yo.call(t,a)&&(l=t[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Wt(91));default:bs(r,n,a,l)}if(o===null&&s!==null&&(o=s),r.push(Ld),c!=null){if(o!=null)throw Error(Wt(92));if(Qk(c)&&1<c.length)throw Error(Wt(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&r.push(EG),o!==null&&r.push(qt(Mi(""+o))),null;case"input":r.push(Ql("input")),l=c=a=o=null;for(s in t)if(Yo.call(t,s)&&(u=t[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Wt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:bs(r,n,s,u)}return c!==null?bs(r,n,"checked",c):l!==null&&bs(r,n,"checked",l),o!==null?bs(r,n,"value",o):a!==null&&bs(r,n,"value",a),r.push(kQ),null;case"menuitem":r.push(Ql("menuitem"));for(var h in t)if(Yo.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Wt(400));default:bs(r,n,h,o)}return r.push(Ld),null;case"title":r.push(Ql("title")),o=null;for(d in t)if(Yo.call(t,d)&&(s=t[d],s!=null))switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Wt(434));default:bs(r,n,d,s)}return r.push(Ld),o;case"listing":case"pre":r.push(Ql(e)),s=o=null;for(l in t)if(Yo.call(t,l)&&(a=t[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:bs(r,n,l,a)}if(r.push(Ld),s!=null){if(o!=null)throw Error(Wt(60));if(typeof s!="object"||!("__html"in s))throw Error(Wt(61));t=s.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?r.push(EG,qt(t)):r.push(qt(""+t)))}return typeof o=="string"&&o[0]===`
`&&r.push(EG),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":r.push(Ql(e));for(var f in t)if(Yo.call(t,f)&&(o=t[f],o!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Wt(399,e));default:bs(r,n,f,o)}return r.push(kQ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return SG(r,t,e,n);case"html":return i.insertionMode===0&&r.push(tat),SG(r,t,e,n);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return SG(r,t,e,n);r.push(Ql(e)),s=o=null;for(u in t)if(Yo.call(t,u)&&(a=t[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Kve(r,n,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:zve(u)&&typeof a!="function"&&typeof a!="symbol"&&r.push(Md,qt(u),gm,qt(Mi(a)),Bf)}return r.push(Ld),LP(r,s,o),o}}var rat=He("</"),iat=He(">"),oat=He('<template id="'),sat=He('"></template>'),aat=He("<!--$-->"),lat=He('<!--$?--><template id="'),uat=He('"></template>'),cat=He("<!--$!-->"),dat=He("<!--/$-->"),hat=He("<template"),fat=He('"'),pat=He(' data-dgst="');He(' data-msg="');He(' data-stck="');var gat=He("></template>");function $Q(r,e,t){if(nt(r,lat),t===null)throw Error(Wt(395));return nt(r,t),nr(r,uat)}var mat=He('<div hidden id="'),vat=He('">'),yat=He("</div>"),Cat=He('<svg aria-hidden="true" style="display:none" id="'),wat=He('">'),Sat=He("</svg>"),Eat=He('<math aria-hidden="true" style="display:none" id="'),_at=He('">'),Rat=He("</math>"),bat=He('<table hidden id="'),Tat=He('">'),Pat=He("</table>"),Oat=He('<table hidden><tbody id="'),Dat=He('">'),Aat=He("</tbody></table>"),xat=He('<table hidden><tr id="'),Iat=He('">'),Fat=He("</tr></table>"),Mat=He('<table hidden><colgroup id="'),Lat=He('">'),Nat=He("</colgroup></table>");function Gat(r,e,t,n){switch(t.insertionMode){case 0:case 1:return nt(r,mat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,vat);case 2:return nt(r,Cat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,wat);case 3:return nt(r,Eat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,_at);case 4:return nt(r,bat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,Tat);case 5:return nt(r,Oat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,Dat);case 6:return nt(r,xat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,Iat);case 7:return nt(r,Mat),nt(r,e.segmentPrefix),nt(r,qt(n.toString(16))),nr(r,Lat);default:throw Error(Wt(397))}}function Vat(r,e){switch(e.insertionMode){case 0:case 1:return nr(r,yat);case 2:return nr(r,Sat);case 3:return nr(r,Rat);case 4:return nr(r,Pat);case 5:return nr(r,Aat);case 6:return nr(r,Fat);case 7:return nr(r,Nat);default:throw Error(Wt(397))}}var kat=He('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Hat=He('$RS("'),$at=He('","'),Bat=He('")<\/script>'),jat=He('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Wat=He('$RC("'),Uat=He('","'),zat=He('")<\/script>'),Kat=He('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Yat=He('$RX("'),qat=He('"'),Qat=He(")<\/script>"),_G=He(","),Xat=/[<\u2028\u2029]/g;function RG(r){return JSON.stringify(r).replace(Xat,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var dS=Object.assign,Jat=Symbol.for("react.element"),Yve=Symbol.for("react.portal"),qve=Symbol.for("react.fragment"),Qve=Symbol.for("react.strict_mode"),Xve=Symbol.for("react.profiler"),Jve=Symbol.for("react.provider"),Zve=Symbol.for("react.context"),eye=Symbol.for("react.forward_ref"),tye=Symbol.for("react.suspense"),nye=Symbol.for("react.suspense_list"),rye=Symbol.for("react.memo"),p2=Symbol.for("react.lazy"),Zat=Symbol.for("react.scope"),elt=Symbol.for("react.debug_trace_mode"),tlt=Symbol.for("react.legacy_hidden"),nlt=Symbol.for("react.default_value"),BQ=Symbol.iterator;function Xk(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case qve:return"Fragment";case Yve:return"Portal";case Xve:return"Profiler";case Qve:return"StrictMode";case tye:return"Suspense";case nye:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Zve:return(r.displayName||"Context")+".Consumer";case Jve:return(r._context.displayName||"Context")+".Provider";case eye:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case rye:return e=r.displayName||null,e!==null?e:Xk(r.type)||"Memo";case p2:e=r._payload,r=r._init;try{return Xk(r(e))}catch{}}return null}var iye={};function jQ(r,e){if(r=r.contextTypes,!r)return iye;var t={},n;for(n in r)t[n]=e[n];return t}var ip=null;function gL(r,e){if(r!==e){r.context._currentValue=r.parentValue,r=r.parent;var t=e.parent;if(r===null){if(t!==null)throw Error(Wt(401))}else{if(t===null)throw Error(Wt(401));gL(r,t)}e.context._currentValue=e.value}}function oye(r){r.context._currentValue=r.parentValue,r=r.parent,r!==null&&oye(r)}function sye(r){var e=r.parent;e!==null&&sye(e),r.context._currentValue=r.value}function aye(r,e){if(r.context._currentValue=r.parentValue,r=r.parent,r===null)throw Error(Wt(402));r.depth===e.depth?gL(r,e):aye(r,e)}function lye(r,e){var t=e.parent;if(t===null)throw Error(Wt(402));r.depth===t.depth?gL(r,t):lye(r,t),e.context._currentValue=e.value}function Vx(r){var e=ip;e!==r&&(e===null?sye(r):r===null?oye(e):e.depth===r.depth?gL(e,r):e.depth>r.depth?aye(e,r):lye(e,r),ip=r)}var WQ={isMounted:function(){return!1},enqueueSetState:function(r,e){r=r._reactInternals,r.queue!==null&&r.queue.push(e)},enqueueReplaceState:function(r,e){r=r._reactInternals,r.replace=!0,r.queue=[e]},enqueueForceUpdate:function(){}};function UQ(r,e,t,n){var i=r.state!==void 0?r.state:null;r.updater=WQ,r.props=t,r.state=i;var o={queue:[],replace:!1};r._reactInternals=o;var s=e.contextType;if(r.context=typeof s=="object"&&s!==null?s._currentValue:n,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(t,i),i=s==null?i:dS({},i,s),r.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function"))if(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&WQ.enqueueReplaceState(r,r.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)r.state=e[0];else{for(o=s?e[0]:r.state,i=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(r,o,t,n):a,a!=null&&(i?(i=!1,o=dS({},o,a)):dS(o,a))}r.state=o}else o.queue=null}var rlt={id:1,overflow:""};function Jk(r,e,t){var n=r.id;r=r.overflow;var i=32-NP(n)-1;n&=~(1<<i),t+=1;var o=32-NP(e)+i;if(30<o){var s=i-i%5;return o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,{id:1<<32-NP(e)+i|t<<i|n,overflow:o+r}}return{id:1<<o|t<<i|n,overflow:r}}var NP=Math.clz32?Math.clz32:slt,ilt=Math.log,olt=Math.LN2;function slt(r){return r>>>=0,r===0?32:31-(ilt(r)/olt|0)|0}function alt(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var llt=typeof Object.is=="function"?Object.is:alt,$c=null,g2=null,GP=null,zn=null,Lw=!1,kx=!1,AE=0,lh=null,mL=0;function jf(){if($c===null)throw Error(Wt(321));return $c}function zQ(){if(0<mL)throw Error(Wt(312));return{memoizedState:null,queue:null,next:null}}function m2(){return zn===null?GP===null?(Lw=!1,GP=zn=zQ()):(Lw=!0,zn=GP):zn.next===null?(Lw=!1,zn=zn.next=zQ()):(Lw=!0,zn=zn.next),zn}function v2(){g2=$c=null,kx=!1,GP=null,mL=0,zn=lh=null}function uye(r,e){return typeof e=="function"?e(r):e}function KQ(r,e,t){if($c=jf(),zn=m2(),Lw){var n=zn.queue;if(e=n.dispatch,lh!==null&&(t=lh.get(n),t!==void 0)){lh.delete(n),n=zn.memoizedState;do n=r(n,t.action),t=t.next;while(t!==null);return zn.memoizedState=n,[n,e]}return[zn.memoizedState,e]}return r=r===uye?typeof e=="function"?e():e:t!==void 0?t(e):e,zn.memoizedState=r,r=zn.queue={last:null,dispatch:null},r=r.dispatch=ult.bind(null,$c,r),[zn.memoizedState,r]}function YQ(r,e){if($c=jf(),zn=m2(),e=e===void 0?null:e,zn!==null){var t=zn.memoizedState;if(t!==null&&e!==null){var n=t[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<e.length;i++)if(!llt(e[i],n[i])){n=!1;break e}n=!0}if(n)return t[0]}}return r=r(),zn.memoizedState=[r,e],r}function ult(r,e,t){if(25<=mL)throw Error(Wt(301));if(r===$c)if(kx=!0,r={action:t,next:null},lh===null&&(lh=new Map),t=lh.get(e),t===void 0)lh.set(e,r);else{for(e=t;e.next!==null;)e=e.next;e.next=r}}function clt(){throw Error(Wt(394))}function yT(){}var qQ={readContext:function(r){return r._currentValue},useContext:function(r){return jf(),r._currentValue},useMemo:YQ,useReducer:KQ,useRef:function(r){$c=jf(),zn=m2();var e=zn.memoizedState;return e===null?(r={current:r},zn.memoizedState=r):e},useState:function(r){return KQ(uye,r)},useInsertionEffect:yT,useLayoutEffect:function(){},useCallback:function(r,e){return YQ(function(){return r},e)},useImperativeHandle:yT,useEffect:yT,useDebugValue:yT,useDeferredValue:function(r){return jf(),r},useTransition:function(){return jf(),[!1,clt]},useId:function(){var r=g2.treeContext,e=r.overflow;r=r.id,r=(r&~(1<<32-NP(r)-1)).toString(32)+e;var t=VP;if(t===null)throw Error(Wt(404));return e=AE++,r=":"+t.idPrefix+"R"+r,0<e&&(r+="H"+e.toString(32)),r+":"},useMutableSource:function(r,e){return jf(),e(r._source)},useSyncExternalStore:function(r,e,t){if(t===void 0)throw Error(Wt(407));return t()}},VP=null,bG=jve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function dlt(r){return console.error(r),null}function Nw(){}function hlt(r,e,t,n,i,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?dlt:i,onAllReady:o===void 0?Nw:o,onShellReady:s===void 0?Nw:s,onShellError:a===void 0?Nw:a,onFatalError:l===void 0?Nw:l},t=Hx(e,0,null,t,!1,!1),t.parentFlushed=!0,r=y2(e,r,null,t,c,iye,null,rlt),u.push(r),e}function y2(r,e,t,n,i,o,s,a){r.allPendingTasks++,t===null?r.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=r.pingedTasks;u.push(l),u.length===1&&hye(r)},blockedBoundary:t,blockedSegment:n,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function Hx(r,e,t,n,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:t,lastPushedText:i,textEmbedded:o}}function xE(r,e){if(r=r.onError(e),r!=null&&typeof r!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof r+'" instead');return r}function $x(r,e){var t=r.onShellError;t(e),t=r.onFatalError,t(e),r.destination!==null?(r.status=2,Uve(r.destination,e)):(r.status=1,r.fatalError=e)}function QQ(r,e,t,n,i){for($c={},g2=e,AE=0,r=t(n,i);kx;)kx=!1,AE=0,mL+=1,zn=null,r=t(n,i);return v2(),r}function XQ(r,e,t,n){var i=t.render(),o=n.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof t.getChildContext!="function")n=s;else{t=t.getChildContext();for(var a in t)if(!(a in o))throw Error(Wt(108,Xk(n)||"Unknown",a));n=dS({},s,t)}e.legacyContext=n,Fs(r,e,i),e.legacyContext=s}else Fs(r,e,i)}function JQ(r,e){if(r&&r.defaultProps){e=dS({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function Zk(r,e,t,n,i){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){i=jQ(t,e.legacyContext);var o=t.contextType;o=new t(n,typeof o=="object"&&o!==null?o._currentValue:i),UQ(o,t,n,i),XQ(r,e,o,t)}else{o=jQ(t,e.legacyContext),i=QQ(r,e,t,n,o);var s=AE!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)UQ(i,t,n,o),XQ(r,e,i,t);else if(s){n=e.treeContext,e.treeContext=Jk(n,1,0);try{Fs(r,e,i)}finally{e.treeContext=n}}else Fs(r,e,i)}else if(typeof t=="string"){switch(i=e.blockedSegment,o=nat(i.chunks,t,n,r.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=Qst(s,t,n),eH(r,e,o),i.formatContext=s,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(rat,qt(t),iat)}i.lastPushedText=!1}else{switch(t){case tlt:case elt:case Qve:case Xve:case qve:Fs(r,e,n.children);return;case nye:Fs(r,e,n.children);return;case Zat:throw Error(Wt(343));case tye:e:{t=e.blockedBoundary,i=e.blockedSegment,o=n.fallback,n=n.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=Hx(r,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=Hx(r,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(eH(r,e,n),u.lastPushedText&&u.textEmbedded&&u.chunks.push(f2),u.status=1,Bx(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=xE(r,c)}finally{e.blockedBoundary=t,e.blockedSegment=i}e=y2(r,o,t,l,s,e.legacyContext,e.context,e.treeContext),r.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eye:if(n=QQ(r,e,t.render,n,i),AE!==0){t=e.treeContext,e.treeContext=Jk(t,1,0);try{Fs(r,e,n)}finally{e.treeContext=t}}else Fs(r,e,n);return;case rye:t=t.type,n=JQ(t,n),Zk(r,e,t,n,i);return;case Jve:if(i=n.children,t=t._context,n=n.value,o=t._currentValue,t._currentValue=n,s=ip,ip=n={parent:s,depth:s===null?0:s.depth+1,context:t,parentValue:o,value:n},e.context=n,Fs(r,e,i),r=ip,r===null)throw Error(Wt(403));n=r.parentValue,r.context._currentValue=n===nlt?r.context._defaultValue:n,r=ip=r.parent,e.context=r;return;case Zve:n=n.children,n=n(t._currentValue),Fs(r,e,n);return;case p2:i=t._init,t=i(t._payload),n=JQ(t,n),Zk(r,e,t,n,void 0);return}throw Error(Wt(130,t==null?t:typeof t,""))}}function Fs(r,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case Jat:Zk(r,e,t.type,t.props,t.ref);return;case Yve:throw Error(Wt(257));case p2:var n=t._init;t=n(t._payload),Fs(r,e,t);return}if(Qk(t)){ZQ(r,e,t);return}if(t===null||typeof t!="object"?n=null:(n=BQ&&t[BQ]||t["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(t))){if(t=n.next(),!t.done){var i=[];do i.push(t.value),t=n.next();while(!t.done);ZQ(r,e,i)}return}throw r=Object.prototype.toString.call(t),Error(Wt(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}typeof t=="string"?(n=e.blockedSegment,n.lastPushedText=LQ(e.blockedSegment.chunks,t,r.responseState,n.lastPushedText)):typeof t=="number"&&(n=e.blockedSegment,n.lastPushedText=LQ(e.blockedSegment.chunks,""+t,r.responseState,n.lastPushedText))}function ZQ(r,e,t){for(var n=t.length,i=0;i<n;i++){var o=e.treeContext;e.treeContext=Jk(o,n,i);try{eH(r,e,t[i])}finally{e.treeContext=o}}}function eH(r,e,t){var n=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return Fs(r,e,t)}catch(l){if(v2(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var s=e.blockedSegment,a=Hx(r,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,r=y2(r,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(r,r),e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,Vx(o)}else throw e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,Vx(o),l}}function flt(r){var e=r.blockedBoundary;r=r.blockedSegment,r.status=3,dye(this,e,r)}function cye(r,e,t){var n=r.blockedBoundary;r.blockedSegment.status=3,n===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,r=t===void 0?Error(Wt(432)):t,n.errorDigest=e.onError(r),n.parentFlushed&&e.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return cye(i,e,t)}),n.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(n=e.onAllReady,n()))}function Bx(r,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&Bx(r,t)}else r.completedSegments.push(e)}function dye(r,e,t){if(e===null){if(t.parentFlushed){if(r.completedRootSegment!==null)throw Error(Wt(389));r.completedRootSegment=t}r.pendingRootTasks--,r.pendingRootTasks===0&&(r.onShellError=Nw,e=r.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&Bx(e,t),e.parentFlushed&&r.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(flt,r),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(Bx(e,t),e.completedSegments.length===1&&e.parentFlushed&&r.partialBoundaries.push(e)));r.allPendingTasks--,r.allPendingTasks===0&&(r=r.onAllReady,r())}function hye(r){if(r.status!==2){var e=ip,t=bG.current;bG.current=qQ;var n=VP;VP=r.responseState;try{var i=r.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=r,l=s.blockedSegment;if(l.status===0){Vx(s.context);try{Fs(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(f2),s.abortSet.delete(s),l.status=1,dye(a,s.blockedBoundary,l)}catch(p){if(v2(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var u=s.ping;p.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=p,h=xE(a,d);if(c===null?$x(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var f=a.onAllReady;f()}}}finally{}}}i.splice(0,o),r.destination!==null&&C2(r,r.destination)}catch(p){xE(r,p),$x(r,p)}finally{VP=n,bG.current=t,t===qQ&&Vx(e)}}}function CT(r,e,t){switch(t.parentFlushed=!0,t.status){case 0:var n=t.id=r.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,r=r.responseState,nt(e,oat),nt(e,r.placeholderPrefix),r=qt(n.toString(16)),nt(e,r),nr(e,sat);case 1:t.status=2;var i=!0;n=t.chunks;var o=0;t=t.children;for(var s=0;s<t.length;s++){for(i=t[s];o<i.index;o++)nt(e,n[o]);i=vL(r,e,i)}for(;o<n.length-1;o++)nt(e,n[o]);return o<n.length&&(i=nr(e,n[o])),i;default:throw Error(Wt(390))}}function vL(r,e,t){var n=t.boundary;if(n===null)return CT(r,e,t);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,nr(e,cat),nt(e,hat),n&&(nt(e,pat),nt(e,qt(Mi(n))),nt(e,fat)),nr(e,gat),CT(r,e,t);else if(0<n.pendingTasks){n.rootSegmentID=r.nextSegmentId++,0<n.completedSegments.length&&r.partialBoundaries.push(n);var i=r.responseState,o=i.nextSuspenseID++;i=He(i.boundaryPrefix+o.toString(16)),n=n.id=i,$Q(e,r.responseState,n),CT(r,e,t)}else if(n.byteSize>r.progressiveChunkSize)n.rootSegmentID=r.nextSegmentId++,r.completedBoundaries.push(n),$Q(e,r.responseState,n.id),CT(r,e,t);else{if(nr(e,aat),t=n.completedSegments,t.length!==1)throw Error(Wt(391));vL(r,e,t[0])}return nr(e,dat)}function eX(r,e,t){return Gat(e,r.responseState,t.formatContext,t.id),vL(r,e,t),Vat(e,t.formatContext)}function tX(r,e,t){for(var n=t.completedSegments,i=0;i<n.length;i++)fye(r,e,t,n[i]);if(n.length=0,r=r.responseState,n=t.id,t=t.rootSegmentID,nt(e,r.startInlineScript),r.sentCompleteBoundaryFunction?nt(e,Wat):(r.sentCompleteBoundaryFunction=!0,nt(e,jat)),n===null)throw Error(Wt(395));return t=qt(t.toString(16)),nt(e,n),nt(e,Uat),nt(e,r.segmentPrefix),nt(e,t),nr(e,zat)}function fye(r,e,t,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=t.rootSegmentID)===-1)throw Error(Wt(392));return eX(r,e,n)}return eX(r,e,n),r=r.responseState,nt(e,r.startInlineScript),r.sentCompleteSegmentFunction?nt(e,Hat):(r.sentCompleteSegmentFunction=!0,nt(e,kat)),nt(e,r.segmentPrefix),i=qt(i.toString(16)),nt(e,i),nt(e,$at),nt(e,r.placeholderPrefix),nt(e,i),nr(e,Bat)}function C2(r,e){xs=new Uint8Array(512),Is=0;try{var t=r.completedRootSegment;if(t!==null&&r.pendingRootTasks===0){vL(r,e,t),r.completedRootSegment=null;var n=r.responseState.bootstrapChunks;for(t=0;t<n.length-1;t++)nt(e,n[t]);t<n.length&&nr(e,n[t])}var i=r.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];n=e;var a=r.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,d=s.errorComponentStack;if(nt(n,a.startInlineScript),a.sentClientRenderFunction?nt(n,Yat):(a.sentClientRenderFunction=!0,nt(n,Kat)),l===null)throw Error(Wt(395));nt(n,l),nt(n,qat),(u||c||d)&&(nt(n,_G),nt(n,qt(RG(u||"")))),(c||d)&&(nt(n,_G),nt(n,qt(RG(c||"")))),d&&(nt(n,_G),nt(n,qt(RG(d)))),nr(n,Qat)}i.splice(0,o);var h=r.completedBoundaries;for(o=0;o<h.length;o++)tX(r,e,h[o]);h.splice(0,o),xQ(e),xs=new Uint8Array(512),Is=0;var f=r.partialBoundaries;for(o=0;o<f.length;o++){var p=f[o];e:{i=r,s=e;var g=p.completedSegments;for(a=0;a<g.length;a++)if(!fye(i,s,p,g[a])){a++,g.splice(0,a);var C=!1;break e}g.splice(0,a),C=!0}if(!C){r.destination=null,o++,f.splice(0,o);return}}f.splice(0,o);var m=r.completedBoundaries;for(o=0;o<m.length;o++)tX(r,e,m[o]);m.splice(0,o)}finally{xQ(e),r.allPendingTasks===0&&r.pingedTasks.length===0&&r.clientRenderedBoundaries.length===0&&r.completedBoundaries.length===0&&e.close()}}function nX(r,e){try{var t=r.abortableTasks;t.forEach(function(n){return cye(n,r,e)}),t.clear(),r.destination!==null&&C2(r,r.destination)}catch(n){xE(r,n),$x(r,n)}}c2.renderToReadableStream=function(r,e){return new Promise(function(t,n){var i,o,s=new Promise(function(c,d){o=c,i=d}),a=hlt(r,Yst(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),qst(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(a.status===1)a.status=2,Uve(d,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=d;try{C2(a,d)}catch(h){xE(a,h),$x(a,h)}}},cancel:function(){nX(a)}},{highWaterMark:0});c.allReady=s,t(c)},function(c){s.catch(function(){}),n(c)},i);if(e&&e.signal){var l=e.signal,u=function(){nX(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}hye(a)})};c2.version="18.3.1";var Ky,pye;Ky=zy,pye=c2;pf.version=Ky.version;pf.renderToString=Ky.renderToString;pf.renderToStaticMarkup=Ky.renderToStaticMarkup;pf.renderToNodeStream=Ky.renderToNodeStream;pf.renderToStaticNodeStream=Ky.renderToStaticNodeStream;pf.renderToReadableStream=pye.renderToReadableStream;var yL={};Object.defineProperty(yL,"__esModule",{value:!0});var plt=0;function glt(){return"agPortalKey_"+ ++plt}yL.default=glt;var mlt=Z&&Z.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vlt=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dL,"__esModule",{value:!0});dL.LegacyReactComponent=void 0;var rX=S,ylt=Al,Clt=ci,wlt=SR,Slt=pf,Elt=vlt(yL),_lt=function(r){mlt(e,r);function e(t,n,i,o){var s=r.call(this,t,i,o)||this;return s.staticMarkup=null,s.staticRenderTime=0,s.parentComponent=n,s}return e.prototype.init=function(t){var n=this;return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new Clt.AgPromise(function(i){return n.createReactComponent(t,i)})},e.prototype.createReactComponent=function(t,n){var i=this;this.isStatelessComponent()||(t.ref=function(a){i.componentInstance=a,i.addParentContainerStyleAndClasses(),i.removeStaticMarkup()});var o=rX.createElement(this.reactComponent,t),s=ylt.createPortal(o,this.eParentElement,Elt.default());this.portal=s,this.portalManager.mountReactPortal(s,this,function(a){n(a),i.isStatelessComponent()&&(i.isSlowRenderer()&&i.removeStaticMarkup(),setTimeout(function(){i.removeStaticMarkup()}))})},e.prototype.fallbackMethodAvailable=function(t){return!1},e.prototype.fallbackMethod=function(t,n){},e.prototype.isSlowRenderer=function(){return this.staticRenderTime>=e.SLOW_RENDERING_THRESHOLD},e.prototype.isNullValue=function(){return this.staticMarkup===""},e.prototype.renderStaticMarkup=function(t){if(!(this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer)){var n=console.error,i=rX.createElement(this.reactComponent,t);try{console.error=function(){};var o=Date.now(),s=Slt.renderToStaticMarkup(i);this.staticRenderTime=Date.now()-o,console.error=n,s===""?this.staticMarkup=s:s&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=s,this.eParentElement.appendChild(this.staticMarkup))}catch{}finally{console.error=n}}},e.prototype.removeStaticMarkup=function(){this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer||this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},e.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},e.SLOW_RENDERING_THRESHOLD=3,e}(wlt.ReactComponent);dL.LegacyReactComponent=_lt;var ER={},Rlt=Z&&Z.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jx=Z&&Z.__assign||function(){return jx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},jx.apply(this,arguments)},blt=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ER,"__esModule",{value:!0});ER.NewReactComponent=void 0;var iX=S,Tlt=Al,Plt=ci,Olt=SR,Dlt=pf,oX=blt(yL),Alt=function(r){Rlt(e,r);function e(t,n,i){var o=r.call(this,t,n,i)||this;return o.oldPortal=null,o.key=oX.default(),o.portalKey=oX.default(),o}return e.prototype.init=function(t){var n=this;return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new Plt.AgPromise(function(i){return n.createReactComponent(i)})},e.prototype.createOrUpdatePortal=function(t){var n=this;this.isStatelessComponent()||(t.ref=function(i){n.componentInstance=i,n.addParentContainerStyleAndClasses()}),this.reactElement=iX.createElement(this.reactComponent,jx(jx({},t),{key:this.key})),this.portal=Tlt.createPortal(this.reactElement,this.eParentElement,this.portalKey)},e.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,function(n){t(n)})},e.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},e.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},e.prototype.valueRenderedIsNull=function(t){if(!this.componentType.cellRenderer)return!1;var n=console.error;try{console.error=function(){};var i=Dlt.renderToStaticMarkup(iX.createElement(this.reactComponent,t));return i===""}catch{}finally{console.error=n}return!1},e.prototype.refreshComponent=function(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},e.prototype.fallbackMethod=function(t,n){var i=this[t+"Component"];if(i)return i.bind(this)(n)},e.prototype.fallbackMethodAvailable=function(t){var n=this[t+"Component"];return!!n},e}(Olt.ReactComponent);ER.NewReactComponent=Alt;var tg={},Wx=Z&&Z.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(tg,"__esModule",{value:!0});tg.PortalManager=tg.LegacyPortalManager=void 0;var xlt=function(){function r(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=n||r.MAX_COMPONENT_CREATION_TIME_IN_MS}return r.prototype.getPortals=function(){return this.portals},r.prototype.destroy=function(){this.destroyed=!0},r.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},r.prototype.getComponentWrappingElement=function(){return this.wrappingElement},r.prototype.mountReactPortal=function(e,t,n){this.portals=Wx(Wx([],this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()},r.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},r.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||e.parent.forceUpdate(function(){e.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)},r.prototype.waitForInstance=function(e,t,n){var i=this;if(n===void 0&&(n=Date.now()),this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){t(e);return}console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");return}window.setTimeout(function(){i.waitForInstance(e,t,n)})}},r.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,r}();tg.LegacyPortalManager=xlt;var Ilt=function(){function r(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||r.MAX_COMPONENT_CREATION_TIME_IN_MS}return r.prototype.getPortals=function(){return this.portals},r.prototype.destroy=function(){this.destroyed=!0},r.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},r.prototype.getComponentWrappingElement=function(){return this.wrappingElement},r.prototype.mountReactPortal=function(e,t,n){this.portals=Wx(Wx([],this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()},r.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},r.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||(e.refresher(),e.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},r.prototype.waitForInstance=function(e,t,n){var i=this;if(n===void 0&&(n=Date.now()),this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){t(e);return}console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");return}window.setTimeout(function(){i.waitForInstance(e,t,n)})}},r.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,r}();tg.PortalManager=Ilt;var iw={},w2={},wi={},Flt=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wi,"__esModule",{value:!0});wi.BeansContext=void 0;var Mlt=Flt(S);wi.BeansContext=Mlt.default.createContext({});var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.createSyncJsComp=Dl.showJsComp=void 0;var Llt=function(r,e,t,n){var i=!r||r.componentFromFramework||e.isDestroyed();if(!i){var o=r.newAgStackInstance();if(o){var s,a,l=!1;return o.then(function(u){if(l){e.destroyBean(u);return}s=u,a=s.getGui(),t.appendChild(a),sX(n,s)}),function(){l=!0,s&&(a&&a.parentElement&&a.parentElement.removeChild(a),e.destroyBean(s),n&&sX(n,void 0))}}}};Dl.showJsComp=Llt;var sX=function(r,e){if(r)if(r instanceof Function){var t=r;t(e)}else{var n=r;n.current=e}},Nlt=function(r){var e=r.newAgStackInstance();if(e)return e.resolveNow(null,function(t){return t})};Dl.createSyncJsComp=Nlt;var pr={},tH=Z&&Z.__assign||function(){return tH=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tH.apply(this,arguments)},aX=Z&&Z.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Glt=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pr,"__esModule",{value:!0});pr.getNextValueIfDifferent=pr.agFlushSync=pr.isComponentStateless=pr.CssClasses=pr.classesList=void 0;var nH=Glt(Al),Vlt=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(function(n){return n!=null&&n!==""});return t.join(" ")};pr.classesList=Vlt;var klt=function(){function r(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.classesMap={},t.forEach(function(i){e.classesMap[i]=!0})}return r.prototype.setClass=function(e,t){var n=!!this.classesMap[e]==t;if(n)return this;var i=new r;return i.classesMap=tH({},this.classesMap),i.classesMap[e]=t,i},r.prototype.toString=function(){var e=this,t=Object.keys(this.classesMap).filter(function(n){return e.classesMap[n]}).join(" ");return t},r}();pr.CssClasses=klt;var Hlt=function(r){var e=function(){return typeof Symbol=="function"&&Symbol.for},t=function(){return e()?Symbol.for("react.memo"):60115};return typeof r=="function"&&!(r.prototype&&r.prototype.isReactComponent)||typeof r=="object"&&r.$$typeof===t()};pr.isComponentStateless=Hlt;var $lt=nH.default.createRoot!=null&&nH.default.flushSync!=null,Blt=function(r,e){$lt&&r?nH.default.flushSync(e):e()};pr.agFlushSync=Blt;function jlt(r,e,t){if(e==null||r==null)return e;if(r===e||e.length===0&&r.length===0)return r;if(t||r.length===0&&e.length>0||r.length>0&&e.length===0)return e;for(var n=[],i=[],o=new Map,s=new Map,a=0;a<e.length;a++){var l=e[a];s.set(l.getInstanceId(),l)}for(var a=0;a<r.length;a++){var l=r[a];o.set(l.getInstanceId(),l),s.has(l.getInstanceId())&&n.push(l)}for(var a=0;a<e.length;a++){var l=e[a],u=l.getInstanceId();o.has(u)||i.push(l)}return n.length===r.length&&i.length===0?r:n.length===0&&i.length===e.length?e:aX(aX([],n),i)}pr.getNextValueIfDifferent=jlt;var Ux=Z&&Z.__assign||function(){return Ux=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ux.apply(this,arguments)},Wlt=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ult=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zlt=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Wlt(e,r,t);return Ult(e,r),e};Object.defineProperty(w2,"__esModule",{value:!0});var lX=ci,Sn=zlt(S),Klt=wi,Ylt=Dl,wT=pr,gye=Sn.forwardRef(function(r,e){var t=Sn.useContext(Klt.BeansContext).context,n=Sn.useRef(null),i=Sn.useRef(null),o=Sn.useRef(null),s=Sn.useRef(null),a=Sn.useRef(null),l=Sn.useRef(),u=Sn.useState(),c=u[0],d=u[1],h=Sn.useState(),f=h[0],p=h[1],g=Sn.useState(),C=g[0],m=g[1],y=Sn.useState(function(){return new wT.CssClasses}),w=y[0],E=y[1],P=Sn.useState(function(){return new wT.CssClasses("ag-hidden")}),T=P[0],R=P[1],_=Sn.useState(function(){return new wT.CssClasses("ag-hidden")}),b=_[0],D=_[1],M=Sn.useState(function(){return new wT.CssClasses("ag-invisible")}),G=M[0],I=M[1];Sn.useImperativeHandle(e,function(){return{refresh:function(){return!1}}}),Sn.useLayoutEffect(function(){return Ylt.showJsComp(c,t,i.current)},[c]);var L=Sn.useCallback(function(oe){if(n.current=oe,!n.current){t.destroyBean(l.current),l.current=null;return}var re={setInnerRenderer:function(ue,Ce){d(ue),m(Ce)},setChildCount:function(ue){return p(ue)},addOrRemoveCssClass:function(ue,Ce){return E(function(Re){return Re.setClass(ue,Ce)})},setContractedDisplayed:function(ue){return D(function(Ce){return Ce.setClass("ag-hidden",!ue)})},setExpandedDisplayed:function(ue){return R(function(Ce){return Ce.setClass("ag-hidden",!ue)})},setCheckboxVisible:function(ue){return I(function(Ce){return Ce.setClass("ag-invisible",!ue)})}};l.current=t.createBean(new lX.GroupCellRendererCtrl),l.current.init(re,n.current,o.current,s.current,a.current,gye,r)},[]),B=Sn.useMemo(function(){return"ag-cell-wrapper "+w.toString()},[w]),j=Sn.useMemo(function(){return"ag-group-expanded "+T.toString()},[T]),z=Sn.useMemo(function(){return"ag-group-contracted "+b.toString()},[b]),W=Sn.useMemo(function(){return"ag-group-checkbox "+G.toString()},[G]),H=c&&c.componentFromFramework,Y=H?c.componentClass:void 0,Q=c==null&&C!=null,J=lX._.escapeString(C,!0);return Sn.default.createElement("span",Ux({className:B,ref:L},r.colDef?{}:{role:"gridcell"}),Sn.default.createElement("span",{className:j,ref:s}),Sn.default.createElement("span",{className:z,ref:a}),Sn.default.createElement("span",{className:W,ref:o}),Sn.default.createElement("span",{className:"ag-group-value",ref:i},Q&&Sn.default.createElement(Sn.default.Fragment,null,J),H&&Sn.default.createElement(Y,Ux({},c.params))),Sn.default.createElement("span",{className:"ag-group-child-count"},f))});w2.default=gye;var ST={},ow={},S2={},E2={},_2={},R2={},b2={},T2={},zx=Z&&Z.__assign||function(){return zx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zx.apply(this,arguments)},qlt=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qlt=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xlt=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&qlt(e,r,t);return Qlt(e,r),e};Object.defineProperty(T2,"__esModule",{value:!0});var Ri=Xlt(S),Jlt=wi,ET=ci,Zlt=pr,eut=Dl,tut=function(r){var e=r.ctrl,t=Ri.useContext(Jlt.BeansContext).context,n=e.getColId(),i=Ri.useState(),o=i[0],s=i[1],a=Ri.useRef(null),l=Ri.useRef(null),u=Ri.useRef(null),c=Ri.useRef(),d=Ri.useRef();d.current||(d.current=new ET.CssClassManager(function(){return a.current}));var h=Ri.useCallback(function(C){var m;if(a.current=C,!!a.current){var y={setWidth:function(E){a.current&&(a.current.style.width=E)},addOrRemoveCssClass:function(E,P){return d.current.addOrRemoveCssClass(E,P)},setAriaDescription:function(E){a.current&&ET._.setAriaDescription(a.current,E)},setAriaSort:function(E){a.current&&(E?ET._.setAriaSort(a.current,E):ET._.removeAriaSort(a.current))},setUserCompDetails:function(E){return s(E)},getUserCompInstance:function(){return c.current||void 0}};e.setComp(y,a.current,l.current,u.current);var w=e.getSelectAllGui();(m=l.current)===null||m===void 0||m.insertAdjacentElement("afterend",w)}},[]);Ri.useLayoutEffect(function(){return eut.showJsComp(o,t,u.current,c)},[o]),Ri.useEffect(function(){e.setDragSource(a.current)},[o]);var f=Ri.useMemo(function(){var C=(o==null?void 0:o.componentFromFramework)&&Zlt.isComponentStateless(o.componentClass);return!!C},[o]),p=o&&o.componentFromFramework,g=o&&o.componentClass;return Ri.default.createElement("div",{ref:h,className:"ag-header-cell","col-id":n,role:"columnheader",tabIndex:-1},Ri.default.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),Ri.default.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},p&&f&&Ri.default.createElement(g,zx({},o.params)),p&&!f&&Ri.default.createElement(g,zx({},o.params,{ref:c}))))};T2.default=Ri.memo(tut);var P2={},rH=Z&&Z.__assign||function(){return rH=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rH.apply(this,arguments)},nut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rut=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nut(e,r,t);return rut(e,r),e};Object.defineProperty(P2,"__esModule",{value:!0});var di=iut(S),out=wi,sut=Dl,uX=pr,aut=function(r){var e=di.useContext(out.BeansContext).context,t=r.ctrl,n=di.useState(function(){return new uX.CssClasses}),i=n[0],o=n[1],s=di.useState(function(){return new uX.CssClasses}),a=s[0],l=s[1],u=di.useState("false"),c=u[0],d=u[1],h=di.useState(),f=h[0],p=h[1],g=di.useState(),C=g[0],m=g[1],y=di.useMemo(function(){return t.getColId()},[]),w=di.useRef(null),E=di.useRef(null),P=di.useCallback(function(D){if(w.current=D,!!w.current){var M={setWidth:function(G){w.current&&(w.current.style.width=G)},addOrRemoveCssClass:function(G,I){return o(function(L){return L.setClass(G,I)})},setUserCompDetails:function(G){return m(G)},setResizableDisplayed:function(G){l(function(I){return I.setClass("ag-hidden",!G)}),d(G?"false":"true")},setAriaExpanded:function(G){return p(G)}};t.setComp(M,w.current,E.current)}},[]);di.useLayoutEffect(function(){return sut.showJsComp(C,e,w.current)},[C]),di.useEffect(function(){w.current&&t.setDragSource(w.current)},[C]);var T=di.useMemo(function(){return"ag-header-group-cell "+i.toString()},[i]),R=di.useMemo(function(){return"ag-header-cell-resize "+a.toString()},[a]),_=C&&C.componentFromFramework,b=C&&C.componentClass;return di.default.createElement("div",{ref:P,className:T,"col-id":y,role:"columnheader",tabIndex:-1,"aria-expanded":f},_&&di.default.createElement(b,rH({},C.params)),di.default.createElement("div",{ref:E,"aria-hidden":c,className:R}))};P2.default=di.memo(aut);var O2={},Kx=Z&&Z.__assign||function(){return Kx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Kx.apply(this,arguments)},lut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uut=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&lut(e,r,t);return uut(e,r),e};Object.defineProperty(O2,"__esModule",{value:!0});var er=cut(S),dut=wi,hut=ci,_T=pr,fut=Dl,put=function(r){var e=er.useContext(dut.BeansContext).context,t=er.useState(function(){return new _T.CssClasses("ag-header-cell","ag-floating-filter")}),n=t[0],i=t[1],o=er.useState(function(){return new _T.CssClasses}),s=o[0],a=o[1],l=er.useState(function(){return new _T.CssClasses("ag-floating-filter-button","ag-hidden")}),u=l[0],c=l[1],d=er.useState("false"),h=d[0],f=d[1],p=er.useState(),g=p[0],C=p[1],m=er.useRef(null),y=er.useRef(null),w=er.useRef(null),E=er.useRef(null),P=er.useRef(),T=er.useRef(),R=function(j){j!=null&&P.current&&P.current(j)},_=r.ctrl,b=er.useCallback(function(j){if(m.current=j,!!m.current){T.current=new hut.AgPromise(function(W){P.current=W});var z={addOrRemoveCssClass:function(W,H){return i(function(Y){return Y.setClass(W,H)})},addOrRemoveBodyCssClass:function(W,H){return a(function(Y){return Y.setClass(W,H)})},setButtonWrapperDisplayed:function(W){c(function(H){return H.setClass("ag-hidden",!W)}),f(W?"false":"true")},setWidth:function(W){m.current&&(m.current.style.width=W)},setCompDetails:function(W){return C(W)},getFloatingFilterComp:function(){return T.current?T.current:null},setMenuIcon:function(W){var H;return(H=E.current)===null||H===void 0?void 0:H.appendChild(W)}};_.setComp(z,m.current,E.current,y.current)}},[]);er.useLayoutEffect(function(){return fut.showJsComp(g,e,y.current,R)},[g]);var D=er.useMemo(function(){return n.toString()},[n]),M=er.useMemo(function(){return s.toString()},[s]),G=er.useMemo(function(){return u.toString()},[u]),I=er.useMemo(function(){var j=g&&g.componentFromFramework&&_T.isComponentStateless(g.componentClass);return!!j},[g]),L=g&&g.componentFromFramework,B=g&&g.componentClass;return er.default.createElement("div",{ref:b,className:D,role:"gridcell",tabIndex:-1},er.default.createElement("div",{ref:y,className:M,role:"presentation"},L&&I&&er.default.createElement(B,Kx({},g.params)),L&&!I&&er.default.createElement(B,Kx({},g.params,{ref:R}))),er.default.createElement("div",{ref:w,"aria-hidden":h,className:G,role:"presentation"},er.default.createElement("button",{ref:E,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};O2.default=er.memo(put);var gut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mut=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gut(e,r,t);return mut(e,r),e},D2=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(b2,"__esModule",{value:!0});var cX=ci,Bo=vut(S),yut=D2(T2),Cut=D2(P2),wut=D2(O2),dX=pr,Sut=function(r){var e=r.ctrl,t=Bo.useMemo(function(){return e.getTopAndHeight()},[]),n=t.topOffset,i=t.rowHeight,o=e.getAriaRowIndex(),s=e.getHeaderRowClass(),a=Bo.useMemo(function(){return e.getTransform()},[]),l=Bo.useState(function(){return i+"px"}),u=l[0],c=l[1],d=Bo.useState(function(){return n+"px"}),h=d[0],f=d[1],p=Bo.useState(function(){return e.getHeaderCtrls()}),g=p[0],C=p[1],m=Bo.useRef(null),y=Bo.useCallback(function(P){if(m.current=P,!!P){var T={setHeight:function(R){return c(R)},setTop:function(R){return f(R)},setHeaderCtrls:function(R,_,b){dX.agFlushSync(b,function(){C(function(D){return dX.getNextValueIfDifferent(D,R,_)})})},setWidth:function(R){m.current&&(m.current.style.width=R)}};e.setComp(T,!1)}},[]),w=Bo.useMemo(function(){return{transform:a,height:u,top:h}},[a,u,h]),E=Bo.useCallback(function(P){switch(e.getType()){case cX.HeaderRowType.COLUMN_GROUP:return Bo.default.createElement(Cut.default,{ctrl:P,key:P.getInstanceId()});case cX.HeaderRowType.FLOATING_FILTER:return Bo.default.createElement(wut.default,{ctrl:P,key:P.getInstanceId()});default:return Bo.default.createElement(yut.default,{ctrl:P,key:P.getInstanceId()})}},[]);return Bo.default.createElement("div",{ref:y,className:s,role:"row",style:w,"aria-rowindex":o},g.map(E))};b2.default=Bo.memo(Sut);var Eut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_ut=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Eut(e,r,t);return _ut(e,r),e},but=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(R2,"__esModule",{value:!0});var yo=Rut(S),Tut=wi,Put=ci,Out=but(b2),Dut=function(r){var e=yo.useState(!0),t=e[0],n=e[1],i=yo.useState([]),o=i[0],s=i[1],a=yo.useContext(Tut.BeansContext).context,l=yo.useRef(null),u=yo.useRef(null),c=yo.useRef(null),d=r.pinned==="left",h=r.pinned==="right",f=!d&&!h,p=yo.useCallback(function(m){if(l.current=m,!l.current){a.destroyBean(c.current),c.current=null;return}var y={setDisplayed:n,setCtrls:function(w){return s(w)},setCenterWidth:function(w){u.current&&(u.current.style.width=w)},setViewportScrollLeft:function(w){l.current&&(l.current.scrollLeft=w)},setPinnedContainerWidth:function(w){l.current&&(l.current.style.width=w,l.current.style.minWidth=w,l.current.style.maxWidth=w)}};c.current=a.createBean(new Put.HeaderRowContainerCtrl(r.pinned)),c.current.setComp(y,l.current)},[]),g=t?"":"ag-hidden",C=function(){return o.map(function(m){return yo.default.createElement(Out.default,{ctrl:m,key:m.getInstanceId()})})};return yo.default.createElement(yo.default.Fragment,null,d&&yo.default.createElement("div",{ref:p,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"presentation"},C()),h&&yo.default.createElement("div",{ref:p,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"presentation"},C()),f&&yo.default.createElement("div",{ref:p,className:"ag-header-viewport "+g,role:"presentation"},yo.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},C())))};R2.default=yo.memo(Dut);var Aut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xut=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Iut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Aut(e,r,t);return xut(e,r),e},Fut=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_2,"__esModule",{value:!0});var Ts=Iut(S),Mut=wi,Lut=ci,Nut=pr,TG=Fut(R2),Gut=function(){var r=Ts.useState(function(){return new Nut.CssClasses}),e=r[0],t=r[1],n=Ts.useState(),i=n[0],o=n[1],s=Ts.useContext(Mut.BeansContext).context,a=Ts.useRef(null),l=Ts.useRef(null),u=Ts.useCallback(function(h){if(a.current=h,!h){s.destroyBean(l.current),l.current=null;return}var f={addOrRemoveCssClass:function(p,g){return t(function(C){return C.setClass(p,g)})},setHeightAndMinHeight:function(p){return o(p)}};l.current=s.createBean(new Lut.GridHeaderCtrl),l.current.setComp(f,a.current,a.current)},[]),c=Ts.useMemo(function(){var h=e.toString();return"ag-header "+h},[e]),d=Ts.useMemo(function(){return{height:i,minHeight:i}},[i]);return Ts.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},Ts.default.createElement(TG.default,{pinned:"left"}),Ts.default.createElement(TG.default,{pinned:null}),Ts.default.createElement(TG.default,{pinned:"right"}))};_2.default=Ts.memo(Gut);var _R={};Object.defineProperty(_R,"__esModule",{value:!0});var Vut=S,kut=function(r,e){Vut.useEffect(function(){var t=e.current;if(t){var n=t.parentElement;if(n){var i=document.createComment(r);return n.insertBefore(i,t),function(){n.removeChild(i)}}}},[r])};_R.default=kut;var A2={},x2={},mye={},I2={},CL={};Object.defineProperty(CL,"__esModule",{value:!0});CL.useEffectOnce=void 0;var Zg=S,Hut=function(r){var e=Zg.useRef(r),t=Zg.useRef(),n=Zg.useRef(!1),i=Zg.useRef(!1),o=Zg.useState(0),s=o[1];n.current&&(i.current=!0),Zg.useEffect(function(){return n.current||(t.current=e.current(),n.current=!0),s(function(a){return a+1}),function(){i.current&&t.current&&t.current()}},[])};CL.useEffectOnce=Hut;var $ut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),But=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$ut(e,r,t);return But(e,r),e};Object.defineProperty(I2,"__esModule",{value:!0});var Wut=ci,Gw=jut(S),Uut=Al,zut=wi,Kut=CL,Yut=function(r){var e=Gw.useState(),t=e[0],n=e[1],i=Gw.useContext(zut.BeansContext),o=i.context,s=i.popupService,a=i.localeService,l=i.gridOptionsService;return Kut.useEffectOnce(function(){var u=r.editDetails,c=r.cellCtrl,d=r.eParentCell,h=u.compDetails,f=l.is("stopEditingWhenCellsLoseFocus"),p=o.createBean(new Wut.PopupEditorWrapper(h.params)),g=p.getGui();if(r.jsChildComp){var C=r.jsChildComp.getGui();C&&g.appendChild(C)}var m={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:g,position:u.popupPosition,keepWithinBounds:!0},y=s.positionPopupByComponent.bind(s,m),w=a.getLocaleTextFunc(),E=s.addPopup({modal:f,eChild:g,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:y,ariaLabel:w("ariaLabelCellEditor","Cell Editor")}),P=E?E.hideFunc:void 0;return n(p),r.jsChildComp&&r.jsChildComp.afterGuiAttached&&r.jsChildComp.afterGuiAttached(),function(){P!=null&&P(),o.destroyBean(p)}}),Gw.default.createElement(Gw.default.Fragment,null,t&&r.wrappedContent&&Uut.createPortal(r.wrappedContent,t.getGui()))};I2.default=Gw.memo(Yut);var F2={};Object.defineProperty(F2,"__esModule",{value:!0});var RT=S,qut=wi,Qut=function(r,e,t,n,i,o){var s=RT.useContext(qut.BeansContext).context,a=RT.useCallback(function(){var l=i.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),s.destroyBean(l),i.current=void 0}},[]);RT.useEffect(function(){var l=r!=null,u=r&&r.compDetails&&!r.compDetails.componentFromFramework,c=e&&t==null,d=l&&u&&!c;if(!d){a();return}var h=r.compDetails;if(i.current){var f=i.current,p=f.refresh!=null&&r.force==!1,g=p?f.refresh(h.params):!1,C=g===!0||g===void 0;if(C)return;a()}var m=h.newAgStackInstance();if(m){var y=m.resolveNow(null,function(P){return P});if(y){var w=y.getGui();if(w){var E=e?t:o.current;E.appendChild(w),i.current=y}}}},[r,e,n]),RT.useEffect(function(){return a},[])};F2.default=Qut;(function(r){var e=Z&&Z.__assign||function(){return e=Object.assign||function(m){for(var y,w=1,E=arguments.length;w<E;w++){y=arguments[w];for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(m[P]=y[P])}return m},e.apply(this,arguments)},t=Z&&Z.__createBinding||(Object.create?function(m,y,w,E){E===void 0&&(E=w),Object.defineProperty(m,E,{enumerable:!0,get:function(){return y[w]}})}:function(m,y,w,E){E===void 0&&(E=w),m[E]=y[w]}),n=Z&&Z.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),i=Z&&Z.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var w in m)w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)&&t(y,m,w);return n(y,m),y},o=Z&&Z.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(r,"__esModule",{value:!0}),r.CellCompState=void 0;var s=ci,a=i(S),l=pr,u=o(I2),c=o(F2),d=wi,h=Dl;(function(m){m[m.ShowValue=0]="ShowValue",m[m.EditValue=1]="EditValue"})(r.CellCompState||(r.CellCompState={}));var f=function(m,y,w){var E=w.getColumn();if(!m&&y.isPopup&&y.isPopup()){var P="AG Grid: Found an issue in column "+E.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";s._.doOnce(function(){return console.warn(P)},"jsEditorComp-isPopup-"+w.getColumn().getColId())}if(m&&y.getPopupPosition&&y.getPopupPosition()!=null){var T="AG Grid: Found an issue in column "+E.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";s._.doOnce(function(){return console.warn(T)},"jsEditorComp-getPopupPosition-"+w.getColumn().getColId())}},p=function(m,y,w,E,P,T){var R=m.compDetails,_=R.componentClass,b=R.componentFromFramework&&!m.popup,D=R.componentFromFramework&&m.popup,M=!R.componentFromFramework&&m.popup;return a.default.createElement(a.default.Fragment,null,b&&a.default.createElement(_,e({},m.compDetails.params,{ref:y})),D&&a.default.createElement(u.default,{editDetails:m,cellCtrl:P,eParentCell:E,wrappedContent:a.default.createElement(_,e({},m.compDetails.params,{ref:w}))}),M&&T&&a.default.createElement(u.default,{editDetails:m,cellCtrl:P,eParentCell:E,jsChildComp:T}))},g=function(m,y,w,E,P,T,R){var _=m.compDetails,b=m.value,D=!_,M=_&&_.componentFromFramework,G=_&&_.componentClass,I=b!=null&&b.toString?b.toString():b,L=function(){return a.default.createElement(a.default.Fragment,null,D&&a.default.createElement(a.default.Fragment,null,I),M&&!T&&a.default.createElement(G,e({},_.params,{key:y,ref:E})),M&&T&&a.default.createElement(G,e({},_.params,{key:y})))};return a.default.createElement(a.default.Fragment,null,P?a.default.createElement("span",{role:"presentation",id:"cell-"+w,className:"ag-cell-value",ref:R},L()):L())},C=function(m){var y=a.useContext(d.BeansContext).context,w=m.cellCtrl,E=m.printLayout,P=m.editingRow,T=w.getTabIndex(),R=w.getColumnIdSanitised(),_=w.getInstanceId(),b=a.useState(function(){return w.getIsCellRenderer()?void 0:{compDetails:void 0,value:w.getValueToDisplay(),force:!1}}),D=b[0],M=b[1],G=a.useState(),I=G[0],L=G[1],B=a.useState(1),j=B[0],z=B[1],W=a.useState(),H=W[0],Y=W[1],Q=a.useState(!1),J=Q[0],oe=Q[1],re=a.useState(!1),ue=re[0],Ce=re[1],Re=a.useState(!1),Be=Re[0],Ge=Re[1],Ie=a.useState(),qe=Ie[0],$e=Ie[1],Tt=a.useMemo(function(){return w.isForceWrapper()},[w]),Dt=a.useRef(null),pt=a.useRef(null),bn=a.useRef(),Ze=a.useRef(),xe=a.useRef(),pn=a.useRef([]),Ot=a.useRef(),qr=a.useState(0),Bn=qr[0],Vt=qr[1],Se=a.useCallback(function(Mt){Ot.current=Mt,Vt(function(At){return At+1})},[]),Fe=D!=null&&(J||Be||ue),Je=Tt||Fe,Ue=a.useCallback(function(Mt,At){if(Ze.current=At,At){f(Mt,At,w);var Lt=At.isCancelBeforeStart&&At.isCancelBeforeStart();Lt&&setTimeout(function(){w.stopEditing(!0),w.focusCell(!0)})}},[w]),vt=a.useCallback(function(Mt){return Ue(!0,Mt)},[Ue]),Cn=a.useCallback(function(Mt){return Ue(!1,Mt)},[Ue]),mt=a.useRef();mt.current||(mt.current=new s.CssClassManager(function(){return Dt.current})),c.default(D,Je,Ot.current,Bn,bn,Dt);var kt=a.useRef();a.useLayoutEffect(function(){var Mt=kt.current,At=D;if(kt.current=D,!(Mt==null||Mt.compDetails==null||At==null||At.compDetails==null)){var Lt=Mt.compDetails,gt=At.compDetails;if(Lt.componentClass==gt.componentClass&&!(pt.current==null||pt.current.refresh==null)){var sn=pt.current.refresh(gt.params);sn!=!0&&z(function(Xt){return Xt+1})}}},[D]),a.useLayoutEffect(function(){var Mt=I&&!I.compDetails.componentFromFramework;if(Mt){var At=I.compDetails,Lt=I.popup===!0,gt=h.createSyncJsComp(At);if(gt){var sn=gt.getGui();if(Ue(Lt,gt),!Lt){var Xt=(Tt?xe:Dt).current;Xt==null||Xt.appendChild(sn),gt.afterGuiAttached&&gt.afterGuiAttached()}return $e(gt),function(){y.destroyBean(gt),Ue(Lt,void 0),$e(void 0),sn&&sn.parentElement&&sn.parentElement.removeChild(sn)}}}},[I]);var Qt=a.useCallback(function(Mt){if(xe.current=Mt,!xe.current){pn.current.forEach(function(gt){return gt()}),pn.current=[];return}var At=function(gt){var sn;if(gt){var Xt=gt.getGui();(sn=xe.current)===null||sn===void 0||sn.insertAdjacentElement("afterbegin",Xt),pn.current.push(function(){y.destroyBean(gt),s._.removeFromParent(Xt)})}return gt};if(J){var Lt=w.createSelectionCheckbox();At(Lt)}Be&&At(w.createDndSource()),ue&&At(w.createRowDragComp())},[w,y,Be,ue,J]),mn=a.useCallback(function(Mt){if(Dt.current=Mt,!!Dt.current&&w){var At={addOrRemoveCssClass:function(gt,sn){return mt.current.addOrRemoveCssClass(gt,sn)},setUserStyles:function(gt){return Y(gt)},getFocusableElement:function(){return Dt.current},setIncludeSelection:function(gt){return oe(gt)},setIncludeRowDrag:function(gt){return Ce(gt)},setIncludeDndSource:function(gt){return Ge(gt)},getCellEditor:function(){return Ze.current||null},getCellRenderer:function(){return pt.current?pt.current:bn.current},getParentOfValue:function(){return Ot.current?Ot.current:xe.current?xe.current:Dt.current},setRenderDetails:function(gt,sn,Xt){M(function(Dn){return(Dn==null?void 0:Dn.compDetails)!==gt||(Dn==null?void 0:Dn.value)!==sn||(Dn==null?void 0:Dn.force)!==Xt?{value:sn,compDetails:gt,force:Xt}:Dn})},setEditDetails:function(gt,sn,Xt){gt?(L({compDetails:gt,popup:sn,popupPosition:Xt}),sn||M(void 0)):L(void 0)}},Lt=xe.current||void 0;w.setComp(At,Dt.current,Lt,E,P)}},[]),or=a.useMemo(function(){var Mt=D&&D.compDetails&&D.compDetails.componentFromFramework&&l.isComponentStateless(D.compDetails.componentClass);return!!Mt},[D]);a.useLayoutEffect(function(){var Mt;Dt.current&&(mt.current.addOrRemoveCssClass("ag-cell-value",!Je),mt.current.addOrRemoveCssClass("ag-cell-inline-editing",!!I&&!I.popup),mt.current.addOrRemoveCssClass("ag-cell-popup-editing",!!I&&!!I.popup),mt.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!I||!!I.popup),(Mt=w.getRowCtrl())===null||Mt===void 0||Mt.setInlineEditingCss(!!I),w.shouldRestoreFocus()&&!w.isEditing()&&Dt.current.focus({preventScroll:!0}))});var Xn=function(){return a.default.createElement(a.default.Fragment,null,D!=null&&g(D,j,_,pt,Je,or,Se),I!=null&&p(I,Cn,vt,Dt.current,w,qe))};return a.default.createElement("div",{ref:mn,style:H,tabIndex:T,role:"gridcell","col-id":R},Je?a.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Qt},Xn()):Xn())};r.default=a.memo(C)})(mye);var Yx=Z&&Z.__assign||function(){return Yx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Yx.apply(this,arguments)},Xut=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jut=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zut=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Xut(e,r,t);return Jut(e,r),e},ect=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(x2,"__esModule",{value:!0});var $n=Zut(S),tct=ci,nct=Dl,PG=pr,rct=wi,ict=ect(mye),oct=function(r){var e=$n.useContext(rct.BeansContext).context,t=r.rowCtrl,n=r.containerType,i=t.getTabIndex(),o=$n.useRef(t.getDomOrder()),s=t.isFullWidth(),a=t.getRowNode().displayed,l=$n.useState(function(){return a?t.getRowIndex():null}),u=l[0],c=l[1],d=$n.useState(function(){return t.getRowId()}),h=d[0],f=d[1],p=$n.useState(function(){return t.getBusinessKey()}),g=p[0],C=p[1],m=$n.useState(function(){return t.getRowStyles()}),y=m[0],w=m[1],E=$n.useState(function(){return null}),P=E[0],T=E[1],R=$n.useState(),_=R[0],b=R[1],D=$n.useState(function(){return a?t.getInitialRowTop(n):void 0}),M=D[0],G=D[1],I=$n.useState(function(){return a?t.getInitialTransform(n):void 0}),L=I[0],B=I[1],j=$n.useRef(null),z=$n.useRef(),W=$n.useRef(!1),H=$n.useState(0),Y=H[0],Q=H[1];$n.useEffect(function(){var Ie;if(!W.current&&_&&!(Y>10)){var qe=(Ie=j.current)===null||Ie===void 0?void 0:Ie.firstChild;qe?(t.setupDetailRowAutoHeight(qe),W.current=!0):Q(function($e){return $e+1})}},[_,Y]);var J=$n.useRef();J.current||(J.current=new tct.CssClassManager(function(){return j.current}));var oe=$n.useCallback(function(Ie){if(j.current=Ie,!j.current){t.unsetComp(n);return}if(t.isAlive()){var qe={setTop:G,setTransform:B,addOrRemoveCssClass:function($e,Tt){return J.current.addOrRemoveCssClass($e,Tt)},setDomOrder:function($e){return o.current=$e},setRowIndex:c,setRowId:f,setRowBusinessKey:C,setUserStyles:w,setCellCtrls:function($e,Tt){PG.agFlushSync(Tt,function(){T(function(Dt){return PG.getNextValueIfDifferent(Dt,$e,o.current)})})},showFullWidth:function($e){return b($e)},getFullWidthCellRenderer:function(){return z.current}};t.setComp(qe,j.current,n)}},[]);$n.useLayoutEffect(function(){return nct.showJsComp(_,e,j.current,z)},[_]);var re=$n.useMemo(function(){var Ie={top:M,transform:L};return Object.assign(Ie,y),Ie},[M,L,y]),ue=s&&_&&_.componentFromFramework,Ce=!s&&P!=null,Re=$n.useMemo(function(){var Ie=(_==null?void 0:_.componentFromFramework)&&PG.isComponentStateless(_.componentClass);return!!Ie},[_]),Be=function(){return P==null?void 0:P.map(function(Ie){return $n.default.createElement(ict.default,{cellCtrl:Ie,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:Ie.getInstanceId()})})},Ge=function(){var Ie=_.componentClass;return $n.default.createElement($n.default.Fragment,null,Re&&$n.default.createElement(Ie,Yx({},_.params)),!Re&&$n.default.createElement(Ie,Yx({},_.params,{ref:z})))};return $n.default.createElement("div",{ref:oe,role:"row",style:re,"row-index":u,"row-id":h,"row-business-key":g,tabIndex:i},Ce&&Be(),ue&&Ge())};x2.default=$n.memo(oct);var sct=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),act=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lct=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sct(e,r,t);return act(e,r),e},vye=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(A2,"__esModule",{value:!0});var bf=ci,Sr=lct(S),bT=pr,uct=vye(_R),cct=vye(x2),dct=wi,hct=function(r){var e=Sr.useContext(dct.BeansContext).context,t=r.name,n=Sr.useMemo(function(){return bf.getRowContainerTypeForName(t)},[t]),i=Sr.useRef(null),o=Sr.useRef(null),s=Sr.useRef([]),a=Sr.useState(function(){return[]}),l=a[0],u=a[1],c=Sr.useRef(!1),d=Sr.useRef(),h=Sr.useMemo(function(){return bf.RowContainerCtrl.getRowContainerCssClasses(t)},[t]),f=Sr.useMemo(function(){return bT.classesList(h.viewport)},[h]),p=Sr.useMemo(function(){return bT.classesList(h.container)},[h]),g=t===bf.RowContainerName.CENTER||t===bf.RowContainerName.TOP_CENTER||t===bf.RowContainerName.BOTTOM_CENTER||t===bf.RowContainerName.STICKY_TOP_CENTER,C=g?i:o;uct.default(" AG Row Container "+t+" ",C);var m=Sr.useCallback(function(){return g?i.current!=null&&o.current!=null:o.current!=null},[]),y=Sr.useCallback(function(){return g?i.current==null&&o.current==null:o.current==null},[]),w=Sr.useCallback(function(){if(y()&&(e.destroyBean(d.current),d.current=null),m()){var R=function(b){bT.agFlushSync(b,function(){u(function(D){return bT.getNextValueIfDifferent(D,s.current,c.current)})})},_={setViewportHeight:function(b){i.current&&(i.current.style.height=b)},setRowCtrls:function(b,D){var M=D&&s.current.length>0&&b.length>0;s.current=b,R(M)},setDomOrder:function(b){c.current!=b&&(c.current=b,R(!1))},setContainerWidth:function(b){o.current&&(o.current.style.width=b)}};d.current=e.createBean(new bf.RowContainerCtrl(t)),d.current.setComp(_,o.current,i.current)}},[m,y]),E=Sr.useCallback(function(R){o.current=R,w()},[w]),P=Sr.useCallback(function(R){i.current=R,w()},[w]),T=function(){return Sr.default.createElement("div",{className:p,ref:E,role:l.length?"rowgroup":"presentation"},l.map(function(R){return Sr.default.createElement(cct.default,{rowCtrl:R,containerType:n,key:R.getInstanceId()})}))};return Sr.default.createElement(Sr.default.Fragment,null,g?Sr.default.createElement("div",{className:f,ref:P,role:"presentation"},T()):T())};A2.default=Sr.memo(hct);var fct=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pct=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gct=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fct(e,r,t);return pct(e,r),e},M2=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(E2,"__esModule",{value:!0});var Vr=ci,Kt=gct(S),mct=wi,vct=M2(_2),sw=M2(_R),yct=M2(A2),em=pr,Cct=function(){var r=Kt.useContext(mct.BeansContext),e=r.context,t=r.agStackComponentsRegistry,n=r.resizeObserverService,i=Kt.useState(""),o=i[0],s=i[1],a=Kt.useState(0),l=a[0],u=a[1],c=Kt.useState(0),d=c[0],h=c[1],f=Kt.useState("0px"),p=f[0],g=f[1],C=Kt.useState("0px"),m=C[0],y=C[1],w=Kt.useState("100%"),E=w[0],P=w[1],T=Kt.useState(""),R=T[0],_=T[1],b=Kt.useState(""),D=b[0],M=b[1],G=Kt.useState(null),I=G[0],L=G[1],B=Kt.useState(""),j=B[0],z=B[1],W=Kt.useState(null),H=W[0],Y=W[1],Q=Kt.useState("ag-layout-normal"),J=Q[0],oe=Q[1],re=Kt.useRef();re.current||(re.current=new Vr.CssClassManager(function(){return ue.current}));var ue=Kt.useRef(null),Ce=Kt.useRef(null),Re=Kt.useRef(null),Be=Kt.useRef(null),Ge=Kt.useRef(null),Ie=Kt.useRef(null),qe=Kt.useRef([]),$e=Kt.useRef([]);sw.default(" AG Grid Body ",ue),sw.default(" AG Pinned Top ",Ce),sw.default(" AG Sticky Top ",Re),sw.default(" AG Middle ",Ge),sw.default(" AG Pinned Bottom ",Ie);var Tt=Kt.useCallback(function(Fe){if(ue.current=Fe,!ue.current){e.destroyBeans(qe.current),$e.current.forEach(function(mt){return mt()}),qe.current=[],$e.current=[];return}if(e){var Je=function(mt){var kt=t.getComponentClass(mt),Qt=e.createBean(new kt);return qe.current.push(Qt),Qt},Ue=function(mt,kt){mt.appendChild(kt),$e.current.push(function(){return mt.removeChild(kt)})};Ue(ue.current,document.createComment(" AG Fake Horizontal Scroll ")),Ue(ue.current,Je("AG-FAKE-HORIZONTAL-SCROLL").getGui()),Ue(ue.current,document.createComment(" AG Overlay Wrapper ")),Ue(ue.current,Je("AG-OVERLAY-WRAPPER").getGui()),Be.current&&(Ue(Be.current,document.createComment(" AG Fake Vertical Scroll ")),Ue(Be.current,Je("AG-FAKE-VERTICAL-SCROLL").getGui()));var vt={setRowAnimationCssOnBodyViewport:s,setColumnCount:function(mt){ue.current&&Vr._.setAriaColCount(ue.current,mt)},setRowCount:function(mt){ue.current&&Vr._.setAriaRowCount(ue.current,mt)},setTopHeight:u,setBottomHeight:h,setStickyTopHeight:g,setStickyTopTop:y,setStickyTopWidth:P,setTopDisplay:_,setBottomDisplay:M,setColumnMovingCss:function(mt,kt){return re.current.addOrRemoveCssClass(mt,kt)},updateLayoutClasses:oe,setAlwaysVerticalScrollClass:L,setPinnedTopBottomOverflowY:z,setCellSelectableCss:function(mt,kt){return Y(kt?mt:null)},setBodyViewportWidth:function(mt){Ge.current&&(Ge.current.style.width=mt)},registerBodyViewportResizeListener:function(mt){if(Ge.current){var kt=n.observeResize(Ge.current,mt);$e.current.push(function(){return kt()})}}},Cn=e.createBean(new Vr.GridBodyCtrl);qe.current.push(Cn),Cn.setComp(vt,ue.current,Ge.current,Ce.current,Ie.current,Re.current)}},[]),Dt=Kt.useMemo(function(){return em.classesList("ag-root","ag-unselectable",J)},[J]),pt=Kt.useMemo(function(){return em.classesList("ag-body-viewport",o,J,I,H)},[o,J,I,H]),bn=Kt.useMemo(function(){return em.classesList("ag-body",J)},[J]),Ze=Kt.useMemo(function(){return em.classesList("ag-floating-top",H)},[H]),xe=Kt.useMemo(function(){return em.classesList("ag-sticky-top",H)},[H]),pn=Kt.useMemo(function(){return em.classesList("ag-floating-bottom",H)},[H]),Ot=Kt.useMemo(function(){return{height:l,minHeight:l,display:R,overflowY:j}},[l,R,j]),qr=Kt.useMemo(function(){return{height:p,top:m,width:E}},[p,m,E]),Bn=Kt.useMemo(function(){return{height:d,minHeight:d,display:D,overflowY:j}},[d,D,j]),Vt=function(Fe){return Kt.default.createElement(yct.default,{name:Fe,key:Fe+"-container"})},Se=function(Fe){var Je=Fe.section,Ue=Fe.children,vt=Fe.className,Cn=Fe.style;return Kt.default.createElement("div",{ref:Je,className:vt,role:"presentation",style:Cn},Ue.map(Vt))};return Kt.default.createElement("div",{ref:Tt,className:Dt,role:"treegrid"},Kt.default.createElement(vct.default,null),Se({section:Ce,className:Ze,style:Ot,children:[Vr.RowContainerName.TOP_LEFT,Vr.RowContainerName.TOP_CENTER,Vr.RowContainerName.TOP_RIGHT,Vr.RowContainerName.TOP_FULL_WIDTH]}),Kt.default.createElement("div",{className:bn,ref:Be,role:"presentation"},Se({section:Ge,className:pt,children:[Vr.RowContainerName.LEFT,Vr.RowContainerName.CENTER,Vr.RowContainerName.RIGHT,Vr.RowContainerName.FULL_WIDTH]})),Se({section:Re,className:xe,style:qr,children:[Vr.RowContainerName.STICKY_TOP_LEFT,Vr.RowContainerName.STICKY_TOP_CENTER,Vr.RowContainerName.STICKY_TOP_RIGHT,Vr.RowContainerName.STICKY_TOP_FULL_WIDTH]}),Se({section:Ie,className:pn,style:Bn,children:[Vr.RowContainerName.BOTTOM_LEFT,Vr.RowContainerName.BOTTOM_CENTER,Vr.RowContainerName.BOTTOM_RIGHT,Vr.RowContainerName.BOTTOM_FULL_WIDTH]}))};E2.default=Kt.memo(Cct);var L2={},wct=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sct=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ect=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wct(e,r,t);return Sct(e,r),e};Object.defineProperty(L2,"__esModule",{value:!0});var Ps=Ect(S),TT=ci,_ct=wi,Rct=function(r,e){var t=r.children,n=r.eFocusableElement,i=r.onTabKeyDown,o=r.gridCtrl,s=Ps.useContext(_ct.BeansContext).context,a=Ps.useRef(null),l=Ps.useRef(null),u=Ps.useRef(),c=function(g){var C=g==null?void 0:parseInt(g,10).toString();[a,l].forEach(function(m){var y,w;C===void 0?(y=m.current)===null||y===void 0||y.removeAttribute("tabindex"):(w=m.current)===null||w===void 0||w.setAttribute("tabindex",C)})};Ps.useImperativeHandle(e,function(){return{forceFocusOutOfContainer:function(){var g;(g=u.current)===null||g===void 0||g.forceFocusOutOfContainer()}}});var d=Ps.useCallback(function(){if(!a.current&&!l.current){s.destroyBean(u.current),u.current=null;return}if(a.current&&l.current){var g={setTabIndex:c};u.current=s.createBean(new TT.TabGuardCtrl({comp:g,eTopGuard:a.current,eBottomGuard:l.current,eFocusableElement:n,onTabKeyDown:i,focusInnerElement:function(C){return o.focusInnerElement(C)}}))}},[]),h=Ps.useCallback(function(g){a.current=g,d()},[d]),f=Ps.useCallback(function(g){l.current=g,d()},[d]),p=function(g){var C=g==="top"?TT.TabGuardClassNames.TAB_GUARD_TOP:TT.TabGuardClassNames.TAB_GUARD_BOTTOM;return Ps.default.createElement("div",{className:TT.TabGuardClassNames.TAB_GUARD+" "+C,role:"presentation",ref:g==="top"?h:f})};return Ps.default.createElement(Ps.default.Fragment,null,p("top"),t,p("bottom"))},bct=Ps.forwardRef(Rct);L2.default=Ps.memo(bct);var Tct=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pct=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Oct=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Tct(e,r,t);return Pct(e,r),e},N2=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(S2,"__esModule",{value:!0});var hX=ci,Wn=Oct(S),Dct=wi,Act=N2(E2),xct=N2(_R),Ict=N2(L2),fX=pr,Fct=function(r){var e=r.context,t=Wn.useState(""),n=t[0],i=t[1],o=Wn.useState(""),s=o[0],a=o[1],l=Wn.useState(""),u=l[0],c=l[1],d=Wn.useState(null),h=d[0],f=d[1],p=Wn.useState(null),g=p[0],C=p[1],m=Wn.useState(!1),y=m[0],w=m[1],E=Wn.useState(),P=E[0],T=E[1],R=Wn.useRef(null),_=Wn.useRef(null),b=Wn.useRef(),D=Wn.useState(null),M=D[0],G=D[1],I=Wn.useRef(function(){}),L=Wn.useCallback(function(){},[]),B=Wn.useMemo(function(){return e.isDestroyed()?null:e.getBean("beans")},[e]);xct.default(" AG Grid ",_);var j=Wn.useCallback(function(Q){if(_.current=Q,!_.current){e.destroyBean(R.current),R.current=null;return}if(!e.isDestroyed()){R.current=e.createBean(new hX.GridCtrl);var J=R.current;I.current=J.focusInnerElement.bind(J);var oe={destroyGridUi:function(){},setRtlClass:i,addOrRemoveKeyboardFocusClass:function(re){return a(re?hX.FocusService.AG_KEYBOARD_FOCUS:"")},forceFocusOutOfContainer:function(){var re;(re=b.current)===null||re===void 0||re.forceFocusOutOfContainer()},updateLayoutClasses:c,getFocusableContainers:function(){var re,ue,Ce=[],Re=(re=_.current)===null||re===void 0?void 0:re.querySelector(".ag-root"),Be=(ue=_.current)===null||ue===void 0?void 0:ue.querySelector(".ag-side-bar:not(.ag-hidden)");return Re&&Ce.push(Re),Be&&Ce.push(Be),Ce},setCursor:f,setUserSelect:C};J.setComp(oe,_.current,_.current),w(!0)}},[]);Wn.useEffect(function(){if(!(!P||!B||!R.current||!M||!_.current)){var Q=R.current,J=[],oe=B.agStackComponentsRegistry,re=oe.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),ue=oe.getComponentClass("AG-SIDE-BAR"),Ce=oe.getComponentClass("AG-STATUS-BAR"),Re=oe.getComponentClass("AG-WATERMARK"),Be=oe.getComponentClass("AG-PAGINATION"),Ge=[],Ie=_.current;if(Q.showDropZones()&&re){var qe=e.createBean(new re),$e=qe.getGui();Ie.insertAdjacentElement("afterbegin",$e),Ge.push($e),J.push(qe)}if(Q.showSideBar()&&ue){var Tt=e.createBean(new ue),$e=Tt.getGui(),Dt=M.querySelector(".ag-tab-guard-bottom");Dt&&(Dt.insertAdjacentElement("beforebegin",$e),Ge.push($e)),J.push(Tt)}if(Q.showStatusBar()&&Ce){var pt=e.createBean(new Ce),$e=pt.getGui();Ie.insertAdjacentElement("beforeend",$e),Ge.push($e),J.push(pt)}if(Be){var bn=e.createBean(new Be),$e=bn.getGui();Ie.insertAdjacentElement("beforeend",$e),Ge.push($e),J.push(bn)}if(Q.showWatermark()&&Re){var Ze=e.createBean(new Re),$e=Ze.getGui();Ie.insertAdjacentElement("beforeend",$e),Ge.push($e),J.push(Ze)}return function(){e.destroyBeans(J),Ge.forEach(function(xe){xe.parentElement&&xe.parentElement.removeChild(xe)})}}},[P,M,B]);var z=Wn.useMemo(function(){return fX.classesList("ag-root-wrapper",n,s,u)},[n,s,u]),W=Wn.useMemo(function(){return fX.classesList("ag-root-wrapper-body","ag-focus-managed",u)},[u]),H=Wn.useMemo(function(){return{userSelect:g??"",WebkitUserSelect:g??"",cursor:h??""}},[g,h]),Y=Wn.useCallback(function(Q){b.current=Q,T(Q!==null)},[]);return Wn.default.createElement("div",{ref:j,className:z,style:H,role:"presentation"},Wn.default.createElement("div",{className:W,ref:G,role:"presentation"},y&&M&&B&&Wn.default.createElement(Dct.BeansContext.Provider,{value:B},Wn.default.createElement(Ict.default,{ref:Y,eFocusableElement:M,onTabKeyDown:L,gridCtrl:R.current},Wn.default.createElement(Act.default,null)))))};S2.default=Wn.memo(Fct);var pX;function G2(){if(pX)return ow;pX=1;var r=Z&&Z.__extends||function(){var g=function(C,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(y[E]=w[E])},g(C,m)};return function(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");g(C,m);function y(){this.constructor=C}C.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}(),e=Z&&Z.__assign||function(){return e=Object.assign||function(g){for(var C,m=1,y=arguments.length;m<y;m++){C=arguments[m];for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(g[w]=C[w])}return g},e.apply(this,arguments)},t=Z&&Z.__createBinding||(Object.create?function(g,C,m,y){y===void 0&&(y=m),Object.defineProperty(g,y,{enumerable:!0,get:function(){return C[m]}})}:function(g,C,m,y){y===void 0&&(y=m),g[y]=C[m]}),n=Z&&Z.__setModuleDefault||(Object.create?function(g,C){Object.defineProperty(g,"default",{enumerable:!0,value:C})}:function(g,C){g.default=C}),i=Z&&Z.__importStar||function(g){if(g&&g.__esModule)return g;var C={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&t(C,g,m);return n(C,g),C},o=Z&&Z.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ow,"__esModule",{value:!0}),ow.AgGridReactUi=void 0;var s=ci,a=i(S),l=ER,u=tg,c=yye(),d=o(S2),h=function(g){var C,m,y=a.useRef(null),w=a.useRef(null),E=a.useRef(null),P=a.useRef([]),T=a.useRef([]),R=a.useRef(g),_=a.useRef(!1),b=a.useState(void 0),D=b[0],M=b[1],G=a.useCallback(function(W){W.rowDataChangeDetectionStrategy&&s._.doOnce(function(){return console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/")},"rowDataChangeDetectionStrategy_Deprecation")},[]),I=a.useState(0),L=I[1],B=a.useCallback(function(W){if(w.current=W,!w.current){P.current.forEach(function(re){return re()}),P.current.length=0;return}var H=g.modules||[];E.current||(E.current=new u.PortalManager(function(){return L(function(re){return re+1})},g.componentWrappingElement,g.maxComponentCreationTimeMs),P.current.push(function(){var re;(re=E.current)===null||re===void 0||re.destroy(),E.current=null}));var Y={providedBeanInstances:{frameworkComponentWrapper:new f(E.current)},modules:H,frameworkOverrides:new c.ReactFrameworkOverrides(!0)};y.current=g.gridOptions||{},y.current=s.ComponentUtil.copyAttributesToGridOptions(y.current,g),G(g);var Q=function(re){M(re),P.current.push(function(){re.destroy()});var ue=re.getBean(s.CtrlsService.NAME);ue.whenReady(function(){if(!re.isDestroyed()&&y.current){var Ce=y.current.api;Ce&&g.setGridApi&&g.setGridApi(Ce,y.current.columnApi)}})},J=function(re){var ue=re.getBean(s.CtrlsService.NAME);ue.whenReady(function(){T.current.forEach(function(Ce){return Ce()}),T.current.length=0,_.current=!0})},oe=new s.GridCoreCreator;oe.create(w.current,y.current,Q,J,Y)},[]),j=a.useMemo(function(){return e({height:"100%"},g.containerStyle||{})},[g.containerStyle]),z=a.useCallback(function(W){_.current?W():T.current.push(W)},[]);return a.useEffect(function(){var W={};p(R.current,g,W),R.current=g,z(function(){var H;!((H=y.current)===null||H===void 0)&&H.api&&s.ComponentUtil.processOnChange(W,y.current.api)})},[g]),a.default.createElement("div",{style:j,className:g.className,ref:B},D&&!D.isDestroyed()?a.default.createElement(d.default,{context:D}):null,(m=(C=E.current)===null||C===void 0?void 0:C.getPortals())!==null&&m!==void 0?m:null)};ow.AgGridReactUi=h;var f=function(g){r(C,g);function C(m){var y=g.call(this)||this;return y.parent=m,y}return C.prototype.createWrapper=function(m,y){return new l.NewReactComponent(m,this.parent,y)},C}(s.BaseComponentWrapper);function p(g,C,m){var y=!!C.debug;Object.keys(C).forEach(function(w){s.ComponentUtil.ALL_PROPERTIES_SET.has(w)&&g[w]!==C[w]&&(y&&console.log(" agGridReact: ["+w+"] property changed"),m[w]={previousValue:g[w],currentValue:C[w]})}),s.ComponentUtil.EVENT_CALLBACKS.forEach(function(w){g[w]!==C[w]&&(y&&console.log("agGridReact: ["+w+"] event callback changed"),m[w]={previousValue:g[w],currentValue:C[w]})})}return ow}var gX;function Mct(){if(gX)return ST;gX=1;var r=Z&&Z.__assign||function(){return r=Object.assign||function(c){for(var d,h=1,f=arguments.length;h<f;h++){d=arguments[h];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])}return c},r.apply(this,arguments)},e=Z&&Z.__createBinding||(Object.create?function(c,d,h,f){f===void 0&&(f=h),Object.defineProperty(c,f,{enumerable:!0,get:function(){return d[h]}})}:function(c,d,h,f){f===void 0&&(f=h),c[f]=d[h]}),t=Z&&Z.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),n=Z&&Z.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&e(d,c,h);return t(d,c),d};Object.defineProperty(ST,"__esModule",{value:!0});var i=n(S),o=pr,s=ci,a=wi,l=G2(),u=function(c,d){var h=i.useContext(a.BeansContext),f=h.ctrlsFactory,p=h.context,g=h.gridOptionsService,C=h.resizeObserverService,m=h.clientSideRowModel,y=h.serverSideRowModel,w=i.useState(function(){return new o.CssClasses}),E=w[0],P=w[1],T=i.useState(function(){return new o.CssClasses}),R=T[0],_=T[1],b=i.useState(),D=b[0],M=b[1],G=i.useState(),I=G[0],L=G[1],B=i.useRef(),j=i.useRef(null),z=i.useRef(),W=i.useMemo(function(){return s.ModuleRegistry.__getGridRegisteredModules(c.api.getGridId())},[c]),H=i.useMemo(function(){return E.toString()+" ag-details-row"},[E]),Y=i.useMemo(function(){return R.toString()+" ag-details-grid"},[R]);d&&i.useImperativeHandle(d,function(){return{refresh:function(){var oe,re;return(re=(oe=B.current)===null||oe===void 0?void 0:oe.refresh())!==null&&re!==void 0?re:!1}}}),c.template&&s._.doOnce(function(){return console.warn("AG Grid: detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/")},"React_detailCellRenderer.template");var Q=i.useCallback(function(oe){if(j.current=oe,!j.current){p.destroyBean(B.current),z.current&&z.current();return}var re={addOrRemoveCssClass:function(Re,Be){return P(function(Ge){return Ge.setClass(Re,Be)})},addOrRemoveDetailGridCssClass:function(Re,Be){return _(function(Ge){return Ge.setClass(Re,Be)})},setDetailGrid:function(Re){return M(Re)},setRowData:function(Re){return L(Re)},getGui:function(){return j.current}},ue=f.getInstance("detailCellRenderer");if(ue&&(p.createBean(ue),ue.init(re,c),B.current=ue,g.is("detailRowAutoHeight"))){var Ce=function(){if(j.current!=null){var Re=j.current.clientHeight;if(Re!=null&&Re>0){var Be=function(){c.node.setRowHeight(Re),m?m.onRowHeightChanged():y&&y.onRowHeightChanged()};setTimeout(Be,0)}}};z.current=C.observeResize(j.current,Ce),Ce()}},[]),J=i.useCallback(function(oe,re){var ue;(ue=B.current)===null||ue===void 0||ue.registerDetailWithMaster(oe,re)},[]);return i.default.createElement("div",{className:H,ref:Q},D&&i.default.createElement(l.AgGridReactUi,r({className:Y},D,{modules:W,rowData:I,setGridApi:J})))};return ST.default=i.forwardRef(u),ST}var mX;function yye(){if(mX)return iw;mX=1;var r=Z&&Z.__extends||function(){var s=function(a,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d])},s(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");s(a,l);function u(){this.constructor=a}a.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),e=Z&&Z.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(iw,"__esModule",{value:!0}),iw.ReactFrameworkOverrides=void 0;var t=ci,n=e(w2),i=e(Mct()),o=function(s){r(a,s);function a(l){var u=s.call(this)||this;return u.frameworkComponents={agGroupCellRenderer:n.default,agGroupRowRenderer:n.default,agDetailCellRenderer:i.default},u.reactUi=l,u.renderingEngine=l?"react":"vanilla",u}return a.prototype.frameworkComponent=function(l){if(this.reactUi)return this.frameworkComponents[l]},a.prototype.isFrameworkComponent=function(l){if(!l)return!1;var u=l.prototype,c=u&&"getGui"in u;return!c},a}(t.VanillaFrameworkOverrides);return iw.ReactFrameworkOverrides=o,iw}var Cye=Z&&Z.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qx=Z&&Z.__assign||function(){return qx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qx.apply(this,arguments)},Lct=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nct=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Gct=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Lct(e,r,t);return Nct(e,r),e},Vct=Z&&Z.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pR,"__esModule",{value:!0});pR.AgGridReactLegacy=void 0;var bo=ci,gf=Vct(yue),vX=Gct(S),kct=dL,Hct=ER,$ct=tg,Bct=yye(),V2=function(r){Cye(e,r);function e(t){var n=r.call(this,t)||this;return n.props=t,n.api=null,n.destroyed=!1,n.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],n.portalManager=new $ct.LegacyPortalManager(n,t.componentWrappingElement,t.maxComponentCreationTimeMs),n}return e.prototype.render=function(){var t=this;return vX.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(n){t.eGridDiv=n}},this.portalManager.getPortals())},e.prototype.createStyleForDiv=function(){return qx({height:"100%"},this.props.containerStyle||{})},e.prototype.componentDidMount=function(){var t=this.props.modules||[],n={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new jct(this,this.portalManager)},modules:t,frameworkOverrides:new Bct.ReactFrameworkOverrides(!1)},i=this.props.gridOptions||{};this.gridOptions=bo.ComponentUtil.copyAttributesToGridOptions(i,this.props),this.checkForDeprecations(this.props),new bo.Grid(this.eGridDiv,this.gridOptions,n),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)},e.prototype.checkForDeprecations=function(t){t.rowDataChangeDetectionStrategy&&bo._.doOnce(function(){return console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/")},"rowDataChangeDetectionStrategy_Deprecation")},e.prototype.shouldComponentUpdate=function(t){return this.processPropsChanges(this.props,t),!1},e.prototype.componentDidUpdate=function(t){this.processPropsChanges(t,this.props)},e.prototype.processPropsChanges=function(t,n){var i={};this.extractGridPropertyChanges(t,n,i),this.processSynchronousChanges(i),this.processAsynchronousChanges(i)},e.prototype.extractGridPropertyChanges=function(t,n,i){var o=!!n.debug;Object.keys(n).forEach(function(s){bo.ComponentUtil.ALL_PROPERTIES_SET.has(s)&&t[s]!==n[s]&&(o&&console.log("agGridReact: ["+s+"] property changed"),i[s]={previousValue:t[s],currentValue:n[s]})}),bo.ComponentUtil.EVENT_CALLBACKS.forEach(function(s){t[s]!==n[s]&&(o&&console.log("agGridReact: ["+s+"] event callback changed"),i[s]={previousValue:t[s],currentValue:n[s]})})},e.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()},e.prototype.isDisableStaticMarkup=function(){return this.props.disableStaticMarkup===!0},e.prototype.isLegacyComponentRendering=function(){return this.props.legacyComponentRendering===!0},e.prototype.processSynchronousChanges=function(t){var n=qx({},t);if(Object.keys(n).length>0){var i={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(function(o){n[o]&&(i[o]=n[o],delete n[o])}),Object.keys(i).length>0&&this.api&&bo.ComponentUtil.processOnChange(i,this.api)}return n},e.prototype.processAsynchronousChanges=function(t){var n=this;Object.keys(t).length>0&&window.setTimeout(function(){n.api&&bo.ComponentUtil.processOnChange(t,n.api)})},e.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,e.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:e.MAX_COMPONENT_CREATION_TIME_IN_MS},e}(vX.Component);pR.AgGridReactLegacy=V2;V2.propTypes={gridOptions:gf.default.object};Ig(bo.ComponentUtil.EVENT_CALLBACKS,gf.default.func);Ig(bo.ComponentUtil.BOOLEAN_PROPERTIES,gf.default.bool);Ig(bo.ComponentUtil.STRING_PROPERTIES,gf.default.string);Ig(bo.ComponentUtil.OBJECT_PROPERTIES,gf.default.object);Ig(bo.ComponentUtil.ARRAY_PROPERTIES,gf.default.array);Ig(bo.ComponentUtil.NUMBER_PROPERTIES,gf.default.number);Ig(bo.ComponentUtil.FUNCTION_PROPERTIES,gf.default.func);function Ig(r,e){r.forEach(function(t){V2[t]=e})}var jct=function(r){Cye(e,r);function e(t,n){var i=r.call(this)||this;return i.agGridReact=t,i.portalManager=n,i}return e.prototype.createWrapper=function(t,n){return this.agGridReact.isLegacyComponentRendering()?new kct.LegacyReactComponent(t,this.agGridReact,this.portalManager,n):new Hct.NewReactComponent(t,this.portalManager,n)},e}(bo.BaseComponentWrapper),Wct=Z&&Z.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Qx=Z&&Z.__assign||function(){return Qx=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Qx.apply(this,arguments)},Uct=Z&&Z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zct=Z&&Z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kct=Z&&Z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Uct(e,r,t);return zct(e,r),e};Object.defineProperty(WM,"__esModule",{value:!0});WM.AgGridReact=void 0;var OG=Kct(S),Yct=pR,qct=G2(),Qct=function(r){Wct(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.setGridApi=function(n,i){t.api=n,t.columnApi=i},t}return e.prototype.render=function(){var t=this.props.suppressReactUi?OG.default.createElement(Yct.AgGridReactLegacy,Qx({},this.props,{setGridApi:this.setGridApi})):OG.default.createElement(qct.AgGridReactUi,Qx({},this.props,{setGridApi:this.setGridApi}));return t},e}(OG.Component);WM.AgGridReact=Qct;var wye={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChangeDetectionStrategyType=void 0,function(e){e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck"}(r.ChangeDetectionStrategyType||(r.ChangeDetectionStrategyType={}))})(wye);(function(r){var e=Z&&Z.__createBinding||(Object.create?function(s,a,l,u){u===void 0&&(u=l),Object.defineProperty(s,u,{enumerable:!0,get:function(){return a[l]}})}:function(s,a,l,u){u===void 0&&(u=l),s[u]=a[l]}),t=Z&&Z.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,s,l)};Object.defineProperty(r,"__esModule",{value:!0}),r.AgGridReactFire=r.AgGridReactLegacy=r.AgGridReact=void 0;var n=WM;Object.defineProperty(r,"AgGridReact",{enumerable:!0,get:function(){return n.AgGridReact}});var i=pR;Object.defineProperty(r,"AgGridReactLegacy",{enumerable:!0,get:function(){return i.AgGridReactLegacy}});var o=G2();Object.defineProperty(r,"AgGridReactFire",{enumerable:!0,get:function(){return o.AgGridReactUi}}),t(wye,r)})(KQe);var Xct=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function RR(r,e){var t=Jct(r);if(typeof t.path!="string"){var n=r.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:r.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Jct(r){var e=r.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!r.type){var n=e.split(".").pop().toLowerCase(),i=Xct.get(n);i&&Object.defineProperty(r,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return r}var Zct=[".DS_Store","Thumbs.db"];function edt(r){return ry(this,void 0,void 0,function(){return iy(this,function(e){return Xx(r)&&tdt(r.dataTransfer)?[2,odt(r.dataTransfer,r.type)]:ndt(r)?[2,rdt(r)]:Array.isArray(r)&&r.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,idt(r)]:[2,[]]})})}function tdt(r){return Xx(r)}function ndt(r){return Xx(r)&&Xx(r.target)}function Xx(r){return typeof r=="object"&&r!==null}function rdt(r){return iH(r.target.files).map(function(e){return RR(e)})}function idt(r){return ry(this,void 0,void 0,function(){var e;return iy(this,function(t){switch(t.label){case 0:return[4,Promise.all(r.map(function(n){return n.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(n){return RR(n)})]}})})}function odt(r,e){return ry(this,void 0,void 0,function(){var t,n;return iy(this,function(i){switch(i.label){case 0:return r.items?(t=iH(r.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(sdt))]):[3,2];case 1:return n=i.sent(),[2,yX(Sye(n))];case 2:return[2,yX(iH(r.files).map(function(o){return RR(o)}))]}})})}function yX(r){return r.filter(function(e){return Zct.indexOf(e.name)===-1})}function iH(r){if(r===null)return[];for(var e=[],t=0;t<r.length;t++){var n=r[t];e.push(n)}return e}function sdt(r){if(typeof r.webkitGetAsEntry!="function")return CX(r);var e=r.webkitGetAsEntry();return e&&e.isDirectory?Eye(e):CX(r)}function Sye(r){return r.reduce(function(e,t){return M1(M1([],Wz(e),!1),Wz(Array.isArray(t)?Sye(t):[t]),!1)},[])}function CX(r){var e=r.getAsFile();if(!e)return Promise.reject("".concat(r," is not a File"));var t=RR(e);return Promise.resolve(t)}function adt(r){return ry(this,void 0,void 0,function(){return iy(this,function(e){return[2,r.isDirectory?Eye(r):ldt(r)]})})}function Eye(r){var e=r.createReader();return new Promise(function(t,n){var i=[];function o(){var s=this;e.readEntries(function(a){return ry(s,void 0,void 0,function(){var l,u,c;return iy(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),t(l),[3,4];case 3:return u=d.sent(),n(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(adt)),i.push(c),o(),d.label=6;case 6:return[2]}})})},function(a){n(a)})}o()})}function ldt(r){return ry(this,void 0,void 0,function(){return iy(this,function(e){return[2,new Promise(function(t,n){r.file(function(i){var o=RR(i,r.fullPath);t(o)},function(i){n(i)})})]})})}var udt=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=r.name||"",i=(r.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function wX(r){return hdt(r)||ddt(r)||Rye(r)||cdt()}function cdt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ddt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function hdt(r){if(Array.isArray(r))return oH(r)}function SX(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function EX(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?SX(Object(t),!0).forEach(function(n){_ye(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):SX(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _ye(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function IE(r,e){return gdt(r)||pdt(r,e)||Rye(r,e)||fdt()}function fdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(r,e){if(r){if(typeof r=="string")return oH(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oH(r,e)}}function oH(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function pdt(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,a;try{for(t=t.call(r);!(i=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return n}}function gdt(r){if(Array.isArray(r))return r}var mdt="file-invalid-type",vdt="file-too-large",ydt="file-too-small",Cdt="too-many-files",wdt=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:mdt,message:"File type must be ".concat(t)}},_X=function(e){return{code:vdt,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},RX=function(e){return{code:ydt,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Sdt={code:Cdt,message:"Too many files"};function bye(r,e){var t=r.type==="application/x-moz-file"||udt(r,e);return[t,t?null:wdt(e)]}function Tye(r,e,t){if(Wf(r.size))if(Wf(e)&&Wf(t)){if(r.size>t)return[!1,_X(t)];if(r.size<e)return[!1,RX(e)]}else{if(Wf(e)&&r.size<e)return[!1,RX(e)];if(Wf(t)&&r.size>t)return[!1,_X(t)]}return[!0,null]}function Wf(r){return r!=null}function Edt(r){var e=r.files,t=r.accept,n=r.minSize,i=r.maxSize,o=r.multiple,s=r.maxFiles,a=r.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(l){var u=bye(l,t),c=IE(u,1),d=c[0],h=Tye(l,n,i),f=IE(h,1),p=f[0],g=a?a(l):null;return d&&p&&!g})}function Jx(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function PT(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function bX(r){r.preventDefault()}function _dt(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function Rdt(r){return r.indexOf("Edge/")!==-1}function bdt(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _dt(r)||Rdt(r)}function zl(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!Jx(n)&&a&&a.apply(void 0,[n].concat(o)),Jx(n)})}}function Tdt(){return"showOpenFilePicker"in window}function Pdt(r){if(Wf(r)){var e=Object.entries(r).filter(function(t){var n=IE(t,2),i=n[0],o=n[1],s=!0;return Pye(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(Oye))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(t,n){var i=IE(n,2),o=i[0],s=i[1];return EX(EX({},t),{},_ye({},o,s))},{});return[{description:"Files",accept:e}]}return r}function Odt(r){if(Wf(r))return Object.entries(r).reduce(function(e,t){var n=IE(t,2),i=n[0],o=n[1];return[].concat(wX(e),[i],wX(o))},[]).filter(function(e){return Pye(e)||Oye(e)}).join(",")}function Ddt(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function Adt(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function Pye(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||/\w+\/[-+.\w]+/g.test(r)}function Oye(r){return/^.*\.[\w]+$/.test(r)}var xdt=["children"],Idt=["open"],Fdt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Mdt=["refKey","onChange","onClick"];function Ldt(r){return Vdt(r)||Gdt(r)||Dye(r)||Ndt()}function Ndt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gdt(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Vdt(r){if(Array.isArray(r))return sH(r)}function DG(r,e){return $dt(r)||Hdt(r,e)||Dye(r,e)||kdt()}function kdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dye(r,e){if(r){if(typeof r=="string")return sH(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sH(r,e)}}function sH(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Hdt(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,a;try{for(t=t.call(r);!(i=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return n}}function $dt(r){if(Array.isArray(r))return r}function TX(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function dr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TX(Object(t),!0).forEach(function(n){aH(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):TX(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function aH(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Zx(r,e){if(r==null)return{};var t=Bdt(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function Bdt(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var k2=S.forwardRef(function(r,e){var t=r.children,n=Zx(r,xdt),i=xye(n),o=i.open,s=Zx(i,Idt);return S.useImperativeHandle(e,function(){return{open:o}},[o]),N.createElement(S.Fragment,null,t(dr(dr({},s),{},{open:o})))});k2.displayName="Dropzone";var Aye={disabled:!1,getFilesFromEvent:edt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};k2.defaultProps=Aye;k2.propTypes={children:fn.func,accept:fn.objectOf(fn.arrayOf(fn.string)),multiple:fn.bool,preventDropOnDocument:fn.bool,noClick:fn.bool,noKeyboard:fn.bool,noDrag:fn.bool,noDragEventsBubbling:fn.bool,minSize:fn.number,maxSize:fn.number,maxFiles:fn.number,disabled:fn.bool,getFilesFromEvent:fn.func,onFileDialogCancel:fn.func,onFileDialogOpen:fn.func,useFsAccessApi:fn.bool,autoFocus:fn.bool,onDragEnter:fn.func,onDragLeave:fn.func,onDragOver:fn.func,onDrop:fn.func,onDropAccepted:fn.func,onDropRejected:fn.func,onError:fn.func,validator:fn.func};var lH={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function xye(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=dr(dr({},Aye),r),t=e.accept,n=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,h=e.onDrop,f=e.onDropAccepted,p=e.onDropRejected,g=e.onFileDialogCancel,C=e.onFileDialogOpen,m=e.useFsAccessApi,y=e.autoFocus,w=e.preventDropOnDocument,E=e.noClick,P=e.noKeyboard,T=e.noDrag,R=e.noDragEventsBubbling,_=e.onError,b=e.validator,D=S.useMemo(function(){return Odt(t)},[t]),M=S.useMemo(function(){return Pdt(t)},[t]),G=S.useMemo(function(){return typeof C=="function"?C:PX},[C]),I=S.useMemo(function(){return typeof g=="function"?g:PX},[g]),L=S.useRef(null),B=S.useRef(null),j=S.useReducer(jdt,lH),z=DG(j,2),W=z[0],H=z[1],Y=W.isFocused,Q=W.isFileDialogActive,J=S.useRef(typeof window<"u"&&window.isSecureContext&&m&&Tdt()),oe=function(){!J.current&&Q&&setTimeout(function(){if(B.current){var Fe=B.current.files;Fe.length||(H({type:"closeDialog"}),I())}},300)};S.useEffect(function(){return window.addEventListener("focus",oe,!1),function(){window.removeEventListener("focus",oe,!1)}},[B,Q,I,J]);var re=S.useRef([]),ue=function(Fe){L.current&&L.current.contains(Fe.target)||(Fe.preventDefault(),re.current=[])};S.useEffect(function(){return w&&(document.addEventListener("dragover",bX,!1),document.addEventListener("drop",ue,!1)),function(){w&&(document.removeEventListener("dragover",bX),document.removeEventListener("drop",ue))}},[L,w]),S.useEffect(function(){return!n&&y&&L.current&&L.current.focus(),function(){}},[L,y,n]);var Ce=S.useCallback(function(Se){_?_(Se):console.error(Se)},[_]),Re=S.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ot(Se),re.current=[].concat(Ldt(re.current),[Se.target]),PT(Se)&&Promise.resolve(i(Se)).then(function(Fe){if(!(Jx(Se)&&!R)){var Je=Fe.length,Ue=Je>0&&Edt({files:Fe,accept:D,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:b}),vt=Je>0&&!Ue;H({isDragAccept:Ue,isDragReject:vt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(Se)}}).catch(function(Fe){return Ce(Fe)})},[i,u,Ce,R,D,s,o,a,l,b]),Be=S.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ot(Se);var Fe=PT(Se);if(Fe&&Se.dataTransfer)try{Se.dataTransfer.dropEffect="copy"}catch{}return Fe&&d&&d(Se),!1},[d,R]),Ge=S.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ot(Se);var Fe=re.current.filter(function(Ue){return L.current&&L.current.contains(Ue)}),Je=Fe.indexOf(Se.target);Je!==-1&&Fe.splice(Je,1),re.current=Fe,!(Fe.length>0)&&(H({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),PT(Se)&&c&&c(Se))},[L,c,R]),Ie=S.useCallback(function(Se,Fe){var Je=[],Ue=[];Se.forEach(function(vt){var Cn=bye(vt,D),mt=DG(Cn,2),kt=mt[0],Qt=mt[1],mn=Tye(vt,s,o),or=DG(mn,2),Xn=or[0],Mt=or[1],At=b?b(vt):null;if(kt&&Xn&&!At)Je.push(vt);else{var Lt=[Qt,Mt];At&&(Lt=Lt.concat(At)),Ue.push({file:vt,errors:Lt.filter(function(gt){return gt})})}}),(!a&&Je.length>1||a&&l>=1&&Je.length>l)&&(Je.forEach(function(vt){Ue.push({file:vt,errors:[Sdt]})}),Je.splice(0)),H({acceptedFiles:Je,fileRejections:Ue,type:"setFiles"}),h&&h(Je,Ue,Fe),Ue.length>0&&p&&p(Ue,Fe),Je.length>0&&f&&f(Je,Fe)},[H,a,D,s,o,l,h,f,p,b]),qe=S.useCallback(function(Se){Se.preventDefault(),Se.persist(),Ot(Se),re.current=[],PT(Se)&&Promise.resolve(i(Se)).then(function(Fe){Jx(Se)&&!R||Ie(Fe,Se)}).catch(function(Fe){return Ce(Fe)}),H({type:"reset"})},[i,Ie,Ce,R]),$e=S.useCallback(function(){if(J.current){H({type:"openDialog"}),G();var Se={multiple:a,types:M};window.showOpenFilePicker(Se).then(function(Fe){return i(Fe)}).then(function(Fe){Ie(Fe,null),H({type:"closeDialog"})}).catch(function(Fe){Ddt(Fe)?(I(Fe),H({type:"closeDialog"})):Adt(Fe)?(J.current=!1,B.current?(B.current.value=null,B.current.click()):Ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ce(Fe)});return}B.current&&(H({type:"openDialog"}),G(),B.current.value=null,B.current.click())},[H,G,I,m,Ie,Ce,M,a]),Tt=S.useCallback(function(Se){!L.current||!L.current.isEqualNode(Se.target)||(Se.key===" "||Se.key==="Enter"||Se.keyCode===32||Se.keyCode===13)&&(Se.preventDefault(),$e())},[L,$e]),Dt=S.useCallback(function(){H({type:"focus"})},[]),pt=S.useCallback(function(){H({type:"blur"})},[]),bn=S.useCallback(function(){E||(bdt()?setTimeout($e,0):$e())},[E,$e]),Ze=function(Fe){return n?null:Fe},xe=function(Fe){return P?null:Ze(Fe)},pn=function(Fe){return T?null:Ze(Fe)},Ot=function(Fe){R&&Fe.stopPropagation()},qr=S.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=Se.refKey,Je=Fe===void 0?"ref":Fe,Ue=Se.role,vt=Se.onKeyDown,Cn=Se.onFocus,mt=Se.onBlur,kt=Se.onClick,Qt=Se.onDragEnter,mn=Se.onDragOver,or=Se.onDragLeave,Xn=Se.onDrop,Mt=Zx(Se,Fdt);return dr(dr(aH({onKeyDown:xe(zl(vt,Tt)),onFocus:xe(zl(Cn,Dt)),onBlur:xe(zl(mt,pt)),onClick:Ze(zl(kt,bn)),onDragEnter:pn(zl(Qt,Re)),onDragOver:pn(zl(mn,Be)),onDragLeave:pn(zl(or,Ge)),onDrop:pn(zl(Xn,qe)),role:typeof Ue=="string"&&Ue!==""?Ue:"presentation"},Je,L),!n&&!P?{tabIndex:0}:{}),Mt)}},[L,Tt,Dt,pt,bn,Re,Be,Ge,qe,P,T,n]),Bn=S.useCallback(function(Se){Se.stopPropagation()},[]),Vt=S.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=Se.refKey,Je=Fe===void 0?"ref":Fe,Ue=Se.onChange,vt=Se.onClick,Cn=Zx(Se,Mdt),mt=aH({accept:D,multiple:a,type:"file",style:{display:"none"},onChange:Ze(zl(Ue,qe)),onClick:Ze(zl(vt,Bn)),tabIndex:-1},Je,B);return dr(dr({},mt),Cn)}},[B,t,a,qe,n]);return dr(dr({},W),{},{isFocused:Y&&!n,getRootProps:qr,getInputProps:Vt,rootRef:L,inputRef:B,open:Ze($e)})}function jdt(r,e){switch(e.type){case"focus":return dr(dr({},r),{},{isFocused:!0});case"blur":return dr(dr({},r),{},{isFocused:!1});case"openDialog":return dr(dr({},lH),{},{isFileDialogActive:!0});case"closeDialog":return dr(dr({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return dr(dr({},r),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return dr(dr({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return dr({},lH);default:return r}}function PX(){}function Wdt(r){const e=S.createContext(null);return[({children:i,value:o})=>N.createElement(e.Provider,{value:o},i),()=>{const i=S.useContext(e);if(i===null)throw new Error(r);return i}]}function Udt(r){return Array.isArray(r)||r===null?!1:typeof r=="object"?r.type!==N.Fragment:!1}const[zdt,Kdt]=Wdt("Dropzone component was not found in tree");var OX=Object.getOwnPropertySymbols,Ydt=Object.prototype.hasOwnProperty,qdt=Object.prototype.propertyIsEnumerable,Qdt=(r,e)=>{var t={};for(var n in r)Ydt.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&OX)for(var n of OX(r))e.indexOf(n)<0&&qdt.call(r,n)&&(t[n]=r[n]);return t};function H2(r){const e=t=>{const n=Ve(`Dropzone${R5(r)}`,{},t),{children:i}=n,o=Qdt(n,["children"]),s=Kdt(),a=Udt(i)?i:N.createElement("span",null,i);return s[r]?S.cloneElement(a,o):null};return e.displayName=`@mantine/dropzone/${R5(r)}`,e}const Xdt=H2("accept"),Jdt=H2("reject"),Zdt=H2("idle");var eht=Object.defineProperty,tht=Object.defineProperties,nht=Object.getOwnPropertyDescriptors,DX=Object.getOwnPropertySymbols,rht=Object.prototype.hasOwnProperty,iht=Object.prototype.propertyIsEnumerable,AX=(r,e,t)=>e in r?eht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xX=(r,e)=>{for(var t in e||(e={}))rht.call(e,t)&&AX(r,t,e[t]);if(DX)for(var t of DX(e))iht.call(e,t)&&AX(r,t,e[t]);return r},oht=(r,e)=>tht(r,nht(e)),sht=Xe((r,{padding:e,radius:t})=>{const n=r.fn.variant({color:"red",variant:"light"}),i=r.fn.variant({color:r.primaryColor,variant:"light"});return{root:oht(xX(xX({},r.fn.fontStyles()),r.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,border:`${U(2)} dashed ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4]}`,padding:Oe({size:e,sizes:r.spacing}),borderRadius:r.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white}},"&[data-accept]":{backgroundColor:r.colorScheme==="dark"?i.background:r.colors[r.primaryColor][0],borderColor:r.colorScheme==="dark"?i.border:r.colors[r.primaryColor][4],"&:hover":{backgroundColor:r.colorScheme==="dark"?i.background:r.colors[r.primaryColor][0]}},"&[data-reject]":{backgroundColor:r.colorScheme==="dark"?n.background:r.colors.red[0],borderColor:r.colorScheme==="dark"?n.border:r.colors.red[4],"&:hover":{backgroundColor:r.colorScheme==="dark"?n.background:r.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}}),aht=Object.defineProperty,lht=Object.defineProperties,uht=Object.getOwnPropertyDescriptors,eI=Object.getOwnPropertySymbols,Iye=Object.prototype.hasOwnProperty,Fye=Object.prototype.propertyIsEnumerable,IX=(r,e,t)=>e in r?aht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,aw=(r,e)=>{for(var t in e||(e={}))Iye.call(e,t)&&IX(r,t,e[t]);if(eI)for(var t of eI(e))Fye.call(e,t)&&IX(r,t,e[t]);return r},AG=(r,e)=>lht(r,uht(e)),cht=(r,e)=>{var t={};for(var n in r)Iye.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&eI)for(var n of eI(r))e.indexOf(n)<0&&Fye.call(r,n)&&(t[n]=r[n]);return t};const dht={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Yy(r){const e=Ve("Dropzone",dht,r),{className:t,padding:n,radius:i,disabled:o,classNames:s,styles:a,loading:l,multiple:u,maxSize:c,accept:d,children:h,onDropAny:f,onDrop:p,onReject:g,openRef:C,name:m,unstyled:y,maxFiles:w,autoFocus:E,activateOnClick:P,activateOnDrag:T,dragEventsBubbling:R,activateOnKeyboard:_,onDragEnter:b,onDragLeave:D,onDragOver:M,onFileDialogCancel:G,onFileDialogOpen:I,preventDropOnDocument:L,useFsAccessApi:B,getFilesFromEvent:j,validator:z,variant:W}=e,H=cht(e,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:Y,cx:Q}=sht({radius:i,padding:n},{name:"Dropzone",classNames:s,styles:a,unstyled:y,variant:W}),{getRootProps:J,getInputProps:oe,isDragAccept:re,isDragReject:ue,open:Ce}=xye(aw({onDrop:f,onDropAccepted:p,onDropRejected:g,disabled:o||l,accept:Array.isArray(d)?d.reduce((Be,Ge)=>AG(aw({},Be),{[Ge]:[]}),{}):d,multiple:u,maxSize:c,maxFiles:w,autoFocus:E,noClick:!P,noDrag:!T,noDragEventsBubbling:!R,noKeyboard:!_,onDragEnter:b,onDragLeave:D,onDragOver:M,onFileDialogCancel:G,onFileDialogOpen:I,preventDropOnDocument:L,useFsAccessApi:B,validator:z},j?{getFilesFromEvent:j}:null));Rte(C,Ce);const Re=!re&&!ue;return N.createElement(zdt,{value:{accept:re,reject:ue,idle:Re}},N.createElement(it,AG(aw(aw({},H),J()),{"data-accept":re||void 0,"data-reject":ue||void 0,"data-idle":Re||void 0,"data-loading":l||void 0,className:Q(Y.root,t)}),N.createElement(foe,{visible:l,radius:i,unstyled:y}),N.createElement("input",AG(aw({},oe()),{name:m})),N.createElement("div",{className:Y.inner},h)))}Yy.displayName="@mantine/dropzone/Dropzone";Yy.Accept=Xdt;Yy.Reject=Jdt;Yy.Idle=Zdt;const Mye=Yy;var hht=Object.defineProperty,fht=Object.defineProperties,pht=Object.getOwnPropertyDescriptors,FX=Object.getOwnPropertySymbols,ght=Object.prototype.hasOwnProperty,mht=Object.prototype.propertyIsEnumerable,MX=(r,e,t)=>e in r?hht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vht=(r,e)=>{for(var t in e||(e={}))ght.call(e,t)&&MX(r,t,e[t]);if(FX)for(var t of FX(e))mht.call(e,t)&&MX(r,t,e[t]);return r},yht=(r,e)=>fht(r,pht(e)),Cht=Xe(r=>({wrapper:yht(vht({},r.fn.cover(0)),{position:"fixed",backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,display:"flex",padding:r.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}})),wht=Object.defineProperty,Sht=Object.defineProperties,Eht=Object.getOwnPropertyDescriptors,tI=Object.getOwnPropertySymbols,Lye=Object.prototype.hasOwnProperty,Nye=Object.prototype.propertyIsEnumerable,LX=(r,e,t)=>e in r?wht(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xG=(r,e)=>{for(var t in e||(e={}))Lye.call(e,t)&&LX(r,t,e[t]);if(tI)for(var t of tI(e))Nye.call(e,t)&&LX(r,t,e[t]);return r},IG=(r,e)=>Sht(r,Eht(e)),_ht=(r,e)=>{var t={};for(var n in r)Lye.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tI)for(var n of tI(r))e.indexOf(n)<0&&Nye.call(r,n)&&(t[n]=r[n]);return t};const Rht={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:xl("max"),withinPortal:!0};function Gye(r){const e=Ve("DropzoneFullScreen",Rht,r),{classNames:t,styles:n,sx:i,className:o,style:s,unstyled:a,active:l,onDrop:u,onReject:c,zIndex:d,withinPortal:h,portalProps:f}=e,p=_ht(e,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[g,C]=N.useState(0),[m,{open:y,close:w}]=CTe(!1),{classes:E,cx:P}=Cht(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:a}),T=_=>{_.dataTransfer.types.includes("Files")&&(C(b=>b+1),y())},R=()=>{C(_=>_-1)};return S.useEffect(()=>{g===0&&w()},[g]),S.useEffect(()=>{if(l)return document.addEventListener("dragenter",T,!1),document.addEventListener("dragleave",R,!1),()=>{document.removeEventListener("dragenter",T,!1),document.removeEventListener("dragleave",R,!1)}},[l]),N.createElement(ly,IG(xG({},f),{withinPortal:h}),N.createElement(it,{className:P(E.wrapper,o),sx:i,style:IG(xG({},s),{opacity:m?1:0,pointerEvents:m?"all":"none",zIndex:d})},N.createElement(Yy,IG(xG({},p),{classNames:t,styles:n,unstyled:a,className:E.dropzone,onDrop:_=>{u==null||u(_),w()},onReject:_=>{c==null||c(_),w()}}))))}Gye.displayName="@mantine/dropzone/DropzoneFullScreen";Mye.FullScreen=Gye;const b_t=Mye;function No(r){if(typeof r=="string"||typeof r=="number")return""+r;let e="";if(Array.isArray(r))for(let t=0,n;t<r.length;t++)(n=No(r[t]))!==""&&(e+=(e&&" ")+n);else for(let t in r)r[t]&&(e+=(e&&" ")+t);return e}const{useDebugValue:bht}=N,{useSyncExternalStoreWithSelector:Tht}=ede,Pht=r=>r;function Vye(r,e=Pht,t){const n=Tht(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return bht(n),n}const NX=(r,e)=>{const t=qce(r),n=(i,o=e)=>Vye(t,i,o);return Object.assign(n,t),n},Oht=(r,e)=>r?NX(r,e):NX;function mo(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[n,i]of r)if(!Object.is(i,e.get(n)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const n of r)if(!e.has(n))return!1;return!0}const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(const n of t)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(r[n],e[n]))return!1;return!0}var Dht={value:()=>{}};function wL(){for(var r=0,e=arguments.length,t={},n;r<e;++r){if(!(n=arguments[r]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new kP(t)}function kP(r){this._=r}function Aht(r,e){return r.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}kP.prototype=wL.prototype={constructor:kP,on:function(r,e){var t=this._,n=Aht(r+"",t),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(r=n[o]).type)&&(i=xht(t[i],r.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(r=n[o]).type)t[i]=GX(t[i],r.name,e);else if(e==null)for(i in t)t[i]=GX(t[i],r.name,null);return this},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new kP(r)},call:function(r,e){if((i=arguments.length-2)>0)for(var t=new Array(i),n=0,i,o;n<i;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,i=o.length;n<i;++n)o[n].value.apply(e,t)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,o=n.length;i<o;++i)n[i].value.apply(e,t)}};function xht(r,e){for(var t=0,n=r.length,i;t<n;++t)if((i=r[t]).name===e)return i.value}function GX(r,e,t){for(var n=0,i=r.length;n<i;++n)if(r[n].name===e){r[n]=Dht,r=r.slice(0,n).concat(r.slice(n+1));break}return t!=null&&r.push({name:e,value:t}),r}var uH="http://www.w3.org/1999/xhtml";const VX={svg:"http://www.w3.org/2000/svg",xhtml:uH,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function SL(r){var e=r+="",t=e.indexOf(":");return t>=0&&(e=r.slice(0,t))!=="xmlns"&&(r=r.slice(t+1)),VX.hasOwnProperty(e)?{space:VX[e],local:r}:r}function Iht(r){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===uH&&e.documentElement.namespaceURI===uH?e.createElement(r):e.createElementNS(t,r)}}function Fht(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function kye(r){var e=SL(r);return(e.local?Fht:Iht)(e)}function Mht(){}function $2(r){return r==null?Mht:function(){return this.querySelector(r)}}function Lht(r){typeof r!="function"&&(r=$2(r));for(var e=this._groups,t=e.length,n=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=n[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=r.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Js(n,this._parents)}function Nht(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function Ght(){return[]}function Hye(r){return r==null?Ght:function(){return this.querySelectorAll(r)}}function Vht(r){return function(){return Nht(r.apply(this,arguments))}}function kht(r){typeof r=="function"?r=Vht(r):r=Hye(r);for(var e=this._groups,t=e.length,n=[],i=[],o=0;o<t;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(n.push(r.call(l,l.__data__,u,s)),i.push(l));return new Js(n,i)}function $ye(r){return function(){return this.matches(r)}}function Bye(r){return function(e){return e.matches(r)}}var Hht=Array.prototype.find;function $ht(r){return function(){return Hht.call(this.children,r)}}function Bht(){return this.firstElementChild}function jht(r){return this.select(r==null?Bht:$ht(typeof r=="function"?r:Bye(r)))}var Wht=Array.prototype.filter;function Uht(){return Array.from(this.children)}function zht(r){return function(){return Wht.call(this.children,r)}}function Kht(r){return this.selectAll(r==null?Uht:zht(typeof r=="function"?r:Bye(r)))}function Yht(r){typeof r!="function"&&(r=$ye(r));for(var e=this._groups,t=e.length,n=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=n[i]=[],l,u=0;u<s;++u)(l=o[u])&&r.call(l,l.__data__,u,o)&&a.push(l);return new Js(n,this._parents)}function jye(r){return new Array(r.length)}function qht(){return new Js(this._enter||this._groups.map(jye),this._parents)}function nI(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}nI.prototype={constructor:nI,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function Qht(r){return function(){return r}}function Xht(r,e,t,n,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],n[s]=a):t[s]=new nI(r,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Jht(r,e,t,n,i,o,s){var a,l,u=new Map,c=e.length,d=o.length,h=new Array(c),f;for(a=0;a<c;++a)(l=e[a])&&(h[a]=f=s.call(l,l.__data__,a,e)+"",u.has(f)?i[a]=l:u.set(f,l));for(a=0;a<d;++a)f=s.call(r,o[a],a,o)+"",(l=u.get(f))?(n[a]=l,l.__data__=o[a],u.delete(f)):t[a]=new nI(r,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function Zht(r){return r.__data__}function eft(r,e){if(!arguments.length)return Array.from(this,Zht);var t=e?Jht:Xht,n=this._parents,i=this._groups;typeof r!="function"&&(r=Qht(r));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=n[u],d=i[u],h=d.length,f=tft(r.call(c,c&&c.__data__,u,n)),p=f.length,g=a[u]=new Array(p),C=s[u]=new Array(p),m=l[u]=new Array(h);t(c,d,g,C,m,f,e);for(var y=0,w=0,E,P;y<p;++y)if(E=g[y]){for(y>=w&&(w=y+1);!(P=C[w])&&++w<p;);E._next=P||null}}return s=new Js(s,n),s._enter=a,s._exit=l,s}function tft(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function nft(){return new Js(this._exit||this._groups.map(jye),this._parents)}function rft(r,e,t){var n=this.enter(),i=this,o=this.exit();return typeof r=="function"?(n=r(n),n&&(n=n.selection())):n=n.append(r+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?o.remove():t(o),n&&i?n.merge(i).order():i}function ift(r){for(var e=r.selection?r.selection():r,t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=t[l],c=n[l],d=u.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=u[p]||c[p])&&(h[p]=f);for(;l<i;++l)a[l]=t[l];return new Js(a,this._parents)}function oft(){for(var r=this._groups,e=-1,t=r.length;++e<t;)for(var n=r[e],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function sft(r){r||(r=aft);function e(d,h){return d&&h?r(d.__data__,h.__data__):!d-!h}for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o){for(var s=t[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new Js(i,this._parents).order()}function aft(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function lft(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function uft(){return Array.from(this)}function cft(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var n=r[e],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function dft(){let r=0;for(const e of this)++r;return r}function hft(){return!this.node()}function fft(r){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length,a;o<s;++o)(a=i[o])&&r.call(a,a.__data__,o,i);return this}function pft(r){return function(){this.removeAttribute(r)}}function gft(r){return function(){this.removeAttributeNS(r.space,r.local)}}function mft(r,e){return function(){this.setAttribute(r,e)}}function vft(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function yft(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(r):this.setAttribute(r,t)}}function Cft(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,t)}}function wft(r,e){var t=SL(r);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((e==null?t.local?gft:pft:typeof e=="function"?t.local?Cft:yft:t.local?vft:mft)(t,e))}function Wye(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function Sft(r){return function(){this.style.removeProperty(r)}}function Eft(r,e,t){return function(){this.style.setProperty(r,e,t)}}function _ft(r,e,t){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(r):this.style.setProperty(r,n,t)}}function Rft(r,e,t){return arguments.length>1?this.each((e==null?Sft:typeof e=="function"?_ft:Eft)(r,e,t??"")):Xv(this.node(),r)}function Xv(r,e){return r.style.getPropertyValue(e)||Wye(r).getComputedStyle(r,null).getPropertyValue(e)}function bft(r){return function(){delete this[r]}}function Tft(r,e){return function(){this[r]=e}}function Pft(r,e){return function(){var t=e.apply(this,arguments);t==null?delete this[r]:this[r]=t}}function Oft(r,e){return arguments.length>1?this.each((e==null?bft:typeof e=="function"?Pft:Tft)(r,e)):this.node()[r]}function Uye(r){return r.trim().split(/^|\s+/)}function B2(r){return r.classList||new zye(r)}function zye(r){this._node=r,this._names=Uye(r.getAttribute("class")||"")}zye.prototype={add:function(r){var e=this._names.indexOf(r);e<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function Kye(r,e){for(var t=B2(r),n=-1,i=e.length;++n<i;)t.add(e[n])}function Yye(r,e){for(var t=B2(r),n=-1,i=e.length;++n<i;)t.remove(e[n])}function Dft(r){return function(){Kye(this,r)}}function Aft(r){return function(){Yye(this,r)}}function xft(r,e){return function(){(e.apply(this,arguments)?Kye:Yye)(this,r)}}function Ift(r,e){var t=Uye(r+"");if(arguments.length<2){for(var n=B2(this.node()),i=-1,o=t.length;++i<o;)if(!n.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?xft:e?Dft:Aft)(t,e))}function Fft(){this.textContent=""}function Mft(r){return function(){this.textContent=r}}function Lft(r){return function(){var e=r.apply(this,arguments);this.textContent=e??""}}function Nft(r){return arguments.length?this.each(r==null?Fft:(typeof r=="function"?Lft:Mft)(r)):this.node().textContent}function Gft(){this.innerHTML=""}function Vft(r){return function(){this.innerHTML=r}}function kft(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e??""}}function Hft(r){return arguments.length?this.each(r==null?Gft:(typeof r=="function"?kft:Vft)(r)):this.node().innerHTML}function $ft(){this.nextSibling&&this.parentNode.appendChild(this)}function Bft(){return this.each($ft)}function jft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wft(){return this.each(jft)}function Uft(r){var e=typeof r=="function"?r:kye(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function zft(){return null}function Kft(r,e){var t=typeof r=="function"?r:kye(r),n=e==null?zft:typeof e=="function"?e:$2(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function Yft(){var r=this.parentNode;r&&r.removeChild(this)}function qft(){return this.each(Yft)}function Qft(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function Xft(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function Jft(r){return this.select(r?Xft:Qft)}function Zft(r){return arguments.length?this.property("__data__",r):this.node().__data__}function ept(r){return function(e){r.call(this,e,this.__data__)}}function tpt(r){return r.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function npt(r){return function(){var e=this.__on;if(e){for(var t=0,n=-1,i=e.length,o;t<i;++t)o=e[t],(!r.type||o.type===r.type)&&o.name===r.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function rpt(r,e,t){return function(){var n=this.__on,i,o=ept(e);if(n){for(var s=0,a=n.length;s<a;++s)if((i=n[s]).type===r.type&&i.name===r.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=t),i.value=e;return}}this.addEventListener(r.type,o,t),i={type:r.type,name:r.name,value:e,listener:o,options:t},n?n.push(i):this.__on=[i]}}function ipt(r,e,t){var n=tpt(r+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=n[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?rpt:npt,i=0;i<o;++i)this.each(a(n[i],e,t));return this}function qye(r,e,t){var n=Wye(r),i=n.CustomEvent;typeof i=="function"?i=new i(e,t):(i=n.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),r.dispatchEvent(i)}function opt(r,e){return function(){return qye(this,r,e)}}function spt(r,e){return function(){return qye(this,r,e.apply(this,arguments))}}function apt(r,e){return this.each((typeof e=="function"?spt:opt)(r,e))}function*lpt(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var n=r[e],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var Qye=[null];function Js(r,e){this._groups=r,this._parents=e}function bR(){return new Js([[document.documentElement]],Qye)}function upt(){return this}Js.prototype=bR.prototype={constructor:Js,select:Lht,selectAll:kht,selectChild:jht,selectChildren:Kht,filter:Yht,data:eft,enter:qht,exit:nft,join:rft,merge:ift,selection:upt,order:oft,sort:sft,call:lft,nodes:uft,node:cft,size:dft,empty:hft,each:fft,attr:wft,style:Rft,property:Oft,classed:Ift,text:Nft,html:Hft,raise:Bft,lower:Wft,append:Uft,insert:Kft,remove:qft,clone:Jft,datum:Zft,on:ipt,dispatch:apt,[Symbol.iterator]:lpt};function ol(r){return typeof r=="string"?new Js([[document.querySelector(r)]],[document.documentElement]):new Js([[r]],Qye)}function cpt(r){let e;for(;e=r.sourceEvent;)r=e;return r}function iu(r,e){if(r=cpt(r),e===void 0&&(e=r.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=r.clientX,n.y=r.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[r.clientX-i.left-e.clientLeft,r.clientY-i.top-e.clientTop]}}return[r.pageX,r.pageY]}const dpt={passive:!1},FE={capture:!0,passive:!1};function FG(r){r.stopImmediatePropagation()}function sv(r){r.preventDefault(),r.stopImmediatePropagation()}function Xye(r){var e=r.document.documentElement,t=ol(r).on("dragstart.drag",sv,FE);"onselectstart"in e?t.on("selectstart.drag",sv,FE):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Jye(r,e){var t=r.document.documentElement,n=ol(r).on("dragstart.drag",null);e&&(n.on("click.drag",sv,FE),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const OT=r=>()=>r;function cH(r,{sourceEvent:e,subject:t,target:n,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}cH.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function hpt(r){return!r.ctrlKey&&!r.button}function fpt(){return this.parentNode}function ppt(r,e){return e??{x:r.x,y:r.y}}function gpt(){return navigator.maxTouchPoints||"ontouchstart"in this}function mpt(){var r=hpt,e=fpt,t=ppt,n=gpt,i={},o=wL("start","drag","end"),s=0,a,l,u,c,d=0;function h(E){E.on("mousedown.drag",f).filter(n).on("touchstart.drag",C).on("touchmove.drag",m,dpt).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(E,P){if(!(c||!r.call(this,E,P))){var T=w(this,e.call(this,E,P),E,P,"mouse");T&&(ol(E.view).on("mousemove.drag",p,FE).on("mouseup.drag",g,FE),Xye(E.view),FG(E),u=!1,a=E.clientX,l=E.clientY,T("start",E))}}function p(E){if(sv(E),!u){var P=E.clientX-a,T=E.clientY-l;u=P*P+T*T>d}i.mouse("drag",E)}function g(E){ol(E.view).on("mousemove.drag mouseup.drag",null),Jye(E.view,u),sv(E),i.mouse("end",E)}function C(E,P){if(r.call(this,E,P)){var T=E.changedTouches,R=e.call(this,E,P),_=T.length,b,D;for(b=0;b<_;++b)(D=w(this,R,E,P,T[b].identifier,T[b]))&&(FG(E),D("start",E,T[b]))}}function m(E){var P=E.changedTouches,T=P.length,R,_;for(R=0;R<T;++R)(_=i[P[R].identifier])&&(sv(E),_("drag",E,P[R]))}function y(E){var P=E.changedTouches,T=P.length,R,_;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<T;++R)(_=i[P[R].identifier])&&(FG(E),_("end",E,P[R]))}function w(E,P,T,R,_,b){var D=o.copy(),M=iu(b||T,P),G,I,L;if((L=t.call(E,new cH("beforestart",{sourceEvent:T,target:h,identifier:_,active:s,x:M[0],y:M[1],dx:0,dy:0,dispatch:D}),R))!=null)return G=L.x-M[0]||0,I=L.y-M[1]||0,function B(j,z,W){var H=M,Y;switch(j){case"start":i[_]=B,Y=s++;break;case"end":delete i[_],--s;case"drag":M=iu(W||z,P),Y=s;break}D.call(j,E,new cH(j,{sourceEvent:z,subject:L,target:h,identifier:_,active:Y,x:M[0]+G,y:M[1]+I,dx:M[0]-H[0],dy:M[1]-H[1],dispatch:D}),R)}}return h.filter=function(E){return arguments.length?(r=typeof E=="function"?E:OT(!!E),h):r},h.container=function(E){return arguments.length?(e=typeof E=="function"?E:OT(E),h):e},h.subject=function(E){return arguments.length?(t=typeof E=="function"?E:OT(E),h):t},h.touchable=function(E){return arguments.length?(n=typeof E=="function"?E:OT(!!E),h):n},h.on=function(){var E=o.on.apply(o,arguments);return E===o?h:E},h.clickDistance=function(E){return arguments.length?(d=(E=+E)*E,h):Math.sqrt(d)},h}function j2(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function Zye(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function TR(){}var ME=.7,rI=1/ME,av="\\s*([+-]?\\d+)\\s*",LE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vpt=/^#([0-9a-f]{3,8})$/,ypt=new RegExp(`^rgb\\(${av},${av},${av}\\)$`),Cpt=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),wpt=new RegExp(`^rgba\\(${av},${av},${av},${LE}\\)$`),Spt=new RegExp(`^rgba\\(${Au},${Au},${Au},${LE}\\)$`),Ept=new RegExp(`^hsl\\(${LE},${Au},${Au}\\)$`),_pt=new RegExp(`^hsla\\(${LE},${Au},${Au},${LE}\\)$`),kX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j2(TR,NE,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:HX,formatHex:HX,formatHex8:Rpt,formatHsl:bpt,formatRgb:$X,toString:$X});function HX(){return this.rgb().formatHex()}function Rpt(){return this.rgb().formatHex8()}function bpt(){return eCe(this).formatHsl()}function $X(){return this.rgb().formatRgb()}function NE(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=vpt.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?BX(e):t===3?new ns(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?DT(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?DT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ypt.exec(r))?new ns(e[1],e[2],e[3],1):(e=Cpt.exec(r))?new ns(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wpt.exec(r))?DT(e[1],e[2],e[3],e[4]):(e=Spt.exec(r))?DT(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ept.exec(r))?UX(e[1],e[2]/100,e[3]/100,1):(e=_pt.exec(r))?UX(e[1],e[2]/100,e[3]/100,e[4]):kX.hasOwnProperty(r)?BX(kX[r]):r==="transparent"?new ns(NaN,NaN,NaN,0):null}function BX(r){return new ns(r>>16&255,r>>8&255,r&255,1)}function DT(r,e,t,n){return n<=0&&(r=e=t=NaN),new ns(r,e,t,n)}function Tpt(r){return r instanceof TR||(r=NE(r)),r?(r=r.rgb(),new ns(r.r,r.g,r.b,r.opacity)):new ns}function dH(r,e,t,n){return arguments.length===1?Tpt(r):new ns(r,e,t,n??1)}function ns(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}j2(ns,dH,Zye(TR,{brighter(r){return r=r==null?rI:Math.pow(rI,r),new ns(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?ME:Math.pow(ME,r),new ns(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new ns(Sp(this.r),Sp(this.g),Sp(this.b),iI(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jX,formatHex:jX,formatHex8:Ppt,formatRgb:WX,toString:WX}));function jX(){return`#${op(this.r)}${op(this.g)}${op(this.b)}`}function Ppt(){return`#${op(this.r)}${op(this.g)}${op(this.b)}${op((isNaN(this.opacity)?1:this.opacity)*255)}`}function WX(){const r=iI(this.opacity);return`${r===1?"rgb(":"rgba("}${Sp(this.r)}, ${Sp(this.g)}, ${Sp(this.b)}${r===1?")":`, ${r})`}`}function iI(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function Sp(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function op(r){return r=Sp(r),(r<16?"0":"")+r.toString(16)}function UX(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new sl(r,e,t,n)}function eCe(r){if(r instanceof sl)return new sl(r.h,r.s,r.l,r.opacity);if(r instanceof TR||(r=NE(r)),!r)return new sl;if(r instanceof sl)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),o=Math.max(e,t,n),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(t-n)/a+(t<n)*6:t===o?s=(n-e)/a+2:s=(e-t)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new sl(s,a,l,r.opacity)}function Opt(r,e,t,n){return arguments.length===1?eCe(r):new sl(r,e,t,n??1)}function sl(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}j2(sl,Opt,Zye(TR,{brighter(r){return r=r==null?rI:Math.pow(rI,r),new sl(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?ME:Math.pow(ME,r),new sl(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new ns(MG(r>=240?r-240:r+120,i,n),MG(r,i,n),MG(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new sl(zX(this.h),AT(this.s),AT(this.l),iI(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=iI(this.opacity);return`${r===1?"hsl(":"hsla("}${zX(this.h)}, ${AT(this.s)*100}%, ${AT(this.l)*100}%${r===1?")":`, ${r})`}`}}));function zX(r){return r=(r||0)%360,r<0?r+360:r}function AT(r){return Math.max(0,Math.min(1,r||0))}function MG(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const tCe=r=>()=>r;function Dpt(r,e){return function(t){return r+t*e}}function Apt(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function xpt(r){return(r=+r)==1?nCe:function(e,t){return t-e?Apt(e,t,r):tCe(isNaN(e)?t:e)}}function nCe(r,e){var t=e-r;return t?Dpt(r,t):tCe(isNaN(r)?e:r)}const KX=function r(e){var t=xpt(e);function n(i,o){var s=t((i=dH(i)).r,(o=dH(o)).r),a=t(i.g,o.g),l=t(i.b,o.b),u=nCe(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=r,n}(1);function $d(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}var hH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LG=new RegExp(hH.source,"g");function Ipt(r){return function(){return r}}function Fpt(r){return function(e){return r(e)+""}}function Mpt(r,e){var t=hH.lastIndex=LG.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(r=r+"",e=e+"";(n=hH.exec(r))&&(i=LG.exec(e));)(o=i.index)>t&&(o=e.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:$d(n,i)})),t=LG.lastIndex;return t<e.length&&(o=e.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Fpt(l[0].x):Ipt(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var YX=180/Math.PI,fH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rCe(r,e,t,n,i,o){var s,a,l;return(s=Math.sqrt(r*r+e*e))&&(r/=s,e/=s),(l=r*t+e*n)&&(t-=r*l,n-=e*l),(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a,l/=a),r*n<e*t&&(r=-r,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,r)*YX,skewX:Math.atan(l)*YX,scaleX:s,scaleY:a}}var xT;function Lpt(r){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?fH:rCe(e.a,e.b,e.c,e.d,e.e,e.f)}function Npt(r){return r==null||(xT||(xT=document.createElementNS("http://www.w3.org/2000/svg","g")),xT.setAttribute("transform",r),!(r=xT.transform.baseVal.consolidate()))?fH:(r=r.matrix,rCe(r.a,r.b,r.c,r.d,r.e,r.f))}function iCe(r,e,t,n){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,h,f,p){if(u!==d||c!==h){var g=f.push("translate(",null,e,null,t);p.push({i:g-4,x:$d(u,d)},{i:g-2,x:$d(c,h)})}else(d||h)&&f.push("translate("+d+e+h+t)}function s(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,n)-2,x:$d(u,c)})):c&&d.push(i(d)+"rotate("+c+n)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,n)-2,x:$d(u,c)}):c&&d.push(i(d)+"skewX("+c+n)}function l(u,c,d,h,f,p){if(u!==d||c!==h){var g=f.push(i(f)+"scale(",null,",",null,")");p.push({i:g-4,x:$d(u,d)},{i:g-2,x:$d(c,h)})}else(d!==1||h!==1)&&f.push(i(f)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=r(u),c=r(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,h),s(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(f){for(var p=-1,g=h.length,C;++p<g;)d[(C=h[p]).i]=C.x(f);return d.join("")}}}var Gpt=iCe(Lpt,"px, ","px)","deg)"),Vpt=iCe(Npt,", ",")",")"),kpt=1e-12;function qX(r){return((r=Math.exp(r))+1/r)/2}function Hpt(r){return((r=Math.exp(r))-1/r)/2}function $pt(r){return((r=Math.exp(2*r))-1)/(r+1)}const Bpt=function r(e,t,n){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],h=s[2],f=c-a,p=d-l,g=f*f+p*p,C,m;if(g<kpt)m=Math.log(h/u)/e,C=function(R){return[a+R*f,l+R*p,u*Math.exp(e*R*m)]};else{var y=Math.sqrt(g),w=(h*h-u*u+n*g)/(2*u*t*y),E=(h*h-u*u-n*g)/(2*h*t*y),P=Math.log(Math.sqrt(w*w+1)-w),T=Math.log(Math.sqrt(E*E+1)-E);m=(T-P)/e,C=function(R){var _=R*m,b=qX(P),D=u/(t*y)*(b*$pt(e*_+P)-Hpt(P));return[a+D*f,l+D*p,u*b/qX(e*_+P)]}}return C.duration=m*1e3*e/Math.SQRT2,C}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return r(s,a,l)},i}(Math.SQRT2,2,4);var Jv=0,Vw=0,lw=0,oCe=1e3,oI,kw,sI=0,ng=0,EL=0,GE=typeof performance=="object"&&performance.now?performance:Date,sCe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function W2(){return ng||(sCe(jpt),ng=GE.now()+EL)}function jpt(){ng=0}function aI(){this._call=this._time=this._next=null}aI.prototype=aCe.prototype={constructor:aI,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?W2():+t)+(e==null?0:+e),!this._next&&kw!==this&&(kw?kw._next=this:oI=this,kw=this),this._call=r,this._time=t,pH()},stop:function(){this._call&&(this._call=null,this._time=1/0,pH())}};function aCe(r,e,t){var n=new aI;return n.restart(r,e,t),n}function Wpt(){W2(),++Jv;for(var r=oI,e;r;)(e=ng-r._time)>=0&&r._call.call(void 0,e),r=r._next;--Jv}function QX(){ng=(sI=GE.now())+EL,Jv=Vw=0;try{Wpt()}finally{Jv=0,zpt(),ng=0}}function Upt(){var r=GE.now(),e=r-sI;e>oCe&&(EL-=e,sI=r)}function zpt(){for(var r,e=oI,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:oI=t);kw=r,pH(n)}function pH(r){if(!Jv){Vw&&(Vw=clearTimeout(Vw));var e=r-ng;e>24?(r<1/0&&(Vw=setTimeout(QX,r-GE.now()-EL)),lw&&(lw=clearInterval(lw))):(lw||(sI=GE.now(),lw=setInterval(Upt,oCe)),Jv=1,sCe(QX))}}function XX(r,e,t){var n=new aI;return e=e==null?0:+e,n.restart(i=>{n.stop(),r(i+e)},e,t),n}var Kpt=wL("start","end","cancel","interrupt"),Ypt=[],lCe=0,JX=1,gH=2,HP=3,ZX=4,mH=5,$P=6;function _L(r,e,t,n,i,o){var s=r.__transition;if(!s)r.__transition={};else if(t in s)return;qpt(r,t,{name:e,index:n,group:i,on:Kpt,tween:Ypt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lCe})}function U2(r,e){var t=Ll(r,e);if(t.state>lCe)throw new Error("too late; already scheduled");return t}function qu(r,e){var t=Ll(r,e);if(t.state>HP)throw new Error("too late; already running");return t}function Ll(r,e){var t=r.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function qpt(r,e,t){var n=r.__transition,i;n[e]=t,t.timer=aCe(o,0,t.time);function o(u){t.state=JX,t.timer.restart(s,t.delay,t.time),t.delay<=u&&s(u-t.delay)}function s(u){var c,d,h,f;if(t.state!==JX)return l();for(c in n)if(f=n[c],f.name===t.name){if(f.state===HP)return XX(s);f.state===ZX?(f.state=$P,f.timer.stop(),f.on.call("interrupt",r,r.__data__,f.index,f.group),delete n[c]):+c<e&&(f.state=$P,f.timer.stop(),f.on.call("cancel",r,r.__data__,f.index,f.group),delete n[c])}if(XX(function(){t.state===HP&&(t.state=ZX,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=gH,t.on.call("start",r,r.__data__,t.index,t.group),t.state===gH){for(t.state=HP,i=new Array(h=t.tween.length),c=0,d=-1;c<h;++c)(f=t.tween[c].value.call(r,r.__data__,t.index,t.group))&&(i[++d]=f);i.length=d+1}}function a(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=mH,1),d=-1,h=i.length;++d<h;)i[d].call(r,c);t.state===mH&&(t.on.call("end",r,r.__data__,t.index,t.group),l())}function l(){t.state=$P,t.timer.stop(),delete n[e];for(var u in n)return;delete r.__transition}}function BP(r,e){var t=r.__transition,n,i,o=!0,s;if(t){e=e==null?null:e+"";for(s in t){if((n=t[s]).name!==e){o=!1;continue}i=n.state>gH&&n.state<mH,n.state=$P,n.timer.stop(),n.on.call(i?"interrupt":"cancel",r,r.__data__,n.index,n.group),delete t[s]}o&&delete r.__transition}}function Qpt(r){return this.each(function(){BP(this,r)})}function Xpt(r,e){var t,n;return function(){var i=qu(this,r),o=i.tween;if(o!==t){n=t=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function Jpt(r,e,t){var n,i;if(typeof t!="function")throw new Error;return function(){var o=qu(this,r),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:e,value:t},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function Zpt(r,e){var t=this._id;if(r+="",arguments.length<2){for(var n=Ll(this.node(),t).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===r)return s.value;return null}return this.each((e==null?Xpt:Jpt)(t,r,e))}function z2(r,e,t){var n=r._id;return r.each(function(){var i=qu(this,n);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Ll(i,n).value[e]}}function uCe(r,e){var t;return(typeof e=="number"?$d:e instanceof NE?KX:(t=NE(e))?(e=t,KX):Mpt)(r,e)}function egt(r){return function(){this.removeAttribute(r)}}function tgt(r){return function(){this.removeAttributeNS(r.space,r.local)}}function ngt(r,e,t){var n,i=t+"",o;return function(){var s=this.getAttribute(r);return s===i?null:s===n?o:o=e(n=s,t)}}function rgt(r,e,t){var n,i=t+"",o;return function(){var s=this.getAttributeNS(r.space,r.local);return s===i?null:s===n?o:o=e(n=s,t)}}function igt(r,e,t){var n,i,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttribute(r):(s=this.getAttribute(r),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=e(n=s,a)))}}function ogt(r,e,t){var n,i,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttributeNS(r.space,r.local):(s=this.getAttributeNS(r.space,r.local),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=e(n=s,a)))}}function sgt(r,e){var t=SL(r),n=t==="transform"?Vpt:uCe;return this.attrTween(r,typeof e=="function"?(t.local?ogt:igt)(t,n,z2(this,"attr."+r,e)):e==null?(t.local?tgt:egt)(t):(t.local?rgt:ngt)(t,n,e))}function agt(r,e){return function(t){this.setAttribute(r,e.call(this,t))}}function lgt(r,e){return function(t){this.setAttributeNS(r.space,r.local,e.call(this,t))}}function ugt(r,e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&lgt(r,o)),t}return i._value=e,i}function cgt(r,e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&agt(r,o)),t}return i._value=e,i}function dgt(r,e){var t="attr."+r;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var n=SL(r);return this.tween(t,(n.local?ugt:cgt)(n,e))}function hgt(r,e){return function(){U2(this,r).delay=+e.apply(this,arguments)}}function fgt(r,e){return e=+e,function(){U2(this,r).delay=e}}function pgt(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?hgt:fgt)(e,r)):Ll(this.node(),e).delay}function ggt(r,e){return function(){qu(this,r).duration=+e.apply(this,arguments)}}function mgt(r,e){return e=+e,function(){qu(this,r).duration=e}}function vgt(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?ggt:mgt)(e,r)):Ll(this.node(),e).duration}function ygt(r,e){if(typeof e!="function")throw new Error;return function(){qu(this,r).ease=e}}function Cgt(r){var e=this._id;return arguments.length?this.each(ygt(e,r)):Ll(this.node(),e).ease}function wgt(r,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;qu(this,r).ease=t}}function Sgt(r){if(typeof r!="function")throw new Error;return this.each(wgt(this._id,r))}function Egt(r){typeof r!="function"&&(r=$ye(r));for(var e=this._groups,t=e.length,n=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=n[i]=[],l,u=0;u<s;++u)(l=o[u])&&r.call(l,l.__data__,u,o)&&a.push(l);return new Bc(n,this._parents,this._name,this._id)}function _gt(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,t=r._groups,n=e.length,i=t.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=e[a],u=t[a],c=l.length,d=s[a]=new Array(c),h,f=0;f<c;++f)(h=l[f]||u[f])&&(d[f]=h);for(;a<n;++a)s[a]=e[a];return new Bc(s,this._parents,this._name,this._id)}function Rgt(r){return(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function bgt(r,e,t){var n,i,o=Rgt(e)?U2:qu;return function(){var s=o(this,r),a=s.on;a!==n&&(i=(n=a).copy()).on(e,t),s.on=i}}function Tgt(r,e){var t=this._id;return arguments.length<2?Ll(this.node(),t).on.on(r):this.each(bgt(t,r,e))}function Pgt(r){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==r)return;e&&e.removeChild(this)}}function Ogt(){return this.on("end.remove",Pgt(this._id))}function Dgt(r){var e=this._name,t=this._id;typeof r!="function"&&(r=$2(r));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var a=n[s],l=a.length,u=o[s]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=r.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,_L(u[h],e,t,h,u,Ll(c,t)));return new Bc(o,this._parents,e,t)}function Agt(r){var e=this._name,t=this._id;typeof r!="function"&&(r=Hye(r));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var l=n[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=r.call(c,c.__data__,d,l),f,p=Ll(c,t),g=0,C=h.length;g<C;++g)(f=h[g])&&_L(f,e,t,g,h,p);o.push(h),s.push(c)}return new Bc(o,s,e,t)}var xgt=bR.prototype.constructor;function Igt(){return new xgt(this._groups,this._parents)}function Fgt(r,e){var t,n,i;return function(){var o=Xv(this,r),s=(this.style.removeProperty(r),Xv(this,r));return o===s?null:o===t&&s===n?i:i=e(t=o,n=s)}}function cCe(r){return function(){this.style.removeProperty(r)}}function Mgt(r,e,t){var n,i=t+"",o;return function(){var s=Xv(this,r);return s===i?null:s===n?o:o=e(n=s,t)}}function Lgt(r,e,t){var n,i,o;return function(){var s=Xv(this,r),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(r),Xv(this,r))),s===l?null:s===n&&l===i?o:(i=l,o=e(n=s,a))}}function Ngt(r,e){var t,n,i,o="style."+e,s="end."+o,a;return function(){var l=qu(this,r),u=l.on,c=l.value[o]==null?a||(a=cCe(e)):void 0;(u!==t||i!==c)&&(n=(t=u).copy()).on(s,i=c),l.on=n}}function Ggt(r,e,t){var n=(r+="")=="transform"?Gpt:uCe;return e==null?this.styleTween(r,Fgt(r,n)).on("end.style."+r,cCe(r)):typeof e=="function"?this.styleTween(r,Lgt(r,n,z2(this,"style."+r,e))).each(Ngt(this._id,r)):this.styleTween(r,Mgt(r,n,e),t).on("end.style."+r,null)}function Vgt(r,e,t){return function(n){this.style.setProperty(r,e.call(this,n),t)}}function kgt(r,e,t){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Vgt(r,s,t)),n}return o._value=e,o}function Hgt(r,e,t){var n="style."+(r+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,kgt(r,e,t??""))}function $gt(r){return function(){this.textContent=r}}function Bgt(r){return function(){var e=r(this);this.textContent=e??""}}function jgt(r){return this.tween("text",typeof r=="function"?Bgt(z2(this,"text",r)):$gt(r==null?"":r+""))}function Wgt(r){return function(e){this.textContent=r.call(this,e)}}function Ugt(r){var e,t;function n(){var i=r.apply(this,arguments);return i!==t&&(e=(t=i)&&Wgt(i)),e}return n._value=r,n}function zgt(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;return this.tween(e,Ugt(r))}function Kgt(){for(var r=this._name,e=this._id,t=dCe(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Ll(l,e);_L(l,r,t,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bc(n,this._parents,r,t)}function Ygt(){var r,e,t=this,n=t._id,i=t.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};t.each(function(){var u=qu(this,n),c=u.on;c!==r&&(e=(r=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var qgt=0;function Bc(r,e,t,n){this._groups=r,this._parents=e,this._name=t,this._id=n}function dCe(){return++qgt}var nc=bR.prototype;Bc.prototype={constructor:Bc,select:Dgt,selectAll:Agt,selectChild:nc.selectChild,selectChildren:nc.selectChildren,filter:Egt,merge:_gt,selection:Igt,transition:Kgt,call:nc.call,nodes:nc.nodes,node:nc.node,size:nc.size,empty:nc.empty,each:nc.each,on:Tgt,attr:sgt,attrTween:dgt,style:Ggt,styleTween:Hgt,text:jgt,textTween:zgt,remove:Ogt,tween:Zpt,delay:pgt,duration:vgt,ease:Cgt,easeVarying:Sgt,end:Ygt,[Symbol.iterator]:nc[Symbol.iterator]};function Qgt(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var Xgt={time:null,delay:0,duration:250,ease:Qgt};function Jgt(r,e){for(var t;!(t=r.__transition)||!(t=t[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return t}function Zgt(r){var e,t;r instanceof Bc?(e=r._id,r=r._name):(e=dCe(),(t=Xgt).time=W2(),r=r==null?null:r+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&_L(l,r,e,u,s,t||Jgt(l,e));return new Bc(n,this._parents,r,e)}bR.prototype.interrupt=Qpt;bR.prototype.transition=Zgt;const IT=r=>()=>r;function emt(r,{sourceEvent:e,target:t,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function mc(r,e,t){this.k=r,this.x=e,this.y=t}mc.prototype={constructor:mc,scale:function(r){return r===1?this:new mc(this.k*r,this.x,this.y)},translate:function(r,e){return r===0&e===0?this:new mc(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ph=new mc(1,0,0);mc.prototype;function NG(r){r.stopImmediatePropagation()}function uw(r){r.preventDefault(),r.stopImmediatePropagation()}function tmt(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function nmt(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function eJ(){return this.__zoom||Ph}function rmt(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function imt(){return navigator.maxTouchPoints||"ontouchstart"in this}function omt(r,e,t){var n=r.invertX(e[0][0])-t[0][0],i=r.invertX(e[1][0])-t[1][0],o=r.invertY(e[0][1])-t[0][1],s=r.invertY(e[1][1])-t[1][1];return r.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function smt(){var r=tmt,e=nmt,t=omt,n=rmt,i=imt,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Bpt,u=wL("start","zoom","end"),c,d,h,f=500,p=150,g=0,C=10;function m(L){L.property("__zoom",eJ).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(L,B,j,z){var W=L.selection?L.selection():L;W.property("__zoom",eJ),L!==W?P(L,B,j,z):W.interrupt().each(function(){T(this,arguments).event(z).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},m.scaleBy=function(L,B,j,z){m.scaleTo(L,function(){var W=this.__zoom.k,H=typeof B=="function"?B.apply(this,arguments):B;return W*H},j,z)},m.scaleTo=function(L,B,j,z){m.transform(L,function(){var W=e.apply(this,arguments),H=this.__zoom,Y=j==null?E(W):typeof j=="function"?j.apply(this,arguments):j,Q=H.invert(Y),J=typeof B=="function"?B.apply(this,arguments):B;return t(w(y(H,J),Y,Q),W,s)},j,z)},m.translateBy=function(L,B,j,z){m.transform(L,function(){return t(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),s)},null,z)},m.translateTo=function(L,B,j,z,W){m.transform(L,function(){var H=e.apply(this,arguments),Y=this.__zoom,Q=z==null?E(H):typeof z=="function"?z.apply(this,arguments):z;return t(Ph.translate(Q[0],Q[1]).scale(Y.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof j=="function"?-j.apply(this,arguments):-j),H,s)},z,W)};function y(L,B){return B=Math.max(o[0],Math.min(o[1],B)),B===L.k?L:new mc(B,L.x,L.y)}function w(L,B,j){var z=B[0]-j[0]*L.k,W=B[1]-j[1]*L.k;return z===L.x&&W===L.y?L:new mc(L.k,z,W)}function E(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function P(L,B,j,z){L.on("start.zoom",function(){T(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(z).end()}).tween("zoom",function(){var W=this,H=arguments,Y=T(W,H).event(z),Q=e.apply(W,H),J=j==null?E(Q):typeof j=="function"?j.apply(W,H):j,oe=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),re=W.__zoom,ue=typeof B=="function"?B.apply(W,H):B,Ce=l(re.invert(J).concat(oe/re.k),ue.invert(J).concat(oe/ue.k));return function(Re){if(Re===1)Re=ue;else{var Be=Ce(Re),Ge=oe/Be[2];Re=new mc(Ge,J[0]-Be[0]*Ge,J[1]-Be[1]*Ge)}Y.zoom(null,Re)}})}function T(L,B,j){return!j&&L.__zooming||new R(L,B)}function R(L,B){this.that=L,this.args=B,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,B),this.taps=0}R.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,B){return this.mouse&&L!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var B=ol(this.that).datum();u.call(L,this.that,new emt(L,{sourceEvent:this.sourceEvent,target:m,type:L,transform:this.that.__zoom,dispatch:u}),B)}};function _(L,...B){if(!r.apply(this,arguments))return;var j=T(this,B).event(L),z=this.__zoom,W=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,n.apply(this,arguments)))),H=iu(L);if(j.wheel)(j.mouse[0][0]!==H[0]||j.mouse[0][1]!==H[1])&&(j.mouse[1]=z.invert(j.mouse[0]=H)),clearTimeout(j.wheel);else{if(z.k===W)return;j.mouse=[H,z.invert(H)],BP(this),j.start()}uw(L),j.wheel=setTimeout(Y,p),j.zoom("mouse",t(w(y(z,W),j.mouse[0],j.mouse[1]),j.extent,s));function Y(){j.wheel=null,j.end()}}function b(L,...B){if(h||!r.apply(this,arguments))return;var j=L.currentTarget,z=T(this,B,!0).event(L),W=ol(L.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",oe,!0),H=iu(L,j),Y=L.clientX,Q=L.clientY;Xye(L.view),NG(L),z.mouse=[H,this.__zoom.invert(H)],BP(this),z.start();function J(re){if(uw(re),!z.moved){var ue=re.clientX-Y,Ce=re.clientY-Q;z.moved=ue*ue+Ce*Ce>g}z.event(re).zoom("mouse",t(w(z.that.__zoom,z.mouse[0]=iu(re,j),z.mouse[1]),z.extent,s))}function oe(re){W.on("mousemove.zoom mouseup.zoom",null),Jye(re.view,z.moved),uw(re),z.event(re).end()}}function D(L,...B){if(r.apply(this,arguments)){var j=this.__zoom,z=iu(L.changedTouches?L.changedTouches[0]:L,this),W=j.invert(z),H=j.k*(L.shiftKey?.5:2),Y=t(w(y(j,H),z,W),e.apply(this,B),s);uw(L),a>0?ol(this).transition().duration(a).call(P,Y,z,L):ol(this).call(m.transform,Y,z,L)}}function M(L,...B){if(r.apply(this,arguments)){var j=L.touches,z=j.length,W=T(this,B,L.changedTouches.length===z).event(L),H,Y,Q,J;for(NG(L),Y=0;Y<z;++Y)Q=j[Y],J=iu(Q,this),J=[J,this.__zoom.invert(J),Q.identifier],W.touch0?!W.touch1&&W.touch0[2]!==J[2]&&(W.touch1=J,W.taps=0):(W.touch0=J,H=!0,W.taps=1+!!c);c&&(c=clearTimeout(c)),H&&(W.taps<2&&(d=J[0],c=setTimeout(function(){c=null},f)),BP(this),W.start())}}function G(L,...B){if(this.__zooming){var j=T(this,B).event(L),z=L.changedTouches,W=z.length,H,Y,Q,J;for(uw(L),H=0;H<W;++H)Y=z[H],Q=iu(Y,this),j.touch0&&j.touch0[2]===Y.identifier?j.touch0[0]=Q:j.touch1&&j.touch1[2]===Y.identifier&&(j.touch1[0]=Q);if(Y=j.that.__zoom,j.touch1){var oe=j.touch0[0],re=j.touch0[1],ue=j.touch1[0],Ce=j.touch1[1],Re=(Re=ue[0]-oe[0])*Re+(Re=ue[1]-oe[1])*Re,Be=(Be=Ce[0]-re[0])*Be+(Be=Ce[1]-re[1])*Be;Y=y(Y,Math.sqrt(Re/Be)),Q=[(oe[0]+ue[0])/2,(oe[1]+ue[1])/2],J=[(re[0]+Ce[0])/2,(re[1]+Ce[1])/2]}else if(j.touch0)Q=j.touch0[0],J=j.touch0[1];else return;j.zoom("touch",t(w(Y,Q,J),j.extent,s))}}function I(L,...B){if(this.__zooming){var j=T(this,B).event(L),z=L.changedTouches,W=z.length,H,Y;for(NG(L),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),H=0;H<W;++H)Y=z[H],j.touch0&&j.touch0[2]===Y.identifier?delete j.touch0:j.touch1&&j.touch1[2]===Y.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(Y=iu(Y,this),Math.hypot(d[0]-Y[0],d[1]-Y[1])<C)){var Q=ol(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return m.wheelDelta=function(L){return arguments.length?(n=typeof L=="function"?L:IT(+L),m):n},m.filter=function(L){return arguments.length?(r=typeof L=="function"?L:IT(!!L),m):r},m.touchable=function(L){return arguments.length?(i=typeof L=="function"?L:IT(!!L),m):i},m.extent=function(L){return arguments.length?(e=typeof L=="function"?L:IT([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),m):e},m.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],m):[o[0],o[1]]},m.translateExtent=function(L){return arguments.length?(s[0][0]=+L[0][0],s[1][0]=+L[1][0],s[0][1]=+L[0][1],s[1][1]=+L[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(L){return arguments.length?(t=L,m):t},m.duration=function(L){return arguments.length?(a=+L,m):a},m.interpolate=function(L){return arguments.length?(l=L,m):l},m.on=function(){var L=u.on.apply(u,arguments);return L===u?m:L},m.clickDistance=function(L){return arguments.length?(g=(L=+L)*L,m):Math.sqrt(g)},m.tapDistance=function(L){return arguments.length?(C=+L,m):C},m}const RL=S.createContext(null),amt=RL.Provider,jc={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:r=>`Node type "${r}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:r=>`The old edge with id=${r} does not exist.`,error009:r=>`Marker type "${r}" doesn't exist.`,error008:(r,e)=>`Couldn't create edge for ${r?"target":"source"} handle id: "${r?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:r=>`Edge type "${r}" not found. Using fallback type "default".`,error012:r=>`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},hCe=jc.error001();function Cr(r,e){const t=S.useContext(RL);if(t===null)throw new Error(hCe);return Vye(t,r,e)}const Si=()=>{const r=S.useContext(RL);if(r===null)throw new Error(hCe);return S.useMemo(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])},lmt=r=>r.userSelectionActive?"none":"all";function fCe({position:r,children:e,className:t,style:n,...i}){const o=Cr(lmt),s=`${r}`.split("-");return N.createElement("div",{className:No(["react-flow__panel",t,...s]),style:{...n,pointerEvents:o},...i},e)}function umt({proOptions:r,position:e="bottom-right"}){return r!=null&&r.hideAttribution?null:N.createElement(fCe,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},N.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const cmt=({x:r,y:e,label:t,labelStyle:n={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const d=S.useRef(null),[h,f]=S.useState({x:0,y:0,width:0,height:0}),p=No(["react-flow__edge-textwrapper",u]);return S.useEffect(()=>{if(d.current){const g=d.current.getBBox();f({x:g.x,y:g.y,width:g.width,height:g.height})}},[t]),typeof t>"u"||!t?null:N.createElement("g",{transform:`translate(${r-h.width/2} ${e-h.height/2})`,className:p,visibility:h.width?"visible":"hidden",...c},i&&N.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),N.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:n},t),l)};var dmt=S.memo(cmt);const K2=r=>({width:r.offsetWidth,height:r.offsetHeight}),Zv=(r,e=0,t=1)=>Math.min(Math.max(r,e),t),Y2=(r={x:0,y:0},e)=>({x:Zv(r.x,e[0][0],e[1][0]),y:Zv(r.y,e[0][1],e[1][1])}),tJ=(r,e,t)=>r<e?Zv(Math.abs(r-e),1,50)/50:r>t?-Zv(Math.abs(r-t),1,50)/50:0,pCe=(r,e)=>{const t=tJ(r.x,35,e.width-35)*20,n=tJ(r.y,35,e.height-35)*20;return[t,n]},gCe=r=>{var e;return((e=r.getRootNode)==null?void 0:e.call(r))||(window==null?void 0:window.document)},hmt=(r,e)=>({x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x2,e.x2),y2:Math.max(r.y2,e.y2)}),q2=({x:r,y:e,width:t,height:n})=>({x:r,y:e,x2:r+t,y2:e+n}),fmt=({x:r,y:e,x2:t,y2:n})=>({x:r,y:e,width:t-r,height:n-e}),nJ=r=>({...r.positionAbsolute||{x:0,y:0},width:r.width||0,height:r.height||0}),vH=(r,e)=>{const t=Math.max(0,Math.min(r.x+r.width,e.x+e.width)-Math.max(r.x,e.x)),n=Math.max(0,Math.min(r.y+r.height,e.y+e.height)-Math.max(r.y,e.y));return Math.ceil(t*n)},pmt=r=>Ra(r.width)&&Ra(r.height)&&Ra(r.x)&&Ra(r.y),Ra=r=>!isNaN(r)&&isFinite(r),Rr=Symbol.for("internals"),mCe=["Enter"," ","Escape"],gmt=(r,e)=>{},mmt=r=>"nativeEvent"in r;function yH(r){var i,o;const e=mmt(r)?r.nativeEvent:r,t=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||r.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}const vCe=r=>"clientX"in r,Oh=(r,e)=>{var o,s;const t=vCe(r),n=t?r.clientX:(o=r.touches)==null?void 0:o[0].clientX,i=t?r.clientY:(s=r.touches)==null?void 0:s[0].clientY;return{x:n-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},lI=()=>{var r;return typeof navigator<"u"&&((r=navigator==null?void 0:navigator.userAgent)==null?void 0:r.indexOf("Mac"))>=0},PR=({id:r,path:e,labelX:t,labelY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:f=20})=>N.createElement(N.Fragment,null,N.createElement("path",{id:r,style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),f&&N.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),i&&Ra(t)&&Ra(n)?N.createElement(dmt,{x:t,y:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);PR.displayName="BaseEdge";function cw(r,e,t){return t===void 0?t:n=>{const i=e().edges.find(o=>o.id===r);i&&t(n,{...i})}}function yCe({sourceX:r,sourceY:e,targetX:t,targetY:n}){const i=Math.abs(t-r)/2,o=t<r?t+i:t-i,s=Math.abs(n-e)/2,a=n<e?n+s:n-s;return[o,a,i,s]}function CCe({sourceX:r,sourceY:e,targetX:t,targetY:n,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=r*.125+i*.375+s*.375+t*.125,u=e*.125+o*.375+a*.375+n*.125,c=Math.abs(l-r),d=Math.abs(u-e);return[l,u,c,d]}var rg;(function(r){r.Strict="strict",r.Loose="loose"})(rg||(rg={}));var sp;(function(r){r.Free="free",r.Vertical="vertical",r.Horizontal="horizontal"})(sp||(sp={}));var VE;(function(r){r.Partial="partial",r.Full="full"})(VE||(VE={}));var Xd;(function(r){r.Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier"})(Xd||(Xd={}));var uI;(function(r){r.Arrow="arrow",r.ArrowClosed="arrowclosed"})(uI||(uI={}));var ht;(function(r){r.Left="left",r.Top="top",r.Right="right",r.Bottom="bottom"})(ht||(ht={}));function rJ({pos:r,x1:e,y1:t,x2:n,y2:i}){return r===ht.Left||r===ht.Right?[.5*(e+n),t]:[e,.5*(t+i)]}function wCe({sourceX:r,sourceY:e,sourcePosition:t=ht.Bottom,targetX:n,targetY:i,targetPosition:o=ht.Top}){const[s,a]=rJ({pos:t,x1:r,y1:e,x2:n,y2:i}),[l,u]=rJ({pos:o,x1:n,y1:i,x2:r,y2:e}),[c,d,h,f]=CCe({sourceX:r,sourceY:e,targetX:n,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${r},${e} C${s},${a} ${l},${u} ${n},${i}`,c,d,h,f]}const Q2=S.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,sourcePosition:i=ht.Bottom,targetPosition:o=ht.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:g})=>{const[C,m,y]=wCe({sourceX:r,sourceY:e,sourcePosition:i,targetX:t,targetY:n,targetPosition:o});return N.createElement(PR,{path:C,labelX:m,labelY:y,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:g})});Q2.displayName="SimpleBezierEdge";const iJ={[ht.Left]:{x:-1,y:0},[ht.Right]:{x:1,y:0},[ht.Top]:{x:0,y:-1},[ht.Bottom]:{x:0,y:1}},vmt=({source:r,sourcePosition:e=ht.Bottom,target:t})=>e===ht.Left||e===ht.Right?r.x<t.x?{x:1,y:0}:{x:-1,y:0}:r.y<t.y?{x:0,y:1}:{x:0,y:-1},oJ=(r,e)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2));function ymt({source:r,sourcePosition:e=ht.Bottom,target:t,targetPosition:n=ht.Top,center:i,offset:o}){const s=iJ[e],a=iJ[n],l={x:r.x+s.x*o,y:r.y+s.y*o},u={x:t.x+a.x*o,y:t.y+a.y*o},c=vmt({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",h=c[d];let f=[],p,g;const C={x:0,y:0},m={x:0,y:0},[y,w,E,P]=yCe({sourceX:r.x,sourceY:r.y,targetX:t.x,targetY:t.y});if(s[d]*a[d]===-1){p=i.x??y,g=i.y??w;const R=[{x:p,y:l.y},{x:p,y:u.y}],_=[{x:l.x,y:g},{x:u.x,y:g}];s[d]===h?f=d==="x"?R:_:f=d==="x"?_:R}else{const R=[{x:l.x,y:u.y}],_=[{x:u.x,y:l.y}];if(d==="x"?f=s.x===h?_:R:f=s.y===h?R:_,e===n){const I=Math.abs(r[d]-t[d]);if(I<=o){const L=Math.min(o-1,o-I);s[d]===h?C[d]=(l[d]>r[d]?-1:1)*L:m[d]=(u[d]>t[d]?-1:1)*L}}if(e!==n){const I=d==="x"?"y":"x",L=s[d]===a[I],B=l[I]>u[I],j=l[I]<u[I];(s[d]===1&&(!L&&B||L&&j)||s[d]!==1&&(!L&&j||L&&B))&&(f=d==="x"?R:_)}const b={x:l.x+C.x,y:l.y+C.y},D={x:u.x+m.x,y:u.y+m.y},M=Math.max(Math.abs(b.x-f[0].x),Math.abs(D.x-f[0].x)),G=Math.max(Math.abs(b.y-f[0].y),Math.abs(D.y-f[0].y));M>=G?(p=(b.x+D.x)/2,g=f[0].y):(p=f[0].x,g=(b.y+D.y)/2)}return[[r,{x:l.x+C.x,y:l.y+C.y},...f,{x:u.x+m.x,y:u.y+m.y},t],p,g,E,P]}function Cmt(r,e,t,n){const i=Math.min(oJ(r,e)/2,oJ(e,t)/2,n),{x:o,y:s}=e;if(r.x===o&&o===t.x||r.y===s&&s===t.y)return`L${o} ${s}`;if(r.y===s){const u=r.x<t.x?-1:1,c=r.y<t.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=r.x<t.x?1:-1,l=r.y<t.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function CH({sourceX:r,sourceY:e,sourcePosition:t=ht.Bottom,targetX:n,targetY:i,targetPosition:o=ht.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,d,h,f,p]=ymt({source:{x:r,y:e},sourcePosition:t,target:{x:n,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((C,m,y)=>{let w="";return y>0&&y<c.length-1?w=Cmt(c[y-1],m,c[y+1],s):w=`${y===0?"M":"L"}${m.x} ${m.y}`,C+=w,C},""),d,h,f,p]}const bL=S.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=ht.Bottom,targetPosition:h=ht.Top,markerEnd:f,markerStart:p,pathOptions:g,interactionWidth:C})=>{const[m,y,w]=CH({sourceX:r,sourceY:e,sourcePosition:d,targetX:t,targetY:n,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return N.createElement(PR,{path:m,labelX:y,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:p,interactionWidth:C})});bL.displayName="SmoothStepEdge";const X2=S.memo(r=>{var e;return N.createElement(bL,{...r,pathOptions:S.useMemo(()=>{var t;return{borderRadius:0,offset:(t=r.pathOptions)==null?void 0:t.offset}},[(e=r.pathOptions)==null?void 0:e.offset])})});X2.displayName="StepEdge";function wmt({sourceX:r,sourceY:e,targetX:t,targetY:n}){const[i,o,s,a]=yCe({sourceX:r,sourceY:e,targetX:t,targetY:n});return[`M ${r},${e}L ${t},${n}`,i,o,s,a]}const J2=S.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:f})=>{const[p,g,C]=wmt({sourceX:r,sourceY:e,targetX:t,targetY:n});return N.createElement(PR,{path:p,labelX:g,labelY:C,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:f})});J2.displayName="StraightEdge";function FT(r,e){return r>=0?.5*r:e*25*Math.sqrt(-r)}function sJ({pos:r,x1:e,y1:t,x2:n,y2:i,c:o}){switch(r){case ht.Left:return[e-FT(e-n,o),t];case ht.Right:return[e+FT(n-e,o),t];case ht.Top:return[e,t-FT(t-i,o)];case ht.Bottom:return[e,t+FT(i-t,o)]}}function SCe({sourceX:r,sourceY:e,sourcePosition:t=ht.Bottom,targetX:n,targetY:i,targetPosition:o=ht.Top,curvature:s=.25}){const[a,l]=sJ({pos:t,x1:r,y1:e,x2:n,y2:i,c:s}),[u,c]=sJ({pos:o,x1:n,y1:i,x2:r,y2:e,c:s}),[d,h,f,p]=CCe({sourceX:r,sourceY:e,targetX:n,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${r},${e} C${a},${l} ${u},${c} ${n},${i}`,d,h,f,p]}const cI=S.memo(({sourceX:r,sourceY:e,targetX:t,targetY:n,sourcePosition:i=ht.Bottom,targetPosition:o=ht.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,pathOptions:g,interactionWidth:C})=>{const[m,y,w]=SCe({sourceX:r,sourceY:e,sourcePosition:i,targetX:t,targetY:n,targetPosition:o,curvature:g==null?void 0:g.curvature});return N.createElement(PR,{path:m,labelX:y,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:f,markerStart:p,interactionWidth:C})});cI.displayName="BezierEdge";const Z2=S.createContext(null),Smt=Z2.Provider;Z2.Consumer;const Emt=()=>S.useContext(Z2),_mt=r=>"id"in r&&"source"in r&&"target"in r,Rmt=({source:r,sourceHandle:e,target:t,targetHandle:n})=>`reactflow__edge-${r}${e||""}-${t}${n||""}`,wH=(r,e)=>typeof r>"u"?"":typeof r=="string"?r:`${e?`${e}__`:""}${Object.keys(r).sort().map(n=>`${n}=${r[n]}`).join("&")}`,bmt=(r,e)=>e.some(t=>t.source===r.source&&t.target===r.target&&(t.sourceHandle===r.sourceHandle||!t.sourceHandle&&!r.sourceHandle)&&(t.targetHandle===r.targetHandle||!t.targetHandle&&!r.targetHandle)),Tmt=(r,e)=>{if(!r.source||!r.target)return e;let t;return _mt(r)?t={...r}:t={...r,id:Rmt(r)},bmt(t,e)?e:e.concat(t)},SH=({x:r,y:e},[t,n,i],o,[s,a])=>{const l={x:(r-t)/i,y:(e-n)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},ECe=({x:r,y:e},[t,n,i])=>({x:r*i+t,y:e*i+n}),lv=(r,e=[0,0])=>{if(!r)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const t=(r.width??0)*e[0],n=(r.height??0)*e[1],i={x:r.position.x-t,y:r.position.y-n};return{...i,positionAbsolute:r.positionAbsolute?{x:r.positionAbsolute.x-t,y:r.positionAbsolute.y-n}:i}},e3=(r,e=[0,0])=>{if(r.length===0)return{x:0,y:0,width:0,height:0};const t=r.reduce((n,i)=>{const{x:o,y:s}=lv(i,e).positionAbsolute;return hmt(n,q2({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fmt(t)},_Ce=(r,e,[t,n,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(e.x-t)/i,y:(e.y-n)/i,width:e.width/i,height:e.height/i},u=[];return r.forEach(c=>{const{width:d,height:h,selectable:f=!0,hidden:p=!1}=c;if(s&&!f||p)return!1;const{positionAbsolute:g}=lv(c,a),C={x:g.x,y:g.y,width:d||0,height:h||0},m=vH(l,C),y=typeof d>"u"||typeof h>"u"||d===null||h===null,w=o&&m>0,E=(d||0)*(h||0);(y||w||m>=E||c.dragging)&&u.push(c)}),u},RCe=(r,e)=>{const t=r.map(n=>n.id);return e.filter(n=>t.includes(n.source)||t.includes(n.target))},bCe=(r,e,t,n,i,o=.1)=>{const s=e/(r.width*(1+o)),a=t/(r.height*(1+o)),l=Math.min(s,a),u=Zv(l,n,i),c=r.x+r.width/2,d=r.y+r.height/2,h=e/2-c*u,f=t/2-d*u;return{x:h,y:f,zoom:u}},Nf=(r,e=0)=>r.transition().duration(e);function aJ(r,e,t,n){return(e[t]||[]).reduce((i,o)=>{var s,a;return`${r.id}-${o.id}-${t}`!==n&&i.push({id:o.id||null,type:t,nodeId:r.id,x:(((s=r.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=r.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function Pmt(r,e,t,n,i,o){const{x:s,y:a}=Oh(r),u=e.elementsFromPoint(s,a).find(p=>p.classList.contains("react-flow__handle"));if(u){const p=u.getAttribute("data-nodeid");if(p){const g=t3(void 0,u),C=u.getAttribute("data-handleid"),m=o({nodeId:p,id:C,type:g});if(m){const y=i.find(w=>w.nodeId===p&&w.type===g&&w.id===C);return{handle:{id:C,type:g,nodeId:p,x:(y==null?void 0:y.x)||t.x,y:(y==null?void 0:y.y)||t.y},validHandleResult:m}}}}let c=[],d=1/0;if(i.forEach(p=>{const g=Math.sqrt((p.x-t.x)**2+(p.y-t.y)**2);if(g<=n){const C=o(p);g<=d&&(g<d?c=[{handle:p,validHandleResult:C}]:g===d&&c.push({handle:p,validHandleResult:C}),d=g)}}),!c.length)return{handle:null,validHandleResult:TCe()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:p})=>p.isValid),f=c.some(({handle:p})=>p.type==="target");return c.find(({handle:p,validHandleResult:g})=>f?p.type==="target":h?g.isValid:!0)||c[0]}const Omt={source:null,target:null,sourceHandle:null,targetHandle:null},TCe=()=>({handleDomNode:null,isValid:!1,connection:Omt,endHandle:null});function PCe(r,e,t,n,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`),u={...TCe(),handleDomNode:l};if(l){const c=t3(void 0,l),d=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),f=l.classList.contains("connectable"),p=l.classList.contains("connectableend"),g={source:a?d:t,sourceHandle:a?h:n,target:a?t:d,targetHandle:a?n:h};u.connection=g,f&&p&&(e===rg.Strict?a&&c==="source"||!a&&c==="target":d!==t||h!==n)&&(u.endHandle={nodeId:d,handleId:h,type:c},u.isValid=o(g))}return u}function Dmt({nodes:r,nodeId:e,handleId:t,handleType:n}){return r.reduce((i,o)=>{if(o[Rr]){const{handleBounds:s}=o[Rr];let a=[],l=[];s&&(a=aJ(o,s,"source",`${e}-${t}-${n}`),l=aJ(o,s,"target",`${e}-${t}-${n}`)),i.push(...a,...l)}return i},[])}function t3(r,e){return r||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function GG(r){r==null||r.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Amt(r,e){let t=null;return e?t="valid":r&&!e&&(t="invalid"),t}function OCe({event:r,handleId:e,nodeId:t,onConnect:n,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=gCe(r.target),{connectionMode:d,domNode:h,autoPanOnConnect:f,connectionRadius:p,onConnectStart:g,panBy:C,getNodes:m,cancelConnection:y}=o();let w=0,E;const{x:P,y:T}=Oh(r),R=c==null?void 0:c.elementFromPoint(P,T),_=t3(l,R),b=h==null?void 0:h.getBoundingClientRect();if(!b||!_)return;let D,M=Oh(r,b),G=!1,I=null,L=!1,B=null;const j=Dmt({nodes:m(),nodeId:t,handleId:e,handleType:_}),z=()=>{if(!f)return;const[Y,Q]=pCe(M,b);C({x:Y,y:Q}),w=requestAnimationFrame(z)};s({connectionPosition:M,connectionStatus:null,connectionNodeId:t,connectionHandleId:e,connectionHandleType:_,connectionStartHandle:{nodeId:t,handleId:e,type:_},connectionEndHandle:null}),g==null||g(r,{nodeId:t,handleId:e,handleType:_});function W(Y){const{transform:Q}=o();M=Oh(Y,b);const{handle:J,validHandleResult:oe}=Pmt(Y,c,SH(M,Q,!1,[1,1]),p,j,re=>PCe(re,d,t,e,i?"target":"source",a,c));if(E=J,G||(z(),G=!0),B=oe.handleDomNode,I=oe.connection,L=oe.isValid,s({connectionPosition:E&&L?ECe({x:E.x,y:E.y},Q):M,connectionStatus:Amt(!!E,L),connectionEndHandle:oe.endHandle}),!E&&!L&&!B)return GG(D);I.source!==I.target&&B&&(GG(D),D=B,B.classList.add("connecting","react-flow__handle-connecting"),B.classList.toggle("valid",L),B.classList.toggle("react-flow__handle-valid",L))}function H(Y){var Q,J;(E||B)&&I&&L&&(n==null||n(I)),(J=(Q=o()).onConnectEnd)==null||J.call(Q,Y),l&&(u==null||u(Y)),GG(D),y(),cancelAnimationFrame(w),G=!1,L=!1,I=null,B=null,c.removeEventListener("mousemove",W),c.removeEventListener("mouseup",H),c.removeEventListener("touchmove",W),c.removeEventListener("touchend",H)}c.addEventListener("mousemove",W),c.addEventListener("mouseup",H),c.addEventListener("touchmove",W),c.addEventListener("touchend",H)}const lJ=()=>!0,xmt=r=>({connectionStartHandle:r.connectionStartHandle,connectOnClick:r.connectOnClick,noPanClassName:r.noPanClassName}),Imt=(r,e,t)=>n=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=n;return{connecting:(i==null?void 0:i.nodeId)===r&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===t||(o==null?void 0:o.nodeId)===r&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===t,clickConnecting:(s==null?void 0:s.nodeId)===r&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===t}},DCe=S.forwardRef(({type:r="source",position:e=ht.Top,isValidConnection:t,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...h},f)=>{var b,D;const p=s||null,g=r==="target",C=Si(),m=Emt(),{connectOnClick:y,noPanClassName:w}=Cr(xmt,mo),{connecting:E,clickConnecting:P}=Cr(Imt(m,p,r),mo);m||(D=(b=C.getState()).onError)==null||D.call(b,"010",jc.error010());const T=M=>{const{defaultEdgeOptions:G,onConnect:I,hasDefaultEdges:L}=C.getState(),B={...G,...M};if(L){const{edges:j,setEdges:z}=C.getState();z(Tmt(B,j))}I==null||I(B),a==null||a(B)},R=M=>{if(!m)return;const G=vCe(M);i&&(G&&M.button===0||!G)&&OCe({event:M,handleId:p,nodeId:m,onConnect:T,isTarget:g,getState:C.getState,setState:C.setState,isValidConnection:t||C.getState().isValidConnection||lJ}),G?c==null||c(M):d==null||d(M)},_=M=>{const{onClickConnectStart:G,onClickConnectEnd:I,connectionClickStartHandle:L,connectionMode:B,isValidConnection:j}=C.getState();if(!m||!L&&!i)return;if(!L){G==null||G(M,{nodeId:m,handleId:p,handleType:r}),C.setState({connectionClickStartHandle:{nodeId:m,type:r,handleId:p}});return}const z=gCe(M.target),W=t||j||lJ,{connection:H,isValid:Y}=PCe({nodeId:m,id:p,type:r},B,L.nodeId,L.handleId||null,L.type,W,z);Y&&T(H),I==null||I(M),C.setState({connectionClickStartHandle:null})};return N.createElement("div",{"data-handleid":p,"data-nodeid":m,"data-handlepos":e,"data-id":`${m}-${p}-${r}`,className:No(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",w,u,{source:!g,target:g,connectable:n,connectablestart:i,connectableend:o,connecting:P,connectionindicator:n&&(i&&!E||o&&E)}]),onMouseDown:R,onTouchStart:R,onClick:y?_:void 0,ref:f,...h},l)});DCe.displayName="Handle";var dI=S.memo(DCe);const ACe=({data:r,isConnectable:e,targetPosition:t=ht.Top,sourcePosition:n=ht.Bottom})=>N.createElement(N.Fragment,null,N.createElement(dI,{type:"target",position:t,isConnectable:e}),r==null?void 0:r.label,N.createElement(dI,{type:"source",position:n,isConnectable:e}));ACe.displayName="DefaultNode";var EH=S.memo(ACe);const xCe=({data:r,isConnectable:e,sourcePosition:t=ht.Bottom})=>N.createElement(N.Fragment,null,r==null?void 0:r.label,N.createElement(dI,{type:"source",position:t,isConnectable:e}));xCe.displayName="InputNode";var ICe=S.memo(xCe);const FCe=({data:r,isConnectable:e,targetPosition:t=ht.Top})=>N.createElement(N.Fragment,null,N.createElement(dI,{type:"target",position:t,isConnectable:e}),r==null?void 0:r.label);FCe.displayName="OutputNode";var MCe=S.memo(FCe);const n3=()=>null;n3.displayName="GroupNode";const Fmt=r=>({selectedNodes:r.getNodes().filter(e=>e.selected),selectedEdges:r.edges.filter(e=>e.selected).map(e=>({...e}))}),MT=r=>r.id;function Mmt(r,e){return mo(r.selectedNodes.map(MT),e.selectedNodes.map(MT))&&mo(r.selectedEdges.map(MT),e.selectedEdges.map(MT))}const LCe=S.memo(({onSelectionChange:r})=>{const e=Si(),{selectedNodes:t,selectedEdges:n}=Cr(Fmt,Mmt);return S.useEffect(()=>{const i={nodes:t,edges:n};r==null||r(i),e.getState().onSelectionChange.forEach(o=>o(i))},[t,n,r]),null});LCe.displayName="SelectionListener";const Lmt=r=>!!r.onSelectionChange;function Nmt({onSelectionChange:r}){const e=Cr(Lmt);return r||e?N.createElement(LCe,{onSelectionChange:r}):null}const Gmt=r=>({setNodes:r.setNodes,setEdges:r.setEdges,setDefaultNodesAndEdges:r.setDefaultNodesAndEdges,setMinZoom:r.setMinZoom,setMaxZoom:r.setMaxZoom,setTranslateExtent:r.setTranslateExtent,setNodeExtent:r.setNodeExtent,reset:r.reset});function tm(r,e){S.useEffect(()=>{typeof r<"u"&&e(r)},[r])}function zt(r,e,t){S.useEffect(()=>{typeof e<"u"&&t({[r]:e})},[e])}const Vmt=({nodes:r,edges:e,defaultNodes:t,defaultEdges:n,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:f,elevateNodesOnSelect:p,minZoom:g,maxZoom:C,nodeExtent:m,onNodesChange:y,onEdgesChange:w,elementsSelectable:E,connectionMode:P,snapGrid:T,snapToGrid:R,translateExtent:_,connectOnClick:b,defaultEdgeOptions:D,fitView:M,fitViewOptions:G,onNodesDelete:I,onEdgesDelete:L,onNodeDrag:B,onNodeDragStart:j,onNodeDragStop:z,onSelectionDrag:W,onSelectionDragStart:H,onSelectionDragStop:Y,noPanClassName:Q,nodeOrigin:J,rfId:oe,autoPanOnConnect:re,autoPanOnNodeDrag:ue,onError:Ce,connectionRadius:Re,isValidConnection:Be,nodeDragThreshold:Ge})=>{const{setNodes:Ie,setEdges:qe,setDefaultNodesAndEdges:$e,setMinZoom:Tt,setMaxZoom:Dt,setTranslateExtent:pt,setNodeExtent:bn,reset:Ze}=Cr(Gmt,mo),xe=Si();return S.useEffect(()=>{const pn=n==null?void 0:n.map(Ot=>({...Ot,...D}));return $e(t,pn),()=>{Ze()}},[]),zt("defaultEdgeOptions",D,xe.setState),zt("connectionMode",P,xe.setState),zt("onConnect",i,xe.setState),zt("onConnectStart",o,xe.setState),zt("onConnectEnd",s,xe.setState),zt("onClickConnectStart",a,xe.setState),zt("onClickConnectEnd",l,xe.setState),zt("nodesDraggable",u,xe.setState),zt("nodesConnectable",c,xe.setState),zt("nodesFocusable",d,xe.setState),zt("edgesFocusable",h,xe.setState),zt("edgesUpdatable",f,xe.setState),zt("elementsSelectable",E,xe.setState),zt("elevateNodesOnSelect",p,xe.setState),zt("snapToGrid",R,xe.setState),zt("snapGrid",T,xe.setState),zt("onNodesChange",y,xe.setState),zt("onEdgesChange",w,xe.setState),zt("connectOnClick",b,xe.setState),zt("fitViewOnInit",M,xe.setState),zt("fitViewOnInitOptions",G,xe.setState),zt("onNodesDelete",I,xe.setState),zt("onEdgesDelete",L,xe.setState),zt("onNodeDrag",B,xe.setState),zt("onNodeDragStart",j,xe.setState),zt("onNodeDragStop",z,xe.setState),zt("onSelectionDrag",W,xe.setState),zt("onSelectionDragStart",H,xe.setState),zt("onSelectionDragStop",Y,xe.setState),zt("noPanClassName",Q,xe.setState),zt("nodeOrigin",J,xe.setState),zt("rfId",oe,xe.setState),zt("autoPanOnConnect",re,xe.setState),zt("autoPanOnNodeDrag",ue,xe.setState),zt("onError",Ce,xe.setState),zt("connectionRadius",Re,xe.setState),zt("isValidConnection",Be,xe.setState),zt("nodeDragThreshold",Ge,xe.setState),tm(r,Ie),tm(e,qe),tm(g,Tt),tm(C,Dt),tm(_,pt),tm(m,bn),null},uJ={display:"none"},kmt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},NCe="react-flow__node-desc",GCe="react-flow__edge-desc",Hmt="react-flow__aria-live",$mt=r=>r.ariaLiveMessage;function Bmt({rfId:r}){const e=Cr($mt);return N.createElement("div",{id:`${Hmt}-${r}`,"aria-live":"assertive","aria-atomic":"true",style:kmt},e)}function jmt({rfId:r,disableKeyboardA11y:e}){return N.createElement(N.Fragment,null,N.createElement("div",{id:`${NCe}-${r}`,style:uJ},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),N.createElement("div",{id:`${GCe}-${r}`,style:uJ},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&N.createElement(Bmt,{rfId:r}))}var kE=(r=null,e={actInsideInputWithModifier:!0})=>{const[t,n]=S.useState(!1),i=S.useRef(!1),o=S.useRef(new Set([])),[s,a]=S.useMemo(()=>{if(r!==null){const u=(Array.isArray(r)?r:[r]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,h)=>d.concat(...h),[]);return[u,c]}return[[],[]]},[r]);return S.useEffect(()=>{const l=typeof document<"u"?document:null,u=(e==null?void 0:e.target)||l;if(r!==null){const c=f=>{if(i.current=f.ctrlKey||f.metaKey||f.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&yH(f))return!1;const g=dJ(f.code,a);o.current.add(f[g]),cJ(s,o.current,!1)&&(f.preventDefault(),n(!0))},d=f=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&yH(f))return!1;const g=dJ(f.code,a);cJ(s,o.current,!0)?(n(!1),o.current.clear()):o.current.delete(f[g]),f.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[r,n]),t};function cJ(r,e,t){return r.filter(n=>t||n.length===e.size).some(n=>n.every(i=>e.has(i)))}function dJ(r,e){return e.includes(r)?"code":"key"}function VCe(r,e,t,n){var a,l;const i=r.parentNode||r.parentId;if(!i)return t;const o=e.get(i),s=lv(o,n);return VCe(o,e,{x:(t.x??0)+s.x,y:(t.y??0)+s.y,z:(((a=o[Rr])==null?void 0:a.z)??0)>(t.z??0)?((l=o[Rr])==null?void 0:l.z)??0:t.z??0},n)}function kCe(r,e,t){r.forEach(n=>{var o;const i=n.parentNode||n.parentId;if(i&&!r.has(i))throw new Error(`Parent node ${i} not found`);if(i||t!=null&&t[n.id]){const{x:s,y:a,z:l}=VCe(n,r,{...n.position,z:((o=n[Rr])==null?void 0:o.z)??0},e);n.positionAbsolute={x:s,y:a},n[Rr].z=l,t!=null&&t[n.id]&&(n[Rr].isParent=!0)}})}function VG(r,e,t,n){const i=new Map,o={},s=n?1e3:0;return r.forEach(a=>{var f;const l=(Ra(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=e.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(o[d]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,Rr,{enumerable:!1,value:{handleBounds:h||(f=u==null?void 0:u[Rr])==null?void 0:f.handleBounds,z:l}}),i.set(a.id,c)}),kCe(i,t,o),i}function HCe(r,e={}){const{getNodes:t,width:n,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=r(),h=e.initial&&!u&&c;if(a&&l&&(h||!e.initial)){const p=t().filter(C=>{var y;const m=e.includeHiddenNodes?C.width&&C.height:!C.hidden;return(y=e.nodes)!=null&&y.length?m&&e.nodes.some(w=>w.id===C.id):m}),g=p.every(C=>C.width&&C.height);if(p.length>0&&g){const C=e3(p,d),{x:m,y,zoom:w}=bCe(C,n,i,e.minZoom??o,e.maxZoom??s,e.padding??.1),E=Ph.translate(m,y).scale(w);return typeof e.duration=="number"&&e.duration>0?a.transform(Nf(l,e.duration),E):a.transform(l,E),!0}}return!1}function Wmt(r,e){return r.forEach(t=>{const n=e.get(t.id);n&&e.set(n.id,{...n,[Rr]:n[Rr],selected:t.selected})}),new Map(e)}function Umt(r,e){return e.map(t=>{const n=r.find(i=>i.id===t.id);return n&&(t.selected=n.selected),t})}function LT({changedNodes:r,changedEdges:e,get:t,set:n}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=t();r!=null&&r.length&&(l&&n({nodeInternals:Wmt(r,i)}),s==null||s(r)),e!=null&&e.length&&(u&&n({edges:Umt(e,o)}),a==null||a(e))}const nm=()=>{},zmt={zoomIn:nm,zoomOut:nm,zoomTo:nm,getZoom:()=>1,setViewport:nm,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:nm,fitBounds:nm,project:r=>r,screenToFlowPosition:r=>r,flowToScreenPosition:r=>r,viewportInitialized:!1},Kmt=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection}),Ymt=()=>{const r=Si(),{d3Zoom:e,d3Selection:t}=Cr(Kmt,mo);return S.useMemo(()=>t&&e?{zoomIn:i=>e.scaleBy(Nf(t,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(Nf(t,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>e.scaleTo(Nf(t,o==null?void 0:o.duration),i),getZoom:()=>r.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=r.getState().transform,u=Ph.translate(i.x??s,i.y??a).scale(i.zoom??l);e.transform(Nf(t,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=r.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>HCe(r.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=r.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=a/2-i*c,h=l/2-o*c,f=Ph.translate(d,h).scale(c);e.transform(Nf(t,s==null?void 0:s.duration),f)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=r.getState(),{x:c,y:d,zoom:h}=bCe(i,s,a,l,u,(o==null?void 0:o.padding)??.1),f=Ph.translate(c,d).scale(h);e.transform(Nf(t,o==null?void 0:o.duration),f)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=r.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),SH(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=r.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return SH(d,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=r.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=ECe(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:zmt,[e,t])};function r3(){const r=Ymt(),e=Si(),t=S.useCallback(()=>e.getState().getNodes().map(g=>({...g})),[]),n=S.useCallback(g=>e.getState().nodeInternals.get(g),[]),i=S.useCallback(()=>{const{edges:g=[]}=e.getState();return g.map(C=>({...C}))},[]),o=S.useCallback(g=>{const{edges:C=[]}=e.getState();return C.find(m=>m.id===g)},[]),s=S.useCallback(g=>{const{getNodes:C,setNodes:m,hasDefaultNodes:y,onNodesChange:w}=e.getState(),E=C(),P=typeof g=="function"?g(E):g;if(y)m(P);else if(w){const T=P.length===0?E.map(R=>({type:"remove",id:R.id})):P.map(R=>({item:R,type:"reset"}));w(T)}},[]),a=S.useCallback(g=>{const{edges:C=[],setEdges:m,hasDefaultEdges:y,onEdgesChange:w}=e.getState(),E=typeof g=="function"?g(C):g;if(y)m(E);else if(w){const P=E.length===0?C.map(T=>({type:"remove",id:T.id})):E.map(T=>({item:T,type:"reset"}));w(P)}},[]),l=S.useCallback(g=>{const C=Array.isArray(g)?g:[g],{getNodes:m,setNodes:y,hasDefaultNodes:w,onNodesChange:E}=e.getState();if(w){const T=[...m(),...C];y(T)}else if(E){const P=C.map(T=>({item:T,type:"add"}));E(P)}},[]),u=S.useCallback(g=>{const C=Array.isArray(g)?g:[g],{edges:m=[],setEdges:y,hasDefaultEdges:w,onEdgesChange:E}=e.getState();if(w)y([...m,...C]);else if(E){const P=C.map(T=>({item:T,type:"add"}));E(P)}},[]),c=S.useCallback(()=>{const{getNodes:g,edges:C=[],transform:m}=e.getState(),[y,w,E]=m;return{nodes:g().map(P=>({...P})),edges:C.map(P=>({...P})),viewport:{x:y,y:w,zoom:E}}},[]),d=S.useCallback(({nodes:g,edges:C})=>{const{nodeInternals:m,getNodes:y,edges:w,hasDefaultNodes:E,hasDefaultEdges:P,onNodesDelete:T,onEdgesDelete:R,onNodesChange:_,onEdgesChange:b}=e.getState(),D=(g||[]).map(B=>B.id),M=(C||[]).map(B=>B.id),G=y().reduce((B,j)=>{const z=j.parentNode||j.parentId,W=!D.includes(j.id)&&z&&B.find(Y=>Y.id===z);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(D.includes(j.id)||W)&&B.push(j),B},[]),I=w.filter(B=>typeof B.deletable=="boolean"?B.deletable:!0),L=I.filter(B=>M.includes(B.id));if(G||L){const B=RCe(G,I),j=[...L,...B],z=j.reduce((W,H)=>(W.includes(H.id)||W.push(H.id),W),[]);if((P||E)&&(P&&e.setState({edges:w.filter(W=>!z.includes(W.id))}),E&&(G.forEach(W=>{m.delete(W.id)}),e.setState({nodeInternals:new Map(m)}))),z.length>0&&(R==null||R(j),b&&b(z.map(W=>({id:W,type:"remove"})))),G.length>0&&(T==null||T(G),_)){const W=G.map(H=>({id:H.id,type:"remove"}));_(W)}}},[]),h=S.useCallback(g=>{const C=pmt(g),m=C?null:e.getState().nodeInternals.get(g.id);return!C&&!m?[null,null,C]:[C?g:nJ(m),m,C]},[]),f=S.useCallback((g,C=!0,m)=>{const[y,w,E]=h(g);return y?(m||e.getState().getNodes()).filter(P=>{if(!E&&(P.id===w.id||!P.positionAbsolute))return!1;const T=nJ(P),R=vH(T,y);return C&&R>0||R>=y.width*y.height}):[]},[]),p=S.useCallback((g,C,m=!0)=>{const[y]=h(g);if(!y)return!1;const w=vH(y,C);return m&&w>0||w>=y.width*y.height},[]);return S.useMemo(()=>({...r,getNodes:t,getNode:n,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:p}),[r,t,n,i,o,s,a,l,u,c,d,f,p])}const qmt={actInsideInputWithModifier:!1};var Qmt=({deleteKeyCode:r,multiSelectionKeyCode:e})=>{const t=Si(),{deleteElements:n}=r3(),i=kE(r,qmt),o=kE(e);S.useEffect(()=>{if(i){const{edges:s,getNodes:a}=t.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);n({nodes:l,edges:u}),t.setState({nodesSelectionActive:!1})}},[i]),S.useEffect(()=>{t.setState({multiSelectionActive:o})},[o])};function Xmt(r){const e=Si();S.useEffect(()=>{let t;const n=()=>{var o,s;if(!r.current)return;const i=K2(r.current);(i.height===0||i.width===0)&&((s=(o=e.getState()).onError)==null||s.call(o,"004",jc.error004())),e.setState({width:i.width||500,height:i.height||500})};return n(),window.addEventListener("resize",n),r.current&&(t=new ResizeObserver(()=>n()),t.observe(r.current)),()=>{window.removeEventListener("resize",n),t&&r.current&&t.unobserve(r.current)}},[])}const i3={position:"absolute",width:"100%",height:"100%",top:0,left:0},Jmt=(r,e)=>r.x!==e.x||r.y!==e.y||r.zoom!==e.k,NT=r=>({x:r.x,y:r.y,zoom:r.k}),rm=(r,e)=>r.target.closest(`.${e}`),hJ=(r,e)=>e===2&&Array.isArray(r)&&r.includes(2),fJ=r=>{const e=r.ctrlKey&&lI()?10:1;return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*e},Zmt=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection,d3ZoomHandler:r.d3ZoomHandler,userSelectionActive:r.userSelectionActive}),evt=({onMove:r,onMoveStart:e,onMoveEnd:t,onPaneContextMenu:n,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=sp.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:h,translateExtent:f,minZoom:p,maxZoom:g,zoomActivationKeyCode:C,preventScrolling:m=!0,children:y,noWheelClassName:w,noPanClassName:E})=>{const P=S.useRef(),T=Si(),R=S.useRef(!1),_=S.useRef(!1),b=S.useRef(null),D=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:M,d3Selection:G,d3ZoomHandler:I,userSelectionActive:L}=Cr(Zmt,mo),B=kE(C),j=S.useRef(0),z=S.useRef(!1),W=S.useRef();return Xmt(b),S.useEffect(()=>{if(b.current){const H=b.current.getBoundingClientRect(),Y=smt().scaleExtent([p,g]).translateExtent(f),Q=ol(b.current).call(Y),J=Ph.translate(h.x,h.y).scale(Zv(h.zoom,p,g)),oe=[[0,0],[H.width,H.height]],re=Y.constrain()(J,oe,f);Y.transform(Q,re),Y.wheelDelta(fJ),T.setState({d3Zoom:Y,d3Selection:Q,d3ZoomHandler:Q.on("wheel.zoom"),transform:[re.x,re.y,re.k],domNode:b.current.closest(".react-flow")})}},[]),S.useEffect(()=>{G&&M&&(s&&!B&&!L?G.on("wheel.zoom",H=>{if(rm(H,w))return!1;H.preventDefault(),H.stopImmediatePropagation();const Y=G.property("__zoom").k||1;if(H.ctrlKey&&o){const Be=iu(H),Ge=fJ(H),Ie=Y*Math.pow(2,Ge);M.scaleTo(G,Ie,Be,H);return}const Q=H.deltaMode===1?20:1;let J=l===sp.Vertical?0:H.deltaX*Q,oe=l===sp.Horizontal?0:H.deltaY*Q;!lI()&&H.shiftKey&&l!==sp.Vertical&&(J=H.deltaY*Q,oe=0),M.translateBy(G,-(J/Y)*a,-(oe/Y)*a,{internal:!0});const re=NT(G.property("__zoom")),{onViewportChangeStart:ue,onViewportChange:Ce,onViewportChangeEnd:Re}=T.getState();clearTimeout(W.current),z.current||(z.current=!0,e==null||e(H,re),ue==null||ue(re)),z.current&&(r==null||r(H,re),Ce==null||Ce(re),W.current=setTimeout(()=>{t==null||t(H,re),Re==null||Re(re),z.current=!1},150))},{passive:!1}):typeof I<"u"&&G.on("wheel.zoom",function(H,Y){if(!m&&H.type==="wheel"&&!H.ctrlKey||rm(H,w))return null;H.preventDefault(),I.call(this,H,Y)},{passive:!1}))},[L,s,l,G,M,I,B,o,m,w,e,r,t]),S.useEffect(()=>{M&&M.on("start",H=>{var J,oe;if(!H.sourceEvent||H.sourceEvent.internal)return null;j.current=(J=H.sourceEvent)==null?void 0:J.button;const{onViewportChangeStart:Y}=T.getState(),Q=NT(H.transform);R.current=!0,D.current=Q,((oe=H.sourceEvent)==null?void 0:oe.type)==="mousedown"&&T.setState({paneDragging:!0}),Y==null||Y(Q),e==null||e(H.sourceEvent,Q)})},[M,e]),S.useEffect(()=>{M&&(L&&!R.current?M.on("zoom",null):L||M.on("zoom",H=>{var Q;const{onViewportChange:Y}=T.getState();if(T.setState({transform:[H.transform.x,H.transform.y,H.transform.k]}),_.current=!!(n&&hJ(d,j.current??0)),(r||Y)&&!((Q=H.sourceEvent)!=null&&Q.internal)){const J=NT(H.transform);Y==null||Y(J),r==null||r(H.sourceEvent,J)}}))},[L,M,r,d,n]),S.useEffect(()=>{M&&M.on("end",H=>{if(!H.sourceEvent||H.sourceEvent.internal)return null;const{onViewportChangeEnd:Y}=T.getState();if(R.current=!1,T.setState({paneDragging:!1}),n&&hJ(d,j.current??0)&&!_.current&&n(H.sourceEvent),_.current=!1,(t||Y)&&Jmt(D.current,H.transform)){const Q=NT(H.transform);D.current=Q,clearTimeout(P.current),P.current=setTimeout(()=>{Y==null||Y(Q),t==null||t(H.sourceEvent,Q)},s?150:0)}})},[M,s,d,t,n]),S.useEffect(()=>{M&&M.filter(H=>{const Y=B||i,Q=o&&H.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&H.button===1&&H.type==="mousedown"&&(rm(H,"react-flow__node")||rm(H,"react-flow__edge")))return!0;if(!d&&!Y&&!s&&!u&&!o||L||!u&&H.type==="dblclick"||rm(H,w)&&H.type==="wheel"||rm(H,E)&&(H.type!=="wheel"||s&&H.type==="wheel"&&!B)||!o&&H.ctrlKey&&H.type==="wheel"||!Y&&!s&&!Q&&H.type==="wheel"||!d&&(H.type==="mousedown"||H.type==="touchstart")||Array.isArray(d)&&!d.includes(H.button)&&H.type==="mousedown")return!1;const J=Array.isArray(d)&&d.includes(H.button)||!H.button||H.button<=1;return(!H.ctrlKey||H.type==="wheel")&&J})},[L,M,i,o,s,u,d,c,B]),N.createElement("div",{className:"react-flow__renderer",ref:b,style:i3},y)},tvt=r=>({userSelectionActive:r.userSelectionActive,userSelectionRect:r.userSelectionRect});function nvt(){const{userSelectionActive:r,userSelectionRect:e}=Cr(tvt,mo);return r&&e?N.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function pJ(r,e){const t=e.parentNode||e.parentId,n=r.find(i=>i.id===t);if(n){const i=e.position.x+e.width-n.width,o=e.position.y+e.height-n.height;if(i>0||o>0||e.position.x<0||e.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,i>0&&(n.style.width+=i),o>0&&(n.style.height+=o),e.position.x<0){const s=Math.abs(e.position.x);n.position.x=n.position.x-s,n.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);n.position.y=n.position.y-s,n.style.height+=s,e.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function rvt(r,e){if(r.some(n=>n.type==="reset"))return r.filter(n=>n.type==="reset").map(n=>n.item);const t=r.filter(n=>n.type==="add").map(n=>n.item);return e.reduce((n,i)=>{const o=r.filter(a=>a.id===i.id);if(o.length===0)return n.push(i),n;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&pJ(n,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&pJ(n,s);break}case"remove":return n}return n.push(s),n},t)}function ivt(r,e){return rvt(r,e)}const Bd=(r,e)=>({id:r,type:"select",selected:e});function Vm(r,e){return r.reduce((t,n)=>{const i=e.includes(n.id);return!n.selected&&i?(n.selected=!0,t.push(Bd(n.id,!0))):n.selected&&!i&&(n.selected=!1,t.push(Bd(n.id,!1))),t},[])}const kG=(r,e)=>t=>{t.target===e.current&&(r==null||r(t))},ovt=r=>({userSelectionActive:r.userSelectionActive,elementsSelectable:r.elementsSelectable,dragging:r.paneDragging}),$Ce=S.memo(({isSelecting:r,selectionMode:e=VE.Full,panOnDrag:t,onSelectionStart:n,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const h=S.useRef(null),f=Si(),p=S.useRef(0),g=S.useRef(0),C=S.useRef(),{userSelectionActive:m,elementsSelectable:y,dragging:w}=Cr(ovt,mo),E=()=>{f.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,g.current=0},P=I=>{o==null||o(I),f.getState().resetSelectedElements(),f.setState({nodesSelectionActive:!1})},T=I=>{if(Array.isArray(t)&&(t!=null&&t.includes(2))){I.preventDefault();return}s==null||s(I)},R=a?I=>a(I):void 0,_=I=>{const{resetSelectedElements:L,domNode:B}=f.getState();if(C.current=B==null?void 0:B.getBoundingClientRect(),!y||!r||I.button!==0||I.target!==h.current||!C.current)return;const{x:j,y:z}=Oh(I,C.current);L(),f.setState({userSelectionRect:{width:0,height:0,startX:j,startY:z,x:j,y:z}}),n==null||n(I)},b=I=>{const{userSelectionRect:L,nodeInternals:B,edges:j,transform:z,onNodesChange:W,onEdgesChange:H,nodeOrigin:Y,getNodes:Q}=f.getState();if(!r||!C.current||!L)return;f.setState({userSelectionActive:!0,nodesSelectionActive:!1});const J=Oh(I,C.current),oe=L.startX??0,re=L.startY??0,ue={...L,x:J.x<oe?J.x:oe,y:J.y<re?J.y:re,width:Math.abs(J.x-oe),height:Math.abs(J.y-re)},Ce=Q(),Re=_Ce(B,ue,z,e===VE.Partial,!0,Y),Be=RCe(Re,j).map(Ie=>Ie.id),Ge=Re.map(Ie=>Ie.id);if(p.current!==Ge.length){p.current=Ge.length;const Ie=Vm(Ce,Ge);Ie.length&&(W==null||W(Ie))}if(g.current!==Be.length){g.current=Be.length;const Ie=Vm(j,Be);Ie.length&&(H==null||H(Ie))}f.setState({userSelectionRect:ue})},D=I=>{if(I.button!==0)return;const{userSelectionRect:L}=f.getState();!m&&L&&I.target===h.current&&(P==null||P(I)),f.setState({nodesSelectionActive:p.current>0}),E(),i==null||i(I)},M=I=>{m&&(f.setState({nodesSelectionActive:p.current>0}),i==null||i(I)),E()},G=y&&(r||m);return N.createElement("div",{className:No(["react-flow__pane",{dragging:w,selection:r}]),onClick:G?void 0:kG(P,h),onContextMenu:kG(T,h),onWheel:kG(R,h),onMouseEnter:G?void 0:l,onMouseDown:G?_:void 0,onMouseMove:G?b:u,onMouseUp:G?D:void 0,onMouseLeave:G?M:c,ref:h,style:i3},d,N.createElement(nvt,null))});$Ce.displayName="Pane";function BCe(r,e){const t=r.parentNode||r.parentId;if(!t)return!1;const n=e.get(t);return n?n.selected?!0:BCe(n,e):!1}function gJ(r,e,t){let n=r;do{if(n!=null&&n.matches(e))return!0;if(n===t.current)return!1;n=n.parentElement}while(n);return!1}function svt(r,e,t,n){return Array.from(r.values()).filter(i=>(i.selected||i.id===n)&&(!i.parentNode||i.parentId||!BCe(i,r))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:t.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:t.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function avt(r,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(r.width||0),e[1][1]-(r.height||0)]]}function jCe(r,e,t,n,i=[0,0],o){const s=avt(r,r.extent||n);let a=s;const l=r.parentNode||r.parentId;if(r.extent==="parent"&&!r.expandParent)if(l&&r.width&&r.height){const d=t.get(l),{x:h,y:f}=lv(d,i).positionAbsolute;a=d&&Ra(h)&&Ra(f)&&Ra(d.width)&&Ra(d.height)?[[h+r.width*i[0],f+r.height*i[1]],[h+d.width-r.width+r.width*i[0],f+d.height-r.height+r.height*i[1]]]:a}else o==null||o("005",jc.error005()),a=s;else if(r.extent&&l&&r.extent!=="parent"){const d=t.get(l),{x:h,y:f}=lv(d,i).positionAbsolute;a=[[r.extent[0][0]+h,r.extent[0][1]+f],[r.extent[1][0]+h,r.extent[1][1]+f]]}let u={x:0,y:0};if(l){const d=t.get(l);u=lv(d,i).positionAbsolute}const c=a&&a!=="parent"?Y2(e,a):e;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function HG({nodeId:r,dragItems:e,nodeInternals:t}){const n=e.map(i=>({...t.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[r?n.find(i=>i.id===r):n[0],n]}const mJ=(r,e,t,n)=>{const i=e.querySelectorAll(r);if(!i||!i.length)return null;const o=Array.from(i),s=e.getBoundingClientRect(),a={x:s.width*n[0],y:s.height*n[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/t,y:(u.top-s.top-a.y)/t,...K2(l)}})};function dw(r,e,t){return t===void 0?t:n=>{const i=e().nodeInternals.get(r);i&&t(n,{...i})}}function _H({id:r,store:e,unselect:t=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=e.getState(),u=a.get(r);if(!u){l==null||l("012",jc.error012(r));return}e.setState({nodesSelectionActive:!1}),u.selected?(t||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=n==null?void 0:n.current)==null?void 0:c.blur()})):i([r])}function lvt(){const r=Si();return S.useCallback(({sourceEvent:t})=>{const{transform:n,snapGrid:i,snapToGrid:o}=r.getState(),s=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,l={x:(s-n[0])/n[2],y:(a-n[1])/n[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function $G(r){return(e,t,n)=>r==null?void 0:r(e,n)}function WCe({nodeRef:r,disabled:e=!1,noDragClassName:t,handleSelector:n,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=Si(),[l,u]=S.useState(!1),c=S.useRef([]),d=S.useRef({x:null,y:null}),h=S.useRef(0),f=S.useRef(null),p=S.useRef({x:0,y:0}),g=S.useRef(null),C=S.useRef(!1),m=S.useRef(!1),y=S.useRef(!1),w=lvt();return S.useEffect(()=>{if(r!=null&&r.current){const E=ol(r.current),P=({x:_,y:b})=>{const{nodeInternals:D,onNodeDrag:M,onSelectionDrag:G,updateNodePositions:I,nodeExtent:L,snapGrid:B,snapToGrid:j,nodeOrigin:z,onError:W}=a.getState();d.current={x:_,y:b};let H=!1,Y={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&L){const J=e3(c.current,z);Y=q2(J)}if(c.current=c.current.map(J=>{const oe={x:_-J.distance.x,y:b-J.distance.y};j&&(oe.x=B[0]*Math.round(oe.x/B[0]),oe.y=B[1]*Math.round(oe.y/B[1]));const re=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];c.current.length>1&&L&&!J.extent&&(re[0][0]=J.positionAbsolute.x-Y.x+L[0][0],re[1][0]=J.positionAbsolute.x+(J.width??0)-Y.x2+L[1][0],re[0][1]=J.positionAbsolute.y-Y.y+L[0][1],re[1][1]=J.positionAbsolute.y+(J.height??0)-Y.y2+L[1][1]);const ue=jCe(J,oe,D,re,z,W);return H=H||J.position.x!==ue.position.x||J.position.y!==ue.position.y,J.position=ue.position,J.positionAbsolute=ue.positionAbsolute,J}),!H)return;I(c.current,!0,!0),u(!0);const Q=i?M:$G(G);if(Q&&g.current){const[J,oe]=HG({nodeId:i,dragItems:c.current,nodeInternals:D});Q(g.current,J,oe)}},T=()=>{if(!f.current)return;const[_,b]=pCe(p.current,f.current);if(_!==0||b!==0){const{transform:D,panBy:M}=a.getState();d.current.x=(d.current.x??0)-_/D[2],d.current.y=(d.current.y??0)-b/D[2],M({x:_,y:b})&&P(d.current)}h.current=requestAnimationFrame(T)},R=_=>{var z;const{nodeInternals:b,multiSelectionActive:D,nodesDraggable:M,unselectNodesAndEdges:G,onNodeDragStart:I,onSelectionDragStart:L}=a.getState();m.current=!0;const B=i?I:$G(L);(!s||!o)&&!D&&i&&((z=b.get(i))!=null&&z.selected||G()),i&&o&&s&&_H({id:i,store:a,nodeRef:r});const j=w(_);if(d.current=j,c.current=svt(b,M,j,i),B&&c.current){const[W,H]=HG({nodeId:i,dragItems:c.current,nodeInternals:b});B(_.sourceEvent,W,H)}};if(e)E.on(".drag",null);else{const _=mpt().on("start",b=>{const{domNode:D,nodeDragThreshold:M}=a.getState();M===0&&R(b),y.current=!1;const G=w(b);d.current=G,f.current=(D==null?void 0:D.getBoundingClientRect())||null,p.current=Oh(b.sourceEvent,f.current)}).on("drag",b=>{var I,L;const D=w(b),{autoPanOnNodeDrag:M,nodeDragThreshold:G}=a.getState();if(b.sourceEvent.type==="touchmove"&&b.sourceEvent.touches.length>1&&(y.current=!0),!y.current){if(!C.current&&m.current&&M&&(C.current=!0,T()),!m.current){const B=D.xSnapped-(((I=d==null?void 0:d.current)==null?void 0:I.x)??0),j=D.ySnapped-(((L=d==null?void 0:d.current)==null?void 0:L.y)??0);Math.sqrt(B*B+j*j)>G&&R(b)}(d.current.x!==D.xSnapped||d.current.y!==D.ySnapped)&&c.current&&m.current&&(g.current=b.sourceEvent,p.current=Oh(b.sourceEvent,f.current),P(D))}}).on("end",b=>{if(!(!m.current||y.current)&&(u(!1),C.current=!1,m.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:D,nodeInternals:M,onNodeDragStop:G,onSelectionDragStop:I}=a.getState(),L=i?G:$G(I);if(D(c.current,!1,!1),L){const[B,j]=HG({nodeId:i,dragItems:c.current,nodeInternals:M});L(b.sourceEvent,B,j)}}}).filter(b=>{const D=b.target;return!b.button&&(!t||!gJ(D,`.${t}`,r))&&(!n||gJ(D,n,r))});return E.call(_),()=>{E.on(".drag",null)}}}},[r,e,t,n,o,a,i,s,w]),l}function UCe(){const r=Si();return S.useCallback(t=>{const{nodeInternals:n,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=r.getState(),d=s().filter(y=>y.selected&&(y.draggable||c&&typeof y.draggable>"u")),h=a?l[0]:5,f=a?l[1]:5,p=t.isShiftPressed?4:1,g=t.x*h*p,C=t.y*f*p,m=d.map(y=>{if(y.positionAbsolute){const w={x:y.positionAbsolute.x+g,y:y.positionAbsolute.y+C};a&&(w.x=l[0]*Math.round(w.x/l[0]),w.y=l[1]*Math.round(w.y/l[1]));const{positionAbsolute:E,position:P}=jCe(y,w,n,i,void 0,u);y.position=P,y.positionAbsolute=E}return y});o(m,!0,!1)},[])}const uv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var hw=r=>{const e=({id:t,type:n,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:f,onContextMenu:p,onDoubleClick:g,style:C,className:m,isDraggable:y,isSelectable:w,isConnectable:E,isFocusable:P,selectNodesOnDrag:T,sourcePosition:R,targetPosition:_,hidden:b,resizeObserver:D,dragHandle:M,zIndex:G,isParent:I,noDragClassName:L,noPanClassName:B,initialized:j,disableKeyboardA11y:z,ariaLabel:W,rfId:H,hasHandleBounds:Y})=>{const Q=Si(),J=S.useRef(null),oe=S.useRef(null),re=S.useRef(R),ue=S.useRef(_),Ce=S.useRef(n),Re=w||y||c||d||h||f,Be=UCe(),Ge=dw(t,Q.getState,d),Ie=dw(t,Q.getState,h),qe=dw(t,Q.getState,f),$e=dw(t,Q.getState,p),Tt=dw(t,Q.getState,g),Dt=Ze=>{const{nodeDragThreshold:xe}=Q.getState();if(w&&(!T||!y||xe>0)&&_H({id:t,store:Q,nodeRef:J}),c){const pn=Q.getState().nodeInternals.get(t);pn&&c(Ze,{...pn})}},pt=Ze=>{if(!yH(Ze)&&!z)if(mCe.includes(Ze.key)&&w){const xe=Ze.key==="Escape";_H({id:t,store:Q,unselect:xe,nodeRef:J})}else y&&u&&Object.prototype.hasOwnProperty.call(uv,Ze.key)&&(Q.setState({ariaLiveMessage:`Moved selected node ${Ze.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),Be({x:uv[Ze.key].x,y:uv[Ze.key].y,isShiftPressed:Ze.shiftKey}))};S.useEffect(()=>()=>{oe.current&&(D==null||D.unobserve(oe.current),oe.current=null)},[]),S.useEffect(()=>{if(J.current&&!b){const Ze=J.current;(!j||!Y||oe.current!==Ze)&&(oe.current&&(D==null||D.unobserve(oe.current)),D==null||D.observe(Ze),oe.current=Ze)}},[b,j,Y]),S.useEffect(()=>{const Ze=Ce.current!==n,xe=re.current!==R,pn=ue.current!==_;J.current&&(Ze||xe||pn)&&(Ze&&(Ce.current=n),xe&&(re.current=R),pn&&(ue.current=_),Q.getState().updateNodeDimensions([{id:t,nodeElement:J.current,forceUpdate:!0}]))},[t,n,R,_]);const bn=WCe({nodeRef:J,disabled:b||!y,noDragClassName:L,handleSelector:M,nodeId:t,isSelectable:w,selectNodesOnDrag:T});return b?null:N.createElement("div",{className:No(["react-flow__node",`react-flow__node-${n}`,{[B]:y},m,{selected:u,selectable:w,parent:I,dragging:bn}]),ref:J,style:{zIndex:G,transform:`translate(${a}px,${l}px)`,pointerEvents:Re?"all":"none",visibility:j?"visible":"hidden",...C},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Ge,onMouseMove:Ie,onMouseLeave:qe,onContextMenu:$e,onClick:Dt,onDoubleClick:Tt,onKeyDown:P?pt:void 0,tabIndex:P?0:void 0,role:P?"button":void 0,"aria-describedby":z?void 0:`${NCe}-${H}`,"aria-label":W},N.createElement(Smt,{value:t},N.createElement(r,{id:t,data:i,type:n,xPos:o,yPos:s,selected:u,isConnectable:E,sourcePosition:R,targetPosition:_,dragging:bn,dragHandle:M,zIndex:G})))};return e.displayName="NodeWrapper",S.memo(e)};const uvt=r=>{const e=r.getNodes().filter(t=>t.selected);return{...e3(e,r.nodeOrigin),transformString:`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`,userSelectionActive:r.userSelectionActive}};function cvt({onSelectionContextMenu:r,noPanClassName:e,disableKeyboardA11y:t}){const n=Si(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=Cr(uvt,mo),c=UCe(),d=S.useRef(null);if(S.useEffect(()=>{var p;t||(p=d.current)==null||p.focus({preventScroll:!0})},[t]),WCe({nodeRef:d}),u||!i||!o)return null;const h=r?p=>{const g=n.getState().getNodes().filter(C=>C.selected);r(p,g)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(uv,p.key)&&c({x:uv[p.key].x,y:uv[p.key].y,isShiftPressed:p.shiftKey})};return N.createElement("div",{className:No(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},N.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:t?void 0:-1,onKeyDown:t?void 0:f,style:{width:i,height:o,top:a,left:s}}))}var dvt=S.memo(cvt);const hvt=r=>r.nodesSelectionActive,zCe=({children:r,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:h,selectionMode:f,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:C,panActivationKeyCode:m,zoomActivationKeyCode:y,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:P,panOnScroll:T,panOnScrollSpeed:R,panOnScrollMode:_,zoomOnDoubleClick:b,panOnDrag:D,defaultViewport:M,translateExtent:G,minZoom:I,maxZoom:L,preventScrolling:B,onSelectionContextMenu:j,noWheelClassName:z,noPanClassName:W,disableKeyboardA11y:H})=>{const Y=Cr(hvt),Q=kE(d),J=kE(m),oe=J||D,re=J||T,ue=Q||h&&oe!==!0;return Qmt({deleteKeyCode:a,multiSelectionKeyCode:C}),N.createElement(evt,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:E,zoomOnPinch:P,panOnScroll:re,panOnScrollSpeed:R,panOnScrollMode:_,zoomOnDoubleClick:b,panOnDrag:!Q&&oe,defaultViewport:M,translateExtent:G,minZoom:I,maxZoom:L,zoomActivationKeyCode:y,preventScrolling:B,noWheelClassName:z,noPanClassName:W},N.createElement($Ce,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:oe,isSelecting:!!ue,selectionMode:f},r,Y&&N.createElement(dvt,{onSelectionContextMenu:j,noPanClassName:W,disableKeyboardA11y:H})))};zCe.displayName="FlowRenderer";var fvt=S.memo(zCe);function pvt(r){return Cr(S.useCallback(t=>r?_Ce(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[r]))}function gvt(r){const e={input:hw(r.input||ICe),default:hw(r.default||EH),output:hw(r.output||MCe),group:hw(r.group||n3)},t={},n=Object.keys(r).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=hw(r[o]||EH),i),t);return{...e,...n}}const mvt=({x:r,y:e,width:t,height:n,origin:i})=>!t||!n?{x:r,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:r,y:e}:{x:r-t*i[0],y:e-n*i[1]},vvt=r=>({nodesDraggable:r.nodesDraggable,nodesConnectable:r.nodesConnectable,nodesFocusable:r.nodesFocusable,elementsSelectable:r.elementsSelectable,updateNodeDimensions:r.updateNodeDimensions,onError:r.onError}),KCe=r=>{const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:n,elementsSelectable:i,updateNodeDimensions:o,onError:s}=Cr(vvt,mo),a=pvt(r.onlyRenderVisibleElements),l=S.useRef(),u=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const h=d.map(f=>({id:f.target.getAttribute("data-id"),nodeElement:f.target,forceUpdate:!0}));o(h)});return l.current=c,c},[]);return S.useEffect(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),N.createElement("div",{className:"react-flow__nodes",style:i3},a.map(c=>{var P,T,R;let d=c.type||"default";r.nodeTypes[d]||(s==null||s("003",jc.error003(d)),d="default");const h=r.nodeTypes[d]||r.nodeTypes.default,f=!!(c.draggable||e&&typeof c.draggable>"u"),p=!!(c.selectable||i&&typeof c.selectable>"u"),g=!!(c.connectable||t&&typeof c.connectable>"u"),C=!!(c.focusable||n&&typeof c.focusable>"u"),m=r.nodeExtent?Y2(c.positionAbsolute,r.nodeExtent):c.positionAbsolute,y=(m==null?void 0:m.x)??0,w=(m==null?void 0:m.y)??0,E=mvt({x:y,y:w,width:c.width??0,height:c.height??0,origin:r.nodeOrigin});return N.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||ht.Bottom,targetPosition:c.targetPosition||ht.Top,hidden:c.hidden,xPos:y,yPos:w,xPosOrigin:E.x,yPosOrigin:E.y,selectNodesOnDrag:r.selectNodesOnDrag,onClick:r.onNodeClick,onMouseEnter:r.onNodeMouseEnter,onMouseMove:r.onNodeMouseMove,onMouseLeave:r.onNodeMouseLeave,onContextMenu:r.onNodeContextMenu,onDoubleClick:r.onNodeDoubleClick,selected:!!c.selected,isDraggable:f,isSelectable:p,isConnectable:g,isFocusable:C,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((P=c[Rr])==null?void 0:P.z)??0,isParent:!!((T=c[Rr])!=null&&T.isParent),noDragClassName:r.noDragClassName,noPanClassName:r.noPanClassName,initialized:!!c.width&&!!c.height,rfId:r.rfId,disableKeyboardA11y:r.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((R=c[Rr])!=null&&R.handleBounds)})}))};KCe.displayName="NodeRenderer";var yvt=S.memo(KCe);const Cvt=(r,e,t)=>t===ht.Left?r-e:t===ht.Right?r+e:r,wvt=(r,e,t)=>t===ht.Top?r-e:t===ht.Bottom?r+e:r,vJ="react-flow__edgeupdater",yJ=({position:r,centerX:e,centerY:t,radius:n=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>N.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:No([vJ,`${vJ}-${a}`]),cx:Cvt(e,n,r),cy:wvt(t,n,r),r:n,stroke:"transparent",fill:"transparent"}),Svt=()=>!0;var im=r=>{const e=({id:t,className:n,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,style:C,source:m,target:y,sourceX:w,sourceY:E,targetX:P,targetY:T,sourcePosition:R,targetPosition:_,elementsSelectable:b,hidden:D,sourceHandleId:M,targetHandleId:G,onContextMenu:I,onMouseEnter:L,onMouseMove:B,onMouseLeave:j,reconnectRadius:z,onReconnect:W,onReconnectStart:H,onReconnectEnd:Y,markerEnd:Q,markerStart:J,rfId:oe,ariaLabel:re,isFocusable:ue,isReconnectable:Ce,pathOptions:Re,interactionWidth:Be,disableKeyboardA11y:Ge})=>{const Ie=S.useRef(null),[qe,$e]=S.useState(!1),[Tt,Dt]=S.useState(!1),pt=Si(),bn=S.useMemo(()=>`url('#${wH(J,oe)}')`,[J,oe]),Ze=S.useMemo(()=>`url('#${wH(Q,oe)}')`,[Q,oe]);if(D)return null;const xe=kt=>{var At;const{edges:Qt,addSelectedEdges:mn,unselectNodesAndEdges:or,multiSelectionActive:Xn}=pt.getState(),Mt=Qt.find(Lt=>Lt.id===t);Mt&&(b&&(pt.setState({nodesSelectionActive:!1}),Mt.selected&&Xn?(or({nodes:[],edges:[Mt]}),(At=Ie.current)==null||At.blur()):mn([t])),s&&s(kt,Mt))},pn=cw(t,pt.getState,a),Ot=cw(t,pt.getState,I),qr=cw(t,pt.getState,L),Bn=cw(t,pt.getState,B),Vt=cw(t,pt.getState,j),Se=(kt,Qt)=>{if(kt.button!==0)return;const{edges:mn,isValidConnection:or}=pt.getState(),Xn=Qt?y:m,Mt=(Qt?G:M)||null,At=Qt?"target":"source",Lt=or||Svt,gt=Qt,sn=mn.find(Wi=>Wi.id===t);Dt(!0),H==null||H(kt,sn,At);const Xt=Wi=>{Dt(!1),Y==null||Y(Wi,sn,At)};OCe({event:kt,handleId:Mt,nodeId:Xn,onConnect:Wi=>W==null?void 0:W(sn,Wi),isTarget:gt,getState:pt.getState,setState:pt.setState,isValidConnection:Lt,edgeUpdaterType:At,onReconnectEnd:Xt})},Fe=kt=>Se(kt,!0),Je=kt=>Se(kt,!1),Ue=()=>$e(!0),vt=()=>$e(!1),Cn=!b&&!s,mt=kt=>{var Qt;if(!Ge&&mCe.includes(kt.key)&&b){const{unselectNodesAndEdges:mn,addSelectedEdges:or,edges:Xn}=pt.getState();kt.key==="Escape"?((Qt=Ie.current)==null||Qt.blur(),mn({edges:[Xn.find(At=>At.id===t)]})):or([t])}};return N.createElement("g",{className:No(["react-flow__edge",`react-flow__edge-${i}`,n,{selected:l,animated:u,inactive:Cn,updating:qe}]),onClick:xe,onDoubleClick:pn,onContextMenu:Ot,onMouseEnter:qr,onMouseMove:Bn,onMouseLeave:Vt,onKeyDown:ue?mt:void 0,tabIndex:ue?0:void 0,role:ue?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":re===null?void 0:re||`Edge from ${m} to ${y}`,"aria-describedby":ue?`${GCe}-${oe}`:void 0,ref:Ie},!Tt&&N.createElement(r,{id:t,source:m,target:y,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:g,data:o,style:C,sourceX:w,sourceY:E,targetX:P,targetY:T,sourcePosition:R,targetPosition:_,sourceHandleId:M,targetHandleId:G,markerStart:bn,markerEnd:Ze,pathOptions:Re,interactionWidth:Be}),Ce&&N.createElement(N.Fragment,null,(Ce==="source"||Ce===!0)&&N.createElement(yJ,{position:R,centerX:w,centerY:E,radius:z,onMouseDown:Fe,onMouseEnter:Ue,onMouseOut:vt,type:"source"}),(Ce==="target"||Ce===!0)&&N.createElement(yJ,{position:_,centerX:P,centerY:T,radius:z,onMouseDown:Je,onMouseEnter:Ue,onMouseOut:vt,type:"target"})))};return e.displayName="EdgeWrapper",S.memo(e)};function Evt(r){const e={default:im(r.default||cI),straight:im(r.bezier||J2),step:im(r.step||X2),smoothstep:im(r.step||bL),simplebezier:im(r.simplebezier||Q2)},t={},n=Object.keys(r).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=im(r[o]||cI),i),t);return{...e,...n}}function CJ(r,e,t=null){const n=((t==null?void 0:t.x)||0)+e.x,i=((t==null?void 0:t.y)||0)+e.y,o=(t==null?void 0:t.width)||e.width,s=(t==null?void 0:t.height)||e.height;switch(r){case ht.Top:return{x:n+o/2,y:i};case ht.Right:return{x:n+o,y:i+s/2};case ht.Bottom:return{x:n+o/2,y:i+s};case ht.Left:return{x:n,y:i+s/2}}}function wJ(r,e){return r?r.length===1||!e?r[0]:e&&r.find(t=>t.id===e)||null:null}const _vt=(r,e,t,n,i,o)=>{const s=CJ(t,r,e),a=CJ(o,n,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function Rvt({sourcePos:r,targetPos:e,sourceWidth:t,sourceHeight:n,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x+t,e.x+i),y2:Math.max(r.y+n,e.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=q2({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*h)>0}function SJ(r){var n,i,o,s,a;const e=((n=r==null?void 0:r[Rr])==null?void 0:n.handleBounds)||null,t=e&&(r==null?void 0:r.width)&&(r==null?void 0:r.height)&&typeof((i=r==null?void 0:r.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=r==null?void 0:r.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=r==null?void 0:r.positionAbsolute)==null?void 0:s.x)||0,y:((a=r==null?void 0:r.positionAbsolute)==null?void 0:a.y)||0,width:(r==null?void 0:r.width)||0,height:(r==null?void 0:r.height)||0},e,!!t]}const bvt=[{level:0,isMaxLevel:!0,edges:[]}];function Tvt(r,e,t=!1){let n=-1;const i=r.reduce((s,a)=>{var c,d;const l=Ra(a.zIndex);let u=l?a.zIndex:0;if(t){const h=e.get(a.target),f=e.get(a.source),p=a.selected||(h==null?void 0:h.selected)||(f==null?void 0:f.selected),g=Math.max(((c=f==null?void 0:f[Rr])==null?void 0:c.z)||0,((d=h==null?void 0:h[Rr])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(p?g:0)}return s[u]?s[u].push(a):s[u]=[a],n=u>n?u:n,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===n}});return o.length===0?bvt:o}function Pvt(r,e,t){const n=Cr(S.useCallback(i=>r?i.edges.filter(o=>{const s=e.get(o.source),a=e.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&Rvt({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[r,e]));return Tvt(n,e,t)}const Ovt=({color:r="none",strokeWidth:e=1})=>N.createElement("polyline",{style:{stroke:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Dvt=({color:r="none",strokeWidth:e=1})=>N.createElement("polyline",{style:{stroke:r,fill:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),EJ={[uI.Arrow]:Ovt,[uI.ArrowClosed]:Dvt};function Avt(r){const e=Si();return S.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(EJ,r)?EJ[r]:((o=(i=e.getState()).onError)==null||o.call(i,"009",jc.error009(r)),null)},[r])}const xvt=({id:r,type:e,color:t,width:n=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Avt(e);return l?N.createElement("marker",{className:"react-flow__arrowhead",id:r,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},N.createElement(l,{color:t,strokeWidth:s})):null},Ivt=({defaultColor:r,rfId:e})=>t=>{const n=[];return t.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=wH(s,e);n.includes(a)||(i.push({id:a,color:s.color||r,...s}),n.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},YCe=({defaultColor:r,rfId:e})=>{const t=Cr(S.useCallback(Ivt({defaultColor:r,rfId:e}),[r,e]),(n,i)=>!(n.length!==i.length||n.some((o,s)=>o.id!==i[s].id)));return N.createElement("defs",null,t.map(n=>N.createElement(xvt,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};YCe.displayName="MarkerDefinitions";var Fvt=S.memo(YCe);const Mvt=r=>({nodesConnectable:r.nodesConnectable,edgesFocusable:r.edgesFocusable,edgesUpdatable:r.edgesUpdatable,elementsSelectable:r.elementsSelectable,width:r.width,height:r.height,connectionMode:r.connectionMode,nodeInternals:r.nodeInternals,onError:r.onError}),qCe=({defaultMarkerColor:r,onlyRenderVisibleElements:e,elevateEdgesOnSelect:t,rfId:n,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:f,onReconnectEnd:p,reconnectRadius:g,children:C,disableKeyboardA11y:m})=>{const{edgesFocusable:y,edgesUpdatable:w,elementsSelectable:E,width:P,height:T,connectionMode:R,nodeInternals:_,onError:b}=Cr(Mvt,mo),D=Pvt(e,_,t);return P?N.createElement(N.Fragment,null,D.map(({level:M,edges:G,isMaxLevel:I})=>N.createElement("svg",{key:M,style:{zIndex:M},width:P,height:T,className:"react-flow__edges react-flow__container"},I&&N.createElement(Fvt,{defaultColor:r,rfId:n}),N.createElement("g",null,G.map(L=>{const[B,j,z]=SJ(_.get(L.source)),[W,H,Y]=SJ(_.get(L.target));if(!z||!Y)return null;let Q=L.type||"default";i[Q]||(b==null||b("011",jc.error011(Q)),Q="default");const J=i[Q]||i.default,oe=R===rg.Strict?H.target:(H.target??[]).concat(H.source??[]),re=wJ(j.source,L.sourceHandle),ue=wJ(oe,L.targetHandle),Ce=(re==null?void 0:re.position)||ht.Bottom,Re=(ue==null?void 0:ue.position)||ht.Top,Be=!!(L.focusable||y&&typeof L.focusable>"u"),Ge=L.reconnectable||L.updatable,Ie=typeof h<"u"&&(Ge||w&&typeof Ge>"u");if(!re||!ue)return b==null||b("008",jc.error008(re,L)),null;const{sourceX:qe,sourceY:$e,targetX:Tt,targetY:Dt}=_vt(B,re,Ce,W,ue,Re);return N.createElement(J,{key:L.id,id:L.id,className:No([L.className,o]),type:Q,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:qe,sourceY:$e,targetX:Tt,targetY:Dt,sourcePosition:Ce,targetPosition:Re,elementsSelectable:E,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:f,onReconnectEnd:p,reconnectRadius:g,rfId:n,ariaLabel:L.ariaLabel,isFocusable:Be,isReconnectable:Ie,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:m})})))),C):null};qCe.displayName="EdgeRenderer";var Lvt=S.memo(qCe);const Nvt=r=>`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`;function Gvt({children:r}){const e=Cr(Nvt);return N.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},r)}function Vvt(r){const e=r3(),t=S.useRef(!1);S.useEffect(()=>{!t.current&&e.viewportInitialized&&r&&(setTimeout(()=>r(e),1),t.current=!0)},[r,e.viewportInitialized])}const kvt={[ht.Left]:ht.Right,[ht.Right]:ht.Left,[ht.Top]:ht.Bottom,[ht.Bottom]:ht.Top},QCe=({nodeId:r,handleType:e,style:t,type:n=Xd.Bezier,CustomComponent:i,connectionStatus:o})=>{var T,R,_;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=Cr(S.useCallback(b=>({fromNode:b.nodeInternals.get(r),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[r]),mo),d=(T=s==null?void 0:s[Rr])==null?void 0:T.handleBounds;let h=d==null?void 0:d[e];if(c===rg.Loose&&(h=h||(d==null?void 0:d[e==="source"?"target":"source"])),!s||!h)return null;const f=a?h.find(b=>b.id===a):h[0],p=f?f.x+f.width/2:(s.width??0)/2,g=f?f.y+f.height/2:s.height??0,C=(((R=s.positionAbsolute)==null?void 0:R.x)??0)+p,m=(((_=s.positionAbsolute)==null?void 0:_.y)??0)+g,y=f==null?void 0:f.position,w=y?kvt[y]:null;if(!y||!w)return null;if(i)return N.createElement(i,{connectionLineType:n,connectionLineStyle:t,fromNode:s,fromHandle:f,fromX:C,fromY:m,toX:l,toY:u,fromPosition:y,toPosition:w,connectionStatus:o});let E="";const P={sourceX:C,sourceY:m,sourcePosition:y,targetX:l,targetY:u,targetPosition:w};return n===Xd.Bezier?[E]=SCe(P):n===Xd.Step?[E]=CH({...P,borderRadius:0}):n===Xd.SmoothStep?[E]=CH(P):n===Xd.SimpleBezier?[E]=wCe(P):E=`M${C},${m} ${l},${u}`,N.createElement("path",{d:E,fill:"none",className:"react-flow__connection-path",style:t})};QCe.displayName="ConnectionLine";const Hvt=r=>({nodeId:r.connectionNodeId,handleType:r.connectionHandleType,nodesConnectable:r.nodesConnectable,connectionStatus:r.connectionStatus,width:r.width,height:r.height});function $vt({containerStyle:r,style:e,type:t,component:n}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=Cr(Hvt,mo);return!(i&&o&&a&&s)?null:N.createElement("svg",{style:r,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},N.createElement("g",{className:No(["react-flow__connection",u])},N.createElement(QCe,{nodeId:i,handleType:o,style:e,type:t,CustomComponent:n,connectionStatus:u})))}function _J(r,e){return S.useRef(null),Si(),S.useMemo(()=>e(r),[r])}const XCe=({nodeTypes:r,edgeTypes:e,onMove:t,onMoveStart:n,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:f,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:C,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:w,connectionLineContainerStyle:E,selectionKeyCode:P,selectionOnDrag:T,selectionMode:R,multiSelectionKeyCode:_,panActivationKeyCode:b,zoomActivationKeyCode:D,deleteKeyCode:M,onlyRenderVisibleElements:G,elementsSelectable:I,selectNodesOnDrag:L,defaultViewport:B,translateExtent:j,minZoom:z,maxZoom:W,preventScrolling:H,defaultMarkerColor:Y,zoomOnScroll:Q,zoomOnPinch:J,panOnScroll:oe,panOnScrollSpeed:re,panOnScrollMode:ue,zoomOnDoubleClick:Ce,panOnDrag:Re,onPaneClick:Be,onPaneMouseEnter:Ge,onPaneMouseMove:Ie,onPaneMouseLeave:qe,onPaneScroll:$e,onPaneContextMenu:Tt,onEdgeContextMenu:Dt,onEdgeMouseEnter:pt,onEdgeMouseMove:bn,onEdgeMouseLeave:Ze,onReconnect:xe,onReconnectStart:pn,onReconnectEnd:Ot,reconnectRadius:qr,noDragClassName:Bn,noWheelClassName:Vt,noPanClassName:Se,elevateEdgesOnSelect:Fe,disableKeyboardA11y:Je,nodeOrigin:Ue,nodeExtent:vt,rfId:Cn})=>{const mt=_J(r,gvt),kt=_J(e,Evt);return Vvt(o),N.createElement(fvt,{onPaneClick:Be,onPaneMouseEnter:Ge,onPaneMouseMove:Ie,onPaneMouseLeave:qe,onPaneContextMenu:Tt,onPaneScroll:$e,deleteKeyCode:M,selectionKeyCode:P,selectionOnDrag:T,selectionMode:R,onSelectionStart:g,onSelectionEnd:C,multiSelectionKeyCode:_,panActivationKeyCode:b,zoomActivationKeyCode:D,elementsSelectable:I,onMove:t,onMoveStart:n,onMoveEnd:i,zoomOnScroll:Q,zoomOnPinch:J,zoomOnDoubleClick:Ce,panOnScroll:oe,panOnScrollSpeed:re,panOnScrollMode:ue,panOnDrag:Re,defaultViewport:B,translateExtent:j,minZoom:z,maxZoom:W,onSelectionContextMenu:p,preventScrolling:H,noDragClassName:Bn,noWheelClassName:Vt,noPanClassName:Se,disableKeyboardA11y:Je},N.createElement(Gvt,null,N.createElement(Lvt,{edgeTypes:kt,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:G,onEdgeContextMenu:Dt,onEdgeMouseEnter:pt,onEdgeMouseMove:bn,onEdgeMouseLeave:Ze,onReconnect:xe,onReconnectStart:pn,onReconnectEnd:Ot,reconnectRadius:qr,defaultMarkerColor:Y,noPanClassName:Se,elevateEdgesOnSelect:!!Fe,disableKeyboardA11y:Je,rfId:Cn},N.createElement($vt,{style:y,type:m,component:w,containerStyle:E})),N.createElement("div",{className:"react-flow__edgelabel-renderer"}),N.createElement(yvt,{nodeTypes:mt,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:f,selectNodesOnDrag:L,onlyRenderVisibleElements:G,noPanClassName:Se,noDragClassName:Bn,disableKeyboardA11y:Je,nodeOrigin:Ue,nodeExtent:vt,rfId:Cn})))};XCe.displayName="GraphView";var Bvt=S.memo(XCe);const RH=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xd={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:RH,nodeExtent:RH,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:rg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:gmt,isValidConnection:void 0},jvt=()=>Oht((r,e)=>({...xd,setNodes:t=>{const{nodeInternals:n,nodeOrigin:i,elevateNodesOnSelect:o}=e();r({nodeInternals:VG(t,n,i,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:t=>{const{defaultEdgeOptions:n={}}=e();r({edges:t.map(i=>({...n,...i}))})},setDefaultNodesAndEdges:(t,n)=>{const i=typeof t<"u",o=typeof n<"u",s=i?VG(t,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;r({nodeInternals:s,edges:o?n:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:t=>{const{onNodesChange:n,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=e(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=t.reduce((g,C)=>{const m=i.get(C.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[Rr]:{...m[Rr],handleBounds:void 0}});else if(m){const y=K2(C.nodeElement);!!(y.width&&y.height&&(m.width!==y.width||m.height!==y.height||C.forceUpdate))&&(i.set(m.id,{...m,[Rr]:{...m[Rr],handleBounds:{source:mJ(".source",C.nodeElement,h,u),target:mJ(".target",C.nodeElement,h,u)}},...y}),g.push({id:m.id,type:"dimensions",dimensions:y}))}return g},[]);kCe(i,u);const p=s||o&&!s&&HCe(e,{initial:!0,...a});r({nodeInternals:new Map(i),fitViewOnInitDone:p}),(f==null?void 0:f.length)>0&&(n==null||n(f))},updateNodePositions:(t,n=!0,i=!1)=>{const{triggerNodeChanges:o}=e(),s=t.map(a=>{const l={id:a.id,type:"position",dragging:i};return n&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:t=>{const{onNodesChange:n,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=e();if(t!=null&&t.length){if(o){const u=ivt(t,a()),c=VG(u,i,s,l);r({nodeInternals:c})}n==null||n(t)}},addSelectedNodes:t=>{const{multiSelectionActive:n,edges:i,getNodes:o}=e();let s,a=null;n?s=t.map(l=>Bd(l,!0)):(s=Vm(o(),t),a=Vm(i,[])),LT({changedNodes:s,changedEdges:a,get:e,set:r})},addSelectedEdges:t=>{const{multiSelectionActive:n,edges:i,getNodes:o}=e();let s,a=null;n?s=t.map(l=>Bd(l,!0)):(s=Vm(i,t),a=Vm(o(),[])),LT({changedNodes:a,changedEdges:s,get:e,set:r})},unselectNodesAndEdges:({nodes:t,edges:n}={})=>{const{edges:i,getNodes:o}=e(),s=t||o(),a=n||i,l=s.map(c=>(c.selected=!1,Bd(c.id,!1))),u=a.map(c=>Bd(c.id,!1));LT({changedNodes:l,changedEdges:u,get:e,set:r})},setMinZoom:t=>{const{d3Zoom:n,maxZoom:i}=e();n==null||n.scaleExtent([t,i]),r({minZoom:t})},setMaxZoom:t=>{const{d3Zoom:n,minZoom:i}=e();n==null||n.scaleExtent([i,t]),r({maxZoom:t})},setTranslateExtent:t=>{var n;(n=e().d3Zoom)==null||n.translateExtent(t),r({translateExtent:t})},resetSelectedElements:()=>{const{edges:t,getNodes:n}=e(),o=n().filter(a=>a.selected).map(a=>Bd(a.id,!1)),s=t.filter(a=>a.selected).map(a=>Bd(a.id,!1));LT({changedNodes:o,changedEdges:s,get:e,set:r})},setNodeExtent:t=>{const{nodeInternals:n}=e();n.forEach(i=>{i.positionAbsolute=Y2(i.position,t)}),r({nodeExtent:t,nodeInternals:new Map(n)})},panBy:t=>{const{transform:n,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=e();if(!s||!a||!t.x&&!t.y)return!1;const u=Ph.translate(n[0]+t.x,n[1]+t.y).scale(n[2]),c=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>r({connectionNodeId:xd.connectionNodeId,connectionHandleId:xd.connectionHandleId,connectionHandleType:xd.connectionHandleType,connectionStatus:xd.connectionStatus,connectionStartHandle:xd.connectionStartHandle,connectionEndHandle:xd.connectionEndHandle}),reset:()=>r({...xd})}),Object.is),JCe=({children:r})=>{const e=S.useRef(null);return e.current||(e.current=jvt()),N.createElement(amt,{value:e.current},r)};JCe.displayName="ReactFlowProvider";const ZCe=({children:r})=>S.useContext(RL)?N.createElement(N.Fragment,null,r):N.createElement(JCe,null,r);ZCe.displayName="ReactFlowWrapper";const Wvt={input:ICe,default:EH,output:MCe,group:n3},Uvt={default:cI,straight:J2,step:X2,smoothstep:bL,simplebezier:Q2},zvt=[0,0],Kvt=[15,15],Yvt={x:0,y:0,zoom:1},qvt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Qvt=S.forwardRef(({nodes:r,edges:e,defaultNodes:t,defaultEdges:n,className:i,nodeTypes:o=Wvt,edgeTypes:s=Uvt,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onConnect:f,onConnectStart:p,onConnectEnd:g,onClickConnectStart:C,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:E,onNodeContextMenu:P,onNodeDoubleClick:T,onNodeDragStart:R,onNodeDrag:_,onNodeDragStop:b,onNodesDelete:D,onEdgesDelete:M,onSelectionChange:G,onSelectionDragStart:I,onSelectionDrag:L,onSelectionDragStop:B,onSelectionContextMenu:j,onSelectionStart:z,onSelectionEnd:W,connectionMode:H=rg.Strict,connectionLineType:Y=Xd.Bezier,connectionLineStyle:Q,connectionLineComponent:J,connectionLineContainerStyle:oe,deleteKeyCode:re="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:Ce=!1,selectionMode:Re=VE.Full,panActivationKeyCode:Be="Space",multiSelectionKeyCode:Ge=lI()?"Meta":"Control",zoomActivationKeyCode:Ie=lI()?"Meta":"Control",snapToGrid:qe=!1,snapGrid:$e=Kvt,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Dt=!0,nodesDraggable:pt,nodesConnectable:bn,nodesFocusable:Ze,nodeOrigin:xe=zvt,edgesFocusable:pn,edgesUpdatable:Ot,elementsSelectable:qr,defaultViewport:Bn=Yvt,minZoom:Vt=.5,maxZoom:Se=2,translateExtent:Fe=RH,preventScrolling:Je=!0,nodeExtent:Ue,defaultMarkerColor:vt="#b1b1b7",zoomOnScroll:Cn=!0,zoomOnPinch:mt=!0,panOnScroll:kt=!1,panOnScrollSpeed:Qt=.5,panOnScrollMode:mn=sp.Free,zoomOnDoubleClick:or=!0,panOnDrag:Xn=!0,onPaneClick:Mt,onPaneMouseEnter:At,onPaneMouseMove:Lt,onPaneMouseLeave:gt,onPaneScroll:sn,onPaneContextMenu:Xt,children:Dn,onEdgeContextMenu:Wi,onEdgeDoubleClick:Qr,onEdgeMouseEnter:Qu,onEdgeMouseMove:Ui,onEdgeMouseLeave:Mn,onEdgeUpdate:aa,onEdgeUpdateStart:la,onEdgeUpdateEnd:K,onReconnect:ee,onReconnectStart:ie,onReconnectEnd:me,reconnectRadius:Le=10,edgeUpdaterRadius:tt=10,onNodesChange:at,onEdgesChange:We,noDragClassName:ze="nodrag",noWheelClassName:fe="nowheel",noPanClassName:Pe="nopan",fitView:ot=!1,fitViewOptions:ct,connectOnClick:Ln=!0,attributionPosition:wn,proOptions:tn,defaultEdgeOptions:Nn,elevateNodesOnSelect:ua=!0,elevateEdgesOnSelect:Nl=!1,disableKeyboardA11y:vo=!1,autoPanOnConnect:Go=!0,autoPanOnNodeDrag:Gl=!0,connectionRadius:Vl=20,isValidConnection:vs,onError:ca,style:Vo,id:jt,nodeDragThreshold:jn,...Wa},kl)=>{const kn=jt||"1";return N.createElement("div",{...Wa,style:{...Vo,...qvt},ref:kl,className:No(["react-flow",i]),"data-testid":"rf__wrapper",id:jt},N.createElement(ZCe,null,N.createElement(Bvt,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:w,onNodeMouseLeave:E,onNodeContextMenu:P,onNodeDoubleClick:T,nodeTypes:o,edgeTypes:s,connectionLineType:Y,connectionLineStyle:Q,connectionLineComponent:J,connectionLineContainerStyle:oe,selectionKeyCode:ue,selectionOnDrag:Ce,selectionMode:Re,deleteKeyCode:re,multiSelectionKeyCode:Ge,panActivationKeyCode:Be,zoomActivationKeyCode:Ie,onlyRenderVisibleElements:Tt,selectNodesOnDrag:Dt,defaultViewport:Bn,translateExtent:Fe,minZoom:Vt,maxZoom:Se,preventScrolling:Je,zoomOnScroll:Cn,zoomOnPinch:mt,zoomOnDoubleClick:or,panOnScroll:kt,panOnScrollSpeed:Qt,panOnScrollMode:mn,panOnDrag:Xn,onPaneClick:Mt,onPaneMouseEnter:At,onPaneMouseMove:Lt,onPaneMouseLeave:gt,onPaneScroll:sn,onPaneContextMenu:Xt,onSelectionContextMenu:j,onSelectionStart:z,onSelectionEnd:W,onEdgeContextMenu:Wi,onEdgeDoubleClick:Qr,onEdgeMouseEnter:Qu,onEdgeMouseMove:Ui,onEdgeMouseLeave:Mn,onReconnect:ee??aa,onReconnectStart:ie??la,onReconnectEnd:me??K,reconnectRadius:Le??tt,defaultMarkerColor:vt,noDragClassName:ze,noWheelClassName:fe,noPanClassName:Pe,elevateEdgesOnSelect:Nl,rfId:kn,disableKeyboardA11y:vo,nodeOrigin:xe,nodeExtent:Ue}),N.createElement(Vmt,{nodes:r,edges:e,defaultNodes:t,defaultEdges:n,onConnect:f,onConnectStart:p,onConnectEnd:g,onClickConnectStart:C,onClickConnectEnd:m,nodesDraggable:pt,nodesConnectable:bn,nodesFocusable:Ze,edgesFocusable:pn,edgesUpdatable:Ot,elementsSelectable:qr,elevateNodesOnSelect:ua,minZoom:Vt,maxZoom:Se,nodeExtent:Ue,onNodesChange:at,onEdgesChange:We,snapToGrid:qe,snapGrid:$e,connectionMode:H,translateExtent:Fe,connectOnClick:Ln,defaultEdgeOptions:Nn,fitView:ot,fitViewOptions:ct,onNodesDelete:D,onEdgesDelete:M,onNodeDragStart:R,onNodeDrag:_,onNodeDragStop:b,onSelectionDrag:L,onSelectionDragStart:I,onSelectionDragStop:B,noPanClassName:Pe,nodeOrigin:xe,rfId:kn,autoPanOnConnect:Go,autoPanOnNodeDrag:Gl,onError:ca,connectionRadius:Vl,isValidConnection:vs,nodeDragThreshold:jn}),N.createElement(Nmt,{onSelectionChange:G}),Dn,N.createElement(umt,{proOptions:tn,position:wn}),N.createElement(jmt,{rfId:kn,disableKeyboardA11y:vo})))});Qvt.displayName="ReactFlow";function Xvt(){return N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},N.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Jvt(){return N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},N.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Zvt(){return N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},N.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function eyt(){return N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},N.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function tyt(){return N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},N.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Hw=({children:r,className:e,...t})=>N.createElement("button",{type:"button",className:No(["react-flow__controls-button",e]),...t},r);Hw.displayName="ControlButton";const nyt=r=>({isInteractive:r.nodesDraggable||r.nodesConnectable||r.elementsSelectable,minZoomReached:r.transform[2]<=r.minZoom,maxZoomReached:r.transform[2]>=r.maxZoom}),ewe=({style:r,showZoom:e=!0,showFitView:t=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const h=Si(),[f,p]=S.useState(!1),{isInteractive:g,minZoomReached:C,maxZoomReached:m}=Cr(nyt,mo),{zoomIn:y,zoomOut:w,fitView:E}=r3();if(S.useEffect(()=>{p(!0)},[]),!f)return null;const P=()=>{y(),o==null||o()},T=()=>{w(),s==null||s()},R=()=>{E(i),a==null||a()},_=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return N.createElement(fCe,{className:No(["react-flow__controls",u]),position:d,style:r,"data-testid":"rf__controls"},e&&N.createElement(N.Fragment,null,N.createElement(Hw,{onClick:P,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},N.createElement(Xvt,null)),N.createElement(Hw,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:C},N.createElement(Jvt,null))),t&&N.createElement(Hw,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},N.createElement(Zvt,null)),n&&N.createElement(Hw,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},g?N.createElement(tyt,null):N.createElement(eyt,null)),c)};ewe.displayName="Controls";var T_t=S.memo(ewe),ml;(function(r){r.Lines="lines",r.Dots="dots",r.Cross="cross"})(ml||(ml={}));function ryt({color:r,dimensions:e,lineWidth:t}){return N.createElement("path",{stroke:r,strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function iyt({color:r,radius:e}){return N.createElement("circle",{cx:e,cy:e,r:e,fill:r})}const oyt={[ml.Dots]:"#91919a",[ml.Lines]:"#eee",[ml.Cross]:"#e2e2e2"},syt={[ml.Dots]:1,[ml.Lines]:1,[ml.Cross]:6},ayt=r=>({transform:r.transform,patternId:`pattern-${r.rfId}`});function twe({id:r,variant:e=ml.Dots,gap:t=20,size:n,lineWidth:i=1,offset:o=2,color:s,style:a,className:l}){const u=S.useRef(null),{transform:c,patternId:d}=Cr(ayt,mo),h=s||oyt[e],f=n||syt[e],p=e===ml.Dots,g=e===ml.Cross,C=Array.isArray(t)?t:[t,t],m=[C[0]*c[2]||1,C[1]*c[2]||1],y=f*c[2],w=g?[y,y]:m,E=p?[y/o,y/o]:[w[0]/o,w[1]/o];return N.createElement("svg",{className:No(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},N.createElement("pattern",{id:d+r,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`},p?N.createElement(iyt,{color:h,radius:y/o}):N.createElement(ryt,{dimensions:w,color:h,lineWidth:i})),N.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+r})`}))}twe.displayName="Background";var P_t=S.memo(twe);export{$9e as $,nOe as A,fyt as B,gyt as C,j1 as D,_1e as E,Wyt as F,zd as G,aB as H,qyt as I,HHe as J,Kyt as K,XE as L,VCt as M,mne as N,Ayt as O,cie as P,Iyt as Q,N as R,MVe as S,xu as T,Fyt as U,Myt as V,Lyt as W,$yt as X,Hyt as Y,Byt as Z,jyt as _,Yyt as a,uI as a$,ACt as a0,Gyt as a1,hyt as a2,Xyt as a3,dyt as a4,ECt as a5,bHe as a6,RCt as a7,oCt as a8,Zie as a9,OCt as aA,PCt as aB,yCt as aC,pyt as aD,coe as aE,sse as aF,OPe as aG,mCt as aH,MCt as aI,oPe as aJ,Zyt as aK,J1e as aL,wke as aM,cCt as aN,hCt as aO,TCt as aP,tCt as aQ,uCt as aR,xbe as aS,Abe as aT,zc as aU,wCt as aV,dCt as aW,DCt as aX,zh as aY,b_t as aZ,lNe as a_,Qyt as aa,nCt as ab,xCt as ac,Ye as ad,l_t as ae,c_t as af,R_t as ag,C_t as ah,$Qe as ai,_yt as aj,fy as ak,fCt as al,aCt as am,KQe as an,uyt as ao,eF as ap,ICt as aq,Jyt as ar,iCt as as,bse as at,bCt as au,CCt as av,OVe as aw,yVe as ax,SCt as ay,sCt as az,uLe as b,Qvt as b0,P_t as b1,T_t as b2,dI as b3,ht as b4,myt as b5,JOe as b6,D$ as b7,vCt as b8,Cyt as b9,vyt as ba,_y as bb,Syt as bc,lDe as bd,yyt as be,J$e as bf,G3 as bg,Nyt as c,$2e as d,zyt as e,my as f,xyt as g,it as h,Wje as i,lyt as j,GCt as k,Xe as l,gCt as m,FCt as n,Uyt as o,rCt as p,lCt as q,S as r,Vyt as s,pCt as t,kyt as u,_Ct as v,NCt as w,Eyt as x,B0e as y,eCt as z};
//# sourceMappingURL=vendor.B_fBlNpi.js.map
