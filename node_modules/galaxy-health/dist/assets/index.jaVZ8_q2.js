import*as ne from"react";import x,{useState as Te,createContext as Yn,useContext as Ut,forwardRef as Ce,useRef as ve,useEffect as Fe,useLayoutEffect as xu,useCallback as at,useReducer as cO,Children as hl,isValidElement as uu,createElement as zt,cloneElement as eo,Fragment as dO,useMemo as Rn,useInsertionEffect as O6,useId as BN,useImperativeHandle as Lce,memo as ur}from"react";import*as Nce from"react-dom";import kc,{flushSync as D6,createPortal as Gce}from"react-dom";import{useLocation as A6,Link as x6,useNavigate as up,useSearchParams as Vce,useParams as Hce,createBrowserRouter as kce,Navigate as jN,Routes as $ce,Route as Kl,RouterProvider as Bce}from"react-router-dom";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I6(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function jce(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var F6={exports:{}},hO={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wce=x,Uce=Symbol.for("react.element"),zce=Symbol.for("react.fragment"),Kce=Object.prototype.hasOwnProperty,Yce=Wce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qce={key:!0,ref:!0,__self:!0,__source:!0};function M6(r,e,t){var n,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)Kce.call(e,n)&&!qce.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Uce,type:r,key:o,ref:s,props:i,_owner:Yce.current}}hO.Fragment=zce;hO.jsx=M6;hO.jsxs=M6;F6.exports=hO;var b=F6.exports,nM={},p$=kc;nM.createRoot=p$.createRoot,nM.hydrateRoot=p$.hydrateRoot;var al=function(){return al=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},al.apply(this,arguments)};function HC(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Hg(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(r,e||[])).next())})}function kg(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(c){u=[6,c],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function f$(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function rM(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var w_="right-scroll-bar-position",S_="width-before-scroll-bar",Qce="with-scroll-bars-hidden",Xce="--removed-body-scroll-bar-size";function yx(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function Jce(r,e){var t=Te(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var i=t.value;i!==n&&(t.value=n,t.callback(n,i))}}}})[0];return t.callback=e,t.facade}var Zce=typeof window<"u"?ne.useLayoutEffect:ne.useEffect,g$=new WeakMap;function ede(r,e){var t=Jce(null,function(n){return r.forEach(function(i){return yx(i,n)})});return Zce(function(){var n=g$.get(t);if(n){var i=new Set(n),o=new Set(r),s=t.current;i.forEach(function(a){o.has(a)||yx(a,null)}),o.forEach(function(a){i.has(a)||yx(a,s)})}g$.set(t,r)},[r]),t}function tde(r){return r}function nde(r,e){e===void 0&&(e=tde);var t=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(o){var s=e(o,n);return t.push(s),function(){t=t.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(n=!0;t.length;){var s=t;t=[],s.forEach(o)}t={push:function(a){return o(a)},filter:function(){return t}}},assignMedium:function(o){n=!0;var s=[];if(t.length){var a=t;t=[],a.forEach(o),s=t}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),t}}}};return i}function rde(r){r===void 0&&(r={});var e=nde(null);return e.options=al({async:!0,ssr:!1},r),e}var L6=function(r){var e=r.sideCar,t=HC(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return ne.createElement(n,al({},t))};L6.isSideCarExport=!0;function ide(r,e){return r.useMedium(e),L6}var N6=rde(),Cx=function(){},pO=ne.forwardRef(function(r,e){var t=ne.useRef(null),n=ne.useState({onScrollCapture:Cx,onWheelCapture:Cx,onTouchMoveCapture:Cx}),i=n[0],o=n[1],s=r.forwardProps,a=r.children,l=r.className,u=r.removeScrollBar,c=r.enabled,d=r.shards,h=r.sideCar,p=r.noIsolation,f=r.inert,g=r.allowPinchZoom,v=r.as,y=v===void 0?"div":v,C=r.gapMode,w=HC(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,P=ede([t,e]),F=al(al({},w),i);return ne.createElement(ne.Fragment,null,c&&ne.createElement(S,{sideCar:N6,removeScrollBar:u,shards:d,noIsolation:p,inert:f,setCallbacks:o,allowPinchZoom:!!g,lockRef:t,gapMode:C}),s?ne.cloneElement(ne.Children.only(a),al(al({},F),{ref:P})):ne.createElement(y,al({},F,{className:l,ref:P}),a))});pO.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pO.classNames={fullWidth:S_,zeroRight:w_};var ode=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sde(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=ode();return e&&r.setAttribute("nonce",e),r}function ade(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function lde(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var ude=function(){var r=0,e=null;return{add:function(t){r==0&&(e=sde())&&(ade(e,t),lde(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cde=function(){var r=ude();return function(e,t){ne.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},G6=function(){var r=cde(),e=function(t){var n=t.styles,i=t.dynamic;return r(n,i),null};return e},dde={left:0,top:0,right:0,gap:0},wx=function(r){return parseInt(r||"",10)||0},hde=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],i=e[r==="padding"?"paddingRight":"marginRight"];return[wx(t),wx(n),wx(i)]},pde=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return dde;var e=hde(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},fde=G6(),Mf="data-scroll-locked",gde=function(r,e,t,n){var i=r.left,o=r.top,s=r.right,a=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(Qce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Mf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(w_,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(S_,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(w_," .").concat(w_,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(S_," .").concat(S_,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mf,`] {
    `).concat(Xce,": ").concat(a,`px;
  }
`)},m$=function(){var r=parseInt(document.body.getAttribute(Mf)||"0",10);return isFinite(r)?r:0},mde=function(){ne.useEffect(function(){return document.body.setAttribute(Mf,(m$()+1).toString()),function(){var r=m$()-1;r<=0?document.body.removeAttribute(Mf):document.body.setAttribute(Mf,r.toString())}},[])},vde=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,i=n===void 0?"margin":n;mde();var o=ne.useMemo(function(){return pde(i)},[i]);return ne.createElement(fde,{styles:gde(o,!e,i,t?"":"!important")})},iM=!1;if(typeof window<"u")try{var kS=Object.defineProperty({},"passive",{get:function(){return iM=!0,!0}});window.addEventListener("test",kS,kS),window.removeEventListener("test",kS,kS)}catch{iM=!1}var Up=iM?{passive:!1}:!1,yde=function(r){return r.tagName==="TEXTAREA"},V6=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!yde(r)&&t[e]==="visible")},Cde=function(r){return V6(r,"overflowY")},wde=function(r){return V6(r,"overflowX")},v$=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=H6(r,n);if(i){var o=k6(r,n),s=o[1],a=o[2];if(s>a)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},Sde=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},Ede=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},H6=function(r,e){return r==="v"?Cde(e):wde(e)},k6=function(r,e){return r==="v"?Sde(e):Ede(e)},_de=function(r,e){return r==="h"&&e==="rtl"?-1:1},bde=function(r,e,t,n,i){var o=_de(r,window.getComputedStyle(e).direction),s=o*n,a=t.target,l=e.contains(a),u=!1,c=s>0,d=0,h=0;do{var p=k6(r,a),f=p[0],g=p[1],v=p[2],y=g-v-o*f;(f||y)&&H6(r,a)&&(d+=y,h+=f),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&Math.abs(d)<1||!c&&Math.abs(h)<1)&&(u=!0),u},$S=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},y$=function(r){return[r.deltaX,r.deltaY]},C$=function(r){return r&&"current"in r?r.current:r},Rde=function(r,e){return r[0]===e[0]&&r[1]===e[1]},Tde=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},Pde=0,zp=[];function Ode(r){var e=ne.useRef([]),t=ne.useRef([0,0]),n=ne.useRef(),i=ne.useState(Pde++)[0],o=ne.useState(G6)[0],s=ne.useRef(r);ne.useEffect(function(){s.current=r},[r]),ne.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(i));var g=rM([r.lockRef.current],(r.shards||[]).map(C$),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[r.inert,r.lockRef.current,r.shards]);var a=ne.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var y=$S(g),C=t.current,w="deltaX"in g?g.deltaX:C[0]-y[0],S="deltaY"in g?g.deltaY:C[1]-y[1],P,F=g.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&_==="h"&&F.type==="range")return!1;var E=v$(_,F);if(!E)return!0;if(E?P=_:(P=_==="v"?"h":"v",E=v$(_,F)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=P),!P)return!0;var T=n.current||P;return bde(T,v,g,T==="h"?w:S)},[]),l=ne.useCallback(function(g){var v=g;if(!(!zp.length||zp[zp.length-1]!==o)){var y="deltaY"in v?y$(v):$S(v),C=e.current.filter(function(P){return P.name===v.type&&(P.target===v.target||v.target===P.shadowParent)&&Rde(P.delta,y)})[0];if(C&&C.should){v.cancelable&&v.preventDefault();return}if(!C){var w=(s.current.shards||[]).map(C$).filter(Boolean).filter(function(P){return P.contains(v.target)}),S=w.length>0?a(v,w[0]):!s.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=ne.useCallback(function(g,v,y,C){var w={name:g,delta:v,target:y,should:C,shadowParent:Dde(y)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),c=ne.useCallback(function(g){t.current=$S(g),n.current=void 0},[]),d=ne.useCallback(function(g){u(g.type,y$(g),g.target,a(g,r.lockRef.current))},[]),h=ne.useCallback(function(g){u(g.type,$S(g),g.target,a(g,r.lockRef.current))},[]);ne.useEffect(function(){return zp.push(o),r.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Up),document.addEventListener("touchmove",l,Up),document.addEventListener("touchstart",c,Up),function(){zp=zp.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Up),document.removeEventListener("touchmove",l,Up),document.removeEventListener("touchstart",c,Up)}},[]);var p=r.removeScrollBar,f=r.inert;return ne.createElement(ne.Fragment,null,f?ne.createElement(o,{styles:Tde(i)}):null,p?ne.createElement(vde,{gapMode:r.gapMode}):null)}function Dde(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const Ade=ide(N6,Ode);var $6=ne.forwardRef(function(r,e){return ne.createElement(pO,al({},r,{ref:e,sideCar:Ade}))});$6.classNames=pO.classNames;function pb(r,e){let t=r;for(;(t=t.parentElement)&&!t.matches(e););return t}function xde(r,e,t){for(let n=r-1;n>=0;n-=1)if(!e[n].disabled)return n;if(t){for(let n=e.length-1;n>-1;n-=1)if(!e[n].disabled)return n}return r}function Ide(r,e,t){for(let n=r+1;n<e.length;n+=1)if(!e[n].disabled)return n;if(t){for(let n=0;n<e.length;n+=1)if(!e[n].disabled)return n}return r}function Fde(r,e,t){return pb(r,t)===pb(e,t)}function B6({parentSelector:r,siblingSelector:e,onKeyDown:t,loop:n=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var l;t==null||t(a);const u=Array.from(((l=pb(a.currentTarget,r))==null?void 0:l.querySelectorAll(e))||[]).filter(g=>Fde(a.currentTarget,g,r)),c=u.findIndex(g=>a.currentTarget===g),d=Ide(c,u,n),h=xde(c,u,n),p=o==="rtl"?h:d,f=o==="rtl"?d:h;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[p].focus(),i&&u[p].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=u.length-1;!u[g].disabled&&u[g].focus();break}}}}function Mde(r,e,t){var n;return t?Array.from(((n=pb(t,e))==null?void 0:n.querySelectorAll(r))||[]).findIndex(i=>i===t):null}function cp(r){const e=Yn(null);return[({children:i,value:o})=>x.createElement(e.Provider,{value:o},i),()=>{const i=Ut(e);if(i===null)throw new Error(r);return i}]}function fO(r){return Array.isArray(r)?r:[r]}function w$(r,e){return t=>{if(typeof t!="string"||t.trim().length===0)throw new Error(e);return`${r}-${t}`}}const Lde=()=>{};function Nde(r,e={active:!0}){return typeof r!="function"||!e.active?e.onKeyDown||Lde:t=>{var n;t.key==="Escape"&&(r(t),(n=e.onTrigger)==null||n.call(e))}}function eu(r,e){return t=>{r==null||r(t),e==null||e(t)}}function Gde(){const[r,e]=Te(-1);return[r,{setHovered:e,resetHovered:()=>e(-1)}]}function Vde({data:r}){const e=[],t=[],n=r.reduce((i,o,s)=>(o.group?i[o.group]?i[o.group].push(s):i[o.group]=[s]:t.push(s),i),{});return Object.keys(n).forEach(i=>{e.push(...n[i].map(o=>r[o]))}),e.push(...t.map(i=>r[i])),e}function kC(r){return Array.isArray(r)||r===null?!1:typeof r=="object"?r.type!==x.Fragment:!1}function j6(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=j6(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function W6(){for(var r=0,e,t,n="";r<arguments.length;)(e=arguments[r++])&&(t=j6(e))&&(n&&(n+=" "),n+=t);return n}const Hde={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function kde(r){return()=>({fontFamily:r.fontFamily||"sans-serif"})}var $de=Object.defineProperty,S$=Object.getOwnPropertySymbols,Bde=Object.prototype.hasOwnProperty,jde=Object.prototype.propertyIsEnumerable,E$=(r,e,t)=>e in r?$de(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_$=(r,e)=>{for(var t in e||(e={}))Bde.call(e,t)&&E$(r,t,e[t]);if(S$)for(var t of S$(e))jde.call(e,t)&&E$(r,t,e[t]);return r};function Wde(r){return e=>({WebkitTapHighlightColor:"transparent",[e||"&:focus"]:_$({},r.focusRing==="always"||r.focusRing==="auto"?r.focusRingStyles.styles(r):r.focusRingStyles.resetStyles(r)),[e?e.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:_$({},r.focusRing==="auto"||r.focusRing==="never"?r.focusRingStyles.resetStyles(r):null)})}function $C(r){return e=>typeof r.primaryShade=="number"?r.primaryShade:r.primaryShade[e||r.colorScheme]}function WN(r){const e=$C(r);return(t,n,i=!0,o=!0)=>{if(typeof t=="string"&&t.includes(".")){const[a,l]=t.split("."),u=parseInt(l,10);if(a in r.colors&&u>=0&&u<10)return r.colors[a][typeof n=="number"&&!o?n:u]}const s=typeof n=="number"?n:e();return t in r.colors?r.colors[t][s]:i?r.colors[r.primaryColor][s]:t}}function U6(r){let e="";for(let t=1;t<r.length-1;t+=1)e+=`${r[t]} ${t/(r.length-1)*100}%, `;return`${r[0]} 0%, ${e}${r[r.length-1]} 100%`}function Ude(r,...e){return`linear-gradient(${r}deg, ${U6(e)})`}function zde(...r){return`radial-gradient(circle, ${U6(r)})`}function z6(r){const e=WN(r),t=$C(r);return n=>{const i={from:(n==null?void 0:n.from)||r.defaultGradient.from,to:(n==null?void 0:n.to)||r.defaultGradient.to,deg:(n==null?void 0:n.deg)||r.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${e(i.from,t(),!1)} 0%, ${e(i.to,t(),!1)} 100%)`}}function K6(r){return e=>{if(typeof e=="number")return`${e/16}${r}`;if(typeof e=="string"){const t=e.replace("px","");if(!Number.isNaN(Number(t)))return`${Number(t)/16}${r}`}return e}}const W=K6("rem"),us=K6("em");function be({size:r,sizes:e,units:t}){return r in e?e[r]:typeof r=="number"?t==="em"?us(r):W(r):r||e.md}function va(r){return typeof r=="number"?r:typeof r=="string"&&r.includes("rem")?Number(r.replace("rem",""))*16:typeof r=="string"&&r.includes("em")?Number(r.replace("em",""))*16:Number(r)}function Kde(r){return e=>`@media (min-width: ${us(va(be({size:e,sizes:r.breakpoints})))})`}function Yde(r){return e=>`@media (max-width: ${us(va(be({size:e,sizes:r.breakpoints}))-1)})`}function qde(r){return/^#?([0-9A-F]{3}){1,2}$/i.test(r)}function Qde(r){let e=r.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}const t=parseInt(e,16),n=t>>16&255,i=t>>8&255,o=t&255;return{r:n,g:i,b:o,a:1}}function Xde(r){const[e,t,n,i]=r.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:e,g:t,b:n,a:i||1}}function UN(r){return qde(r)?Qde(r):r.startsWith("rgb")?Xde(r):{r:0,g:0,b:0,a:1}}function df(r,e){if(typeof r!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(r.startsWith("var(--"))return r;const{r:t,g:n,b:i}=UN(r);return`rgba(${t}, ${n}, ${i}, ${e})`}function Jde(r=0){return{position:"absolute",top:W(r),right:W(r),left:W(r),bottom:W(r)}}function Zde(r,e){if(typeof r=="string"&&r.startsWith("var(--"))return r;const{r:t,g:n,b:i,a:o}=UN(r),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(t)}, ${a(n)}, ${a(i)}, ${o})`}function ehe(r,e){if(typeof r=="string"&&r.startsWith("var(--"))return r;const{r:t,g:n,b:i,a:o}=UN(r),s=a=>Math.round(a+(255-a)*e);return`rgba(${s(t)}, ${s(n)}, ${s(i)}, ${o})`}function the(r){return e=>{if(typeof e=="number")return W(e);const t=typeof r.defaultRadius=="number"?r.defaultRadius:r.radius[r.defaultRadius]||r.defaultRadius;return r.radius[e]||e||t}}function nhe(r,e){if(typeof r=="string"&&r.includes(".")){const[t,n]=r.split("."),i=parseInt(n,10);if(t in e.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:t,shade:i}}return{isSplittedColor:!1}}function rhe(r){const e=WN(r),t=$C(r),n=z6(r);return({variant:i,color:o,gradient:s,primaryFallback:a})=>{const l=nhe(o,r);switch(i){case"light":return{border:"transparent",background:df(e(o,r.colorScheme==="dark"?8:0,a,!1),r.colorScheme==="dark"?.2:1),color:o==="dark"?r.colorScheme==="dark"?r.colors.dark[0]:r.colors.dark[9]:e(o,r.colorScheme==="dark"?2:t("light")),hover:df(e(o,r.colorScheme==="dark"?7:1,a,!1),r.colorScheme==="dark"?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:o==="dark"?r.colorScheme==="dark"?r.colors.dark[0]:r.colors.dark[9]:e(o,r.colorScheme==="dark"?2:t("light")),hover:df(e(o,r.colorScheme==="dark"?8:0,a,!1),r.colorScheme==="dark"?.2:1)};case"outline":return{border:e(o,r.colorScheme==="dark"?5:t("light")),background:"transparent",color:e(o,r.colorScheme==="dark"?5:t("light")),hover:r.colorScheme==="dark"?df(e(o,5,a,!1),.05):df(e(o,0,a,!1),.35)};case"default":return{border:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4],background:r.colorScheme==="dark"?r.colors.dark[6]:r.white,color:r.colorScheme==="dark"?r.white:r.black,hover:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[0]};case"white":return{border:"transparent",background:r.white,color:e(o,t()),hover:null};case"transparent":return{border:"transparent",color:o==="dark"?r.colorScheme==="dark"?r.colors.dark[0]:r.colors.dark[9]:e(o,r.colorScheme==="dark"?2:t("light")),background:"transparent",hover:null};case"gradient":return{background:n(s),color:r.white,border:"transparent",hover:null};default:{const u=t(),c=l.isSplittedColor?l.shade:u,d=l.isSplittedColor?l.key:o;return{border:"transparent",background:e(d,c,a),color:r.white,hover:e(d,c===9?8:c+1)}}}}}function ihe(r){return e=>{const t=$C(r)(e);return r.colors[r.primaryColor][t]}}function ohe(r){return{"@media (hover: hover)":{"&:hover":r},"@media (hover: none)":{"&:active":r}}}function she(r){return()=>({userSelect:"none",color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]})}function ahe(r){return()=>r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]}const Mr={fontStyles:kde,themeColor:WN,focusStyles:Wde,linearGradient:Ude,radialGradient:zde,smallerThan:Yde,largerThan:Kde,rgba:df,cover:Jde,darken:Zde,lighten:ehe,radius:the,variant:rhe,primaryShade:$C,hover:ohe,gradient:z6,primaryColor:ihe,placeholderStyles:she,dimmed:ahe};var lhe=Object.defineProperty,uhe=Object.defineProperties,che=Object.getOwnPropertyDescriptors,b$=Object.getOwnPropertySymbols,dhe=Object.prototype.hasOwnProperty,hhe=Object.prototype.propertyIsEnumerable,R$=(r,e,t)=>e in r?lhe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,phe=(r,e)=>{for(var t in e||(e={}))dhe.call(e,t)&&R$(r,t,e[t]);if(b$)for(var t of b$(e))hhe.call(e,t)&&R$(r,t,e[t]);return r},fhe=(r,e)=>uhe(r,che(e));function Y6(r){return fhe(phe({},r),{fn:{fontStyles:Mr.fontStyles(r),themeColor:Mr.themeColor(r),focusStyles:Mr.focusStyles(r),largerThan:Mr.largerThan(r),smallerThan:Mr.smallerThan(r),radialGradient:Mr.radialGradient,linearGradient:Mr.linearGradient,gradient:Mr.gradient(r),rgba:Mr.rgba,cover:Mr.cover,lighten:Mr.lighten,darken:Mr.darken,primaryShade:Mr.primaryShade(r),radius:Mr.radius(r),variant:Mr.variant(r),hover:Mr.hover,primaryColor:Mr.primaryColor(r),placeholderStyles:Mr.placeholderStyles(r),dimmed:Mr.dimmed(r)}})}const q6=["xs","sm","md","lg","xl"],ghe={dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Hde,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.1)",sm:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 0.625rem 0.9375rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.4375rem 0.4375rem -0.3125rem",md:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.25rem 1.5625rem -0.3125rem, rgba(0, 0, 0, 0.04) 0 0.625rem 0.625rem -0.3125rem",lg:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 1.75rem 1.4375rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 0.75rem 0.75rem -0.4375rem",xl:"0 0.0625rem 0.1875rem rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 2.25rem 1.75rem -0.4375rem, rgba(0, 0, 0, 0.04) 0 1.0625rem 1.0625rem -0.4375rem"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem"},radius:{xs:"0.125rem",sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"2rem"},spacing:{xs:"0.625rem",sm:"0.75rem",md:"1rem",lg:"1.25rem",xl:"1.5rem"},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:"2.125rem",lineHeight:1.3,fontWeight:void 0},h2:{fontSize:"1.625rem",lineHeight:1.35,fontWeight:void 0},h3:{fontSize:"1.375rem",lineHeight:1.4,fontWeight:void 0},h4:{fontSize:"1.125rem",lineHeight:1.45,fontWeight:void 0},h5:{fontSize:"1rem",lineHeight:1.5,fontWeight:void 0},h6:{fontSize:"0.875rem",lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(0.0625rem)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:r=>({outlineOffset:"0.125rem",outline:`0.125rem solid ${r.colors[r.primaryColor][r.colorScheme==="dark"?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:r=>({outline:"none",borderColor:r.colors[r.primaryColor][typeof r.primaryShade=="object"?r.primaryShade[r.colorScheme]:r.primaryShade]})}},zN=Y6(ghe);function mhe(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function vhe(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var yhe=function(){function r(t){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vhe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=mhe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},r}(),Ti="-ms-",fb="-moz-",dn="-webkit-",Q6="comm",KN="rule",YN="decl",Che="@import",X6="@keyframes",whe="@layer",She=Math.abs,gO=String.fromCharCode,Ehe=Object.assign;function _he(r,e){return ui(r,0)^45?(((e<<2^ui(r,0))<<2^ui(r,1))<<2^ui(r,2))<<2^ui(r,3):0}function J6(r){return r.trim()}function bhe(r,e){return(r=e.exec(r))?r[0]:r}function hn(r,e,t){return r.replace(e,t)}function oM(r,e){return r.indexOf(e)}function ui(r,e){return r.charCodeAt(e)|0}function Dy(r,e,t){return r.slice(e,t)}function tl(r){return r.length}function qN(r){return r.length}function BS(r,e){return e.push(r),r}function Rhe(r,e){return r.map(e).join("")}var mO=1,tg=1,Z6=0,Po=0,Or=0,$g="";function vO(r,e,t,n,i,o,s){return{value:r,root:e,parent:t,type:n,props:i,children:o,line:mO,column:tg,length:s,return:""}}function jm(r,e){return Ehe(vO("",null,null,"",null,null,0),r,{length:-r.length},e)}function The(){return Or}function Phe(){return Or=Po>0?ui($g,--Po):0,tg--,Or===10&&(tg=1,mO--),Or}function cs(){return Or=Po<Z6?ui($g,Po++):0,tg++,Or===10&&(tg=1,mO++),Or}function pl(){return ui($g,Po)}function E_(){return Po}function BC(r,e){return Dy($g,r,e)}function Ay(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function e9(r){return mO=tg=1,Z6=tl($g=r),Po=0,[]}function t9(r){return $g="",r}function __(r){return J6(BC(Po-1,sM(r===91?r+2:r===40?r+1:r)))}function Ohe(r){for(;(Or=pl())&&Or<33;)cs();return Ay(r)>2||Ay(Or)>3?"":" "}function Dhe(r,e){for(;--e&&cs()&&!(Or<48||Or>102||Or>57&&Or<65||Or>70&&Or<97););return BC(r,E_()+(e<6&&pl()==32&&cs()==32))}function sM(r){for(;cs();)switch(Or){case r:return Po;case 34:case 39:r!==34&&r!==39&&sM(Or);break;case 40:r===41&&sM(r);break;case 92:cs();break}return Po}function Ahe(r,e){for(;cs()&&r+Or!==57;)if(r+Or===84&&pl()===47)break;return"/*"+BC(e,Po-1)+"*"+gO(r===47?r:cs())}function xhe(r){for(;!Ay(pl());)cs();return BC(r,Po)}function Ihe(r){return t9(b_("",null,null,null,[""],r=e9(r),0,[0],r))}function b_(r,e,t,n,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,p=0,f=0,g=1,v=1,y=1,C=0,w="",S=i,P=o,F=n,_=w;v;)switch(f=C,C=cs()){case 40:if(f!=108&&ui(_,d-1)==58){oM(_+=hn(__(C),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:_+=__(C);break;case 9:case 10:case 13:case 32:_+=Ohe(f);break;case 92:_+=Dhe(E_()-1,7);continue;case 47:switch(pl()){case 42:case 47:BS(Fhe(Ahe(cs(),E_()),e,t),l);break;default:_+="/"}break;case 123*g:a[u++]=tl(_)*y;case 125*g:case 59:case 0:switch(C){case 0:case 125:v=0;case 59+c:y==-1&&(_=hn(_,/\f/g,"")),p>0&&tl(_)-d&&BS(p>32?P$(_+";",n,t,d-1):P$(hn(_," ","")+";",n,t,d-2),l);break;case 59:_+=";";default:if(BS(F=T$(_,e,t,u,c,i,a,w,S=[],P=[],d),o),C===123)if(c===0)b_(_,e,F,F,S,o,d,a,P);else switch(h===99&&ui(_,3)===110?100:h){case 100:case 108:case 109:case 115:b_(r,F,F,n&&BS(T$(r,F,F,0,0,i,a,w,i,S=[],d),P),i,P,d,a,n?S:P);break;default:b_(_,F,F,F,[""],P,0,a,P)}}u=c=p=0,g=y=1,w=_="",d=s;break;case 58:d=1+tl(_),p=f;default:if(g<1){if(C==123)--g;else if(C==125&&g++==0&&Phe()==125)continue}switch(_+=gO(C),C*g){case 38:y=c>0?1:(_+="\f",-1);break;case 44:a[u++]=(tl(_)-1)*y,y=1;break;case 64:pl()===45&&(_+=__(cs())),h=pl(),c=d=tl(w=_+=xhe(E_())),C++;break;case 45:f===45&&tl(_)==2&&(g=0)}}return o}function T$(r,e,t,n,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],p=qN(h),f=0,g=0,v=0;f<n;++f)for(var y=0,C=Dy(r,d+1,d=She(g=s[f])),w=r;y<p;++y)(w=J6(g>0?h[y]+" "+C:hn(C,/&\f/g,h[y])))&&(l[v++]=w);return vO(r,e,t,i===0?KN:a,l,u,c)}function Fhe(r,e,t){return vO(r,e,t,Q6,gO(The()),Dy(r,2,-2),0)}function P$(r,e,t,n){return vO(r,e,t,YN,Dy(r,0,n),Dy(r,n+1,-1),n)}function Lf(r,e){for(var t="",n=qN(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function Mhe(r,e,t,n){switch(r.type){case whe:if(r.children.length)break;case Che:case YN:return r.return=r.return||r.value;case Q6:return"";case X6:return r.return=r.value+"{"+Lf(r.children,n)+"}";case KN:r.value=r.props.join(",")}return tl(t=Lf(r.children,n))?r.return=r.value+"{"+t+"}":""}function Lhe(r){var e=qN(r);return function(t,n,i,o){for(var s="",a=0;a<e;a++)s+=r[a](t,n,i,o)||"";return s}}function Nhe(r){return function(e){e.root||(e=e.return)&&r(e)}}function Ghe(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var Vhe=function(e,t,n){for(var i=0,o=0;i=o,o=pl(),i===38&&o===12&&(t[n]=1),!Ay(o);)cs();return BC(e,Po)},Hhe=function(e,t){var n=-1,i=44;do switch(Ay(i)){case 0:i===38&&pl()===12&&(t[n]=1),e[n]+=Vhe(Po-1,t,n);break;case 2:e[n]+=__(i);break;case 4:if(i===44){e[++n]=pl()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=gO(i)}while(i=cs());return e},khe=function(e,t){return t9(Hhe(e9(e),t))},O$=new WeakMap,$he=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!O$.get(n))&&!i){O$.set(e,!0);for(var o=[],s=khe(t,o),a=n.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},Bhe=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function n9(r,e){switch(_he(r,e)){case 5103:return dn+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dn+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return dn+r+fb+r+Ti+r+r;case 6828:case 4268:return dn+r+Ti+r+r;case 6165:return dn+r+Ti+"flex-"+r+r;case 5187:return dn+r+hn(r,/(\w+).+(:[^]+)/,dn+"box-$1$2"+Ti+"flex-$1$2")+r;case 5443:return dn+r+Ti+"flex-item-"+hn(r,/flex-|-self/,"")+r;case 4675:return dn+r+Ti+"flex-line-pack"+hn(r,/align-content|flex-|-self/,"")+r;case 5548:return dn+r+Ti+hn(r,"shrink","negative")+r;case 5292:return dn+r+Ti+hn(r,"basis","preferred-size")+r;case 6060:return dn+"box-"+hn(r,"-grow","")+dn+r+Ti+hn(r,"grow","positive")+r;case 4554:return dn+hn(r,/([^-])(transform)/g,"$1"+dn+"$2")+r;case 6187:return hn(hn(hn(r,/(zoom-|grab)/,dn+"$1"),/(image-set)/,dn+"$1"),r,"")+r;case 5495:case 3959:return hn(r,/(image-set\([^]*)/,dn+"$1$`$1");case 4968:return hn(hn(r,/(.+:)(flex-)?(.*)/,dn+"box-pack:$3"+Ti+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dn+r+r;case 4095:case 3583:case 4068:case 2532:return hn(r,/(.+)-inline(.+)/,dn+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tl(r)-1-e>6)switch(ui(r,e+1)){case 109:if(ui(r,e+4)!==45)break;case 102:return hn(r,/(.+:)(.+)-([^]+)/,"$1"+dn+"$2-$3$1"+fb+(ui(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~oM(r,"stretch")?n9(hn(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(ui(r,e+1)!==115)break;case 6444:switch(ui(r,tl(r)-3-(~oM(r,"!important")&&10))){case 107:return hn(r,":",":"+dn)+r;case 101:return hn(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dn+(ui(r,14)===45?"inline-":"")+"box$3$1"+dn+"$2$3$1"+Ti+"$2box$3")+r}break;case 5936:switch(ui(r,e+11)){case 114:return dn+r+Ti+hn(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return dn+r+Ti+hn(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return dn+r+Ti+hn(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return dn+r+Ti+r+r}return r}var jhe=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case YN:e.return=n9(e.value,e.length);break;case X6:return Lf([jm(e,{value:hn(e.value,"@","@"+dn)})],i);case KN:if(e.length)return Rhe(e.props,function(o){switch(bhe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lf([jm(e,{props:[hn(o,/:(read-\w+)/,":"+fb+"$1")]})],i);case"::placeholder":return Lf([jm(e,{props:[hn(o,/:(plac\w+)/,":"+dn+"input-$1")]}),jm(e,{props:[hn(o,/:(plac\w+)/,":"+fb+"$1")]}),jm(e,{props:[hn(o,/:(plac\w+)/,Ti+"input-$1")]})],i)}return""})}},Whe=[jhe],r9=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(g){var v=g.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||Whe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var v=g.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)o[v[y]]=!0;a.push(g)});var l,u=[$he,Bhe];{var c,d=[Mhe,Nhe(function(g){c.insert(g)})],h=Lhe(u.concat(i,d)),p=function(v){return Lf(Ihe(v),h)};l=function(v,y,C,w){c=C,p(v?v+"{"+y.styles+"}":y.styles),w&&(f.inserted[y.name]=!0)}}var f={key:t,sheet:new yhe({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(a),f};function Ln(){return Ln=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ln.apply(null,arguments)}var D$=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}},i9={exports:{}},wn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=typeof Symbol=="function"&&Symbol.for,QN=Zr?Symbol.for("react.element"):60103,XN=Zr?Symbol.for("react.portal"):60106,yO=Zr?Symbol.for("react.fragment"):60107,CO=Zr?Symbol.for("react.strict_mode"):60108,wO=Zr?Symbol.for("react.profiler"):60114,SO=Zr?Symbol.for("react.provider"):60109,EO=Zr?Symbol.for("react.context"):60110,JN=Zr?Symbol.for("react.async_mode"):60111,_O=Zr?Symbol.for("react.concurrent_mode"):60111,bO=Zr?Symbol.for("react.forward_ref"):60112,RO=Zr?Symbol.for("react.suspense"):60113,Uhe=Zr?Symbol.for("react.suspense_list"):60120,TO=Zr?Symbol.for("react.memo"):60115,PO=Zr?Symbol.for("react.lazy"):60116,zhe=Zr?Symbol.for("react.block"):60121,Khe=Zr?Symbol.for("react.fundamental"):60117,Yhe=Zr?Symbol.for("react.responder"):60118,qhe=Zr?Symbol.for("react.scope"):60119;function ms(r){if(typeof r=="object"&&r!==null){var e=r.$$typeof;switch(e){case QN:switch(r=r.type,r){case JN:case _O:case yO:case wO:case CO:case RO:return r;default:switch(r=r&&r.$$typeof,r){case EO:case bO:case PO:case TO:case SO:return r;default:return e}}case XN:return e}}}function o9(r){return ms(r)===_O}wn.AsyncMode=JN;wn.ConcurrentMode=_O;wn.ContextConsumer=EO;wn.ContextProvider=SO;wn.Element=QN;wn.ForwardRef=bO;wn.Fragment=yO;wn.Lazy=PO;wn.Memo=TO;wn.Portal=XN;wn.Profiler=wO;wn.StrictMode=CO;wn.Suspense=RO;wn.isAsyncMode=function(r){return o9(r)||ms(r)===JN};wn.isConcurrentMode=o9;wn.isContextConsumer=function(r){return ms(r)===EO};wn.isContextProvider=function(r){return ms(r)===SO};wn.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===QN};wn.isForwardRef=function(r){return ms(r)===bO};wn.isFragment=function(r){return ms(r)===yO};wn.isLazy=function(r){return ms(r)===PO};wn.isMemo=function(r){return ms(r)===TO};wn.isPortal=function(r){return ms(r)===XN};wn.isProfiler=function(r){return ms(r)===wO};wn.isStrictMode=function(r){return ms(r)===CO};wn.isSuspense=function(r){return ms(r)===RO};wn.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===yO||r===_O||r===wO||r===CO||r===RO||r===Uhe||typeof r=="object"&&r!==null&&(r.$$typeof===PO||r.$$typeof===TO||r.$$typeof===SO||r.$$typeof===EO||r.$$typeof===bO||r.$$typeof===Khe||r.$$typeof===Yhe||r.$$typeof===qhe||r.$$typeof===zhe)};wn.typeOf=ms;i9.exports=wn;var Qhe=i9.exports,s9=Qhe,Xhe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Jhe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a9={};a9[s9.ForwardRef]=Xhe;a9[s9.Memo]=Jhe;var Zhe=!0;function epe(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):i&&(n+=i+" ")}),n}var tpe=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||Zhe===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},l9=function(e,t,n){tpe(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function npe(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var rpe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ipe=/[A-Z]|^ms/g,ope=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u9=function(e){return e.charCodeAt(1)===45},A$=function(e){return e!=null&&typeof e!="boolean"},Sx=Ghe(function(r){return u9(r)?r:r.replace(ipe,"-$&").toLowerCase()}),x$=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(ope,function(n,i,o){return nl={name:i,styles:o,next:nl},i})}return rpe[e]!==1&&!u9(e)&&typeof t=="number"&&t!==0?t+"px":t};function xy(r,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return nl={name:i.name,styles:i.styles,next:nl},i.name;var o=t;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)nl={name:s.name,styles:s.styles,next:nl},s=s.next;var a=o.styles+";";return a}return spe(r,e,t)}case"function":{if(r!==void 0){var l=nl,u=t(r);return nl=l,xy(r,e,u)}break}}var c=t;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function spe(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=xy(r,e,t[i])+";";else for(var o in t){var s=t[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":A$(a)&&(n+=Sx(o)+":"+x$(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)A$(s[l])&&(n+=Sx(o)+":"+x$(o,s[l])+";");else{var u=xy(r,e,s);switch(o){case"animation":case"animationName":{n+=Sx(o)+":"+u+";";break}default:n+=o+"{"+u+"}"}}}return n}var I$=/label:\s*([^\s;{]+)\s*(;|$)/g,nl;function ZN(r,e,t){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var n=!0,i="";nl=void 0;var o=r[0];if(o==null||o.raw===void 0)n=!1,i+=xy(t,e,o);else{var s=o;i+=s[0]}for(var a=1;a<r.length;a++)if(i+=xy(t,e,r[a]),n){var l=o;i+=l[a]}I$.lastIndex=0;for(var u="",c;(c=I$.exec(i))!==null;)u+="-"+c[1];var d=npe(i)+u;return{name:d,styles:i,next:nl}}var ape=ne.useInsertionEffect?ne.useInsertionEffect:!1,F$=ape||ne.useLayoutEffect,c9=ne.createContext(typeof HTMLElement<"u"?r9({key:"css"}):null);c9.Provider;var lpe=function(e){return Ce(function(t,n){var i=Ut(c9);return e(t,i,n)})},aM=ne.createContext({}),upe=function(e,t){if(typeof t=="function"){var n=t(e);return n}return Ln({},e,t)},cpe=D$(function(r){return D$(function(e){return upe(r,e)})}),dpe=function(e){var t=ne.useContext(aM);return e.theme!==t&&(t=cpe(t)(e.theme)),ne.createElement(aM.Provider,{value:t},e.children)},jC=lpe(function(r,e){var t=r.styles,n=ZN([t],void 0,ne.useContext(aM)),i=ne.useRef();return F$(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),F$(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(n.next!==void 0&&l9(e,n.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",n,s,!1)},[e,n.name]),null});function d9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return ZN(e)}var hpe=function(){var e=d9.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ppe=Object.defineProperty,fpe=Object.defineProperties,gpe=Object.getOwnPropertyDescriptors,M$=Object.getOwnPropertySymbols,mpe=Object.prototype.hasOwnProperty,vpe=Object.prototype.propertyIsEnumerable,L$=(r,e,t)=>e in r?ppe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ype=(r,e)=>{for(var t in e||(e={}))mpe.call(e,t)&&L$(r,t,e[t]);if(M$)for(var t of M$(e))vpe.call(e,t)&&L$(r,t,e[t]);return r},Cpe=(r,e)=>fpe(r,gpe(e));function wpe({theme:r}){return x.createElement(jC,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:r.colorScheme==="dark"?"dark":"light"},body:Cpe(ype({},r.fn.fontStyles()),{backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight,fontSize:r.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function Wm(r,e,t,n=W){Object.keys(e).forEach(i=>{r[`--mantine-${t}-${i}`]=n(e[i])})}function Spe({theme:r}){const e={"--mantine-color-white":r.white,"--mantine-color-black":r.black,"--mantine-transition-timing-function":r.transitionTimingFunction,"--mantine-line-height":`${r.lineHeight}`,"--mantine-font-family":r.fontFamily,"--mantine-font-family-monospace":r.fontFamilyMonospace,"--mantine-font-family-headings":r.headings.fontFamily,"--mantine-heading-font-weight":`${r.headings.fontWeight}`};Wm(e,r.shadows,"shadow"),Wm(e,r.fontSizes,"font-size"),Wm(e,r.radius,"radius"),Wm(e,r.spacing,"spacing"),Wm(e,r.breakpoints,"breakpoints",us),Object.keys(r.colors).forEach(n=>{r.colors[n].forEach((i,o)=>{e[`--mantine-color-${n}-${o}`]=i})});const t=r.headings.sizes;return Object.keys(t).forEach(n=>{e[`--mantine-${n}-font-size`]=t[n].fontSize,e[`--mantine-${n}-line-height`]=`${t[n].lineHeight}`}),x.createElement(jC,{styles:{":root":e}})}var Epe=Object.defineProperty,_pe=Object.defineProperties,bpe=Object.getOwnPropertyDescriptors,N$=Object.getOwnPropertySymbols,Rpe=Object.prototype.hasOwnProperty,Tpe=Object.prototype.propertyIsEnumerable,G$=(r,e,t)=>e in r?Epe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ha=(r,e)=>{for(var t in e||(e={}))Rpe.call(e,t)&&G$(r,t,e[t]);if(N$)for(var t of N$(e))Tpe.call(e,t)&&G$(r,t,e[t]);return r},Ex=(r,e)=>_pe(r,bpe(e));function Ppe(r,e){var t;if(!e)return r;const n=Object.keys(r).reduce((i,o)=>{if(o==="headings"&&e.headings){const s=e.headings.sizes?Object.keys(r.headings.sizes).reduce((a,l)=>(a[l]=Ha(Ha({},r.headings.sizes[l]),e.headings.sizes[l]),a),{}):r.headings.sizes;return Ex(Ha({},i),{headings:Ex(Ha(Ha({},r.headings),e.headings),{sizes:s})})}if(o==="breakpoints"&&e.breakpoints){const s=Ha(Ha({},r.breakpoints),e.breakpoints);return Ex(Ha({},i),{breakpoints:Object.fromEntries(Object.entries(s).sort((a,l)=>va(a[1])-va(l[1])))})}return i[o]=typeof e[o]=="object"?Ha(Ha({},r[o]),e[o]):typeof e[o]=="number"||typeof e[o]=="boolean"||typeof e[o]=="function"?e[o]:e[o]||r[o],i},{});if(e!=null&&e.fontFamily&&!((t=e==null?void 0:e.headings)!=null&&t.fontFamily)&&(n.headings.fontFamily=e.fontFamily),!(n.primaryColor in n.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color");return n}function Ope(r,e){return Y6(Ppe(r,e))}function h9(r){return Object.keys(r).reduce((e,t)=>(r[t]!==void 0&&(e[t]=r[t]),e),{})}const Dpe={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:`${W(1)} dotted ButtonText`},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"}};function Ape(){return x.createElement(jC,{styles:Dpe})}var xpe=Object.defineProperty,V$=Object.getOwnPropertySymbols,Ipe=Object.prototype.hasOwnProperty,Fpe=Object.prototype.propertyIsEnumerable,H$=(r,e,t)=>e in r?xpe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,py=(r,e)=>{for(var t in e||(e={}))Ipe.call(e,t)&&H$(r,t,e[t]);if(V$)for(var t of V$(e))Fpe.call(e,t)&&H$(r,t,e[t]);return r};const gb=Yn({theme:zN});function Ao(){var r;return((r=Ut(gb))==null?void 0:r.theme)||zN}function Mpe(r){const e=Ao(),t=n=>{var i,o,s,a;return{styles:((i=e.components[n])==null?void 0:i.styles)||{},classNames:((o=e.components[n])==null?void 0:o.classNames)||{},variants:(s=e.components[n])==null?void 0:s.variants,sizes:(a=e.components[n])==null?void 0:a.sizes}};return Array.isArray(r)?r.map(t):[t(r)]}function p9(){var r;return(r=Ut(gb))==null?void 0:r.emotionCache}function Me(r,e,t){var n;const i=Ao(),o=(n=i.components[r])==null?void 0:n.defaultProps,s=typeof o=="function"?o(i):o;return py(py(py({},e),s),h9(t))}function e0({theme:r,emotionCache:e,withNormalizeCSS:t=!1,withGlobalStyles:n=!1,withCSSVariables:i=!1,inherit:o=!1,children:s}){const a=Ut(gb),l=Ope(zN,o?py(py({},a.theme),r):r);return x.createElement(dpe,{theme:l},x.createElement(gb.Provider,{value:{theme:l,emotionCache:e}},t&&x.createElement(Ape,null),n&&x.createElement(wpe,{theme:l}),i&&x.createElement(Spe,{theme:l}),typeof l.globalStyles=="function"&&x.createElement(jC,{styles:l.globalStyles(l)}),s))}e0.displayName="@mantine/core/MantineProvider";const f9=Yn(null);function Lpe(){const r=Ut(f9);if(!r)throw new Error("useMantineColorScheme hook was called outside of context, make sure your app is wrapped with ColorSchemeProvider component");return r}function g9({colorScheme:r,toggleColorScheme:e,children:t}){return x.createElement(f9.Provider,{value:{colorScheme:r,toggleColorScheme:e}},t)}g9.displayName="@mantine/core/ColorSchemeProvider";const Npe={app:100,modal:200,popover:300,overlay:400,max:9999};function Da(r){return Npe[r]}function Gpe(r,e){const t=ve();return(!t.current||e.length!==t.current.prevDeps.length||t.current.prevDeps.map((n,i)=>n===e[i]).indexOf(!1)>=0)&&(t.current={v:r(),prevDeps:[...e]}),t.current.v}const Vpe=r9({key:"mantine",prepend:!0});function Hpe(){return p9()||Vpe}var kpe=Object.defineProperty,k$=Object.getOwnPropertySymbols,$pe=Object.prototype.hasOwnProperty,Bpe=Object.prototype.propertyIsEnumerable,$$=(r,e,t)=>e in r?kpe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jpe=(r,e)=>{for(var t in e||(e={}))$pe.call(e,t)&&$$(r,t,e[t]);if(k$)for(var t of k$(e))Bpe.call(e,t)&&$$(r,t,e[t]);return r};const _x="ref";function Wpe(r){let e;if(r.length!==1)return{args:r,ref:e};const[t]=r;if(!(t instanceof Object))return{args:r,ref:e};if(!(_x in t))return{args:r,ref:e};e=t[_x];const n=jpe({},t);return delete n[_x],{args:[n],ref:e}}const{cssFactory:Upe}=(()=>{function r(t,n,i){const o=[],s=epe(t,o,i);return o.length<2?i:s+n(o)}function e(t){const{cache:n}=t,i=(...s)=>{const{ref:a,args:l}=Wpe(s),u=ZN(l,n.registered);return l9(n,u,!1),`${n.key}-${u.name}${a===void 0?"":` ${a}`}`};return{css:i,cx:(...s)=>r(n.registered,i,W6(s))}}return{cssFactory:e}})();function m9(){const r=Hpe();return Gpe(()=>Upe({cache:r}),[r])}function zpe({cx:r,classes:e,context:t,classNames:n,name:i,cache:o}){const s=t.reduce((a,l)=>(Object.keys(l.classNames).forEach(u=>{typeof a[u]!="string"?a[u]=`${l.classNames[u]}`:a[u]=`${a[u]} ${l.classNames[u]}`}),a),{});return Object.keys(e).reduce((a,l)=>(a[l]=r(e[l],s[l],n!=null&&n[l],Array.isArray(i)?i.filter(Boolean).map(u=>`${(o==null?void 0:o.key)||"mantine"}-${u}-${l}`).join(" "):i?`${(o==null?void 0:o.key)||"mantine"}-${i}-${l}`:null),a),{})}var Kpe=Object.defineProperty,B$=Object.getOwnPropertySymbols,Ype=Object.prototype.hasOwnProperty,qpe=Object.prototype.propertyIsEnumerable,j$=(r,e,t)=>e in r?Kpe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bx=(r,e)=>{for(var t in e||(e={}))Ype.call(e,t)&&j$(r,t,e[t]);if(B$)for(var t of B$(e))qpe.call(e,t)&&j$(r,t,e[t]);return r};function lM(r,e){return e&&Object.keys(e).forEach(t=>{r[t]?r[t]=bx(bx({},r[t]),e[t]):r[t]=bx({},e[t])}),r}function W$(r,e,t,n){const i=o=>typeof o=="function"?o(e,t||{},n):o||{};return Array.isArray(r)?r.map(o=>i(o.styles)).reduce((o,s)=>lM(o,s),{}):i(r)}function Qpe({ctx:r,theme:e,params:t,variant:n,size:i}){return r.reduce((o,s)=>(s.variants&&n in s.variants&&lM(o,s.variants[n](e,t,{variant:n,size:i})),s.sizes&&i in s.sizes&&lM(o,s.sizes[i](e,t,{variant:n,size:i})),o),{})}function We(r){const e=typeof r=="function"?r:()=>r;function t(n,i){const o=Ao(),s=Mpe(i==null?void 0:i.name),a=p9(),l={variant:i==null?void 0:i.variant,size:i==null?void 0:i.size},{css:u,cx:c}=m9(),d=e(o,n,l),h=W$(i==null?void 0:i.styles,o,n,l),p=W$(s,o,n,l),f=Qpe({ctx:s,theme:o,params:n,variant:i==null?void 0:i.variant,size:i==null?void 0:i.size}),g=Object.fromEntries(Object.keys(d).map(v=>{const y=c({[u(d[v])]:!(i!=null&&i.unstyled)},u(f[v]),u(p[v]),u(h[v]));return[v,y]}));return{classes:zpe({cx:c,classes:g,context:s,classNames:i==null?void 0:i.classNames,name:i==null?void 0:i.name,cache:a}),cx:c,theme:o}}return t}function mb(r){return`___ref-${r||""}`}function v9({styles:r}){const e=Ao();return x.createElement(jC,{styles:d9(typeof r=="function"?r(e):r)})}var Xpe=Object.defineProperty,Jpe=Object.defineProperties,Zpe=Object.getOwnPropertyDescriptors,U$=Object.getOwnPropertySymbols,efe=Object.prototype.hasOwnProperty,tfe=Object.prototype.propertyIsEnumerable,z$=(r,e,t)=>e in r?Xpe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Um=(r,e)=>{for(var t in e)efe.call(e,t)&&z$(r,t,e[t]);if(U$)for(var t of U$(e))tfe.call(e,t)&&z$(r,t,e[t]);return r},zm=(r,e)=>Jpe(r,Zpe(e));const Km={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${W(10)})`},transitionProperty:"transform, opacity"},jS={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${W(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${W(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${W(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${W(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:zm(Um({},Km),{common:{transformOrigin:"center center"}}),"pop-bottom-left":zm(Um({},Km),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":zm(Um({},Km),{common:{transformOrigin:"bottom right"}}),"pop-top-left":zm(Um({},Km),{common:{transformOrigin:"top left"}}),"pop-top-right":zm(Um({},Km),{common:{transformOrigin:"top right"}})},K$=["mousedown","touchstart"];function nfe(r,e,t){const n=ve();return Fe(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(t)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";t.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&r()}else n.current&&!n.current.contains(s)&&r()};return(e||K$).forEach(o=>document.addEventListener(o,i)),()=>{(e||K$).forEach(o=>document.removeEventListener(o,i))}},[n,r,t]),n}function rfe(r,e){try{return r.addEventListener("change",e),()=>r.removeEventListener("change",e)}catch{return r.addListener(e),()=>r.removeListener(e)}}function ife(r,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(r).matches:!1}function ofe(r,e,{getInitialValueInEffect:t}={getInitialValueInEffect:!0}){const[n,i]=Te(t?e:ife(r)),o=ve();return Fe(()=>{if("matchMedia"in window)return o.current=window.matchMedia(r),i(o.current.matches),rfe(o.current,s=>i(s.matches))},[r]),n}const y9=typeof document<"u"?xu:Fe;function ks(r,e){const t=ve(!1);Fe(()=>()=>{t.current=!1},[]),Fe(()=>{if(t.current)return r();t.current=!0},e)}function C9({opened:r,shouldReturnFocus:e=!0}){const t=ve(),n=()=>{var i;t.current&&"focus"in t.current&&typeof t.current.focus=="function"&&((i=t.current)==null||i.focus({preventScroll:!0}))};return ks(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),r?t.current=document.activeElement:e&&(i=window.setTimeout(n,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[r,e]),n}const sfe=/input|select|textarea|button|object/,w9="a, input, select, textarea, button, object, [tabindex]";function afe(r){return r.style.display==="none"}function lfe(r){if(r.getAttribute("aria-hidden")||r.getAttribute("hidden")||r.getAttribute("type")==="hidden")return!1;let t=r;for(;t&&!(t===document.body||t.nodeType===11);){if(afe(t))return!1;t=t.parentNode}return!0}function S9(r){let e=r.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function uM(r){const e=r.nodeName.toLowerCase(),t=!Number.isNaN(S9(r));return(sfe.test(e)&&!r.disabled||r instanceof HTMLAnchorElement&&r.href||t)&&lfe(r)}function E9(r){const e=S9(r);return(Number.isNaN(e)||e>=0)&&uM(r)}function ufe(r){return Array.from(r.querySelectorAll(w9)).filter(E9)}function cfe(r,e){const t=ufe(r);if(!t.length){e.preventDefault();return}const n=t[e.shiftKey?0:t.length-1],i=r.getRootNode();if(!(n===i.activeElement||r===i.activeElement))return;e.preventDefault();const s=t[e.shiftKey?t.length-1:0];s&&s.focus()}function OO(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function dfe(r,e="body > :not(script)"){const t=OO(),n=Array.from(document.querySelectorAll(e)).map(i=>{var o;if((o=i==null?void 0:i.shadowRoot)!=null&&o.contains(r)||i.contains(r))return;const s=i.getAttribute("aria-hidden"),a=i.getAttribute("data-hidden"),l=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",t),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!a&&!l&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:a||null}});return()=>{n.forEach(i=>{!i||t!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}function hfe(r=!0){const e=ve(),t=ve(null),n=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(w9));s=a.find(E9)||a.find(uM)||null,!s&&uM(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=at(o=>{if(r){if(o===null){t.current&&(t.current(),t.current=null);return}t.current=dfe(o),e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&n(o)}),e.current=o):e.current=null)}},[r]);return Fe(()=>{if(!r)return;e.current&&setTimeout(()=>n(e.current));const o=s=>{s.key==="Tab"&&e.current&&cfe(e.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),t.current&&t.current()}},[r]),i}const pfe=r=>(r+1)%1e6;function ffe(){const[,r]=cO(pfe,0);return r}const gfe=x.useId||(()=>{});function mfe(){const r=gfe();return r?`mantine-${r.replace(/:/g,"")}`:""}function cd(r){const e=mfe(),[t,n]=Te(e);return y9(()=>{n(OO())},[]),typeof r=="string"?r:typeof window>"u"?e:t}function cM(r,e,t){Fe(()=>(window.addEventListener(r,e,t),()=>window.removeEventListener(r,e,t)),[r,e])}function _9(r,e){typeof r=="function"?r(e):typeof r=="object"&&r!==null&&"current"in r&&(r.current=e)}function b9(...r){return e=>{r.forEach(t=>_9(t,e))}}function Bg(...r){return at(b9(...r),r)}function Ih({value:r,defaultValue:e,finalValue:t,onChange:n=()=>{}}){const[i,o]=Te(e!==void 0?e:t),s=a=>{o(a),n==null||n(a)};return r!==void 0?[r,n,!0]:[i,s,!1]}function vfe({initialValues:r=[],limit:e}){const[{state:t,queue:n},i]=Te({state:r.slice(0,e),queue:r.slice(e)});return{state:t,queue:n,add:(...l)=>i(u=>{const c=[...u.state,...u.queue,...l];return{state:c.slice(0,e),queue:c.slice(e)}}),update:l=>i(u=>{const c=l([...u.state,...u.queue]);return{state:c.slice(0,e),queue:c.slice(e)}}),cleanQueue:()=>i(l=>({state:l.state,queue:[]}))}}function WC(r,e){return ofe("(prefers-reduced-motion: reduce)",r,e)}const yfe=r=>r<.5?2*r*r:-1+(4-2*r)*r,Cfe=({axis:r,target:e,parent:t,alignment:n,offset:i,isList:o})=>{if(!e||!t&&typeof document>"u")return 0;const s=!!t,l=(t||document.body).getBoundingClientRect(),u=e.getBoundingClientRect(),c=d=>u[d]-l[d];if(r==="y"){const d=c("top");if(d===0)return 0;if(n==="start"){const p=d-i;return p<=u.height*(o?0:1)||!o?p:0}const h=s?l.height:window.innerHeight;if(n==="end"){const p=d+i-h+u.height;return p>=-u.height*(o?0:1)||!o?p:0}return n==="center"?d-h/2+u.height/2:0}if(r==="x"){const d=c("left");if(d===0)return 0;if(n==="start"){const p=d-i;return p<=u.width||!o?p:0}const h=s?l.width:window.innerWidth;if(n==="end"){const p=d+i-h+u.width;return p>=-u.width||!o?p:0}return n==="center"?d-h/2+u.width/2:0}return 0},wfe=({axis:r,parent:e})=>{if(!e&&typeof document>"u")return 0;const t=r==="y"?"scrollTop":"scrollLeft";if(e)return e[t];const{body:n,documentElement:i}=document;return n[t]+i[t]},Sfe=({axis:r,parent:e,distance:t})=>{if(!e&&typeof document>"u")return;const n=r==="y"?"scrollTop":"scrollLeft";if(e)e[n]=t;else{const{body:i,documentElement:o}=document;i[n]=t,o[n]=t}};function Efe({duration:r=1250,axis:e="y",onScrollFinish:t,easing:n=yfe,offset:i=0,cancelable:o=!0,isList:s=!1}={}){const a=ve(0),l=ve(0),u=ve(!1),c=ve(null),d=ve(null),h=WC(),p=()=>{a.current&&cancelAnimationFrame(a.current)},f=at(({alignment:v="start"}={})=>{var y;u.current=!1,a.current&&p();const C=(y=wfe({parent:c.current,axis:e}))!=null?y:0,w=Cfe({parent:c.current,target:d.current,axis:e,alignment:v,offset:i,isList:s})-(c.current?0:C);function S(){l.current===0&&(l.current=performance.now());const F=performance.now()-l.current,_=h||r===0?1:F/r,E=C+w*n(_);Sfe({parent:c.current,axis:e,distance:E}),!u.current&&_<1?a.current=requestAnimationFrame(S):(typeof t=="function"&&t(),l.current=0,a.current=0,p())}S()},[e,r,n,s,i,t,h]),g=()=>{o&&(u.current=!0)};return cM("wheel",g,{passive:!0}),cM("touchmove",g,{passive:!0}),Fe(()=>p,[]),{scrollableRef:c,targetRef:d,scrollIntoView:f,cancel:p}}function _fe(r=!1,e){const{onOpen:t,onClose:n}={},[i,o]=Te(r),s=at(()=>{o(u=>u||(t==null||t(),!0))},[t]),a=at(()=>{o(u=>u&&(n==null||n(),!1))},[n]),l=at(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:l}]}function Y$(r){return typeof r!="string"?"":r.charAt(0).toUpperCase()+r.slice(1)}var q$=Object.getOwnPropertySymbols,bfe=Object.prototype.hasOwnProperty,Rfe=Object.prototype.propertyIsEnumerable,Tfe=(r,e)=>{var t={};for(var n in r)bfe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&q$)for(var n of q$(r))e.indexOf(n)<0&&Rfe.call(r,n)&&(t[n]=r[n]);return t};function jg(r){const e=r,{m:t,mx:n,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:d,pt:h,pb:p,pl:f,pr:g,bg:v,c:y,opacity:C,ff:w,fz:S,fw:P,lts:F,ta:_,lh:E,fs:T,tt:O,td:L,w:V,miw:M,maw:N,h:$,mih:B,mah:U,bgsz:z,bgp:j,bgr:Q,bga:X,pos:Z,top:ce,left:oe,bottom:de,right:Ee,inset:Pe,display:$e}=e,Ne=Tfe(e,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:h9({m:t,mx:n,my:i,mt:o,mb:s,ml:a,mr:l,p:u,px:c,py:d,pt:h,pb:p,pl:f,pr:g,bg:v,c:y,opacity:C,ff:w,fz:S,fw:P,lts:F,ta:_,lh:E,fs:T,tt:O,td:L,w:V,miw:M,maw:N,h:$,mih:B,mah:U,bgsz:z,bgp:j,bgr:Q,bga:X,pos:Z,top:ce,left:oe,bottom:de,right:Ee,inset:Pe,display:$e}),rest:Ne}}function Pfe(r,e){const t=Object.keys(r).filter(n=>n!=="base").sort((n,i)=>va(be({size:n,sizes:e.breakpoints}))-va(be({size:i,sizes:e.breakpoints})));return"base"in r?["base",...t]:t}function Ofe({value:r,theme:e,getValue:t,property:n}){if(r==null)return;if(typeof r=="object")return Pfe(r,e).reduce((s,a)=>{if(a==="base"&&r.base!==void 0){const u=t(r.base,e);return Array.isArray(n)?(n.forEach(c=>{s[c]=u}),s):(s[n]=u,s)}const l=t(r[a],e);return Array.isArray(n)?(s[e.fn.largerThan(a)]={},n.forEach(u=>{s[e.fn.largerThan(a)][u]=l}),s):(s[e.fn.largerThan(a)]={[n]:l},s)},{});const i=t(r,e);return Array.isArray(n)?n.reduce((o,s)=>(o[s]=i,o),{}):{[n]:i}}function Dfe(r,e){return r==="dimmed"?e.colorScheme==="dark"?e.colors.dark[2]:e.colors.gray[6]:e.fn.variant({variant:"filled",color:r,primaryFallback:!1}).background}function Afe(r){return W(r)}function xfe(r){return r}function Ife(r,e){return be({size:r,sizes:e.fontSizes})}const Ffe=["-xs","-sm","-md","-lg","-xl"];function Mfe(r,e){return Ffe.includes(r)?`calc(${be({size:r.replace("-",""),sizes:e.spacing})} * -1)`:be({size:r,sizes:e.spacing})}const Lfe={identity:xfe,color:Dfe,size:Afe,fontSize:Ife,spacing:Mfe},Nfe={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"identity",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"identity",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"}};var Gfe=Object.defineProperty,Q$=Object.getOwnPropertySymbols,Vfe=Object.prototype.hasOwnProperty,Hfe=Object.prototype.propertyIsEnumerable,X$=(r,e,t)=>e in r?Gfe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J$=(r,e)=>{for(var t in e||(e={}))Vfe.call(e,t)&&X$(r,t,e[t]);if(Q$)for(var t of Q$(e))Hfe.call(e,t)&&X$(r,t,e[t]);return r};function Z$(r,e,t=Nfe){return Object.keys(t).reduce((i,o)=>(o in r&&r[o]!==void 0&&i.push(Ofe({value:r[o],getValue:Lfe[t[o].type],property:t[o].property,theme:e})),i),[]).reduce((i,o)=>(Object.keys(o).forEach(s=>{typeof o[s]=="object"&&o[s]!==null&&s in i?i[s]=J$(J$({},i[s]),o[s]):i[s]=o[s]}),i),{})}function eB(r,e){return typeof r=="function"?r(e):r}function kfe(r,e,t){const n=Ao(),{css:i,cx:o}=m9();return Array.isArray(r)?o(t,i(Z$(e,n)),r.map(s=>i(eB(s,n)))):o(t,i(eB(r,n)),i(Z$(e,n)))}var $fe=Object.defineProperty,vb=Object.getOwnPropertySymbols,R9=Object.prototype.hasOwnProperty,T9=Object.prototype.propertyIsEnumerable,tB=(r,e,t)=>e in r?$fe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bfe=(r,e)=>{for(var t in e||(e={}))R9.call(e,t)&&tB(r,t,e[t]);if(vb)for(var t of vb(e))T9.call(e,t)&&tB(r,t,e[t]);return r},jfe=(r,e)=>{var t={};for(var n in r)R9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&vb)for(var n of vb(r))e.indexOf(n)<0&&T9.call(r,n)&&(t[n]=r[n]);return t};const P9=Ce((r,e)=>{var t=r,{className:n,component:i,style:o,sx:s}=t,a=jfe(t,["className","component","style","sx"]);const{systemStyles:l,rest:u}=jg(a),c=i||"div";return x.createElement(c,Bfe({ref:e,className:kfe(s,l,n),style:o},u))});P9.displayName="@mantine/core/Box";const Ge=P9;var Wfe=Object.defineProperty,Ufe=Object.defineProperties,zfe=Object.getOwnPropertyDescriptors,nB=Object.getOwnPropertySymbols,Kfe=Object.prototype.hasOwnProperty,Yfe=Object.prototype.propertyIsEnumerable,rB=(r,e,t)=>e in r?Wfe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iB=(r,e)=>{for(var t in e||(e={}))Kfe.call(e,t)&&rB(r,t,e[t]);if(nB)for(var t of nB(e))Yfe.call(e,t)&&rB(r,t,e[t]);return r},qfe=(r,e)=>Ufe(r,zfe(e)),Qfe=We(r=>({root:qfe(iB(iB({},r.fn.focusStyles()),r.fn.fontStyles()),{cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:r.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,textDecoration:"none",boxSizing:"border-box"})})),Xfe=Object.defineProperty,yb=Object.getOwnPropertySymbols,O9=Object.prototype.hasOwnProperty,D9=Object.prototype.propertyIsEnumerable,oB=(r,e,t)=>e in r?Xfe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jfe=(r,e)=>{for(var t in e)O9.call(e,t)&&oB(r,t,e[t]);if(yb)for(var t of yb(e))D9.call(e,t)&&oB(r,t,e[t]);return r},Zfe=(r,e)=>{var t={};for(var n in r)O9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&yb)for(var n of yb(r))e.indexOf(n)<0&&D9.call(r,n)&&(t[n]=r[n]);return t};const A9=Ce((r,e)=>{const t=Me("UnstyledButton",{},r),{className:n,component:i="button",unstyled:o,variant:s}=t,a=Zfe(t,["className","component","unstyled","variant"]),{classes:l,cx:u}=Qfe(null,{name:"UnstyledButton",unstyled:o,variant:s});return x.createElement(Ge,Jfe({component:i,ref:e,className:u(l.root,n),type:i==="button"?"button":void 0},a))});A9.displayName="@mantine/core/UnstyledButton";const DO=A9;var ege=Object.defineProperty,tge=Object.defineProperties,nge=Object.getOwnPropertyDescriptors,Cb=Object.getOwnPropertySymbols,x9=Object.prototype.hasOwnProperty,I9=Object.prototype.propertyIsEnumerable,sB=(r,e,t)=>e in r?ege(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gd=(r,e)=>{for(var t in e||(e={}))x9.call(e,t)&&sB(r,t,e[t]);if(Cb)for(var t of Cb(e))I9.call(e,t)&&sB(r,t,e[t]);return r},Rx=(r,e)=>tge(r,nge(e)),rge=(r,e)=>{var t={};for(var n in r)x9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Cb)for(var n of Cb(r))e.indexOf(n)<0&&I9.call(r,n)&&(t[n]=r[n]);return t};function ige(r){if(!r||typeof r=="string")return 0;const e=r/36;return Math.round((4+15*e**.25+e/5)*10)}function Tx(r){return r!=null&&r.current?r.current.scrollHeight:"auto"}const WS=typeof window<"u"&&window.requestAnimationFrame;function oge({transitionDuration:r,transitionTimingFunction:e="ease",onTransitionEnd:t=()=>{},opened:n}){const i=ve(null),o=0,s={display:"none",height:0,overflow:"hidden"},[a,l]=Te(n?{}:s),u=f=>{D6(()=>l(f))},c=f=>{u(g=>Gd(Gd({},g),f))};function d(f){return{transition:`height ${r||ige(f)}ms ${e}`}}ks(()=>{WS(n?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),WS(()=>{const f=Tx(i);c(Rx(Gd({},d(f)),{height:f}))})}:()=>{const f=Tx(i);c(Rx(Gd({},d(f)),{willChange:"height",height:f})),WS(()=>c({height:o,overflow:"hidden"}))})},[n]);const h=f=>{if(!(f.target!==i.current||f.propertyName!=="height"))if(n){const g=Tx(i);g===a.height?u({}):c({height:g}),t()}else a.height===o&&(u(s),t())};function p(f={}){var g=f,{style:v={},refKey:y="ref"}=g,C=rge(g,["style","refKey"]);const w=C[y];return Rx(Gd({"aria-hidden":!n},C),{[y]:b9(i,w),onTransitionEnd:h,style:Gd(Gd({boxSizing:"border-box"},v),a)})}return p}var sge=Object.defineProperty,wb=Object.getOwnPropertySymbols,F9=Object.prototype.hasOwnProperty,M9=Object.prototype.propertyIsEnumerable,aB=(r,e,t)=>e in r?sge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,US=(r,e)=>{for(var t in e||(e={}))F9.call(e,t)&&aB(r,t,e[t]);if(wb)for(var t of wb(e))M9.call(e,t)&&aB(r,t,e[t]);return r},age=(r,e)=>{var t={};for(var n in r)F9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&wb)for(var n of wb(r))e.indexOf(n)<0&&M9.call(r,n)&&(t[n]=r[n]);return t};const lge={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},L9=Ce((r,e)=>{const t=Me("Collapse",lge,r),{children:n,in:i,transitionDuration:o,transitionTimingFunction:s,style:a,onTransitionEnd:l,animateOpacity:u}=t,c=age(t,["children","in","transitionDuration","transitionTimingFunction","style","onTransitionEnd","animateOpacity"]),d=Ao(),h=WC(),f=(d.respectReducedMotion?h:!1)?0:o,{systemStyles:g,rest:v}=jg(c),y=oge({opened:i,transitionDuration:f,transitionTimingFunction:s,onTransitionEnd:l});return f===0?i?x.createElement(Ge,US({},v),n):null:x.createElement(Ge,US({},y(US(US({style:a,ref:e},v),g))),x.createElement("div",{style:{opacity:i||!u?1:0,transition:u?`opacity ${f}ms ${s}`:"none"}},n))});L9.displayName="@mantine/core/Collapse";var uge=Object.defineProperty,cge=Object.defineProperties,dge=Object.getOwnPropertyDescriptors,lB=Object.getOwnPropertySymbols,hge=Object.prototype.hasOwnProperty,pge=Object.prototype.propertyIsEnumerable,uB=(r,e,t)=>e in r?uge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dM=(r,e)=>{for(var t in e||(e={}))hge.call(e,t)&&uB(r,t,e[t]);if(lB)for(var t of lB(e))pge.call(e,t)&&uB(r,t,e[t]);return r},cB=(r,e)=>cge(r,dge(e));const fge=["subtle","filled","outline","light","default","transparent","gradient"],zS={xs:W(18),sm:W(22),md:W(28),lg:W(34),xl:W(44)};function gge({variant:r,theme:e,color:t,gradient:n}){const i=e.fn.variant({color:t,variant:r,gradient:n});return r==="gradient"?{border:0,backgroundImage:i.background,color:i.color,"&:hover":e.fn.hover({backgroundSize:"200%"})}:fge.includes(r)?dM({border:`${W(1)} solid ${i.border}`,backgroundColor:i.background,color:i.color},e.fn.hover({backgroundColor:i.hover})):null}var mge=We((r,{radius:e,color:t,gradient:n},{variant:i,size:o})=>({root:cB(dM({position:"relative",borderRadius:r.fn.radius(e),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center",height:be({size:o,sizes:zS}),minHeight:be({size:o,sizes:zS}),width:be({size:o,sizes:zS}),minWidth:be({size:o,sizes:zS})},gge({variant:i,theme:r,color:t,gradient:n})),{"&:active":r.activeStyles,"& [data-action-icon-loader]":{maxWidth:"70%"},"&:disabled, &[data-disabled]":{color:r.colors.gray[r.colorScheme==="dark"?6:4],cursor:"not-allowed",backgroundColor:i==="transparent"?void 0:r.fn.themeColor("gray",r.colorScheme==="dark"?8:1),borderColor:i==="transparent"?void 0:r.fn.themeColor("gray",r.colorScheme==="dark"?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":cB(dM({content:'""'},r.fn.cover(W(-1))),{backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:r.fn.radius(e),cursor:"not-allowed"})}})})),vge=Object.defineProperty,Sb=Object.getOwnPropertySymbols,N9=Object.prototype.hasOwnProperty,G9=Object.prototype.propertyIsEnumerable,dB=(r,e,t)=>e in r?vge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hB=(r,e)=>{for(var t in e||(e={}))N9.call(e,t)&&dB(r,t,e[t]);if(Sb)for(var t of Sb(e))G9.call(e,t)&&dB(r,t,e[t]);return r},pB=(r,e)=>{var t={};for(var n in r)N9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Sb)for(var n of Sb(r))e.indexOf(n)<0&&G9.call(r,n)&&(t[n]=r[n]);return t};function yge(r){var e=r,{size:t,color:n}=e,i=pB(e,["size","color"]);const o=i,{style:s}=o,a=pB(o,["style"]);return x.createElement("svg",hB({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:n,style:hB({width:t},s)},a),x.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},x.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),x.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},x.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),x.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},x.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),x.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},x.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),x.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},x.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}var Cge=Object.defineProperty,Eb=Object.getOwnPropertySymbols,V9=Object.prototype.hasOwnProperty,H9=Object.prototype.propertyIsEnumerable,fB=(r,e,t)=>e in r?Cge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gB=(r,e)=>{for(var t in e||(e={}))V9.call(e,t)&&fB(r,t,e[t]);if(Eb)for(var t of Eb(e))H9.call(e,t)&&fB(r,t,e[t]);return r},mB=(r,e)=>{var t={};for(var n in r)V9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Eb)for(var n of Eb(r))e.indexOf(n)<0&&H9.call(r,n)&&(t[n]=r[n]);return t};function wge(r){var e=r,{size:t,color:n}=e,i=mB(e,["size","color"]);const o=i,{style:s}=o,a=mB(o,["style"]);return x.createElement("svg",gB({viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n,style:gB({width:t,height:t},s)},a),x.createElement("g",{fill:"none",fillRule:"evenodd"},x.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},x.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),x.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},x.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))}var Sge=Object.defineProperty,_b=Object.getOwnPropertySymbols,k9=Object.prototype.hasOwnProperty,$9=Object.prototype.propertyIsEnumerable,vB=(r,e,t)=>e in r?Sge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yB=(r,e)=>{for(var t in e||(e={}))k9.call(e,t)&&vB(r,t,e[t]);if(_b)for(var t of _b(e))$9.call(e,t)&&vB(r,t,e[t]);return r},CB=(r,e)=>{var t={};for(var n in r)k9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&_b)for(var n of _b(r))e.indexOf(n)<0&&$9.call(r,n)&&(t[n]=r[n]);return t};function Ege(r){var e=r,{size:t,color:n}=e,i=CB(e,["size","color"]);const o=i,{style:s}=o,a=CB(o,["style"]);return x.createElement("svg",yB({viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:n,style:yB({width:t},s)},a),x.createElement("circle",{cx:"15",cy:"15",r:"15"},x.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),x.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},x.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),x.createElement("circle",{cx:"105",cy:"15",r:"15"},x.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),x.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}var _ge=Object.defineProperty,bb=Object.getOwnPropertySymbols,B9=Object.prototype.hasOwnProperty,j9=Object.prototype.propertyIsEnumerable,wB=(r,e,t)=>e in r?_ge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bge=(r,e)=>{for(var t in e)B9.call(e,t)&&wB(r,t,e[t]);if(bb)for(var t of bb(e))j9.call(e,t)&&wB(r,t,e[t]);return r},Rge=(r,e)=>{var t={};for(var n in r)B9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&bb)for(var n of bb(r))e.indexOf(n)<0&&j9.call(r,n)&&(t[n]=r[n]);return t};const Px={bars:yge,oval:wge,dots:Ege},Tge={xs:W(18),sm:W(22),md:W(36),lg:W(44),xl:W(58)},Pge={size:"md"};function dd(r){const e=Me("Loader",Pge,r),{size:t,color:n,variant:i}=e,o=Rge(e,["size","color","variant"]),s=Ao(),a=i in Px?i:s.loader;return x.createElement(Ge,bge({role:"presentation",component:Px[a]||Px.bars,size:be({size:t,sizes:Tge}),color:s.fn.variant({variant:"filled",primaryFallback:!1,color:n||s.primaryColor}).background},o))}dd.displayName="@mantine/core/Loader";var Oge=Object.defineProperty,Rb=Object.getOwnPropertySymbols,W9=Object.prototype.hasOwnProperty,U9=Object.prototype.propertyIsEnumerable,SB=(r,e,t)=>e in r?Oge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,EB=(r,e)=>{for(var t in e||(e={}))W9.call(e,t)&&SB(r,t,e[t]);if(Rb)for(var t of Rb(e))U9.call(e,t)&&SB(r,t,e[t]);return r},Dge=(r,e)=>{var t={};for(var n in r)W9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Rb)for(var n of Rb(r))e.indexOf(n)<0&&U9.call(r,n)&&(t[n]=r[n]);return t};const Age={color:"gray",size:"md",variant:"subtle"},z9=Ce((r,e)=>{const t=Me("ActionIcon",Age,r),{className:n,color:i,children:o,radius:s,size:a,variant:l,gradient:u,disabled:c,loaderProps:d,loading:h,unstyled:p,__staticSelector:f}=t,g=Dge(t,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled","__staticSelector"]),{classes:v,cx:y,theme:C}=mge({radius:s,color:i,gradient:u},{name:["ActionIcon",f],unstyled:p,size:a,variant:l}),w=x.createElement(dd,EB({color:C.fn.variant({color:i,variant:l}).color,size:"100%","data-action-icon-loader":!0},d));return x.createElement(DO,EB({className:y(v.root,n),ref:e,disabled:c,"data-disabled":c||void 0,"data-loading":h||void 0,unstyled:p},g),h?w:o)});z9.displayName="@mantine/core/ActionIcon";const UC=z9;var xge=Object.defineProperty,Ige=Object.defineProperties,Fge=Object.getOwnPropertyDescriptors,Tb=Object.getOwnPropertySymbols,K9=Object.prototype.hasOwnProperty,Y9=Object.prototype.propertyIsEnumerable,_B=(r,e,t)=>e in r?xge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mge=(r,e)=>{for(var t in e)K9.call(e,t)&&_B(r,t,e[t]);if(Tb)for(var t of Tb(e))Y9.call(e,t)&&_B(r,t,e[t]);return r},Lge=(r,e)=>Ige(r,Fge(e)),Nge=(r,e)=>{var t={};for(var n in r)K9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Tb)for(var n of Tb(r))e.indexOf(n)<0&&Y9.call(r,n)&&(t[n]=r[n]);return t};function t0(r){const e=Me("Portal",{},r),{children:t,target:n,className:i,innerRef:o}=e,s=Nge(e,["children","target","className","innerRef"]),a=Ao(),[l,u]=Te(!1),c=ve();return y9(()=>(u(!0),c.current=n?typeof n=="string"?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(c.current),()=>{!n&&document.body.removeChild(c.current)}),[n]),l?Gce(x.createElement("div",Lge(Mge({className:i,dir:a.dir},s),{ref:o}),t),c.current):null}t0.displayName="@mantine/core/Portal";var Gge=Object.defineProperty,Pb=Object.getOwnPropertySymbols,q9=Object.prototype.hasOwnProperty,Q9=Object.prototype.propertyIsEnumerable,bB=(r,e,t)=>e in r?Gge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vge=(r,e)=>{for(var t in e)q9.call(e,t)&&bB(r,t,e[t]);if(Pb)for(var t of Pb(e))Q9.call(e,t)&&bB(r,t,e[t]);return r},Hge=(r,e)=>{var t={};for(var n in r)q9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Pb)for(var n of Pb(r))e.indexOf(n)<0&&Q9.call(r,n)&&(t[n]=r[n]);return t};function Wg(r){var e=r,{withinPortal:t=!0,children:n}=e,i=Hge(e,["withinPortal","children"]);return t?x.createElement(t0,Vge({},i),n):x.createElement(x.Fragment,null,n)}Wg.displayName="@mantine/core/OptionalPortal";var kge=Object.defineProperty,$ge=Object.defineProperties,Bge=Object.getOwnPropertyDescriptors,RB=Object.getOwnPropertySymbols,jge=Object.prototype.hasOwnProperty,Wge=Object.prototype.propertyIsEnumerable,TB=(r,e,t)=>e in r?kge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ox=(r,e)=>{for(var t in e||(e={}))jge.call(e,t)&&TB(r,t,e[t]);if(RB)for(var t of RB(e))Wge.call(e,t)&&TB(r,t,e[t]);return r},PB=(r,e)=>$ge(r,Bge(e));function Uge({variant:r,color:e,theme:t}){if(r==="filled")return{backgroundColor:t.fn.variant({variant:"filled",color:e}).background,color:t.white};if(r==="outline"){const n=t.fn.variant({variant:"outline",color:e});return{color:n.color,borderColor:n.border,backgroundColor:t.colorScheme==="dark"?t.colors.dark[6]:t.white}}if(r==="light"){const n=t.fn.variant({variant:"light",color:e});return{backgroundColor:n.background,color:n.color}}return null}var zge=We((r,{radius:e,color:t},{variant:n})=>({root:Ox(PB(Ox({},r.fn.fontStyles()),{position:"relative",overflow:"hidden",paddingTop:r.spacing.sm,paddingBottom:r.spacing.sm,paddingLeft:r.spacing.md,paddingRight:r.spacing.sm,borderRadius:r.fn.radius(e),border:`${W(1)} solid transparent`}),Uge({variant:n,color:t,theme:r})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:r.spacing.xs,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:r.lineHeight,fontSize:r.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:r.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:W(20),height:W(20),display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:r.spacing.md,marginTop:1},message:PB(Ox({},r.fn.fontStyles()),{lineHeight:r.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:r.fontSizes.sm,color:n==="filled"?r.white:r.colorScheme==="dark"?n==="light"?r.white:r.colors.dark[0]:r.black}),closeButton:{width:W(10),height:W(10),color:n==="filled"?r.white:r.colorScheme==="dark"?n==="light"?r.white:r.colors.dark[0]:r.black}})),Kge=Object.defineProperty,Ob=Object.getOwnPropertySymbols,X9=Object.prototype.hasOwnProperty,J9=Object.prototype.propertyIsEnumerable,OB=(r,e,t)=>e in r?Kge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DB=(r,e)=>{for(var t in e||(e={}))X9.call(e,t)&&OB(r,t,e[t]);if(Ob)for(var t of Ob(e))J9.call(e,t)&&OB(r,t,e[t]);return r},Yge=(r,e)=>{var t={};for(var n in r)X9.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Ob)for(var n of Ob(r))e.indexOf(n)<0&&J9.call(r,n)&&(t[n]=r[n]);return t};function Z9(r){const e=r,{width:t,height:n,style:i}=e,o=Yge(e,["width","height","style"]);return x.createElement("svg",DB({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:DB({width:t,height:n},i)},o),x.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Z9.displayName="@mantine/core/CloseIcon";var qge=Object.defineProperty,Db=Object.getOwnPropertySymbols,e7=Object.prototype.hasOwnProperty,t7=Object.prototype.propertyIsEnumerable,AB=(r,e,t)=>e in r?qge(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qge=(r,e)=>{for(var t in e)e7.call(e,t)&&AB(r,t,e[t]);if(Db)for(var t of Db(e))t7.call(e,t)&&AB(r,t,e[t]);return r},Xge=(r,e)=>{var t={};for(var n in r)e7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Db)for(var n of Db(r))e.indexOf(n)<0&&t7.call(r,n)&&(t[n]=r[n]);return t};const Jge={xs:W(12),sm:W(16),md:W(20),lg:W(28),xl:W(34)},Zge={size:"sm"},n7=Ce((r,e)=>{const t=Me("CloseButton",Zge,r),{iconSize:n,size:i,children:o}=t,s=Xge(t,["iconSize","size","children"]),a=W(n||Jge[i]);return x.createElement(UC,Qge({ref:e,__staticSelector:"CloseButton",size:i},s),o||x.createElement(Z9,{width:a,height:a}))});n7.displayName="@mantine/core/CloseButton";const AO=n7;var eme=Object.defineProperty,Ab=Object.getOwnPropertySymbols,r7=Object.prototype.hasOwnProperty,i7=Object.prototype.propertyIsEnumerable,xB=(r,e,t)=>e in r?eme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tme=(r,e)=>{for(var t in e)r7.call(e,t)&&xB(r,t,e[t]);if(Ab)for(var t of Ab(e))i7.call(e,t)&&xB(r,t,e[t]);return r},nme=(r,e)=>{var t={};for(var n in r)r7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Ab)for(var n of Ab(r))e.indexOf(n)<0&&i7.call(r,n)&&(t[n]=r[n]);return t};const rme={variant:"light"},Fh=Ce((r,e)=>{const t=Me("Alert",rme,r),{id:n,className:i,title:o,variant:s,children:a,color:l,classNames:u,icon:c,styles:d,onClose:h,radius:p,withCloseButton:f,closeButtonLabel:g,unstyled:v}=t,y=nme(t,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:C,cx:w}=zge({color:l,radius:p},{classNames:u,styles:d,unstyled:v,variant:s,name:"Alert"}),S=cd(n),P=o&&`${S}-title`,F=`${S}-body`;return x.createElement(Ge,tme({id:S,role:"alert","aria-labelledby":P,"aria-describedby":F,className:w(C.root,C[s],i),ref:e},y),x.createElement("div",{className:C.wrapper},c&&x.createElement("div",{className:C.icon},c),x.createElement("div",{className:C.body},o&&x.createElement("div",{className:C.title,"data-with-close-button":f||void 0},x.createElement("span",{id:P,className:C.label},o)),x.createElement("div",{id:F,className:C.message},a)),f&&x.createElement(AO,{className:C.closeButton,onClick:h,variant:"transparent",size:16,iconSize:16,"aria-label":g})))});Fh.displayName="@mantine/core/Alert";var ime=Object.defineProperty,ome=Object.defineProperties,sme=Object.getOwnPropertyDescriptors,IB=Object.getOwnPropertySymbols,ame=Object.prototype.hasOwnProperty,lme=Object.prototype.propertyIsEnumerable,FB=(r,e,t)=>e in r?ime(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,KS=(r,e)=>{for(var t in e||(e={}))ame.call(e,t)&&FB(r,t,e[t]);if(IB)for(var t of IB(e))lme.call(e,t)&&FB(r,t,e[t]);return r},ume=(r,e)=>ome(r,sme(e));function cme({underline:r,strikethrough:e}){const t=[];return r&&t.push("underline"),e&&t.push("line-through"),t.length>0?t.join(" "):"none"}function dme({theme:r,color:e}){return e==="dimmed"?r.fn.dimmed():typeof e=="string"&&(e in r.colors||e.split(".")[0]in r.colors)?r.fn.variant({variant:"filled",color:e}).background:e||"inherit"}function hme(r){return typeof r=="number"?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:r,WebkitBoxOrient:"vertical"}:null}function pme({theme:r,truncate:e}){return e==="start"?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:r.dir==="ltr"?"rtl":"ltr",textAlign:r.dir==="ltr"?"right":"left"}:e?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var fme=We((r,{color:e,lineClamp:t,truncate:n,inline:i,inherit:o,underline:s,gradient:a,weight:l,transform:u,align:c,strikethrough:d,italic:h},{size:p})=>{const f=r.fn.variant({variant:"gradient",gradient:a});return{root:ume(KS(KS(KS(KS({},r.fn.fontStyles()),r.fn.focusStyles()),hme(t)),pme({theme:r,truncate:n})),{color:dme({color:e,theme:r}),fontFamily:o?"inherit":r.fontFamily,fontSize:o||p===void 0?"inherit":be({size:p,sizes:r.fontSizes}),lineHeight:o?"inherit":i?1:r.lineHeight,textDecoration:cme({underline:s,strikethrough:d}),WebkitTapHighlightColor:"transparent",fontWeight:o?"inherit":l,textTransform:u,textAlign:c,fontStyle:h?"italic":void 0}),gradient:{backgroundImage:f.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}}),gme=Object.defineProperty,xb=Object.getOwnPropertySymbols,o7=Object.prototype.hasOwnProperty,s7=Object.prototype.propertyIsEnumerable,MB=(r,e,t)=>e in r?gme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mme=(r,e)=>{for(var t in e)o7.call(e,t)&&MB(r,t,e[t]);if(xb)for(var t of xb(e))s7.call(e,t)&&MB(r,t,e[t]);return r},vme=(r,e)=>{var t={};for(var n in r)o7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&xb)for(var n of xb(r))e.indexOf(n)<0&&s7.call(r,n)&&(t[n]=r[n]);return t};const yme={variant:"text"},a7=Ce((r,e)=>{const t=Me("Text",yme,r),{className:n,size:i,weight:o,transform:s,color:a,align:l,variant:u,lineClamp:c,truncate:d,gradient:h,inline:p,inherit:f,underline:g,strikethrough:v,italic:y,classNames:C,styles:w,unstyled:S,span:P,__staticSelector:F}=t,_=vme(t,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span","__staticSelector"]),{classes:E,cx:T}=fme({color:a,lineClamp:c,truncate:d,inline:p,inherit:f,underline:g,strikethrough:v,italic:y,weight:o,transform:s,align:l,gradient:h},{unstyled:S,name:F||"Text",variant:u,size:i});return x.createElement(Ge,mme({ref:e,className:T(E.root,{[E.gradient]:u==="gradient"},n),component:P?"span":"div"},_))});a7.displayName="@mantine/core/Text";const Se=a7,l7=Yn({zIndex:1e3,fixed:!1,layout:"default"}),Cme=l7.Provider;function u7(){return Ut(l7)}function xO(r,e){if(!r)return[];const t=Object.keys(r).filter(n=>n!=="base").map(n=>[be({size:n,sizes:e.breakpoints,units:"em"}),r[n]]);return t.sort((n,i)=>va(n[0])-va(i[0])),t}var wme=Object.defineProperty,Sme=Object.defineProperties,Eme=Object.getOwnPropertyDescriptors,LB=Object.getOwnPropertySymbols,_me=Object.prototype.hasOwnProperty,bme=Object.prototype.propertyIsEnumerable,NB=(r,e,t)=>e in r?wme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,YS=(r,e)=>{for(var t in e||(e={}))_me.call(e,t)&&NB(r,t,e[t]);if(LB)for(var t of LB(e))bme.call(e,t)&&NB(r,t,e[t]);return r},GB=(r,e)=>Sme(r,Eme(e)),Rme=We((r,{height:e,width:t,fixed:n,position:i,hiddenBreakpoint:o,zIndex:s,section:a,withBorder:l,layout:u})=>{const c=typeof t=="object"&&t!==null?xO(t,r).reduce((h,[p,f])=>(h[`@media (min-width: ${us(p)})`]={width:W(f),minWidth:W(f)},h),{}):null,d=l?{[a==="navbar"?"borderRight":"borderLeft"]:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[2]}`}:{};return{root:GB(YS(YS(GB(YS(YS({},r.fn.fontStyles()),i),{top:u==="alt"?0:(i==null?void 0:i.top)||"var(--mantine-header-height)",bottom:0,zIndex:s,height:e?W(e):u==="alt"?"auto":"calc(100vh - var(--mantine-header-height, 0rem) - var(--mantine-footer-height, 0rem))",width:t!=null&&t.base?W(t==null?void 0:t.base):"100%",position:n?"fixed":"static",boxSizing:"border-box",display:"flex",flexDirection:"column",backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white}),d),c),{"&[data-hidden]":{[`@media (max-width: ${us(va(be({size:o,sizes:r.breakpoints}))-1)})`]:{display:"none"}}})}}),Tme=Object.defineProperty,Ib=Object.getOwnPropertySymbols,c7=Object.prototype.hasOwnProperty,d7=Object.prototype.propertyIsEnumerable,VB=(r,e,t)=>e in r?Tme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,HB=(r,e)=>{for(var t in e||(e={}))c7.call(e,t)&&VB(r,t,e[t]);if(Ib)for(var t of Ib(e))d7.call(e,t)&&VB(r,t,e[t]);return r},Pme=(r,e)=>{var t={};for(var n in r)c7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Ib)for(var n of Ib(r))e.indexOf(n)<0&&d7.call(r,n)&&(t[n]=r[n]);return t};const h7=Ce((r,e)=>{var t=r,{width:n,height:i,fixed:o=!1,position:s,zIndex:a,hiddenBreakpoint:l="md",hidden:u=!1,withBorder:c=!0,className:d,classNames:h,styles:p,children:f,section:g,__staticSelector:v,unstyled:y,variant:C}=t,w=Pme(t,["width","height","fixed","position","zIndex","hiddenBreakpoint","hidden","withBorder","className","classNames","styles","children","section","__staticSelector","unstyled","variant"]);const S=u7(),{classes:P,cx:F,theme:_}=Rme({width:n,height:i,fixed:S.fixed||o,position:s,hiddenBreakpoint:l,zIndex:a||S.zIndex||Da("app"),section:g,withBorder:c,layout:S.layout},{classNames:h,styles:p,name:v,unstyled:y,variant:C}),E=xO(n,_).reduce((T,[O,L])=>(T[`@media (min-width: ${us(O)})`]={[`--mantine-${g}-width`]:W(L)},T),{});return x.createElement(Ge,HB({component:g==="navbar"?"nav":"aside",ref:e,"data-hidden":u||void 0,className:F(P.root,d)},w),f,x.createElement(v9,{styles:()=>({":root":HB({[`--mantine-${g}-width`]:n!=null&&n.base?W(n.base):"0rem"},E)})}))});h7.displayName="@mantine/core/HorizontalSection";var Ome=Object.defineProperty,Fb=Object.getOwnPropertySymbols,p7=Object.prototype.hasOwnProperty,f7=Object.prototype.propertyIsEnumerable,kB=(r,e,t)=>e in r?Ome(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dme=(r,e)=>{for(var t in e)p7.call(e,t)&&kB(r,t,e[t]);if(Fb)for(var t of Fb(e))f7.call(e,t)&&kB(r,t,e[t]);return r},Ame=(r,e)=>{var t={};for(var n in r)p7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Fb)for(var n of Fb(r))e.indexOf(n)<0&&f7.call(r,n)&&(t[n]=r[n]);return t};const g7=Ce((r,e)=>{var t=r,{children:n,grow:i=!1,sx:o}=t,s=Ame(t,["children","grow","sx"]);return x.createElement(Ge,Dme({ref:e,sx:[{flex:i?1:0,boxSizing:"border-box"},...fO(o)]},s),n)});g7.displayName="@mantine/core/Section";const xme=g7;var Ime=Object.defineProperty,$B=Object.getOwnPropertySymbols,Fme=Object.prototype.hasOwnProperty,Mme=Object.prototype.propertyIsEnumerable,BB=(r,e,t)=>e in r?Ime(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Lme=(r,e)=>{for(var t in e||(e={}))Fme.call(e,t)&&BB(r,t,e[t]);if($B)for(var t of $B(e))Mme.call(e,t)&&BB(r,t,e[t]);return r};const Nme={fixed:!1,position:{top:0,left:0},hiddenBreakpoint:"md",hidden:!1},n0=Ce((r,e)=>{const t=Me("Navbar",Nme,r);return x.createElement(h7,Lme({section:"navbar",__staticSelector:"Navbar",ref:e},t))});n0.Section=xme;n0.displayName="@mantine/core/Navbar";var Gme=Object.defineProperty,Vme=Object.defineProperties,Hme=Object.getOwnPropertyDescriptors,jB=Object.getOwnPropertySymbols,kme=Object.prototype.hasOwnProperty,$me=Object.prototype.propertyIsEnumerable,WB=(r,e,t)=>e in r?Gme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dx=(r,e)=>{for(var t in e||(e={}))kme.call(e,t)&&WB(r,t,e[t]);if(jB)for(var t of jB(e))$me.call(e,t)&&WB(r,t,e[t]);return r},UB=(r,e)=>Vme(r,Hme(e)),Bme=We((r,{height:e,fixed:t,position:n,zIndex:i,borderPosition:o,layout:s})=>{const a=typeof e=="object"&&e!==null?xO(e,r).reduce((l,[u,c])=>(l[`@media (min-width: ${us(u)})`]={height:W(c),minHeight:W(c)},l),{}):null;return{root:UB(Dx(UB(Dx(Dx({},r.fn.fontStyles()),n),{zIndex:i,left:s==="alt"?"var(--mantine-navbar-width, 0)":0,right:s==="alt"?"var(--mantine-aside-width, 0)":0,height:typeof e=="object"?W(e==null?void 0:e.base)||"100%":W(e),maxHeight:typeof e=="object"?W(e==null?void 0:e.base)||"100%":W(e),position:t?"fixed":"static",boxSizing:"border-box",backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white}),a),{borderBottom:o==="bottom"?`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[2]}`:void 0,borderTop:o==="top"?`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[2]}`:void 0})}}),jme=Object.defineProperty,Mb=Object.getOwnPropertySymbols,m7=Object.prototype.hasOwnProperty,v7=Object.prototype.propertyIsEnumerable,zB=(r,e,t)=>e in r?jme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,KB=(r,e)=>{for(var t in e||(e={}))m7.call(e,t)&&zB(r,t,e[t]);if(Mb)for(var t of Mb(e))v7.call(e,t)&&zB(r,t,e[t]);return r},Wme=(r,e)=>{var t={};for(var n in r)m7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Mb)for(var n of Mb(r))e.indexOf(n)<0&&v7.call(r,n)&&(t[n]=r[n]);return t};const y7=Ce((r,e)=>{var t=r,{children:n,className:i,classNames:o,styles:s,height:a,fixed:l=!1,withBorder:u=!0,position:c,zIndex:d,section:h,unstyled:p,__staticSelector:f,variant:g}=t,v=Wme(t,["children","className","classNames","styles","height","fixed","withBorder","position","zIndex","section","unstyled","__staticSelector","variant"]);const y=u7(),C=d||y.zIndex||Da("app"),{classes:w,cx:S,theme:P}=Bme({height:a,fixed:y.fixed||l,position:c,zIndex:typeof C=="number"&&y.layout==="default"?C+1:C,layout:y.layout,borderPosition:u?h==="header"?"bottom":"top":"none"},{name:f,classNames:o,styles:s,unstyled:p,variant:g}),F=typeof a=="object"&&a!==null?xO(a,P).reduce((_,[E,T])=>(_[`@media (min-width: ${us(E)})`]={[`--mantine-${h}-height`]:W(T)},_),{}):null;return x.createElement(Ge,KB({component:h==="header"?"header":"footer",className:S(w.root,i),ref:e},v),n,x.createElement(v9,{styles:()=>({":root":KB({[`--mantine-${h}-height`]:typeof a=="object"?W(a==null?void 0:a.base)||"100%":W(a)},F)})}))});y7.displayName="@mantine/core/VerticalSection";var Ume=Object.defineProperty,zme=Object.defineProperties,Kme=Object.getOwnPropertyDescriptors,YB=Object.getOwnPropertySymbols,Yme=Object.prototype.hasOwnProperty,qme=Object.prototype.propertyIsEnumerable,qB=(r,e,t)=>e in r?Ume(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qme=(r,e)=>{for(var t in e||(e={}))Yme.call(e,t)&&qB(r,t,e[t]);if(YB)for(var t of YB(e))qme.call(e,t)&&qB(r,t,e[t]);return r},Xme=(r,e)=>zme(r,Kme(e));const Jme={fixed:!1,position:{top:0,left:0,right:0}},C7=Ce((r,e)=>{const t=Me("Header",Jme,r);return x.createElement(y7,Xme(Qme({section:"header",__staticSelector:"Header"},t),{ref:e}))});C7.displayName="@mantine/core/Header";var Zme=Object.defineProperty,QB=Object.getOwnPropertySymbols,eve=Object.prototype.hasOwnProperty,tve=Object.prototype.propertyIsEnumerable,XB=(r,e,t)=>e in r?Zme(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w7=(r,e)=>{for(var t in e||(e={}))eve.call(e,t)&&XB(r,t,e[t]);if(QB)for(var t of QB(e))tve.call(e,t)&&XB(r,t,e[t]);return r};function nve(r,e){const t=be({size:r.padding,sizes:e.spacing}),n=r.navbarOffsetBreakpoint?be({size:r.navbarOffsetBreakpoint,sizes:e.breakpoints}):null,i=r.asideOffsetBreakpoint?be({size:r.asideOffsetBreakpoint,sizes:e.breakpoints}):null;if(!r.fixed)return{padding:t};const o=va(n),s=va(i);return w7({minHeight:"100vh",paddingTop:`calc(var(--mantine-header-height, 0px) + ${t})`,paddingBottom:`calc(var(--mantine-footer-height, 0px) + ${t})`,paddingLeft:`calc(var(--mantine-navbar-width, 0px) + ${t})`,paddingRight:`calc(var(--mantine-aside-width, 0px) + ${t})`},o===s?{[`@media (max-width: ${us(o-1)})`]:{paddingLeft:t,paddingRight:t}}:{[`@media (max-width: ${us(o-1)})`]:{paddingLeft:t},[`@media (max-width: ${us(s-1)})`]:{paddingRight:t}})}var rve=We((r,e)=>({root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:w7({flex:1,width:"100vw",boxSizing:"border-box"},nve(e,r))})),ive=Object.defineProperty,Lb=Object.getOwnPropertySymbols,S7=Object.prototype.hasOwnProperty,E7=Object.prototype.propertyIsEnumerable,JB=(r,e,t)=>e in r?ive(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ove=(r,e)=>{for(var t in e)S7.call(e,t)&&JB(r,t,e[t]);if(Lb)for(var t of Lb(e))E7.call(e,t)&&JB(r,t,e[t]);return r},sve=(r,e)=>{var t={};for(var n in r)S7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Lb)for(var n of Lb(r))e.indexOf(n)<0&&E7.call(r,n)&&(t[n]=r[n]);return t};const ave={fixed:!0,padding:"md"},_7=Ce((r,e)=>{const t=Me("AppShell",ave,r),{children:n,navbar:i,header:o,footer:s,aside:a,fixed:l,zIndex:u,padding:c,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:h,className:p,styles:f,classNames:g,unstyled:v,hidden:y,layout:C,variant:w}=t,S=sve(t,["children","navbar","header","footer","aside","fixed","zIndex","padding","navbarOffsetBreakpoint","asideOffsetBreakpoint","className","styles","classNames","unstyled","hidden","layout","variant"]),{classes:P,cx:F}=rve({padding:c,fixed:l,navbarOffsetBreakpoint:d,asideOffsetBreakpoint:h},{styles:f,classNames:g,unstyled:v,name:"AppShell",variant:w});return y?x.createElement(x.Fragment,null,n):x.createElement(Cme,{value:{fixed:l,zIndex:u,layout:C}},x.createElement(Ge,ove({className:F(P.root,p),ref:e},S),o,x.createElement("div",{className:P.body},i,x.createElement("main",{className:P.main},n),a),s))});_7.displayName="@mantine/core/AppShell";const qS={xs:W(1),sm:W(2),md:W(3),lg:W(4),xl:W(5)};function QS(r,e){const t=r.fn.variant({variant:"outline",color:e}).border;return typeof e=="string"&&(e in r.colors||e.split(".")[0]in r.colors)?t:e===void 0?r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4]:e}var lve=We((r,{color:e},{size:t,variant:n})=>({root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:W(1),borderTop:`${be({size:t,sizes:qS})} ${n} ${QS(r,e)}`,marginRight:r.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${be({size:t,sizes:qS})} ${n} ${QS(r,e)}`,marginLeft:r.spacing.xs}},labelDefaultStyles:{color:e==="dark"?r.colors.dark[1]:r.fn.themeColor(e,r.colorScheme==="dark"?5:r.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:W(be({size:t,sizes:qS})),borderTopColor:QS(r,e),borderTopStyle:n,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:W(be({size:t,sizes:qS})),borderLeftColor:QS(r,e),borderLeftStyle:n}})),uve=Object.defineProperty,cve=Object.defineProperties,dve=Object.getOwnPropertyDescriptors,Nb=Object.getOwnPropertySymbols,b7=Object.prototype.hasOwnProperty,R7=Object.prototype.propertyIsEnumerable,ZB=(r,e,t)=>e in r?uve(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ej=(r,e)=>{for(var t in e||(e={}))b7.call(e,t)&&ZB(r,t,e[t]);if(Nb)for(var t of Nb(e))R7.call(e,t)&&ZB(r,t,e[t]);return r},hve=(r,e)=>cve(r,dve(e)),pve=(r,e)=>{var t={};for(var n in r)b7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Nb)for(var n of Nb(r))e.indexOf(n)<0&&R7.call(r,n)&&(t[n]=r[n]);return t};const fve={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},Oo=Ce((r,e)=>{const t=Me("Divider",fve,r),{className:n,color:i,orientation:o,size:s,label:a,labelPosition:l,labelProps:u,variant:c,styles:d,classNames:h,unstyled:p}=t,f=pve(t,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:v}=lve({color:i},{classNames:h,styles:d,unstyled:p,name:"Divider",variant:c,size:s}),y=o==="vertical",C=o==="horizontal",w=!!a&&C,S=!(u!=null&&u.color);return x.createElement(Ge,ej({ref:e,className:v(g.root,{[g.vertical]:y,[g.horizontal]:C,[g.withLabel]:w},n),role:"separator"},f),w&&x.createElement(Se,hve(ej({},u),{size:(u==null?void 0:u.size)||"xs",mt:W(2),className:v(g.label,g[l],{[g.labelDefaultStyles]:S})}),a))});Oo.displayName="@mantine/core/Divider";var gve=Object.defineProperty,mve=Object.defineProperties,vve=Object.getOwnPropertyDescriptors,tj=Object.getOwnPropertySymbols,yve=Object.prototype.hasOwnProperty,Cve=Object.prototype.propertyIsEnumerable,nj=(r,e,t)=>e in r?gve(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rj=(r,e)=>{for(var t in e||(e={}))yve.call(e,t)&&nj(r,t,e[t]);if(tj)for(var t of tj(e))Cve.call(e,t)&&nj(r,t,e[t]);return r},wve=(r,e)=>mve(r,vve(e)),Sve=We((r,e,{size:t})=>({item:wve(rj({},r.fn.fontStyles()),{boxSizing:"border-box",wordBreak:"break-all",textAlign:"left",width:"100%",padding:`calc(${be({size:t,sizes:r.spacing})} / 1.5) ${be({size:t,sizes:r.spacing})}`,cursor:"pointer",fontSize:be({size:t,sizes:r.fontSizes}),color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,borderRadius:r.fn.radius(),"&[data-hovered]":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[1]},"&[data-selected]":rj({backgroundColor:r.fn.variant({variant:"filled"}).background,color:r.fn.variant({variant:"filled"}).color},r.fn.hover({backgroundColor:r.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:r.colors.dark[2]}}),nothingFound:{boxSizing:"border-box",color:r.colors.gray[6],paddingTop:`calc(${be({size:t,sizes:r.spacing})} / 2)`,paddingBottom:`calc(${be({size:t,sizes:r.spacing})} / 2)`,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`calc(${be({size:t,sizes:r.spacing})} / 1.5) ${be({size:t,sizes:r.spacing})}`},separatorLabel:{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]}})),Eve=Object.defineProperty,ij=Object.getOwnPropertySymbols,_ve=Object.prototype.hasOwnProperty,bve=Object.prototype.propertyIsEnumerable,oj=(r,e,t)=>e in r?Eve(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rve=(r,e)=>{for(var t in e||(e={}))_ve.call(e,t)&&oj(r,t,e[t]);if(ij)for(var t of ij(e))bve.call(e,t)&&oj(r,t,e[t]);return r};function T7({data:r,hovered:e,classNames:t,styles:n,isItemSelected:i,uuid:o,__staticSelector:s,onItemHover:a,onItemSelect:l,itemsRefs:u,itemComponent:c,size:d,nothingFound:h,creatable:p,createLabel:f,unstyled:g,variant:v}){const{classes:y}=Sve(null,{classNames:t,styles:n,unstyled:g,name:s,variant:v,size:d}),C=[],w=[];let S=null;const P=(_,E)=>{const T=typeof i=="function"?i(_.value):!1;return x.createElement(c,Rve({key:_.value,className:y.item,"data-disabled":_.disabled||void 0,"data-hovered":!_.disabled&&e===E||void 0,"data-selected":!_.disabled&&T||void 0,selected:T,onMouseEnter:()=>a(E),id:`${o}-${E}`,role:"option",tabIndex:-1,"aria-selected":e===E,ref:O=>{u&&u.current&&(u.current[_.value]=O)},onMouseDown:_.disabled?null:O=>{O.preventDefault(),l(_)},disabled:_.disabled,variant:v},_))};let F=null;if(r.forEach((_,E)=>{_.creatable?S=E:_.group?(F!==_.group&&(F=_.group,w.push(x.createElement("div",{className:y.separator,key:`__mantine-divider-${E}`},x.createElement(Oo,{classNames:{label:y.separatorLabel},label:_.group})))),w.push(P(_,E))):C.push(P(_,E))}),p){const _=r[S];C.push(x.createElement("div",{key:OO(),className:y.item,"data-hovered":e===S||void 0,onMouseEnter:()=>a(S),onMouseDown:E=>{E.preventDefault(),l(_)},tabIndex:-1,ref:E=>{u&&u.current&&(u.current[_.value]=E)}},f))}return w.length>0&&C.length>0&&C.unshift(x.createElement("div",{className:y.separator,key:"empty-group-separator"},x.createElement(Oo,null))),w.length>0||C.length>0?x.createElement(x.Fragment,null,w,C):x.createElement(Se,{size:d,unstyled:g,className:y.nothingFound},h)}T7.displayName="@mantine/core/SelectItems";var Tve=Object.defineProperty,Gb=Object.getOwnPropertySymbols,P7=Object.prototype.hasOwnProperty,O7=Object.prototype.propertyIsEnumerable,sj=(r,e,t)=>e in r?Tve(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pve=(r,e)=>{for(var t in e)P7.call(e,t)&&sj(r,t,e[t]);if(Gb)for(var t of Gb(e))O7.call(e,t)&&sj(r,t,e[t]);return r},Ove=(r,e)=>{var t={};for(var n in r)P7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Gb)for(var n of Gb(r))e.indexOf(n)<0&&O7.call(r,n)&&(t[n]=r[n]);return t};const D7=Ce((r,e)=>{var t=r,{label:n,value:i}=t,o=Ove(t,["label","value"]);return x.createElement("div",Pve({ref:e},o),n||i)});D7.displayName="@mantine/core/DefaultItem";function Dve(r,e){typeof r=="function"?r(e):r!=null&&(r.current=e)}function A7(...r){return e=>r.forEach(t=>Dve(t,e))}function dp(...r){return at(A7(...r),r)}const x7=Ce((r,e)=>{const{children:t,...n}=r,i=hl.toArray(t),o=i.find(xve);if(o){const s=o.props.children,a=i.map(l=>l===o?hl.count(s)>1?hl.only(null):uu(s)?s.props.children:null:l);return zt(hM,Ln({},n,{ref:e}),uu(s)?eo(s,void 0,a):null)}return zt(hM,Ln({},n,{ref:e}),t)});x7.displayName="Slot";const hM=Ce((r,e)=>{const{children:t,...n}=r;return uu(t)?eo(t,{...Ive(n,t.props),ref:A7(e,t.ref)}):hl.count(t)>1?hl.only(null):null});hM.displayName="SlotClone";const Ave=({children:r})=>zt(dO,null,r);function xve(r){return uu(r)&&r.type===Ave}function Ive(r,e){const t={...e};for(const n in e){const i=r[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?t[n]=(...a)=>{o(...a),i(...a)}:i&&(t[n]=i):n==="style"?t[n]={...i,...o}:n==="className"&&(t[n]=[i,o].filter(Boolean).join(" "))}return{...r,...t}}const Fve=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],zC=Fve.reduce((r,e)=>{const t=Ce((n,i)=>{const{asChild:o,...s}=n,a=o?x7:e;return Fe(()=>{window[Symbol.for("radix-ui")]=!0},[]),zt(a,Ln({},s,{ref:i}))});return t.displayName=`Primitive.${e}`,{...r,[e]:t}},{}),pM=globalThis!=null&&globalThis.document?xu:()=>{};function Mve(r,e){return cO((t,n)=>{const i=e[t][n];return i??t},r)}const KC=r=>{const{present:e,children:t}=r,n=Lve(e),i=typeof t=="function"?t({present:n.isPresent}):hl.only(t),o=dp(n.ref,i.ref);return typeof t=="function"||n.isPresent?eo(i,{ref:o}):null};KC.displayName="Presence";function Lve(r){const[e,t]=Te(),n=ve({}),i=ve(r),o=ve("none"),s=r?"mounted":"unmounted",[a,l]=Mve(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Fe(()=>{const u=XS(n.current);o.current=a==="mounted"?u:"none"},[a]),pM(()=>{const u=n.current,c=i.current;if(c!==r){const h=o.current,p=XS(u);r?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=r}},[r,l]),pM(()=>{if(e){const u=d=>{const p=XS(n.current).includes(d.animationName);d.target===e&&p&&D6(()=>l("ANIMATION_END"))},c=d=>{d.target===e&&(o.current=XS(n.current))};return e.addEventListener("animationstart",c),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",c),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:at(u=>{u&&(n.current=getComputedStyle(u)),t(u)},[])}}function XS(r){return(r==null?void 0:r.animationName)||"none"}function Nve(r,e=[]){let t=[];function n(o,s){const a=Yn(s),l=t.length;t=[...t,s];function u(d){const{scope:h,children:p,...f}=d,g=(h==null?void 0:h[r][l])||a,v=Rn(()=>f,Object.values(f));return zt(g.Provider,{value:v},p)}function c(d,h){const p=(h==null?void 0:h[r][l])||a,f=Ut(p);if(f)return f;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=t.map(s=>Yn(s));return function(a){const l=(a==null?void 0:a[r])||o;return Rn(()=>({[`__scope${r}`]:{...a,[r]:l}}),[a,l])}};return i.scopeName=r,[n,Gve(i,...e)]}function Gve(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=n.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return Rn(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return t.scopeName=e.scopeName,t}function eh(r){const e=ve(r);return Fe(()=>{e.current=r}),Rn(()=>(...t)=>{var n;return(n=e.current)===null||n===void 0?void 0:n.call(e,...t)},[])}const Vve=Yn(void 0);function Hve(r){const e=Ut(Vve);return r||e||"ltr"}function kve(r,[e,t]){return Math.min(t,Math.max(e,r))}function Ch(r,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(r==null||r(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $ve(r,e){return cO((t,n)=>{const i=e[t][n];return i??t},r)}const I7="ScrollArea",[F7,Got]=Nve(I7),[Bve,Us]=F7(I7),jve=Ce((r,e)=>{const{__scopeScrollArea:t,type:n="hover",dir:i,scrollHideDelay:o=600,...s}=r,[a,l]=Te(null),[u,c]=Te(null),[d,h]=Te(null),[p,f]=Te(null),[g,v]=Te(null),[y,C]=Te(0),[w,S]=Te(0),[P,F]=Te(!1),[_,E]=Te(!1),T=dp(e,L=>l(L)),O=Hve(i);return zt(Bve,{scope:t,type:n,dir:O,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:f,scrollbarXEnabled:P,onScrollbarXEnabledChange:F,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:C,onCornerHeightChange:S},zt(zC.div,Ln({dir:O},s,{ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...r.style}})))}),Wve="ScrollAreaViewport",Uve=Ce((r,e)=>{const{__scopeScrollArea:t,children:n,...i}=r,o=Us(Wve,t),s=ve(null),a=dp(e,s,o.onViewportChange);return zt(dO,null,zt("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),zt(zC.div,Ln({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...r.style}}),zt("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},n)))}),Iu="ScrollAreaScrollbar",zve=Ce((r,e)=>{const{forceMount:t,...n}=r,i=Us(Iu,r.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=r.orientation==="horizontal";return Fe(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?zt(Kve,Ln({},n,{ref:e,forceMount:t})):i.type==="scroll"?zt(Yve,Ln({},n,{ref:e,forceMount:t})):i.type==="auto"?zt(M7,Ln({},n,{ref:e,forceMount:t})):i.type==="always"?zt(r0,Ln({},n,{ref:e})):null}),Kve=Ce((r,e)=>{const{forceMount:t,...n}=r,i=Us(Iu,r.__scopeScrollArea),[o,s]=Te(!1);return Fe(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),zt(KC,{present:t||o},zt(M7,Ln({"data-state":o?"visible":"hidden"},n,{ref:e})))}),Yve=Ce((r,e)=>{const{forceMount:t,...n}=r,i=Us(Iu,r.__scopeScrollArea),o=r.orientation==="horizontal",s=FO(()=>l("SCROLL_END"),100),[a,l]=$ve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return Fe(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),Fe(()=>{const u=i.viewport,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const h=()=>{const p=u[c];d!==p&&(l("SCROLL"),s()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,o,l,s]),zt(KC,{present:t||a!=="hidden"},zt(r0,Ln({"data-state":a==="hidden"?"hidden":"visible"},n,{ref:e,onPointerEnter:Ch(r.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ch(r.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),M7=Ce((r,e)=>{const t=Us(Iu,r.__scopeScrollArea),{forceMount:n,...i}=r,[o,s]=Te(!1),a=r.orientation==="horizontal",l=FO(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,c=t.viewport.offsetHeight<t.viewport.scrollHeight;s(a?u:c)}},10);return ng(t.viewport,l),ng(t.content,l),zt(KC,{present:n||o},zt(r0,Ln({"data-state":o?"visible":"hidden"},i,{ref:e})))}),r0=Ce((r,e)=>{const{orientation:t="vertical",...n}=r,i=Us(Iu,r.__scopeScrollArea),o=ve(null),s=ve(0),[a,l]=Te({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=V7(a.viewport,a.content),c={...n,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,p){return nye(h,s.current,a,p)}return t==="horizontal"?zt(qve,Ln({},c,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollLeft,p=aj(h,a,i.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}})):t==="vertical"?zt(Qve,Ln({},c,{ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const h=i.viewport.scrollTop,p=aj(h,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}})):null}),qve=Ce((r,e)=>{const{sizes:t,onSizesChange:n,...i}=r,o=Us(Iu,r.__scopeScrollArea),[s,a]=Te(),l=ve(null),u=dp(e,l,o.onScrollbarXChange);return Fe(()=>{l.current&&a(getComputedStyle(l.current))},[l]),zt(N7,Ln({"data-orientation":"horizontal"},i,{ref:u,sizes:t,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":IO(t)+"px",...r.style},onThumbPointerDown:c=>r.onThumbPointerDown(c.x),onDragScroll:c=>r.onDragScroll(c.x),onWheelScroll:(c,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+c.deltaX;r.onWheelScroll(h),k7(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Vb(s.paddingLeft),paddingEnd:Vb(s.paddingRight)}})}}))}),Qve=Ce((r,e)=>{const{sizes:t,onSizesChange:n,...i}=r,o=Us(Iu,r.__scopeScrollArea),[s,a]=Te(),l=ve(null),u=dp(e,l,o.onScrollbarYChange);return Fe(()=>{l.current&&a(getComputedStyle(l.current))},[l]),zt(N7,Ln({"data-orientation":"vertical"},i,{ref:u,sizes:t,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":IO(t)+"px",...r.style},onThumbPointerDown:c=>r.onThumbPointerDown(c.y),onDragScroll:c=>r.onDragScroll(c.y),onWheelScroll:(c,d)=>{if(o.viewport){const h=o.viewport.scrollTop+c.deltaY;r.onWheelScroll(h),k7(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Vb(s.paddingTop),paddingEnd:Vb(s.paddingBottom)}})}}))}),[Xve,L7]=F7(Iu),N7=Ce((r,e)=>{const{__scopeScrollArea:t,sizes:n,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...h}=r,p=Us(Iu,t),[f,g]=Te(null),v=dp(e,T=>g(T)),y=ve(null),C=ve(""),w=p.viewport,S=n.content-n.viewport,P=eh(c),F=eh(l),_=FO(d,10);function E(T){if(y.current){const O=T.clientX-y.current.left,L=T.clientY-y.current.top;u({x:O,y:L})}}return Fe(()=>{const T=O=>{const L=O.target;(f==null?void 0:f.contains(L))&&P(O,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,f,S,P]),Fe(F,[n,F]),ng(f,_),ng(p.content,_),zt(Xve,{scope:t,scrollbar:f,hasThumb:i,onThumbChange:eh(o),onThumbPointerUp:eh(s),onThumbPositionChange:F,onThumbPointerDown:eh(a)},zt(zC.div,Ln({},h,{ref:v,style:{position:"absolute",...h.style},onPointerDown:Ch(r.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=f.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(T))}),onPointerMove:Ch(r.onPointerMove,E),onPointerUp:Ch(r.onPointerUp,T=>{const O=T.target;O.hasPointerCapture(T.pointerId)&&O.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=C.current,y.current=null})})))}),fM="ScrollAreaThumb",Jve=Ce((r,e)=>{const{forceMount:t,...n}=r,i=L7(fM,r.__scopeScrollArea);return zt(KC,{present:t||i.hasThumb},zt(Zve,Ln({ref:e},n)))}),Zve=Ce((r,e)=>{const{__scopeScrollArea:t,style:n,...i}=r,o=Us(fM,t),s=L7(fM,t),{onThumbPositionChange:a}=s,l=dp(e,d=>s.onThumbChange(d)),u=ve(),c=FO(()=>{u.current&&(u.current(),u.current=void 0)},100);return Fe(()=>{const d=o.viewport;if(d){const h=()=>{if(c(),!u.current){const p=rye(d,a);u.current=p,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,c,a]),zt(zC.div,Ln({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ch(r.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),f=d.clientX-p.left,g=d.clientY-p.top;s.onThumbPointerDown({x:f,y:g})}),onPointerUp:Ch(r.onPointerUp,s.onThumbPointerUp)}))}),G7="ScrollAreaCorner",eye=Ce((r,e)=>{const t=Us(G7,r.__scopeScrollArea),n=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&n?zt(tye,Ln({},r,{ref:e})):null}),tye=Ce((r,e)=>{const{__scopeScrollArea:t,...n}=r,i=Us(G7,t),[o,s]=Te(0),[a,l]=Te(0),u=!!(o&&a);return ng(i.scrollbarX,()=>{var c;const d=((c=i.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),ng(i.scrollbarY,()=>{var c;const d=((c=i.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?zt(zC.div,Ln({},n,{ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...r.style}})):null});function Vb(r){return r?parseInt(r,10):0}function V7(r,e){const t=r/e;return isNaN(t)?0:t}function IO(r){const e=V7(r.viewport,r.content),t=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=(r.scrollbar.size-t)*e;return Math.max(n,18)}function nye(r,e,t,n="ltr"){const i=IO(t),o=i/2,s=e||o,a=i-s,l=t.scrollbar.paddingStart+s,u=t.scrollbar.size-t.scrollbar.paddingEnd-a,c=t.content-t.viewport,d=n==="ltr"?[0,c]:[c*-1,0];return H7([l,u],d)(r)}function aj(r,e,t="ltr"){const n=IO(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-n,l=t==="ltr"?[0,s]:[s*-1,0],u=kve(r,l);return H7([0,s],[0,a])(u)}function H7(r,e){return t=>{if(r[0]===r[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(r[1]-r[0]);return e[0]+n*(t-r[0])}}function k7(r,e){return r>0&&r<e}const rye=(r,e=()=>{})=>{let t={left:r.scrollLeft,top:r.scrollTop},n=0;return function i(){const o={left:r.scrollLeft,top:r.scrollTop},s=t.left!==o.left,a=t.top!==o.top;(s||a)&&e(),t=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function FO(r,e){const t=eh(r),n=ve(0);return Fe(()=>()=>window.clearTimeout(n.current),[]),at(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,e)},[t,e])}function ng(r,e){const t=eh(e);pM(()=>{let n=0;if(r){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(t)});return i.observe(r),()=>{window.cancelAnimationFrame(n),i.unobserve(r)}}},[r,t])}const iye=jve,oye=Uve,lj=zve,uj=Jve,sye=eye;var aye=We((r,{scrollbarSize:e,offsetScrollbars:t,scrollbarHovered:n,hidden:i})=>({root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:t?W(e):void 0,paddingBottom:t?W(e):void 0},scrollbar:{display:i?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:`calc(${W(e)}  / 5)`,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[8]:r.colors.gray[0],[`& .${mb("thumb")}`]:{backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.white,.5):r.fn.rgba(r.black,.5)}},'&[data-orientation="vertical"]':{width:W(e)},'&[data-orientation="horizontal"]':{flexDirection:"column",height:W(e)},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:mb("thumb"),flex:1,backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.white,.4):r.fn.rgba(r.black,.4),borderRadius:W(e),position:"relative",transition:"background-color 150ms ease",display:i?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:W(44),minHeight:W(44)}},corner:{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0],transition:"opacity 150ms ease",opacity:n?1:0,display:i?"none":void 0}})),lye=Object.defineProperty,uye=Object.defineProperties,cye=Object.getOwnPropertyDescriptors,Hb=Object.getOwnPropertySymbols,$7=Object.prototype.hasOwnProperty,B7=Object.prototype.propertyIsEnumerable,cj=(r,e,t)=>e in r?lye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gM=(r,e)=>{for(var t in e||(e={}))$7.call(e,t)&&cj(r,t,e[t]);if(Hb)for(var t of Hb(e))B7.call(e,t)&&cj(r,t,e[t]);return r},j7=(r,e)=>uye(r,cye(e)),W7=(r,e)=>{var t={};for(var n in r)$7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Hb)for(var n of Hb(r))e.indexOf(n)<0&&B7.call(r,n)&&(t[n]=r[n]);return t};const U7={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},MO=Ce((r,e)=>{const t=Me("ScrollArea",U7,r),{children:n,className:i,classNames:o,styles:s,scrollbarSize:a,scrollHideDelay:l,type:u,dir:c,offsetScrollbars:d,viewportRef:h,onScrollPositionChange:p,unstyled:f,variant:g,viewportProps:v}=t,y=W7(t,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","variant","viewportProps"]),[C,w]=Te(!1),S=Ao(),{classes:P,cx:F}=aye({scrollbarSize:a,offsetScrollbars:d,scrollbarHovered:C,hidden:u==="never"},{name:"ScrollArea",classNames:o,styles:s,unstyled:f,variant:g});return x.createElement(iye,{type:u==="never"?"always":u,scrollHideDelay:l,dir:c||S.dir,ref:e,asChild:!0},x.createElement(Ge,gM({className:F(P.root,i)},y),x.createElement(oye,j7(gM({},v),{className:P.viewport,ref:h,onScroll:typeof p=="function"?({currentTarget:_})=>p({x:_.scrollLeft,y:_.scrollTop}):void 0}),n),x.createElement(lj,{orientation:"horizontal",className:P.scrollbar,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},x.createElement(uj,{className:P.thumb})),x.createElement(lj,{orientation:"vertical",className:P.scrollbar,forceMount:!0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1)},x.createElement(uj,{className:P.thumb})),x.createElement(sye,{className:P.corner})))}),z7=Ce((r,e)=>{const t=Me("ScrollAreaAutosize",U7,r),{children:n,classNames:i,styles:o,scrollbarSize:s,scrollHideDelay:a,type:l,dir:u,offsetScrollbars:c,viewportRef:d,onScrollPositionChange:h,unstyled:p,sx:f,variant:g,viewportProps:v}=t,y=W7(t,["children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx","variant","viewportProps"]);return x.createElement(Ge,j7(gM({},y),{ref:e,sx:[{display:"flex"},...fO(f)]}),x.createElement(Ge,{sx:{display:"flex",flexDirection:"column",flex:1}},x.createElement(MO,{classNames:i,styles:o,scrollHideDelay:a,scrollbarSize:s,type:l,dir:u,offsetScrollbars:c,viewportRef:d,onScrollPositionChange:h,unstyled:p,variant:g,viewportProps:v},n)))});z7.displayName="@mantine/core/ScrollAreaAutosize";MO.displayName="@mantine/core/ScrollArea";MO.Autosize=z7;const dye=MO;var hye=Object.defineProperty,pye=Object.defineProperties,fye=Object.getOwnPropertyDescriptors,kb=Object.getOwnPropertySymbols,K7=Object.prototype.hasOwnProperty,Y7=Object.prototype.propertyIsEnumerable,dj=(r,e,t)=>e in r?hye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hj=(r,e)=>{for(var t in e||(e={}))K7.call(e,t)&&dj(r,t,e[t]);if(kb)for(var t of kb(e))Y7.call(e,t)&&dj(r,t,e[t]);return r},gye=(r,e)=>pye(r,fye(e)),mye=(r,e)=>{var t={};for(var n in r)K7.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&kb)for(var n of kb(r))e.indexOf(n)<0&&Y7.call(r,n)&&(t[n]=r[n]);return t};const i0=Ce((r,e)=>{var t=r,{style:n}=t,i=mye(t,["style"]);return x.createElement(dye,gye(hj({},i),{style:hj({width:"100%"},n),viewportProps:{tabIndex:-1},viewportRef:e}),i.children)});i0.displayName="@mantine/core/SelectScrollArea";var vye=We(()=>({dropdown:{},itemsWrapper:{padding:W(4),display:"flex",width:"100%",boxSizing:"border-box"}}));const ya=Math.min,Li=Math.max,$b=Math.round,JS=Math.floor,fl=r=>({x:r,y:r}),yye={left:"right",right:"left",bottom:"top",top:"bottom"},Cye={start:"end",end:"start"};function mM(r,e,t){return Li(r,ya(e,t))}function mu(r,e){return typeof r=="function"?r(e):r}function Ca(r){return r.split("-")[0]}function Ug(r){return r.split("-")[1]}function o0(r){return r==="x"?"y":"x"}function s0(r){return r==="y"?"height":"width"}function vu(r){return["top","bottom"].includes(Ca(r))?"y":"x"}function a0(r){return o0(vu(r))}function wye(r,e,t){t===void 0&&(t=!1);const n=Ug(r),i=a0(r),o=s0(i);let s=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Bb(s)),[s,Bb(s)]}function Sye(r){const e=Bb(r);return[vM(r),e,vM(e)]}function vM(r){return r.replace(/start|end/g,e=>Cye[e])}function Eye(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:s;default:return[]}}function _ye(r,e,t,n){const i=Ug(r);let o=Eye(Ca(r),t==="start",n);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(vM)))),o}function Bb(r){return r.replace(/left|right|bottom|top/g,e=>yye[e])}function bye(r){return{top:0,right:0,bottom:0,left:0,...r}}function l0(r){return typeof r!="number"?bye(r):{top:r,right:r,bottom:r,left:r}}function rg(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}function pj(r,e,t){let{reference:n,floating:i}=r;const o=vu(e),s=a0(e),a=s0(s),l=Ca(e),u=o==="y",c=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,h=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:n.y-i.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Ug(e)){case"start":p[s]-=h*(t&&u?-1:1);break;case"end":p[s]+=h*(t&&u?-1:1);break}return p}const Rye=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=t,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:r,floating:e,strategy:i}),{x:c,y:d}=pj(u,n,l),h=n,p={},f=0;for(let g=0;g<a.length;g++){const{name:v,fn:y}=a[g],{x:C,y:w,data:S,reset:P}=await y({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:r,floating:e}});c=C??c,d=w??d,p={...p,[v]:{...p[v],...S}},P&&f<=50&&(f++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:r,floating:e,strategy:i}):P.rects),{x:c,y:d}=pj(u,h,l)),g=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:p}};async function u0(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=r,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=mu(e,r),f=l0(p),v=a[h?d==="floating"?"reference":"floating":d],y=rg(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(v)))==null||t?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),C=d==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},P=rg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:w,strategy:l}):C);return{top:(y.top-P.top+f.top)/S.y,bottom:(P.bottom-y.bottom+f.bottom)/S.y,left:(y.left-P.left+f.left)/S.x,right:(P.right-y.right+f.right)/S.x}}const Tye=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=mu(r,e)||{};if(u==null)return{};const d=l0(c),h={x:t,y:n},p=a0(i),f=s0(p),g=await s.getDimensions(u),v=p==="y",y=v?"top":"left",C=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=o.reference[f]+o.reference[p]-h[p]-o.floating[f],P=h[p]-o.reference[p],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let _=F?F[w]:0;(!_||!await(s.isElement==null?void 0:s.isElement(F)))&&(_=a.floating[w]||o.floating[f]);const E=S/2-P/2,T=_/2-g[f]/2-1,O=ya(d[y],T),L=ya(d[C],T),V=O,M=_-g[f]-L,N=_/2-g[f]/2+E,$=mM(V,N,M),B=!l.arrow&&Ug(i)!=null&&N!==$&&o.reference[f]/2-(N<V?O:L)-g[f]/2<0,U=B?N<V?N-V:N-M:0;return{[p]:h[p]+U,data:{[p]:$,centerOffset:N-$-U,...B&&{alignmentOffset:U}},reset:B}}}),Pye=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...v}=mu(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const y=Ca(i),C=vu(a),w=Ca(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=h||(w||!g?[Bb(a)]:Sye(a)),F=f!=="none";!h&&F&&P.push(..._ye(a,g,f,S));const _=[a,...P],E=await u0(e,v),T=[];let O=((n=o.flip)==null?void 0:n.overflows)||[];if(c&&T.push(E[y]),d){const N=wye(i,s,S);T.push(E[N[0]],E[N[1]])}if(O=[...O,{placement:i,overflows:T}],!T.every(N=>N<=0)){var L,V;const N=(((L=o.flip)==null?void 0:L.index)||0)+1,$=_[N];if($)return{data:{index:N,overflows:O},reset:{placement:$}};let B=(V=O.filter(U=>U.overflows[0]<=0).sort((U,z)=>U.overflows[1]-z.overflows[1])[0])==null?void 0:V.placement;if(!B)switch(p){case"bestFit":{var M;const U=(M=O.filter(z=>{if(F){const j=vu(z.placement);return j===C||j==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(j=>j>0).reduce((j,Q)=>j+Q,0)]).sort((z,j)=>z[1]-j[1])[0])==null?void 0:M[0];U&&(B=U);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};function q7(r){const e=ya(...r.map(o=>o.left)),t=ya(...r.map(o=>o.top)),n=Li(...r.map(o=>o.right)),i=Li(...r.map(o=>o.bottom));return{x:e,y:t,width:n-e,height:i-t}}function Oye(r){const e=r.slice().sort((i,o)=>i.y-o.y),t=[];let n=null;for(let i=0;i<e.length;i++){const o=e[i];!n||o.y-n.y>n.height/2?t.push([o]):t[t.length-1].push(o),n=o}return t.map(i=>rg(q7(i)))}const Dye=function(r){return r===void 0&&(r={}),{name:"inline",options:r,async fn(e){const{placement:t,elements:n,rects:i,platform:o,strategy:s}=e,{padding:a=2,x:l,y:u}=mu(r,e),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(n.reference))||[]),d=Oye(c),h=rg(q7(c)),p=l0(a);function f(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(v=>l>v.left-p.left&&l<v.right+p.right&&u>v.top-p.top&&u<v.bottom+p.bottom)||h;if(d.length>=2){if(vu(t)==="y"){const O=d[0],L=d[d.length-1],V=Ca(t)==="top",M=O.top,N=L.bottom,$=V?O.left:L.left,B=V?O.right:L.right,U=B-$,z=N-M;return{top:M,bottom:N,left:$,right:B,width:U,height:z,x:$,y:M}}const v=Ca(t)==="left",y=Li(...d.map(O=>O.right)),C=ya(...d.map(O=>O.left)),w=d.filter(O=>v?O.left===C:O.right===y),S=w[0].top,P=w[w.length-1].bottom,F=C,_=y,E=_-F,T=P-S;return{top:S,bottom:P,left:F,right:_,width:E,height:T,x:F,y:S}}return h}const g=await o.getElementRects({reference:{getBoundingClientRect:f},floating:n.floating,strategy:s});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function Aye(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Ca(t),a=Ug(t),l=vu(t)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=mu(e,r);let{mainAxis:h,crossAxis:p,alignmentAxis:f}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof f=="number"&&(p=a==="end"?f*-1:f),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const xye=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Aye(e,r);return s===((t=a.offset)==null?void 0:t.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Iye=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:y,y:C}=v;return{x:y,y:C}}},...l}=mu(r,e),u={x:t,y:n},c=await u0(e,l),d=vu(Ca(i)),h=o0(d);let p=u[h],f=u[d];if(o){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",C=p+c[v],w=p-c[y];p=mM(C,p,w)}if(s){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",C=f+c[v],w=f-c[y];f=mM(C,f,w)}const g=a.fn({...e,[h]:p,[d]:f});return{...g,data:{x:g.x-t,y:g.y-n,enabled:{[h]:o,[d]:s}}}}}},Fye=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=mu(r,e),c={x:t,y:n},d=vu(i),h=o0(d);let p=c[h],f=c[d];const g=mu(a,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",S=o.reference[h]-o.floating[w]+v.mainAxis,P=o.reference[h]+o.reference[w]-v.mainAxis;p<S?p=S:p>P&&(p=P)}if(u){var y,C;const w=h==="y"?"width":"height",S=["top","left"].includes(Ca(i)),P=o.reference[d]-o.floating[w]+(S&&((y=s.offset)==null?void 0:y[d])||0)+(S?0:v.crossAxis),F=o.reference[d]+o.reference[w]+(S?0:((C=s.offset)==null?void 0:C[d])||0)-(S?v.crossAxis:0);f<P?f=P:f>F&&(f=F)}return{[h]:p,[d]:f}}}},Mye=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...u}=mu(r,e),c=await u0(e,u),d=Ca(i),h=Ug(i),p=vu(i)==="y",{width:f,height:g}=o.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,v=h==="end"?"top":"bottom");const C=g-c.top-c.bottom,w=f-c.left-c.right,S=ya(g-c[v],C),P=ya(f-c[y],w),F=!e.middlewareData.shift;let _=S,E=P;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(E=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(_=C),F&&!h){const O=Li(c.left,0),L=Li(c.right,0),V=Li(c.top,0),M=Li(c.bottom,0);p?E=f-2*(O!==0||L!==0?O+L:Li(c.left,c.right)):_=g-2*(V!==0||M!==0?V+M:Li(c.top,c.bottom))}await l({...e,availableWidth:E,availableHeight:_});const T=await s.getDimensions(a.floating);return f!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function LO(){return typeof window<"u"}function zg(r){return Q7(r)?(r.nodeName||"").toLowerCase():"#document"}function ds(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ml(r){var e;return(e=(Q7(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function Q7(r){return LO()?r instanceof Node||r instanceof ds(r).Node:!1}function wa(r){return LO()?r instanceof Element||r instanceof ds(r).Element:!1}function Tl(r){return LO()?r instanceof HTMLElement||r instanceof ds(r).HTMLElement:!1}function fj(r){return!LO()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ds(r).ShadowRoot}function YC(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=Sa(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function Lye(r){return["table","td","th"].includes(zg(r))}function NO(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function c0(r){const e=d0(),t=wa(r)?Sa(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function Nye(r){let e=Zc(r);for(;Tl(e)&&!ig(e);){if(c0(e))return e;if(NO(e))return null;e=Zc(e)}return null}function d0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ig(r){return["html","body","#document"].includes(zg(r))}function Sa(r){return ds(r).getComputedStyle(r)}function GO(r){return wa(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Zc(r){if(zg(r)==="html")return r;const e=r.assignedSlot||r.parentNode||fj(r)&&r.host||Ml(r);return fj(e)?e.host:e}function X7(r){const e=Zc(r);return ig(e)?r.ownerDocument?r.ownerDocument.body:r.body:Tl(e)&&YC(e)?e:X7(e)}function cu(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=X7(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),s=ds(i);if(o){const a=yM(s);return e.concat(s,s.visualViewport||[],YC(i)?i:[],a&&t?cu(a):[])}return e.concat(i,cu(i,[],t))}function yM(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function J7(r){const e=Sa(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Tl(r),o=i?r.offsetWidth:t,s=i?r.offsetHeight:n,a=$b(t)!==o||$b(n)!==s;return a&&(t=o,n=s),{width:t,height:n,$:a}}function h0(r){return wa(r)?r:r.contextElement}function Nf(r){const e=h0(r);if(!Tl(e))return fl(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=J7(e);let s=(o?$b(t.width):t.width)/n,a=(o?$b(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Gye=fl(0);function Z7(r){const e=ds(r);return!d0()||!e.visualViewport?Gye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Vye(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ds(r)?!1:e}function Mh(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=h0(r);let s=fl(1);e&&(n?wa(n)&&(s=Nf(n)):s=Nf(r));const a=Vye(o,t,n)?Z7(o):fl(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const h=ds(o),p=n&&wa(n)?ds(n):n;let f=h,g=yM(f);for(;g&&n&&p!==f;){const v=Nf(g),y=g.getBoundingClientRect(),C=Sa(g),w=y.left+(g.clientLeft+parseFloat(C.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(C.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=w,u+=S,f=ds(g),g=yM(f)}}return rg({width:c,height:d,x:l,y:u})}function p0(r,e){const t=GO(r).scrollLeft;return e?e.left+t:Mh(Ml(r)).left+t}function e8(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:p0(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function Hye(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",s=Ml(n),a=e?NO(e.floating):!1;if(n===s||a&&o)return t;let l={scrollLeft:0,scrollTop:0},u=fl(1);const c=fl(0),d=Tl(n);if((d||!d&&!o)&&((zg(n)!=="body"||YC(s))&&(l=GO(n)),Tl(n))){const p=Mh(n);u=Nf(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}const h=s&&!d&&!o?e8(s,l,!0):fl(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:t.y*u.y-l.scrollTop*u.y+c.y+h.y}}function kye(r){return Array.from(r.getClientRects())}function $ye(r){const e=Ml(r),t=GO(r),n=r.ownerDocument.body,i=Li(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Li(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-t.scrollLeft+p0(r);const a=-t.scrollTop;return Sa(n).direction==="rtl"&&(s+=Li(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Bye(r,e){const t=ds(r),n=Ml(r),i=t.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=d0();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function jye(r,e){const t=Mh(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=Tl(r)?Nf(r):fl(1),s=r.clientWidth*o.x,a=r.clientHeight*o.y,l=i*o.x,u=n*o.y;return{width:s,height:a,x:l,y:u}}function gj(r,e,t){let n;if(e==="viewport")n=Bye(r,t);else if(e==="document")n=$ye(Ml(r));else if(wa(e))n=jye(e,t);else{const i=Z7(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rg(n)}function t8(r,e){const t=Zc(r);return t===e||!wa(t)||ig(t)?!1:Sa(t).position==="fixed"||t8(t,e)}function Wye(r,e){const t=e.get(r);if(t)return t;let n=cu(r,[],!1).filter(a=>wa(a)&&zg(a)!=="body"),i=null;const o=Sa(r).position==="fixed";let s=o?Zc(r):r;for(;wa(s)&&!ig(s);){const a=Sa(s),l=c0(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||YC(s)&&!l&&t8(r,s))?n=n.filter(c=>c!==s):i=a,s=Zc(s)}return e.set(r,n),n}function Uye(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const s=[...t==="clippingAncestors"?NO(e)?[]:Wye(e,this._c):[].concat(t),n],a=s[0],l=s.reduce((u,c)=>{const d=gj(e,c,i);return u.top=Li(d.top,u.top),u.right=ya(d.right,u.right),u.bottom=ya(d.bottom,u.bottom),u.left=Li(d.left,u.left),u},gj(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zye(r){const{width:e,height:t}=J7(r);return{width:e,height:t}}function Kye(r,e,t){const n=Tl(e),i=Ml(e),o=t==="fixed",s=Mh(r,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=fl(0);if(n||!n&&!o)if((zg(e)!=="body"||YC(i))&&(a=GO(e)),n){const h=Mh(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=p0(i));const u=i&&!n&&!o?e8(i,a):fl(0),c=s.left+a.scrollLeft-l.x-u.x,d=s.top+a.scrollTop-l.y-u.y;return{x:c,y:d,width:s.width,height:s.height}}function Ax(r){return Sa(r).position==="static"}function mj(r,e){if(!Tl(r)||Sa(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ml(r)===t&&(t=t.ownerDocument.body),t}function n8(r,e){const t=ds(r);if(NO(r))return t;if(!Tl(r)){let i=Zc(r);for(;i&&!ig(i);){if(wa(i)&&!Ax(i))return i;i=Zc(i)}return t}let n=mj(r,e);for(;n&&Lye(n)&&Ax(n);)n=mj(n,e);return n&&ig(n)&&Ax(n)&&!c0(n)?t:n||Nye(r)||t}const Yye=async function(r){const e=this.getOffsetParent||n8,t=this.getDimensions,n=await t(r.floating);return{reference:Kye(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qye(r){return Sa(r).direction==="rtl"}const Qye={convertOffsetParentRelativeRectToViewportRelativeRect:Hye,getDocumentElement:Ml,getClippingRect:Uye,getOffsetParent:n8,getElementRects:Yye,getClientRects:kye,getDimensions:zye,getScale:Nf,isElement:wa,isRTL:qye};function r8(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Xye(r,e){let t=null,n;const i=Ml(r);function o(){var a;clearTimeout(n),(a=t)==null||a.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=r.getBoundingClientRect(),{left:c,top:d,width:h,height:p}=u;if(a||e(),!h||!p)return;const f=JS(d),g=JS(i.clientWidth-(c+h)),v=JS(i.clientHeight-(d+p)),y=JS(c),w={rootMargin:-f+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Li(0,ya(1,l))||1};let S=!0;function P(F){const _=F[0].intersectionRatio;if(_!==l){if(!S)return s();_?s(!1,_):n=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!r8(u,r.getBoundingClientRect())&&s(),S=!1}try{t=new IntersectionObserver(P,{...w,root:i.ownerDocument})}catch{t=new IntersectionObserver(P,w)}t.observe(r)}return s(!0),o}function Jye(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=h0(r),c=i||o?[...u?cu(u):[],...cu(e)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",t,{passive:!0}),o&&y.addEventListener("resize",t)});const d=u&&a?Xye(u,t):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[C]=y;C&&C.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let f,g=l?Mh(r):null;l&&v();function v(){const y=Mh(r);g&&!r8(g,y)&&t(),g=y,f=requestAnimationFrame(v)}return t(),()=>{var y;c.forEach(C=>{i&&C.removeEventListener("scroll",t),o&&C.removeEventListener("resize",t)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const i8=xye,f0=Iye,o8=Pye,Zye=Mye,vj=Tye,s8=Dye,eCe=Fye,tCe=(r,e,t)=>{const n=new Map,i={platform:Qye,...t},o={...i.platform,_c:n};return Rye(r,e,{...i,platform:o})},a8=r=>{const{element:e,padding:t}=r;function n(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:r,fn(i){return n(e)?e.current!=null?vj({element:e.current,padding:t}).fn(i):{}:e?vj({element:e,padding:t}).fn(i):{}}}};var R_=typeof document<"u"?xu:Fe;function jb(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!=e.length)return!1;for(n=t;n--!==0;)if(!jb(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!jb(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function yj(r){const e=ne.useRef(r);return R_(()=>{e.current=r}),e}function nCe(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,whileElementsMounted:o,open:s}=r,[a,l]=ne.useState({x:null,y:null,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[u,c]=ne.useState(n);jb(u,n)||c(n);const d=ne.useRef(null),h=ne.useRef(null),p=ne.useRef(a),f=yj(o),g=yj(i),[v,y]=ne.useState(null),[C,w]=ne.useState(null),S=ne.useCallback(O=>{d.current!==O&&(d.current=O,y(O))},[]),P=ne.useCallback(O=>{h.current!==O&&(h.current=O,w(O))},[]),F=ne.useCallback(()=>{if(!d.current||!h.current)return;const O={placement:e,strategy:t,middleware:u};g.current&&(O.platform=g.current),tCe(d.current,h.current,O).then(L=>{const V={...L,isPositioned:!0};_.current&&!jb(p.current,V)&&(p.current=V,Nce.flushSync(()=>{l(V)}))})},[u,e,t,g]);R_(()=>{s===!1&&p.current.isPositioned&&(p.current.isPositioned=!1,l(O=>({...O,isPositioned:!1})))},[s]);const _=ne.useRef(!1);R_(()=>(_.current=!0,()=>{_.current=!1}),[]),R_(()=>{if(v&&C){if(f.current)return f.current(v,C,F);F()}},[v,C,F,f]);const E=ne.useMemo(()=>({reference:d,floating:h,setReference:S,setFloating:P}),[S,P]),T=ne.useMemo(()=>({reference:v,floating:C}),[v,C]);return ne.useMemo(()=>({...a,update:F,refs:E,elements:T,reference:S,floating:P}),[a,F,E,T,S,P])}var og=typeof document<"u"?xu:Fe;let xx=!1,rCe=0;const Cj=()=>"floating-ui-"+rCe++;function iCe(){const[r,e]=ne.useState(()=>xx?Cj():void 0);return og(()=>{r==null&&e(Cj())},[]),ne.useEffect(()=>{xx||(xx=!0)},[]),r}const oCe=ne.useId,wj=oCe||iCe;function sCe(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.set(e,[...r.get(e)||[],t])},off(e,t){r.set(e,(r.get(e)||[]).filter(n=>n!==t))}}}const aCe=ne.createContext(null),lCe=ne.createContext(null),l8=()=>{var r;return((r=ne.useContext(aCe))==null?void 0:r.id)||null},g0=()=>ne.useContext(lCe);function Ac(r){return(r==null?void 0:r.ownerDocument)||document}function uCe(){const r=navigator.userAgentData;return r!=null&&r.platform?r.platform:navigator.platform}function cCe(){const r=navigator.userAgentData;return r&&Array.isArray(r.brands)?r.brands.map(e=>{let{brand:t,version:n}=e;return t+"/"+n}).join(" "):navigator.userAgent}function m0(r){return Ac(r).defaultView||window}function cl(r){return r?r instanceof m0(r).Element:!1}function u8(r){return r?r instanceof m0(r).HTMLElement:!1}function dCe(r){if(typeof ShadowRoot>"u")return!1;const e=m0(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function hCe(r){if(r.mozInputSource===0&&r.isTrusted)return!0;const e=/Android/i;return(e.test(uCe())||e.test(cCe()))&&r.pointerType?r.type==="click"&&r.buttons===1:r.detail===0&&!r.pointerType}function pCe(r){return r.width===0&&r.height===0||r.width===1&&r.height===1&&r.pressure===0&&r.detail===0&&r.pointerType!=="mouse"||r.width<1&&r.height<1&&r.pressure===0&&r.detail===0}function c8(r,e){const t=["mouse","pen"];return t.push("",void 0),t.includes(r)}function Sj(r){const e=ve(r);return og(()=>{e.current=r}),e}const Ej="data-floating-ui-safe-polygon";function T_(r,e,t){return t&&!c8(t)?0:typeof r=="number"?r:r==null?void 0:r[e]}const fCe=function(r,e){let{enabled:t=!0,delay:n=0,handleClose:i=null,mouseOnly:o=!1,restMs:s=0,move:a=!0}=e===void 0?{}:e;const{open:l,onOpenChange:u,dataRef:c,events:d,elements:{domReference:h,floating:p},refs:f}=r,g=g0(),v=l8(),y=Sj(i),C=Sj(n),w=ne.useRef(),S=ne.useRef(),P=ne.useRef(),F=ne.useRef(),_=ne.useRef(!0),E=ne.useRef(!1),T=ne.useRef(()=>{}),O=ne.useCallback(()=>{var N;const $=(N=c.current.openEvent)==null?void 0:N.type;return($==null?void 0:$.includes("mouse"))&&$!=="mousedown"},[c]);ne.useEffect(()=>{if(!t)return;function N(){clearTimeout(S.current),clearTimeout(F.current),_.current=!0}return d.on("dismiss",N),()=>{d.off("dismiss",N)}},[t,d]),ne.useEffect(()=>{if(!t||!y.current||!l)return;function N(){O()&&u(!1)}const $=Ac(p).documentElement;return $.addEventListener("mouseleave",N),()=>{$.removeEventListener("mouseleave",N)}},[p,l,u,t,y,c,O]);const L=ne.useCallback(function(N){N===void 0&&(N=!0);const $=T_(C.current,"close",w.current);$&&!P.current?(clearTimeout(S.current),S.current=setTimeout(()=>u(!1),$)):N&&(clearTimeout(S.current),u(!1))},[C,u]),V=ne.useCallback(()=>{T.current(),P.current=void 0},[]),M=ne.useCallback(()=>{if(E.current){const N=Ac(f.floating.current).body;N.style.pointerEvents="",N.removeAttribute(Ej),E.current=!1}},[f]);return ne.useEffect(()=>{if(!t)return;function N(){return c.current.openEvent?["click","mousedown"].includes(c.current.openEvent.type):!1}function $(z){if(clearTimeout(S.current),_.current=!1,o&&!c8(w.current)||s>0&&T_(C.current,"open")===0)return;c.current.openEvent=z;const j=T_(C.current,"open",w.current);j?S.current=setTimeout(()=>{u(!0)},j):u(!0)}function B(z){if(N())return;T.current();const j=Ac(p);if(clearTimeout(F.current),y.current){l||clearTimeout(S.current),P.current=y.current({...r,tree:g,x:z.clientX,y:z.clientY,onClose(){M(),V(),L()}});const Q=P.current;j.addEventListener("mousemove",Q),T.current=()=>{j.removeEventListener("mousemove",Q)};return}L()}function U(z){N()||y.current==null||y.current({...r,tree:g,x:z.clientX,y:z.clientY,onClose(){M(),V(),L()}})(z)}if(cl(h)){const z=h;return l&&z.addEventListener("mouseleave",U),p==null||p.addEventListener("mouseleave",U),a&&z.addEventListener("mousemove",$,{once:!0}),z.addEventListener("mouseenter",$),z.addEventListener("mouseleave",B),()=>{l&&z.removeEventListener("mouseleave",U),p==null||p.removeEventListener("mouseleave",U),a&&z.removeEventListener("mousemove",$),z.removeEventListener("mouseenter",$),z.removeEventListener("mouseleave",B)}}},[h,p,t,r,o,s,a,L,V,M,u,l,g,C,y,c]),og(()=>{var N;if(t&&l&&(N=y.current)!=null&&N.__options.blockPointerEvents&&O()){const U=Ac(p).body;if(U.setAttribute(Ej,""),U.style.pointerEvents="none",E.current=!0,cl(h)&&p){var $,B;const z=h,j=g==null||($=g.nodesRef.current.find(Q=>Q.id===v))==null||(B=$.context)==null?void 0:B.elements.floating;return j&&(j.style.pointerEvents=""),z.style.pointerEvents="auto",p.style.pointerEvents="auto",()=>{z.style.pointerEvents="",p.style.pointerEvents=""}}}},[t,l,v,p,h,g,y,c,O]),og(()=>{l||(w.current=void 0,V(),M())},[l,V,M]),ne.useEffect(()=>()=>{V(),clearTimeout(S.current),clearTimeout(F.current),M()},[t,V,M]),ne.useMemo(()=>{if(!t)return{};function N($){w.current=$.pointerType}return{reference:{onPointerDown:N,onPointerEnter:N,onMouseMove(){l||s===0||(clearTimeout(F.current),F.current=setTimeout(()=>{_.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(S.current)},onMouseLeave(){d.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),L(!1)}}}},[d,t,s,l,u,L])},d8=ne.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),h8=()=>ne.useContext(d8),gCe=r=>{let{children:e,delay:t,timeoutMs:n=0}=r;const[i,o]=ne.useReducer((l,u)=>({...l,...u}),{delay:t,timeoutMs:n,initialDelay:t,currentId:null,isInstantPhase:!1}),s=ne.useRef(null),a=ne.useCallback(l=>{o({currentId:l})},[]);return og(()=>{i.currentId?s.current===null?s.current=i.currentId:o({isInstantPhase:!0}):(o({isInstantPhase:!1}),s.current=null)},[i.currentId]),ne.createElement(d8.Provider,{value:ne.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,o,a])},e)},mCe=(r,e)=>{let{open:t,onOpenChange:n}=r,{id:i}=e;const{currentId:o,setCurrentId:s,initialDelay:a,setState:l,timeoutMs:u}=h8();ne.useEffect(()=>{o&&(l({delay:{open:1,close:T_(a,"close")}}),o!==i&&n(!1))},[i,n,l,o,a]),ne.useEffect(()=>{function c(){n(!1),l({delay:a,currentId:null})}if(!t&&o===i)if(u){const d=window.setTimeout(c,u);return()=>{clearTimeout(d)}}else c()},[t,l,o,i,n,a,u]),ne.useEffect(()=>{t&&s(i)},[t,s,i])};function vCe(r){let e=r.activeElement;for(;((t=e)==null||(n=t.shadowRoot)==null?void 0:n.activeElement)!=null;){var t,n;e=e.shadowRoot.activeElement}return e}function _j(r,e){if(!r||!e)return!1;const t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&dCe(t)){let n=e;do{if(n&&r===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function Ix(r,e){let t=r.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)})||[],n=t;for(;n.length;)n=r.filter(i=>{var o;return(o=n)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})})||[],t=t.concat(n);return t}function yCe(r){return"composedPath"in r?r.composedPath()[0]:r.target}const CCe=ne.useInsertionEffect,wCe=CCe||(r=>r());function p8(r){const e=ne.useRef(()=>{});return wCe(()=>{e.current=r}),ne.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function P_(r,e){if(e==null)return!1;if("composedPath"in r)return r.composedPath().includes(e);const t=r;return t.target!=null&&e.contains(t.target)}const SCe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},ECe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},_Ce=function(r){var e,t;return r===void 0&&(r=!0),{escapeKeyBubbles:typeof r=="boolean"?r:(e=r.escapeKey)!=null?e:!0,outsidePressBubbles:typeof r=="boolean"?r:(t=r.outsidePress)!=null?t:!0}},bCe=function(r,e){let{open:t,onOpenChange:n,events:i,nodeId:o,elements:{reference:s,domReference:a,floating:l},dataRef:u}=r,{enabled:c=!0,escapeKey:d=!0,outsidePress:h=!0,outsidePressEvent:p="pointerdown",referencePress:f=!1,referencePressEvent:g="pointerdown",ancestorScroll:v=!1,bubbles:y=!0}=e===void 0?{}:e;const C=g0(),w=l8()!=null,S=p8(typeof h=="function"?h:()=>!1),P=typeof h=="function"?S:h,F=ne.useRef(!1),{escapeKeyBubbles:_,outsidePressBubbles:E}=_Ce(y);return ne.useEffect(()=>{if(!t||!c)return;u.current.__escapeKeyBubbles=_,u.current.__outsidePressBubbles=E;function T(N){if(N.key==="Escape"){const $=C?Ix(C.nodesRef.current,o):[];if($.length>0){let B=!0;if($.forEach(U=>{var z;if((z=U.context)!=null&&z.open&&!U.context.dataRef.current.__escapeKeyBubbles){B=!1;return}}),!B)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),n(!1)}}function O(N){const $=F.current;if(F.current=!1,$||typeof P=="function"&&!P(N))return;const B=yCe(N);if(u8(B)&&l){const j=l.ownerDocument.defaultView||window,Q=B.scrollWidth>B.clientWidth,X=B.scrollHeight>B.clientHeight;let Z=X&&N.offsetX>B.clientWidth;if(X&&j.getComputedStyle(B).direction==="rtl"&&(Z=N.offsetX<=B.offsetWidth-B.clientWidth),Z||Q&&N.offsetY>B.clientHeight)return}const U=C&&Ix(C.nodesRef.current,o).some(j=>{var Q;return P_(N,(Q=j.context)==null?void 0:Q.elements.floating)});if(P_(N,l)||P_(N,a)||U)return;const z=C?Ix(C.nodesRef.current,o):[];if(z.length>0){let j=!0;if(z.forEach(Q=>{var X;if((X=Q.context)!=null&&X.open&&!Q.context.dataRef.current.__outsidePressBubbles){j=!1;return}}),!j)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:hCe(N)||pCe(N)}}),n(!1)}function L(){n(!1)}const V=Ac(l);d&&V.addEventListener("keydown",T),P&&V.addEventListener(p,O);let M=[];return v&&(cl(a)&&(M=cu(a)),cl(l)&&(M=M.concat(cu(l))),!cl(s)&&s&&s.contextElement&&(M=M.concat(cu(s.contextElement)))),M=M.filter(N=>{var $;return N!==(($=V.defaultView)==null?void 0:$.visualViewport)}),M.forEach(N=>{N.addEventListener("scroll",L,{passive:!0})}),()=>{d&&V.removeEventListener("keydown",T),P&&V.removeEventListener(p,O),M.forEach(N=>{N.removeEventListener("scroll",L)})}},[u,l,a,s,d,P,p,i,C,o,t,n,v,c,_,E,w]),ne.useEffect(()=>{F.current=!1},[P,p]),ne.useMemo(()=>c?{reference:{[SCe[g]]:()=>{f&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),n(!1))}},floating:{[ECe[p]]:()=>{F.current=!0}}}:{},[c,i,f,p,g,n])},RCe=function(r,e){let{open:t,onOpenChange:n,dataRef:i,events:o,refs:s,elements:{floating:a,domReference:l}}=r,{enabled:u=!0,keyboardOnly:c=!0}=e===void 0?{}:e;const d=ne.useRef(""),h=ne.useRef(!1),p=ne.useRef();return ne.useEffect(()=>{if(!u)return;const g=Ac(a).defaultView||window;function v(){!t&&u8(l)&&l===vCe(Ac(l))&&(h.current=!0)}return g.addEventListener("blur",v),()=>{g.removeEventListener("blur",v)}},[a,l,t,u]),ne.useEffect(()=>{if(!u)return;function f(g){(g.type==="referencePress"||g.type==="escapeKey")&&(h.current=!0)}return o.on("dismiss",f),()=>{o.off("dismiss",f)}},[o,u]),ne.useEffect(()=>()=>{clearTimeout(p.current)},[]),ne.useMemo(()=>u?{reference:{onPointerDown(f){let{pointerType:g}=f;d.current=g,h.current=!!(g&&c)},onMouseLeave(){h.current=!1},onFocus(f){var g;h.current||f.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&i.current.openEvent&&P_(i.current.openEvent,l)||(i.current.openEvent=f.nativeEvent,n(!0))},onBlur(f){h.current=!1;const g=f.relatedTarget,v=cl(g)&&g.hasAttribute("data-floating-ui-focus-guard")&&g.getAttribute("data-type")==="outside";p.current=setTimeout(()=>{_j(s.floating.current,g)||_j(l,g)||v||n(!1)})}}}:{},[u,c,l,s,i,n])},TCe=function(r,e){let{open:t}=r,{enabled:n=!0,role:i="dialog"}=e===void 0?{}:e;const o=wj(),s=wj();return ne.useMemo(()=>{const a={id:o,role:i};return n?i==="tooltip"?{reference:{"aria-describedby":t?o:void 0},floating:a}:{reference:{"aria-expanded":t?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":t?o:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[n,i,t,o,s])};function v0(r){r===void 0&&(r={});const{open:e=!1,onOpenChange:t,nodeId:n}=r,i=nCe(r),o=g0(),s=ne.useRef(null),a=ne.useRef({}),l=ne.useState(()=>sCe())[0],[u,c]=ne.useState(null),d=ne.useCallback(y=>{const C=cl(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;i.refs.setReference(C)},[i.refs]),h=ne.useCallback(y=>{(cl(y)||y===null)&&(s.current=y,c(y)),(cl(i.refs.reference.current)||i.refs.reference.current===null||y!==null&&!cl(y))&&i.refs.setReference(y)},[i.refs]),p=ne.useMemo(()=>({...i.refs,setReference:h,setPositionReference:d,domReference:s}),[i.refs,h,d]),f=ne.useMemo(()=>({...i.elements,domReference:u}),[i.elements,u]),g=p8(t),v=ne.useMemo(()=>({...i,refs:p,elements:f,dataRef:a,nodeId:n,events:l,open:e,onOpenChange:g}),[i,n,l,e,g,p,f]);return og(()=>{const y=o==null?void 0:o.nodesRef.current.find(C=>C.id===n);y&&(y.context=v)}),ne.useMemo(()=>({...i,context:v,refs:p,reference:h,positionReference:d}),[i,p,v,h,d])}function Fx(r,e,t){const n=new Map;return{...t==="floating"&&{tabIndex:-1},...r,...e.map(i=>i?i[t]:null).concat(r).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(n.has(a)||n.set(a,[]),typeof l=="function"){var u;(u=n.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];(c=n.get(a))==null||c.forEach(f=>f(...h))}}}else i[a]=l}),i),{})}}const PCe=function(r){r===void 0&&(r=[]);const e=r,t=ne.useCallback(o=>Fx(o,r,"reference"),e),n=ne.useCallback(o=>Fx(o,r,"floating"),e),i=ne.useCallback(o=>Fx(o,r,"item"),r.map(o=>o==null?void 0:o.item));return ne.useMemo(()=>({getReferenceProps:t,getFloatingProps:n,getItemProps:i}),[t,n,i])};function f8({opened:r,floating:e,position:t,positionDependencies:n}){const[i,o]=Te(0);Fe(()=>{if(e.refs.reference.current&&e.refs.floating.current)return Jye(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,r,i,t]),ks(()=>{e.update()},n),ks(()=>{o(s=>s+1)},[r])}function OCe(r){const e=[i8(r.offset)];return r.middlewares.shift&&e.push(f0({limiter:eCe()})),r.middlewares.flip&&e.push(o8()),r.middlewares.inline&&e.push(s8()),e.push(a8({element:r.arrowRef,padding:r.arrowOffset})),e}function DCe(r){const[e,t]=Ih({value:r.opened,defaultValue:r.defaultOpened,finalValue:!1,onChange:r.onChange}),n=()=>{var s;(s=r.onClose)==null||s.call(r),t(!1)},i=()=>{var s,a;e?((s=r.onClose)==null||s.call(r),t(!1)):((a=r.onOpen)==null||a.call(r),t(!0))},o=v0({placement:r.position,middleware:[...OCe(r),...r.width==="target"?[Zye({apply({rects:s}){var a,l;Object.assign((l=(a=o.refs.floating.current)==null?void 0:a.style)!=null?l:{},{width:`${s.reference.width}px`})}})]:[]]});return f8({opened:r.opened,position:r.position,positionDependencies:r.positionDependencies,floating:o}),ks(()=>{var s;(s=r.onPositionChange)==null||s.call(r,o.placement)},[o.placement]),ks(()=>{var s,a;r.opened?(a=r.onOpen)==null||a.call(r):(s=r.onClose)==null||s.call(r)},[r.opened]),{floating:o,controlled:typeof r.opened=="boolean",opened:e,onClose:n,onToggle:i}}const g8={context:"Popover component was not found in the tree",children:"Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[ACe,m8]=cp(g8.context);var xCe=Object.defineProperty,ICe=Object.defineProperties,FCe=Object.getOwnPropertyDescriptors,Wb=Object.getOwnPropertySymbols,v8=Object.prototype.hasOwnProperty,y8=Object.prototype.propertyIsEnumerable,bj=(r,e,t)=>e in r?xCe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ZS=(r,e)=>{for(var t in e||(e={}))v8.call(e,t)&&bj(r,t,e[t]);if(Wb)for(var t of Wb(e))y8.call(e,t)&&bj(r,t,e[t]);return r},MCe=(r,e)=>ICe(r,FCe(e)),LCe=(r,e)=>{var t={};for(var n in r)v8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Wb)for(var n of Wb(r))e.indexOf(n)<0&&y8.call(r,n)&&(t[n]=r[n]);return t};const NCe={refProp:"ref",popupType:"dialog",shouldOverrideDefaultTargetId:!0},C8=Ce((r,e)=>{const t=Me("PopoverTarget",NCe,r),{children:n,refProp:i,popupType:o,shouldOverrideDefaultTargetId:s}=t,a=LCe(t,["children","refProp","popupType","shouldOverrideDefaultTargetId"]);if(!kC(n))throw new Error(g8.children);const l=a,u=m8(),c=Bg(u.reference,n.ref,e),d=u.withRoles?{"aria-haspopup":o,"aria-expanded":u.opened,"aria-controls":u.getDropdownId(),id:s?u.getTargetId():n.props.id}:{};return eo(n,ZS(MCe(ZS(ZS(ZS({},l),d),u.targetProps),{className:W6(u.targetProps.className,l.className,n.props.className),[i]:c}),u.controlled?null:{onClick:u.onToggle}))});C8.displayName="@mantine/core/PopoverTarget";var GCe=We((r,{radius:e,shadow:t})=>({dropdown:{position:"absolute",backgroundColor:r.white,background:r.colorScheme==="dark"?r.colors.dark[6]:r.white,border:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2]}`,padding:`${r.spacing.sm} ${r.spacing.md}`,boxShadow:r.shadows[t]||t||"none",borderRadius:r.fn.radius(e),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2]}`,zIndex:1}})),VCe=Object.defineProperty,Rj=Object.getOwnPropertySymbols,HCe=Object.prototype.hasOwnProperty,kCe=Object.prototype.propertyIsEnumerable,Tj=(r,e,t)=>e in r?VCe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kp=(r,e)=>{for(var t in e||(e={}))HCe.call(e,t)&&Tj(r,t,e[t]);if(Rj)for(var t of Rj(e))kCe.call(e,t)&&Tj(r,t,e[t]);return r};const Pj={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function $Ce({transition:r,state:e,duration:t,timingFunction:n}){const i={transitionDuration:`${t}ms`,transitionTimingFunction:n};return typeof r=="string"?r in jS?Kp(Kp(Kp({transitionProperty:jS[r].transitionProperty},i),jS[r].common),jS[r][Pj[e]]):null:Kp(Kp(Kp({transitionProperty:r.transitionProperty},i),r.common),r[Pj[e]])}function BCe({duration:r,exitDuration:e,timingFunction:t,mounted:n,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=Ao(),u=WC(),c=l.respectReducedMotion?u:!1,[d,h]=Te(c?0:r),[p,f]=Te(n?"entered":"exited"),g=ve(-1),v=y=>{const C=y?i:o,w=y?s:a;f(y?"pre-entering":"pre-exiting"),window.clearTimeout(g.current);const S=c?0:y?r:e;if(h(S),S===0)typeof C=="function"&&C(),typeof w=="function"&&w(),f(y?"entered":"exited");else{const P=window.setTimeout(()=>{typeof C=="function"&&C(),f(y?"entering":"exiting")},10);g.current=window.setTimeout(()=>{window.clearTimeout(P),typeof w=="function"&&w(),f(y?"entered":"exited")},S)}};return ks(()=>{v(n)},[n]),Fe(()=>()=>window.clearTimeout(g.current),[]),{transitionDuration:d,transitionStatus:p,transitionTimingFunction:t||l.transitionTimingFunction}}function Kg({keepMounted:r,transition:e,duration:t=250,exitDuration:n=t,mounted:i,children:o,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:d,transitionStatus:h,transitionTimingFunction:p}=BCe({mounted:i,exitDuration:n,duration:t,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c});return d===0?i?x.createElement(x.Fragment,null,o({})):r?o({display:"none"}):null:h==="exited"?r?o({display:"none"}):null:x.createElement(x.Fragment,null,o($Ce({transition:e,duration:d,state:h,timingFunction:p})))}Kg.displayName="@mantine/core/Transition";function y0({children:r,active:e=!0,refProp:t="ref"}){const n=hfe(e),i=Bg(n,r==null?void 0:r.ref);return kC(r)?eo(r,{[t]:i}):r}y0.displayName="@mantine/core/FocusTrap";var jCe=Object.defineProperty,WCe=Object.defineProperties,UCe=Object.getOwnPropertyDescriptors,Oj=Object.getOwnPropertySymbols,zCe=Object.prototype.hasOwnProperty,KCe=Object.prototype.propertyIsEnumerable,Dj=(r,e,t)=>e in r?jCe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ju=(r,e)=>{for(var t in e||(e={}))zCe.call(e,t)&&Dj(r,t,e[t]);if(Oj)for(var t of Oj(e))KCe.call(e,t)&&Dj(r,t,e[t]);return r},eE=(r,e)=>WCe(r,UCe(e));function Aj(r,e,t,n){return r==="center"||n==="center"?{top:e}:r==="end"?{bottom:t}:r==="start"?{top:t}:{}}function xj(r,e,t,n,i){return r==="center"||n==="center"?{left:e}:r==="end"?{[i==="ltr"?"right":"left"]:t}:r==="start"?{[i==="ltr"?"left":"right"]:t}:{}}const YCe={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function qCe({position:r,arrowSize:e,arrowOffset:t,arrowRadius:n,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=r.split("-"),c={width:W(e),height:W(e),transform:"rotate(45deg)",position:"absolute",[YCe[l]]:W(n)},d=W(-e/2);return l==="left"?eE(Ju(Ju({},c),Aj(u,s,t,i)),{right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}):l==="right"?eE(Ju(Ju({},c),Aj(u,s,t,i)),{left:d,borderRightColor:"transparent",borderTopColor:"transparent"}):l==="top"?eE(Ju(Ju({},c),xj(u,o,t,i,a)),{bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}):l==="bottom"?eE(Ju(Ju({},c),xj(u,o,t,i,a)),{top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}):{}}var QCe=Object.defineProperty,XCe=Object.defineProperties,JCe=Object.getOwnPropertyDescriptors,Ub=Object.getOwnPropertySymbols,w8=Object.prototype.hasOwnProperty,S8=Object.prototype.propertyIsEnumerable,Ij=(r,e,t)=>e in r?QCe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ZCe=(r,e)=>{for(var t in e)w8.call(e,t)&&Ij(r,t,e[t]);if(Ub)for(var t of Ub(e))S8.call(e,t)&&Ij(r,t,e[t]);return r},ewe=(r,e)=>XCe(r,JCe(e)),twe=(r,e)=>{var t={};for(var n in r)w8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Ub)for(var n of Ub(r))e.indexOf(n)<0&&S8.call(r,n)&&(t[n]=r[n]);return t};const C0=Ce((r,e)=>{var t=r,{position:n,arrowSize:i,arrowOffset:o,arrowRadius:s,arrowPosition:a,visible:l,arrowX:u,arrowY:c}=t,d=twe(t,["position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const h=Ao();return l?x.createElement("div",ewe(ZCe({},d),{ref:e,style:qCe({position:n,arrowSize:i,arrowOffset:o,arrowRadius:s,arrowPosition:a,dir:h.dir,arrowX:u,arrowY:c})})):null});C0.displayName="@mantine/core/FloatingArrow";var nwe=Object.defineProperty,rwe=Object.defineProperties,iwe=Object.getOwnPropertyDescriptors,zb=Object.getOwnPropertySymbols,E8=Object.prototype.hasOwnProperty,_8=Object.prototype.propertyIsEnumerable,Fj=(r,e,t)=>e in r?nwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yp=(r,e)=>{for(var t in e||(e={}))E8.call(e,t)&&Fj(r,t,e[t]);if(zb)for(var t of zb(e))_8.call(e,t)&&Fj(r,t,e[t]);return r},tE=(r,e)=>rwe(r,iwe(e)),owe=(r,e)=>{var t={};for(var n in r)E8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&zb)for(var n of zb(r))e.indexOf(n)<0&&_8.call(r,n)&&(t[n]=r[n]);return t};const swe={};function b8(r){var e;const t=Me("PopoverDropdown",swe,r),{style:n,className:i,children:o,onKeyDownCapture:s}=t,a=owe(t,["style","className","children","onKeyDownCapture"]),l=m8(),{classes:u,cx:c}=GCe({radius:l.radius,shadow:l.shadow},{name:l.__staticSelector,classNames:l.classNames,styles:l.styles,unstyled:l.unstyled,variant:l.variant}),d=C9({opened:l.opened,shouldReturnFocus:l.returnFocus}),h=l.withRoles?{"aria-labelledby":l.getTargetId(),id:l.getDropdownId(),role:"dialog"}:{};return l.disabled?null:x.createElement(Wg,tE(Yp({},l.portalProps),{withinPortal:l.withinPortal}),x.createElement(Kg,tE(Yp({mounted:l.opened},l.transitionProps),{transition:l.transitionProps.transition||"fade",duration:(e=l.transitionProps.duration)!=null?e:150,keepMounted:l.keepMounted,exitDuration:typeof l.transitionProps.exitDuration=="number"?l.transitionProps.exitDuration:l.transitionProps.duration}),p=>{var f,g;return x.createElement(y0,{active:l.trapFocus},x.createElement(Ge,Yp(tE(Yp({},h),{tabIndex:-1,ref:l.floating,style:tE(Yp(Yp({},n),p),{zIndex:l.zIndex,top:(f=l.y)!=null?f:0,left:(g=l.x)!=null?g:0,width:l.width==="target"?void 0:W(l.width)}),className:c(u.dropdown,i),onKeyDownCapture:Nde(l.onClose,{active:l.closeOnEscape,onTrigger:d,onKeyDown:s}),"data-position":l.placement}),a),o,x.createElement(C0,{ref:l.arrowRef,arrowX:l.arrowX,arrowY:l.arrowY,visible:l.withArrow,position:l.placement,arrowSize:l.arrowSize,arrowRadius:l.arrowRadius,arrowOffset:l.arrowOffset,arrowPosition:l.arrowPosition,className:u.arrow})))}))}b8.displayName="@mantine/core/PopoverDropdown";function R8(r,e){if(r==="rtl"&&(e.includes("right")||e.includes("left"))){const[t,n]=e.split("-"),i=t==="right"?"left":"right";return n===void 0?i:`${i}-${n}`}return e}var Mj=Object.getOwnPropertySymbols,awe=Object.prototype.hasOwnProperty,lwe=Object.prototype.propertyIsEnumerable,uwe=(r,e)=>{var t={};for(var n in r)awe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Mj)for(var n of Mj(r))e.indexOf(n)<0&&lwe.call(r,n)&&(t[n]=r[n]);return t};const cwe={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Da("popover"),__staticSelector:"Popover",width:"max-content"};function Ms(r){var e,t,n,i,o,s;const a=ve(null),l=Me("Popover",cwe,r),{children:u,position:c,offset:d,onPositionChange:h,positionDependencies:p,opened:f,transitionProps:g,width:v,middlewares:y,withArrow:C,arrowSize:w,arrowOffset:S,arrowRadius:P,arrowPosition:F,unstyled:_,classNames:E,styles:T,closeOnClickOutside:O,withinPortal:L,portalProps:V,closeOnEscape:M,clickOutsideEvents:N,trapFocus:$,onClose:B,onOpen:U,onChange:z,zIndex:j,radius:Q,shadow:X,id:Z,defaultOpened:ce,__staticSelector:oe,withRoles:de,disabled:Ee,returnFocus:Pe,variant:$e,keepMounted:Ne}=l,xe=uwe(l,["children","position","offset","onPositionChange","positionDependencies","opened","transitionProps","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","portalProps","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","__staticSelector","withRoles","disabled","returnFocus","variant","keepMounted"]),[st,Ue]=Te(null),[_t,Rt]=Te(null),Ct=cd(Z),Sn=Ao(),qe=DCe({middlewares:y,width:v,position:R8(Sn.dir,c),offset:typeof d=="number"?d+(C?w/2:0):d,arrowRef:a,arrowOffset:S,onPositionChange:h,positionDependencies:p,opened:f,defaultOpened:ce,onChange:z,onOpen:U,onClose:B});nfe(()=>qe.opened&&O&&qe.onClose(),N,[st,_t]);const Ie=at(bt=>{Ue(bt),qe.floating.reference(bt)},[qe.floating.reference]),sn=at(bt=>{Rt(bt),qe.floating.floating(bt)},[qe.floating.floating]);return x.createElement(ACe,{value:{returnFocus:Pe,disabled:Ee,controlled:qe.controlled,reference:Ie,floating:sn,x:qe.floating.x,y:qe.floating.y,arrowX:(n=(t=(e=qe.floating)==null?void 0:e.middlewareData)==null?void 0:t.arrow)==null?void 0:n.x,arrowY:(s=(o=(i=qe.floating)==null?void 0:i.middlewareData)==null?void 0:o.arrow)==null?void 0:s.y,opened:qe.opened,arrowRef:a,transitionProps:g,width:v,withArrow:C,arrowSize:w,arrowOffset:S,arrowRadius:P,arrowPosition:F,placement:qe.floating.placement,trapFocus:$,withinPortal:L,portalProps:V,zIndex:j,radius:Q,shadow:X,closeOnEscape:M,onClose:qe.onClose,onToggle:qe.onToggle,getTargetId:()=>`${Ct}-target`,getDropdownId:()=>`${Ct}-dropdown`,withRoles:de,targetProps:xe,__staticSelector:oe,classNames:E,styles:T,unstyled:_,variant:$e,keepMounted:Ne}},u)}Ms.Target=C8;Ms.Dropdown=b8;Ms.displayName="@mantine/core/Popover";var dwe=Object.defineProperty,Kb=Object.getOwnPropertySymbols,T8=Object.prototype.hasOwnProperty,P8=Object.prototype.propertyIsEnumerable,Lj=(r,e,t)=>e in r?dwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hwe=(r,e)=>{for(var t in e)T8.call(e,t)&&Lj(r,t,e[t]);if(Kb)for(var t of Kb(e))P8.call(e,t)&&Lj(r,t,e[t]);return r},pwe=(r,e)=>{var t={};for(var n in r)T8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Kb)for(var n of Kb(r))e.indexOf(n)<0&&P8.call(r,n)&&(t[n]=r[n]);return t};function fwe(r){var e=r,{children:t,component:n="div",maxHeight:i=220,direction:o="column",id:s,innerRef:a,__staticSelector:l,styles:u,classNames:c,unstyled:d}=e,h=pwe(e,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:p}=vye(null,{name:l,styles:u,classNames:c,unstyled:d});return x.createElement(Ms.Dropdown,hwe({p:0,onMouseDown:f=>f.preventDefault()},h),x.createElement("div",{style:{maxHeight:W(i),display:"flex"}},x.createElement(Ge,{component:n||"div",id:`${s}-items`,"aria-labelledby":`${s}-label`,role:"listbox",onMouseDown:f=>f.preventDefault(),style:{flex:1,overflowY:n!==i0?"auto":void 0},"data-combobox-popover":!0,tabIndex:-1,ref:a},x.createElement("div",{className:p.itemsWrapper,style:{flexDirection:o}},t))))}function fy({opened:r,transitionProps:e={transition:"fade",duration:0},shadow:t,withinPortal:n,portalProps:i,children:o,__staticSelector:s,onDirectionChange:a,switchDirectionOnFlip:l,zIndex:u,dropdownPosition:c,positionDependencies:d=[],classNames:h,styles:p,unstyled:f,readOnly:g,variant:v}){return x.createElement(Ms,{unstyled:f,classNames:h,styles:p,width:"target",withRoles:!1,opened:r,middlewares:{flip:c==="flip",shift:!1},position:c==="flip"?"bottom":c,positionDependencies:d,zIndex:u,__staticSelector:s,withinPortal:n,portalProps:i,transitionProps:e,shadow:t,disabled:g,onPositionChange:y=>l&&(a==null?void 0:a(y==="top"?"column-reverse":"column")),variant:v},o)}fy.Target=Ms.Target;fy.Dropdown=fwe;var gwe=Object.defineProperty,mwe=Object.defineProperties,vwe=Object.getOwnPropertyDescriptors,Yb=Object.getOwnPropertySymbols,O8=Object.prototype.hasOwnProperty,D8=Object.prototype.propertyIsEnumerable,Nj=(r,e,t)=>e in r?gwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nE=(r,e)=>{for(var t in e||(e={}))O8.call(e,t)&&Nj(r,t,e[t]);if(Yb)for(var t of Yb(e))D8.call(e,t)&&Nj(r,t,e[t]);return r},ywe=(r,e)=>mwe(r,vwe(e)),Cwe=(r,e)=>{var t={};for(var n in r)O8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Yb)for(var n of Yb(r))e.indexOf(n)<0&&D8.call(r,n)&&(t[n]=r[n]);return t};function A8(r,e,t){const n=Me(r,e,t),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:h,sx:p,errorProps:f,labelProps:g,descriptionProps:v,wrapperProps:y,id:C,size:w,style:S,inputContainer:P,inputWrapperOrder:F,withAsterisk:_,variant:E}=n,T=Cwe(n,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant"]),O=cd(C),{systemStyles:L,rest:V}=jg(T),M=nE({label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:h,sx:p,errorProps:f,labelProps:g,descriptionProps:v,unstyled:d,styles:u,id:O,size:w,style:S,inputContainer:P,inputWrapperOrder:F,withAsterisk:_,variant:E},y);return ywe(nE({},V),{classNames:l,styles:u,unstyled:d,wrapperProps:nE(nE({},M),L),inputProps:{required:a,classNames:l,styles:u,unstyled:d,id:O,size:w,__staticSelector:h,error:s,variant:E}})}var wwe=We((r,e,{size:t})=>({label:{display:"inline-block",fontSize:be({size:t,sizes:r.fontSizes}),fontWeight:500,color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:r.fn.variant({variant:"filled",color:"red"}).background}})),Swe=Object.defineProperty,qb=Object.getOwnPropertySymbols,x8=Object.prototype.hasOwnProperty,I8=Object.prototype.propertyIsEnumerable,Gj=(r,e,t)=>e in r?Swe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ewe=(r,e)=>{for(var t in e)x8.call(e,t)&&Gj(r,t,e[t]);if(qb)for(var t of qb(e))I8.call(e,t)&&Gj(r,t,e[t]);return r},_we=(r,e)=>{var t={};for(var n in r)x8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&qb)for(var n of qb(r))e.indexOf(n)<0&&I8.call(r,n)&&(t[n]=r[n]);return t};const bwe={labelElement:"label",size:"sm"},w0=Ce((r,e)=>{const t=Me("InputLabel",bwe,r),{labelElement:n,children:i,required:o,size:s,classNames:a,styles:l,unstyled:u,className:c,htmlFor:d,__staticSelector:h,variant:p,onMouseDown:f}=t,g=_we(t,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector","variant","onMouseDown"]),{classes:v,cx:y}=wwe(null,{name:["InputWrapper",h],classNames:a,styles:l,unstyled:u,variant:p,size:s});return x.createElement(Ge,Ewe({component:n,ref:e,className:y(v.label,c),htmlFor:n==="label"?d:void 0,onMouseDown:C=>{f==null||f(C),!C.defaultPrevented&&C.detail>1&&C.preventDefault()}},g),i,o&&x.createElement("span",{className:v.required,"aria-hidden":!0}," *"))});w0.displayName="@mantine/core/InputLabel";var Rwe=We((r,e,{size:t})=>({error:{wordBreak:"break-word",color:r.fn.variant({variant:"filled",color:"red"}).background,fontSize:`calc(${be({size:t,sizes:r.fontSizes})} - ${W(2)})`,lineHeight:1.2,display:"block"}})),Twe=Object.defineProperty,Qb=Object.getOwnPropertySymbols,F8=Object.prototype.hasOwnProperty,M8=Object.prototype.propertyIsEnumerable,Vj=(r,e,t)=>e in r?Twe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pwe=(r,e)=>{for(var t in e)F8.call(e,t)&&Vj(r,t,e[t]);if(Qb)for(var t of Qb(e))M8.call(e,t)&&Vj(r,t,e[t]);return r},Owe=(r,e)=>{var t={};for(var n in r)F8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Qb)for(var n of Qb(r))e.indexOf(n)<0&&M8.call(r,n)&&(t[n]=r[n]);return t};const Dwe={size:"sm"},S0=Ce((r,e)=>{const t=Me("InputError",Dwe,r),{children:n,className:i,classNames:o,styles:s,unstyled:a,size:l,__staticSelector:u,variant:c}=t,d=Owe(t,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:h,cx:p}=Rwe(null,{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a,variant:c,size:l});return x.createElement(Se,Pwe({className:p(h.error,i),ref:e},d),n)});S0.displayName="@mantine/core/InputError";var Awe=We((r,e,{size:t})=>({description:{wordBreak:"break-word",color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6],fontSize:`calc(${be({size:t,sizes:r.fontSizes})} - ${W(2)})`,lineHeight:1.2,display:"block"}})),xwe=Object.defineProperty,Xb=Object.getOwnPropertySymbols,L8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,Hj=(r,e,t)=>e in r?xwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Iwe=(r,e)=>{for(var t in e)L8.call(e,t)&&Hj(r,t,e[t]);if(Xb)for(var t of Xb(e))N8.call(e,t)&&Hj(r,t,e[t]);return r},Fwe=(r,e)=>{var t={};for(var n in r)L8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Xb)for(var n of Xb(r))e.indexOf(n)<0&&N8.call(r,n)&&(t[n]=r[n]);return t};const Mwe={size:"sm"},E0=Ce((r,e)=>{const t=Me("InputDescription",Mwe,r),{children:n,className:i,classNames:o,styles:s,unstyled:a,size:l,__staticSelector:u,variant:c}=t,d=Fwe(t,["children","className","classNames","styles","unstyled","size","__staticSelector","variant"]),{classes:h,cx:p}=Awe(null,{name:["InputWrapper",u],classNames:o,styles:s,unstyled:a,variant:c,size:l});return x.createElement(Se,Iwe({color:"dimmed",className:p(h.description,i),ref:e,unstyled:a},d),n)});E0.displayName="@mantine/core/InputDescription";const G8=Yn({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),Lwe=G8.Provider,Nwe=()=>Ut(G8);function Gwe(r,{hasDescription:e,hasError:t}){const n=r.findIndex(l=>l==="input"),i=r[n-1],o=r[n+1];return{offsetBottom:e&&o==="description"||t&&o==="error",offsetTop:e&&i==="description"||t&&i==="error"}}var Vwe=Object.defineProperty,Hwe=Object.defineProperties,kwe=Object.getOwnPropertyDescriptors,kj=Object.getOwnPropertySymbols,$we=Object.prototype.hasOwnProperty,Bwe=Object.prototype.propertyIsEnumerable,$j=(r,e,t)=>e in r?Vwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jwe=(r,e)=>{for(var t in e||(e={}))$we.call(e,t)&&$j(r,t,e[t]);if(kj)for(var t of kj(e))Bwe.call(e,t)&&$j(r,t,e[t]);return r},Wwe=(r,e)=>Hwe(r,kwe(e)),Uwe=We(r=>({root:Wwe(jwe({},r.fn.fontStyles()),{lineHeight:r.lineHeight})})),zwe=Object.defineProperty,Kwe=Object.defineProperties,Ywe=Object.getOwnPropertyDescriptors,Jb=Object.getOwnPropertySymbols,V8=Object.prototype.hasOwnProperty,H8=Object.prototype.propertyIsEnumerable,Bj=(r,e,t)=>e in r?zwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zu=(r,e)=>{for(var t in e||(e={}))V8.call(e,t)&&Bj(r,t,e[t]);if(Jb)for(var t of Jb(e))H8.call(e,t)&&Bj(r,t,e[t]);return r},jj=(r,e)=>Kwe(r,Ywe(e)),qwe=(r,e)=>{var t={};for(var n in r)V8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Jb)for(var n of Jb(r))e.indexOf(n)<0&&H8.call(r,n)&&(t[n]=r[n]);return t};const Qwe={labelElement:"label",size:"sm",inputContainer:r=>r,inputWrapperOrder:["label","description","input","error"]},k8=Ce((r,e)=>{const t=Me("InputWrapper",Qwe,r),{className:n,label:i,children:o,required:s,id:a,error:l,description:u,labelElement:c,labelProps:d,descriptionProps:h,errorProps:p,classNames:f,styles:g,size:v,inputContainer:y,__staticSelector:C,unstyled:w,inputWrapperOrder:S,withAsterisk:P,variant:F}=t,_=qwe(t,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk","variant"]),{classes:E,cx:T}=Uwe(null,{classNames:f,styles:g,name:["InputWrapper",C],unstyled:w,variant:F,size:v}),O={classNames:f,styles:g,unstyled:w,size:v,variant:F,__staticSelector:C},L=typeof P=="boolean"?P:s,V=a?`${a}-error`:p==null?void 0:p.id,M=a?`${a}-description`:h==null?void 0:h.id,$=`${!!l&&typeof l!="boolean"?V:""} ${u?M:""}`,B=$.trim().length>0?$.trim():void 0,U=i&&x.createElement(w0,Zu(Zu({key:"label",labelElement:c,id:a?`${a}-label`:void 0,htmlFor:a,required:L},O),d),i),z=u&&x.createElement(E0,jj(Zu(Zu({key:"description"},h),O),{size:(h==null?void 0:h.size)||O.size,id:(h==null?void 0:h.id)||M}),u),j=x.createElement(dO,{key:"input"},y(o)),Q=typeof l!="boolean"&&l&&x.createElement(S0,jj(Zu(Zu({},p),O),{size:(p==null?void 0:p.size)||O.size,key:"error",id:(p==null?void 0:p.id)||V}),l),X=S.map(Z=>{switch(Z){case"label":return U;case"input":return j;case"description":return z;case"error":return Q;default:return null}});return x.createElement(Lwe,{value:Zu({describedBy:B},Gwe(S,{hasDescription:!!z,hasError:!!Q}))},x.createElement(Ge,Zu({className:T(E.root,n),ref:e},_),X))});k8.displayName="@mantine/core/InputWrapper";var Xwe=Object.defineProperty,Zb=Object.getOwnPropertySymbols,$8=Object.prototype.hasOwnProperty,B8=Object.prototype.propertyIsEnumerable,Wj=(r,e,t)=>e in r?Xwe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jwe=(r,e)=>{for(var t in e)$8.call(e,t)&&Wj(r,t,e[t]);if(Zb)for(var t of Zb(e))B8.call(e,t)&&Wj(r,t,e[t]);return r},Zwe=(r,e)=>{var t={};for(var n in r)$8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Zb)for(var n of Zb(r))e.indexOf(n)<0&&B8.call(r,n)&&(t[n]=r[n]);return t};const eSe={},j8=Ce((r,e)=>{const t=Me("InputPlaceholder",eSe,r),{sx:n}=t,i=Zwe(t,["sx"]);return x.createElement(Ge,Jwe({component:"span",sx:[o=>o.fn.placeholderStyles(),...fO(n)],ref:e},i))});j8.displayName="@mantine/core/InputPlaceholder";var tSe=Object.defineProperty,nSe=Object.defineProperties,rSe=Object.getOwnPropertyDescriptors,Uj=Object.getOwnPropertySymbols,iSe=Object.prototype.hasOwnProperty,oSe=Object.prototype.propertyIsEnumerable,zj=(r,e,t)=>e in r?tSe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rE=(r,e)=>{for(var t in e||(e={}))iSe.call(e,t)&&zj(r,t,e[t]);if(Uj)for(var t of Uj(e))oSe.call(e,t)&&zj(r,t,e[t]);return r},Mx=(r,e)=>nSe(r,rSe(e));const Yi={xs:W(30),sm:W(36),md:W(42),lg:W(50),xl:W(60)},sSe=["default","filled","unstyled"];function aSe({theme:r,variant:e}){return sSe.includes(e)?e==="default"?{border:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4]}`,backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,transition:"border-color 100ms ease","&:focus, &:focus-within":r.focusRingStyles.inputStyles(r)}:e==="filled"?{border:`${W(1)} solid transparent`,backgroundColor:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[1],"&:focus, &:focus-within":r.focusRingStyles.inputStyles(r)}:{borderWidth:0,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,backgroundColor:"transparent",minHeight:W(28),outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}:null}var lSe=We((r,{multiline:e,radius:t,invalid:n,rightSectionWidth:i,withRightSection:o,iconWidth:s,offsetBottom:a,offsetTop:l,pointer:u},{variant:c,size:d})=>{const h=r.fn.variant({variant:"filled",color:"red"}).background,p=c==="default"||c==="filled"?{minHeight:be({size:d,sizes:Yi}),paddingLeft:`calc(${be({size:d,sizes:Yi})}  / 3)`,paddingRight:o?i||be({size:d,sizes:Yi}):`calc(${be({size:d,sizes:Yi})}  / 3)`,borderRadius:r.fn.radius(t)}:c==="unstyled"&&o?{paddingRight:i||be({size:d,sizes:Yi})}:null;return{wrapper:{position:"relative",marginTop:l?`calc(${r.spacing.xs} / 2)`:void 0,marginBottom:a?`calc(${r.spacing.xs} / 2)`:void 0,"&:has(input:disabled)":{"& .mantine-Input-rightSection":{display:"none"}}},input:Mx(rE(rE(Mx(rE({},r.fn.fontStyles()),{height:e?c==="unstyled"?void 0:"auto":be({size:d,sizes:Yi}),WebkitTapHighlightColor:"transparent",lineHeight:e?r.lineHeight:`calc(${be({size:d,sizes:Yi})} - ${W(2)})`,appearance:"none",resize:"none",boxSizing:"border-box",fontSize:be({size:d,sizes:r.fontSizes}),width:"100%",color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,display:"block",textAlign:"left",cursor:u?"pointer":void 0}),aSe({theme:r,variant:c})),p),{"&:disabled, &[data-disabled]":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[1],color:r.colors.dark[2],opacity:.6,cursor:"not-allowed",pointerEvents:"none","&::placeholder":{color:r.colors.dark[2]}},"&[data-invalid]":{color:h,borderColor:h,"&::placeholder":{opacity:1,color:h}},"&[data-with-icon]":{paddingLeft:typeof s=="number"?W(s):be({size:d,sizes:Yi})},"&::placeholder":Mx(rE({},r.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:s?W(s):be({size:d,sizes:Yi}),color:n?r.colors.red[r.colorScheme==="dark"?6:7]:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:i||be({size:d,sizes:Yi})}}}),uSe=Object.defineProperty,cSe=Object.defineProperties,dSe=Object.getOwnPropertyDescriptors,eR=Object.getOwnPropertySymbols,W8=Object.prototype.hasOwnProperty,U8=Object.prototype.propertyIsEnumerable,Kj=(r,e,t)=>e in r?uSe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iE=(r,e)=>{for(var t in e||(e={}))W8.call(e,t)&&Kj(r,t,e[t]);if(eR)for(var t of eR(e))U8.call(e,t)&&Kj(r,t,e[t]);return r},Yj=(r,e)=>cSe(r,dSe(e)),hSe=(r,e)=>{var t={};for(var n in r)W8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&eR)for(var n of eR(r))e.indexOf(n)<0&&U8.call(r,n)&&(t[n]=r[n]);return t};const pSe={size:"sm",variant:"default"},hp=Ce((r,e)=>{const t=Me("Input",pSe,r),{className:n,error:i,required:o,disabled:s,variant:a,icon:l,style:u,rightSectionWidth:c,iconWidth:d,rightSection:h,rightSectionProps:p,radius:f,size:g,wrapperProps:v,classNames:y,styles:C,__staticSelector:w,multiline:S,sx:P,unstyled:F,pointer:_}=t,E=hSe(t,["className","error","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:T,offsetTop:O,describedBy:L}=Nwe(),{classes:V,cx:M}=lSe({radius:f,multiline:S,invalid:!!i,rightSectionWidth:c?W(c):void 0,iconWidth:d,withRightSection:!!h,offsetBottom:T,offsetTop:O,pointer:_},{classNames:y,styles:C,name:["Input",w],unstyled:F,variant:a,size:g}),{systemStyles:N,rest:$}=jg(E);return x.createElement(Ge,iE(iE({className:M(V.wrapper,n),sx:P,style:u},N),v),l&&x.createElement("div",{className:V.icon},l),x.createElement(Ge,Yj(iE({component:"input"},$),{ref:e,required:o,"aria-invalid":!!i,"aria-describedby":L,disabled:s,"data-disabled":s||void 0,"data-with-icon":!!l||void 0,"data-invalid":!!i||void 0,className:V.input})),h&&x.createElement("div",Yj(iE({},p),{className:V.rightSection}),h))});hp.displayName="@mantine/core/Input";hp.Wrapper=k8;hp.Label=w0;hp.Description=E0;hp.Error=S0;hp.Placeholder=j8;const gl=hp;var fSe=Object.defineProperty,tR=Object.getOwnPropertySymbols,z8=Object.prototype.hasOwnProperty,K8=Object.prototype.propertyIsEnumerable,qj=(r,e,t)=>e in r?fSe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gSe=(r,e)=>{for(var t in e)z8.call(e,t)&&qj(r,t,e[t]);if(tR)for(var t of tR(e))K8.call(e,t)&&qj(r,t,e[t]);return r},mSe=(r,e)=>{var t={};for(var n in r)z8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tR)for(var n of tR(r))e.indexOf(n)<0&&K8.call(r,n)&&(t[n]=r[n]);return t};function vSe(r){const e=r,{style:t}=e,n=mSe(e,["style"]);return x.createElement("svg",gSe({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:t},n),x.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var ySe=Object.defineProperty,CSe=Object.defineProperties,wSe=Object.getOwnPropertyDescriptors,Qj=Object.getOwnPropertySymbols,SSe=Object.prototype.hasOwnProperty,ESe=Object.prototype.propertyIsEnumerable,Xj=(r,e,t)=>e in r?ySe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_Se=(r,e)=>{for(var t in e||(e={}))SSe.call(e,t)&&Xj(r,t,e[t]);if(Qj)for(var t of Qj(e))ESe.call(e,t)&&Xj(r,t,e[t]);return r},bSe=(r,e)=>CSe(r,wSe(e));const Y8=Yn(null);function RSe({spacing:r,children:e}){return x.createElement(Y8.Provider,{value:{spacing:r}},e)}function TSe(){const r=Ut(Y8);return r?bSe(_Se({},r),{withinGroup:!0}):{spacing:null,withinGroup:!1}}var PSe=We((r,{spacing:e})=>({root:{display:"flex",paddingLeft:be({size:e,sizes:r.spacing})}})),OSe=Object.defineProperty,nR=Object.getOwnPropertySymbols,q8=Object.prototype.hasOwnProperty,Q8=Object.prototype.propertyIsEnumerable,Jj=(r,e,t)=>e in r?OSe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DSe=(r,e)=>{for(var t in e)q8.call(e,t)&&Jj(r,t,e[t]);if(nR)for(var t of nR(e))Q8.call(e,t)&&Jj(r,t,e[t]);return r},ASe=(r,e)=>{var t={};for(var n in r)q8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&nR)for(var n of nR(r))e.indexOf(n)<0&&Q8.call(r,n)&&(t[n]=r[n]);return t};const xSe={},X8=Ce((r,e)=>{const t=Me("AvatarGroup",xSe,r),{children:n,spacing:i="sm",unstyled:o,className:s,variant:a}=t,l=ASe(t,["children","spacing","unstyled","className","variant"]),{classes:u,cx:c}=PSe({spacing:i},{name:"AvatarGroup",unstyled:o,variant:a});return x.createElement(RSe,{spacing:i},x.createElement(Ge,DSe({ref:e,className:c(u.root,s)},l),n))});X8.displayName="@mantine/core/AvatarGroup";var ISe=Object.defineProperty,FSe=Object.defineProperties,MSe=Object.getOwnPropertyDescriptors,Zj=Object.getOwnPropertySymbols,LSe=Object.prototype.hasOwnProperty,NSe=Object.prototype.propertyIsEnumerable,eW=(r,e,t)=>e in r?ISe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ym=(r,e)=>{for(var t in e||(e={}))LSe.call(e,t)&&eW(r,t,e[t]);if(Zj)for(var t of Zj(e))NSe.call(e,t)&&eW(r,t,e[t]);return r},tW=(r,e)=>FSe(r,MSe(e));const GSe=["filled","light","gradient","outline"],oE={xs:W(16),sm:W(26),md:W(38),lg:W(56),xl:W(84)};function VSe({withinGroup:r,spacing:e,theme:t}){return r?{marginLeft:`calc(${be({size:e,sizes:t.spacing})} * -1)`,backgroundColor:`${t.colorScheme==="dark"?t.colors.dark[7]:t.white}`,border:`${W(2)} solid ${t.colorScheme==="dark"?t.colors.dark[7]:t.white}`}:null}function HSe({theme:r,variant:e,color:t,gradient:n}){const i=r.fn.variant({variant:e,color:t,gradient:n});return GSe.includes(e)?{placeholder:{color:i.color,backgroundColor:i.background,backgroundImage:e==="gradient"?i.background:void 0,border:`${W(e==="gradient"?0:1)} solid ${i.border}`},placeholderIcon:{color:i.color}}:{}}var kSe=We((r,{radius:e,withinGroup:t,spacing:n,color:i,gradient:o},{variant:s,size:a})=>{const l=HSe({theme:r,color:i,gradient:o,variant:s});return{root:Ym(tW(Ym({},r.fn.focusStyles()),{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",display:"block",userSelect:"none",overflow:"hidden",borderRadius:r.fn.radius(e),textDecoration:"none",border:0,backgroundColor:"transparent",padding:0,width:be({size:a,sizes:oE}),minWidth:be({size:a,sizes:oE}),height:be({size:a,sizes:oE})}),VSe({withinGroup:t,spacing:n,theme:r})),image:{objectFit:"cover",width:"100%",height:"100%",display:"block"},placeholder:Ym(tW(Ym({},r.fn.fontStyles()),{fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",userSelect:"none",borderRadius:r.fn.radius(e),fontSize:`calc(${be({size:a,sizes:oE})} / 2.5)`}),l.placeholder),placeholderIcon:Ym({width:"70%",height:"70%"},l.placeholderIcon)}}),$Se=Object.defineProperty,BSe=Object.defineProperties,jSe=Object.getOwnPropertyDescriptors,rR=Object.getOwnPropertySymbols,J8=Object.prototype.hasOwnProperty,Z8=Object.prototype.propertyIsEnumerable,nW=(r,e,t)=>e in r?$Se(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rW=(r,e)=>{for(var t in e||(e={}))J8.call(e,t)&&nW(r,t,e[t]);if(rR)for(var t of rR(e))Z8.call(e,t)&&nW(r,t,e[t]);return r},WSe=(r,e)=>BSe(r,jSe(e)),USe=(r,e)=>{var t={};for(var n in r)J8.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&rR)for(var n of rR(r))e.indexOf(n)<0&&Z8.call(r,n)&&(t[n]=r[n]);return t};const zSe={size:"md",color:"gray",variant:"light"},_0=Ce((r,e)=>{const t=Me("Avatar",zSe,r),{className:n,size:i,src:o,alt:s,radius:a,children:l,color:u,variant:c,gradient:d,classNames:h,styles:p,imageProps:f,unstyled:g}=t,v=USe(t,["className","size","src","alt","radius","children","color","variant","gradient","classNames","styles","imageProps","unstyled"]),y=TSe(),[C,w]=Te(!o),{classes:S,cx:P}=kSe({color:u,radius:a,withinGroup:y.withinGroup,spacing:y.spacing,gradient:d},{classNames:h,styles:p,unstyled:g,name:"Avatar",variant:c,size:i});return Fe(()=>{w(!o)},[o]),x.createElement(Ge,rW({component:"div",className:P(S.root,n),ref:e},v),C?x.createElement("div",{className:S.placeholder,title:s},l||x.createElement(vSe,{className:S.placeholderIcon})):x.createElement("img",WSe(rW({},f),{className:S.image,src:o,alt:s,onError:()=>w(!0)})))});_0.displayName="@mantine/core/Avatar";_0.Group=X8;const b0=_0;var KSe=Object.defineProperty,YSe=Object.defineProperties,qSe=Object.getOwnPropertyDescriptors,iW=Object.getOwnPropertySymbols,QSe=Object.prototype.hasOwnProperty,XSe=Object.prototype.propertyIsEnumerable,oW=(r,e,t)=>e in r?KSe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Lx=(r,e)=>{for(var t in e||(e={}))QSe.call(e,t)&&oW(r,t,e[t]);if(iW)for(var t of iW(e))XSe.call(e,t)&&oW(r,t,e[t]);return r},JSe=(r,e)=>YSe(r,qSe(e));const ZSe=["light","filled","outline","dot","gradient"],Nx={xs:{fontSize:W(9),height:W(16)},sm:{fontSize:W(10),height:W(18)},md:{fontSize:W(11),height:W(20)},lg:{fontSize:W(13),height:W(26)},xl:{fontSize:W(16),height:W(32)}},eEe={xs:W(4),sm:W(4),md:W(6),lg:W(8),xl:W(10)};function tEe({theme:r,variant:e,color:t,size:n,gradient:i}){if(!ZSe.includes(e))return null;if(e==="dot"){const s=be({size:n,sizes:eEe});return{backgroundColor:"transparent",color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[7],border:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[3]}`,paddingLeft:`calc(${be({size:n,sizes:r.spacing})} / 1.5 - ${s} / 2)`,"&::before":{content:'""',display:"block",width:s,height:s,borderRadius:s,backgroundColor:r.fn.themeColor(t,r.colorScheme==="dark"?4:r.fn.primaryShade("light"),!0),marginRight:s}}}const o=r.fn.variant({color:t,variant:e,gradient:i});return{background:o.background,color:o.color,border:`${W(e==="gradient"?0:1)} solid ${o.border}`}}var nEe=We((r,{color:e,radius:t,gradient:n,fullWidth:i},{variant:o,size:s})=>{const{fontSize:a,height:l}=s in Nx?Nx[s]:Nx.md;return{leftSection:{marginRight:`calc(${r.spacing.xs} / 2)`},rightSection:{marginLeft:`calc(${r.spacing.xs} / 2)`},inner:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},root:Lx(JSe(Lx(Lx({},r.fn.focusStyles()),r.fn.fontStyles()),{fontSize:a,height:l,WebkitTapHighlightColor:"transparent",lineHeight:`calc(${l} - ${W(2)})`,textDecoration:"none",padding:`0 calc(${be({size:s,sizes:r.spacing})} / 1.5)`,boxSizing:"border-box",display:i?"flex":"inline-flex",alignItems:"center",justifyContent:"center",width:i?"100%":"auto",textTransform:"uppercase",borderRadius:r.fn.radius(t),fontWeight:700,letterSpacing:W(.25),cursor:"inherit",textOverflow:"ellipsis",overflow:"hidden"}),tEe({theme:r,variant:o,color:e,size:s,gradient:n}))}}),rEe=Object.defineProperty,iR=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,tY=Object.prototype.propertyIsEnumerable,sW=(r,e,t)=>e in r?rEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iEe=(r,e)=>{for(var t in e)eY.call(e,t)&&sW(r,t,e[t]);if(iR)for(var t of iR(e))tY.call(e,t)&&sW(r,t,e[t]);return r},oEe=(r,e)=>{var t={};for(var n in r)eY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&iR)for(var n of iR(r))e.indexOf(n)<0&&tY.call(r,n)&&(t[n]=r[n]);return t};const sEe={variant:"light",size:"md",radius:"xl"},nY=Ce((r,e)=>{const t=Me("Badge",sEe,r),{className:n,color:i,variant:o,fullWidth:s,children:a,size:l,leftSection:u,rightSection:c,radius:d,gradient:h,classNames:p,styles:f,unstyled:g}=t,v=oEe(t,["className","color","variant","fullWidth","children","size","leftSection","rightSection","radius","gradient","classNames","styles","unstyled"]),{classes:y,cx:C}=nEe({fullWidth:s,color:i,radius:d,gradient:h},{classNames:p,styles:f,name:"Badge",unstyled:g,variant:o,size:l});return x.createElement(Ge,iEe({className:C(y.root,n),ref:e},v),u&&x.createElement("span",{className:y.leftSection},u),x.createElement("span",{className:y.inner},a),c&&x.createElement("span",{className:y.rightSection},c))});nY.displayName="@mantine/core/Badge";const to=nY;var aEe=We((r,{orientation:e,buttonBorderWidth:t})=>({root:{display:"flex",flexDirection:e==="vertical"?"column":"row","& [data-button]":{"&:first-of-type:not(:last-of-type)":{borderBottomRightRadius:0,[e==="vertical"?"borderBottomLeftRadius":"borderTopRightRadius"]:0,[e==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${W(t)} / 2)`},"&:last-of-type:not(:first-of-type)":{borderTopLeftRadius:0,[e==="vertical"?"borderTopRightRadius":"borderBottomLeftRadius"]:0,[e==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${W(t)} / 2)`},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,[e==="vertical"?"borderTopWidth":"borderLeftWidth"]:`calc(${W(t)} / 2)`,[e==="vertical"?"borderBottomWidth":"borderRightWidth"]:`calc(${W(t)} / 2)`},"& + [data-button]":{[e==="vertical"?"marginTop":"marginLeft"]:`calc(${t} * -1)`,"@media (min-resolution: 192dpi)":{[e==="vertical"?"marginTop":"marginLeft"]:0}}}}})),lEe=Object.defineProperty,oR=Object.getOwnPropertySymbols,rY=Object.prototype.hasOwnProperty,iY=Object.prototype.propertyIsEnumerable,aW=(r,e,t)=>e in r?lEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uEe=(r,e)=>{for(var t in e)rY.call(e,t)&&aW(r,t,e[t]);if(oR)for(var t of oR(e))iY.call(e,t)&&aW(r,t,e[t]);return r},cEe=(r,e)=>{var t={};for(var n in r)rY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&oR)for(var n of oR(r))e.indexOf(n)<0&&iY.call(r,n)&&(t[n]=r[n]);return t};const dEe={orientation:"horizontal",buttonBorderWidth:1},oY=Ce((r,e)=>{const t=Me("ButtonGroup",dEe,r),{className:n,orientation:i,buttonBorderWidth:o,unstyled:s}=t,a=cEe(t,["className","orientation","buttonBorderWidth","unstyled"]),{classes:l,cx:u}=aEe({orientation:i,buttonBorderWidth:o},{name:"ButtonGroup",unstyled:s});return x.createElement(Ge,uEe({className:u(l.root,n),ref:e},a))});oY.displayName="@mantine/core/ButtonGroup";var hEe=Object.defineProperty,pEe=Object.defineProperties,fEe=Object.getOwnPropertyDescriptors,lW=Object.getOwnPropertySymbols,gEe=Object.prototype.hasOwnProperty,mEe=Object.prototype.propertyIsEnumerable,uW=(r,e,t)=>e in r?hEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Jl=(r,e)=>{for(var t in e||(e={}))gEe.call(e,t)&&uW(r,t,e[t]);if(lW)for(var t of lW(e))mEe.call(e,t)&&uW(r,t,e[t]);return r},O_=(r,e)=>pEe(r,fEe(e));const vEe=["filled","outline","light","white","default","subtle","gradient"],CM={xs:{height:Yi.xs,paddingLeft:W(14),paddingRight:W(14)},sm:{height:Yi.sm,paddingLeft:W(18),paddingRight:W(18)},md:{height:Yi.md,paddingLeft:W(22),paddingRight:W(22)},lg:{height:Yi.lg,paddingLeft:W(26),paddingRight:W(26)},xl:{height:Yi.xl,paddingLeft:W(32),paddingRight:W(32)},"compact-xs":{height:W(22),paddingLeft:W(7),paddingRight:W(7)},"compact-sm":{height:W(26),paddingLeft:W(8),paddingRight:W(8)},"compact-md":{height:W(30),paddingLeft:W(10),paddingRight:W(10)},"compact-lg":{height:W(34),paddingLeft:W(12),paddingRight:W(12)},"compact-xl":{height:W(40),paddingLeft:W(14),paddingRight:W(14)}};function yEe({compact:r,size:e,withLeftIcon:t,withRightIcon:n}){if(r)return CM[`compact-${e}`];const i=CM[e];return i?O_(Jl({},i),{paddingLeft:t?`calc(${i.paddingLeft}  / 1.5)`:i.paddingLeft,paddingRight:n?`calc(${i.paddingRight}  / 1.5)`:i.paddingRight}):{}}const CEe=r=>({display:r?"block":"inline-block",width:r?"100%":"auto"});function wEe({variant:r,theme:e,color:t,gradient:n}){if(!vEe.includes(r))return null;const i=e.fn.variant({color:t,variant:r,gradient:n});return r==="gradient"?Jl({border:0,backgroundImage:i.background,color:i.color},e.fn.hover({backgroundSize:"200%"})):Jl({border:`${W(1)} solid ${i.border}`,backgroundColor:i.background,color:i.color},e.fn.hover({backgroundColor:i.hover}))}var SEe=We((r,{radius:e,fullWidth:t,compact:n,withLeftIcon:i,withRightIcon:o,color:s,gradient:a},{variant:l,size:u})=>({root:O_(Jl(O_(Jl(Jl(Jl(Jl({},yEe({compact:n,size:u,withLeftIcon:i,withRightIcon:o})),r.fn.fontStyles()),r.fn.focusStyles()),CEe(t)),{borderRadius:r.fn.radius(e),fontWeight:600,position:"relative",lineHeight:1,fontSize:be({size:u,sizes:r.fontSizes}),userSelect:"none",cursor:"pointer"}),wEe({variant:l,theme:r,color:s,gradient:a})),{"&:active":r.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],color:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":O_(Jl({content:'""'},r.fn.cover(W(-1))),{backgroundColor:r.colorScheme==="dark"?r.fn.rgba(r.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:r.fn.radius(e),cursor:"not-allowed"})}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:r.spacing.xs},rightIcon:{marginLeft:r.spacing.xs},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}})),EEe=Object.defineProperty,sR=Object.getOwnPropertySymbols,sY=Object.prototype.hasOwnProperty,aY=Object.prototype.propertyIsEnumerable,cW=(r,e,t)=>e in r?EEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,dW=(r,e)=>{for(var t in e||(e={}))sY.call(e,t)&&cW(r,t,e[t]);if(sR)for(var t of sR(e))aY.call(e,t)&&cW(r,t,e[t]);return r},_Ee=(r,e)=>{var t={};for(var n in r)sY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&sR)for(var n of sR(r))e.indexOf(n)<0&&aY.call(r,n)&&(t[n]=r[n]);return t};const bEe={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},R0=Ce((r,e)=>{const t=Me("Button",bEe,r),{className:n,size:i,color:o,type:s,disabled:a,children:l,leftIcon:u,rightIcon:c,fullWidth:d,variant:h,radius:p,uppercase:f,compact:g,loading:v,loaderPosition:y,loaderProps:C,gradient:w,classNames:S,styles:P,unstyled:F}=t,_=_Ee(t,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:E,cx:T,theme:O}=SEe({radius:p,color:o,fullWidth:d,compact:g,gradient:w,withLeftIcon:!!u,withRightIcon:!!c},{name:"Button",unstyled:F,classNames:S,styles:P,variant:h,size:i}),L=O.fn.variant({color:o,variant:h}),V=x.createElement(dd,dW({color:L.color,size:`calc(${be({size:i,sizes:CM}).height} / 2)`},C));return x.createElement(DO,dW({className:T(E.root,n),type:s,disabled:a,"data-button":!0,"data-disabled":a||void 0,"data-loading":v||void 0,ref:e,unstyled:F},_),x.createElement("div",{className:E.inner},(u||v&&y==="left")&&x.createElement("span",{className:T(E.icon,E.leftIcon)},v&&y==="left"?V:u),v&&y==="center"&&x.createElement("span",{className:E.centerLoader},V),x.createElement("span",{className:E.label,style:{textTransform:f?"uppercase":void 0}},l),(c||v&&y==="right")&&x.createElement("span",{className:T(E.icon,E.rightIcon)},v&&y==="right"?V:c)))});R0.displayName="@mantine/core/Button";R0.Group=oY;const mr=R0;var REe=We((r,{radius:e,shadow:t})=>({root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,boxSizing:"border-box",borderRadius:r.fn.radius(e),boxShadow:r.shadows[t]||t||"none","&[data-with-border]":{border:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}}})),TEe=Object.defineProperty,aR=Object.getOwnPropertySymbols,lY=Object.prototype.hasOwnProperty,uY=Object.prototype.propertyIsEnumerable,hW=(r,e,t)=>e in r?TEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,PEe=(r,e)=>{for(var t in e)lY.call(e,t)&&hW(r,t,e[t]);if(aR)for(var t of aR(e))uY.call(e,t)&&hW(r,t,e[t]);return r},OEe=(r,e)=>{var t={};for(var n in r)lY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&aR)for(var n of aR(r))e.indexOf(n)<0&&uY.call(r,n)&&(t[n]=r[n]);return t};const DEe={},cY=Ce((r,e)=>{const t=Me("Paper",DEe,r),{className:n,children:i,radius:o,withBorder:s,shadow:a,unstyled:l,variant:u}=t,c=OEe(t,["className","children","radius","withBorder","shadow","unstyled","variant"]),{classes:d,cx:h}=REe({radius:o,shadow:a},{name:"Paper",unstyled:l,variant:u});return x.createElement(Ge,PEe({className:h(d.root,n),"data-with-border":s||void 0,ref:e},c),i)});cY.displayName="@mantine/core/Paper";const Nn=cY,dY=Yn({padding:0}),AEe=dY.Provider,xEe=()=>Ut(dY).padding;var IEe=We((r,{padding:e,withBorder:t,inheritPadding:n})=>{const i=be({size:e,sizes:r.spacing}),o=`calc(-1 * ${i})`,s=r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3];return{cardSection:{display:"block",marginLeft:o,marginRight:o,paddingLeft:n?i:void 0,paddingRight:n?i:void 0,borderTop:t?`${W(1)} solid ${s}`:void 0,borderBottom:t?`${W(1)} solid ${s}`:void 0,"& + &":{borderTop:0},"&[data-first]":{marginTop:o,borderTop:0,borderBottom:t?`${W(1)} solid ${s}`:void 0},"&[data-last]":{marginBottom:o,borderBottom:0}}}}),FEe=Object.defineProperty,lR=Object.getOwnPropertySymbols,hY=Object.prototype.hasOwnProperty,pY=Object.prototype.propertyIsEnumerable,pW=(r,e,t)=>e in r?FEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,MEe=(r,e)=>{for(var t in e)hY.call(e,t)&&pW(r,t,e[t]);if(lR)for(var t of lR(e))pY.call(e,t)&&pW(r,t,e[t]);return r},LEe=(r,e)=>{var t={};for(var n in r)hY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&lR)for(var n of lR(r))e.indexOf(n)<0&&pY.call(r,n)&&(t[n]=r[n]);return t};const NEe={withBorder:!1,inheritPadding:!1},fY=Ce((r,e)=>{const t=Me("CardSection",NEe,r),{className:n,withBorder:i,inheritPadding:o,unstyled:s,variant:a}=t,l=LEe(t,["className","withBorder","inheritPadding","unstyled","variant"]),{classes:u,cx:c}=IEe({padding:xEe(),withBorder:i,inheritPadding:o},{name:"Card",unstyled:s,variant:a});return x.createElement(Ge,MEe({className:c(u.cardSection,n),ref:e},l))});fY.displayName="@mantine/core/CardSection";const gY=fY;var GEe=We(r=>({root:{position:"relative",overflow:"hidden",backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white}})),VEe=Object.defineProperty,uR=Object.getOwnPropertySymbols,mY=Object.prototype.hasOwnProperty,vY=Object.prototype.propertyIsEnumerable,fW=(r,e,t)=>e in r?VEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,HEe=(r,e)=>{for(var t in e)mY.call(e,t)&&fW(r,t,e[t]);if(uR)for(var t of uR(e))vY.call(e,t)&&fW(r,t,e[t]);return r},kEe=(r,e)=>{var t={};for(var n in r)mY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&uR)for(var n of uR(r))e.indexOf(n)<0&&vY.call(r,n)&&(t[n]=r[n]);return t};const $Ee={padding:"md"},T0=Ce((r,e)=>{const t=Me("Card",$Ee,r),{className:n,padding:i,radius:o,children:s,unstyled:a,variant:l}=t,u=kEe(t,["className","padding","radius","children","unstyled","variant"]),{classes:c,cx:d}=GEe(null,{name:"Card",unstyled:a,variant:l}),h=hl.toArray(s),p=h.map((f,g)=>typeof f=="object"&&f&&"type"in f&&f.type===gY?eo(f,{variant:l,padding:i,"data-first":g===0||void 0,"data-last":g===h.length-1||void 0}):f);return x.createElement(AEe,{value:{padding:i}},x.createElement(Nn,HEe({className:d(c.root,n),radius:o,p:i,ref:e},u),p))});T0.Section=gY;T0.displayName="@mantine/core/Card";const yY=T0;var BEe=We((r,{inline:e})=>({root:{display:e?"inline-flex":"flex",alignItems:"center",justifyContent:"center"}})),jEe=Object.defineProperty,cR=Object.getOwnPropertySymbols,CY=Object.prototype.hasOwnProperty,wY=Object.prototype.propertyIsEnumerable,gW=(r,e,t)=>e in r?jEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,WEe=(r,e)=>{for(var t in e)CY.call(e,t)&&gW(r,t,e[t]);if(cR)for(var t of cR(e))wY.call(e,t)&&gW(r,t,e[t]);return r},UEe=(r,e)=>{var t={};for(var n in r)CY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&cR)for(var n of cR(r))e.indexOf(n)<0&&wY.call(r,n)&&(t[n]=r[n]);return t};const SY=Ce((r,e)=>{const t=Me("Center",{},r),{inline:n,className:i,unstyled:o,variant:s}=t,a=UEe(t,["inline","className","unstyled","variant"]),{classes:l,cx:u}=BEe({inline:n},{name:"Center",unstyled:o,variant:s});return x.createElement(Ge,WEe({ref:e,className:u(l.root,i)},a))});SY.displayName="@mantine/core/Center";const EY=SY;var zEe=Object.defineProperty,KEe=Object.defineProperties,YEe=Object.getOwnPropertyDescriptors,mW=Object.getOwnPropertySymbols,qEe=Object.prototype.hasOwnProperty,QEe=Object.prototype.propertyIsEnumerable,vW=(r,e,t)=>e in r?zEe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,XEe=(r,e)=>{for(var t in e||(e={}))qEe.call(e,t)&&vW(r,t,e[t]);if(mW)for(var t of mW(e))QEe.call(e,t)&&vW(r,t,e[t]);return r},JEe=(r,e)=>KEe(r,YEe(e));const Gx={xs:W(16),sm:W(20),md:W(24),lg:W(30),xl:W(36)};var ZEe=We((r,{labelPosition:e},{size:t})=>({root:{},body:{display:"flex","&:has(input:disabled) label":{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]}},labelWrapper:JEe(XEe({},r.fn.fontStyles()),{display:"inline-flex",flexDirection:"column",WebkitTapHighlightColor:"transparent",fontSize:t in Gx?be({size:t,sizes:r.fontSizes}):void 0,lineHeight:t in Gx?be({size:t,sizes:Gx}):void 0,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,cursor:r.cursorType,order:e==="left"?1:2}),description:{marginTop:`calc(${r.spacing.xs} / 2)`,[e==="left"?"paddingRight":"paddingLeft"]:r.spacing.sm},error:{marginTop:`calc(${r.spacing.xs} / 2)`,[e==="left"?"paddingRight":"paddingLeft"]:r.spacing.sm},label:{cursor:r.cursorType,[e==="left"?"paddingRight":"paddingLeft"]:r.spacing.sm,"&:disabled, &[data-disabled]":{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5]}}})),e_e=Object.defineProperty,dR=Object.getOwnPropertySymbols,_Y=Object.prototype.hasOwnProperty,bY=Object.prototype.propertyIsEnumerable,yW=(r,e,t)=>e in r?e_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,t_e=(r,e)=>{for(var t in e)_Y.call(e,t)&&yW(r,t,e[t]);if(dR)for(var t of dR(e))bY.call(e,t)&&yW(r,t,e[t]);return r},n_e=(r,e)=>{var t={};for(var n in r)_Y.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&dR)for(var n of dR(r))e.indexOf(n)<0&&bY.call(r,n)&&(t[n]=r[n]);return t};const RY=Ce((r,e)=>{var t=r,{__staticSelector:n,className:i,classNames:o,styles:s,unstyled:a,children:l,label:u,description:c,id:d,disabled:h,error:p,size:f,labelPosition:g,variant:v}=t,y=n_e(t,["__staticSelector","className","classNames","styles","unstyled","children","label","description","id","disabled","error","size","labelPosition","variant"]);const{classes:C,cx:w}=ZEe({labelPosition:g},{name:n,styles:s,classNames:o,unstyled:a,variant:v,size:f});return x.createElement(Ge,t_e({className:w(C.root,i),ref:e},y),x.createElement("div",{className:w(C.body)},l,x.createElement("div",{className:C.labelWrapper},u!=null&&x.createElement("label",{className:C.label,"data-disabled":h||void 0,htmlFor:d},u),c&&x.createElement(gl.Description,{className:C.description},c),p&&p!=="boolean"&&x.createElement(gl.Error,{className:C.error},p))))});RY.displayName="@mantine/core/InlineInput";var r_e=We((r,{fluid:e,sizes:t},{size:n})=>({root:{paddingLeft:r.spacing.md,paddingRight:r.spacing.md,maxWidth:e?"100%":be({size:n,sizes:t}),marginLeft:"auto",marginRight:"auto"}})),i_e=Object.defineProperty,hR=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,PY=Object.prototype.propertyIsEnumerable,CW=(r,e,t)=>e in r?i_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,o_e=(r,e)=>{for(var t in e)TY.call(e,t)&&CW(r,t,e[t]);if(hR)for(var t of hR(e))PY.call(e,t)&&CW(r,t,e[t]);return r},s_e=(r,e)=>{var t={};for(var n in r)TY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&hR)for(var n of hR(r))e.indexOf(n)<0&&PY.call(r,n)&&(t[n]=r[n]);return t};const a_e={sizes:{xs:W(540),sm:W(720),md:W(960),lg:W(1140),xl:W(1320)}},Gi=Ce((r,e)=>{const t=Me("Container",a_e,r),{className:n,fluid:i,size:o,unstyled:s,sizes:a,variant:l}=t,u=s_e(t,["className","fluid","size","unstyled","sizes","variant"]),{classes:c,cx:d}=r_e({fluid:i,sizes:a},{unstyled:s,name:"Container",variant:l,size:o});return x.createElement(Ge,o_e({className:d(c.root,n),ref:e},u))});Gi.displayName="@mantine/core/Container";const[l_e,Yg]=cp("ModalBase component was not found in tree");var u_e=We(()=>({close:{marginLeft:"auto",marginRight:0}})),c_e=Object.defineProperty,pR=Object.getOwnPropertySymbols,OY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,wW=(r,e,t)=>e in r?c_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,d_e=(r,e)=>{for(var t in e)OY.call(e,t)&&wW(r,t,e[t]);if(pR)for(var t of pR(e))DY.call(e,t)&&wW(r,t,e[t]);return r},h_e=(r,e)=>{var t={};for(var n in r)OY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&pR)for(var n of pR(r))e.indexOf(n)<0&&DY.call(r,n)&&(t[n]=r[n]);return t};const p_e={size:"sm"},f_e=Ce((r,e)=>{const t=Yg(),n=Me(`${t.__staticSelector}CloseButton`,p_e,r),{className:i}=n,o=h_e(n,["className"]),{classes:s,cx:a}=u_e(null,t.stylesApi);return x.createElement(AO,d_e({className:a(s.close,i),ref:e,onClick:t.onClose},o))});var g_e=We(()=>({overlay:{}})),m_e=Object.defineProperty,v_e=Object.defineProperties,y_e=Object.getOwnPropertyDescriptors,SW=Object.getOwnPropertySymbols,C_e=Object.prototype.hasOwnProperty,w_e=Object.prototype.propertyIsEnumerable,EW=(r,e,t)=>e in r?m_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S_e=(r,e)=>{for(var t in e||(e={}))C_e.call(e,t)&&EW(r,t,e[t]);if(SW)for(var t of SW(e))w_e.call(e,t)&&EW(r,t,e[t]);return r},E_e=(r,e)=>v_e(r,y_e(e)),__e=We((r,{color:e,opacity:t,blur:n,radius:i,gradient:o,fixed:s,zIndex:a})=>({root:E_e(S_e({},r.fn.cover(0)),{position:s?"fixed":"absolute",backgroundColor:o?void 0:r.fn.rgba(e,t),backgroundImage:o,backdropFilter:n?`blur(${W(n)})`:void 0,borderRadius:r.fn.radius(i),zIndex:a,"&[data-center]":{display:"flex",alignItems:"center",justifyContent:"center"}})})),b_e=Object.defineProperty,fR=Object.getOwnPropertySymbols,AY=Object.prototype.hasOwnProperty,xY=Object.prototype.propertyIsEnumerable,_W=(r,e,t)=>e in r?b_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R_e=(r,e)=>{for(var t in e)AY.call(e,t)&&_W(r,t,e[t]);if(fR)for(var t of fR(e))xY.call(e,t)&&_W(r,t,e[t]);return r},T_e=(r,e)=>{var t={};for(var n in r)AY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&fR)for(var n of fR(r))e.indexOf(n)<0&&xY.call(r,n)&&(t[n]=r[n]);return t};const P_e={opacity:.6,color:"#000",zIndex:Da("modal"),radius:0},IY=Ce((r,e)=>{const t=Me("Overlay",P_e,r),{variant:n,opacity:i,color:o,blur:s,gradient:a,zIndex:l,radius:u,children:c,className:d,classNames:h,styles:p,unstyled:f,center:g,fixed:v}=t,y=T_e(t,["variant","opacity","color","blur","gradient","zIndex","radius","children","className","classNames","styles","unstyled","center","fixed"]),{classes:C,cx:w}=__e({color:o,opacity:i,blur:s,radius:u,gradient:a,fixed:v,zIndex:l},{name:"Overlay",classNames:h,styles:p,unstyled:f,variant:n});return x.createElement(Ge,R_e({ref:e,className:w(C.root,d),"data-center":g||void 0},y),c)});IY.displayName="@mantine/core/Overlay";const FY=IY;var O_e=Object.defineProperty,D_e=Object.defineProperties,A_e=Object.getOwnPropertyDescriptors,gR=Object.getOwnPropertySymbols,MY=Object.prototype.hasOwnProperty,LY=Object.prototype.propertyIsEnumerable,bW=(r,e,t)=>e in r?O_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qm=(r,e)=>{for(var t in e||(e={}))MY.call(e,t)&&bW(r,t,e[t]);if(gR)for(var t of gR(e))LY.call(e,t)&&bW(r,t,e[t]);return r},x_e=(r,e)=>D_e(r,A_e(e)),I_e=(r,e)=>{var t={};for(var n in r)MY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&gR)for(var n of gR(r))e.indexOf(n)<0&&LY.call(r,n)&&(t[n]=r[n]);return t};const F_e={},M_e=Ce((r,e)=>{const t=Yg(),n=Me(`${t.__staticSelector}Overlay`,F_e,r),{onClick:i,transitionProps:o,style:s,className:a}=n,l=I_e(n,["onClick","transitionProps","style","className"]),{classes:u,cx:c}=g_e(null,t.stylesApi),d=h=>{i==null||i(h),t.closeOnClickOutside&&t.onClose()};return x.createElement(Kg,x_e(qm(qm({mounted:t.opened},t.transitionProps),o),{transition:"fade"}),h=>x.createElement(FY,qm({ref:e,onClick:d,fixed:!0,style:qm(qm({},s),h),className:c(u.overlay,a),zIndex:t.zIndex},l)))});var L_e=We((r,{zIndex:e})=>({inner:{position:"fixed",width:"100%",top:0,bottom:0,maxHeight:"100%",zIndex:e,pointerEvents:"none"},content:{pointerEvents:"all"}})),N_e=Object.defineProperty,mR=Object.getOwnPropertySymbols,NY=Object.prototype.hasOwnProperty,GY=Object.prototype.propertyIsEnumerable,RW=(r,e,t)=>e in r?N_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qm=(r,e)=>{for(var t in e||(e={}))NY.call(e,t)&&RW(r,t,e[t]);if(mR)for(var t of mR(e))GY.call(e,t)&&RW(r,t,e[t]);return r},G_e=(r,e)=>{var t={};for(var n in r)NY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&mR)for(var n of mR(r))e.indexOf(n)<0&&GY.call(r,n)&&(t[n]=r[n]);return t};const V_e={},H_e=Ce((r,e)=>{const t=Yg(),n=Me(`${t.__staticSelector}Content`,V_e,r),{className:i,transitionProps:o,style:s,onKeyDown:a}=n,l=G_e(n,["className","transitionProps","style","onKeyDown"]),{classes:u,cx:c}=L_e({zIndex:t.zIndex},t.stylesApi),d=h=>{var p;((p=h.target)==null?void 0:p.getAttribute("data-mantine-stop-propagation"))!=="true"&&h.key==="Escape"&&t.closeOnEscape&&t.onClose(),a==null||a(h)};return x.createElement(Kg,Qm(Qm({mounted:t.opened,transition:"pop"},t.transitionProps),o),h=>x.createElement("div",{className:c(u.inner)},x.createElement(y0,{active:t.opened&&t.trapFocus},x.createElement(Nn,Qm({component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":t.bodyMounted?t.getBodyId():void 0,"aria-labelledby":t.titleMounted?t.getTitleId():void 0,onKeyDown:d,ref:e,className:c(u.content,i),style:Qm(Qm({},s),h),shadow:t.shadow},l),l.children))))});var k_e=We((r,{padding:e})=>{const t=be({size:e,sizes:r.spacing});return{header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t,paddingRight:`calc(${t} - ${W(5)})`,position:"sticky",top:0,backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,zIndex:1e3}}}),$_e=Object.defineProperty,vR=Object.getOwnPropertySymbols,VY=Object.prototype.hasOwnProperty,HY=Object.prototype.propertyIsEnumerable,TW=(r,e,t)=>e in r?$_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B_e=(r,e)=>{for(var t in e)VY.call(e,t)&&TW(r,t,e[t]);if(vR)for(var t of vR(e))HY.call(e,t)&&TW(r,t,e[t]);return r},j_e=(r,e)=>{var t={};for(var n in r)VY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&vR)for(var n of vR(r))e.indexOf(n)<0&&HY.call(r,n)&&(t[n]=r[n]);return t};const W_e={},U_e=Ce((r,e)=>{const t=Yg(),n=Me(`${t.__staticSelector}Header`,W_e,r),{className:i}=n,o=j_e(n,["className"]),{classes:s,cx:a}=k_e({padding:t.padding},t.stylesApi);return x.createElement(Ge,B_e({ref:e,className:a(s.header,i)},o))});var z_e=We(r=>({title:{lineHeight:1,padding:0,margin:0,fontWeight:400,fontSize:r.fontSizes.md}})),K_e=Object.defineProperty,yR=Object.getOwnPropertySymbols,kY=Object.prototype.hasOwnProperty,$Y=Object.prototype.propertyIsEnumerable,PW=(r,e,t)=>e in r?K_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Y_e=(r,e)=>{for(var t in e)kY.call(e,t)&&PW(r,t,e[t]);if(yR)for(var t of yR(e))$Y.call(e,t)&&PW(r,t,e[t]);return r},q_e=(r,e)=>{var t={};for(var n in r)kY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&yR)for(var n of yR(r))e.indexOf(n)<0&&$Y.call(r,n)&&(t[n]=r[n]);return t};const Q_e={},X_e=Ce((r,e)=>{const t=Yg(),n=Me(`${t.__staticSelector}Title`,Q_e,r),{className:i}=n,o=q_e(n,["className"]),{classes:s,cx:a}=z_e(null,t.stylesApi);return Fe(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),x.createElement(Ge,Y_e({component:"h2",id:t.getTitleId(),className:a(s.title,i),ref:e},o))});var J_e=We((r,{padding:e})=>({body:{padding:be({size:e,sizes:r.spacing}),"&:not(:only-child)":{paddingTop:0}}})),Z_e=Object.defineProperty,CR=Object.getOwnPropertySymbols,BY=Object.prototype.hasOwnProperty,jY=Object.prototype.propertyIsEnumerable,OW=(r,e,t)=>e in r?Z_e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ebe=(r,e)=>{for(var t in e)BY.call(e,t)&&OW(r,t,e[t]);if(CR)for(var t of CR(e))jY.call(e,t)&&OW(r,t,e[t]);return r},tbe=(r,e)=>{var t={};for(var n in r)BY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&CR)for(var n of CR(r))e.indexOf(n)<0&&jY.call(r,n)&&(t[n]=r[n]);return t};const nbe={},rbe=Ce((r,e)=>{const t=Yg(),n=Me(`${t.__staticSelector}Body`,nbe,r),{className:i}=n,o=tbe(n,["className"]),{classes:s,cx:a}=J_e({padding:t.padding},t.stylesApi);return Fe(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),x.createElement(Ge,ebe({id:t.getBodyId(),className:a(s.body,i),ref:e},o))});function ibe({children:r}){return x.createElement(x.Fragment,null,r)}function obe({opened:r,transitionDuration:e}){const[t,n]=Te(r),i=ve(),s=WC()?0:e;return Fe(()=>(r?(n(!0),window.clearTimeout(i.current)):s===0?n(!1):i.current=window.setTimeout(()=>n(!1),s),()=>window.clearTimeout(i.current)),[r,s]),t}var sbe=We(()=>({root:{}})),abe=Object.defineProperty,lbe=Object.defineProperties,ube=Object.getOwnPropertyDescriptors,wR=Object.getOwnPropertySymbols,WY=Object.prototype.hasOwnProperty,UY=Object.prototype.propertyIsEnumerable,DW=(r,e,t)=>e in r?abe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vx=(r,e)=>{for(var t in e||(e={}))WY.call(e,t)&&DW(r,t,e[t]);if(wR)for(var t of wR(e))UY.call(e,t)&&DW(r,t,e[t]);return r},AW=(r,e)=>lbe(r,ube(e)),cbe=(r,e)=>{var t={};for(var n in r)WY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&wR)for(var n of wR(r))e.indexOf(n)<0&&UY.call(r,n)&&(t[n]=r[n]);return t};const P0={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Da("modal"),padding:"md",size:"md",shadow:"xl"};function fr(r){const e=Me("ModalBase",P0,r),{opened:t,onClose:n,children:i,closeOnClickOutside:o,__staticSelector:s,transitionProps:a,withinPortal:l,portalProps:u,keepMounted:c,target:d,zIndex:h,lockScroll:p,trapFocus:f,closeOnEscape:g,returnFocus:v,padding:y,shadow:C,id:w,size:S,variant:P,classNames:F,unstyled:_,styles:E,className:T}=e,O=cbe(e,["opened","onClose","children","closeOnClickOutside","__staticSelector","transitionProps","withinPortal","portalProps","keepMounted","target","zIndex","lockScroll","trapFocus","closeOnEscape","returnFocus","padding","shadow","id","size","variant","classNames","unstyled","styles","className"]),{classes:L,cx:V}=sbe(null,{name:s,classNames:F,styles:E,unstyled:_,variant:P,size:S}),M=cd(w),[N,$]=Te(!1),[B,U]=Te(!1),z=typeof(a==null?void 0:a.duration)=="number"?a==null?void 0:a.duration:200,j=obe({opened:t,transitionDuration:z});return cM("keydown",Q=>{!f&&Q.key==="Escape"&&g&&n()}),C9({opened:t,shouldReturnFocus:f&&v}),x.createElement(Wg,AW(Vx({},u),{withinPortal:l,target:d}),x.createElement(l_e,{value:{__staticSelector:s,opened:t,onClose:n,closeOnClickOutside:o,transitionProps:AW(Vx({},a),{duration:z,keepMounted:c}),zIndex:h,padding:y,id:M,getTitleId:()=>`${M}-title`,getBodyId:()=>`${M}-body`,titleMounted:N,bodyMounted:B,setTitleMounted:$,setBodyMounted:U,trapFocus:f,closeOnEscape:g,shadow:C,stylesApi:{name:s,size:S,variant:P,classNames:F,styles:E,unstyled:_}}},x.createElement($6,{enabled:j&&p},x.createElement(Ge,Vx({className:V(L.root,T)},O),i))))}fr.CloseButton=f_e;fr.Overlay=M_e;fr.Content=H_e;fr.Header=U_e;fr.Title=X_e;fr.Body=rbe;fr.NativeScrollArea=ibe;const[dbe,hbe]=cp("Grid component was not found in tree");var pbe=Object.defineProperty,xW=Object.getOwnPropertySymbols,fbe=Object.prototype.hasOwnProperty,gbe=Object.prototype.propertyIsEnumerable,IW=(r,e,t)=>e in r?pbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mbe=(r,e)=>{for(var t in e||(e={}))fbe.call(e,t)&&IW(r,t,e[t]);if(xW)for(var t of xW(e))gbe.call(e,t)&&IW(r,t,e[t]);return r};const O0=(r,e)=>r==="content"?"auto":r==="auto"?"0rem":r?`${100/(e/r)}%`:void 0,zY=(r,e,t)=>t||r==="auto"||r==="content"?"unset":O0(r,e),KY=(r,e)=>{if(r)return r==="auto"||e?1:0},YY=(r,e)=>r===0?0:r?`${100/(e/r)}%`:void 0,qY=(r,e)=>typeof r<"u"?`calc(${be({size:r,sizes:e.spacing})} / 2)`:void 0;function vbe({sizes:r,offsets:e,orders:t,theme:n,columns:i,gutters:o,grow:s}){return q6.reduce((a,l)=>(a[`@media (min-width: ${us(n.breakpoints[l])})`]={order:t[l],flexBasis:O0(r[l],i),padding:qY(o[l],n),flexShrink:0,width:r[l]==="content"?"auto":void 0,maxWidth:zY(r[l],i,s),marginLeft:YY(e[l],i),flexGrow:KY(r[l],s)},a),{})}var ybe=We((r,{gutter:e,gutterXs:t,gutterSm:n,gutterMd:i,gutterLg:o,gutterXl:s,grow:a,offset:l,offsetXs:u,offsetSm:c,offsetMd:d,offsetLg:h,offsetXl:p,columns:f,span:g,xs:v,sm:y,md:C,lg:w,xl:S,order:P,orderXs:F,orderSm:_,orderMd:E,orderLg:T,orderXl:O})=>({col:mbe({boxSizing:"border-box",flexGrow:KY(g,a),order:P,padding:qY(e,r),marginLeft:YY(l,f),flexBasis:O0(g,f),flexShrink:0,width:g==="content"?"auto":void 0,maxWidth:zY(g,f,a)},vbe({sizes:{xs:v,sm:y,md:C,lg:w,xl:S},offsets:{xs:u,sm:c,md:d,lg:h,xl:p},orders:{xs:F,sm:_,md:E,lg:T,xl:O},gutters:{xs:t,sm:n,md:i,lg:o,xl:s},theme:r,columns:f,grow:a}))})),Cbe=Object.defineProperty,SR=Object.getOwnPropertySymbols,QY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,FW=(r,e,t)=>e in r?Cbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wbe=(r,e)=>{for(var t in e)QY.call(e,t)&&FW(r,t,e[t]);if(SR)for(var t of SR(e))XY.call(e,t)&&FW(r,t,e[t]);return r},Sbe=(r,e)=>{var t={};for(var n in r)QY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&SR)for(var n of SR(r))e.indexOf(n)<0&&XY.call(r,n)&&(t[n]=r[n]);return t};const Ebe={};function _be(r){return r==="auto"||r==="content"?!0:typeof r=="number"&&r>0&&r%1===0}const JY=Ce((r,e)=>{const t=Me("GridCol",Ebe,r),{children:n,span:i,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:h,md:p,lg:f,xl:g,order:v,orderXs:y,orderSm:C,orderMd:w,orderLg:S,orderXl:P,className:F,unstyled:_,variant:E}=t,T=Sbe(t,["children","span","offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","xs","sm","md","lg","xl","order","orderXs","orderSm","orderMd","orderLg","orderXl","className","unstyled","variant"]),O=hbe(),L=i||O.columns,{classes:V,cx:M}=ybe({gutter:O.gutter,gutterXs:O.gutterXs,gutterSm:O.gutterSm,gutterMd:O.gutterMd,gutterLg:O.gutterLg,gutterXl:O.gutterXl,offset:o,offsetXs:s,offsetSm:a,offsetMd:l,offsetLg:u,offsetXl:c,xs:d,sm:h,md:p,lg:f,xl:g,order:v,orderXs:y,orderSm:C,orderMd:w,orderLg:S,orderXl:P,grow:O.grow,columns:O.columns,span:L},{unstyled:_,name:"Grid",variant:E});return!_be(L)||L>O.columns?null:x.createElement(Ge,wbe({className:M(V.col,F),ref:e},T),n)});JY.displayName="@mantine/core/Col";var bbe=Object.defineProperty,MW=Object.getOwnPropertySymbols,Rbe=Object.prototype.hasOwnProperty,Tbe=Object.prototype.propertyIsEnumerable,LW=(r,e,t)=>e in r?bbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pbe=(r,e)=>{for(var t in e||(e={}))Rbe.call(e,t)&&LW(r,t,e[t]);if(MW)for(var t of MW(e))Tbe.call(e,t)&&LW(r,t,e[t]);return r};function Obe(r,e){return q6.reduce((t,n)=>(typeof r[n]<"u"&&(t[`@media (min-width: ${e.breakpoints[n]})`]={margin:`calc(-${be({size:r[n],sizes:e.spacing})} / 2)`}),t),{})}var Dbe=We((r,{justify:e,align:t,gutter:n,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l})=>({root:Pbe({margin:`calc(-${be({size:n,sizes:r.spacing})} / 2)`,display:"flex",flexWrap:"wrap",justifyContent:e,alignItems:t},Obe({xs:i,sm:o,md:s,lg:a,xl:l},r))})),Abe=Object.defineProperty,ER=Object.getOwnPropertySymbols,ZY=Object.prototype.hasOwnProperty,eq=Object.prototype.propertyIsEnumerable,NW=(r,e,t)=>e in r?Abe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xbe=(r,e)=>{for(var t in e)ZY.call(e,t)&&NW(r,t,e[t]);if(ER)for(var t of ER(e))eq.call(e,t)&&NW(r,t,e[t]);return r},Ibe=(r,e)=>{var t={};for(var n in r)ZY.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ER)for(var n of ER(r))e.indexOf(n)<0&&eq.call(r,n)&&(t[n]=r[n]);return t};const Fbe={gutter:"md",justify:"flex-start",align:"stretch",columns:12},sr=Ce((r,e)=>{const t=Me("Grid",Fbe,r),{gutter:n,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l,children:u,grow:c,justify:d,align:h,columns:p,className:f,unstyled:g,variant:v}=t,y=Ibe(t,["gutter","gutterXs","gutterSm","gutterMd","gutterLg","gutterXl","children","grow","justify","align","columns","className","unstyled","variant"]),{classes:C,cx:w}=Dbe({gutter:n,justify:d,align:h,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l},{unstyled:g,name:"Grid",variant:v});return x.createElement(dbe,{value:{gutter:n,gutterXs:i,gutterSm:o,gutterMd:s,gutterLg:a,gutterXl:l,grow:c,columns:p}},x.createElement(Ge,xbe({className:w(C.root,f),ref:e},y),u))});sr.Col=JY;sr.displayName="@mantine/core/Grid";function Mbe(r){return hl.toArray(r).filter(Boolean)}const tq={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var Lbe=We((r,{spacing:e,position:t,noWrap:n,grow:i,align:o,count:s})=>({root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:o||"center",flexWrap:n?"nowrap":"wrap",justifyContent:tq[t],gap:be({size:e,sizes:r.spacing}),"& > *":{boxSizing:"border-box",maxWidth:i?`calc(${100/s}% - (${W(be({size:e,sizes:r.spacing}))} - ${be({size:e,sizes:r.spacing})} / ${s}))`:void 0,flexGrow:i?1:0}}})),Nbe=Object.defineProperty,_R=Object.getOwnPropertySymbols,nq=Object.prototype.hasOwnProperty,rq=Object.prototype.propertyIsEnumerable,GW=(r,e,t)=>e in r?Nbe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gbe=(r,e)=>{for(var t in e)nq.call(e,t)&&GW(r,t,e[t]);if(_R)for(var t of _R(e))rq.call(e,t)&&GW(r,t,e[t]);return r},Vbe=(r,e)=>{var t={};for(var n in r)nq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&_R)for(var n of _R(r))e.indexOf(n)<0&&rq.call(r,n)&&(t[n]=r[n]);return t};const Hbe={position:"left",spacing:"md"},Ke=Ce((r,e)=>{const t=Me("Group",Hbe,r),{className:n,position:i,align:o,children:s,noWrap:a,grow:l,spacing:u,unstyled:c,variant:d}=t,h=Vbe(t,["className","position","align","children","noWrap","grow","spacing","unstyled","variant"]),p=Mbe(s),{classes:f,cx:g}=Lbe({align:o,grow:l,noWrap:a,spacing:u,position:i,count:p.length},{unstyled:c,name:"Group",variant:d});return x.createElement(Ge,Gbe({className:g(f.root,n),ref:e},h),p)});Ke.displayName="@mantine/core/Group";function kbe({open:r,close:e,openDelay:t,closeDelay:n}){const i=ve(-1),o=ve(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),t===0?r():i.current=window.setTimeout(r,t)},l=()=>{s(),n===0?e():o.current=window.setTimeout(e,n)};return Fe(()=>s,[]),{openDropdown:a,closeDropdown:l}}function D0(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}var $be=xu,Bbe=function(e){var t=x.useRef(e);return $be(function(){t.current=e}),t},VW=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},jbe=function(e,t){var n=x.useRef();return x.useCallback(function(i){e.current=i,n.current&&VW(n.current,null),n.current=t,t&&VW(t,i)},[t])},HW={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},kW=function(e){Object.keys(HW).forEach(function(t){e.style.setProperty(t,HW[t],"important")})},Ho=null,Wbe=function(e,t){var n=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?n+t.borderSize:n-t.paddingSize};function Ube(r,e,t,n){t===void 0&&(t=1),n===void 0&&(n=1/0),Ho||(Ho=document.createElement("textarea"),Ho.setAttribute("tabindex","-1"),Ho.setAttribute("aria-hidden","true"),kW(Ho)),Ho.parentNode===null&&document.body.appendChild(Ho);var i=r.paddingSize,o=r.borderSize,s=r.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(h){var p=h;Ho.style[p]=s[p]}),kW(Ho),Ho.value=e;var l=Wbe(Ho,r);Ho.value="x";var u=Ho.scrollHeight-i,c=u*t;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*n;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var $W=function(){},zbe=function(e,t){return e.reduce(function(n,i){return n[i]=t[i],n},{})},Kbe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Ybe=!!document.documentElement.currentStyle,qbe=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var n=zbe(Kbe,t),i=n.boxSizing;if(i==="")return null;Ybe&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var o=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),s=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:o,borderSize:s}},Qbe=function(e){var t=Bbe(e);xu(function(){var n=function(o){t.current(o)};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}},[])},Xbe=function(e,t){var n=e.cacheMeasurements,i=e.maxRows,o=e.minRows,s=e.onChange,a=s===void 0?$W:s,l=e.onHeightChange,u=l===void 0?$W:l,c=D0(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=c.value!==void 0,h=ve(null),p=jbe(h,t),f=ve(0),g=ve(),v=function(){var w=h.current,S=n&&g.current?g.current:qbe(w);if(S){g.current=S;var P=Ube(S,w.value||w.placeholder||"x",o,i),F=P[0],_=P[1];f.current!==F&&(f.current=F,w.style.setProperty("height",F+"px","important"),u(F,{rowHeight:_}))}},y=function(w){d||v(),a(w)};return xu(v),Qbe(v),zt("textarea",Ln({},c,{onChange:y,ref:p}))},Jbe=Ce(Xbe),Zbe=We(r=>({input:{paddingTop:r.spacing.xs,paddingBottom:r.spacing.xs}})),eRe=Object.defineProperty,tRe=Object.defineProperties,nRe=Object.getOwnPropertyDescriptors,bR=Object.getOwnPropertySymbols,iq=Object.prototype.hasOwnProperty,oq=Object.prototype.propertyIsEnumerable,BW=(r,e,t)=>e in r?eRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qp=(r,e)=>{for(var t in e||(e={}))iq.call(e,t)&&BW(r,t,e[t]);if(bR)for(var t of bR(e))oq.call(e,t)&&BW(r,t,e[t]);return r},Hx=(r,e)=>tRe(r,nRe(e)),rRe=(r,e)=>{var t={};for(var n in r)iq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&bR)for(var n of bR(r))e.indexOf(n)<0&&oq.call(r,n)&&(t[n]=r[n]);return t};const iRe={autosize:!1,size:"sm",__staticSelector:"Textarea"},sq=Ce((r,e)=>{const t=Me("Textarea",iRe,r),{autosize:n,maxRows:i,minRows:o,label:s,error:a,description:l,id:u,className:c,required:d,style:h,wrapperProps:p,classNames:f,styles:g,size:v,__staticSelector:y,sx:C,errorProps:w,descriptionProps:S,labelProps:P,inputWrapperOrder:F,inputContainer:_,unstyled:E,withAsterisk:T,variant:O}=t,L=rRe(t,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk","variant"]),V=cd(u),{classes:M,cx:N}=Zbe(),{systemStyles:$,rest:B}=jg(L),U=qp({required:d,ref:e,error:a,id:V,classNames:Hx(qp({},f),{input:N(M.input,f==null?void 0:f.input)}),styles:g,__staticSelector:y,size:v,multiline:!0,unstyled:E,variant:O},B);return x.createElement(gl.Wrapper,qp(qp({label:s,error:a,id:V,description:l,required:d,style:h,className:c,classNames:f,styles:g,size:v,__staticSelector:y,sx:C,errorProps:w,labelProps:P,descriptionProps:S,inputContainer:_,inputWrapperOrder:F,unstyled:E,withAsterisk:T,variant:O},$),p),n?x.createElement(gl,Hx(qp({},U),{component:Jbe,maxRows:i,minRows:o})):x.createElement(gl,Hx(qp({},U),{component:"textarea",rows:o})))});sq.displayName="@mantine/core/Textarea";const[oRe,sRe]=cp("List component was not found in tree");var aRe=We((r,{spacing:e,center:t})=>({itemWrapper:{ref:mb("itemWrapper"),display:"inline-flex",flexDirection:"column",whiteSpace:"normal"},item:{whiteSpace:"nowrap",lineHeight:t?1:r.lineHeight,"&:not(:first-of-type)":{marginTop:be({size:e,sizes:r.spacing})},"&[data-with-icon]":{listStyle:"none",[`& .${mb("itemWrapper")}`]:{display:"inline-flex",alignItems:t?"center":"flex-start",flexDirection:"row"}}},itemIcon:{display:"inline-block",verticalAlign:"middle",marginRight:r.spacing.sm}})),lRe=Object.defineProperty,RR=Object.getOwnPropertySymbols,aq=Object.prototype.hasOwnProperty,lq=Object.prototype.propertyIsEnumerable,jW=(r,e,t)=>e in r?lRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uRe=(r,e)=>{for(var t in e)aq.call(e,t)&&jW(r,t,e[t]);if(RR)for(var t of RR(e))lq.call(e,t)&&jW(r,t,e[t]);return r},cRe=(r,e)=>{var t={};for(var n in r)aq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&RR)for(var n of RR(r))e.indexOf(n)<0&&lq.call(r,n)&&(t[n]=r[n]);return t};const dRe={},uq=Ce((r,e)=>{const t=Me("ListItem",dRe,r),{className:n,children:i,icon:o}=t,s=cRe(t,["className","children","icon"]),{icon:a,spacing:l,center:u,listStyleType:c,size:d,withPadding:h,classNames:p,styles:f,unstyled:g,variant:v}=sRe(),y=o||a,{classes:C,cx:w}=aRe({withPadding:h,listStyleType:c,center:u,spacing:l},{classNames:p,styles:f,unstyled:g,name:"List",variant:v,size:d});return x.createElement(Ge,uRe({component:"li",className:w(C.item,n),"data-with-icon":!!y||void 0,ref:e},s),x.createElement("div",{className:C.itemWrapper},y&&x.createElement("span",{className:C.itemIcon},y),x.createElement("span",null,i)))});uq.displayName="@mantine/core/ListItem";var hRe=Object.defineProperty,pRe=Object.defineProperties,fRe=Object.getOwnPropertyDescriptors,WW=Object.getOwnPropertySymbols,gRe=Object.prototype.hasOwnProperty,mRe=Object.prototype.propertyIsEnumerable,UW=(r,e,t)=>e in r?hRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vRe=(r,e)=>{for(var t in e||(e={}))gRe.call(e,t)&&UW(r,t,e[t]);if(WW)for(var t of WW(e))mRe.call(e,t)&&UW(r,t,e[t]);return r},yRe=(r,e)=>pRe(r,fRe(e)),CRe=We((r,{withPadding:e,listStyleType:t},{size:n})=>({root:yRe(vRe({},r.fn.fontStyles()),{listStyleType:t,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,fontSize:be({size:n,sizes:r.fontSizes}),lineHeight:r.lineHeight,margin:0,paddingLeft:e?r.spacing.xl:0,listStylePosition:"inside"})})),wRe=Object.defineProperty,TR=Object.getOwnPropertySymbols,cq=Object.prototype.hasOwnProperty,dq=Object.prototype.propertyIsEnumerable,zW=(r,e,t)=>e in r?wRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SRe=(r,e)=>{for(var t in e)cq.call(e,t)&&zW(r,t,e[t]);if(TR)for(var t of TR(e))dq.call(e,t)&&zW(r,t,e[t]);return r},ERe=(r,e)=>{var t={};for(var n in r)cq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&TR)for(var n of TR(r))e.indexOf(n)<0&&dq.call(r,n)&&(t[n]=r[n]);return t};const _Re={type:"unordered",size:"md",spacing:0},xc=Ce((r,e)=>{const t=Me("List",_Re,r),{children:n,type:i,size:o,listStyleType:s,withPadding:a,center:l,spacing:u,icon:c,className:d,styles:h,classNames:p,unstyled:f,variant:g}=t,v=ERe(t,["children","type","size","listStyleType","withPadding","center","spacing","icon","className","styles","classNames","unstyled","variant"]),{classes:y,cx:C}=CRe({withPadding:a,listStyleType:s,center:l,spacing:u},{classNames:p,styles:h,name:"List",unstyled:f,size:o,variant:g});return x.createElement(oRe,{value:{spacing:u,center:l,icon:c,listStyleType:s,size:o,withPadding:a,classNames:p,styles:h,unstyled:f,variant:g}},x.createElement(Ge,SRe({component:i==="unordered"?"ul":"ol",className:C(y.root,d),ref:e},v),n))});xc.Item=uq;xc.displayName="@mantine/core/List";var bRe=Object.defineProperty,RRe=Object.defineProperties,TRe=Object.getOwnPropertyDescriptors,KW=Object.getOwnPropertySymbols,PRe=Object.prototype.hasOwnProperty,ORe=Object.prototype.propertyIsEnumerable,YW=(r,e,t)=>e in r?bRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DRe=(r,e)=>{for(var t in e||(e={}))PRe.call(e,t)&&YW(r,t,e[t]);if(KW)for(var t of KW(e))ORe.call(e,t)&&YW(r,t,e[t]);return r},ARe=(r,e)=>RRe(r,TRe(e)),xRe=We(r=>({root:ARe(DRe({},r.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"})})),IRe=Object.defineProperty,FRe=Object.defineProperties,MRe=Object.getOwnPropertyDescriptors,PR=Object.getOwnPropertySymbols,hq=Object.prototype.hasOwnProperty,pq=Object.prototype.propertyIsEnumerable,qW=(r,e,t)=>e in r?IRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sE=(r,e)=>{for(var t in e||(e={}))hq.call(e,t)&&qW(r,t,e[t]);if(PR)for(var t of PR(e))pq.call(e,t)&&qW(r,t,e[t]);return r},LRe=(r,e)=>FRe(r,MRe(e)),NRe=(r,e)=>{var t={};for(var n in r)hq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&PR)for(var n of PR(r))e.indexOf(n)<0&&pq.call(r,n)&&(t[n]=r[n]);return t};const GRe={overlayOpacity:.75,transitionDuration:0,radius:0,zIndex:Da("overlay")},fq=Ce((r,e)=>{const t=Me("LoadingOverlay",GRe,r),{className:n,visible:i,loaderProps:o,overlayOpacity:s,overlayColor:a,transitionDuration:l,exitTransitionDuration:u,zIndex:c,style:d,loader:h,radius:p,overlayBlur:f,unstyled:g,variant:v,keepMounted:y}=t,C=NRe(t,["className","visible","loaderProps","overlayOpacity","overlayColor","transitionDuration","exitTransitionDuration","zIndex","style","loader","radius","overlayBlur","unstyled","variant","keepMounted"]),{classes:w,cx:S,theme:P}=xRe(null,{name:"LoadingOverlay",unstyled:g,variant:v}),F=`calc(${c} + 1)`;return x.createElement(Kg,{keepMounted:y,duration:l,exitDuration:u,mounted:i,transition:"fade"},_=>x.createElement(Ge,sE({className:S(w.root,n),style:LRe(sE(sE({},_),d),{zIndex:c}),ref:e},C),h?x.createElement("div",{style:{zIndex:F}},h):x.createElement(dd,sE({style:{zIndex:F}},o)),x.createElement(FY,{opacity:s,zIndex:c,radius:p,blur:f,unstyled:g,color:a||(P.colorScheme==="dark"?P.colors.dark[5]:P.white)})))});fq.displayName="@mantine/core/LoadingOverlay";const gq={context:"Menu component was not found in the tree",children:"Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported"},[VRe,qC]=cp(gq.context);var HRe=We(r=>({divider:{marginTop:W(4),marginBottom:W(4),borderTop:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2]}`}})),kRe=Object.defineProperty,OR=Object.getOwnPropertySymbols,mq=Object.prototype.hasOwnProperty,vq=Object.prototype.propertyIsEnumerable,QW=(r,e,t)=>e in r?kRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$Re=(r,e)=>{for(var t in e)mq.call(e,t)&&QW(r,t,e[t]);if(OR)for(var t of OR(e))vq.call(e,t)&&QW(r,t,e[t]);return r},BRe=(r,e)=>{var t={};for(var n in r)mq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&OR)for(var n of OR(r))e.indexOf(n)<0&&vq.call(r,n)&&(t[n]=r[n]);return t};const jRe={},yq=Ce((r,e)=>{const t=Me("MenuDivider",jRe,r),{children:n,className:i}=t,o=BRe(t,["children","className"]),{classNames:s,styles:a,unstyled:l,variant:u}=qC(),{classes:c,cx:d}=HRe(null,{name:"Menu",classNames:s,styles:a,unstyled:l,variant:u});return x.createElement(Ge,$Re({className:d(c.divider,i),ref:e},o))});yq.displayName="@mantine/core/MenuDivider";var WRe=Object.defineProperty,DR=Object.getOwnPropertySymbols,Cq=Object.prototype.hasOwnProperty,wq=Object.prototype.propertyIsEnumerable,XW=(r,e,t)=>e in r?WRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,URe=(r,e)=>{for(var t in e)Cq.call(e,t)&&XW(r,t,e[t]);if(DR)for(var t of DR(e))wq.call(e,t)&&XW(r,t,e[t]);return r},zRe=(r,e)=>{var t={};for(var n in r)Cq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&DR)for(var n of DR(r))e.indexOf(n)<0&&wq.call(r,n)&&(t[n]=r[n]);return t};const KRe={};function Sq(r){const e=Me("MenuDropdown",KRe,r),{children:t,onMouseEnter:n,onMouseLeave:i}=e,o=zRe(e,["children","onMouseEnter","onMouseLeave"]),s=ve(),a=qC(),l=d=>{var h;(d.key==="ArrowUp"||d.key==="ArrowDown")&&(d.preventDefault(),(h=s.current.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||h.focus())},u=eu(n,()=>a.trigger==="hover"&&a.openDropdown()),c=eu(i,()=>a.trigger==="hover"&&a.closeDropdown());return x.createElement(Ms.Dropdown,URe({onMouseEnter:u,onMouseLeave:c,role:"menu","aria-orientation":"vertical"},o),x.createElement("div",{tabIndex:-1,"data-menu-dropdown":!0,"data-autofocus":!0,onKeyDown:l,ref:s,style:{outline:0}},t))}Sq.displayName="@mantine/core/MenuDropdown";var YRe=Object.defineProperty,qRe=Object.defineProperties,QRe=Object.getOwnPropertyDescriptors,JW=Object.getOwnPropertySymbols,XRe=Object.prototype.hasOwnProperty,JRe=Object.prototype.propertyIsEnumerable,ZW=(r,e,t)=>e in r?YRe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ZRe=(r,e)=>{for(var t in e||(e={}))XRe.call(e,t)&&ZW(r,t,e[t]);if(JW)for(var t of JW(e))JRe.call(e,t)&&ZW(r,t,e[t]);return r},eTe=(r,e)=>qRe(r,QRe(e)),tTe=We((r,{color:e,radius:t})=>({item:eTe(ZRe({},r.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",fontSize:r.fontSizes.sm,border:0,backgroundColor:"transparent",outline:0,width:"100%",textAlign:"left",textDecoration:"none",boxSizing:"border-box",padding:`${r.spacing.xs} ${r.spacing.sm}`,cursor:"pointer",borderRadius:r.fn.radius(t),color:e?r.fn.variant({variant:"filled",primaryFallback:!1,color:e}).background:r.colorScheme==="dark"?r.colors.dark[0]:r.black,display:"flex",alignItems:"center","&:disabled":{color:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[5],pointerEvents:"none",userSelect:"none"},"&[data-hovered]":{backgroundColor:e?r.fn.variant({variant:"light",color:e}).background:r.colorScheme==="dark"?r.fn.rgba(r.colors.dark[3],.35):r.colors.gray[1]}}),itemLabel:{flex:1},itemIcon:{display:"flex",justifyContent:"center",alignItems:"center",marginRight:r.spacing.xs},itemRightSection:{}})),nTe=Object.defineProperty,rTe=Object.defineProperties,iTe=Object.getOwnPropertyDescriptors,AR=Object.getOwnPropertySymbols,Eq=Object.prototype.hasOwnProperty,_q=Object.prototype.propertyIsEnumerable,eU=(r,e,t)=>e in r?nTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oTe=(r,e)=>{for(var t in e)Eq.call(e,t)&&eU(r,t,e[t]);if(AR)for(var t of AR(e))_q.call(e,t)&&eU(r,t,e[t]);return r},sTe=(r,e)=>rTe(r,iTe(e)),aTe=(r,e)=>{var t={};for(var n in r)Eq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&AR)for(var n of AR(r))e.indexOf(n)<0&&_q.call(r,n)&&(t[n]=r[n]);return t};const lTe={},bq=Ce((r,e)=>{const t=Me("MenuItem",lTe,r),{children:n,className:i,color:o,closeMenuOnClick:s,icon:a,rightSection:l}=t,u=aTe(t,["children","className","color","closeMenuOnClick","icon","rightSection"]),c=qC(),{classes:d,cx:h,theme:p}=tTe({radius:c.radius,color:o},{name:"Menu",classNames:c.classNames,styles:c.styles,unstyled:c.unstyled,variant:c.variant}),f=ve(),g=c.getItemIndex(f.current),v=u,y=eu(v.onMouseLeave,()=>c.setHovered(-1)),C=eu(v.onMouseEnter,()=>c.setHovered(c.getItemIndex(f.current))),w=eu(v.onClick,()=>{typeof s=="boolean"?s&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),S=eu(v.onFocus,()=>c.setHovered(c.getItemIndex(f.current)));return x.createElement(Ge,sTe(oTe({component:"button",type:"button"},u),{tabIndex:-1,onFocus:S,className:h(d.item,i),ref:Bg(f,e),role:"menuitem","data-menu-item":!0,"data-hovered":c.hovered===g?!0:void 0,onMouseEnter:C,onMouseLeave:y,onClick:w,onKeyDown:B6({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:p.dir,orientation:"vertical",onKeyDown:v.onKeydown})}),a&&x.createElement("div",{className:d.itemIcon},a),n&&x.createElement("div",{className:d.itemLabel},n),l&&x.createElement("div",{className:d.itemRightSection},l))});bq.displayName="@mantine/core/MenuItem";const uTe=bq;var cTe=We(r=>({label:{color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6],fontWeight:500,fontSize:r.fontSizes.xs,padding:`calc(${r.spacing.xs} / 2) ${r.spacing.sm}`,cursor:"default"}})),dTe=Object.defineProperty,xR=Object.getOwnPropertySymbols,Rq=Object.prototype.hasOwnProperty,Tq=Object.prototype.propertyIsEnumerable,tU=(r,e,t)=>e in r?dTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hTe=(r,e)=>{for(var t in e)Rq.call(e,t)&&tU(r,t,e[t]);if(xR)for(var t of xR(e))Tq.call(e,t)&&tU(r,t,e[t]);return r},pTe=(r,e)=>{var t={};for(var n in r)Rq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&xR)for(var n of xR(r))e.indexOf(n)<0&&Tq.call(r,n)&&(t[n]=r[n]);return t};const fTe={},Pq=Ce((r,e)=>{const t=Me("MenuLabel",fTe,r),{children:n,className:i}=t,o=pTe(t,["children","className"]),{classNames:s,styles:a,unstyled:l,variant:u}=qC(),{classes:c,cx:d}=cTe(null,{name:"Menu",classNames:s,styles:a,unstyled:l,variant:u});return x.createElement(Se,hTe({className:d(c.label,i),ref:e},o),n)});Pq.displayName="@mantine/core/MenuLabel";var gTe=Object.defineProperty,IR=Object.getOwnPropertySymbols,Oq=Object.prototype.hasOwnProperty,Dq=Object.prototype.propertyIsEnumerable,nU=(r,e,t)=>e in r?gTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mTe=(r,e)=>{for(var t in e)Oq.call(e,t)&&nU(r,t,e[t]);if(IR)for(var t of IR(e))Dq.call(e,t)&&nU(r,t,e[t]);return r},vTe=(r,e)=>{var t={};for(var n in r)Oq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&IR)for(var n of IR(r))e.indexOf(n)<0&&Dq.call(r,n)&&(t[n]=r[n]);return t};const yTe={refProp:"ref"},Aq=Ce((r,e)=>{const t=Me("MenuTarget",yTe,r),{children:n,refProp:i}=t,o=vTe(t,["children","refProp"]);if(!kC(n))throw new Error(gq.children);const s=qC(),a=eu(n.props.onClick,()=>s.trigger==="click"&&s.toggleDropdown()),l=eu(n.props.onMouseEnter,()=>s.trigger==="hover"&&s.openDropdown()),u=eu(n.props.onMouseLeave,()=>s.trigger==="hover"&&s.closeDropdown());return x.createElement(Ms.Target,mTe({refProp:i,popupType:"menu",ref:e},o),eo(n,{onClick:a,onMouseEnter:l,onMouseLeave:u,"data-expanded":s.opened?!0:void 0}))});Aq.displayName="@mantine/core/MenuTarget";var CTe=We({dropdown:{padding:W(4)}}),wTe=Object.defineProperty,STe=Object.defineProperties,ETe=Object.getOwnPropertyDescriptors,FR=Object.getOwnPropertySymbols,xq=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,rU=(r,e,t)=>e in r?wTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,iU=(r,e)=>{for(var t in e||(e={}))xq.call(e,t)&&rU(r,t,e[t]);if(FR)for(var t of FR(e))Iq.call(e,t)&&rU(r,t,e[t]);return r},oU=(r,e)=>STe(r,ETe(e)),_Te=(r,e)=>{var t={};for(var n in r)xq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&FR)for(var n of FR(r))e.indexOf(n)<0&&Iq.call(r,n)&&(t[n]=r[n]);return t};const bTe={closeOnItemClick:!0,loop:!0,trigger:"click",openDelay:0,closeDelay:100};function Un(r){const e=Me("Menu",bTe,r),{children:t,onOpen:n,onClose:i,opened:o,defaultOpened:s,onChange:a,closeOnItemClick:l,loop:u,closeOnEscape:c,trigger:d,openDelay:h,closeDelay:p,classNames:f,styles:g,unstyled:v,radius:y,variant:C}=e,w=_Te(e,["children","onOpen","onClose","opened","defaultOpened","onChange","closeOnItemClick","loop","closeOnEscape","trigger","openDelay","closeDelay","classNames","styles","unstyled","radius","variant"]),{classes:S,cx:P}=CTe(),[F,{setHovered:_,resetHovered:E}]=Gde(),[T,O]=Ih({value:o,defaultValue:s,finalValue:!1,onChange:a}),L=()=>{O(!1),T&&(i==null||i())},V=()=>{O(!0),!T&&(n==null||n())},M=()=>T?L():V(),{openDropdown:N,closeDropdown:$}=kbe({open:V,close:L,closeDelay:p,openDelay:h}),B=U=>Mde("[data-menu-item]","[data-menu-dropdown]",U);return ks(()=>{E()},[T]),x.createElement(VRe,{value:{opened:T,toggleDropdown:M,getItemIndex:B,hovered:F,setHovered:_,closeOnItemClick:l,closeDropdown:d==="click"?L:$,openDropdown:d==="click"?V:N,closeDropdownImmediately:L,loop:u,trigger:d,radius:y,classNames:f,styles:g,unstyled:v,variant:C}},x.createElement(Ms,oU(iU({},w),{radius:y,opened:T,onChange:M,defaultOpened:s,trapFocus:d==="click",closeOnEscape:c&&d==="click",__staticSelector:"Menu",classNames:oU(iU({},f),{dropdown:P(S.dropdown,f==null?void 0:f.dropdown)}),styles:g,unstyled:v,variant:C}),t))}Un.displayName="@mantine/core/Menu";Un.Item=uTe;Un.Label=Pq;Un.Dropdown=Sq;Un.Target=Aq;Un.Divider=yq;const[RTe,TTe]=cp("Modal component was not found in tree"),PTe={xs:W(320),sm:W(380),md:W(440),lg:W(620),xl:W(780)};var OTe=We((r,{yOffset:e,xOffset:t,centered:n,fullScreen:i},{size:o})=>({content:{flex:i?"0 0 100%":`0 0 ${be({size:o,sizes:PTe})}`,maxWidth:"100%",maxHeight:i?void 0:`calc(100dvh - (${W(e)} * 2))`,height:i?"100vh":void 0,borderRadius:i?0:void 0,overflowY:"auto"},inner:{paddingTop:i?0:e,paddingBottom:i?0:e,paddingLeft:i?0:t,paddingRight:i?0:t,display:"flex",justifyContent:"center",alignItems:n?"center":"flex-start"}})),DTe=Object.defineProperty,ATe=Object.defineProperties,xTe=Object.getOwnPropertyDescriptors,MR=Object.getOwnPropertySymbols,Fq=Object.prototype.hasOwnProperty,Mq=Object.prototype.propertyIsEnumerable,sU=(r,e,t)=>e in r?DTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wM=(r,e)=>{for(var t in e||(e={}))Fq.call(e,t)&&sU(r,t,e[t]);if(MR)for(var t of MR(e))Mq.call(e,t)&&sU(r,t,e[t]);return r},Lq=(r,e)=>ATe(r,xTe(e)),ITe=(r,e)=>{var t={};for(var n in r)Fq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&MR)for(var n of MR(r))e.indexOf(n)<0&&Mq.call(r,n)&&(t[n]=r[n]);return t};const FTe=Lq(wM({},P0),{yOffset:"5dvh",xOffset:"5vw"});function Nq(r){const e=Me("ModalRoot",FTe,r),{classNames:t,variant:n,size:i,yOffset:o,xOffset:s,scrollAreaComponent:a,radius:l,centered:u,fullScreen:c}=e,d=ITe(e,["classNames","variant","size","yOffset","xOffset","scrollAreaComponent","radius","centered","fullScreen"]),{classes:h,cx:p}=OTe({yOffset:o,xOffset:s,centered:u,fullScreen:c},{name:"Modal",variant:n,size:i});return x.createElement(RTe,{value:{yOffset:o,scrollAreaComponent:a,radius:l}},x.createElement(fr,wM({__staticSelector:"Modal",size:i,variant:n,classNames:Lq(wM({},t),{content:p(h.content,t==null?void 0:t.content),inner:p(h.inner,t==null?void 0:t.inner)})},d)))}var MTe=Object.defineProperty,LR=Object.getOwnPropertySymbols,Gq=Object.prototype.hasOwnProperty,Vq=Object.prototype.propertyIsEnumerable,aU=(r,e,t)=>e in r?MTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,LTe=(r,e)=>{for(var t in e)Gq.call(e,t)&&aU(r,t,e[t]);if(LR)for(var t of LR(e))Vq.call(e,t)&&aU(r,t,e[t]);return r},NTe=(r,e)=>{var t={};for(var n in r)Gq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&LR)for(var n of LR(r))e.indexOf(n)<0&&Vq.call(r,n)&&(t[n]=r[n]);return t};const GTe={shadow:"xl"},Hq=Ce((r,e)=>{const t=Me("ModalContent",GTe,r),{children:n,scrollAreaComponent:i}=t,o=NTe(t,["children","scrollAreaComponent"]),s=TTe(),a=i||s.scrollAreaComponent||fr.NativeScrollArea;return x.createElement(fr.Content,LTe({ref:e,radius:s.radius},o),x.createElement(a,{style:{maxHeight:`calc(100dvh - (${W(s.yOffset)} * 2))`}},n))});var VTe=Object.defineProperty,HTe=Object.defineProperties,kTe=Object.getOwnPropertyDescriptors,NR=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,$q=Object.prototype.propertyIsEnumerable,lU=(r,e,t)=>e in r?VTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,D_=(r,e)=>{for(var t in e||(e={}))kq.call(e,t)&&lU(r,t,e[t]);if(NR)for(var t of NR(e))$q.call(e,t)&&lU(r,t,e[t]);return r},$Te=(r,e)=>HTe(r,kTe(e)),BTe=(r,e)=>{var t={};for(var n in r)kq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&NR)for(var n of NR(r))e.indexOf(n)<0&&$q.call(r,n)&&(t[n]=r[n]);return t};const jTe=$Te(D_({},P0),{transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0});function Fu(r){const e=Me("Modal",jTe,r),{title:t,withOverlay:n,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a}=e,l=BTe(e,["title","withOverlay","overlayProps","withCloseButton","closeButtonProps","children"]),u=!!t||o;return x.createElement(Nq,D_({},l),n&&x.createElement(fr.Overlay,D_({},i)),x.createElement(Hq,null,u&&x.createElement(fr.Header,null,t&&x.createElement(fr.Title,null,t),o&&x.createElement(fr.CloseButton,D_({},s))),x.createElement(fr.Body,null,a)))}Fu.Root=Nq;Fu.CloseButton=fr.CloseButton;Fu.Overlay=fr.Overlay;Fu.Content=Hq;Fu.Header=fr.Header;Fu.Title=fr.Title;Fu.Body=fr.Body;Fu.NativeScrollArea=fr.NativeScrollArea;var WTe=Object.defineProperty,GR=Object.getOwnPropertySymbols,Bq=Object.prototype.hasOwnProperty,jq=Object.prototype.propertyIsEnumerable,uU=(r,e,t)=>e in r?WTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cU=(r,e)=>{for(var t in e||(e={}))Bq.call(e,t)&&uU(r,t,e[t]);if(GR)for(var t of GR(e))jq.call(e,t)&&uU(r,t,e[t]);return r},UTe=(r,e)=>{var t={};for(var n in r)Bq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&GR)for(var n of GR(r))e.indexOf(n)<0&&jq.call(r,n)&&(t[n]=r[n]);return t};const zTe={xs:W(14),sm:W(18),md:W(20),lg:W(24),xl:W(28)};function KTe(r){var e=r,{size:t,error:n,style:i}=e,o=UTe(e,["size","error","style"]);const s=Ao(),a=be({size:t,sizes:zTe});return x.createElement("svg",cU({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:cU({color:n?s.colors.red[6]:s.colors.gray[6],width:a,height:a},i),"data-chevron":!0},o),x.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var YTe=Object.defineProperty,qTe=Object.defineProperties,QTe=Object.getOwnPropertyDescriptors,dU=Object.getOwnPropertySymbols,XTe=Object.prototype.hasOwnProperty,JTe=Object.prototype.propertyIsEnumerable,hU=(r,e,t)=>e in r?YTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ZTe=(r,e)=>{for(var t in e||(e={}))XTe.call(e,t)&&hU(r,t,e[t]);if(dU)for(var t of dU(e))JTe.call(e,t)&&hU(r,t,e[t]);return r},ePe=(r,e)=>qTe(r,QTe(e));function Wq({shouldClear:r,clearButtonProps:e,onClear:t,size:n,error:i}){return r?x.createElement(AO,ePe(ZTe({},e),{variant:"transparent",onClick:t,size:n,onMouseDown:o=>o.preventDefault()})):x.createElement(KTe,{error:i,size:n})}Wq.displayName="@mantine/core/SelectRightSection";var tPe=Object.defineProperty,nPe=Object.defineProperties,rPe=Object.getOwnPropertyDescriptors,VR=Object.getOwnPropertySymbols,Uq=Object.prototype.hasOwnProperty,zq=Object.prototype.propertyIsEnumerable,pU=(r,e,t)=>e in r?tPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kx=(r,e)=>{for(var t in e||(e={}))Uq.call(e,t)&&pU(r,t,e[t]);if(VR)for(var t of VR(e))zq.call(e,t)&&pU(r,t,e[t]);return r},fU=(r,e)=>nPe(r,rPe(e)),iPe=(r,e)=>{var t={};for(var n in r)Uq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&VR)for(var n of VR(r))e.indexOf(n)<0&&zq.call(r,n)&&(t[n]=r[n]);return t};function oPe(r){var e=r,{styles:t,rightSection:n,rightSectionWidth:i,theme:o}=e,s=iPe(e,["styles","rightSection","rightSectionWidth","theme"]);if(n)return{rightSection:n,rightSectionWidth:i,styles:t};const a=typeof t=="function"?t(o):t;return{rightSection:!s.readOnly&&!(s.disabled&&s.shouldClear)&&x.createElement(Wq,kx({},s)),styles:fU(kx({},a),{rightSection:fU(kx({},a==null?void 0:a.rightSection),{pointerEvents:s.shouldClear?void 0:"none"})})}}var sPe=We((r,{color:e,radius:t,withTitle:n})=>{const i=r.fn.radius(t),o=r.fn.variant({variant:"filled",color:e});return{closeButton:r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[8]:r.colors.gray[0]}),icon:{boxSizing:"border-box",marginRight:r.spacing.md,width:W(28),height:W(28),borderRadius:W(28),display:"flex",flex:"none",alignItems:"center",justifyContent:"center",backgroundColor:o.background,color:r.white},root:{overflow:"hidden",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",paddingLeft:W(22),paddingRight:r.spacing.xs,paddingTop:r.spacing.xs,paddingBottom:r.spacing.xs,borderRadius:i,backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,boxShadow:r.shadows.lg,"&::before":{content:'""',display:"block",position:"absolute",width:W(6),top:i,bottom:i,left:W(4),borderRadius:i,backgroundColor:o.background},"&[data-with-icon]":{paddingLeft:r.spacing.xs,"&::before":{display:"none"}},"&[data-with-border]":{border:`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}},body:{flex:1,overflow:"hidden",marginRight:r.spacing.xs},loader:{marginRight:r.spacing.md},title:{lineHeight:1.4,marginBottom:W(2),overflow:"hidden",textOverflow:"ellipsis",color:r.colorScheme==="dark"?r.white:r.colors.gray[9]},description:{color:n?r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:1.4,overflow:"hidden",textOverflow:"ellipsis"}}}),aPe=Object.defineProperty,lPe=Object.defineProperties,uPe=Object.getOwnPropertyDescriptors,HR=Object.getOwnPropertySymbols,Kq=Object.prototype.hasOwnProperty,Yq=Object.prototype.propertyIsEnumerable,gU=(r,e,t)=>e in r?aPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mU=(r,e)=>{for(var t in e||(e={}))Kq.call(e,t)&&gU(r,t,e[t]);if(HR)for(var t of HR(e))Yq.call(e,t)&&gU(r,t,e[t]);return r},cPe=(r,e)=>lPe(r,uPe(e)),dPe=(r,e)=>{var t={};for(var n in r)Kq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&HR)for(var n of HR(r))e.indexOf(n)<0&&Yq.call(r,n)&&(t[n]=r[n]);return t};const hPe={withCloseButton:!0},qq=Ce((r,e)=>{const t=Me("Notification",hPe,r),{className:n,color:i,radius:o,loading:s,withCloseButton:a,withBorder:l,title:u,icon:c,children:d,onClose:h,closeButtonProps:p,classNames:f,styles:g,unstyled:v,variant:y}=t,C=dPe(t,["className","color","radius","loading","withCloseButton","withBorder","title","icon","children","onClose","closeButtonProps","classNames","styles","unstyled","variant"]),{classes:w,cx:S}=sPe({color:i,radius:o,withTitle:!!u},{name:"Notification",classNames:f,styles:g,unstyled:v,variant:y});return x.createElement(Ge,mU({className:S(w.root,n),"data-with-icon":!!c||s||void 0,"data-with-border":l||void 0,role:"alert",ref:e},C),c&&!s&&x.createElement("div",{className:w.icon},c),s&&x.createElement(dd,{size:28,color:i,className:w.loader}),x.createElement("div",{className:w.body},u&&x.createElement(Se,{className:w.title,size:"sm",weight:500},u),x.createElement(Se,{color:"dimmed",className:w.description,size:"sm"},d)),a&&x.createElement(AO,cPe(mU({iconSize:16,color:"gray"},p),{onClick:h,className:w.closeButton})))});qq.displayName="@mantine/core/Notification";var pPe=Object.defineProperty,fPe=Object.defineProperties,gPe=Object.getOwnPropertyDescriptors,kR=Object.getOwnPropertySymbols,Qq=Object.prototype.hasOwnProperty,Xq=Object.prototype.propertyIsEnumerable,vU=(r,e,t)=>e in r?pPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$x=(r,e)=>{for(var t in e||(e={}))Qq.call(e,t)&&vU(r,t,e[t]);if(kR)for(var t of kR(e))Xq.call(e,t)&&vU(r,t,e[t]);return r},mPe=(r,e)=>fPe(r,gPe(e)),vPe=(r,e)=>{var t={};for(var n in r)Qq.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&kR)for(var n of kR(r))e.indexOf(n)<0&&Xq.call(r,n)&&(t[n]=r[n]);return t};const yPe={type:"text",size:"sm",__staticSelector:"TextInput"},Iy=Ce((r,e)=>{const t=A8("TextInput",yPe,r),{inputProps:n,wrapperProps:i}=t,o=vPe(t,["inputProps","wrapperProps"]);return x.createElement(gl.Wrapper,$x({},i),x.createElement(gl,mPe($x($x({},n),o),{ref:e})))});Iy.displayName="@mantine/core/TextInput";const yU={xs:W(3),sm:W(5),md:W(8),lg:W(12),xl:W(16)},CPe=hpe({from:{backgroundPosition:"0 0"},to:{backgroundPosition:`${W(40)} 0`}});var wPe=We((r,{color:e,radius:t},{size:n})=>({root:{position:"relative",height:be({size:n,sizes:yU}),backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],borderRadius:r.fn.radius(t),overflow:"hidden"},bar:{position:"absolute",top:0,bottom:0,left:0,height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:r.fn.variant({variant:"filled",primaryFallback:!1,color:e||r.primaryColor}).background,transition:"width 100ms linear","&[data-animate]":{animation:`${CPe} 1000ms linear infinite`},"&[data-striped]":{backgroundSize:`${W(20)} ${W(20)}`,backgroundImage:"linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent)"},"&:last-of-type":{borderTopRightRadius:r.fn.radius(t),borderBottomRightRadius:r.fn.radius(t)},"&:first-of-type":{borderTopLeftRadius:r.fn.radius(t),borderBottomLeftRadius:r.fn.radius(t)},"@media (prefers-reduced-motion)":{transitionDuration:r.respectReducedMotion?"0ms":void 0}},label:{color:r.white,fontSize:`calc(${be({size:n,sizes:yU})} * 0.65)`,fontWeight:700,userSelect:"none",overflow:"hidden",whiteSpace:"nowrap"}}));const Jq=Yn(!1),SPe=Jq.Provider,EPe=()=>Ut(Jq);function Zq({children:r,openDelay:e=0,closeDelay:t=0}){return x.createElement(SPe,{value:!0},x.createElement(gCe,{delay:{open:e,close:t}},r))}Zq.displayName="@mantine/core/TooltipGroup";var _Pe=Object.defineProperty,bPe=Object.defineProperties,RPe=Object.getOwnPropertyDescriptors,CU=Object.getOwnPropertySymbols,TPe=Object.prototype.hasOwnProperty,PPe=Object.prototype.propertyIsEnumerable,wU=(r,e,t)=>e in r?_Pe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SU=(r,e)=>{for(var t in e||(e={}))TPe.call(e,t)&&wU(r,t,e[t]);if(CU)for(var t of CU(e))PPe.call(e,t)&&wU(r,t,e[t]);return r},OPe=(r,e)=>bPe(r,RPe(e));function DPe(r,e){if(!e)return{backgroundColor:r.colorScheme==="dark"?r.colors.gray[2]:r.colors.gray[9],color:r.colorScheme==="dark"?r.black:r.white};const t=r.fn.variant({variant:"filled",color:e,primaryFallback:!1});return{backgroundColor:t.background,color:t.color}}var eQ=We((r,{color:e,radius:t,width:n,multiline:i})=>({tooltip:OPe(SU(SU({},r.fn.fontStyles()),DPe(r,e)),{lineHeight:r.lineHeight,fontSize:r.fontSizes.sm,borderRadius:r.fn.radius(t),padding:`calc(${r.spacing.xs} / 2) ${r.spacing.xs}`,position:"absolute",whiteSpace:i?"unset":"nowrap",pointerEvents:"none",width:n}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));const tQ={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};function APe({offset:r,position:e}){const[t,n]=Te(!1),i=ve(),{x:o,y:s,reference:a,floating:l,refs:u,update:c,placement:d}=v0({placement:e,middleware:[f0({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=d.includes("right")?r:e.includes("left")?r*-1:0,p=d.includes("bottom")?r:e.includes("top")?r*-1:0,f=at(({clientX:g,clientY:v})=>{a({getBoundingClientRect(){return{width:0,height:0,x:g,y:v,left:g+h,top:v+p,right:g,bottom:v}}})},[a]);return Fe(()=>{if(u.floating.current){const g=i.current;g.addEventListener("mousemove",f);const v=cu(u.floating.current);return v.forEach(y=>{y.addEventListener("scroll",c)}),()=>{g.removeEventListener("mousemove",f),v.forEach(y=>{y.removeEventListener("scroll",c)})}}},[a,u.floating.current,c,f,t]),{handleMouseMove:f,x:o,y:s,opened:t,setOpened:n,boundaryRef:i,floating:l}}var xPe=Object.defineProperty,IPe=Object.defineProperties,FPe=Object.getOwnPropertyDescriptors,$R=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,rQ=Object.prototype.propertyIsEnumerable,EU=(r,e,t)=>e in r?xPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,aE=(r,e)=>{for(var t in e||(e={}))nQ.call(e,t)&&EU(r,t,e[t]);if($R)for(var t of $R(e))rQ.call(e,t)&&EU(r,t,e[t]);return r},lE=(r,e)=>IPe(r,FPe(e)),MPe=(r,e)=>{var t={};for(var n in r)nQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&$R)for(var n of $R(r))e.indexOf(n)<0&&rQ.call(r,n)&&(t[n]=r[n]);return t};const LPe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Da("popover")};function iQ(r){var e;const t=Me("TooltipFloating",LPe,r),{children:n,refProp:i,withinPortal:o,portalProps:s,style:a,className:l,classNames:u,styles:c,unstyled:d,radius:h,color:p,label:f,offset:g,position:v,multiline:y,width:C,zIndex:w,disabled:S,variant:P}=t,F=MPe(t,["children","refProp","withinPortal","portalProps","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled","variant"]),{handleMouseMove:_,x:E,y:T,opened:O,boundaryRef:L,floating:V,setOpened:M}=APe({offset:g,position:v}),{classes:N,cx:$}=eQ({radius:h,color:p,multiline:y,width:C},{name:"TooltipFloating",classNames:u,styles:c,unstyled:d,variant:P});if(!kC(n))throw new Error(tQ.children);const B=Bg(L,n.ref),U=j=>{var Q,X;(X=(Q=n.props).onMouseEnter)==null||X.call(Q,j),_(j),M(!0)},z=j=>{var Q,X;(X=(Q=n.props).onMouseLeave)==null||X.call(Q,j),M(!1)};return x.createElement(x.Fragment,null,x.createElement(Wg,lE(aE({},s),{withinPortal:o}),x.createElement(Ge,lE(aE({},F),{ref:V,className:$(N.tooltip,l),style:lE(aE({},a),{zIndex:w,display:!S&&O?"block":"none",top:T??"",left:(e=Math.round(E))!=null?e:""})}),f)),eo(n,lE(aE({},n.props),{[i]:B,onMouseEnter:U,onMouseLeave:z})))}iQ.displayName="@mantine/core/TooltipFloating";function NPe(r){const[e,t]=Te(!1),i=typeof r.opened=="boolean"?r.opened:e,o=EPe(),s=cd(),{delay:a,currentId:l,setCurrentId:u}=h8(),c=at(E=>{t(E),E&&u(s)},[u,s]),{x:d,y:h,reference:p,floating:f,context:g,refs:v,update:y,placement:C,middlewareData:{arrow:{x:w,y:S}={}}}=v0({placement:r.position,open:i,onOpenChange:c,middleware:[i8(r.offset),f0({padding:8}),o8(),a8({element:r.arrowRef,padding:r.arrowOffset}),...r.inline?[s8()]:[]]}),{getReferenceProps:P,getFloatingProps:F}=PCe([fCe(g,{enabled:r.events.hover,delay:o?a:{open:r.openDelay,close:r.closeDelay},mouseOnly:!r.events.touch}),RCe(g,{enabled:r.events.focus,keyboardOnly:!0}),TCe(g,{role:"tooltip"}),bCe(g,{enabled:typeof r.opened===void 0}),mCe(g,{id:s})]);return f8({opened:i,position:r.position,positionDependencies:r.positionDependencies,floating:{refs:v,update:y}}),ks(()=>{var E;(E=r.onPositionChange)==null||E.call(r,C)},[C]),{x:d,y:h,arrowX:w,arrowY:S,reference:p,floating:f,getFloatingProps:F,getReferenceProps:P,isGroupPhase:i&&l&&l!==s,opened:i,placement:C}}var GPe=Object.defineProperty,VPe=Object.defineProperties,HPe=Object.getOwnPropertyDescriptors,BR=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,sQ=Object.prototype.propertyIsEnumerable,_U=(r,e,t)=>e in r?GPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Vd=(r,e)=>{for(var t in e||(e={}))oQ.call(e,t)&&_U(r,t,e[t]);if(BR)for(var t of BR(e))sQ.call(e,t)&&_U(r,t,e[t]);return r},Bx=(r,e)=>VPe(r,HPe(e)),kPe=(r,e)=>{var t={};for(var n in r)oQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&BR)for(var n of BR(r))e.indexOf(n)<0&&sQ.call(r,n)&&(t[n]=r[n]);return t};const $Pe={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:Da("popover"),positionDependencies:[]},VO=Ce((r,e)=>{var t;const n=ve(null),i=Me("Tooltip",$Pe,r),{children:o,position:s,refProp:a,label:l,openDelay:u,closeDelay:c,onPositionChange:d,opened:h,withinPortal:p,portalProps:f,radius:g,color:v,classNames:y,styles:C,unstyled:w,style:S,className:P,withArrow:F,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:O,offset:L,transitionProps:V,multiline:M,width:N,events:$,zIndex:B,disabled:U,positionDependencies:z,onClick:j,onMouseEnter:Q,onMouseLeave:X,inline:Z,variant:ce,keepMounted:oe}=i,de=kPe(i,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","portalProps","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted"]),{classes:Ee,cx:Pe,theme:$e}=eQ({radius:g,color:v,width:N,multiline:M},{name:"Tooltip",classNames:y,styles:C,unstyled:w,variant:ce}),Ne=NPe({position:R8($e.dir,s),closeDelay:c,openDelay:u,onPositionChange:d,opened:h,events:$,arrowRef:n,arrowOffset:E,offset:L+(F?_/2:0),positionDependencies:[...z,o],inline:Z});if(!kC(o))throw new Error(tQ.children);const xe=Bg(Ne.reference,o.ref,e);return x.createElement(x.Fragment,null,x.createElement(Wg,Bx(Vd({},f),{withinPortal:p}),x.createElement(Kg,Bx(Vd({keepMounted:oe,mounted:!U&&Ne.opened},V),{transition:V.transition||"fade",duration:Ne.isGroupPhase?10:(t=V.duration)!=null?t:100}),st=>{var Ue,_t;return x.createElement(Ge,Vd(Vd({},de),Ne.getFloatingProps({ref:Ne.floating,className:Ee.tooltip,style:Bx(Vd(Vd({},S),st),{zIndex:B,top:(Ue=Ne.y)!=null?Ue:0,left:(_t=Ne.x)!=null?_t:0})})),l,x.createElement(C0,{ref:n,arrowX:Ne.arrowX,arrowY:Ne.arrowY,visible:F,position:Ne.placement,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:O,className:Ee.arrow}))})),eo(o,Ne.getReferenceProps(Vd({onClick:j,onMouseEnter:Q,onMouseLeave:X,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,[a]:xe,className:Pe(P,o.props.className)},o.props))))});VO.Group=Zq;VO.Floating=iQ;VO.displayName="@mantine/core/Tooltip";const HO=VO;var BPe=Object.defineProperty,jPe=Object.defineProperties,WPe=Object.getOwnPropertyDescriptors,jR=Object.getOwnPropertySymbols,aQ=Object.prototype.hasOwnProperty,lQ=Object.prototype.propertyIsEnumerable,bU=(r,e,t)=>e in r?BPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SM=(r,e)=>{for(var t in e||(e={}))aQ.call(e,t)&&bU(r,t,e[t]);if(jR)for(var t of jR(e))lQ.call(e,t)&&bU(r,t,e[t]);return r},uQ=(r,e)=>jPe(r,WPe(e)),RU=(r,e)=>{var t={};for(var n in r)aQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&jR)for(var n of jR(r))e.indexOf(n)<0&&lQ.call(r,n)&&(t[n]=r[n]);return t};function UPe(r){return r.reduce((e,t)=>(e.sections.push(uQ(SM({},t),{accumulated:e.accumulated})),e.accumulated+=t.value,e),{accumulated:0,sections:[]}).sections}const zPe={size:"md",radius:"sm",striped:!1,animate:!1,label:""},kO=Ce((r,e)=>{const t=Me("Progress",zPe,r),{className:n,value:i,color:o,size:s,radius:a,striped:l,animate:u,label:c,"aria-label":d,classNames:h,styles:p,sections:f,unstyled:g,variant:v}=t,y=RU(t,["className","value","color","size","radius","striped","animate","label","aria-label","classNames","styles","sections","unstyled","variant"]),{classes:C,cx:w,theme:S}=wPe({color:o,radius:a},{name:"Progress",classNames:h,styles:p,unstyled:g,variant:v,size:s}),P=Array.isArray(f)?UPe(f).map((F,_)=>{var E=F,{tooltip:T,accumulated:O,value:L,label:V,color:M}=E,N=RU(E,["tooltip","accumulated","value","label","color"]);return x.createElement(HO.Floating,{label:T,disabled:!T,key:_},x.createElement(Ge,uQ(SM({},N),{className:w(C.bar,N.className),"data-striped":l||u||void 0,"data-animate":u||void 0,sx:{width:`${L}%`,left:`${O}%`,backgroundColor:S.fn.variant({variant:"filled",primaryFallback:!1,color:M||S.primaryColor}).background}}),V&&x.createElement(Se,{className:C.label},V)))}):null;return x.createElement(Ge,SM({className:w(C.root,n),ref:e},y),P||x.createElement("div",{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-label":d,className:C.bar,style:{width:`${i}%`},"data-striped":l||u||void 0,"data-animate":u||void 0},c?x.createElement(Se,{className:C.label},c):""))});kO.displayName="@mantine/core/Progress";function KPe({size:r,thickness:e,sum:t,value:n,root:i,offset:o}){const s=(r*.9-e*2)/2,a=Math.PI*s*2/100,l=i?`${(100-t)*a}, ${t*a}`:`${n*a}, ${(100-n)*a}`;return{strokeWidth:e,cx:r/2,cy:r/2,r:s,transform:i?`scale(1, -1) translate(0, -${r})`:null,strokeDasharray:l,strokeDashoffset:i?0:o}}var YPe=Object.defineProperty,qPe=Object.defineProperties,QPe=Object.getOwnPropertyDescriptors,WR=Object.getOwnPropertySymbols,cQ=Object.prototype.hasOwnProperty,dQ=Object.prototype.propertyIsEnumerable,TU=(r,e,t)=>e in r?YPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,PU=(r,e)=>{for(var t in e||(e={}))cQ.call(e,t)&&TU(r,t,e[t]);if(WR)for(var t of WR(e))dQ.call(e,t)&&TU(r,t,e[t]);return r},XPe=(r,e)=>qPe(r,QPe(e)),JPe=(r,e)=>{var t={};for(var n in r)cQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&WR)for(var n of WR(r))e.indexOf(n)<0&&dQ.call(r,n)&&(t[n]=r[n]);return t};function hQ(r){var e=r,{size:t,value:n,offset:i,sum:o,thickness:s,root:a,color:l,lineRoundCaps:u,tooltip:c}=e,d=JPe(e,["size","value","offset","sum","thickness","root","color","lineRoundCaps","tooltip"]);const h=Ao(),p=h.fn.themeColor(l||(h.colorScheme==="dark"?"dark":"gray"),l?h.fn.primaryShade():h.colorScheme==="dark"?4:1,!1);return x.createElement(HO.Floating,{disabled:!c,label:c},x.createElement("circle",PU(XPe(PU({},d),{fill:"none",strokeLinecap:u?"round":"butt",stroke:p}),KPe({sum:o,size:t,thickness:s,value:n,offset:i,root:a}))))}hQ.displayName="@mantine/core/Curve";var ZPe=Object.defineProperty,eOe=Object.defineProperties,tOe=Object.getOwnPropertyDescriptors,OU=Object.getOwnPropertySymbols,nOe=Object.prototype.hasOwnProperty,rOe=Object.prototype.propertyIsEnumerable,DU=(r,e,t)=>e in r?ZPe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Xm=(r,e)=>{for(var t in e||(e={}))nOe.call(e,t)&&DU(r,t,e[t]);if(OU)for(var t of OU(e))rOe.call(e,t)&&DU(r,t,e[t]);return r},Jm=(r,e)=>eOe(r,tOe(e));function iOe({size:r,thickness:e,sections:t,renderRoundedLineCaps:n,rootColor:i}){const o=t.reduce((c,d)=>c+d.value,0),s=Math.PI*((r*.9-e*2)/2)*2;let a=s;const l=[],u=[];for(let c=0;c<t.length;c+=1)l.push({sum:o,offset:a,data:t[c],root:!1}),a-=t[c].value/100*s;if(l.push({sum:o,offset:a,data:{color:i},root:!0}),u.push(Jm(Xm({},l[l.length-1]),{lineRoundCaps:!1})),l.length>2){u.push(Jm(Xm({},l[0]),{lineRoundCaps:n})),u.push(Jm(Xm({},l[l.length-2]),{lineRoundCaps:n}));for(let c=1;c<=l.length-3;c+=1)u.push(Jm(Xm({},l[c]),{lineRoundCaps:!1}))}else u.push(Jm(Xm({},l[0]),{lineRoundCaps:n}));return u}var oOe=We({root:{position:"relative"},label:{position:"absolute",top:"50%",transform:"translateY(-50%)"}}),sOe=Object.defineProperty,aOe=Object.defineProperties,lOe=Object.getOwnPropertyDescriptors,UR=Object.getOwnPropertySymbols,pQ=Object.prototype.hasOwnProperty,fQ=Object.prototype.propertyIsEnumerable,AU=(r,e,t)=>e in r?sOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jx=(r,e)=>{for(var t in e||(e={}))pQ.call(e,t)&&AU(r,t,e[t]);if(UR)for(var t of UR(e))fQ.call(e,t)&&AU(r,t,e[t]);return r},uOe=(r,e)=>aOe(r,lOe(e)),cOe=(r,e)=>{var t={};for(var n in r)pQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&UR)for(var n of UR(r))e.indexOf(n)<0&&fQ.call(r,n)&&(t[n]=r[n]);return t};const dOe={size:120,thickness:12},A0=Ce((r,e)=>{const t=Me("RingProgress",dOe,r),{className:n,style:i,label:o,sections:s,size:a,thickness:l,classNames:u,styles:c,roundCaps:d,rootColor:h,unstyled:p,variant:f}=t,g=cOe(t,["className","style","label","sections","size","thickness","classNames","styles","roundCaps","rootColor","unstyled","variant"]),{classes:v,cx:y}=oOe(null,{name:"RingProgress",classNames:u,styles:c,unstyled:p,variant:f}),C=iOe({size:a,thickness:l,sections:s,renderRoundedLineCaps:d,rootColor:h}).map(({data:w,sum:S,root:P,lineRoundCaps:F,offset:_},E)=>x.createElement(hQ,uOe(jx({},w),{key:E,size:a,thickness:l,sum:S,offset:_,color:w==null?void 0:w.color,root:P,lineRoundCaps:F})));return x.createElement(Ge,jx({style:jx({width:a,height:a},i),className:y(v.root,n),ref:e},g),x.createElement("svg",{style:{width:a,height:a,transform:"rotate(-90deg)"}},C),o&&x.createElement("div",{className:v.label,style:{right:l*2,left:l*2}},o))});A0.displayName="@mantine/core/RingProgress";function hOe({data:r,searchable:e,limit:t,searchValue:n,filter:i,value:o,filterDataOnExactSearchMatch:s}){if(!e)return r;const a=o!=null&&r.find(u=>u.value===o)||null;if(a&&!s&&(a==null?void 0:a.label)===n){if(t){if(t>=r.length)return r;const u=r.indexOf(a),c=u+t,d=c-r.length;return d>0?r.slice(u-d):r.slice(u,c)}return r}const l=[];for(let u=0;u<r.length&&(i(n,r[u])&&l.push(r[u]),!(l.length>=t));u+=1);return l}var pOe=We(()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})),fOe=Object.defineProperty,gOe=Object.defineProperties,mOe=Object.getOwnPropertyDescriptors,zR=Object.getOwnPropertySymbols,gQ=Object.prototype.hasOwnProperty,mQ=Object.prototype.propertyIsEnumerable,xU=(r,e,t)=>e in r?fOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zm=(r,e)=>{for(var t in e||(e={}))gQ.call(e,t)&&xU(r,t,e[t]);if(zR)for(var t of zR(e))mQ.call(e,t)&&xU(r,t,e[t]);return r},Wx=(r,e)=>gOe(r,mOe(e)),vOe=(r,e)=>{var t={};for(var n in r)gQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&zR)for(var n of zR(r))e.indexOf(n)<0&&mQ.call(r,n)&&(t[n]=r[n]);return t};function yOe(r,e){return e.label.toLowerCase().trim().includes(r.toLowerCase().trim())}function COe(r,e){return!!r&&!e.some(t=>t.label.toLowerCase()===r.toLowerCase())}const wOe={required:!1,size:"sm",shadow:"sm",itemComponent:D7,transitionProps:{transition:"fade",duration:0},initiallyOpened:!1,filter:yOe,maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:COe,selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Da("popover"),positionDependencies:[],dropdownPosition:"flip"},$O=Ce((r,e)=>{const t=A8("Select",wOe,r),{inputProps:n,wrapperProps:i,shadow:o,data:s,value:a,defaultValue:l,onChange:u,itemComponent:c,onKeyDown:d,onBlur:h,onFocus:p,transitionProps:f,initiallyOpened:g,unstyled:v,classNames:y,styles:C,filter:w,maxDropdownHeight:S,searchable:P,clearable:F,nothingFound:_,limit:E,disabled:T,onSearchChange:O,searchValue:L,rightSection:V,rightSectionWidth:M,creatable:N,getCreateLabel:$,shouldCreate:B,selectOnBlur:U,onCreate:z,dropdownComponent:j,onDropdownClose:Q,onDropdownOpen:X,withinPortal:Z,portalProps:ce,switchDirectionOnFlip:oe,zIndex:de,name:Ee,dropdownPosition:Pe,allowDeselect:$e,placeholder:Ne,filterDataOnExactSearchMatch:xe,form:st,positionDependencies:Ue,readOnly:_t,clearButtonProps:Rt,hoverOnSearchChange:Ct}=t,Sn=vOe(t,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transitionProps","initiallyOpened","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","portalProps","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","form","positionDependencies","readOnly","clearButtonProps","hoverOnSearchChange"]),{classes:qe,cx:Ie,theme:sn}=pOe(),[bt,ni]=Te(g),[jn,nn]=Te(-1),we=ve(),Le=ve({}),[Je,Ze]=Te("column"),It=Je==="column",{scrollIntoView:En,targetRef:vt,scrollableRef:Lt}=Efe({duration:0,offset:5,cancelable:!1,isList:!0}),_n=$e===void 0?F:$e,mn=ze=>{if(bt!==ze){ni(ze);const ln=ze?X:Q;typeof ln=="function"&&ln()}},cr=N&&typeof $=="function";let nr=null;const Pt=s.map(ze=>typeof ze=="string"?{label:ze,value:ze}:ze),Ot=Vde({data:Pt}),[kt,lt,an]=Ih({value:a,defaultValue:l,finalValue:null,onChange:u}),tn=Ot.find(ze=>ze.value===kt),[Tn,Go]=Ih({value:L,defaultValue:(tn==null?void 0:tn.label)||"",finalValue:void 0,onChange:O}),ri=ze=>{Go(ze),P&&typeof O=="function"&&O(ze)},Vp=()=>{var ze;_t||(lt(null),an||ri(""),(ze=we.current)==null||ze.focus())};Fe(()=>{const ze=Ot.find(ln=>ln.value===kt);ze?ri(ze.label):(!cr||!kt)&&ri("")},[kt]),Fe(()=>{tn&&(!P||!bt)&&ri(tn.label)},[tn==null?void 0:tn.label]);const Xs=ze=>{if(!_t)if(_n&&(tn==null?void 0:tn.value)===ze.value)lt(null),mn(!1);else{if(ze.creatable&&typeof z=="function"){const ln=z(ze.value);typeof ln<"u"&&ln!==null&&lt(typeof ln=="string"?ln:ln.value)}else lt(ze.value);an||ri(ze.label),nn(-1),mn(!1),we.current.focus()}},qn=hOe({data:Ot,searchable:P,limit:E,searchValue:Tn,filter:w,filterDataOnExactSearchMatch:xe,value:kt});cr&&B(Tn,qn)&&(nr=$(Tn),qn.push({label:Tn,value:Tn,creatable:!0}));const Ma=(ze,ln,Fr)=>{let Er=ze;for(;Fr(Er);)if(Er=ln(Er),!qn[Er].disabled)return Er;return ze};ks(()=>{nn(Ct&&Tn?0:-1)},[Tn,Ct]);const La=kt?qn.findIndex(ze=>ze.value===kt):0,vn=!_t&&(qn.length>0?bt:bt&&!!_),Fd=()=>{nn(ze=>{var ln;const Fr=Ma(ze,Er=>Er-1,Er=>Er>0);return vt.current=Le.current[(ln=qn[Fr])==null?void 0:ln.value],vn&&En({alignment:It?"start":"end"}),Fr})},Na=()=>{nn(ze=>{var ln;const Fr=Ma(ze,Er=>Er+1,Er=>Er<qn.length-1);return vt.current=Le.current[(ln=qn[Fr])==null?void 0:ln.value],vn&&En({alignment:It?"end":"start"}),Fr})},Es=()=>window.setTimeout(()=>{var ze;vt.current=Le.current[(ze=qn[La])==null?void 0:ze.value],En({alignment:It?"end":"start"})},50);ks(()=>{vn&&Es()},[vn]);const Om=ze=>{switch(typeof d=="function"&&d(ze),ze.key){case"ArrowUp":{ze.preventDefault(),bt?It?Fd():Na():(nn(La),mn(!0),Es());break}case"ArrowDown":{ze.preventDefault(),bt?It?Na():Fd():(nn(La),mn(!0),Es());break}case"Home":{if(!P){ze.preventDefault(),bt||mn(!0);const ln=qn.findIndex(Fr=>!Fr.disabled);nn(ln),vn&&En({alignment:It?"end":"start"})}break}case"End":{if(!P){ze.preventDefault(),bt||mn(!0);const ln=qn.map(Fr=>!!Fr.disabled).lastIndexOf(!1);nn(ln),vn&&En({alignment:It?"end":"start"})}break}case"Escape":{ze.preventDefault(),mn(!1),nn(-1);break}case" ":{P||(ze.preventDefault(),qn[jn]&&bt?Xs(qn[jn]):(mn(!0),nn(La),Es()));break}case"Enter":P||ze.preventDefault(),qn[jn]&&bt&&(ze.preventDefault(),Xs(qn[jn]))}},Dm=ze=>{typeof h=="function"&&h(ze);const ln=Ot.find(Fr=>Fr.value===kt);U&&qn[jn]&&bt&&Xs(qn[jn]),ri((ln==null?void 0:ln.label)||""),mn(!1)},Ga=ze=>{typeof p=="function"&&p(ze),P&&mn(!0)},Am=ze=>{_t||(ri(ze.currentTarget.value),F&&ze.currentTarget.value===""&&lt(null),nn(-1),mn(!0))},xm=()=>{_t||(mn(!bt),kt&&!bt&&nn(La))};return x.createElement(gl.Wrapper,Wx(Zm({},i),{__staticSelector:"Select"}),x.createElement(fy,{opened:vn,transitionProps:f,shadow:o,withinPortal:Z,portalProps:ce,__staticSelector:"Select",onDirectionChange:Ze,switchDirectionOnFlip:oe,zIndex:de,dropdownPosition:Pe,positionDependencies:[...Ue,Tn],classNames:y,styles:C,unstyled:v,variant:n.variant},x.createElement(fy.Target,null,x.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":vn?`${n.id}-items`:null,"aria-controls":n.id,"aria-expanded":vn,onMouseLeave:()=>nn(-1),tabIndex:-1},x.createElement("input",{type:"hidden",name:Ee,value:kt||"",form:st,disabled:T}),x.createElement(gl,Zm(Wx(Zm(Zm({autoComplete:"off",type:"search"},n),Sn),{ref:Bg(e,we),onKeyDown:Om,__staticSelector:"Select",value:Tn,placeholder:Ne,onChange:Am,"aria-autocomplete":"list","aria-controls":vn?`${n.id}-items`:null,"aria-activedescendant":jn>=0?`${n.id}-${jn}`:null,onMouseDown:xm,onBlur:Dm,onFocus:Ga,readOnly:!P||_t,disabled:T,"data-mantine-stop-propagation":vn,name:null,classNames:Wx(Zm({},y),{input:Ie({[qe.input]:!P},y==null?void 0:y.input)})}),oPe({theme:sn,rightSection:V,rightSectionWidth:M,styles:C,size:n.size,shouldClear:F&&!!tn,onClear:Vp,error:i.error,clearButtonProps:Rt,disabled:T,readOnly:_t}))))),x.createElement(fy.Dropdown,{component:j||i0,maxHeight:S,direction:Je,id:n.id,innerRef:Lt,__staticSelector:"Select",classNames:y,styles:C},x.createElement(T7,{data:qn,hovered:jn,classNames:y,styles:C,isItemSelected:ze=>ze===kt,uuid:n.id,__staticSelector:"Select",onItemHover:nn,onItemSelect:Xs,itemsRefs:Le,itemComponent:c,size:n.size,nothingFound:_,creatable:cr&&!!nr,createLabel:nr,"aria-label":i.label,unstyled:v,variant:n.variant}))))});$O.displayName="@mantine/core/Select";var SOe=We((r,{spacing:e,align:t,justify:n})=>({root:{display:"flex",flexDirection:"column",alignItems:t,justifyContent:n,gap:be({size:e,sizes:r.spacing})}})),EOe=Object.defineProperty,KR=Object.getOwnPropertySymbols,vQ=Object.prototype.hasOwnProperty,yQ=Object.prototype.propertyIsEnumerable,IU=(r,e,t)=>e in r?EOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_Oe=(r,e)=>{for(var t in e)vQ.call(e,t)&&IU(r,t,e[t]);if(KR)for(var t of KR(e))yQ.call(e,t)&&IU(r,t,e[t]);return r},bOe=(r,e)=>{var t={};for(var n in r)vQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&KR)for(var n of KR(r))e.indexOf(n)<0&&yQ.call(r,n)&&(t[n]=r[n]);return t};const ROe={spacing:"md",align:"stretch",justify:"flex-start"},Dn=Ce((r,e)=>{const t=Me("Stack",ROe,r),{spacing:n,className:i,align:o,justify:s,unstyled:a,variant:l}=t,u=bOe(t,["spacing","className","align","justify","unstyled","variant"]),{classes:c,cx:d}=SOe({spacing:n,align:o,justify:s},{name:"Stack",unstyled:a,variant:l});return x.createElement(Ge,_Oe({className:d(c.root,i),ref:e},u))});Dn.displayName="@mantine/core/Stack";const CQ=Yn(null),TOe=CQ.Provider,POe=()=>Ut(CQ);var OOe=Object.defineProperty,YR=Object.getOwnPropertySymbols,wQ=Object.prototype.hasOwnProperty,SQ=Object.prototype.propertyIsEnumerable,FU=(r,e,t)=>e in r?OOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,MU=(r,e)=>{for(var t in e||(e={}))wQ.call(e,t)&&FU(r,t,e[t]);if(YR)for(var t of YR(e))SQ.call(e,t)&&FU(r,t,e[t]);return r},DOe=(r,e)=>{var t={};for(var n in r)wQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&YR)for(var n of YR(r))e.indexOf(n)<0&&SQ.call(r,n)&&(t[n]=r[n]);return t};const AOe={size:"sm"},EQ=Ce((r,e)=>{const t=Me("SwitchGroup",AOe,r),{children:n,value:i,defaultValue:o,onChange:s,size:a,wrapperProps:l}=t,u=DOe(t,["children","value","defaultValue","onChange","size","wrapperProps"]),[c,d]=Ih({value:i,defaultValue:o,finalValue:[],onChange:s}),h=p=>{const f=p.currentTarget.value;d(c.includes(f)?c.filter(g=>g!==f):[...c,f])};return x.createElement(TOe,{value:{value:c,onChange:h,size:a}},x.createElement(gl.Wrapper,MU(MU({labelElement:"div",size:a,__staticSelector:"SwitchGroup",ref:e},l),u),n))});EQ.displayName="@mantine/core/SwitchGroup";var xOe=Object.defineProperty,IOe=Object.defineProperties,FOe=Object.getOwnPropertyDescriptors,LU=Object.getOwnPropertySymbols,MOe=Object.prototype.hasOwnProperty,LOe=Object.prototype.propertyIsEnumerable,NU=(r,e,t)=>e in r?xOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,NOe=(r,e)=>{for(var t in e||(e={}))MOe.call(e,t)&&NU(r,t,e[t]);if(LU)for(var t of LU(e))LOe.call(e,t)&&NU(r,t,e[t]);return r},GOe=(r,e)=>IOe(r,FOe(e));const VOe={xs:W(16),sm:W(20),md:W(24),lg:W(30),xl:W(36)},HOe={xs:W(32),sm:W(38),md:W(46),lg:W(56),xl:W(72)},kOe={xs:W(12),sm:W(14),md:W(18),lg:W(22),xl:W(28)},$Oe={xs:W(5),sm:W(6),md:W(7),lg:W(9),xl:W(11)},BOe={xs:W(4),sm:W(5),md:W(6),lg:W(8),xl:W(10)};var jOe=We((r,{radius:e,color:t,labelPosition:n,error:i},{size:o})=>{const s=be({size:o,sizes:kOe}),a=be({size:e,sizes:r.radius}),l=r.fn.variant({variant:"filled",color:t}),u=be({size:o,sizes:HOe}),c=W(o==="xs"?1:2),d=r.fn.variant({variant:"filled",color:"red"}).background;return{root:{position:"relative"},input:{height:0,width:0,overflow:"hidden",whiteSpace:"nowrap",padding:0,WebkitClipPath:"inset(50%)",clipPath:"inset(50%)",position:"absolute"},track:GOe(NOe({},r.fn.focusStyles("input:focus + &")),{cursor:r.cursorType,overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:a,backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[2],border:`${W(1)} solid ${i?d:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`,height:be({size:o,sizes:VOe}),minWidth:u,margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:r.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:be({size:o,sizes:$Oe}),fontWeight:600,order:n==="left"?2:1,userSelect:"none",zIndex:0,lineHeight:0,color:r.colorScheme==="dark"?r.colors.dark[1]:r.colors.gray[6],transition:`color 150ms ${r.transitionTimingFunction}`,"input:checked + &":{backgroundColor:l.background,borderColor:l.background,color:r.white,transition:`color 150ms ${r.transitionTimingFunction}`},"input:disabled + &":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],cursor:"not-allowed",pointerEvents:"none"}}),thumb:{position:"absolute",zIndex:1,borderRadius:a,boxSizing:"border-box",display:"flex",backgroundColor:r.white,height:s,width:s,border:`${W(1)} solid ${r.colorScheme==="dark"?r.white:r.colors.gray[3]}`,left:c,transition:`left 150ms ${r.transitionTimingFunction}`,"& > *":{margin:"auto"},"@media (prefers-reduced-motion)":{transitionDuration:r.respectReducedMotion?"0ms":""},"input:checked + * > &":{left:`calc(100% - ${s} - ${c})`,borderColor:r.white},"input:disabled + * > &":{borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[2],backgroundColor:r.colorScheme==="dark"?r.colors.dark[3]:r.colors.gray[0]}},trackLabel:{height:"100%",display:"grid",placeContent:"center",minWidth:`calc(${u} - ${s})`,paddingInline:be({size:o,sizes:BOe}),marginLeft:`calc(${s} + ${c})`,transition:`margin 150ms ${r.transitionTimingFunction}`,"input:checked + * > &":{marginLeft:0,marginRight:`calc(${s} + ${c})`}}}}),WOe=Object.defineProperty,UOe=Object.defineProperties,zOe=Object.getOwnPropertyDescriptors,qR=Object.getOwnPropertySymbols,_Q=Object.prototype.hasOwnProperty,bQ=Object.prototype.propertyIsEnumerable,GU=(r,e,t)=>e in r?WOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ux=(r,e)=>{for(var t in e||(e={}))_Q.call(e,t)&&GU(r,t,e[t]);if(qR)for(var t of qR(e))bQ.call(e,t)&&GU(r,t,e[t]);return r},KOe=(r,e)=>UOe(r,zOe(e)),YOe=(r,e)=>{var t={};for(var n in r)_Q.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&qR)for(var n of qR(r))e.indexOf(n)<0&&bQ.call(r,n)&&(t[n]=r[n]);return t};const qOe={offLabel:"",onLabel:"",size:"sm",radius:"xl",error:!1},th=Ce((r,e)=>{var t;const n=Me("Switch",qOe,r),{className:i,color:o,label:s,offLabel:a,onLabel:l,id:u,style:c,size:d,radius:h,wrapperProps:p,children:f,unstyled:g,styles:v,classNames:y,thumbIcon:C,sx:w,checked:S,defaultChecked:P,onChange:F,labelPosition:_,description:E,error:T,disabled:O,variant:L}=n,V=YOe(n,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","thumbIcon","sx","checked","defaultChecked","onChange","labelPosition","description","error","disabled","variant"]),M=POe(),N=(M==null?void 0:M.size)||d,{classes:$,cx:B}=jOe({color:o,radius:h,labelPosition:_,error:!!T},{name:"Switch",classNames:y,styles:v,unstyled:g,size:N,variant:L}),{systemStyles:U,rest:z}=jg(V),j=cd(u),Q=M?{checked:M.value.includes(z.value),onChange:M.onChange}:{},[X,Z]=Ih({value:(t=Q.checked)!=null?t:S,defaultValue:P,finalValue:!1});return x.createElement(RY,Ux(Ux({className:B(i,$.root),sx:w,style:c,id:j,size:(M==null?void 0:M.size)||d,labelPosition:_,label:s,description:E,error:T,disabled:O,__staticSelector:"Switch",classNames:y,styles:v,unstyled:g,"data-checked":Q.checked||void 0,variant:L},U),p),x.createElement("input",KOe(Ux({},z),{disabled:O,checked:X,onChange:ce=>{M?Q.onChange(ce):F==null||F(ce),Z(ce.currentTarget.checked)},id:j,ref:e,type:"checkbox",className:$.input})),x.createElement("label",{htmlFor:j,className:$.track},x.createElement("div",{className:$.thumb},C),x.createElement("div",{className:$.trackLabel},X?l:a)))});th.displayName="@mantine/core/Switch";th.Group=EQ;var QOe=Object.defineProperty,XOe=Object.defineProperties,JOe=Object.getOwnPropertyDescriptors,VU=Object.getOwnPropertySymbols,ZOe=Object.prototype.hasOwnProperty,eDe=Object.prototype.propertyIsEnumerable,HU=(r,e,t)=>e in r?QOe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tDe=(r,e)=>{for(var t in e||(e={}))ZOe.call(e,t)&&HU(r,t,e[t]);if(VU)for(var t of VU(e))eDe.call(e,t)&&HU(r,t,e[t]);return r},nDe=(r,e)=>XOe(r,JOe(e)),rDe=We((r,{captionSide:e,horizontalSpacing:t,verticalSpacing:n,fontSize:i,withBorder:o,withColumnBorders:s})=>{const a=`${W(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`;return{root:nDe(tDe({},r.fn.fontStyles()),{width:"100%",borderCollapse:"collapse",captionSide:e,color:r.colorScheme==="dark"?r.colors.dark[0]:r.black,lineHeight:r.lineHeight,border:o?a:void 0,"& > caption":{marginTop:e==="top"?0:r.spacing.xs,marginBottom:e==="bottom"?0:r.spacing.xs,fontSize:r.fontSizes.sm,color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6]},"& > thead > tr > th, & > tfoot > tr > th, & > tbody > tr > th":{textAlign:"left",fontWeight:"bold",color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[7],fontSize:be({size:i,sizes:r.fontSizes}),padding:`${be({size:n,sizes:r.spacing})} ${be({size:t,sizes:r.spacing})}`},"& > thead > tr > th":{borderBottom:a},"& > tfoot > tr > th, & > tbody > tr > th":{borderTop:a},"& > tbody > tr > td":{padding:`${be({size:n,sizes:r.spacing})} ${be({size:t,sizes:r.spacing})}`,borderTop:a,fontSize:be({size:i,sizes:r.fontSizes})},"& > tbody > tr:first-of-type > td, & > tbody > tr:first-of-type > th":{borderTop:"none"},"& > thead > tr > th, & > tbody > tr > td":{borderRight:s?a:"none","&:last-of-type":{borderRight:"none",borderLeft:s?a:"none"}},"& > tbody > tr > th":{borderRight:s?a:"none"},"&[data-striped] > tbody > tr:nth-of-type(odd)":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0]},"&[data-hover] > tbody > tr":r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[1]})})}}),iDe=Object.defineProperty,oDe=Object.defineProperties,sDe=Object.getOwnPropertyDescriptors,QR=Object.getOwnPropertySymbols,RQ=Object.prototype.hasOwnProperty,TQ=Object.prototype.propertyIsEnumerable,kU=(r,e,t)=>e in r?iDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,aDe=(r,e)=>{for(var t in e)RQ.call(e,t)&&kU(r,t,e[t]);if(QR)for(var t of QR(e))TQ.call(e,t)&&kU(r,t,e[t]);return r},lDe=(r,e)=>oDe(r,sDe(e)),uDe=(r,e)=>{var t={};for(var n in r)RQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&QR)for(var n of QR(r))e.indexOf(n)<0&&TQ.call(r,n)&&(t[n]=r[n]);return t};const cDe={striped:!1,highlightOnHover:!1,captionSide:"top",horizontalSpacing:"xs",fontSize:"sm",verticalSpacing:7,withBorder:!1,withColumnBorders:!1},PQ=Ce((r,e)=>{const t=Me("Table",cDe,r),{className:n,children:i,striped:o,highlightOnHover:s,captionSide:a,horizontalSpacing:l,verticalSpacing:u,fontSize:c,unstyled:d,withBorder:h,withColumnBorders:p,variant:f}=t,g=uDe(t,["className","children","striped","highlightOnHover","captionSide","horizontalSpacing","verticalSpacing","fontSize","unstyled","withBorder","withColumnBorders","variant"]),{classes:v,cx:y}=rDe({captionSide:a,verticalSpacing:u,horizontalSpacing:l,fontSize:c,withBorder:h,withColumnBorders:p},{unstyled:d,name:"Table",variant:f});return x.createElement(Ge,lDe(aDe({},g),{component:"table",ref:e,className:y(v.root,n),"data-striped":o||void 0,"data-hover":s||void 0}),i)});PQ.displayName="@mantine/core/Table";const EM={context:"Tabs component was not found in the tree",value:"Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value"},[dDe,x0]=cp(EM.context);var hDe=Object.defineProperty,$U=Object.getOwnPropertySymbols,pDe=Object.prototype.hasOwnProperty,fDe=Object.prototype.propertyIsEnumerable,BU=(r,e,t)=>e in r?hDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,gDe=(r,e)=>{for(var t in e||(e={}))pDe.call(e,t)&&BU(r,t,e[t]);if($U)for(var t of $U(e))fDe.call(e,t)&&BU(r,t,e[t]);return r};function mDe({orientation:r,inverted:e,placement:t},n,i){const o=r==="vertical";return i==="default"?{[o?t==="left"?"borderRight":"borderLeft":e?"borderTop":"borderBottom"]:`${W(2)} solid ${n.colorScheme==="dark"?n.colors.dark[4]:n.colors.gray[3]}`}:i==="outline"?{[o?t==="left"?"borderRight":"borderLeft":e?"borderTop":"borderBottom"]:`${W(1)} solid ${n.colorScheme==="dark"?n.colors.dark[4]:n.colors.gray[3]}`}:i==="pills"?{gap:`calc(${n.spacing.sm} / 2)`}:{}}var vDe=We((r,e,{variant:t})=>{const n=e.orientation==="vertical";return{tabsList:gDe({display:"flex",flexWrap:"wrap",flexDirection:n?"column":"row",justifyContent:tq[e.position],'& [role="tab"]':{flex:e.grow?1:void 0}},mDe(e,r,t))}}),yDe=Object.defineProperty,CDe=Object.defineProperties,wDe=Object.getOwnPropertyDescriptors,XR=Object.getOwnPropertySymbols,OQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,jU=(r,e,t)=>e in r?yDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,SDe=(r,e)=>{for(var t in e)OQ.call(e,t)&&jU(r,t,e[t]);if(XR)for(var t of XR(e))DQ.call(e,t)&&jU(r,t,e[t]);return r},EDe=(r,e)=>CDe(r,wDe(e)),_De=(r,e)=>{var t={};for(var n in r)OQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&XR)for(var n of XR(r))e.indexOf(n)<0&&DQ.call(r,n)&&(t[n]=r[n]);return t};const bDe={grow:!1,position:"left"},AQ=Ce((r,e)=>{const t=Me("TabsList",bDe,r),{children:n,className:i,grow:o,position:s}=t,a=_De(t,["children","className","grow","position"]),{orientation:l,variant:u,color:c,radius:d,inverted:h,placement:p,classNames:f,styles:g,unstyled:v}=x0(),{classes:y,cx:C}=vDe({orientation:l,grow:o,color:c,position:s,radius:d,inverted:h,placement:p},{name:"Tabs",unstyled:v,classNames:f,styles:g,variant:u});return x.createElement(Ge,EDe(SDe({},a),{className:C(y.tabsList,i),ref:e,role:"tablist","aria-orientation":l}),n)});AQ.displayName="@mantine/core/TabsList";var RDe=We((r,{orientation:e})=>({panel:{flex:e==="vertical"?1:void 0}})),TDe=Object.defineProperty,PDe=Object.defineProperties,ODe=Object.getOwnPropertyDescriptors,JR=Object.getOwnPropertySymbols,xQ=Object.prototype.hasOwnProperty,IQ=Object.prototype.propertyIsEnumerable,WU=(r,e,t)=>e in r?TDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,DDe=(r,e)=>{for(var t in e)xQ.call(e,t)&&WU(r,t,e[t]);if(JR)for(var t of JR(e))IQ.call(e,t)&&WU(r,t,e[t]);return r},ADe=(r,e)=>PDe(r,ODe(e)),xDe=(r,e)=>{var t={};for(var n in r)xQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&JR)for(var n of JR(r))e.indexOf(n)<0&&IQ.call(r,n)&&(t[n]=r[n]);return t};const IDe={},FQ=Ce((r,e)=>{const t=Me("TabsPanel",IDe,r),{value:n,children:i,sx:o,className:s}=t,a=xDe(t,["value","children","sx","className"]),l=x0(),{classes:u,cx:c}=RDe({orientation:l.orientation,color:l.color,radius:l.radius,inverted:l.inverted,placement:l.placement},{name:"Tabs",unstyled:l.unstyled,classNames:l.classNames,styles:l.styles,variant:l.variant}),d=l.getPanelId(n),h=l.value===n,p=l.keepMounted||h?i:null;return Fe(()=>(l.setMountedPanelIds(f=>[...f,d]),l.setMountedPanelIds(f=>f.filter(g=>g!==d))),[d]),x.createElement(Ge,ADe(DDe({},a),{ref:e,sx:[{display:h?void 0:"none"},...fO(o)],className:c(u.panel,s),role:"tabpanel",id:d,"aria-labelledby":l.getTabId(n)}),p)});FQ.displayName="@mantine/core/TabsPanel";var FDe=Object.defineProperty,MDe=Object.defineProperties,LDe=Object.getOwnPropertyDescriptors,UU=Object.getOwnPropertySymbols,NDe=Object.prototype.hasOwnProperty,GDe=Object.prototype.propertyIsEnumerable,zU=(r,e,t)=>e in r?FDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_f=(r,e)=>{for(var t in e||(e={}))NDe.call(e,t)&&zU(r,t,e[t]);if(UU)for(var t of UU(e))GDe.call(e,t)&&zU(r,t,e[t]);return r},KU=(r,e)=>MDe(r,LDe(e));function VDe(r,{orientation:e,color:t,radius:n,inverted:i,placement:o},s){const a=e==="vertical",l=r.fn.variant({color:t,variant:"filled"}),u=W(r.fn.radius(n)),c=e==="vertical"?o==="left"?`${u} 0 0 ${u}`:` 0 ${u} ${u} 0`:i?`0 0 ${u} ${u}`:`${u} ${u} 0 0`;return s==="default"?KU(_f({[a?o==="left"?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:`${W(2)} solid transparent`,[a?o==="left"?"marginRight":"marginLeft":i?"marginTop":"marginBottom"]:W(-2),borderRadius:c},r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0],borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]})),{"&[data-active]":_f({borderColor:l.background,color:r.colorScheme==="dark"?r.white:r.black},r.fn.hover({borderColor:l.background}))}):s==="outline"?{borderRadius:c,border:`${W(1)} solid transparent`,[a?o==="left"?"borderRight":"borderLeft":i?"borderTop":"borderBottom"]:"none","&[data-active]":{borderColor:r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3],"&::before":{content:'""',backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,position:"absolute",bottom:a?0:i?"unset":W(-1),top:a?0:i?W(-1):"unset",[a?"width":"height"]:W(1),right:a?o==="left"?W(-1):"unset":0,left:a?o==="left"?"unset":W(-1):0}}}:s==="pills"?KU(_f({borderRadius:r.fn.radius(n)},r.fn.hover({backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0]})),{"&[data-active]":_f({backgroundColor:l.background,color:r.white},r.fn.hover({backgroundColor:l.background}))}):{}}var HDe=We((r,e,{variant:t})=>({tabLabel:{},tab:_f({position:"relative",padding:`${r.spacing.xs} ${r.spacing.md}`,paddingLeft:e.withIcon?r.spacing.xs:void 0,paddingRight:e.withRightSection?r.spacing.xs:void 0,fontSize:r.fontSizes.sm,whiteSpace:"nowrap",zIndex:0,display:"flex",alignItems:"center",justifyContent:e.orientation==="horizontal"?"center":void 0,lineHeight:1,"&:disabled":_f({opacity:.5,cursor:"not-allowed"},r.fn.hover({backgroundColor:"transparent"})),"&:focus":{zIndex:1}},VDe(r,e,t)),tabRightSection:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginLeft:W(7)}},tabIcon:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginRight:W(7)}}})),kDe=Object.defineProperty,$De=Object.defineProperties,BDe=Object.getOwnPropertyDescriptors,ZR=Object.getOwnPropertySymbols,MQ=Object.prototype.hasOwnProperty,LQ=Object.prototype.propertyIsEnumerable,YU=(r,e,t)=>e in r?kDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jDe=(r,e)=>{for(var t in e)MQ.call(e,t)&&YU(r,t,e[t]);if(ZR)for(var t of ZR(e))LQ.call(e,t)&&YU(r,t,e[t]);return r},WDe=(r,e)=>$De(r,BDe(e)),UDe=(r,e)=>{var t={};for(var n in r)MQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ZR)for(var n of ZR(r))e.indexOf(n)<0&&LQ.call(r,n)&&(t[n]=r[n]);return t};const zDe={},NQ=Ce((r,e)=>{const t=Me("TabsTab",zDe,r),{value:n,children:i,onKeyDown:o,onClick:s,className:a,icon:l,rightSection:u,color:c}=t,d=UDe(t,["value","children","onKeyDown","onClick","className","icon","rightSection","color"]),h=x0(),p=!!l,f=!!u,{theme:g,classes:v,cx:y}=HDe({withIcon:p||f&&!i,withRightSection:f||p&&!i,orientation:h.orientation,color:c||h.color,radius:h.radius,inverted:h.inverted,placement:h.placement},{name:"Tabs",unstyled:h.unstyled,classNames:h.classNames,styles:h.styles,variant:h.variant}),C=n===h.value,w=h.getPanelId(n),S=h.mountedPanelIds.includes(n)?w:void 0,P=F=>{h.onTabChange(h.allowTabDeactivation&&n===h.value?null:n),s==null||s(F)};return x.createElement(DO,WDe(jDe({},d),{unstyled:h.unstyled,className:y(v.tab,a),"data-active":C||void 0,ref:e,type:"button",role:"tab",id:h.getTabId(n),"aria-selected":C,tabIndex:C||h.value===null?0:-1,"aria-controls":S,onClick:P,onKeyDown:B6({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:h.activateTabWithKeyboard,loop:h.loop,dir:g.dir,orientation:h.orientation,onKeyDown:o})}),l&&x.createElement("span",{className:v.tabIcon},l),i&&x.createElement("span",{className:v.tabLabel},i),u&&x.createElement("span",{className:v.tabRightSection},u))});NQ.displayName="@mantine/core/Tab";function GQ({defaultValue:r,value:e,onTabChange:t,orientation:n,children:i,loop:o,id:s,activateTabWithKeyboard:a,allowTabDeactivation:l,variant:u,color:c,radius:d,inverted:h,placement:p,keepMounted:f=!0,classNames:g,styles:v,unstyled:y}){const C=cd(s),[w,S]=Te([]),[P,F]=Ih({value:e,defaultValue:r,finalValue:null,onChange:t});return x.createElement(dDe,{value:{placement:p,value:P,orientation:n,id:C,loop:o,activateTabWithKeyboard:a,getTabId:w$(`${C}-tab`,EM.value),getPanelId:w$(`${C}-panel`,EM.value),onTabChange:F,setMountedPanelIds:S,mountedPanelIds:w,allowTabDeactivation:l,variant:u,color:c,radius:d,inverted:h,keepMounted:f,classNames:g,styles:v,unstyled:y}},i)}GQ.displayName="@mantine/core/TabsProvider";var KDe=We((r,{orientation:e,placement:t})=>({root:{display:e==="vertical"?"flex":void 0,flexDirection:t==="right"?"row-reverse":"row"}})),YDe=Object.defineProperty,qDe=Object.defineProperties,QDe=Object.getOwnPropertyDescriptors,eT=Object.getOwnPropertySymbols,VQ=Object.prototype.hasOwnProperty,HQ=Object.prototype.propertyIsEnumerable,qU=(r,e,t)=>e in r?YDe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,XDe=(r,e)=>{for(var t in e)VQ.call(e,t)&&qU(r,t,e[t]);if(eT)for(var t of eT(e))HQ.call(e,t)&&qU(r,t,e[t]);return r},JDe=(r,e)=>qDe(r,QDe(e)),ZDe=(r,e)=>{var t={};for(var n in r)VQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&eT)for(var n of eT(r))e.indexOf(n)<0&&HQ.call(r,n)&&(t[n]=r[n]);return t};const eAe={orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},Fn=Ce((r,e)=>{const t=Me("Tabs",eAe,r),{defaultValue:n,value:i,orientation:o,loop:s,activateTabWithKeyboard:a,allowTabDeactivation:l,children:u,id:c,onTabChange:d,variant:h,color:p,className:f,unstyled:g,classNames:v,styles:y,radius:C,inverted:w,keepMounted:S,placement:P}=t,F=ZDe(t,["defaultValue","value","orientation","loop","activateTabWithKeyboard","allowTabDeactivation","children","id","onTabChange","variant","color","className","unstyled","classNames","styles","radius","inverted","keepMounted","placement"]),{classes:_,cx:E}=KDe({orientation:o,color:p,radius:C,inverted:w,placement:P},{unstyled:g,name:"Tabs",classNames:v,styles:y,variant:h});return x.createElement(GQ,{activateTabWithKeyboard:a,defaultValue:n,orientation:o,onTabChange:d,value:i,id:c,loop:s,allowTabDeactivation:l,color:p,variant:h,radius:C,inverted:w,keepMounted:S,placement:P,classNames:v,styles:y,unstyled:g},x.createElement(Ge,JDe(XDe({},F),{className:E(_.root,f),id:c,ref:e}),u))});Fn.List=AQ;Fn.Tab=NQ;Fn.Panel=FQ;Fn.displayName="@mantine/core/Tabs";var tAe=Object.defineProperty,nAe=Object.defineProperties,rAe=Object.getOwnPropertyDescriptors,QU=Object.getOwnPropertySymbols,iAe=Object.prototype.hasOwnProperty,oAe=Object.prototype.propertyIsEnumerable,XU=(r,e,t)=>e in r?tAe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,JU=(r,e)=>{for(var t in e||(e={}))iAe.call(e,t)&&XU(r,t,e[t]);if(QU)for(var t of QU(e))oAe.call(e,t)&&XU(r,t,e[t]);return r},sAe=(r,e)=>nAe(r,rAe(e));const aAe={xs:W(16),sm:W(20),md:W(26),lg:W(32),xl:W(40)},lAe=["filled","light","gradient","outline","default"];function uAe({theme:r,variant:e,color:t,gradient:n}){if(!lAe.includes(e))return null;const i=r.fn.variant({variant:e,color:t||r.primaryColor,gradient:n,primaryFallback:!1});return{backgroundColor:i.background,color:i.color,backgroundImage:e==="gradient"?i.background:void 0,border:`${W(e==="gradient"?0:1)} solid ${i.border}`}}var cAe=We((r,{color:e,radius:t,gradient:n},{variant:i,size:o})=>{const s=be({size:o,sizes:aAe});return{root:JU(sAe(JU({},r.fn.fontStyles()),{display:"inline-flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:s,height:s,minWidth:s,minHeight:s,borderRadius:r.fn.radius(t)}),uAe({theme:r,variant:i,gradient:n,color:e}))}}),dAe=Object.defineProperty,tT=Object.getOwnPropertySymbols,kQ=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,ZU=(r,e,t)=>e in r?dAe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hAe=(r,e)=>{for(var t in e)kQ.call(e,t)&&ZU(r,t,e[t]);if(tT)for(var t of tT(e))$Q.call(e,t)&&ZU(r,t,e[t]);return r},pAe=(r,e)=>{var t={};for(var n in r)kQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tT)for(var n of tT(r))e.indexOf(n)<0&&$Q.call(r,n)&&(t[n]=r[n]);return t};const fAe={size:"md",variant:"filled"},hs=Ce((r,e)=>{const t=Me("ThemeIcon",fAe,r),{className:n,size:i,radius:o,variant:s,color:a,children:l,gradient:u,unstyled:c}=t,d=pAe(t,["className","size","radius","variant","color","children","gradient","unstyled"]),{classes:h,cx:p}=cAe({variant:s,radius:o,color:a,gradient:u},{name:"ThemeIcon",unstyled:c,variant:s,size:i});return x.createElement(Ge,hAe({className:p(h.root,n),ref:e},d),l)});hs.displayName="@mantine/core/ThemeIcon";var gAe=Object.defineProperty,mAe=Object.defineProperties,vAe=Object.getOwnPropertyDescriptors,e2=Object.getOwnPropertySymbols,yAe=Object.prototype.hasOwnProperty,CAe=Object.prototype.propertyIsEnumerable,t2=(r,e,t)=>e in r?gAe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wAe=(r,e)=>{for(var t in e||(e={}))yAe.call(e,t)&&t2(r,t,e[t]);if(e2)for(var t of e2(e))CAe.call(e,t)&&t2(r,t,e[t]);return r},SAe=(r,e)=>mAe(r,vAe(e));function EAe(r,e,t){return typeof r<"u"?r in t.headings.sizes?t.headings.sizes[r].fontSize:W(r):t.headings.sizes[e].fontSize}function _Ae(r,e,t){return typeof r<"u"&&r in t.headings.sizes?t.headings.sizes[r].lineHeight:t.headings.sizes[e].lineHeight}var bAe=We((r,{element:e,weight:t,inline:n},{size:i})=>({root:SAe(wAe({},r.fn.fontStyles()),{fontFamily:r.headings.fontFamily,fontWeight:t||r.headings.sizes[e].fontWeight||r.headings.fontWeight,fontSize:EAe(i,e,r),lineHeight:n?1:_Ae(i,e,r),margin:0})})),RAe=Object.defineProperty,nT=Object.getOwnPropertySymbols,BQ=Object.prototype.hasOwnProperty,jQ=Object.prototype.propertyIsEnumerable,n2=(r,e,t)=>e in r?RAe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,TAe=(r,e)=>{for(var t in e)BQ.call(e,t)&&n2(r,t,e[t]);if(nT)for(var t of nT(e))jQ.call(e,t)&&n2(r,t,e[t]);return r},PAe=(r,e)=>{var t={};for(var n in r)BQ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&nT)for(var n of nT(r))e.indexOf(n)<0&&jQ.call(r,n)&&(t[n]=r[n]);return t};const OAe={order:1},$r=Ce((r,e)=>{const t=Me("Title",OAe,r),{className:n,order:i,children:o,unstyled:s,size:a,weight:l,inline:u,variant:c}=t,d=PAe(t,["className","order","children","unstyled","size","weight","inline","variant"]),{classes:h,cx:p}=bAe({element:`h${i}`,weight:l,inline:u},{name:"Title",unstyled:s,variant:c,size:a});return[1,2,3,4,5,6].includes(i)?x.createElement(Se,TAe({variant:c,component:`h${i}`,ref:e,className:p(h.root,n)},d),o):null});$r.displayName="@mantine/core/Title";var r2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},DAe=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],s=r[t++],a=r[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const o=r[t++],s=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},UQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],s=i+1<r.length,a=s?r[i+1]:0,l=i+2<r.length,u=l?r[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),n.push(t[c],t[d],t[h],t[p])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(WQ(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DAe(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],a=i<r.length?t[r.charAt(i)]:0;++i;const u=i<r.length?t[r.charAt(i)]:64;++i;const d=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new AAe;const h=o<<2|a>>4;if(n.push(h),u!==64){const p=a<<4&240|u>>2;if(n.push(p),d!==64){const f=u<<6&192|d;n.push(f)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AAe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xAe=function(r){const e=WQ(r);return UQ.encodeByteArray(e,!0)},rT=function(r){return xAe(r).replace(/\./g,"")},zQ=function(r){try{return UQ.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IAe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FAe=()=>IAe().__FIREBASE_DEFAULTS__,MAe=()=>{if(typeof process>"u"||typeof r2>"u")return;const r=r2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LAe=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zQ(r[1]);return e&&JSON.parse(e)},BO=()=>{try{return FAe()||MAe()||LAe()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KQ=r=>{var e,t;return(t=(e=BO())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},NAe=r=>{const e=KQ(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},YQ=()=>{var r;return(r=BO())===null||r===void 0?void 0:r.config},qQ=r=>{var e;return(e=BO())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GAe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VAe(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rT(JSON.stringify(t)),rT(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HAe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bi())}function kAe(){var r;const e=(r=BO())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $Ae(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BAe(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jAe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WAe(){const r=Bi();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function UAe(){return!kAe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zAe(){try{return typeof indexedDB=="object"}catch{return!1}}function KAe(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YAe="FirebaseError";class Mu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=YAe,Object.setPrototypeOf(this,Mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,QC.prototype.create)}}class QC{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qAe(o,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mu(i,a,n)}}function qAe(r,e){return r.replace(QAe,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const QAe=/\{\$([^}]+)}/g;function XAe(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function iT(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],s=e[i];if(i2(o)&&i2(s)){if(!iT(o,s))return!1}else if(o!==s)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function i2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function jv(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Wv(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function JAe(r,e){const t=new ZAe(r,e);return t.subscribe.bind(t)}class ZAe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");exe(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=zx),i.error===void 0&&(i.error=zx),i.complete===void 0&&(i.complete=zx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function exe(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function zx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r){return r&&r._delegate?r._delegate:r}let Lh=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let txe=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new GAe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rxe(e))try{this.getOrInitializeService({instanceIdentifier:Ud})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=Ud){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ud){return this.instances.has(e)}getOptions(e=Ud){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nxe(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ud){return this.component?this.component.multipleInstances?e:Ud:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nxe(r){return r===Ud?void 0:r}function rxe(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new txe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qt||(Qt={}));const oxe={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},sxe=Qt.INFO,axe={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},lxe=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=axe[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let I0=class{constructor(e){this.name=e,this._logLevel=sxe,this._logHandler=lxe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oxe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}};const uxe=(r,e)=>e.some(t=>r instanceof t);let o2,s2;function cxe(){return o2||(o2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dxe(){return s2||(s2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QQ=new WeakMap,_M=new WeakMap,XQ=new WeakMap,Kx=new WeakMap,F0=new WeakMap;function hxe(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",s)},o=()=>{t($c(r.result)),i()},s=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&QQ.set(t,r)}).catch(()=>{}),F0.set(e,r),e}function pxe(r){if(_M.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",s),r.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",s),r.addEventListener("abort",s)});_M.set(r,e)}let bM={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return _M.get(r);if(e==="objectStoreNames")return r.objectStoreNames||XQ.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $c(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function fxe(r){bM=r(bM)}function gxe(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Yx(this),e,...t);return XQ.set(n,e.sort?e.sort():[e]),$c(n)}:dxe().includes(r)?function(...e){return r.apply(Yx(this),e),$c(QQ.get(this))}:function(...e){return $c(r.apply(Yx(this),e))}}function mxe(r){return typeof r=="function"?gxe(r):(r instanceof IDBTransaction&&pxe(r),uxe(r,cxe())?new Proxy(r,bM):r)}function $c(r){if(r instanceof IDBRequest)return hxe(r);if(Kx.has(r))return Kx.get(r);const e=mxe(r);return e!==r&&(Kx.set(r,e),F0.set(e,r)),e}const Yx=r=>F0.get(r);function vxe(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const s=indexedDB.open(r,e),a=$c(s);return n&&s.addEventListener("upgradeneeded",l=>{n($c(s.result),l.oldVersion,l.newVersion,$c(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yxe=["get","getKey","getAll","getAllKeys","count"],Cxe=["put","add","delete","clear"],qx=new Map;function a2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qx.get(e))return qx.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=Cxe.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||yxe.includes(t)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&l.done]))[0]};return qx.set(e,o),o}fxe(r=>({...r,get:(e,t,n)=>a2(e,t)||r.get(e,t,n),has:(e,t)=>!!a2(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wxe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Sxe(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Sxe(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const RM="@firebase/app",l2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new I0("@firebase/app"),Exe="@firebase/app-compat",_xe="@firebase/analytics-compat",bxe="@firebase/analytics",Rxe="@firebase/app-check-compat",Txe="@firebase/app-check",Pxe="@firebase/auth",Oxe="@firebase/auth-compat",Dxe="@firebase/database",Axe="@firebase/data-connect",xxe="@firebase/database-compat",Ixe="@firebase/functions",Fxe="@firebase/functions-compat",Mxe="@firebase/installations",Lxe="@firebase/installations-compat",Nxe="@firebase/messaging",Gxe="@firebase/messaging-compat",Vxe="@firebase/performance",Hxe="@firebase/performance-compat",kxe="@firebase/remote-config",$xe="@firebase/remote-config-compat",Bxe="@firebase/storage",jxe="@firebase/storage-compat",Wxe="@firebase/firestore",Uxe="@firebase/vertexai-preview",zxe="@firebase/firestore-compat",Kxe="firebase",Yxe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="[DEFAULT]",qxe={[RM]:"fire-core",[Exe]:"fire-core-compat",[bxe]:"fire-analytics",[_xe]:"fire-analytics-compat",[Txe]:"fire-app-check",[Rxe]:"fire-app-check-compat",[Pxe]:"fire-auth",[Oxe]:"fire-auth-compat",[Dxe]:"fire-rtdb",[Axe]:"fire-data-connect",[xxe]:"fire-rtdb-compat",[Ixe]:"fire-fn",[Fxe]:"fire-fn-compat",[Mxe]:"fire-iid",[Lxe]:"fire-iid-compat",[Nxe]:"fire-fcm",[Gxe]:"fire-fcm-compat",[Vxe]:"fire-perf",[Hxe]:"fire-perf-compat",[kxe]:"fire-rc",[$xe]:"fire-rc-compat",[Bxe]:"fire-gcs",[jxe]:"fire-gcs-compat",[Wxe]:"fire-fst",[zxe]:"fire-fst-compat",[Uxe]:"fire-vertex","fire-js":"fire-js",[Kxe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map,Qxe=new Map,PM=new Map;function u2(r,e){try{r.container.addComponent(e)}catch(t){yu.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function sg(r){const e=r.name;if(PM.has(e))return yu.debug(`There were multiple attempts to register component ${e}.`),!1;PM.set(e,r);for(const t of oT.values())u2(t,r);for(const t of Qxe.values())u2(t,r);return!0}function M0(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function dl(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bc=new QC("app","Firebase",Xxe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jxe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=Yxe;function L0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:TM,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Bc.create("bad-app-name",{appName:String(i)});if(t||(t=YQ()),!t)throw Bc.create("no-options");const o=oT.get(i);if(o){if(iT(t,o.options)&&iT(n,o.config))return o;throw Bc.create("duplicate-app",{appName:i})}const s=new ixe(i);for(const l of PM.values())s.addComponent(l);const a=new Jxe(t,n,s);return oT.set(i,a),a}function JQ(r=TM){const e=oT.get(r);if(!e&&r===TM&&YQ())return L0();if(!e)throw Bc.create("no-app",{appName:r});return e}function jc(r,e,t){var n;let i=(n=qxe[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yu.warn(a.join(" "));return}sg(new Lh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zxe="firebase-heartbeat-database",eIe=1,Fy="firebase-heartbeat-store";let Qx=null;function ZQ(){return Qx||(Qx=vxe(Zxe,eIe,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fy)}catch(t){console.warn(t)}}}}).catch(r=>{throw Bc.create("idb-open",{originalErrorMessage:r.message})})),Qx}async function tIe(r){try{const t=(await ZQ()).transaction(Fy),n=await t.objectStore(Fy).get(eX(r));return await t.done,n}catch(e){if(e instanceof Mu)yu.warn(e.message);else{const t=Bc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yu.warn(t.message)}}}async function c2(r,e){try{const n=(await ZQ()).transaction(Fy,"readwrite");await n.objectStore(Fy).put(e,eX(r)),await n.done}catch(t){if(t instanceof Mu)yu.warn(t.message);else{const n=Bc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yu.warn(n.message)}}}function eX(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nIe=1024,rIe=30*24*60*60*1e3;class iIe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sIe(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=d2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=rIe}),this._storage.overwrite(this._heartbeatsCache))}catch(n){yu.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d2(),{heartbeatsToSend:n,unsentEntries:i}=oIe(this._heartbeatsCache.heartbeats),o=rT(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yu.warn(t),""}}}function d2(){return new Date().toISOString().substring(0,10)}function oIe(r,e=nIe){const t=[];let n=r.slice();for(const i of r){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),h2(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),h2(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class sIe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zAe()?KAe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tIe(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return c2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return c2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h2(r){return rT(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aIe(r){sg(new Lh("platform-logger",e=>new wxe(e),"PRIVATE")),sg(new Lh("heartbeat",e=>new iIe(e),"PRIVATE")),jc(RM,l2,r),jc(RM,l2,"esm2017"),jc("fire-js","")}aIe("");var lIe="firebase",uIe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jc(lIe,uIe,"app");var p2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wh,tX;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,E){function T(){}T.prototype=E.prototype,_.D=E.prototype,_.prototype=new T,_.prototype.constructor=_,_.C=function(O,L,V){for(var M=Array(arguments.length-2),N=2;N<arguments.length;N++)M[N-2]=arguments[N];return E.prototype[L].apply(O,M)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,E,T){T||(T=0);var O=Array(16);if(typeof E=="string")for(var L=0;16>L;++L)O[L]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(L=0;16>L;++L)O[L]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=_.g[0],T=_.g[1],L=_.g[2];var V=_.g[3],M=E+(V^T&(L^V))+O[0]+3614090360&4294967295;E=T+(M<<7&4294967295|M>>>25),M=V+(L^E&(T^L))+O[1]+3905402710&4294967295,V=E+(M<<12&4294967295|M>>>20),M=L+(T^V&(E^T))+O[2]+606105819&4294967295,L=V+(M<<17&4294967295|M>>>15),M=T+(E^L&(V^E))+O[3]+3250441966&4294967295,T=L+(M<<22&4294967295|M>>>10),M=E+(V^T&(L^V))+O[4]+4118548399&4294967295,E=T+(M<<7&4294967295|M>>>25),M=V+(L^E&(T^L))+O[5]+1200080426&4294967295,V=E+(M<<12&4294967295|M>>>20),M=L+(T^V&(E^T))+O[6]+2821735955&4294967295,L=V+(M<<17&4294967295|M>>>15),M=T+(E^L&(V^E))+O[7]+4249261313&4294967295,T=L+(M<<22&4294967295|M>>>10),M=E+(V^T&(L^V))+O[8]+1770035416&4294967295,E=T+(M<<7&4294967295|M>>>25),M=V+(L^E&(T^L))+O[9]+2336552879&4294967295,V=E+(M<<12&4294967295|M>>>20),M=L+(T^V&(E^T))+O[10]+4294925233&4294967295,L=V+(M<<17&4294967295|M>>>15),M=T+(E^L&(V^E))+O[11]+2304563134&4294967295,T=L+(M<<22&4294967295|M>>>10),M=E+(V^T&(L^V))+O[12]+1804603682&4294967295,E=T+(M<<7&4294967295|M>>>25),M=V+(L^E&(T^L))+O[13]+4254626195&4294967295,V=E+(M<<12&4294967295|M>>>20),M=L+(T^V&(E^T))+O[14]+2792965006&4294967295,L=V+(M<<17&4294967295|M>>>15),M=T+(E^L&(V^E))+O[15]+1236535329&4294967295,T=L+(M<<22&4294967295|M>>>10),M=E+(L^V&(T^L))+O[1]+4129170786&4294967295,E=T+(M<<5&4294967295|M>>>27),M=V+(T^L&(E^T))+O[6]+3225465664&4294967295,V=E+(M<<9&4294967295|M>>>23),M=L+(E^T&(V^E))+O[11]+643717713&4294967295,L=V+(M<<14&4294967295|M>>>18),M=T+(V^E&(L^V))+O[0]+3921069994&4294967295,T=L+(M<<20&4294967295|M>>>12),M=E+(L^V&(T^L))+O[5]+3593408605&4294967295,E=T+(M<<5&4294967295|M>>>27),M=V+(T^L&(E^T))+O[10]+38016083&4294967295,V=E+(M<<9&4294967295|M>>>23),M=L+(E^T&(V^E))+O[15]+3634488961&4294967295,L=V+(M<<14&4294967295|M>>>18),M=T+(V^E&(L^V))+O[4]+3889429448&4294967295,T=L+(M<<20&4294967295|M>>>12),M=E+(L^V&(T^L))+O[9]+568446438&4294967295,E=T+(M<<5&4294967295|M>>>27),M=V+(T^L&(E^T))+O[14]+3275163606&4294967295,V=E+(M<<9&4294967295|M>>>23),M=L+(E^T&(V^E))+O[3]+4107603335&4294967295,L=V+(M<<14&4294967295|M>>>18),M=T+(V^E&(L^V))+O[8]+1163531501&4294967295,T=L+(M<<20&4294967295|M>>>12),M=E+(L^V&(T^L))+O[13]+2850285829&4294967295,E=T+(M<<5&4294967295|M>>>27),M=V+(T^L&(E^T))+O[2]+4243563512&4294967295,V=E+(M<<9&4294967295|M>>>23),M=L+(E^T&(V^E))+O[7]+1735328473&4294967295,L=V+(M<<14&4294967295|M>>>18),M=T+(V^E&(L^V))+O[12]+2368359562&4294967295,T=L+(M<<20&4294967295|M>>>12),M=E+(T^L^V)+O[5]+4294588738&4294967295,E=T+(M<<4&4294967295|M>>>28),M=V+(E^T^L)+O[8]+2272392833&4294967295,V=E+(M<<11&4294967295|M>>>21),M=L+(V^E^T)+O[11]+1839030562&4294967295,L=V+(M<<16&4294967295|M>>>16),M=T+(L^V^E)+O[14]+4259657740&4294967295,T=L+(M<<23&4294967295|M>>>9),M=E+(T^L^V)+O[1]+2763975236&4294967295,E=T+(M<<4&4294967295|M>>>28),M=V+(E^T^L)+O[4]+1272893353&4294967295,V=E+(M<<11&4294967295|M>>>21),M=L+(V^E^T)+O[7]+4139469664&4294967295,L=V+(M<<16&4294967295|M>>>16),M=T+(L^V^E)+O[10]+3200236656&4294967295,T=L+(M<<23&4294967295|M>>>9),M=E+(T^L^V)+O[13]+681279174&4294967295,E=T+(M<<4&4294967295|M>>>28),M=V+(E^T^L)+O[0]+3936430074&4294967295,V=E+(M<<11&4294967295|M>>>21),M=L+(V^E^T)+O[3]+3572445317&4294967295,L=V+(M<<16&4294967295|M>>>16),M=T+(L^V^E)+O[6]+76029189&4294967295,T=L+(M<<23&4294967295|M>>>9),M=E+(T^L^V)+O[9]+3654602809&4294967295,E=T+(M<<4&4294967295|M>>>28),M=V+(E^T^L)+O[12]+3873151461&4294967295,V=E+(M<<11&4294967295|M>>>21),M=L+(V^E^T)+O[15]+530742520&4294967295,L=V+(M<<16&4294967295|M>>>16),M=T+(L^V^E)+O[2]+3299628645&4294967295,T=L+(M<<23&4294967295|M>>>9),M=E+(L^(T|~V))+O[0]+4096336452&4294967295,E=T+(M<<6&4294967295|M>>>26),M=V+(T^(E|~L))+O[7]+1126891415&4294967295,V=E+(M<<10&4294967295|M>>>22),M=L+(E^(V|~T))+O[14]+2878612391&4294967295,L=V+(M<<15&4294967295|M>>>17),M=T+(V^(L|~E))+O[5]+4237533241&4294967295,T=L+(M<<21&4294967295|M>>>11),M=E+(L^(T|~V))+O[12]+1700485571&4294967295,E=T+(M<<6&4294967295|M>>>26),M=V+(T^(E|~L))+O[3]+2399980690&4294967295,V=E+(M<<10&4294967295|M>>>22),M=L+(E^(V|~T))+O[10]+4293915773&4294967295,L=V+(M<<15&4294967295|M>>>17),M=T+(V^(L|~E))+O[1]+2240044497&4294967295,T=L+(M<<21&4294967295|M>>>11),M=E+(L^(T|~V))+O[8]+1873313359&4294967295,E=T+(M<<6&4294967295|M>>>26),M=V+(T^(E|~L))+O[15]+4264355552&4294967295,V=E+(M<<10&4294967295|M>>>22),M=L+(E^(V|~T))+O[6]+2734768916&4294967295,L=V+(M<<15&4294967295|M>>>17),M=T+(V^(L|~E))+O[13]+1309151649&4294967295,T=L+(M<<21&4294967295|M>>>11),M=E+(L^(T|~V))+O[4]+4149444226&4294967295,E=T+(M<<6&4294967295|M>>>26),M=V+(T^(E|~L))+O[11]+3174756917&4294967295,V=E+(M<<10&4294967295|M>>>22),M=L+(E^(V|~T))+O[2]+718787259&4294967295,L=V+(M<<15&4294967295|M>>>17),M=T+(V^(L|~E))+O[9]+3951481745&4294967295,_.g[0]=_.g[0]+E&4294967295,_.g[1]=_.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,_.g[2]=_.g[2]+L&4294967295,_.g[3]=_.g[3]+V&4294967295}n.prototype.u=function(_,E){E===void 0&&(E=_.length);for(var T=E-this.blockSize,O=this.B,L=this.h,V=0;V<E;){if(L==0)for(;V<=T;)i(this,_,V),V+=this.blockSize;if(typeof _=="string"){for(;V<E;)if(O[L++]=_.charCodeAt(V++),L==this.blockSize){i(this,O),L=0;break}}else for(;V<E;)if(O[L++]=_[V++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=E},n.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var E=1;E<_.length-8;++E)_[E]=0;var T=8*this.o;for(E=_.length-8;E<_.length;++E)_[E]=T&255,T/=256;for(this.u(_),_=Array(16),E=T=0;4>E;++E)for(var O=0;32>O;O+=8)_[T++]=this.g[E]>>>O&255;return _};function o(_,E){var T=a;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=E(_)}function s(_,E){this.h=E;for(var T=[],O=!0,L=_.length-1;0<=L;L--){var V=_[L]|0;O&&V==E||(T[L]=V,O=!1)}this.g=T}var a={};function l(_){return-128<=_&&128>_?o(_,function(E){return new s([E|0],0>E?-1:0)}):new s([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return d;if(0>_)return v(u(-_));for(var E=[],T=1,O=0;_>=T;O++)E[O]=_/T|0,T*=4294967296;return new s(E,0)}function c(_,E){if(_.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(_.charAt(0)=="-")return v(c(_.substring(1),E));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(E,8)),O=d,L=0;L<_.length;L+=8){var V=Math.min(8,_.length-L),M=parseInt(_.substring(L,L+V),E);8>V?(V=u(Math.pow(E,V)),O=O.j(V).add(u(M))):(O=O.j(T),O=O.add(u(M)))}return O}var d=l(0),h=l(1),p=l(16777216);r=s.prototype,r.m=function(){if(g(this))return-v(this).m();for(var _=0,E=1,T=0;T<this.g.length;T++){var O=this.i(T);_+=(0<=O?O:4294967296+O)*E,E*=4294967296}return _},r.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(f(this))return"0";if(g(this))return"-"+v(this).toString(_);for(var E=u(Math.pow(_,6)),T=this,O="";;){var L=S(T,E).g;T=y(T,L.j(E));var V=((0<T.g.length?T.g[0]:T.h)>>>0).toString(_);if(T=L,f(T))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},r.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function f(_){if(_.h!=0)return!1;for(var E=0;E<_.g.length;E++)if(_.g[E]!=0)return!1;return!0}function g(_){return _.h==-1}r.l=function(_){return _=y(this,_),g(_)?-1:f(_)?0:1};function v(_){for(var E=_.g.length,T=[],O=0;O<E;O++)T[O]=~_.g[O];return new s(T,~_.h).add(h)}r.abs=function(){return g(this)?v(this):this},r.add=function(_){for(var E=Math.max(this.g.length,_.g.length),T=[],O=0,L=0;L<=E;L++){var V=O+(this.i(L)&65535)+(_.i(L)&65535),M=(V>>>16)+(this.i(L)>>>16)+(_.i(L)>>>16);O=M>>>16,V&=65535,M&=65535,T[L]=M<<16|V}return new s(T,T[T.length-1]&-2147483648?-1:0)};function y(_,E){return _.add(v(E))}r.j=function(_){if(f(this)||f(_))return d;if(g(this))return g(_)?v(this).j(v(_)):v(v(this).j(_));if(g(_))return v(this.j(v(_)));if(0>this.l(p)&&0>_.l(p))return u(this.m()*_.m());for(var E=this.g.length+_.g.length,T=[],O=0;O<2*E;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<_.g.length;L++){var V=this.i(O)>>>16,M=this.i(O)&65535,N=_.i(L)>>>16,$=_.i(L)&65535;T[2*O+2*L]+=M*$,C(T,2*O+2*L),T[2*O+2*L+1]+=V*$,C(T,2*O+2*L+1),T[2*O+2*L+1]+=M*N,C(T,2*O+2*L+1),T[2*O+2*L+2]+=V*N,C(T,2*O+2*L+2)}for(O=0;O<E;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=E;O<2*E;O++)T[O]=0;return new s(T,0)};function C(_,E){for(;(_[E]&65535)!=_[E];)_[E+1]+=_[E]>>>16,_[E]&=65535,E++}function w(_,E){this.g=_,this.h=E}function S(_,E){if(f(E))throw Error("division by zero");if(f(_))return new w(d,d);if(g(_))return E=S(v(_),E),new w(v(E.g),v(E.h));if(g(E))return E=S(_,v(E)),new w(v(E.g),E.h);if(30<_.g.length){if(g(_)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var T=h,O=E;0>=O.l(_);)T=P(T),O=P(O);var L=F(T,1),V=F(O,1);for(O=F(O,2),T=F(T,2);!f(O);){var M=V.add(O);0>=M.l(_)&&(L=L.add(T),V=M),O=F(O,1),T=F(T,1)}return E=y(_,L.j(E)),new w(L,E)}for(L=d;0<=_.l(E);){for(T=Math.max(1,Math.floor(_.m()/E.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=u(T),M=V.j(E);g(M)||0<M.l(_);)T-=O,V=u(T),M=V.j(E);f(V)&&(V=h),L=L.add(V),_=y(_,M)}return new w(L,_)}r.A=function(_){return S(this,_).h},r.and=function(_){for(var E=Math.max(this.g.length,_.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)&_.i(O);return new s(T,this.h&_.h)},r.or=function(_){for(var E=Math.max(this.g.length,_.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)|_.i(O);return new s(T,this.h|_.h)},r.xor=function(_){for(var E=Math.max(this.g.length,_.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)^_.i(O);return new s(T,this.h^_.h)};function P(_){for(var E=_.g.length+1,T=[],O=0;O<E;O++)T[O]=_.i(O)<<1|_.i(O-1)>>>31;return new s(T,_.h)}function F(_,E){var T=E>>5;E%=32;for(var O=_.g.length-T,L=[],V=0;V<O;V++)L[V]=0<E?_.i(V+T)>>>E|_.i(V+T+1)<<32-E:_.i(V+T);return new s(L,_.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,tX=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,wh=s}).apply(typeof p2<"u"?p2:typeof self<"u"?self:typeof window<"u"?window:{});var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nX,Uv,rX,A_,OM,iX,oX,sX;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,R,I){return m==Array.prototype||m==Object.prototype||(m[R]=I.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof uE=="object"&&uE];for(var R=0;R<m.length;++R){var I=m[R];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=t(this);function i(m,R){if(R)e:{var I=n;m=m.split(".");for(var k=0;k<m.length-1;k++){var J=m[k];if(!(J in I))break e;I=I[J]}m=m[m.length-1],k=I[m],R=R(k),R!=k&&R!=null&&e(I,m,{configurable:!0,writable:!0,value:R})}}function o(m,R){m instanceof String&&(m+="");var I=0,k=!1,J={next:function(){if(!k&&I<m.length){var ie=I++;return{value:R(ie,m[ie]),done:!1}}return k=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(m){return m||function(){return o(this,function(R,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var R=typeof m;return R=R!="object"?R:m?Array.isArray(m)?"array":R:"null",R=="array"||R=="object"&&typeof m.length=="number"}function u(m){var R=typeof m;return R=="object"&&m!=null||R=="function"}function c(m,R,I){return m.call.apply(m.bind,arguments)}function d(m,R,I){if(!m)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,k),m.apply(R,J)}}return function(){return m.apply(R,arguments)}}function h(m,R,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(m,R){var I=Array.prototype.slice.call(arguments,1);return function(){var k=I.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function f(m,R){function I(){}I.prototype=R.prototype,m.aa=R.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(k,J,ie){for(var Oe=Array(arguments.length-2),Pn=2;Pn<arguments.length;Pn++)Oe[Pn-2]=arguments[Pn];return R.prototype[J].apply(k,Oe)}}function g(m){const R=m.length;if(0<R){const I=Array(R);for(let k=0;k<R;k++)I[k]=m[k];return I}return[]}function v(m,R){for(let I=1;I<arguments.length;I++){const k=arguments[I];if(l(k)){const J=m.length||0,ie=k.length||0;m.length=J+ie;for(let Oe=0;Oe<ie;Oe++)m[J+Oe]=k[Oe]}else m.push(k)}}class y{constructor(R,I){this.i=R,this.j=I,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(m){return/^[\s\xa0]*$/.test(m)}function w(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function S(m){return S[" "](m),m}S[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function F(m,R,I){for(const k in m)R.call(I,m[k],k,m)}function _(m,R){for(const I in m)R.call(void 0,m[I],I,m)}function E(m){const R={};for(const I in m)R[I]=m[I];return R}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(m,R){let I,k;for(let J=1;J<arguments.length;J++){k=arguments[J];for(I in k)m[I]=k[I];for(let ie=0;ie<T.length;ie++)I=T[ie],Object.prototype.hasOwnProperty.call(k,I)&&(m[I]=k[I])}}function L(m){var R=1;m=m.split(":");const I=[];for(;0<R&&m.length;)I.push(m.shift()),R--;return m.length&&I.push(m.join(":")),I}function V(m){a.setTimeout(()=>{throw m},0)}function M(){var m=j;let R=null;return m.g&&(R=m.g,m.g=m.g.next,m.g||(m.h=null),R.next=null),R}class N{constructor(){this.h=this.g=null}add(R,I){const k=$.get();k.set(R,I),this.h?this.h.next=k:this.g=k,this.h=k}}var $=new y(()=>new B,m=>m.reset());class B{constructor(){this.next=this.g=this.h=null}set(R,I){this.h=R,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let U,z=!1,j=new N,Q=()=>{const m=a.Promise.resolve(void 0);U=()=>{m.then(X)}};var X=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(I){V(I)}var R=$;R.j(m),100>R.h&&(R.h++,m.next=R.g,R.g=m)}z=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(m,R){this.type=m,this.g=this.target=R,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,R=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};a.addEventListener("test",I,R),a.removeEventListener("test",I,R)}catch{}return m}();function de(m,R){if(ce.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=R,R=m.relatedTarget){if(P){e:{try{S(R.nodeName);var J=!0;break e}catch{}J=!1}J||(R=null)}}else I=="mouseover"?R=m.fromElement:I=="mouseout"&&(R=m.toElement);this.relatedTarget=R,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&de.aa.h.call(this)}}f(de,ce);var Ee={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Ne(m,R,I,k,J){this.listener=m,this.proxy=null,this.src=R,this.type=I,this.capture=!!k,this.ha=J,this.key=++$e,this.da=this.fa=!1}function xe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function st(m){this.src=m,this.g={},this.h=0}st.prototype.add=function(m,R,I,k,J){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var Oe=_t(m,R,k,J);return-1<Oe?(R=m[Oe],I||(R.fa=!1)):(R=new Ne(R,this.src,ie,!!k,J),R.fa=I,m.push(R)),R};function Ue(m,R){var I=R.type;if(I in m.g){var k=m.g[I],J=Array.prototype.indexOf.call(k,R,void 0),ie;(ie=0<=J)&&Array.prototype.splice.call(k,J,1),ie&&(xe(R),m.g[I].length==0&&(delete m.g[I],m.h--))}}function _t(m,R,I,k){for(var J=0;J<m.length;++J){var ie=m[J];if(!ie.da&&ie.listener==R&&ie.capture==!!I&&ie.ha==k)return J}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Ct={};function Sn(m,R,I,k,J){if(Array.isArray(R)){for(var ie=0;ie<R.length;ie++)Sn(m,R[ie],I,k,J);return null}return I=Le(I),m&&m[Pe]?m.K(R,I,u(k)?!!k.capture:!1,J):qe(m,R,I,!1,k,J)}function qe(m,R,I,k,J,ie){if(!R)throw Error("Invalid event type");var Oe=u(J)?!!J.capture:!!J,Pn=nn(m);if(Pn||(m[Rt]=Pn=new st(m)),I=Pn.add(R,I,k,Oe,ie),I.proxy)return I;if(k=Ie(),I.proxy=k,k.src=m,k.listener=I,m.addEventListener)oe||(J=Oe),J===void 0&&(J=!1),m.addEventListener(R.toString(),k,J);else if(m.attachEvent)m.attachEvent(ni(R.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ie(){function m(I){return R.call(m.src,m.listener,I)}const R=jn;return m}function sn(m,R,I,k,J){if(Array.isArray(R))for(var ie=0;ie<R.length;ie++)sn(m,R[ie],I,k,J);else k=u(k)?!!k.capture:!!k,I=Le(I),m&&m[Pe]?(m=m.i,R=String(R).toString(),R in m.g&&(ie=m.g[R],I=_t(ie,I,k,J),-1<I&&(xe(ie[I]),Array.prototype.splice.call(ie,I,1),ie.length==0&&(delete m.g[R],m.h--)))):m&&(m=nn(m))&&(R=m.g[R.toString()],m=-1,R&&(m=_t(R,I,k,J)),(I=-1<m?R[m]:null)&&bt(I))}function bt(m){if(typeof m!="number"&&m&&!m.da){var R=m.src;if(R&&R[Pe])Ue(R.i,m);else{var I=m.type,k=m.proxy;R.removeEventListener?R.removeEventListener(I,k,m.capture):R.detachEvent?R.detachEvent(ni(I),k):R.addListener&&R.removeListener&&R.removeListener(k),(I=nn(R))?(Ue(I,m),I.h==0&&(I.src=null,R[Rt]=null)):xe(m)}}}function ni(m){return m in Ct?Ct[m]:Ct[m]="on"+m}function jn(m,R){if(m.da)m=!0;else{R=new de(R,this);var I=m.listener,k=m.ha||m.src;m.fa&&bt(m),m=I.call(k,R)}return m}function nn(m){return m=m[Rt],m instanceof st?m:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(m){return typeof m=="function"?m:(m[we]||(m[we]=function(R){return m.handleEvent(R)}),m[we])}function Je(){Z.call(this),this.i=new st(this),this.M=this,this.F=null}f(Je,Z),Je.prototype[Pe]=!0,Je.prototype.removeEventListener=function(m,R,I,k){sn(this,m,R,I,k)};function Ze(m,R){var I,k=m.F;if(k)for(I=[];k;k=k.F)I.push(k);if(m=m.M,k=R.type||R,typeof R=="string")R=new ce(R,m);else if(R instanceof ce)R.target=R.target||m;else{var J=R;R=new ce(k,m),O(R,J)}if(J=!0,I)for(var ie=I.length-1;0<=ie;ie--){var Oe=R.g=I[ie];J=It(Oe,k,!0,R)&&J}if(Oe=R.g=m,J=It(Oe,k,!0,R)&&J,J=It(Oe,k,!1,R)&&J,I)for(ie=0;ie<I.length;ie++)Oe=R.g=I[ie],J=It(Oe,k,!1,R)&&J}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var m=this.i,R;for(R in m.g){for(var I=m.g[R],k=0;k<I.length;k++)xe(I[k]);delete m.g[R],m.h--}}this.F=null},Je.prototype.K=function(m,R,I,k){return this.i.add(String(m),R,!1,I,k)},Je.prototype.L=function(m,R,I,k){return this.i.add(String(m),R,!0,I,k)};function It(m,R,I,k){if(R=m.i.g[String(R)],!R)return!0;R=R.concat();for(var J=!0,ie=0;ie<R.length;++ie){var Oe=R[ie];if(Oe&&!Oe.da&&Oe.capture==I){var Pn=Oe.listener,ii=Oe.ha||Oe.src;Oe.fa&&Ue(m.i,Oe),J=Pn.call(ii,k)!==!1&&J}}return J&&!k.defaultPrevented}function En(m,R,I){if(typeof m=="function")I&&(m=h(m,I));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(m,R||0)}function vt(m){m.g=En(()=>{m.g=null,m.i&&(m.i=!1,vt(m))},m.l);const R=m.h;m.h=null,m.m.apply(null,R)}class Lt extends Z{constructor(R,I){super(),this.m=R,this.l=I,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(m){Z.call(this),this.h=m,this.g={}}f(_n,Z);var mn=[];function cr(m){F(m.g,function(R,I){this.g.hasOwnProperty(I)&&bt(R)},m),m.g={}}_n.prototype.N=function(){_n.aa.N.call(this),cr(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=a.JSON.stringify,Pt=a.JSON.parse,Ot=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function kt(){}kt.prototype.h=null;function lt(m){return m.h||(m.h=m.i())}function an(){}var tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tn(){ce.call(this,"d")}f(Tn,ce);function Go(){ce.call(this,"c")}f(Go,ce);var ri={},Vp=null;function Xs(){return Vp=Vp||new Je}ri.La="serverreachability";function qn(m){ce.call(this,ri.La,m)}f(qn,ce);function Ma(m){const R=Xs();Ze(R,new qn(R))}ri.STAT_EVENT="statevent";function La(m,R){ce.call(this,ri.STAT_EVENT,m),this.stat=R}f(La,ce);function vn(m){const R=Xs();Ze(R,new La(R,m))}ri.Ma="timingevent";function Fd(m,R){ce.call(this,ri.Ma,m),this.size=R}f(Fd,ce);function Na(m,R){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},R)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Om(m,R,I,k,J,ie){m.info(function(){if(m.g)if(ie)for(var Oe="",Pn=ie.split("&"),ii=0;ii<Pn.length;ii++){var rn=Pn[ii].split("=");if(1<rn.length){var _i=rn[0];rn=rn[1];var bi=_i.split("_");Oe=2<=bi.length&&bi[1]=="type"?Oe+(_i+"="+rn+"&"):Oe+(_i+"=redacted&")}}else Oe=null;else Oe=ie;return"XMLHTTP REQ ("+k+") [attempt "+J+"]: "+R+`
`+I+`
`+Oe})}function Dm(m,R,I,k,J,ie,Oe){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+J+"]: "+R+`
`+I+`
`+ie+" "+Oe})}function Ga(m,R,I,k){m.info(function(){return"XMLHTTP TEXT ("+R+"): "+xm(m,I)+(k?" "+k:"")})}function Am(m,R){m.info(function(){return"TIMEOUT: "+R})}Es.prototype.info=function(){};function xm(m,R){if(!m.g)return R;if(!R)return null;try{var I=JSON.parse(R);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var k=I[m];if(!(2>k.length)){var J=k[1];if(Array.isArray(J)&&!(1>J.length)){var ie=J[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Oe=1;Oe<J.length;Oe++)J[Oe]=""}}}}return nr(I)}catch{return R}}var ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ln={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Er(){}f(Er,kt),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},Fr=new Er;function Va(m,R,I,k){this.j=m,this.i=R,this.l=I,this.R=k||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _S}function _S(){this.i=null,this.g="",this.h=!1}var bS={},Im={};function Fm(m,R,I){m.L=1,m.v=xS(Ul(R)),m.m=I,m.P=!0,RS(m,null)}function RS(m,R){m.F=Date.now(),Hp(m),m.A=Ul(m.v);var I=m.A,k=m.R;Array.isArray(k)||(k=[String(k)]),Uk(I.i,"t",k),m.C=0,I=m.j.J,m.h=new _S,m.g=u$(m.j,I?R:null,!m.m),0<m.O&&(m.M=new Lt(h(m.Y,m,m.g),m.O)),R=m.U,I=m.g,k=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(mn[0]=J.toString()),J=mn);for(var ie=0;ie<J.length;ie++){var Oe=Sn(I,J[ie],k||R.handleEvent,!1,R.h||R);if(!Oe)break;R.g[Oe.key]=Oe}R=m.H?E(m.H):{},m.m?(m.u||(m.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,R)):(m.u="GET",m.g.ea(m.A,m.u,null,R)),Ma(),Om(m.i,m.u,m.A,m.l,m.R,m.m)}Va.prototype.ca=function(m){m=m.target;const R=this.M;R&&zl(m)==3?R.j():this.Y(m)},Va.prototype.Y=function(m){try{if(m==this.g)e:{const bi=zl(this.g);var R=this.g.Ba();const Wp=this.g.Z();if(!(3>bi)&&(bi!=3||this.g&&(this.h.h||this.g.oa()||Jk(this.g)))){this.J||bi!=4||R==7||(R==8||0>=Wp?Ma(3):Ma(2)),Lm(this);var I=this.g.Z();this.X=I;t:if(Mm(this)){var k=Jk(this.g);m="";var J=k.length,ie=zl(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wl(this),Md(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(R=0;R<J;R++)this.h.h=!0,m+=this.h.i.decode(k[R],{stream:!(ie&&R==J-1)});k.length=0,this.h.g+=m,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=I==200,Dm(this.i,this.u,this.A,this.l,this.R,bi,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Pn,ii=this.g;if((Pn=ii.g?ii.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Pn)){var rn=Pn;break t}}rn=null}if(I=rn)Ga(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kp(this,I);else{this.o=!1,this.s=3,vn(12),Wl(this),Md(this);break e}}if(this.P){I=!0;let Js;for(;!this.J&&this.C<Oe.length;)if(Js=ux(this,Oe),Js==Im){bi==4&&(this.s=4,vn(14),I=!1),Ga(this.i,this.l,null,"[Incomplete Response]");break}else if(Js==bS){this.s=4,vn(15),Ga(this.i,this.l,Oe,"[Invalid Chunk]"),I=!1;break}else Ga(this.i,this.l,Js,null),kp(this,Js);if(Mm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bi!=4||Oe.length!=0||this.h.h||(this.s=1,vn(16),I=!1),this.o=this.o&&I,!I)Ga(this.i,this.l,Oe,"[Invalid Chunked Response]"),Wl(this),Md(this);else if(0<Oe.length&&!this.W){this.W=!0;var _i=this.j;_i.g==this&&_i.ba&&!_i.M&&(_i.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),mx(_i),_i.M=!0,vn(11))}}else Ga(this.i,this.l,Oe,null),kp(this,Oe);bi==4&&Wl(this),this.o&&!this.J&&(bi==4?o$(this.j,this):(this.o=!1,Hp(this)))}else Fce(this.g),I==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Wl(this),Md(this)}}}catch{}finally{}};function Mm(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function ux(m,R){var I=m.C,k=R.indexOf(`
`,I);return k==-1?Im:(I=Number(R.substring(I,k)),isNaN(I)?bS:(k+=1,k+I>R.length?Im:(R=R.slice(k,k+I),m.C=k+I,R)))}Va.prototype.cancel=function(){this.J=!0,Wl(this)};function Hp(m){m.S=Date.now()+m.I,TS(m,m.I)}function TS(m,R){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Na(h(m.ba,m),R)}function Lm(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Va.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Am(this.i,this.A),this.L!=2&&(Ma(),vn(17)),Wl(this),this.s=2,Md(this)):TS(this,this.S-m)};function Md(m){m.j.G==0||m.J||o$(m.j,m)}function Wl(m){Lm(m);var R=m.M;R&&typeof R.ma=="function"&&R.ma(),m.M=null,cr(m.U),m.g&&(R=m.g,m.g=null,R.abort(),R.ma())}function kp(m,R){try{var I=m.j;if(I.G!=0&&(I.g==m||dx(I.h,m))){if(!m.K&&dx(I.h,m)&&I.G==3){try{var k=I.Da.g.parse(R)}catch{k=null}if(Array.isArray(k)&&k.length==3){var J=k;if(J[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)GS(I),LS(I);else break e;gx(I),vn(18)}}else I.za=J[1],0<I.za-I.T&&37500>J[2]&&I.F&&I.v==0&&!I.C&&(I.C=Na(h(I.Za,I),6e3));if(1>=$p(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Nd(I,11)}else if((m.K||I.g==m)&&GS(I),!C(R))for(J=I.Da.g.parse(R),R=0;R<J.length;R++){let rn=J[R];if(I.T=rn[0],rn=rn[1],I.G==2)if(rn[0]=="c"){I.K=rn[1],I.ia=rn[2];const _i=rn[3];_i!=null&&(I.la=_i,I.j.info("VER="+I.la));const bi=rn[4];bi!=null&&(I.Aa=bi,I.j.info("SVER="+I.Aa));const Wp=rn[5];Wp!=null&&typeof Wp=="number"&&0<Wp&&(k=1.5*Wp,I.L=k,I.j.info("backChannelRequestTimeoutMs_="+k)),k=I;const Js=m.g;if(Js){const HS=Js.g?Js.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(HS){var ie=k.h;ie.g||HS.indexOf("spdy")==-1&&HS.indexOf("quic")==-1&&HS.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(hx(ie,ie.h),ie.h=null))}if(k.D){const vx=Js.g?Js.g.getResponseHeader("X-HTTP-Session-Id"):null;vx&&(k.ya=vx,Vn(k.I,k.D,vx))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),k=I;var Oe=m;if(k.qa=l$(k,k.J?k.ia:null,k.W),Oe.K){Gk(k.h,Oe);var Pn=Oe,ii=k.L;ii&&(Pn.I=ii),Pn.B&&(Lm(Pn),Hp(Pn)),k.g=Oe}else r$(k);0<I.i.length&&NS(I)}else rn[0]!="stop"&&rn[0]!="close"||Nd(I,7);else I.G==3&&(rn[0]=="stop"||rn[0]=="close"?rn[0]=="stop"?Nd(I,7):fx(I):rn[0]!="noop"&&I.l&&I.l.ta(rn),I.v=0)}}Ma(4)}catch{}}var cx=class{constructor(m,R){this.g=m,this.map=R}};function PS(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $p(m){return m.h?1:m.g?m.g.size:0}function dx(m,R){return m.h?m.h==R:m.g?m.g.has(R):!1}function hx(m,R){m.g?m.g.add(R):m.h=R}function Gk(m,R){m.h&&m.h==R?m.h=null:m.g&&m.g.has(R)&&m.g.delete(R)}PS.prototype.cancel=function(){if(this.i=Vk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Vk(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let R=m.i;for(const I of m.g.values())R=R.concat(I.D);return R}return g(m.i)}function yce(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var R=[],I=m.length,k=0;k<I;k++)R.push(m[k]);return R}R=[],I=0;for(k in m)R[I++]=m[k];return R}function Cce(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var R=[];m=m.length;for(var I=0;I<m;I++)R.push(I);return R}R=[],I=0;for(const k in m)R[I++]=k;return R}}}function Hk(m,R){if(m.forEach&&typeof m.forEach=="function")m.forEach(R,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,R,void 0);else for(var I=Cce(m),k=yce(m),J=k.length,ie=0;ie<J;ie++)R.call(void 0,k[ie],I&&I[ie],m)}var kk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wce(m,R){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var k=m[I].indexOf("="),J=null;if(0<=k){var ie=m[I].substring(0,k);J=m[I].substring(k+1)}else ie=m[I];R(ie,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ld(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ld){this.h=m.h,DS(this,m.j),this.o=m.o,this.g=m.g,AS(this,m.s),this.l=m.l;var R=m.i,I=new Vm;I.i=R.i,R.g&&(I.g=new Map(R.g),I.h=R.h),$k(this,I),this.m=m.m}else m&&(R=String(m).match(kk))?(this.h=!1,DS(this,R[1]||"",!0),this.o=Nm(R[2]||""),this.g=Nm(R[3]||"",!0),AS(this,R[4]),this.l=Nm(R[5]||"",!0),$k(this,R[6]||"",!0),this.m=Nm(R[7]||"")):(this.h=!1,this.i=new Vm(null,this.h))}Ld.prototype.toString=function(){var m=[],R=this.j;R&&m.push(Gm(R,Bk,!0),":");var I=this.g;return(I||R=="file")&&(m.push("//"),(R=this.o)&&m.push(Gm(R,Bk,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Gm(I,I.charAt(0)=="/"?_ce:Ece,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Gm(I,Rce)),m.join("")};function Ul(m){return new Ld(m)}function DS(m,R,I){m.j=I?Nm(R,!0):R,m.j&&(m.j=m.j.replace(/:$/,""))}function AS(m,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);m.s=R}else m.s=null}function $k(m,R,I){R instanceof Vm?(m.i=R,Tce(m.i,m.h)):(I||(R=Gm(R,bce)),m.i=new Vm(R,m.h))}function Vn(m,R,I){m.i.set(R,I)}function xS(m){return Vn(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Nm(m,R){return m?R?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Gm(m,R,I){return typeof m=="string"?(m=encodeURI(m).replace(R,Sce),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Sce(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Bk=/[#\/\?@]/g,Ece=/[#\?:]/g,_ce=/[#\?]/g,bce=/[#\?@]/g,Rce=/#/g;function Vm(m,R){this.h=this.g=null,this.i=m||null,this.j=!!R}function Qu(m){m.g||(m.g=new Map,m.h=0,m.i&&wce(m.i,function(R,I){m.add(decodeURIComponent(R.replace(/\+/g," ")),I)}))}r=Vm.prototype,r.add=function(m,R){Qu(this),this.i=null,m=Bp(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(R),this.h+=1,this};function jk(m,R){Qu(m),R=Bp(m,R),m.g.has(R)&&(m.i=null,m.h-=m.g.get(R).length,m.g.delete(R))}function Wk(m,R){return Qu(m),R=Bp(m,R),m.g.has(R)}r.forEach=function(m,R){Qu(this),this.g.forEach(function(I,k){I.forEach(function(J){m.call(R,J,k,this)},this)},this)},r.na=function(){Qu(this);const m=Array.from(this.g.values()),R=Array.from(this.g.keys()),I=[];for(let k=0;k<R.length;k++){const J=m[k];for(let ie=0;ie<J.length;ie++)I.push(R[k])}return I},r.V=function(m){Qu(this);let R=[];if(typeof m=="string")Wk(this,m)&&(R=R.concat(this.g.get(Bp(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)R=R.concat(m[I])}return R},r.set=function(m,R){return Qu(this),this.i=null,m=Bp(this,m),Wk(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[R]),this.h+=1,this},r.get=function(m,R){return m?(m=this.V(m),0<m.length?String(m[0]):R):R};function Uk(m,R,I){jk(m,R),0<I.length&&(m.i=null,m.g.set(Bp(m,R),g(I)),m.h+=I.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],R=Array.from(this.g.keys());for(var I=0;I<R.length;I++){var k=R[I];const ie=encodeURIComponent(String(k)),Oe=this.V(k);for(k=0;k<Oe.length;k++){var J=ie;Oe[k]!==""&&(J+="="+encodeURIComponent(String(Oe[k]))),m.push(J)}}return this.i=m.join("&")};function Bp(m,R){return R=String(R),m.j&&(R=R.toLowerCase()),R}function Tce(m,R){R&&!m.j&&(Qu(m),m.i=null,m.g.forEach(function(I,k){var J=k.toLowerCase();k!=J&&(jk(this,k),Uk(this,J,I))},m)),m.j=R}function Pce(m,R){const I=new Es;if(a.Image){const k=new Image;k.onload=p(Xu,I,"TestLoadImage: loaded",!0,R,k),k.onerror=p(Xu,I,"TestLoadImage: error",!1,R,k),k.onabort=p(Xu,I,"TestLoadImage: abort",!1,R,k),k.ontimeout=p(Xu,I,"TestLoadImage: timeout",!1,R,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else R(!1)}function Oce(m,R){const I=new Es,k=new AbortController,J=setTimeout(()=>{k.abort(),Xu(I,"TestPingServer: timeout",!1,R)},1e4);fetch(m,{signal:k.signal}).then(ie=>{clearTimeout(J),ie.ok?Xu(I,"TestPingServer: ok",!0,R):Xu(I,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(J),Xu(I,"TestPingServer: error",!1,R)})}function Xu(m,R,I,k,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),k(I)}catch{}}function Dce(){this.g=new Ot}function Ace(m,R,I){const k=I||"";try{Hk(m,function(J,ie){let Oe=J;u(J)&&(Oe=nr(J)),R.push(k+ie+"="+encodeURIComponent(Oe))})}catch(J){throw R.push(k+"type="+encodeURIComponent("_badmap")),J}}function IS(m){this.l=m.Ub||null,this.j=m.eb||!1}f(IS,kt),IS.prototype.g=function(){return new FS(this.l,this.j)},IS.prototype.i=function(m){return function(){return m}}({});function FS(m,R){Je.call(this),this.D=m,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}f(FS,Je),r=FS.prototype,r.open=function(m,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=R,this.readyState=1,km(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(R.body=m),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hm(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,km(this)),this.g&&(this.readyState=3,km(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zk(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zk(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var R=m.value?m.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!m.done}))&&(this.response=this.responseText+=R)}m.done?Hm(this):km(this),this.readyState==3&&zk(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,Hm(this))},r.Qa=function(m){this.g&&(this.response=m,Hm(this))},r.ga=function(){this.g&&Hm(this)};function Hm(m){m.readyState=4,m.l=null,m.j=null,m.v=null,km(m)}r.setRequestHeader=function(m,R){this.u.append(m,R)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],R=this.h.entries();for(var I=R.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=R.next();return m.join(`\r
`)};function km(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(FS.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Kk(m){let R="";return F(m,function(I,k){R+=k,R+=":",R+=I,R+=`\r
`}),R}function px(m,R,I){e:{for(k in I){var k=!1;break e}k=!0}k||(I=Kk(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):Vn(m,R,I))}function rr(m){Je.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}f(rr,Je);var xce=/^https?$/i,Ice=["POST","PUT"];r=rr.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,R,I,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);R=R?R.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?lt(this.o):lt(Fr),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(m),!0),this.B=!1}catch(ie){Yk(this,ie);return}if(m=I||"",I=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var J in k)I.set(J,k[J]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ie of k.keys())I.set(ie,k.get(ie));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(I.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ice,R,void 0))||k||J||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Oe]of I)this.g.setRequestHeader(ie,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xk(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){Yk(this,ie)}};function Yk(m,R){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=R,m.m=5,qk(m),MS(m)}function qk(m){m.A||(m.A=!0,Ze(m,"complete"),Ze(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ze(this,"complete"),Ze(this,"abort"),MS(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),MS(this,!0)),rr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qk(this):this.bb())},r.bb=function(){Qk(this)};function Qk(m){if(m.h&&typeof s<"u"&&(!m.v[1]||zl(m)!=4||m.Z()!=2)){if(m.u&&zl(m)==4)En(m.Ea,0,m);else if(Ze(m,"readystatechange"),zl(m)==4){m.h=!1;try{const Oe=m.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var I;if(!(I=R)){var k;if(k=Oe===0){var J=String(m.D).match(kk)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),k=!xce.test(J?J.toLowerCase():"")}I=k}if(I)Ze(m,"complete"),Ze(m,"success");else{m.m=6;try{var ie=2<zl(m)?m.g.statusText:""}catch{ie=""}m.l=ie+" ["+m.Z()+"]",qk(m)}}finally{MS(m)}}}}function MS(m,R){if(m.g){Xk(m);const I=m.g,k=m.v[0]?()=>{}:null;m.g=null,m.v=null,R||Ze(m,"ready");try{I.onreadystatechange=k}catch{}}}function Xk(m){m.I&&(a.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function zl(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<zl(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var R=this.g.responseText;return m&&R.indexOf(m)==0&&(R=R.substring(m.length)),Pt(R)}};function Jk(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Fce(m){const R={};m=(m.g&&2<=zl(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(C(m[k]))continue;var I=L(m[k]);const J=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ie=R[J]||[];R[J]=ie,ie.push(I)}_(R,function(k){return k.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $m(m,R,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||R}function Zk(m){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$m("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$m("baseRetryDelayMs",5e3,m),this.cb=$m("retryDelaySeedMs",1e4,m),this.Wa=$m("forwardChannelMaxRetries",2,m),this.wa=$m("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new PS(m&&m.concurrentRequestLimit),this.Da=new Dce,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Zk.prototype,r.la=8,r.G=1,r.connect=function(m,R,I,k){vn(0),this.W=m,this.H=R||{},I&&k!==void 0&&(this.H.OSID=I,this.H.OAID=k),this.F=this.X,this.I=l$(this,null,this.W),NS(this)};function fx(m){if(e$(m),m.G==3){var R=m.U++,I=Ul(m.I);if(Vn(I,"SID",m.K),Vn(I,"RID",R),Vn(I,"TYPE","terminate"),Bm(m,I),R=new Va(m,m.j,R),R.L=2,R.v=xS(Ul(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=R.v,I=!0),I||(R.g=u$(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Hp(R)}a$(m)}function LS(m){m.g&&(mx(m),m.g.cancel(),m.g=null)}function e$(m){LS(m),m.u&&(a.clearTimeout(m.u),m.u=null),GS(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function NS(m){if(!OS(m.h)&&!m.s){m.s=!0;var R=m.Ga;U||Q(),z||(U(),z=!0),j.add(R,m),m.B=0}}function Mce(m,R){return $p(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=R.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Na(h(m.Ga,m,R),s$(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new Va(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=E(ie),O(ie,this.S)):ie=this.S),this.m!==null||this.O||(J.H=ie,ie=null),this.P)e:{for(var R=0,I=0;I<this.i.length;I++){t:{var k=this.i[I];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(R+=k,4096<R){R=I;break e}if(R===4096||I===this.i.length-1){R=I+1;break e}}R=1e3}else R=1e3;R=n$(this,J,R),I=Ul(this.I),Vn(I,"RID",m),Vn(I,"CVER",22),this.D&&Vn(I,"X-HTTP-Session-Id",this.D),Bm(this,I),ie&&(this.O?R="headers="+encodeURIComponent(String(Kk(ie)))+"&"+R:this.m&&px(I,this.m,ie)),hx(this.h,J),this.Ua&&Vn(I,"TYPE","init"),this.P?(Vn(I,"$req",R),Vn(I,"SID","null"),J.T=!0,Fm(J,I,null)):Fm(J,I,R),this.G=2}}else this.G==3&&(m?t$(this,m):this.i.length==0||OS(this.h)||t$(this))};function t$(m,R){var I;R?I=R.l:I=m.U++;const k=Ul(m.I);Vn(k,"SID",m.K),Vn(k,"RID",I),Vn(k,"AID",m.T),Bm(m,k),m.m&&m.o&&px(k,m.m,m.o),I=new Va(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),R&&(m.i=R.D.concat(m.i)),R=n$(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),hx(m.h,I),Fm(I,k,R)}function Bm(m,R){m.H&&F(m.H,function(I,k){Vn(R,k,I)}),m.l&&Hk({},function(I,k){Vn(R,k,I)})}function n$(m,R,I){I=Math.min(m.i.length,I);var k=m.l?h(m.l.Na,m.l,m):null;e:{var J=m.i;let ie=-1;for(;;){const Oe=["count="+I];ie==-1?0<I?(ie=J[0].g,Oe.push("ofs="+ie)):ie=0:Oe.push("ofs="+ie);let Pn=!0;for(let ii=0;ii<I;ii++){let rn=J[ii].g;const _i=J[ii].map;if(rn-=ie,0>rn)ie=Math.max(0,J[ii].g-100),Pn=!1;else try{Ace(_i,Oe,"req"+rn+"_")}catch{k&&k(_i)}}if(Pn){k=Oe.join("&");break e}}}return m=m.i.splice(0,I),R.D=m,k}function r$(m){if(!m.g&&!m.u){m.Y=1;var R=m.Fa;U||Q(),z||(U(),z=!0),j.add(R,m),m.v=0}}function gx(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Na(h(m.Fa,m),s$(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,i$(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Na(h(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),LS(this),i$(this))};function mx(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function i$(m){m.g=new Va(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var R=Ul(m.qa);Vn(R,"RID","rpc"),Vn(R,"SID",m.K),Vn(R,"AID",m.T),Vn(R,"CI",m.F?"0":"1"),!m.F&&m.ja&&Vn(R,"TO",m.ja),Vn(R,"TYPE","xmlhttp"),Bm(m,R),m.m&&m.o&&px(R,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=xS(Ul(R)),I.m=null,I.P=!0,RS(I,m)}r.Za=function(){this.C!=null&&(this.C=null,LS(this),gx(this),vn(19))};function GS(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function o$(m,R){var I=null;if(m.g==R){GS(m),mx(m),m.g=null;var k=2}else if(dx(m.h,R))I=R.D,Gk(m.h,R),k=1;else return;if(m.G!=0){if(R.o)if(k==1){I=R.m?R.m.length:0,R=Date.now()-R.F;var J=m.B;k=Xs(),Ze(k,new Fd(k,I)),NS(m)}else r$(m);else if(J=R.s,J==3||J==0&&0<R.X||!(k==1&&Mce(m,R)||k==2&&gx(m)))switch(I&&0<I.length&&(R=m.h,R.i=R.i.concat(I)),J){case 1:Nd(m,5);break;case 4:Nd(m,10);break;case 3:Nd(m,6);break;default:Nd(m,2)}}}function s$(m,R){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*R}function Nd(m,R){if(m.j.info("Error code "+R),R==2){var I=h(m.fb,m),k=m.Xa;const J=!k;k=new Ld(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||DS(k,"https"),xS(k),J?Pce(k.toString(),I):Oce(k.toString(),I)}else vn(2);m.G=0,m.l&&m.l.sa(R),a$(m),e$(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function a$(m){if(m.G=0,m.ka=[],m.l){const R=Vk(m.h);(R.length!=0||m.i.length!=0)&&(v(m.ka,R),v(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function l$(m,R,I){var k=I instanceof Ld?Ul(I):new Ld(I);if(k.g!="")R&&(k.g=R+"."+k.g),AS(k,k.s);else{var J=a.location;k=J.protocol,R=R?R+"."+J.hostname:J.hostname,J=+J.port;var ie=new Ld(null);k&&DS(ie,k),R&&(ie.g=R),J&&AS(ie,J),I&&(ie.l=I),k=ie}return I=m.D,R=m.ya,I&&R&&Vn(k,I,R),Vn(k,"VER",m.la),Bm(m,k),k}function u$(m,R,I){if(R&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=m.Ca&&!m.pa?new rr(new IS({eb:I})):new rr(m.pa),R.Ha(m.J),R}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function c$(){}r=c$.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function VS(){}VS.prototype.g=function(m,R){return new Vo(m,R)};function Vo(m,R){Je.call(this),this.g=new Zk(R),this.l=m,this.h=R&&R.messageUrlParams||null,m=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(m?m["X-WebChannel-Content-Type"]=R.messageContentType:m={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(m?m["X-WebChannel-Client-Profile"]=R.va:m={"X-WebChannel-Client-Profile":R.va}),this.g.S=m,(m=R&&R.Sb)&&!C(m)&&(this.g.m=m),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!C(R)&&(this.g.D=R,m=this.h,m!==null&&R in m&&(m=this.h,R in m&&delete m[R])),this.j=new jp(this)}f(Vo,Je),Vo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vo.prototype.close=function(){fx(this.g)},Vo.prototype.o=function(m){var R=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=nr(m),m=I);R.i.push(new cx(R.Ya++,m)),R.G==3&&NS(R)},Vo.prototype.N=function(){this.g.l=null,delete this.j,fx(this.g),delete this.g,Vo.aa.N.call(this)};function d$(m){Tn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var R=m.__sm__;if(R){e:{for(const I in R){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,R=R!==null&&m in R?R[m]:void 0),this.data=R}else this.data=m}f(d$,Tn);function h$(){Go.call(this),this.status=1}f(h$,Go);function jp(m){this.g=m}f(jp,c$),jp.prototype.ua=function(){Ze(this.g,"a")},jp.prototype.ta=function(m){Ze(this.g,new d$(m))},jp.prototype.sa=function(m){Ze(this.g,new h$)},jp.prototype.ra=function(){Ze(this.g,"b")},VS.prototype.createWebChannel=VS.prototype.g,Vo.prototype.send=Vo.prototype.o,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,sX=function(){return new VS},oX=function(){return Xs()},iX=ri,OM={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,A_=ze,ln.COMPLETE="complete",rX=ln,an.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",Je.prototype.listen=Je.prototype.K,Uv=an,rr.prototype.listenOnce=rr.prototype.L,rr.prototype.getLastError=rr.prototype.Ka,rr.prototype.getLastErrorCode=rr.prototype.Ba,rr.prototype.getStatus=rr.prototype.Z,rr.prototype.getResponseJson=rr.prototype.Oa,rr.prototype.getResponseText=rr.prototype.oa,rr.prototype.send=rr.prototype.ea,rr.prototype.setWithCredentials=rr.prototype.Ha,nX=rr}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});const f2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new I0("@firebase/firestore");function ev(){return Nh.logLevel}function Ye(r,...e){if(Nh.logLevel<=Qt.DEBUG){const t=e.map(N0);Nh.debug(`Firestore (${Qg}): ${r}`,...t)}}function Cu(r,...e){if(Nh.logLevel<=Qt.ERROR){const t=e.map(N0);Nh.error(`Firestore (${Qg}): ${r}`,...t)}}function ag(r,...e){if(Nh.logLevel<=Qt.WARN){const t=e.map(N0);Nh.warn(`Firestore (${Qg}): ${r}`,...t)}}function N0(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const e=`FIRESTORE (${Qg}) INTERNAL ASSERTION FAILED: `+r;throw Cu(e),new Error(e)}function Cn(r,e){r||yt()}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Mu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cIe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class dIe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class hIe{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Cn(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve();let o=new du;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new du,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new du)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Cn(typeof n.accessToken=="string"),new aX(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cn(e===null||typeof e=="string"),new Ii(e)}}class pIe{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fIe{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new pIe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gIe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mIe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Cn(this.o===void 0);const n=o=>{o.error!=null&&Ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{Ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Cn(typeof t.token=="string"),this.R=t.token,new gIe(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vIe(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=vIe(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%e.length))}return n}}function on(r,e){return r<e?-1:r>e?1:0}function lg(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Br(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?on(this.nanoseconds,e.nanoseconds):on(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Br(0,0))}static max(){return new St(new Br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t,n){t===void 0?t=0:t>e.length&&yt(),n===void 0?n=e.length-t:n>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return My.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof My?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bn extends My{construct(e,t,n){return new Bn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const yIe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ci extends My{construct(e,t,n){return new ci(e,t,n)}static isValidIdentifier(e){return yIe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ci(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new ke(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ke(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ke(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(n+=a,i++):(o(),i++)}if(o(),s)throw new ke(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ci(t)}static emptyPath(){return new ci([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Bn.fromString(e))}static fromName(e){return new ot(Bn.fromString(e).popFirst(5))}static empty(){return new ot(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Bn(e.slice()))}}function CIe(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=St.fromTimestamp(n===1e9?new Br(t+1,0):new Br(t,n));return new ed(i,ot.empty(),e)}function wIe(r){return new ed(r.readTime,r.key,-1)}class ed{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ed(St.min(),ot.empty(),-1)}static max(){return new ed(St.max(),ot.empty(),-1)}}function SIe(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ot.comparator(r.documentKey,e.documentKey),t!==0?t:on(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EIe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _Ie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(r){if(r.code!==pe.FAILED_PRECONDITION||r.message!==EIe)throw r;Ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):me.reject(t)}static resolve(e){return new me((t,n)=>{t(e)})}static reject(e){return new me((t,n)=>{n(e)})}static waitFor(e){return new me((t,n)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>n(l))}),s=!0,o===i&&t()})}static or(e){let t=me.resolve(!1);for(const n of e)t=t.next(i=>i?me.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new me((n,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;t(e[u]).next(c=>{s[u]=c,++a,a===o&&n(s)},c=>i(c))}})}static doWhile(e,t){return new me((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function bIe(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ZC(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}G0.oe=-1;function jO(r){return r==null}function sT(r){return r===0&&1/r==-1/0}function RIe(r){return typeof r=="number"&&Number.isInteger(r)&&!sT(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pp(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function uX(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cE(this.root,e,this.comparator,!1)}getReverseIterator(){return new cE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cE(this.root,e,this.comparator,!0)}}class cE{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??ai.RED,this.left=i??ai.EMPTY,this.right=o??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new ai(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ai.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,t,n,i,o){return this}insert(e,t,n){return new ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m2(this.data.getIterator())}getIteratorFrom(e){return new m2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class m2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.fields=e,e.sort(ci.comparator)}static empty(){return new os([])}unionWith(e){let t=new mi(ci.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lg(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cX("Invalid base64 string: "+o):o}}(e);return new vi(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return on(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const TIe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function td(r){if(Cn(!!r),typeof r=="string"){let e=0;const t=TIe.exec(r);if(Cn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:dr(r.seconds),nanos:dr(r.nanos)}}function dr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gh(r){return typeof r=="string"?vi.fromBase64String(r):vi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function H0(r){const e=r.mapValue.fields.__previous_value__;return V0(e)?H0(e):e}function Ly(r){const e=td(r.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PIe{constructor(e,t,n,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ny{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ny("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ny&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vh(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?V0(r)?4:DIe(r)?9007199254740991:OIe(r)?10:11:yt()}function Pl(r,e){if(r===e)return!0;const t=Vh(r);if(t!==Vh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ly(r).isEqual(Ly(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=td(i.timestampValue),a=td(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Gh(i.bytesValue).isEqual(Gh(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return dr(i.geoPointValue.latitude)===dr(o.geoPointValue.latitude)&&dr(i.geoPointValue.longitude)===dr(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return dr(i.integerValue)===dr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=dr(i.doubleValue),a=dr(o.doubleValue);return s===a?sT(s)===sT(a):isNaN(s)&&isNaN(a)}return!1}(r,e);case 9:return lg(r.arrayValue.values||[],e.arrayValue.values||[],Pl);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(g2(s)!==g2(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Pl(s[l],a[l])))return!1;return!0}(r,e);default:return yt()}}function Gy(r,e){return(r.values||[]).find(t=>Pl(t,e))!==void 0}function ug(r,e){if(r===e)return 0;const t=Vh(r),n=Vh(e);if(t!==n)return on(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return on(r.booleanValue,e.booleanValue);case 2:return function(o,s){const a=dr(o.integerValue||o.doubleValue),l=dr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(r,e);case 3:return v2(r.timestampValue,e.timestampValue);case 4:return v2(Ly(r),Ly(e));case 5:return on(r.stringValue,e.stringValue);case 6:return function(o,s){const a=Gh(o),l=Gh(s);return a.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=on(a[u],l[u]);if(c!==0)return c}return on(a.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,s){const a=on(dr(o.latitude),dr(s.latitude));return a!==0?a:on(dr(o.longitude),dr(s.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return y2(r.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,f=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=on(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:y2(p,f)}(r.mapValue,e.mapValue);case 11:return function(o,s){if(o===dE.mapValue&&s===dE.mapValue)return 0;if(o===dE.mapValue)return 1;if(s===dE.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=on(l[d],c[d]);if(h!==0)return h;const p=ug(a[l[d]],u[c[d]]);if(p!==0)return p}return on(l.length,c.length)}(r.mapValue,e.mapValue);default:throw yt()}}function v2(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return on(r,e);const t=td(r),n=td(e),i=on(t.seconds,n.seconds);return i!==0?i:on(t.nanos,n.nanos)}function y2(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=ug(t[i],n[i]);if(o)return o}return on(t.length,n.length)}function cg(r){return DM(r)}function DM(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=td(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Gh(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return ot.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=DM(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of n)o?o=!1:i+=",",i+=`${s}:${DM(t.fields[s])}`;return i+"}"}(r.mapValue):yt()}function C2(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function AM(r){return!!r&&"integerValue"in r}function k0(r){return!!r&&"arrayValue"in r}function w2(r){return!!r&&"nullValue"in r}function S2(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function x_(r){return!!r&&"mapValue"in r}function OIe(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function gy(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pp(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=gy(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gy(r.arrayValue.values[t]);return e}return Object.assign({},r)}function DIe(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.value=e}static empty(){return new Co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!x_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gy(t)}setAll(e){let t=ci.emptyPath(),n={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,n,i),n={},i=[],t=a.popLast()}s?n[a.lastSegment()]=gy(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());x_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];x_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){pp(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new Co(gy(this.value))}}function dX(r){const e=[];return pp(r.fields,(t,n)=>{const i=new ci([t]);if(x_(n)){const o=dX(n.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new os(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,n,i,o,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ni(e,0,St.min(),St.min(),St.min(),Co.empty(),0)}static newFoundDocument(e,t,n,i){return new Ni(e,1,t,St.min(),n,i,0)}static newNoDocument(e,t){return new Ni(e,2,t,St.min(),St.min(),Co.empty(),0)}static newUnknownDocument(e,t){return new Ni(e,3,t,St.min(),St.min(),Co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.position=e,this.inclusive=t}}function E2(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],s=r.position[i];if(o.field.isKeyField()?n=ot.comparator(ot.fromName(s.referenceValue),t.key):n=ug(s,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function _2(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Pl(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t="asc"){this.field=e,this.dir=t}}function AIe(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{}class Ar extends hX{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new IIe(e,t,n):t==="array-contains"?new LIe(e,n):t==="in"?new NIe(e,n):t==="not-in"?new GIe(e,n):t==="array-contains-any"?new VIe(e,n):new Ar(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new FIe(e,n):new MIe(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ug(t,this.value)):t!==null&&Vh(this.value)===Vh(t)&&this.matchesComparison(ug(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ea extends hX{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ea(e,t)}matches(e){return pX(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pX(r){return r.op==="and"}function fX(r){return xIe(r)&&pX(r)}function xIe(r){for(const e of r.filters)if(e instanceof Ea)return!1;return!0}function xM(r){if(r instanceof Ar)return r.field.canonicalString()+r.op.toString()+cg(r.value);if(fX(r))return r.filters.map(e=>xM(e)).join(",");{const e=r.filters.map(t=>xM(t)).join(",");return`${r.op}(${e})`}}function gX(r,e){return r instanceof Ar?function(n,i){return i instanceof Ar&&n.op===i.op&&n.field.isEqual(i.field)&&Pl(n.value,i.value)}(r,e):r instanceof Ea?function(n,i){return i instanceof Ea&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,s,a)=>o&&gX(s,i.filters[a]),!0):!1}(r,e):void yt()}function mX(r){return r instanceof Ar?function(t){return`${t.field.canonicalString()} ${t.op} ${cg(t.value)}`}(r):r instanceof Ea?function(t){return t.op.toString()+" {"+t.getFilters().map(mX).join(" ,")+"}"}(r):"Filter"}class IIe extends Ar{constructor(e,t,n){super(e,t,n),this.key=ot.fromName(n.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class FIe extends Ar{constructor(e,t){super(e,"in",t),this.keys=vX("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MIe extends Ar{constructor(e,t){super(e,"not-in",t),this.keys=vX("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vX(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>ot.fromName(n.referenceValue))}class LIe extends Ar{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return k0(t)&&Gy(t.arrayValue,this.value)}}class NIe extends Ar{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gy(this.value.arrayValue,t)}}class GIe extends Ar{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Gy(this.value.arrayValue,t)}}class VIe extends Ar{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!k0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Gy(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HIe{constructor(e,t=null,n=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function b2(r,e=null,t=[],n=[],i=null,o=null,s=null){return new HIe(r,e,t,n,i,o,s)}function $0(r){const e=Et(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>xM(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),jO(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>cg(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>cg(n)).join(",")),e.ue=t}return e.ue}function B0(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!AIe(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gX(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_2(r.startAt,e.startAt)&&_2(r.endAt,e.endAt)}function IM(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t=null,n=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kIe(r,e,t,n,i,o,s,a){return new Xg(r,e,t,n,i,o,s,a)}function WO(r){return new Xg(r)}function R2(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yX(r){return r.collectionGroup!==null}function my(r){const e=Et(r);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mi(ci.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Vy(o,n))}),t.has(ci.keyField().canonicalString())||e.ce.push(new Vy(ci.keyField(),n))}return e.ce}function ml(r){const e=Et(r);return e.le||(e.le=$Ie(e,my(r))),e.le}function $Ie(r,e){if(r.limitType==="F")return b2(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Vy(i.field,o)});const t=r.endAt?new aT(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new aT(r.startAt.position,r.startAt.inclusive):null;return b2(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function FM(r,e){const t=r.filters.concat([e]);return new Xg(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function lT(r,e,t){return new Xg(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function UO(r,e){return B0(ml(r),ml(e))&&r.limitType===e.limitType}function CX(r){return`${$0(ml(r))}|lt:${r.limitType}`}function hf(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>mX(i)).join(", ")}]`),jO(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>cg(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>cg(i)).join(",")),`Target(${n})`}(ml(r))}; limitType=${r.limitType})`}function zO(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):ot.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of my(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(s,a,l){const u=E2(s,a,l);return s.inclusive?u<=0:u<0}(n.startAt,my(n),i)||n.endAt&&!function(s,a,l){const u=E2(s,a,l);return s.inclusive?u>=0:u>0}(n.endAt,my(n),i))}(r,e)}function BIe(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wX(r){return(e,t)=>{let n=!1;for(const i of my(r)){const o=jIe(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function jIe(r,e,t){const n=r.field.isKeyField()?ot.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ug(l,u):yt()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pp(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return uX(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIe=new er(ot.comparator);function wu(){return WIe}const SX=new er(ot.comparator);function zv(...r){let e=SX;for(const t of r)e=e.insert(t.key,t);return e}function EX(r){let e=SX;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function ah(){return vy()}function _X(){return vy()}function vy(){return new Jg(r=>r.toString(),(r,e)=>r.isEqual(e))}const UIe=new er(ot.comparator),zIe=new mi(ot.comparator);function Wt(...r){let e=zIe;for(const t of r)e=e.add(t);return e}const KIe=new mi(on);function YIe(){return KIe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sT(e)?"-0":e}}function bX(r){return{integerValue:""+r}}function qIe(r,e){return RIe(e)?bX(e):j0(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this._=void 0}}function QIe(r,e,t){return r instanceof Hy?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&V0(o)&&(o=H0(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):r instanceof ky?TX(r,e):r instanceof $y?PX(r,e):function(i,o){const s=RX(i,o),a=T2(s)+T2(i.Pe);return AM(s)&&AM(i.Pe)?bX(a):j0(i.serializer,a)}(r,e)}function XIe(r,e,t){return r instanceof ky?TX(r,e):r instanceof $y?PX(r,e):t}function RX(r,e){return r instanceof uT?function(n){return AM(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Hy extends KO{}class ky extends KO{constructor(e){super(),this.elements=e}}function TX(r,e){const t=OX(e);for(const n of r.elements)t.some(i=>Pl(i,n))||t.push(n);return{arrayValue:{values:t}}}class $y extends KO{constructor(e){super(),this.elements=e}}function PX(r,e){let t=OX(e);for(const n of r.elements)t=t.filter(i=>!Pl(i,n));return{arrayValue:{values:t}}}class uT extends KO{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function T2(r){return dr(r.integerValue||r.doubleValue)}function OX(r){return k0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JIe{constructor(e,t){this.field=e,this.transform=t}}function ZIe(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof ky&&i instanceof ky||n instanceof $y&&i instanceof $y?lg(n.elements,i.elements,Pl):n instanceof uT&&i instanceof uT?Pl(n.Pe,i.Pe):n instanceof Hy&&i instanceof Hy}(r.transform,e.transform)}class eFe{constructor(e,t){this.version=e,this.transformResults=t}}class Ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ro}static exists(e){return new Ro(void 0,e)}static updateTime(e){return new Ro(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function I_(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class YO{}function DX(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new W0(r.key,Ro.none()):new ew(r.key,r.data,Ro.none());{const t=r.data,n=Co.empty();let i=new mi(ci.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?n.delete(o):n.set(o,s),i=i.add(o)}return new hd(r.key,n,new os(i.toArray()),Ro.none())}}function tFe(r,e,t){r instanceof ew?function(i,o,s){const a=i.value.clone(),l=O2(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(r,e,t):r instanceof hd?function(i,o,s){if(!I_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=O2(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(AX(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(r,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function yy(r,e,t,n){return r instanceof ew?function(o,s,a,l){if(!I_(o.precondition,s))return a;const u=o.value.clone(),c=D2(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(r,e,t,n):r instanceof hd?function(o,s,a,l){if(!I_(o.precondition,s))return a;const u=D2(o.fieldTransforms,l,s),c=s.data;return c.setAll(AX(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(r,e,t,n):function(o,s,a){return I_(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(r,e,t)}function nFe(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=RX(n.transform,i||null);o!=null&&(t===null&&(t=Co.empty()),t.set(n.field,o))}return t||null}function P2(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lg(n,i,(o,s)=>ZIe(o,s))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ew extends YO{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hd extends YO{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AX(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function O2(r,e,t){const n=new Map;Cn(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],s=o.transform,a=e.data.field(o.field);n.set(o.field,XIe(s,a,t[i]))}return n}function D2(r,e,t){const n=new Map;for(const i of r){const o=i.transform,s=t.data.field(i.field);n.set(i.field,QIe(o,s,e))}return n}class W0 extends YO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rFe extends YO{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iFe{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tFe(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_X();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=DX(s,a);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(St.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&lg(this.mutations,e.mutations,(t,n)=>P2(t,n))&&lg(this.baseMutations,e.baseMutations,(t,n)=>P2(t,n))}}class U0{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Cn(e.mutations.length===n.length);let i=function(){return UIe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new U0(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oFe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sFe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr,Jt;function aFe(r){switch(r){default:return yt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function xX(r){if(r===void 0)return Cu("GRPC error has no .code"),pe.UNKNOWN;switch(r){case Rr.OK:return pe.OK;case Rr.CANCELLED:return pe.CANCELLED;case Rr.UNKNOWN:return pe.UNKNOWN;case Rr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Rr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Rr.INTERNAL:return pe.INTERNAL;case Rr.UNAVAILABLE:return pe.UNAVAILABLE;case Rr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Rr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Rr.NOT_FOUND:return pe.NOT_FOUND;case Rr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Rr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Rr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Rr.ABORTED:return pe.ABORTED;case Rr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Rr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Rr.DATA_LOSS:return pe.DATA_LOSS;default:return yt()}}(Jt=Rr||(Rr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lFe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uFe=new wh([4294967295,4294967295],0);function A2(r){const e=lFe().encode(r),t=new tX;return t.update(e),new Uint8Array(t.digest())}function x2(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wh([t,n],0),new wh([i,o],0)]}class z0{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Kv(`Invalid padding: ${t}`);if(n<0)throw new Kv(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Kv(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Kv(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=wh.fromNumber(this.Ie)}Ee(e,t,n){let i=e.add(t.multiply(wh.fromNumber(n)));return i.compare(uFe)===1&&(i=new wh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=A2(e),[n,i]=x2(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(n,i,o);if(!this.de(s))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new z0(o,i,t);return n.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const t=A2(e),[n,i]=x2(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(n,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Kv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,tw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qO(St.min(),i,new er(on),wu(),Wt())}}class tw{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tw(n,t,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t,n,i){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=i}}class IX{constructor(e,t){this.targetId=e,this.me=t}}class FX{constructor(e,t,n=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class I2{constructor(){this.fe=0,this.ge=M2(),this.pe=vi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Wt(),t=Wt(),n=Wt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:yt()}}),new tw(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=M2()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Cn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cFe{constructor(e){this.Le=e,this.Be=new Map,this.ke=wu(),this.qe=F2(),this.Qe=new er(on)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,n=e.me.count,i=this.Je(t);if(i){const o=i.target;if(IM(o))if(n===0){const s=new ot(o.path);this.Ue(t,s,Ni.newNoDocument(s,St.min()))}else Cn(n===1);else{const s=this.Ye(t);if(s!==n){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=Gh(n).toUint8Array()}catch(l){if(l instanceof cX)return ag("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new z0(s,i,o)}catch(l){return ag(l instanceof Kv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&IM(a.target)){const l=new ot(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ni.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let n=Wt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new qO(e,t,this.Qe,this.ke,n);return this.ke=wu(),this.qe=F2(),this.Qe=new er(on),i}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new I2,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mi(on),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Ye("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new I2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function F2(){return new er(ot.comparator)}function M2(){return new er(ot.comparator)}const dFe={asc:"ASCENDING",desc:"DESCENDING"},hFe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pFe={and:"AND",or:"OR"};class fFe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function MM(r,e){return r.useProto3Json||jO(e)?e:{value:e}}function cT(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MX(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function gFe(r,e){return cT(r,e.toTimestamp())}function vl(r){return Cn(!!r),St.fromTimestamp(function(t){const n=td(t);return new Br(n.seconds,n.nanos)}(r))}function K0(r,e){return LM(r,e).canonicalString()}function LM(r,e){const t=function(i){return new Bn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function LX(r){const e=Bn.fromString(r);return Cn(kX(e)),e}function NM(r,e){return K0(r.databaseId,e.path)}function Xx(r,e){const t=LX(e);if(t.get(1)!==r.databaseId.projectId)throw new ke(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ke(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ot(GX(t))}function NX(r,e){return K0(r.databaseId,e)}function mFe(r){const e=LX(r);return e.length===4?Bn.emptyPath():GX(e)}function GM(r){return new Bn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function GX(r){return Cn(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function L2(r,e,t){return{name:NM(r,e),fields:t.value.mapValue.fields}}function vFe(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Cn(c===void 0||typeof c=="string"),vi.fromBase64String(c||"")):(Cn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),vi.fromUint8Array(c||new Uint8Array))}(r,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?pe.UNKNOWN:xX(u.code);return new ke(c,u.message||"")}(s);t=new FX(n,i,o,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Xx(r,n.document.name),o=vl(n.document.updateTime),s=n.document.createTime?vl(n.document.createTime):St.min(),a=new Co({mapValue:{fields:n.document.fields}}),l=Ni.newFoundDocument(i,o,s,a),u=n.targetIds||[],c=n.removedTargetIds||[];t=new F_(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Xx(r,n.document),o=n.readTime?vl(n.readTime):St.min(),s=Ni.newNoDocument(i,o),a=n.removedTargetIds||[];t=new F_([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Xx(r,n.document),o=n.removedTargetIds||[];t=new F_([],o,i,null)}else{if(!("filter"in e))return yt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,s=new sFe(i,o),a=n.targetId;t=new IX(a,s)}}return t}function yFe(r,e){let t;if(e instanceof ew)t={update:L2(r,e.key,e.value)};else if(e instanceof W0)t={delete:NM(r,e.key)};else if(e instanceof hd)t={update:L2(r,e.key,e.data),updateMask:PFe(e.fieldMask)};else{if(!(e instanceof rFe))return yt();t={verify:NM(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,s){const a=s.transform;if(a instanceof Hy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ky)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $y)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uT)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw yt()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:gFe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(r,e.precondition)),t}function CFe(r,e){return r&&r.length>0?(Cn(e!==void 0),r.map(t=>function(i,o){let s=i.updateTime?vl(i.updateTime):vl(o);return s.isEqual(St.min())&&(s=vl(o)),new eFe(s,i.transformResults||[])}(t,e))):[]}function wFe(r,e){return{documents:[NX(r,e.path)]}}function SFe(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=NX(r,i);const o=function(u){if(u.length!==0)return HX(Ea.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:pf(h.field),direction:bFe(h.dir)}}(c))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=MM(r,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function EFe(r){let e=mFe(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Cn(n===1);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];t.where&&(o=function(d){const h=VX(d);return h instanceof Ea&&fX(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=function(d){return d.map(h=>function(f){return new Vy(ff(f.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(h))}(t.orderBy));let a=null;t.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,jO(h)?null:h}(t.limit));let l=null;t.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new aT(p,h)}(t.startAt));let u=null;return t.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new aT(p,h)}(t.endAt)),kIe(e,i,s,o,a,"F",l,u)}function _Fe(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VX(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ff(t.unaryFilter.field);return Ar.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ff(t.unaryFilter.field);return Ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ff(t.unaryFilter.field);return Ar.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ff(t.unaryFilter.field);return Ar.create(s,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(t){return Ar.create(ff(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ea.create(t.compositeFilter.filters.map(n=>VX(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return yt()}}(t.compositeFilter.op))}(r):yt()}function bFe(r){return dFe[r]}function RFe(r){return hFe[r]}function TFe(r){return pFe[r]}function pf(r){return{fieldPath:r.canonicalString()}}function ff(r){return ci.fromServerFormat(r.fieldPath)}function HX(r){return r instanceof Ar?function(t){if(t.op==="=="){if(S2(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NAN"}};if(w2(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S2(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NAN"}};if(w2(t.value))return{unaryFilter:{field:pf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pf(t.field),op:RFe(t.op),value:t.value}}}(r):r instanceof Ea?function(t){const n=t.getFilters().map(i=>HX(i));return n.length===1?n[0]:{compositeFilter:{op:TFe(t.op),filters:n}}}(r):yt()}function PFe(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kX(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t,n,i,o=St.min(),s=St.min(),a=vi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OFe{constructor(e){this.ct=e}}function DFe(r){const e=EFe({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AFe{constructor(){this.un=new xFe}addToCollectionParentIndex(e,t){return this.un.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(ed.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(ed.min())}updateCollectionGroup(e,t,n){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class xFe{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new mi(Bn.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mi(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dg(0)}static kn(){return new dg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IFe{constructor(){this.changes=new Jg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?me.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FFe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MFe{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&yy(n.mutation,i,os.empty(),Br.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Wt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Wt()){const i=ah();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let s=zv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const n=ah();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Wt()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,n,i){let o=wu();const s=vy(),a=function(){return vy()}();return t.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof hd)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),yy(c.mutation,u,c.mutation.getFieldMask(),Br.now())):s.set(u.key,os.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),t.forEach((u,c)=>{var d;return a.set(u,new FFe(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const n=vy();let i=new er((s,a)=>s-a),o=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let c=n.get(l)||os.empty();c=a.applyToLocalView(u,c),n.set(l,c);const d=(i.get(a.batchId)||Wt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=_X();c.forEach(h=>{if(!o.has(h)){const p=DX(t.get(h),n.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return me.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yX(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):me.resolve(ah());let a=-1,l=o;return s.next(u=>me.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?me.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Wt())).next(c=>({batchId:a,changes:EX(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(n=>{let i=zv();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let s=zv();return this.indexManager.getCollectionParents(e,o).next(a=>me.forEach(a,l=>{const u=function(d,h){return new Xg(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ni.newInvalidDocument(c)))});let a=zv();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&yy(c.mutation,u,os.empty(),Br.now()),zO(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LFe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return me.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:vl(i.createTime)}}(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:DFe(i.bundledQuery),readTime:vl(i.readTime)}}(t)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NFe{constructor(){this.overlays=new er(ot.comparator),this.Ir=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ah();return me.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.ht(e,t,o)}),me.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(n)),me.resolve()}getOverlaysForCollection(e,t,n){const i=ah(),o=t.length+1,s=new ot(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>n&&i.set(l.getKey(),l)}return me.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new er((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let c=o.get(u.largestBatchId);c===null&&(c=ah(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ah(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return me.resolve(a)}ht(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new oFe(t,n));let o=this.Ir.get(t);o===void 0&&(o=Wt(),this.Ir.set(t,o)),this.Ir.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GFe{constructor(){this.sessionToken=vi.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.Tr=new mi(Yr.Er),this.dr=new mi(Yr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Yr(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new Yr(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new ot(new Bn([])),n=new Yr(t,e),i=new Yr(t,e+1),o=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ot(new Bn([])),n=new Yr(t,e),i=new Yr(t,e+1);let o=Wt();return this.dr.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Yr(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Yr{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ot.comparator(e.key,t.key)||on(e.wr,t.wr)}static Ar(e,t){return on(e.wr,t.wr)||ot.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VFe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new mi(Yr.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new iFe(o,t,n,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Yr(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return me.resolve(s)}lookupMutationBatch(e,t){return me.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.vr(n),o=i<0?0:i;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([n,i],s=>{const a=this.Dr(s.wr);o.push(a)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mi(on);return t.forEach(i=>{const o=new Yr(i,0),s=new Yr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{n=n.add(a.wr)})}),me.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;ot.isDocumentKey(o)||(o=o.child(""));const s=new Yr(new ot(o),0);let a=new mi(on);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),me.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Cn(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return me.forEach(t.mutations,i=>{const o=new Yr(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new Yr(t,0),i=this.br.firstAfterOrEqual(n);return me.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HFe{constructor(e){this.Mr=e,this.docs=function(){return new er(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return me.resolve(n?n.document.mutableCopy():Ni.newInvalidDocument(t))}getEntries(e,t){let n=wu();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Ni.newInvalidDocument(i))}),me.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=wu();const s=t.path,a=new ot(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||SIe(wIe(c),n)<=0||(i.has(c.key)||zO(t,c))&&(o=o.insert(c.key,c.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,t,n,i){yt()}Or(e,t){return me.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new kFe(this)}getSize(e){return me.resolve(this.size)}}class kFe extends IFe{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),me.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Fe{constructor(e){this.persistence=e,this.Nr=new Jg(t=>$0(t),B0),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Y0,this.targetCount=0,this.kr=dg.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,i)=>t(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),me.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new dg(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Kn(t),me.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&n.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),me.waitFor(o).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return me.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),me.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return me.resolve(n)}containsKey(e,t){return me.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BFe{constructor(e,t){this.qr={},this.overlays={},this.Qr=new G0(0),this.Kr=!1,this.Kr=!0,this.$r=new GFe,this.referenceDelegate=e(this),this.Ur=new $Fe(this),this.indexManager=new AFe,this.remoteDocumentCache=function(i){return new HFe(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new OFe(t),this.Gr=new LFe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NFe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new VFe(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Ye("MemoryPersistence","Starting transaction:",e);const i=new jFe(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return me.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class jFe extends _Ie{constructor(e){super(),this.currentSequenceNumber=e}}class q0{constructor(e){this.persistence=e,this.Jr=new Y0,this.Yr=null}static Zr(e){return new q0(e)}get Xr(){if(this.Yr)return this.Yr;throw yt()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),me.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),me.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,n=>{const i=ot.fromPath(n);return this.ei(e,i).next(o=>{o||t.removeEntry(i,St.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return me.or([()=>me.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=i}static Wi(e,t){let n=Wt(),i=Wt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Q0(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WFe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UFe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return UAe()?8:bIe(Bi())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new WFe;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,n,i){return n.documentReadCount<this.ji?(ev()<=Qt.DEBUG&&Ye("QueryEngine","SDK will not create cache indexes for query:",hf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(ev()<=Qt.DEBUG&&Ye("QueryEngine","Query:",hf(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ev()<=Qt.DEBUG&&Ye("QueryEngine","The SDK decides to create cache indexes for query:",hf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ml(t))):me.resolve())}Yi(e,t){if(R2(t))return me.resolve(null);let n=ml(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=lT(t,null,"F"),n=ml(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const s=Wt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,lT(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,n,i){return R2(t)||i.isEqual(St.min())?me.resolve(null):this.Ji.getDocuments(e,n).next(o=>{const s=this.ts(t,o);return this.ns(t,s,n,i)?me.resolve(null):(ev()<=Qt.DEBUG&&Ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hf(t)),this.rs(e,s,t,CIe(i,-1)).next(a=>a))})}ts(e,t){let n=new mi(wX(e));return t.forEach((i,o)=>{zO(e,o)&&(n=n.add(o))}),n}ns(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,n){return ev()<=Qt.DEBUG&&Ye("QueryEngine","Using full collection scan to execute query:",hf(t)),this.Ji.getDocumentsMatchingQuery(e,t,ed.min(),n)}rs(e,t,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zFe{constructor(e,t,n,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new er(on),this._s=new Jg(o=>$0(o),B0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MFe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function KFe(r,e,t,n){return new zFe(r,e,t,n)}async function $X(r,e){const t=Et(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],a=[];let l=Wt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function YFe(r,e){const t=Et(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=me.resolve();return h.forEach(f=>{p=p.next(()=>c.getEntry(l,f)).next(g=>{const v=u.docVersions.get(f);Cn(v!==null),g.version.compareTo(v)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Wt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function BX(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function qFe(r,e){const t=Et(r),n=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(vi.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(d,p),function(g,v,y){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,c)&&a.push(t.Ur.updateTargetData(o,p))});let l=wu(),u=Wt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(QFe(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(St.min())){const c=t.Ur.getLastRemoteSnapshotVersion(o).next(d=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,n));a.push(c)}return me.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}function QFe(r,e,t){let n=Wt(),i=Wt();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let s=wu();return t.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(St.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function XFe(r,e){const t=Et(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function JFe(r,e){const t=Et(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ur.getTargetData(n,e).next(o=>o?(i=o,me.resolve(i)):t.Ur.allocateTargetId(n).next(s=>(i=new Ic(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function VM(r,e,t){const n=Et(r),i=n.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ZC(s))throw s;Ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function N2(r,e,t){const n=Et(r);let i=St.min(),o=Wt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Et(l),h=d._s.get(c);return h!==void 0?me.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(n,s,ml(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,t?i:St.min(),t?o:Wt())).next(a=>(ZFe(n,BIe(e),a),{documents:a,Ts:o})))}function ZFe(r,e,t){let n=r.us.get(e)||St.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.us.set(e,n)}class G2{constructor(){this.activeTargetIds=YIe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eMe{constructor(){this.so=new G2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new G2,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tMe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE=null;function Jx(){return hE===null?hE=function(){return 268435456+Math.round(2147483648*Math.random())}():hE++,"0x"+hE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nMe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rMe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="WebChannelConnection";class iMe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,n,i,o,s){const a=Jx(),l=this.xo(t,n.toUriEncodedString());Ye("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(c=>(Ye("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw ag("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(t,n,i,o,s,a){return this.Mo(t,n,i,o,s)}Oo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,n){const i=nMe[t];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,i){const o=Jx();return new Promise((s,a)=>{const l=new nX;l.setWithCredentials(!0),l.listenOnce(rX.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case A_.NO_ERROR:const c=l.getResponseJson();Ye(Ri,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case A_.TIMEOUT:Ye(Ri,`RPC '${e}' ${o} timed out`),a(new ke(pe.DEADLINE_EXCEEDED,"Request time out"));break;case A_.HTTP_ERROR:const d=l.getStatus();if(Ye(Ri,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const f=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(y)>=0?y:pe.UNKNOWN}(p.status);a(new ke(f,p.message))}else a(new ke(pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ke(pe.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Ye(Ri,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Ye(Ri,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,n,15)})}Bo(e,t,n){const i=Jx(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=sX(),a=oX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;const c=o.join("");Ye(Ri,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const f=new rMe({Io:v=>{p?Ye(Ri,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(Ye(Ri,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Ye(Ri,`RPC '${e}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),g=(v,y,C)=>{v.listen(y,w=>{try{C(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,Uv.EventType.OPEN,()=>{p||(Ye(Ri,`RPC '${e}' stream ${i} transport opened.`),f.yo())}),g(d,Uv.EventType.CLOSE,()=>{p||(p=!0,Ye(Ri,`RPC '${e}' stream ${i} transport closed`),f.So())}),g(d,Uv.EventType.ERROR,v=>{p||(p=!0,ag(Ri,`RPC '${e}' stream ${i} transport errored:`,v),f.So(new ke(pe.UNAVAILABLE,"The operation could not be completed")))}),g(d,Uv.EventType.MESSAGE,v=>{var y;if(!p){const C=v.data[0];Cn(!!C);const w=C,S=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(S){Ye(Ri,`RPC '${e}' stream ${i} received error:`,S);const P=S.status;let F=function(T){const O=Rr[T];if(O!==void 0)return xX(O)}(P),_=S.message;F===void 0&&(F=pe.INTERNAL,_="Unknown error status: "+P+" with message "+S.message),p=!0,f.So(new ke(F,_)),d.close()}else Ye(Ri,`RPC '${e}' stream ${i} received:`,C),f.bo(C)}}),g(a,iX.STAT_EVENT,v=>{v.stat===OM.PROXY?Ye(Ri,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===OM.NOPROXY&&Ye(Ri,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.wo()},0),f}}function Zx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(r){return new fFe(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,t,n=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-n);i>0&&Ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(e,t,n,i,o,s,a,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new jX(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Cu(t.toString()),Cu("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===t&&this.P_(n,i)},n=>{e(()=>{const i=new ke(pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oMe extends WX{constructor(e,t,n,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=vFe(this.serializer,e),n=function(o){if(!("targetChange"in o))return St.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?St.min():s.readTime?vl(s.readTime):St.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=GM(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=IM(l)?{documents:wFe(o,l)}:{query:SFe(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=MX(o,s.resumeToken);const u=MM(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(St.min())>0){a.readTime=cT(o,s.snapshotVersion.toTimestamp());const u=MM(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=_Fe(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=GM(this.serializer),t.removeTarget=e,this.a_(t)}}class sMe extends WX{constructor(e,t,n,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,Cn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Cn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=CFe(e.writeResults,e.commitTime),n=vl(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=GM(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>yFe(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aMe extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ke(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,LM(t,n),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(pe.UNKNOWN,o.toString())})}Lo(e,t,n,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,LM(t,n),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(pe.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class lMe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cu(t),this.D_=!1):Ye("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uMe{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{n.enqueueAndForget(async()=>{fp(this)&&(Ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Et(l);u.L_.add(4),await nw(u),u.q_.set("Unknown"),u.L_.delete(4),await XO(u)}(this))})}),this.q_=new lMe(n,i)}}async function XO(r){if(fp(r))for(const e of r.B_)await e(!0)}async function nw(r){for(const e of r.B_)await e(!1)}function UX(r,e){const t=Et(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),eG(t)?Z0(t):Zg(t).r_()&&J0(t,e))}function X0(r,e){const t=Et(r),n=Zg(t);t.N_.delete(e),n.r_()&&zX(t,e),t.N_.size===0&&(n.r_()?n.o_():fp(t)&&t.q_.set("Unknown"))}function J0(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zg(r).A_(e)}function zX(r,e){r.Q_.xe(e),Zg(r).R_(e)}function Z0(r){r.Q_=new cFe({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Zg(r).start(),r.q_.v_()}function eG(r){return fp(r)&&!Zg(r).n_()&&r.N_.size>0}function fp(r){return Et(r).L_.size===0}function KX(r){r.Q_=void 0}async function cMe(r){r.q_.set("Online")}async function dMe(r){r.N_.forEach((e,t)=>{J0(r,e)})}async function hMe(r,e){KX(r),eG(r)?(r.q_.M_(e),Z0(r)):r.q_.set("Unknown")}async function pMe(r,e,t){if(r.q_.set("Online"),e instanceof FX&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(r,e)}catch(n){Ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await dT(r,n)}else if(e instanceof F_?r.Q_.Ke(e):e instanceof IX?r.Q_.He(e):r.Q_.We(e),!t.isEqual(St.min()))try{const n=await BX(r.localStore);t.compareTo(n)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(vi.EMPTY_BYTE_STRING,c.snapshotVersion)),zX(o,l);const d=new Ic(c.target,l,u,c.sequenceNumber);J0(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(r,t)}catch(n){Ye("RemoteStore","Failed to raise snapshot:",n),await dT(r,n)}}async function dT(r,e,t){if(!ZC(e))throw e;r.L_.add(1),await nw(r),r.q_.set("Offline"),t||(t=()=>BX(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ye("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await XO(r)})}function YX(r,e){return e().catch(t=>dT(r,t,e))}async function JO(r){const e=Et(r),t=nd(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fMe(e);)try{const i=await XFe(e.localStore,n);if(i===null){e.O_.length===0&&t.o_();break}n=i.batchId,gMe(e,i)}catch(i){await dT(e,i)}qX(e)&&QX(e)}function fMe(r){return fp(r)&&r.O_.length<10}function gMe(r,e){r.O_.push(e);const t=nd(r);t.r_()&&t.V_&&t.m_(e.mutations)}function qX(r){return fp(r)&&!nd(r).n_()&&r.O_.length>0}function QX(r){nd(r).start()}async function mMe(r){nd(r).p_()}async function vMe(r){const e=nd(r);for(const t of r.O_)e.m_(t.mutations)}async function yMe(r,e,t){const n=r.O_.shift(),i=U0.from(n,e,t);await YX(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await JO(r)}async function CMe(r,e){e&&nd(r).V_&&await async function(n,i){if(function(s){return aFe(s)&&s!==pe.ABORTED}(i.code)){const o=n.O_.shift();nd(n).s_(),await YX(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await JO(n)}}(r,e),qX(r)&&QX(r)}async function H2(r,e){const t=Et(r);t.asyncQueue.verifyOperationInProgress(),Ye("RemoteStore","RemoteStore received new credentials");const n=fp(t);t.L_.add(3),await nw(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await XO(t)}async function wMe(r,e){const t=Et(r);e?(t.L_.delete(2),await XO(t)):e||(t.L_.add(2),await nw(t),t.q_.set("Unknown"))}function Zg(r){return r.K_||(r.K_=function(t,n,i){const o=Et(t);return o.w_(),new oMe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Eo:cMe.bind(null,r),Ro:dMe.bind(null,r),mo:hMe.bind(null,r),d_:pMe.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),eG(r)?Z0(r):r.q_.set("Unknown")):(await r.K_.stop(),KX(r))})),r.K_}function nd(r){return r.U_||(r.U_=function(t,n,i){const o=Et(t);return o.w_(),new sMe(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mMe.bind(null,r),mo:CMe.bind(null,r),f_:vMe.bind(null,r),g_:yMe.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await JO(r)):(await r.U_.stop(),r.O_.length>0&&(Ye("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new du,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const s=Date.now()+n,a=new tG(e,t,s,i,o);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nG(r,e){if(Cu("AsyncQueue",`${e}: ${r}`),ZC(r))return new ke(pe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ot.comparator(t.key,n.key):(t,n)=>ot.comparator(t.key,n.key),this.keyedMap=zv(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new Gf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Gf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.W_=new er(ot.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):yt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class hg{constructor(e,t,n,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new hg(e,t,Gf.emptySet(t),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&UO(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SMe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EMe{constructor(){this.queries=$2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const i=Et(t),o=i.queries;i.queries=$2(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(n)})})(this,new ke(pe.ABORTED,"Firestore shutting down"))}}function $2(){return new Jg(r=>CX(r),UO)}async function rG(r,e){const t=Et(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(n=2):(o=new SMe,n=e.J_()?0:1);try{switch(n){case 0:o.z_=await t.onListen(i,!0);break;case 1:o.z_=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const a=nG(s,`Initialization of query '${hf(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&oG(t)}async function iG(r,e){const t=Et(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function _Me(r,e){const t=Et(r);let n=!1;for(const i of e){const o=i.query,s=t.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(n=!0);s.z_=i}}n&&oG(t)}function bMe(r,e,t){const n=Et(r),i=n.queries.get(e);if(i)for(const o of i.j_)o.onError(t);n.queries.delete(e)}function oG(r){r.Y_.forEach(e=>{e.next()})}var HM,B2;(B2=HM||(HM={})).ea="default",B2.Cache="cache";class sG{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new hg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=hg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==HM.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e){this.key=e}}class JX{constructor(e){this.key=e}}class RMe{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Wt(),this.mutatedKeys=Wt(),this.Aa=wX(e),this.Ra=new Gf(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new k2,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=zO(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?f!==g&&(n.track({type:3,doc:p}),v=!0):this.ga(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||u)&&(a=!0)),v&&(p?(s=s.add(p),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),n.track({type:1,doc:c})}return{Ra:s,fa:n,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(p,f){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return g(p)-g(f)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new hg(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new k2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Wt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new JX(n))}),this.da.forEach(n=>{e.has(n)||t.push(new XX(n))}),t}ba(e){this.Ta=e.Ts,this.da=Wt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class TMe{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class PMe{constructor(e){this.key=e,this.va=!1}}class OMe{constructor(e,t,n,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Jg(a=>CX(a),UO),this.Ma=new Map,this.xa=new Set,this.Oa=new er(ot.comparator),this.Na=new Map,this.La=new Y0,this.Ba={},this.ka=new Map,this.qa=dg.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function DMe(r,e,t=!0){const n=iJ(r);let i;const o=n.Fa.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await ZX(n,e,t,!0),i}async function AMe(r,e){const t=iJ(r);await ZX(t,e,!0,!1)}async function ZX(r,e,t,n){const i=await JFe(r.localStore,ml(e)),o=i.targetId,s=r.sharedClientState.addLocalQueryTarget(o,t);let a;return n&&(a=await xMe(r,e,o,s==="current",i.resumeToken)),r.isPrimaryClient&&t&&UX(r.remoteStore,i),a}async function xMe(r,e,t,n,i){r.Ka=(d,h,p)=>async function(g,v,y,C){let w=v.view.ma(y);w.ns&&(w=await N2(g.localStore,v.query,!1).then(({documents:_})=>v.view.ma(_,w)));const S=C&&C.targetChanges.get(v.targetId),P=C&&C.targetMismatches.get(v.targetId)!=null,F=v.view.applyChanges(w,g.isPrimaryClient,S,P);return W2(g,v.targetId,F.wa),F.snapshot}(r,d,h,p);const o=await N2(r.localStore,e,!0),s=new RMe(e,o.Ts),a=s.ma(o.documents),l=tw.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),u=s.applyChanges(a,r.isPrimaryClient,l);W2(r,t,u.wa);const c=new TMe(e,t,s);return r.Fa.set(e,c),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),u.snapshot}async function IMe(r,e,t){const n=Et(r),i=n.Fa.get(e),o=n.Ma.get(i.targetId);if(o.length>1)return n.Ma.set(i.targetId,o.filter(s=>!UO(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await VM(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&X0(n.remoteStore,i.targetId),kM(n,i.targetId)}).catch(JC)):(kM(n,i.targetId),await VM(n.localStore,i.targetId,!0))}async function FMe(r,e){const t=Et(r),n=t.Fa.get(e),i=t.Ma.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),X0(t.remoteStore,n.targetId))}async function MMe(r,e,t){const n=$Me(r);try{const i=await function(s,a){const l=Et(s),u=Br.now(),c=a.reduce((p,f)=>p.add(f.key),Wt());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let f=wu(),g=Wt();return l.cs.getEntries(p,c).next(v=>{f=v,f.forEach((y,C)=>{C.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,f)).next(v=>{d=v;const y=[];for(const C of a){const w=nFe(C,d.get(C.key).overlayedDocument);w!=null&&y.push(new hd(C.key,w,dX(w.value.mapValue),Ro.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:EX(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new er(on)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,t),await rw(n,i.changes),await JO(n.remoteStore)}catch(i){const o=nG(i,"Failed to persist write");t.reject(o)}}async function eJ(r,e){const t=Et(r);try{const n=await qFe(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(Cn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Cn(s.va):i.removedDocuments.size>0&&(Cn(s.va),s.va=!1))}),await rw(t,n,e)}catch(n){await JC(n)}}function j2(r,e,t){const n=Et(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Et(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&oG(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function LMe(r,e,t){const n=Et(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Na.get(e),o=i&&i.key;if(o){let s=new er(ot.comparator);s=s.insert(o,Ni.newNoDocument(o,St.min()));const a=Wt().add(o),l=new qO(St.min(),new Map,new er(on),s,a);await eJ(n,l),n.Oa=n.Oa.remove(o),n.Na.delete(e),aG(n)}else await VM(n.localStore,e,!1).then(()=>kM(n,e,t)).catch(JC)}async function NMe(r,e){const t=Et(r),n=e.batch.batchId;try{const i=await YFe(t.localStore,e);nJ(t,n,null),tJ(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await rw(t,i)}catch(i){await JC(i)}}async function GMe(r,e,t){const n=Et(r);try{const i=await function(s,a){const l=Et(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Cn(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);nJ(n,e,t),tJ(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await rw(n,i)}catch(i){await JC(i)}}function tJ(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function nJ(r,e,t){const n=Et(r);let i=n.Ba[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function kM(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||rJ(r,n)})}function rJ(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(X0(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),aG(r))}function W2(r,e,t){for(const n of t)n instanceof XX?(r.La.addReference(n.key,e),VMe(r,n)):n instanceof JX?(Ye("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||rJ(r,n.key)):yt()}function VMe(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(Ye("SyncEngine","New document in limbo: "+t),r.xa.add(n),aG(r))}function aG(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new ot(Bn.fromString(e)),n=r.qa.next();r.Na.set(n,new PMe(t)),r.Oa=r.Oa.insert(t,n),UX(r.remoteStore,new Ic(ml(WO(t.path)),n,"TargetPurposeLimboResolution",G0.oe))}}async function rw(r,e,t){const n=Et(r),i=[],o=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{s.push(n.Ka(l,e,t).then(u=>{var c;if((u||t)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=t==null?void 0:t.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Q0.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(l,u){const c=Et(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>me.forEach(u,h=>me.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>me.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ZC(d))throw d;Ye("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),f=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(f);c.os=c.os.insert(h,g)}}}(n.localStore,o))}async function HMe(r,e){const t=Et(r);if(!t.currentUser.isEqual(e)){Ye("SyncEngine","User change. New user:",e.toKey());const n=await $X(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ke(pe.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await rw(t,n.hs)}}function kMe(r,e){const t=Et(r),n=t.Na.get(e);if(n&&n.va)return Wt().add(n.key);{let i=Wt();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function iJ(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=eJ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kMe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LMe.bind(null,e),e.Ca.d_=_Me.bind(null,e.eventManager),e.Ca.$a=bMe.bind(null,e.eventManager),e}function $Me(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NMe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GMe.bind(null,e),e}class hT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=QO(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return KFe(this.persistence,new UFe,e.initialUser,this.serializer)}Ga(e){return new BFe(q0.Zr,this.serializer)}Wa(e){return new eMe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hT.provider={build:()=>new hT};class $M{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>j2(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=HMe.bind(null,this.syncEngine),await wMe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EMe}()}createDatastore(e){const t=QO(e.databaseInfo.databaseId),n=function(o){return new iMe(o)}(e.databaseInfo);return function(o,s,a,l){return new aMe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,s,a){return new uMe(n,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,t=>j2(this.syncEngine,t,0),function(){return V2.D()?new V2:new tMe}())}createSyncEngine(e,t){return function(i,o,s,a,l,u,c){const d=new OMe(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Et(i);Ye("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await nw(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$M.provider={build:()=>new $M};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cu("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BMe{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ii.UNAUTHENTICATED,this.clientId=lX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async s=>{Ye("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ye("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new du;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=nG(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function eI(r,e){r.asyncQueue.verifyOperationInProgress(),Ye("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $X(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function U2(r,e){r.asyncQueue.verifyOperationInProgress();const t=await jMe(r);Ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>H2(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>H2(e.remoteStore,i)),r._onlineComponents=e}async function jMe(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await eI(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ag("Error using user provided cache. Falling back to memory cache: "+t),await eI(r,new hT)}}else Ye("FirestoreClient","Using default OfflineComponentProvider"),await eI(r,new hT);return r._offlineComponents}async function oJ(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ye("FirestoreClient","Using user provided OnlineComponentProvider"),await U2(r,r._uninitializedComponentsProvider._online)):(Ye("FirestoreClient","Using default OnlineComponentProvider"),await U2(r,new $M))),r._onlineComponents}function WMe(r){return oJ(r).then(e=>e.syncEngine)}async function pT(r){const e=await oJ(r),t=e.eventManager;return t.onListen=DMe.bind(null,e.syncEngine),t.onUnlisten=IMe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AMe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FMe.bind(null,e.syncEngine),t}function UMe(r,e,t={}){const n=new du;return r.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new lG({next:h=>{c.Za(),s.enqueueAndForget(()=>iG(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new ke(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new ke(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sG(WO(a.path),c,{includeMetadataChanges:!0,_a:!0});return rG(o,d)}(await pT(r),r.asyncQueue,e,t,n)),n.promise}function zMe(r,e,t={}){const n=new du;return r.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new lG({next:h=>{c.Za(),s.enqueueAndForget(()=>iG(o,d)),h.fromCache&&l.source==="server"?u.reject(new ke(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new sG(a,c,{includeMetadataChanges:!0,_a:!0});return rG(o,d)}(await pT(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(r,e,t){if(!t)throw new ke(pe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function KMe(r,e,t,n){if(e===!0&&n===!0)throw new ke(pe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function K2(r){if(!ot.isDocumentKey(r))throw new ke(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y2(r){if(ot.isDocumentKey(r))throw new ke(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ZO(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt()}function To(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ke(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ZO(r);throw new ke(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KMe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sJ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eD{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q2(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new cIe;switch(n.type){case"firstParty":return new fIe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=z2.get(t);n&&(Ye("ComponentProvider","Removing Datastore"),z2.delete(t),n.terminate())}(this),Promise.resolve()}}function YMe(r,e,t,n={}){var i;const o=(r=To(r,eD))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ag("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=Ii.MOCK_USER;else{a=VAe(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new ke(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ii(u)}r._authCredentials=new dIe(new aX(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Vi{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vi(this.firestore,e,this._key)}}class Wc extends Lu{constructor(e,t,n){super(e,t,WO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vi(this.firestore,null,new ot(e))}withConverter(e){return new Wc(this.firestore,e,this._path)}}function Vf(r,e,...t){if(r=Sr(r),aJ("collection","path",e),r instanceof eD){const n=Bn.fromString(e,...t);return Y2(n),new Wc(r,null,n)}{if(!(r instanceof Vi||r instanceof Wc))throw new ke(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Bn.fromString(e,...t));return Y2(n),new Wc(r.firestore,null,n)}}function ns(r,e,...t){if(r=Sr(r),arguments.length===1&&(e=lX.newId()),aJ("doc","path",e),r instanceof eD){const n=Bn.fromString(e,...t);return K2(n),new Vi(r,null,new ot(n))}{if(!(r instanceof Vi||r instanceof Wc))throw new ke(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Bn.fromString(e,...t));return K2(n),new Vi(r.firestore,r instanceof Wc?r.converter:null,new ot(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new jX(this,"async_queue_retry"),this.Vu=()=>{const n=Zx();n&&Ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=Zx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Zx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new du;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ZC(e))throw e;Ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(n);throw Cu("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=tG.createAndSchedule(this,e,t,n,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&yt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function X2(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Su extends eD{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Q2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q2(e),this._firestoreClient=void 0,await e}}}function lJ(r,e){const t=typeof r=="object"?r:JQ(),n=typeof r=="string"?r:"(default)",i=M0(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=NAe("firestore");o&&YMe(i,...o)}return i}function iw(r){if(r._terminated)throw new ke(pe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qMe(r),r._firestoreClient}function qMe(r){var e,t,n;const i=r._freezeSettings(),o=function(a,l,u,c){return new PIe(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,sJ(c.experimentalLongPollingOptions),c.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new BMe(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pg(vi.fromBase64String(e))}catch(t){throw new ke(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pg(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return on(this._lat,e._lat)||on(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QMe=/^__.*__$/;class XMe{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new hd(e,this.data,this.fieldMask,t,this.fieldTransforms):new ew(e,this.data,t,this.fieldTransforms)}}class uJ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cJ(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class dG{constructor(e,t,n,i,o,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dG(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fT(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cJ(this.Cu)&&QMe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JMe{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||QO(e)}Qu(e,t,n,i=!1){return new dG({Cu:e,methodName:t,qu:n,path:ci.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sw(r){const e=r._freezeSettings(),t=QO(r._databaseId);return new JMe(r._databaseId,!!e.ignoreUndefinedProperties,t)}function hG(r,e,t,n,i,o={}){const s=r.Qu(o.merge||o.mergeFields?2:0,e,t,i);fG("Data must be an object, but it was:",s,n);const a=pJ(n,s);let l,u;if(o.merge)l=new os(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=BM(e,d,t);if(!s.contains(h))throw new ke(pe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gJ(c,h)||c.push(h)}l=new os(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new XMe(new Co(a),l,u)}class nD extends tD{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nD}}class pG extends tD{_toFieldTransform(e){return new JIe(e.path,new Hy)}isEqual(e){return e instanceof pG}}function dJ(r,e,t,n){const i=r.Qu(1,e,t);fG("Data must be an object, but it was:",i,n);const o=[],s=Co.empty();pp(n,(l,u)=>{const c=gG(e,l,t);u=Sr(u);const d=i.Nu(c);if(u instanceof nD)o.push(c);else{const h=aw(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new os(o);return new uJ(s,a,i.fieldTransforms)}function hJ(r,e,t,n,i,o){const s=r.Qu(1,e,t),a=[BM(e,n,t)],l=[i];if(o.length%2!=0)throw new ke(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(BM(e,o[h])),l.push(o[h+1]);const u=[],c=Co.empty();for(let h=a.length-1;h>=0;--h)if(!gJ(u,a[h])){const p=a[h];let f=l[h];f=Sr(f);const g=s.Nu(p);if(f instanceof nD)u.push(p);else{const v=aw(f,g);v!=null&&(u.push(p),c.set(p,v))}}const d=new os(u);return new uJ(c,d,s.fieldTransforms)}function ZMe(r,e,t,n=!1){return aw(t,r.Qu(n?4:3,e))}function aw(r,e){if(fJ(r=Sr(r)))return fG("Unsupported field value:",e,r),pJ(r,e);if(r instanceof tD)return function(n,i){if(!cJ(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const o=[];let s=0;for(const a of n){let l=aw(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Sr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qIe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Br.fromDate(n);return{timestampValue:cT(i.serializer,o)}}if(n instanceof Br){const o=new Br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cT(i.serializer,o)}}if(n instanceof uG)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pg)return{bytesValue:MX(i.serializer,n._byteString)};if(n instanceof Vi){const o=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:K0(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cG)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return j0(a.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${ZO(n)}`)}(r,e)}function pJ(r,e){const t={};return uX(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pp(r,(n,i)=>{const o=aw(i,e.Mu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function fJ(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Br||r instanceof uG||r instanceof pg||r instanceof Vi||r instanceof tD||r instanceof cG)}function fG(r,e,t){if(!fJ(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=ZO(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function BM(r,e,t){if((e=Sr(e))instanceof ow)return e._internalPath;if(typeof e=="string")return gG(r,e);throw fT("Field path arguments must be of type string or ",r,!1,void 0,t)}const eLe=new RegExp("[~\\*/\\[\\]]");function gG(r,e,t){if(e.search(eLe)>=0)throw fT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ow(...e.split("."))._internalPath}catch{throw fT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function fT(r,e,t,n,i){const o=n&&!n.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new ke(pe.INVALID_ARGUMENT,a+r+l)}function gJ(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tLe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tLe extends mJ{data(){return super.data()}}function rD(r,e){return typeof e=="string"?gG(r,e):e instanceof ow?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ke(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mG{}class vG extends mG{}function yG(r,e,...t){let n=[];e instanceof mG&&n.push(e),n=n.concat(t),function(o){const s=o.filter(l=>l instanceof CG).length,a=o.filter(l=>l instanceof iD).length;if(s>1||s>0&&a>0)throw new ke(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class iD extends vG{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new iD(e,t,n)}_apply(e){const t=this._parse(e);return wJ(e._query,t),new Lu(e.firestore,e.converter,FM(e._query,t))}_parse(e){const t=sw(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ke(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Z2(d,c);const p=[];for(const f of d)p.push(J2(l,o,f));h={arrayValue:{values:p}}}else h=J2(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Z2(d,c),h=ZMe(a,s,d,c==="in"||c==="not-in");return Ar.create(u,c,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yJ(r,e,t){const n=e,i=rD("where",r);return iD._create(i,n,t)}class CG extends mG{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new CG(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Ea.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)wJ(s,l),s=FM(s,l)}(e._query,t),new Lu(e.firestore,e.converter,FM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wG extends vG{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wG(e,t)}_apply(e){const t=function(i,o,s){if(i.startAt!==null)throw new ke(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ke(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vy(o,s)}(e._query,this._field,this._direction);return new Lu(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Xg(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function CJ(r,e="asc"){const t=e,n=rD("orderBy",r);return wG._create(n,t)}class SG extends vG{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new SG(e,t,n)}_apply(e){return new Lu(e.firestore,e.converter,lT(e._query,this._limit,this._limitType))}}function nLe(r){return SG._create("limit",r,"F")}function J2(r,e,t){if(typeof(t=Sr(t))=="string"){if(t==="")throw new ke(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yX(e)&&t.indexOf("/")!==-1)throw new ke(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Bn.fromString(t));if(!ot.isDocumentKey(n))throw new ke(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return C2(r,new ot(n))}if(t instanceof Vi)return C2(r,t._key);throw new ke(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ZO(t)}.`)}function Z2(r,e){if(!Array.isArray(r)||r.length===0)throw new ke(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wJ(r,e){const t=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ke(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rLe{convertValue(e,t="none"){switch(Vh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return pp(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>dr(s.doubleValue));return new cG(o)}convertGeoPoint(e){return new uG(dr(e.latitude),dr(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=H0(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ly(e));default:return null}}convertTimestamp(e){const t=td(e);return new Br(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bn.fromString(e);Cn(kX(n));const i=new Ny(n.get(1),n.get(3)),o=new ot(n.popFirst(5));return i.isEqual(t)||Cu(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SJ extends mJ{constructor(e,t,n,i,o,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new M_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(rD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class M_ extends SJ{data(e={}){return super.data(e)}}class EJ{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yv(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new M_(this._firestore,this._userDataWriter,n.key,n,new Yv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new M_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new M_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Yv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:iLe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iLe(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(r){r=To(r,Vi);const e=To(r.firestore,Su);return UMe(iw(e),r._key).then(t=>bJ(e,r,t))}class bG extends rLe{constructor(e){super(),this.firestore=e}convertBytes(e){return new pg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vi(this.firestore,null,t)}}function L_(r){r=To(r,Lu);const e=To(r.firestore,Su),t=iw(e),n=new bG(e);return vJ(r._query),zMe(t,r._query).then(i=>new EJ(e,n,r,i))}function tI(r,e,t){r=To(r,Vi);const n=To(r.firestore,Su),i=EG(r.converter,e,t);return oD(n,[hG(sw(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Ro.none())])}function Hf(r,e,t,...n){r=To(r,Vi);const i=To(r.firestore,Su),o=sw(i);let s;return s=typeof(e=Sr(e))=="string"||e instanceof ow?hJ(o,"updateDoc",r._key,e,t,n):dJ(o,"updateDoc",r._key,e),oD(i,[s.toMutation(r._key,Ro.exists(!0))])}function oLe(r,e){const t=To(r.firestore,Su),n=ns(r),i=EG(r.converter,e);return oD(t,[hG(sw(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Ro.exists(!1))]).then(()=>n)}function _J(r,...e){var t,n,i;r=Sr(r);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X2(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X2(e[s])){const d=e[s];e[s]=(t=d.next)===null||t===void 0?void 0:t.bind(d),e[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(r instanceof Vi)u=To(r.firestore,Su),c=WO(r._key.path),l={next:d=>{e[s]&&e[s](bJ(u,r,d))},error:e[s+1],complete:e[s+2]};else{const d=To(r,Lu);u=To(d.firestore,Su),c=d._query;const h=new bG(u);l={next:p=>{e[s]&&e[s](new EJ(u,h,d,p))},error:e[s+1],complete:e[s+2]},vJ(r._query)}return function(h,p,f,g){const v=new lG(g),y=new sG(p,v,f);return h.asyncQueue.enqueueAndForget(async()=>rG(await pT(h),y)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>iG(await pT(h),y))}}(iw(u),c,a,l)}function oD(r,e){return function(n,i){const o=new du;return n.asyncQueue.enqueueAndForget(async()=>MMe(await WMe(n),i,o)),o.promise}(iw(r),e)}function bJ(r,e,t){const n=t.docs.get(e._key),i=new bG(r);return new SJ(r,i,e._key,n,new Yv(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sLe{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sw(e)}set(e,t,n){this._verifyNotCommitted();const i=nI(e,this._firestore),o=EG(i.converter,t,n),s=hG(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Ro.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const o=nI(e,this._firestore);let s;return s=typeof(t=Sr(t))=="string"||t instanceof ow?hJ(this._dataReader,"WriteBatch.update",o._key,t,n,i):dJ(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,Ro.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nI(e,this._firestore);return this._mutations=this._mutations.concat(new W0(t._key,Ro.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nI(r,e){if((r=Sr(r)).firestore!==e)throw new ke(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function aLe(){return new pG("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lLe(r){return iw(r=To(r,Su)),new sLe(r,e=>oD(r,e))}(function(e,t=!0){(function(i){Qg=i})(qg),sg(new Lh("firestore",(n,{instanceIdentifier:i,options:o})=>{const s=n.getProvider("app").getImmediate(),a=new Su(new hIe(n.getProvider("auth-internal")),new mIe(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ny(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),jc(f2,"4.7.3",e),jc(f2,"4.7.3","esm2017")})();function RJ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uLe=RJ,TJ=new QC("auth","Firebase",RJ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new I0("@firebase/auth");function cLe(r,...e){gT.logLevel<=Qt.WARN&&gT.warn(`Auth (${qg}): ${r}`,...e)}function N_(r,...e){gT.logLevel<=Qt.ERROR&&gT.error(`Auth (${qg}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(r,...e){throw TG(r,...e)}function pa(r,...e){return TG(r,...e)}function RG(r,e,t){const n=Object.assign(Object.assign({},uLe()),{[e]:t});return new QC("auth","Firebase",n).create(e,{appName:r.name})}function Uc(r){return RG(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dLe(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&$s(r,"argument-error"),RG(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function TG(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return TJ.create(r,...e)}function pt(r,e,...t){if(!r)throw TG(e,...t)}function tu(r){const e="INTERNAL ASSERTION FAILED: "+r;throw N_(e),new Error(e)}function Eu(r,e){r||tu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function hLe(){return e3()==="http:"||e3()==="https:"}function e3(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pLe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hLe()||BAe()||"connection"in navigator)?navigator.onLine:!0}function fLe(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this.shortDelay=e,this.longDelay=t,Eu(t>e,"Short delay should be less than long delay!"),this.isMobile=HAe()||jAe()}get(){return pLe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(r,e){Eu(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gLe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mLe=new lw(3e4,6e4);function gp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function pd(r,e,t,n,i={}){return OJ(r,i,async()=>{let o={},s={};n&&(e==="GET"?s=n:o={body:JSON.stringify(n)});const a=XC(Object.assign({key:r.config.apiKey},s)).slice(1),l=await r._getAdditionalHeaders();l["Content-Type"]="application/json",r.languageCode&&(l["X-Firebase-Locale"]=r.languageCode);const u=Object.assign({method:e,headers:l},o);return $Ae()||(u.referrerPolicy="no-referrer"),PJ.fetch()(DJ(r,r.config.apiHost,t,a),u)})}async function OJ(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},gLe),e);try{const i=new yLe(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw pE(r,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pE(r,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw pE(r,"email-already-in-use",s);if(l==="USER_DISABLED")throw pE(r,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RG(r,c,u);$s(r,c)}}catch(i){if(i instanceof Mu)throw i;$s(r,"network-request-failed",{message:String(i)})}}async function sD(r,e,t,n,i={}){const o=await pd(r,e,t,n,i);return"mfaPendingCredential"in o&&$s(r,"multi-factor-auth-required",{_serverResponse:o}),o}function DJ(r,e,t,n){const i=`${e}${t}?${n}`;return r.config.emulator?PG(r.config,i):`${r.config.apiScheme}://${i}`}function vLe(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yLe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(pa(this.auth,"network-request-failed")),mLe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pE(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=pa(r,e,n);return i.customData._tokenResponse=t,i}function t3(r){return r!==void 0&&r.enterprise!==void 0}class CLe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vLe(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wLe(r,e){return pd(r,"GET","/v2/recaptchaConfig",gp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SLe(r,e){return pd(r,"POST","/v1/accounts:delete",e)}async function AJ(r,e){return pd(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ELe(r,e=!1){const t=Sr(r),n=await t.getIdToken(e),i=OG(n);pt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:Cy(rI(i.auth_time)),issuedAtTime:Cy(rI(i.iat)),expirationTime:Cy(rI(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rI(r){return Number(r)*1e3}function OG(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return N_("JWT malformed, contained fewer than 3 sections"),null;try{const i=zQ(t);return i?JSON.parse(i):(N_("Failed to decode base64 JWT payload"),null)}catch(i){return N_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function n3(r){const e=OG(r);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function By(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Mu&&_Le(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function _Le({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bLe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cy(this.lastLoginAt),this.creationTime=Cy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(r){var e;const t=r.auth,n=await r.getIdToken(),i=await By(r,AJ(t,{idToken:n}));pt(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xJ(o.providerUserInfo):[],a=TLe(r.providerData,s),l=r.isAnonymous,u=!(r.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new WM(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(r,d)}async function RLe(r){const e=Sr(r);await mT(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TLe(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function xJ(r){return r.map(e=>{var{providerId:t}=e,n=HC(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PLe(r,e){const t=await OJ(r,{},async()=>{const n=XC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,s=DJ(r,i,"/v1/token",`key=${o}`),a=await r._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",PJ.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OLe(r,e){return pd(r,"POST","/v2/accounts:revokeToken",gp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const t=n3(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await PLe(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,s=new kf;return n&&(pt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(pt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kf,this.toJSON())}_performRefresh(){return tu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(r,e){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class nu{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=HC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bLe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new WM(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await By(this,this.stsTokenManager.getToken(this.auth,e));return pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ELe(this,e)}reload(){return RLe(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await mT(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dl(this.auth.app))return Promise.reject(Uc(this.auth));const e=await this.getIdToken();return await By(this,SLe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,s,a,l,u,c;const d=(n=t.displayName)!==null&&n!==void 0?n:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,p=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,f=(s=t.photoURL)!==null&&s!==void 0?s:void 0,g=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=t.createdAt)!==null&&u!==void 0?u:void 0,C=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:S,isAnonymous:P,providerData:F,stsTokenManager:_}=t;pt(w&&_,e,"internal-error");const E=kf.fromJSON(this.name,_);pt(typeof w=="string",e,"internal-error"),ec(d,e.name),ec(h,e.name),pt(typeof S=="boolean",e,"internal-error"),pt(typeof P=="boolean",e,"internal-error"),ec(p,e.name),ec(f,e.name),ec(g,e.name),ec(v,e.name),ec(y,e.name),ec(C,e.name);const T=new nu({uid:w,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:P,photoURL:f,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:y,lastLoginAt:C});return F&&Array.isArray(F)&&(T.providerData=F.map(O=>Object.assign({},O))),v&&(T._redirectEventId=v),T}static async _fromIdTokenResponse(e,t,n=!1){const i=new kf;i.updateFromServerResponse(t);const o=new nu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await mT(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];pt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xJ(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new kf;a.updateFromIdToken(n);const l=new nu({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new WM(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=new Map;function ru(r){Eu(r instanceof Function,"Expected a class definition");let e=r3.get(r);return e?(Eu(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,r3.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IJ.type="NONE";const i3=IJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(r,e,t){return`firebase:${r}:${e}:${t}`}class $f{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=G_(this.userKey,i.apiKey,o),this.fullPersistenceKey=G_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new $f(ru(i3),e,n);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ru(i3);const s=G_(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=await u._get(s);if(c){const d=nu._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new $f(o,e,n):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new $f(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NJ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FJ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VJ(e))return"Blackberry";if(HJ(e))return"Webos";if(MJ(e))return"Safari";if((e.includes("chrome/")||LJ(e))&&!e.includes("edge/"))return"Chrome";if(GJ(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function FJ(r=Bi()){return/firefox\//i.test(r)}function MJ(r=Bi()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LJ(r=Bi()){return/crios\//i.test(r)}function NJ(r=Bi()){return/iemobile/i.test(r)}function GJ(r=Bi()){return/android/i.test(r)}function VJ(r=Bi()){return/blackberry/i.test(r)}function HJ(r=Bi()){return/webos/i.test(r)}function DG(r=Bi()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DLe(r=Bi()){var e;return DG(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ALe(){return WAe()&&document.documentMode===10}function kJ(r=Bi()){return DG(r)||GJ(r)||HJ(r)||VJ(r)||/windows phone/i.test(r)||NJ(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $J(r,e=[]){let t;switch(r){case"Browser":t=o3(Bi());break;case"Worker":t=`${o3(Bi())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qg}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xLe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ILe(r,e={}){return pd(r,"GET","/v2/passwordPolicy",gp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FLe=6;class MLe{constructor(e){var t,n,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:FLe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LLe{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s3(this),this.idTokenSubscription=new s3(this),this.beforeStateQueue=new xLe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TJ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ru(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await $f.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await AJ(this,{idToken:e}),n=await nu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mT(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fLe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dl(this.app))return Promise.reject(Uc(this));const t=e?Sr(e):null;return t&&pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dl(this.app)?Promise.reject(Uc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dl(this.app)?Promise.reject(Uc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ru(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ILe(this),t=new MLe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new QC("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await OLe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ru(e)||this._popupRedirectResolver;pt(t,this,"argument-error"),this.redirectPersistenceManager=await $f.create(this,[ru(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(t);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$J(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cLe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function mp(r){return Sr(r)}class s3{constructor(e){this.auth=e,this.observer=null,this.addObserver=JAe(t=>this.observer=t)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aD={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NLe(r){aD=r}function BJ(r){return aD.loadJS(r)}function GLe(){return aD.recaptchaEnterpriseScript}function VLe(){return aD.gapiScript}function HLe(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const kLe="recaptcha-enterprise",$Le="NO_RECAPTCHA";class BLe{constructor(e){this.type=kLe,this.auth=mp(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{wLe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new CLe(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;t3(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s($Le)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{n(this.auth).then(a=>{if(!t&&t3(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GLe();l.length!==0&&(l+=a),BJ(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function a3(r,e,t,n=!1){const i=new BLe(r);let o;try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function l3(r,e,t,n){var i;if(!((i=r._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await a3(r,e,t,t==="getOobCode");return n(r,o)}else return n(r,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await a3(r,e,t,t==="getOobCode");return n(r,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jLe(r,e){const t=M0(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(iT(o,e??{}))return i;$s(i,"already-initialized")}return t.initialize({options:e})}function WLe(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ru);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function ULe(r,e,t){const n=mp(r);pt(n._canInitEmulator,n,"emulator-config-failed"),pt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=jJ(e),{host:s,port:a}=zLe(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),KLe()}function jJ(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zLe(r){const e=jJ(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:u3(n.substr(o.length+1))}}else{const[o,s]=n.split(":");return{host:o,port:u3(s)}}}function u3(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KLe(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tu("not implemented")}_getIdTokenResponse(e){return tu("not implemented")}_linkToIdToken(e,t){return tu("not implemented")}_getReauthenticationResolver(e){return tu("not implemented")}}async function YLe(r,e){return pd(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qLe(r,e){return sD(r,"POST","/v1/accounts:signInWithPassword",gp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QLe(r,e){return sD(r,"POST","/v1/accounts:signInWithEmailLink",gp(r,e))}async function XLe(r,e){return sD(r,"POST","/v1/accounts:signInWithEmailLink",gp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends AG{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new jy(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new jy(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l3(e,t,"signInWithPassword",qLe);case"emailLink":return QLe(e,{email:this._email,oobCode:this._password});default:$s(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l3(e,n,"signUpPassword",YLe);case"emailLink":return XLe(e,{idToken:t,email:this._email,oobCode:this._password});default:$s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(r,e){return sD(r,"POST","/v1/accounts:signInWithIdp",gp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JLe="http://localhost";class Hh extends AG{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$s("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=HC(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Hh(n,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Bf(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bf(e,t)}buildRequest(){const e={requestUri:JLe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=XC(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZLe(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eNe(r){const e=jv(Wv(r)).link,t=e?jv(Wv(e)).deep_link_id:null,n=jv(Wv(r)).deep_link_id;return(n?jv(Wv(n)).link:null)||n||t||e||r}class xG{constructor(e){var t,n,i,o,s,a;const l=jv(Wv(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=ZLe((i=l.mode)!==null&&i!==void 0?i:null);pt(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=eNe(e);try{return new xG(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.providerId=em.PROVIDER_ID}static credential(e,t){return jy._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xG.parseLink(t);return pt(n,"argument-error"),jy._fromEmailAndCode(e,n.code,n.tenantId)}}em.PROVIDER_ID="password";em.EMAIL_PASSWORD_SIGN_IN_METHOD="password";em.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends IG{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends uw{constructor(){super("facebook.com")}static credential(e){return Hh._fromParams({providerId:bc.PROVIDER_ID,signInMethod:bc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bc.credentialFromTaggedObject(e)}static credentialFromError(e){return bc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bc.credential(e.oauthAccessToken)}catch{return null}}}bc.FACEBOOK_SIGN_IN_METHOD="facebook.com";bc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends uw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hh._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ll.credential(t,n)}catch{return null}}}ll.GOOGLE_SIGN_IN_METHOD="google.com";ll.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends uw{constructor(){super("github.com")}static credential(e){return Hh._fromParams({providerId:Rc.PROVIDER_ID,signInMethod:Rc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rc.credentialFromTaggedObject(e)}static credentialFromError(e){return Rc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rc.credential(e.oauthAccessToken)}catch{return null}}}Rc.GITHUB_SIGN_IN_METHOD="github.com";Rc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends uw{constructor(){super("twitter.com")}static credential(e,t){return Hh._fromParams({providerId:Tc.PROVIDER_ID,signInMethod:Tc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tc.credentialFromTaggedObject(e)}static credentialFromError(e){return Tc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Tc.credential(t,n)}catch{return null}}}Tc.TWITTER_SIGN_IN_METHOD="twitter.com";Tc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await nu._fromIdTokenResponse(e,n,i),s=c3(n);return new fg({user:o,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=c3(n);return new fg({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function c3(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Mu{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,vT.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new vT(e,t,n,i)}}function WJ(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vT._fromErrorAndOperation(r,o,e,n):o})}async function tNe(r,e,t=!1){const n=await By(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return fg._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nNe(r,e,t=!1){const{auth:n}=r;if(dl(n.app))return Promise.reject(Uc(n));const i="reauthenticate";try{const o=await By(r,WJ(n,i,e,r),t);pt(o.idToken,n,"internal-error");const s=OG(o.idToken);pt(s,n,"internal-error");const{sub:a}=s;return pt(r.uid===a,n,"user-mismatch"),fg._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&$s(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(r,e,t=!1){if(dl(r.app))return Promise.reject(Uc(r));const n="signIn",i=await WJ(r,n,e),o=await fg._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function rNe(r,e){return UJ(mp(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iNe(r){const e=mp(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function oNe(r,e,t){return dl(r.app)?Promise.reject(Uc(r)):rNe(Sr(r),em.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&iNe(r),n})}function sNe(r,e,t,n){return Sr(r).onIdTokenChanged(e,t,n)}function aNe(r,e,t){return Sr(r).beforeAuthStateChanged(e,t)}function lNe(r,e,t,n){return Sr(r).onAuthStateChanged(e,t,n)}function uNe(r){return Sr(r).signOut()}const yT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yT,"1"),this.storage.removeItem(yT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cNe=1e3,dNe=10;class KJ extends zJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kJ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},o=this.storage.getItem(n);ALe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dNe):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},cNe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KJ.type="LOCAL";const hNe=KJ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ extends zJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}YJ.type="SESSION";const qJ=YJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pNe(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new lD(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map(async u=>u(t.origin,o)),l=await pNe(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lD.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fNe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=FG("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(){return window}function gNe(r){yl().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(){return typeof yl().WorkerGlobalScope<"u"&&typeof yl().importScripts=="function"}async function mNe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vNe(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function yNe(){return QJ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ="firebaseLocalStorageDb",CNe=1,CT="firebaseLocalStorage",JJ="fbase_key";class cw{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uD(r,e){return r.transaction([CT],e?"readwrite":"readonly").objectStore(CT)}function wNe(){const r=indexedDB.deleteDatabase(XJ);return new cw(r).toPromise()}function UM(){const r=indexedDB.open(XJ,CNe);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(CT,{keyPath:JJ})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(CT)?e(n):(n.close(),await wNe(),e(await UM()))})})}async function d3(r,e,t){const n=uD(r,!0).put({[JJ]:e,value:t});return new cw(n).toPromise()}async function SNe(r,e){const t=uD(r,!1).get(e),n=await new cw(t).toPromise();return n===void 0?null:n.value}function h3(r,e){const t=uD(r,!0).delete(e);return new cw(t).toPromise()}const ENe=800,_Ne=3;class ZJ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await UM(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>_Ne)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QJ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lD._getInstance(yNe()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mNe(),!this.activeServiceWorker)return;this.sender=new fNe(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vNe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await UM();return await d3(e,yT,"1"),await h3(e,yT),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>d3(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>SNe(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h3(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=uD(i,!1).getAll();return new cw(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ENe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZJ.type="LOCAL";const bNe=ZJ;new lw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(r,e){return e?ru(e):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG extends AG{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RNe(r){return UJ(r.auth,new MG(r),r.bypassAuthState)}function TNe(r){const{auth:e,user:t}=r;return pt(t,e,"internal-error"),nNe(t,new MG(r),r.bypassAuthState)}async function PNe(r){const{auth:e,user:t}=r;return pt(t,e,"internal-error"),tNe(t,new MG(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RNe;case"linkViaPopup":case"linkViaRedirect":return PNe;case"reauthViaPopup":case"reauthViaRedirect":return TNe;default:$s(this.auth,"internal-error")}}resolve(e){Eu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Eu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ONe=new lw(2e3,1e4);async function DNe(r,e,t){if(dl(r.app))return Promise.reject(pa(r,"operation-not-supported-in-this-environment"));const n=mp(r);dLe(r,e,IG);const i=eZ(n,t);return new lh(n,"signInViaPopup",e,i).executeNotNull()}class lh extends tZ{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,lh.currentPopupAction&&lh.currentPopupAction.cancel(),lh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Eu(this.filter.length===1,"Popup operations only handle one event");const e=FG();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ONe.get())};e()}}lh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANe="pendingRedirect",V_=new Map;class xNe extends tZ{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=V_.get(this.auth._key());if(!e){try{const n=await INe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}V_.set(this.auth._key(),e)}return this.bypassAuthState||V_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function INe(r,e){const t=LNe(e),n=MNe(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function FNe(r,e){V_.set(r._key(),e)}function MNe(r){return ru(r._redirectPersistence)}function LNe(r){return G_(ANe,r.config.apiKey,r.name)}async function NNe(r,e,t=!1){if(dl(r.app))return Promise.reject(Uc(r));const n=mp(r),i=eZ(n,e),s=await new xNe(n,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GNe=10*60*1e3;class VNe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HNe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!nZ(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(pa(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GNe&&this.cachedEventUids.clear(),this.cachedEventUids.has(p3(e))}saveEventToCache(e){this.cachedEventUids.add(p3(e)),this.lastProcessedEventTime=Date.now()}}function p3(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function nZ({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HNe(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nZ(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kNe(r,e={}){return pd(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BNe=/^https?/;async function jNe(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kNe(r);for(const t of e)try{if(WNe(t))return}catch{}$s(r,"unauthorized-domain")}function WNe(r){const e=jM(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!BNe.test(t))return!1;if($Ne.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UNe=new lw(3e4,6e4);function f3(){const r=yl().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function zNe(r){return new Promise((e,t)=>{var n,i,o;function s(){f3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f3(),t(pa(r,"network-request-failed"))},timeout:UNe.get()})}if(!((i=(n=yl().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=yl().gapi)===null||o===void 0)&&o.load)s();else{const a=HLe("iframefcb");return yl()[a]=()=>{gapi.load?s():t(pa(r,"network-request-failed"))},BJ(`${VLe()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw H_=null,e})}let H_=null;function KNe(r){return H_=H_||zNe(r),H_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YNe=new lw(5e3,15e3),qNe="__/auth/iframe",QNe="emulator/auth/iframe",XNe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JNe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZNe(r){const e=r.config;pt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?PG(e,QNe):`https://${r.config.authDomain}/${qNe}`,n={apiKey:e.apiKey,appName:r.name,v:qg},i=JNe.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${XC(n).slice(1)}`}async function e0e(r){const e=await KNe(r),t=yl().gapi;return pt(t,r,"internal-error"),e.open({where:document.body,url:ZNe(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XNe,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const s=pa(r,"network-request-failed"),a=yl().setTimeout(()=>{o(s)},YNe.get());function l(){yl().clearTimeout(a),i(n)}n.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n0e=500,r0e=600,i0e="_blank",o0e="http://localhost";class g3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s0e(r,e,t,n=n0e,i=r0e){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},t0e),{width:n.toString(),height:i.toString(),top:o,left:s}),u=Bi().toLowerCase();t&&(a=LJ(u)?i0e:t),FJ(u)&&(e=e||o0e,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(DLe(u)&&a!=="_self")return a0e(e||"",a),new g3(null);const d=window.open(e||"",a,c);pt(d,r,"popup-blocked");try{d.focus()}catch{}return new g3(d)}function a0e(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0e="__/auth/handler",u0e="emulator/auth/handler",c0e=encodeURIComponent("fac");async function m3(r,e,t,n,i,o){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:qg,eventId:i};if(e instanceof IG){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",XAe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof uw){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}r.tenantId&&(s.tid=r.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await r._getAppCheckToken(),u=l?`#${c0e}=${encodeURIComponent(l)}`:"";return`${d0e(r)}?${XC(a).slice(1)}${u}`}function d0e({config:r}){return r.emulator?PG(r,u0e):`https://${r.authDomain}/${l0e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="webStorageSupport";class h0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qJ,this._completeRedirectFn=NNe,this._overrideRedirectResult=FNe}async _openPopup(e,t,n,i){var o;Eu((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await m3(e,t,n,jM(),i);return s0e(e,s,FG())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await m3(e,t,n,jM(),i);return gNe(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Eu(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await e0e(e),n=new VNe(e);return t.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iI,{type:iI},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[iI];s!==void 0&&t(!!s),$s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=jNe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kJ()||MJ()||DG()}}const p0e=h0e;var v3="@firebase/auth",y3="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0e(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m0e(r){sg(new Lh("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;pt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:a,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$J(r)},u=new LLe(n,i,o,l);return WLe(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),sg(new Lh("auth-internal",e=>{const t=mp(e.getProvider("auth").getImmediate());return(n=>new f0e(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jc(v3,y3,g0e(r)),jc(v3,y3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0e=5*60,y0e=qQ("authIdTokenMaxAge")||v0e;let C3=null;const C0e=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>y0e)return;const i=t==null?void 0:t.token;C3!==i&&(C3=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LG(r=JQ()){const e=M0(r,"auth");if(e.isInitialized())return e.getImmediate();const t=jLe(r,{popupRedirectResolver:p0e,persistence:[bNe,hNe,qJ]}),n=qQ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const s=C0e(o.toString());aNe(t,s,()=>s(t.currentUser)),sNe(t,a=>s(a))}}const i=KQ("auth");return i&&ULe(t,`http://${i}`),t}function w0e(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}NLe({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=pa("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",w0e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m0e("Browser");const NG={apiKey:"AIzaSyBm2rIxMiZUxMWtzewLz1s6hZeNQEDvm6s",authDomain:"galaxyhealth.firebaseapp.com",projectId:"galaxyhealth",storageBucket:"galaxyhealth.appspot.com",messagingSenderId:"415572460225",appId:"1:415572460225:web:0e67f8d39701a6699d0a40"},rZ=L0(NG),wo=lJ(rZ),Wy=LG(rZ);new ll;const wT=({message:r="Loading..."})=>b.jsx(EY,{style:{height:"100%",minHeight:200},children:b.jsxs(Dn,{align:"center",spacing:"xs",children:[b.jsx(dd,{size:"lg"}),b.jsx(Se,{size:"sm",color:"dimmed",children:r})]})});var iZ={exports:{}},S0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E0e=S0e,_0e=E0e;function oZ(){}function sZ(){}sZ.resetWarningCache=oZ;var b0e=function(){function r(n,i,o,s,a,l){if(l!==_0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sZ,resetWarningCache:oZ};return t.PropTypes=t,t};iZ.exports=b0e();var aZ=iZ.exports;const en=I6(aZ);var R0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},T0e=Object.defineProperty,P0e=Object.defineProperties,O0e=Object.getOwnPropertyDescriptors,ST=Object.getOwnPropertySymbols,lZ=Object.prototype.hasOwnProperty,uZ=Object.prototype.propertyIsEnumerable,w3=(r,e,t)=>e in r?T0e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,S3=(r,e)=>{for(var t in e||(e={}))lZ.call(e,t)&&w3(r,t,e[t]);if(ST)for(var t of ST(e))uZ.call(e,t)&&w3(r,t,e[t]);return r},D0e=(r,e)=>P0e(r,O0e(e)),A0e=(r,e)=>{var t={};for(var n in r)lZ.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&ST)for(var n of ST(r))e.indexOf(n)<0&&uZ.call(r,n)&&(t[n]=r[n]);return t},At=(r,e,t)=>{const n=Ce((i,o)=>{var s=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=s,d=A0e(s,["color","size","stroke","children"]);return zt("svg",S3(D0e(S3({ref:o},R0e),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${r}`}),d),[...t.map(([h,p])=>zt(h,p)),...c||[]])});return n.propTypes={color:en.string,size:en.oneOfType([en.string,en.number]),stroke:en.oneOfType([en.string,en.number])},n.displayName=`${e}`,n},tm=At("alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),cZ=At("alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]),cD=At("arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),dZ=At("bell","IconBell",[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]]),x0e=At("brain","IconBrain",[["path",{d:"M15.5 13a3.5 3.5 0 0 0 -3.5 3.5v1a3.5 3.5 0 0 0 7 0v-1.8",key:"svg-0"}],["path",{d:"M8.5 13a3.5 3.5 0 0 1 3.5 3.5v1a3.5 3.5 0 0 1 -7 0v-1.8",key:"svg-1"}],["path",{d:"M17.5 16a3.5 3.5 0 0 0 0 -7h-.5",key:"svg-2"}],["path",{d:"M19 9.3v-2.8a3.5 3.5 0 0 0 -7 0",key:"svg-3"}],["path",{d:"M6.5 16a3.5 3.5 0 0 1 0 -7h.5",key:"svg-4"}],["path",{d:"M5 9.3v-2.8a3.5 3.5 0 0 1 7 0v10",key:"svg-5"}]]),I0e=At("brand-google","IconBrandGoogle",[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]]),F0e=At("browser","IconBrowser",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 8l16 0",key:"svg-1"}],["path",{d:"M8 4l0 4",key:"svg-2"}]]),hZ=At("calendar-stats","IconCalendarStats",[["path",{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4",key:"svg-0"}],["path",{d:"M18 14v4h4",key:"svg-1"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-2"}],["path",{d:"M15 3v4",key:"svg-3"}],["path",{d:"M7 3v4",key:"svg-4"}],["path",{d:"M3 11h16",key:"svg-5"}]]),pZ=At("chart-bar","IconChartBar",[["path",{d:"M3 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 8m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M15 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20l14 0",key:"svg-3"}]]),M0e=At("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]),ET=At("checks","IconChecks",[["path",{d:"M7 12l5 5l10 -10",key:"svg-0"}],["path",{d:"M2 12l5 5m5 -5l5 -5",key:"svg-1"}]]),L0e=At("coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]),N0e=At("columns","IconColumns",[["path",{d:"M4 6l5.5 0",key:"svg-0"}],["path",{d:"M4 10l5.5 0",key:"svg-1"}],["path",{d:"M4 14l5.5 0",key:"svg-2"}],["path",{d:"M4 18l5.5 0",key:"svg-3"}],["path",{d:"M14.5 6l5.5 0",key:"svg-4"}],["path",{d:"M14.5 10l5.5 0",key:"svg-5"}],["path",{d:"M14.5 14l5.5 0",key:"svg-6"}],["path",{d:"M14.5 18l5.5 0",key:"svg-7"}]]),fZ=At("database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]),G0e=At("device-desktop","IconDeviceDesktop",[["path",{d:"M3 5a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10z",key:"svg-0"}],["path",{d:"M7 20h10",key:"svg-1"}],["path",{d:"M9 16v4",key:"svg-2"}],["path",{d:"M15 16v4",key:"svg-3"}]]),V0e=At("dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),H0e=At("download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),k0e=At("external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]),$0e=At("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]),B0e=At("history","IconHistory",[["path",{d:"M12 8l0 4l2 2",key:"svg-0"}],["path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5",key:"svg-1"}]]),j0e=At("home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]),gZ=At("info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]),W0e=At("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),U0e=At("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),z0e=At("moon-stars","IconMoonStars",[["path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z",key:"svg-0"}],["path",{d:"M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2",key:"svg-1"}],["path",{d:"M19 11h2m-1 -1v2",key:"svg-2"}]]),K0e=At("paperclip","IconPaperclip",[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]]),mZ=At("report-medical","IconReportMedical",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M10 14l4 0",key:"svg-2"}],["path",{d:"M12 12l0 4",key:"svg-3"}]]),Y0e=At("robot","IconRobot",[["path",{d:"M6 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v4a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 2v2",key:"svg-1"}],["path",{d:"M9 12v9",key:"svg-2"}],["path",{d:"M15 12v9",key:"svg-3"}],["path",{d:"M5 16l4 -2",key:"svg-4"}],["path",{d:"M15 14l4 2",key:"svg-5"}],["path",{d:"M9 18h6",key:"svg-6"}],["path",{d:"M10 8v.01",key:"svg-7"}],["path",{d:"M14 8v.01",key:"svg-8"}]]),GG=At("settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]),dw=At("stethoscope","IconStethoscope",[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]]),q0e=At("sun","IconSun",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7",key:"svg-1"}]]),Q0e=At("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),X0e=At("trending-down","IconTrendingDown",[["path",{d:"M3 7l6 6l4 -4l8 8",key:"svg-0"}],["path",{d:"M21 10l0 7l-7 0",key:"svg-1"}]]),vZ=At("trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]),oI=At("upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),yZ=At("user-check","IconUserCheck",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]),J0e=At("user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]),CZ=At("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]),VG=At("users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]),wZ=At("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);const Z0e=({error:r})=>b.jsx(Gi,{size:"sm",py:"xl",children:b.jsx(Fh,{icon:b.jsx(tm,{size:16}),title:"Error",color:"red",variant:"filled",children:(r==null?void 0:r.message)||"An unexpected error occurred"})}),eGe=(r,e={})=>{console.error("Error:",{message:r.message,code:r.code,context:e,stack:r.stack})};class Wot extends x.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){eGe(e,{component:"ErrorBoundary",info:t})}render(){var e;return this.state.hasError?b.jsx(Gi,{size:"sm",py:"xl",children:b.jsx(Fh,{icon:b.jsx(tm,{size:16}),title:"Something went wrong",color:"red",variant:"filled",children:b.jsxs(Dn,{spacing:"md",children:[b.jsx("div",{children:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred"}),b.jsx(mr,{variant:"white",onClick:()=>window.location.reload(),children:"Reload Page"})]})})}):this.props.children}}const SZ=Yn(null),nm=()=>{const r=Ut(SZ);if(!r)throw new Error("useUser must be used within a UserProvider");return r},tGe=({children:r})=>{console.log("UserProvider initializing");const[e,t]=Te(null),[n,i]=Te(!0),[o,s]=Te(null),a=async u=>{try{const c=new Date().toISOString(),d=u.email==="brendansmithelion@gmail.com",h={uid:u.uid,email:u.email,displayName:u.displayName||u.email,photoURL:u.photoURL,role:d?"admin":"user",registeredAt:c,createdAt:c,lastUpdated:c,isActive:!0,accountStatus:"active"},p=ns(wo,"users",u.uid);await tI(p,h);const f=ns(wo,"userSettings",u.uid),g={theme:"dark",notifications:!0,dashboardLayout:"default",language:"en",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,createdAt:c,updatedAt:c};await tI(f,g);const v=ns(wo,"userPreferences",u.uid);return await tI(v,{favoritePatients:[],recentSearches:[],customViews:[],shortcuts:[],createdAt:c,updatedAt:c}),h}catch(c){throw console.error("Error creating new user:",c),c}};Fe(()=>{console.log("Setting up auth listener");const u=LG();let c;try{c=lNe(u,async d=>{console.log("Auth state changed:",d?"User logged in":"No user");try{if(i(!0),console.log("Current firebaseUser:",d==null?void 0:d.email),d){const h=ns(wo,"users",d.uid);console.log("Attempting to read user document for:",d.uid);try{const p=await _G(h);console.log("Document exists?",p.exists());let f;p.exists()?(f=p.data(),console.log("Retrieved user data:",f)):(console.log("Creating new user document"),f=await a(d)),t({...d,...f})}catch(p){throw console.error("Specific Firestore error:",{code:p.code,message:p.message,details:p}),p}}else t(null)}catch(h){console.error("Auth state change error:",{code:h.code,message:h.message,details:h}),s(h)}finally{i(!1)}})}catch(d){console.error("Auth setup error:",d),s(d),i(!1)}return()=>c==null?void 0:c()},[]);const l={user:e,loading:n,error:o,login:async u=>{t(u)},logout:async()=>{try{await uNe(Wy),t(null)}catch(u){throw console.error("Logout error:",u),u}},makeAdmin:async()=>{try{const u=ns(wo,"users",e.uid);await Hf(u,{role:"admin",updatedAt:new Date().toISOString()}),await Wy.currentUser.getIdToken(!0),window.location.reload()}catch(u){console.error("Error making user admin:",u)}}};return n?b.jsx(wT,{}):o?b.jsx(Z0e,{error:o}):b.jsx(SZ.Provider,{value:l,children:r})},EZ=Yn({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),dD=Yn({}),hD=Yn(null),pD=typeof document<"u",HG=pD?xu:Fe,_Z=Yn({strict:!1}),kG=r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nGe="framerAppearId",bZ="data-"+kG(nGe);function rGe(r,e,t,n){const{visualElement:i}=Ut(dD),o=Ut(_Z),s=Ut(hD),a=Ut(EZ).reducedMotion,l=ve();n=n||o.renderer,!l.current&&n&&(l.current=n(r,{visualState:e,parent:i,props:t,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;O6(()=>{u&&u.update(t,s)});const c=ve(!!(t[bZ]&&!window.HandoffComplete));return HG(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),Fe(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function bf(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function iGe(r,e,t){return at(n=>{n&&r.mount&&r.mount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):bf(t)&&(t.current=n))},[e])}function Uy(r){return typeof r=="string"||Array.isArray(r)}function fD(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const $G=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BG=["initial",...$G];function gD(r){return fD(r.animate)||BG.some(e=>Uy(r[e]))}function RZ(r){return!!(gD(r)||r.variants)}function oGe(r,e){if(gD(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Uy(t)?t:void 0,animate:Uy(n)?n:void 0}}return r.inherit!==!1?e:{}}function sGe(r){const{initial:e,animate:t}=oGe(r,Ut(dD));return Rn(()=>({initial:e,animate:t}),[E3(e),E3(t)])}function E3(r){return Array.isArray(r)?r.join(" "):r}const _3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zy={};for(const r in _3)zy[r]={isEnabled:e=>_3[r].some(t=>!!e[t])};function aGe(r){for(const e in r)zy[e]={...zy[e],...r[e]}}const jG=Yn({}),TZ=Yn({}),lGe=Symbol.for("motionComponentSymbol");function uGe({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){r&&aGe(r);function o(a,l){let u;const c={...Ut(EZ),...a,layoutId:cGe(a)},{isStatic:d}=c,h=sGe(a),p=n(a,d);if(!d&&pD){h.visualElement=rGe(i,p,c,e);const f=Ut(TZ),g=Ut(_Z).strict;h.visualElement&&(u=h.visualElement.loadFeatures(c,g,r,f))}return ne.createElement(dD.Provider,{value:h},u&&h.visualElement?ne.createElement(u,{visualElement:h.visualElement,...c}):null,t(i,a,iGe(p,h.visualElement,l),p,d,h.visualElement))}const s=Ce(o);return s[lGe]=i,s}function cGe({layoutId:r}){const e=Ut(jG).id;return e&&r!==void 0?e+"-"+r:r}function dGe(r){function e(n,i={}){return uGe(r(n,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(n,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const hGe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WG(r){return typeof r!="string"||r.includes("-")?!1:!!(hGe.indexOf(r)>-1||/[A-Z]/.test(r))}const _T={};function pGe(r){Object.assign(_T,r)}const hw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vp=new Set(hw);function PZ(r,{layout:e,layoutId:t}){return vp.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!_T[r]||r==="opacity")}const Do=r=>!!(r&&r.getVelocity),fGe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gGe=hw.length;function mGe(r,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},n,i){let o="";for(let s=0;s<gGe;s++){const a=hw[s];if(r[a]!==void 0){const l=fGe[a]||a;o+=`${l}(${r[a]}) `}}return e&&!r.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(r,n?"":o):t&&n&&(o="none"),o}const OZ=r=>e=>typeof e=="string"&&e.startsWith(r),DZ=OZ("--"),zM=OZ("var(--"),vGe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,yGe=(r,e)=>e&&typeof r=="number"?e.transform(r):r,rd=(r,e,t)=>Math.min(Math.max(t,r),e),yp={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},wy={...yp,transform:r=>rd(0,1,r)},fE={...yp,default:1},Sy=r=>Math.round(r*1e5)/1e5,mD=/(-)?([\d]*\.?[\d])+/g,AZ=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,CGe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pw(r){return typeof r=="string"}const fw=r=>({test:e=>pw(e)&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),mc=fw("deg"),Cl=fw("%"),ut=fw("px"),wGe=fw("vh"),SGe=fw("vw"),b3={...Cl,parse:r=>Cl.parse(r)/100,transform:r=>Cl.transform(r*100)},R3={...yp,transform:Math.round},xZ={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,size:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,rotate:mc,rotateX:mc,rotateY:mc,rotateZ:mc,scale:fE,scaleX:fE,scaleY:fE,scaleZ:fE,skew:mc,skewX:mc,skewY:mc,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:wy,originX:b3,originY:b3,originZ:ut,zIndex:R3,fillOpacity:wy,strokeOpacity:wy,numOctaves:R3};function UG(r,e,t,n){const{style:i,vars:o,transform:s,transformOrigin:a}=r;let l=!1,u=!1,c=!0;for(const d in e){const h=e[d];if(DZ(d)){o[d]=h;continue}const p=xZ[d],f=yGe(h,p);if(vp.has(d)){if(l=!0,s[d]=f,!c)continue;h!==(p.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=f):i[d]=f}if(e.transform||(l||n?i.transform=mGe(r.transform,t,c,n):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;i.transformOrigin=`${d} ${h} ${p}`}}const zG=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IZ(r,e,t){for(const n in e)!Do(e[n])&&!PZ(n,t)&&(r[n]=e[n])}function EGe({transformTemplate:r},e,t){return Rn(()=>{const n=zG();return UG(n,e,{enableHardwareAcceleration:!t},r),Object.assign({},n.vars,n.style)},[e])}function _Ge(r,e,t){const n=r.style||{},i={};return IZ(i,n,r),Object.assign(i,EGe(r,e,t)),r.transformValues?r.transformValues(i):i}function bGe(r,e,t){const n={},i=_Ge(r,e,t);return r.drag&&r.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(n.tabIndex=0),n.style=i,n}const RGe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bT(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||RGe.has(r)}let FZ=r=>!bT(r);function TGe(r){r&&(FZ=e=>e.startsWith("on")?!bT(e):r(e))}try{TGe(require("@emotion/is-prop-valid").default)}catch{}function PGe(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(FZ(i)||t===!0&&bT(i)||!e&&!bT(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function T3(r,e,t){return typeof r=="string"?r:ut.transform(e+t*r)}function OGe(r,e,t){const n=T3(e,r.x,r.width),i=T3(t,r.y,r.height);return`${n} ${i}`}const DGe={offset:"stroke-dashoffset",array:"stroke-dasharray"},AGe={offset:"strokeDashoffset",array:"strokeDasharray"};function xGe(r,e,t=1,n=0,i=!0){r.pathLength=1;const o=i?DGe:AGe;r[o.offset]=ut.transform(-n);const s=ut.transform(e),a=ut.transform(t);r[o.array]=`${s} ${a}`}function KG(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(UG(r,u,c,h),d){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:p,style:f,dimensions:g}=r;p.transform&&(g&&(f.transform=p.transform),delete p.transform),g&&(i!==void 0||o!==void 0||f.transform)&&(f.transformOrigin=OGe(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),n!==void 0&&(p.scale=n),s!==void 0&&xGe(p,s,a,l,!1)}const MZ=()=>({...zG(),attrs:{}}),YG=r=>typeof r=="string"&&r.toLowerCase()==="svg";function IGe(r,e,t,n){const i=Rn(()=>{const o=MZ();return KG(o,e,{enableHardwareAcceleration:!1},YG(n),r.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(r.style){const o={};IZ(o,r.style,r),i.style={...o,...i.style}}return i}function FGe(r=!1){return(t,n,i,{latestValues:o},s)=>{const l=(WG(t)?IGe:bGe)(n,o,s,t),c={...PGe(n,typeof t=="string",r),...l,ref:i},{children:d}=n,h=Rn(()=>Do(d)?d.get():d,[d]);return zt(t,{...c,children:h})}}function LZ(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const o in t)r.style.setProperty(o,t[o])}const NZ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GZ(r,e,t,n){LZ(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(NZ.has(i)?i:kG(i),e.attrs[i])}function qG(r,e){const{style:t}=r,n={};for(const i in t)(Do(t[i])||e.style&&Do(e.style[i])||PZ(i,r))&&(n[i]=t[i]);return n}function VZ(r,e){const t=qG(r,e);for(const n in r)if(Do(r[n])||Do(e[n])){const i=hw.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;t[i]=r[n]}return t}function QG(r,e,t,n={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:r.custom,n,i)),e}function HZ(r){const e=ve(null);return e.current===null&&(e.current=r()),e.current}const RT=r=>Array.isArray(r),MGe=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),LGe=r=>RT(r)?r[r.length-1]||0:r;function k_(r){const e=Do(r)?r.get():r;return MGe(e)?e.toValue():e}function NGe({scrapeMotionValuesFromProps:r,createRenderState:e,onMount:t},n,i,o){const s={latestValues:GGe(n,i,o,r),renderState:e()};return t&&(s.mount=a=>t(n,a,s)),s}const kZ=r=>(e,t)=>{const n=Ut(dD),i=Ut(hD),o=()=>NGe(r,e,n,i);return t?o():HZ(o)};function GGe(r,e,t,n){const i={},o=n(r,{});for(const h in o)i[h]=k_(o[h]);let{initial:s,animate:a}=r;const l=gD(r),u=RZ(r);e&&u&&!l&&r.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||s===!1;const d=c?a:s;return d&&typeof d!="boolean"&&!fD(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const f=QG(r,p);if(!f)return;const{transitionEnd:g,transition:v,...y}=f;for(const C in y){let w=y[C];if(Array.isArray(w)){const S=c?w.length-1:0;w=w[S]}w!==null&&(i[C]=w)}for(const C in g)i[C]=g[C]}),i}const gr=r=>r;class P3{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function VGe(r){let e=new P3,t=new P3,n=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const d=c&&i,h=d?e:t;return u&&s.add(l),h.add(l)&&d&&i&&(n=e.order.length),l},cancel:l=>{t.remove(l),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,t]=[t,e],t.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const c=e.order[u];c(l),s.has(c)&&(a.schedule(c),r())}i=!1,o&&(o=!1,a.process(l))}};return a}const gE=["prepare","read","update","preRender","render","postRender"],HGe=40;function kGe(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=gE.reduce((d,h)=>(d[h]=VGe(()=>t=!0),d),{}),s=d=>o[d].process(i),a=()=>{const d=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(d-i.timestamp,HGe),1),i.timestamp=d,i.isProcessing=!0,gE.forEach(s),i.isProcessing=!1,t&&e&&(n=!1,r(a))},l=()=>{t=!0,n=!0,i.isProcessing||r(a)};return{schedule:gE.reduce((d,h)=>{const p=o[h];return d[h]=(f,g=!1,v=!1)=>(t||l(),p.schedule(f,g,v)),d},{}),cancel:d=>gE.forEach(h=>o[h].cancel(d)),state:i,steps:o}}const{schedule:Gn,cancel:_u,state:xi,steps:sI}=kGe(typeof requestAnimationFrame<"u"?requestAnimationFrame:gr,!0),$Ge={useVisualState:kZ({scrapeMotionValuesFromProps:VZ,createRenderState:MZ,onMount:(r,e,{renderState:t,latestValues:n})=>{Gn.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Gn.render(()=>{KG(t,n,{enableHardwareAcceleration:!1},YG(e.tagName),r.transformTemplate),GZ(e,t)})}})},BGe={useVisualState:kZ({scrapeMotionValuesFromProps:qG,createRenderState:zG})};function jGe(r,{forwardMotionProps:e=!1},t,n){return{...WG(r)?$Ge:BGe,preloadedFeatures:t,useRender:FGe(e),createVisualElement:n,Component:r}}function iu(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}const $Z=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function vD(r,e="page"){return{point:{x:r[e+"X"],y:r[e+"Y"]}}}const WGe=r=>e=>$Z(e)&&r(e,vD(e));function hu(r,e,t,n){return iu(r,e,WGe(t),n)}const UGe=(r,e)=>t=>e(r(t)),zc=(...r)=>r.reduce(UGe);function BZ(r){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=r,t):!1}}const O3=BZ("dragHorizontal"),D3=BZ("dragVertical");function jZ(r){let e=!1;if(r==="y")e=D3();else if(r==="x")e=O3();else{const t=O3(),n=D3();t&&n?e=()=>{t(),n()}:(t&&t(),n&&n())}return e}function WZ(){const r=jZ(!0);return r?(r(),!1):!0}class fd{constructor(e){this.isMounted=!1,this.node=e}update(){}}function A3(r,e){const t="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||WZ())return;const a=r.getProps();r.animationState&&a.whileHover&&r.animationState.setActive("whileHover",e),a[n]&&Gn.update(()=>a[n](o,s))};return hu(r.current,t,i,{passive:!r.getProps()[n]})}class zGe extends fd{mount(){this.unmount=zc(A3(this.node,!0),A3(this.node,!1))}unmount(){}}class KGe extends fd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zc(iu(this.node.current,"focus",()=>this.onFocus()),iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const UZ=(r,e)=>e?r===e?!0:UZ(r,e.parentElement):!1;function aI(r,e){if(!e)return;const t=new PointerEvent("pointer"+r);e(t,vD(t))}class YGe extends fd{constructor(){super(...arguments),this.removeStartListeners=gr,this.removeEndListeners=gr,this.removeAccessibleListeners=gr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=hu(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c,globalTapTarget:d}=this.node.getProps();Gn.update(()=>{!d&&!UZ(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(n.onTap||n.onPointerUp)}),s=hu(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=zc(o,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||aI("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&Gn.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=iu(this.node.current,"keyup",s),aI("down",(a,l)=>{this.startPress(a,l)})},t=iu(this.node.current,"keydown",e),n=()=>{this.isPressing&&aI("cancel",(o,s)=>this.cancelPress(o,s))},i=iu(this.node.current,"blur",n);this.removeAccessibleListeners=zc(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Gn.update(()=>n(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!WZ()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Gn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=hu(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=iu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zc(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const KM=new WeakMap,lI=new WeakMap,qGe=r=>{const e=KM.get(r.target);e&&e(r)},QGe=r=>{r.forEach(qGe)};function XGe({root:r,...e}){const t=r||document;lI.has(t)||lI.set(t,{});const n=lI.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(QGe,{root:r,...e})),n[i]}function JGe(r,e,t){const n=XGe(e);return KM.set(r,t),n.observe(r),()=>{KM.delete(r),n.unobserve(r)}}const ZGe={some:0,all:1};class eVe extends fd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:o}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ZGe[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return JGe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(tVe(e,t))&&this.startObserver()}unmount(){}}function tVe({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const nVe={inView:{Feature:eVe},tap:{Feature:YGe},focus:{Feature:KGe},hover:{Feature:zGe}};function zZ(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}function rVe(r){const e={};return r.values.forEach((t,n)=>e[n]=t.get()),e}function iVe(r){const e={};return r.values.forEach((t,n)=>e[n]=t.getVelocity()),e}function yD(r,e,t){const n=r.getProps();return QG(n,e,t!==void 0?t:n.custom,rVe(r),iVe(r))}let TT=gr;const Sh=r=>r*1e3,pu=r=>r/1e3,oVe={current:!1},KZ=r=>Array.isArray(r)&&typeof r[0]=="number";function YZ(r){return!!(!r||typeof r=="string"&&qZ[r]||KZ(r)||Array.isArray(r)&&r.every(YZ))}const qv=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,qZ={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qv([0,.65,.55,1]),circOut:qv([.55,0,1,.45]),backIn:qv([.31,.01,.66,-.59]),backOut:qv([.33,1.53,.69,.99])};function QZ(r){if(r)return KZ(r)?qv(r):Array.isArray(r)?r.map(QZ):qZ[r]}function sVe(r,e,t,{delay:n=0,duration:i,repeat:o=0,repeatType:s="loop",ease:a,times:l}={}){const u={[e]:t};l&&(u.offset=l);const c=QZ(a);return Array.isArray(c)&&(u.easing=c),r.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function aVe(r,{repeat:e,repeatType:t="loop"}){const n=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[n]}const XZ=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,lVe=1e-7,uVe=12;function cVe(r,e,t,n,i){let o,s,a=0;do s=e+(t-e)/2,o=XZ(s,n,i)-r,o>0?t=s:e=s;while(Math.abs(o)>lVe&&++a<uVe);return s}function gw(r,e,t,n){if(r===e&&t===n)return gr;const i=o=>cVe(o,0,1,r,t);return o=>o===0||o===1?o:XZ(i(o),e,n)}const dVe=gw(.42,0,1,1),hVe=gw(0,0,.58,1),JZ=gw(.42,0,.58,1),pVe=r=>Array.isArray(r)&&typeof r[0]!="number",ZZ=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,eee=r=>e=>1-r(1-e),XG=r=>1-Math.sin(Math.acos(r)),tee=eee(XG),fVe=ZZ(XG),nee=gw(.33,1.53,.69,.99),JG=eee(nee),gVe=ZZ(JG),mVe=r=>(r*=2)<1?.5*JG(r):.5*(2-Math.pow(2,-10*(r-1))),x3={linear:gr,easeIn:dVe,easeInOut:JZ,easeOut:hVe,circIn:XG,circInOut:fVe,circOut:tee,backIn:JG,backInOut:gVe,backOut:nee,anticipate:mVe},I3=r=>{if(Array.isArray(r)){TT(r.length===4);const[e,t,n,i]=r;return gw(e,t,n,i)}else if(typeof r=="string")return TT(x3[r]!==void 0),x3[r];return r},ZG=(r,e)=>t=>!!(pw(t)&&CGe.test(t)&&t.startsWith(r)||e&&Object.prototype.hasOwnProperty.call(t,e)),ree=(r,e,t)=>n=>{if(!pw(n))return n;const[i,o,s,a]=n.match(mD);return{[r]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},vVe=r=>rd(0,255,r),uI={...yp,transform:r=>Math.round(vVe(r))},uh={test:ZG("rgb","red"),parse:ree("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+uI.transform(r)+", "+uI.transform(e)+", "+uI.transform(t)+", "+Sy(wy.transform(n))+")"};function yVe(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const YM={test:ZG("#"),parse:yVe,transform:uh.transform},Rf={test:ZG("hsl","hue"),parse:ree("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Cl.transform(Sy(e))+", "+Cl.transform(Sy(t))+", "+Sy(wy.transform(n))+")"},qi={test:r=>uh.test(r)||YM.test(r)||Rf.test(r),parse:r=>uh.test(r)?uh.parse(r):Rf.test(r)?Rf.parse(r):YM.parse(r),transform:r=>pw(r)?r:r.hasOwnProperty("red")?uh.transform(r):Rf.transform(r)},Xn=(r,e,t)=>-t*r+t*e+r;function cI(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function CVe({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,o=0,s=0;if(!e)i=o=s=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=cI(l,a,r+1/3),o=cI(l,a,r),s=cI(l,a,r-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:n}}const dI=(r,e,t)=>{const n=r*r;return Math.sqrt(Math.max(0,t*(e*e-n)+n))},wVe=[YM,uh,Rf],SVe=r=>wVe.find(e=>e.test(r));function F3(r){const e=SVe(r);let t=e.parse(r);return e===Rf&&(t=CVe(t)),t}const iee=(r,e)=>{const t=F3(r),n=F3(e),i={...t};return o=>(i.red=dI(t.red,n.red,o),i.green=dI(t.green,n.green,o),i.blue=dI(t.blue,n.blue,o),i.alpha=Xn(t.alpha,n.alpha,o),uh.transform(i))};function EVe(r){var e,t;return isNaN(r)&&pw(r)&&(((e=r.match(mD))===null||e===void 0?void 0:e.length)||0)+(((t=r.match(AZ))===null||t===void 0?void 0:t.length)||0)>0}const oee={regex:vGe,countKey:"Vars",token:"${v}",parse:gr},see={regex:AZ,countKey:"Colors",token:"${c}",parse:qi.parse},aee={regex:mD,countKey:"Numbers",token:"${n}",parse:yp.parse};function hI(r,{regex:e,countKey:t,token:n,parse:i}){const o=r.tokenised.match(e);o&&(r["num"+t]=o.length,r.tokenised=r.tokenised.replace(e,n),r.values.push(...o.map(i)))}function PT(r){const e=r.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&hI(t,oee),hI(t,see),hI(t,aee),t}function lee(r){return PT(r).values}function uee(r){const{values:e,numColors:t,numVars:n,tokenised:i}=PT(r),o=e.length;return s=>{let a=i;for(let l=0;l<o;l++)l<n?a=a.replace(oee.token,s[l]):l<n+t?a=a.replace(see.token,qi.transform(s[l])):a=a.replace(aee.token,Sy(s[l]));return a}}const _Ve=r=>typeof r=="number"?0:r;function bVe(r){const e=lee(r);return uee(r)(e.map(_Ve))}const id={test:EVe,parse:lee,createTransformer:uee,getAnimatableNone:bVe},cee=(r,e)=>t=>`${t>0?e:r}`;function dee(r,e){return typeof r=="number"?t=>Xn(r,e,t):qi.test(r)?iee(r,e):r.startsWith("var(")?cee(r,e):pee(r,e)}const hee=(r,e)=>{const t=[...r],n=t.length,i=r.map((o,s)=>dee(o,e[s]));return o=>{for(let s=0;s<n;s++)t[s]=i[s](o);return t}},RVe=(r,e)=>{const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=dee(r[i],e[i]));return i=>{for(const o in n)t[o]=n[o](i);return t}},pee=(r,e)=>{const t=id.createTransformer(e),n=PT(r),i=PT(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?zc(hee(n.values,i.values),t):cee(r,e)},Ky=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n},M3=(r,e)=>t=>Xn(r,e,t);function TVe(r){return typeof r=="number"?M3:typeof r=="string"?qi.test(r)?iee:pee:Array.isArray(r)?hee:typeof r=="object"?RVe:M3}function PVe(r,e,t){const n=[],i=t||TVe(r[0]),o=r.length-1;for(let s=0;s<o;s++){let a=i(r[s],r[s+1]);if(e){const l=Array.isArray(e)?e[s]||gr:e;a=zc(l,a)}n.push(a)}return n}function fee(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const o=r.length;if(TT(o===e.length),o===1)return()=>e[0];r[0]>r[o-1]&&(r=[...r].reverse(),e=[...e].reverse());const s=PVe(e,n,i),a=s.length,l=u=>{let c=0;if(a>1)for(;c<r.length-2&&!(u<r[c+1]);c++);const d=Ky(r[c],r[c+1],u);return s[c](d)};return t?u=>l(rd(r[0],r[o-1],u)):l}function OVe(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Ky(0,e,n);r.push(Xn(t,1,i))}}function DVe(r){const e=[0];return OVe(e,r.length-1),e}function AVe(r,e){return r.map(t=>t*e)}function xVe(r,e){return r.map(()=>e||JZ).splice(0,r.length-1)}function OT({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=pVe(n)?n.map(I3):I3(n),o={done:!1,value:e[0]},s=AVe(t&&t.length===e.length?t:DVe(e),r),a=fee(s,e,{ease:Array.isArray(i)?i:xVe(e,i)});return{calculatedDuration:r,next:l=>(o.value=a(l),o.done=l>=r,o)}}function gee(r,e){return e?r*(1e3/e):0}const IVe=5;function mee(r,e,t){const n=Math.max(e-IVe,0);return gee(t-r(n),e-n)}const L3=.001,FVe=.01,MVe=10,LVe=.05,NVe=1;function GVe({duration:r=800,bounce:e=.25,velocity:t=0,mass:n=1}){let i,o,s=1-e;s=rd(LVe,NVe,s),r=rd(FVe,MVe,pu(r)),s<1?(i=u=>{const c=u*s,d=c*r,h=c-t,p=qM(u,s),f=Math.exp(-d);return L3-h/p*f},o=u=>{const d=u*s*r,h=d*t+t,p=Math.pow(s,2)*Math.pow(u,2)*r,f=Math.exp(-d),g=qM(Math.pow(u,2),s);return(-i(u)+L3>0?-1:1)*((h-p)*f)/g}):(i=u=>{const c=Math.exp(-u*r),d=(u-t)*r+1;return-.001+c*d},o=u=>{const c=Math.exp(-u*r),d=(t-u)*(r*r);return c*d});const a=5/r,l=HVe(i,o,a);if(r=Sh(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:r}}}const VVe=12;function HVe(r,e,t){let n=t;for(let i=1;i<VVe;i++)n=n-r(n)/e(n);return n}function qM(r,e){return r*Math.sqrt(1-e*e)}const kVe=["duration","bounce"],$Ve=["stiffness","damping","mass"];function N3(r,e){return e.some(t=>r[t]!==void 0)}function BVe(r){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...r};if(!N3(r,$Ve)&&N3(r,kVe)){const t=GVe(r);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function vee({keyframes:r,restDelta:e,restSpeed:t,...n}){const i=r[0],o=r[r.length-1],s={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=BVe({...n,velocity:-pu(n.velocity||0)}),p=d||0,f=l/(2*Math.sqrt(a*u)),g=o-i,v=pu(Math.sqrt(a/u)),y=Math.abs(g)<5;t||(t=y?.01:2),e||(e=y?.005:.5);let C;if(f<1){const w=qM(v,f);C=S=>{const P=Math.exp(-f*v*S);return o-P*((p+f*v*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(f===1)C=w=>o-Math.exp(-v*w)*(g+(p+v*g)*w);else{const w=v*Math.sqrt(f*f-1);C=S=>{const P=Math.exp(-f*v*S),F=Math.min(w*S,300);return o-P*((p+f*v*g)*Math.sinh(F)+w*g*Math.cosh(F))/w}}return{calculatedDuration:h&&c||null,next:w=>{const S=C(w);if(h)s.done=w>=c;else{let P=p;w!==0&&(f<1?P=mee(C,w,S):P=0);const F=Math.abs(P)<=t,_=Math.abs(o-S)<=e;s.done=F&&_}return s.value=s.done?o:S,s}}}function G3({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=r[0],h={done:!1,value:d},p=E=>a!==void 0&&E<a||l!==void 0&&E>l,f=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=t*e;const v=d+g,y=s===void 0?v:s(v);y!==v&&(g=y-d);const C=E=>-g*Math.exp(-E/n),w=E=>y+C(E),S=E=>{const T=C(E),O=w(E);h.done=Math.abs(T)<=u,h.value=h.done?y:O};let P,F;const _=E=>{p(h.value)&&(P=E,F=vee({keyframes:[h.value,f(h.value)],velocity:mee(w,E,h.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return _(0),{calculatedDuration:null,next:E=>{let T=!1;return!F&&P===void 0&&(T=!0,S(E),_(E)),P!==void 0&&E>P?F.next(E-P):(!T&&S(E),h)}}}const jVe=r=>{const e=({timestamp:t})=>r(t);return{start:()=>Gn.update(e,!0),stop:()=>_u(e),now:()=>xi.isProcessing?xi.timestamp:performance.now()}},V3=2e4;function H3(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<V3;)e+=t,n=r.next(e);return e>=V3?1/0:e}const WVe={decay:G3,inertia:G3,tween:OT,keyframes:OT,spring:vee};function DT({autoplay:r=!0,delay:e=0,driver:t=jVe,keyframes:n,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let p=1,f=!1,g,v;const y=()=>{v=new Promise(X=>{g=X})};y();let C;const w=WVe[i]||OT;let S;w!==OT&&typeof n[0]!="number"&&(S=fee([0,100],n,{clamp:!1}),n=[0,100]);const P=w({...h,keyframes:n});let F;a==="mirror"&&(F=w({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let _="idle",E=null,T=null,O=null;P.calculatedDuration===null&&o&&(P.calculatedDuration=H3(P));const{calculatedDuration:L}=P;let V=1/0,M=1/0;L!==null&&(V=L+s,M=V*(o+1)-s);let N=0;const $=X=>{if(T===null)return;p>0&&(T=Math.min(T,X)),p<0&&(T=Math.min(X-M/p,T)),E!==null?N=E:N=Math.round(X-T)*p;const Z=N-e*(p>=0?1:-1),ce=p>=0?Z<0:Z>M;N=Math.max(Z,0),_==="finished"&&E===null&&(N=M);let oe=N,de=P;if(o){const Ne=Math.min(N,M)/V;let xe=Math.floor(Ne),st=Ne%1;!st&&Ne>=1&&(st=1),st===1&&xe--,xe=Math.min(xe,o+1),!!(xe%2)&&(a==="reverse"?(st=1-st,s&&(st-=s/V)):a==="mirror"&&(de=F)),oe=rd(0,1,st)*V}const Ee=ce?{done:!1,value:n[0]}:de.next(oe);S&&(Ee.value=S(Ee.value));let{done:Pe}=Ee;!ce&&L!==null&&(Pe=p>=0?N>=M:N<=0);const $e=E===null&&(_==="finished"||_==="running"&&Pe);return d&&d(Ee.value),$e&&z(),Ee},B=()=>{C&&C.stop(),C=void 0},U=()=>{_="idle",B(),g(),y(),T=O=null},z=()=>{_="finished",c&&c(),B(),g()},j=()=>{if(f)return;C||(C=t($));const X=C.now();l&&l(),E!==null?T=X-E:(!T||_==="finished")&&(T=X),_==="finished"&&y(),O=T,E=null,_="running",C.start()};r&&j();const Q={then(X,Z){return v.then(X,Z)},get time(){return pu(N)},set time(X){X=Sh(X),N=X,E!==null||!C||p===0?E=X:T=C.now()-X/p},get duration(){const X=P.calculatedDuration===null?H3(P):P.calculatedDuration;return pu(X)},get speed(){return p},set speed(X){X===p||!C||(p=X,Q.time=pu(N))},get state(){return _},play:j,pause:()=>{_="paused",E=N},stop:()=>{f=!0,_!=="idle"&&(_="idle",u&&u(),U())},cancel:()=>{O!==null&&$(O),U()},complete:()=>{_="finished"},sample:X=>(T=0,$(X))};return Q}function UVe(r){let e;return()=>(e===void 0&&(e=r()),e)}const zVe=UVe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),KVe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),mE=10,YVe=2e4,qVe=(r,e)=>e.type==="spring"||r==="backgroundColor"||!YZ(e.ease);function QVe(r,e,{onUpdate:t,onComplete:n,...i}){if(!(zVe()&&KVe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,a,l,u=!1;const c=()=>{l=new Promise(w=>{a=w})};c();let{keyframes:d,duration:h=300,ease:p,times:f}=i;if(qVe(e,i)){const w=DT({...i,repeat:0,delay:0});let S={done:!1,value:d[0]};const P=[];let F=0;for(;!S.done&&F<YVe;)S=w.sample(F),P.push(S.value),F+=mE;f=void 0,d=P,h=F-mE,p="linear"}const g=sVe(r.owner.current,e,d,{...i,duration:h,ease:p,times:f}),v=()=>{u=!1,g.cancel()},y=()=>{u=!0,Gn.update(v),a(),c()};return g.onfinish=()=>{u||(r.set(aVe(d,i)),n&&n(),y())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,gr},get time(){return pu(g.currentTime||0)},set time(w){g.currentTime=Sh(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return pu(h)},play:()=>{s||(g.play(),_u(v))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=DT({...i,autoplay:!1});r.setWithVelocity(S.sample(w-mE).value,S.sample(w).value,mE)}y()},complete:()=>{u||g.finish()},cancel:y}}function XVe({keyframes:r,delay:e,onUpdate:t,onComplete:n}){const i=()=>(t&&t(r[r.length-1]),n&&n(),{time:0,speed:1,duration:0,play:gr,pause:gr,stop:gr,then:o=>(o(),Promise.resolve()),cancel:gr,complete:gr});return e?DT({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const JVe={type:"spring",stiffness:500,damping:25,restSpeed:10},ZVe=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),e1e={type:"keyframes",duration:.8},t1e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n1e=(r,{keyframes:e})=>e.length>2?e1e:vp.has(r)?r.startsWith("scale")?ZVe(e[1]):JVe:t1e,QM=(r,e)=>r==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(id.test(e)||e==="0")&&!e.startsWith("url(")),r1e=new Set(["brightness","contrast","saturate","opacity"]);function i1e(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(mD)||[];if(!n)return r;const i=t.replace(n,"");let o=r1e.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+i+")"}const o1e=/([a-z-]*)\(.*?\)/g,XM={...id,getAnimatableNone:r=>{const e=r.match(o1e);return e?e.map(i1e).join(" "):r}},s1e={...xZ,color:qi,backgroundColor:qi,outlineColor:qi,fill:qi,stroke:qi,borderColor:qi,borderTopColor:qi,borderRightColor:qi,borderBottomColor:qi,borderLeftColor:qi,filter:XM,WebkitFilter:XM},eV=r=>s1e[r];function yee(r,e){let t=eV(r);return t!==XM&&(t=id),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Cee=r=>/^0[^.\s]+$/.test(r);function a1e(r){if(typeof r=="number")return r===0;if(r!==null)return r==="none"||r==="0"||Cee(r)}function l1e(r,e,t,n){const i=QM(e,t);let o;Array.isArray(t)?o=[...t]:o=[null,t];const s=n.from!==void 0?n.from:r.get();let a;const l=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?s:o[u-1]),a1e(o[u])&&l.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(a=o[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];o[c]=yee(e,a)}return o}function u1e({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function tV(r,e){return r[e]||r.default||r}const c1e={skipAnimations:!1},nV=(r,e,t,n={})=>i=>{const o=tV(n,r)||{},s=o.delay||n.delay||0;let{elapsed:a=0}=n;a=a-Sh(s);const l=l1e(e,r,t,o),u=l[0],c=l[l.length-1],d=QM(r,u),h=QM(r,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(u1e(o)||(p={...p,...n1e(r,p)}),p.duration&&(p.duration=Sh(p.duration)),p.repeatDelay&&(p.repeatDelay=Sh(p.repeatDelay)),!d||!h||oVe.current||o.type===!1||c1e.skipAnimations)return XVe(p);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const f=QVe(e,r,p);if(f)return f}return DT(p)};function AT(r){return!!(Do(r)&&r.add)}const wee=r=>/^\-?\d*\.?\d+$/.test(r);function rV(r,e){r.indexOf(e)===-1&&r.push(e)}function iV(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class oV{constructor(){this.subscriptions=[]}add(e){return rV(this.subscriptions,e),()=>iV(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const d1e=r=>!isNaN(parseFloat(r));class h1e{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:s}=xi;this.lastUpdated!==s&&(this.timeDelta=o,this.lastUpdated=s,Gn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Gn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=d1e(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new oV);const n=this.events[e].add(t);return e==="change"?()=>{n(),Gn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?gee(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gg(r,e){return new h1e(r,e)}const See=r=>e=>e.test(r),p1e={test:r=>r==="auto",parse:r=>r},Eee=[yp,ut,Cl,mc,SGe,wGe,p1e],tv=r=>Eee.find(See(r)),f1e=[...Eee,qi,id],g1e=r=>f1e.find(See(r));function m1e(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,gg(t))}function v1e(r,e){const t=yD(r,e);let{transitionEnd:n={},transition:i={},...o}=t?r.makeTargetAnimatable(t,!1):{};o={...o,...n};for(const s in o){const a=LGe(o[s]);m1e(r,s,a)}}function y1e(r,e,t){var n,i;const o=Object.keys(e).filter(a=>!r.hasValue(a)),s=o.length;if(s)for(let a=0;a<s;a++){const l=o[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(n=t[l])!==null&&n!==void 0?n:r.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(wee(c)||Cee(c))?c=parseFloat(c):!g1e(c)&&id.test(u)&&(c=yee(l,u)),r.addValue(l,gg(c,{owner:r})),t[l]===void 0&&(t[l]=c),c!==null&&r.setBaseTarget(l,c))}}function C1e(r,e){return e?(e[r]||e.default||e).from:void 0}function w1e(r,e,t){const n={};for(const i in r){const o=C1e(i,e);if(o!==void 0)n[i]=o;else{const s=t.getValue(i);s&&(n[i]=s.get())}}return n}function S1e({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function E1e(r,e){const t=r.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}else return t!==e}function _ee(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:s,...a}=r.makeTargetAnimatable(e);const l=r.getValue("willChange");n&&(o=n);const u=[],c=i&&r.animationState&&r.animationState.getState()[i];for(const d in a){const h=r.getValue(d),p=a[d];if(!h||p===void 0||c&&S1e(c,d))continue;const f={delay:t,elapsed:0,...tV(o||{},d)};if(window.HandoffAppearAnimations){const y=r.getProps()[bZ];if(y){const C=window.HandoffAppearAnimations(y,d,h,Gn);C!==null&&(f.elapsed=C,f.isHandoff=!0)}}let g=!f.isHandoff&&!E1e(h,p);if(f.type==="spring"&&(h.getVelocity()||f.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(nV(d,h,p,r.shouldReduceMotion&&vp.has(d)?{type:!1}:f));const v=h.animation;AT(l)&&(l.add(d),v.then(()=>l.remove(d))),u.push(v)}return s&&Promise.all(u).then(()=>{s&&v1e(r,s)}),u}function JM(r,e,t={}){const n=yD(r,e,t.custom);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const o=n?()=>Promise.all(_ee(r,n,t)):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:d}=i;return _1e(r,e,u+l,c,d,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(t.delay)])}function _1e(r,e,t=0,n=0,i=1,o){const s=[],a=(r.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(r.variantChildren).sort(b1e).forEach((u,c)=>{u.notify("AnimationStart",e),s.push(JM(u,e,{...o,delay:t+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function b1e(r,e){return r.sortNodePosition(e)}function R1e(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>JM(r,o,t));n=Promise.all(i)}else if(typeof e=="string")n=JM(r,e,t);else{const i=typeof e=="function"?yD(r,e,t.custom):e;n=Promise.all(_ee(r,i,t))}return n.then(()=>r.notify("AnimationComplete",e))}const T1e=[...$G].reverse(),P1e=$G.length;function O1e(r){return e=>Promise.all(e.map(({animation:t,options:n})=>R1e(r,t,n)))}function D1e(r){let e=O1e(r);const t=x1e();let n=!0;const i=(l,u)=>{const c=yD(r,u);if(c){const{transition:d,transitionEnd:h,...p}=c;l={...l,...p,...h}}return l};function o(l){e=l(r)}function s(l,u){const c=r.getProps(),d=r.getVariantContext(!0)||{},h=[],p=new Set;let f={},g=1/0;for(let y=0;y<P1e;y++){const C=T1e[y],w=t[C],S=c[C]!==void 0?c[C]:d[C],P=Uy(S),F=C===u?w.isActive:null;F===!1&&(g=y);let _=S===d[C]&&S!==c[C]&&P;if(_&&n&&r.manuallyAnimateOnMount&&(_=!1),w.protectedKeys={...f},!w.isActive&&F===null||!S&&!w.prevProp||fD(S)||typeof S=="boolean")continue;let T=A1e(w.prevProp,S)||C===u&&w.isActive&&!_&&P||y>g&&P,O=!1;const L=Array.isArray(S)?S:[S];let V=L.reduce(i,{});F===!1&&(V={});const{prevResolvedValues:M={}}=w,N={...M,...V},$=B=>{T=!0,p.has(B)&&(O=!0,p.delete(B)),w.needsAnimating[B]=!0};for(const B in N){const U=V[B],z=M[B];if(f.hasOwnProperty(B))continue;let j=!1;RT(U)&&RT(z)?j=!zZ(U,z):j=U!==z,j?U!==void 0?$(B):p.add(B):U!==void 0&&p.has(B)?$(B):w.protectedKeys[B]=!0}w.prevProp=S,w.prevResolvedValues=V,w.isActive&&(f={...f,...V}),n&&r.blockInitialAnimation&&(T=!1),T&&(!_||O)&&h.push(...L.map(B=>({animation:B,options:{type:C,...l}})))}if(p.size){const y={};p.forEach(C=>{const w=r.getBaseTarget(C);w!==void 0&&(y[C]=w)}),h.push({animation:y})}let v=!!h.length;return n&&(c.initial===!1||c.initial===c.animate)&&!r.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function a(l,u,c){var d;if(t[l].isActive===u)return Promise.resolve();(d=r.variantChildren)===null||d===void 0||d.forEach(p=>{var f;return(f=p.animationState)===null||f===void 0?void 0:f.setActive(l,u)}),t[l].isActive=u;const h=s(c,l);for(const p in t)t[p].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>t}}function A1e(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!zZ(e,r):!1}function Hd(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x1e(){return{animate:Hd(!0),whileInView:Hd(),whileHover:Hd(),whileTap:Hd(),whileDrag:Hd(),whileFocus:Hd(),exit:Hd()}}class I1e extends fd{constructor(e){super(e),e.animationState||(e.animationState=D1e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),fD(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let F1e=0;class M1e extends fd{constructor(){super(...arguments),this.id=F1e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const L1e={animation:{Feature:I1e},exit:{Feature:M1e}},k3=(r,e)=>Math.abs(r-e);function N1e(r,e){const t=k3(r.x,e.x),n=k3(r.y,e.y);return Math.sqrt(t**2+n**2)}class bee{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=fI(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=N1e(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:f}=d,{timestamp:g}=xi;this.history.push({...f,timestamp:g});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=pI(h,this.transformPagePoint),Gn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:f,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=fI(d.type==="pointercancel"?this.lastMoveEventInfo:pI(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,v),f&&f(d,v)},!$Z(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const s=vD(e),a=pI(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=xi;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=t;c&&c(e,fI(a,this.history)),this.removeListeners=zc(hu(this.contextWindow,"pointermove",this.handlePointerMove),hu(this.contextWindow,"pointerup",this.handlePointerUp),hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_u(this.updatePoint)}}function pI(r,e){return e?{point:e(r.point)}:r}function $3(r,e){return{x:r.x-e.x,y:r.y-e.y}}function fI({point:r},e){return{point:r,delta:$3(r,Ree(e)),offset:$3(r,G1e(e)),velocity:V1e(e,.1)}}function G1e(r){return r[0]}function Ree(r){return r[r.length-1]}function V1e(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=Ree(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Sh(e)));)t--;if(!n)return{x:0,y:0};const o=pu(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ps(r){return r.max-r.min}function ZM(r,e=0,t=.01){return Math.abs(r-e)<=t}function B3(r,e,t,n=.5){r.origin=n,r.originPoint=Xn(e.min,e.max,r.origin),r.scale=ps(t)/ps(e),(ZM(r.scale,1,1e-4)||isNaN(r.scale))&&(r.scale=1),r.translate=Xn(t.min,t.max,r.origin)-r.originPoint,(ZM(r.translate)||isNaN(r.translate))&&(r.translate=0)}function Ey(r,e,t,n){B3(r.x,e.x,t.x,n?n.originX:void 0),B3(r.y,e.y,t.y,n?n.originY:void 0)}function j3(r,e,t){r.min=t.min+e.min,r.max=r.min+ps(e)}function H1e(r,e,t){j3(r.x,e.x,t.x),j3(r.y,e.y,t.y)}function W3(r,e,t){r.min=e.min-t.min,r.max=r.min+ps(e)}function _y(r,e,t){W3(r.x,e.x,t.x),W3(r.y,e.y,t.y)}function k1e(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?Xn(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?Xn(t,r,n.max):Math.min(r,t)),r}function U3(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function $1e(r,{top:e,left:t,bottom:n,right:i}){return{x:U3(r.x,t,i),y:U3(r.y,e,n)}}function z3(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function B1e(r,e){return{x:z3(r.x,e.x),y:z3(r.y,e.y)}}function j1e(r,e){let t=.5;const n=ps(r),i=ps(e);return i>n?t=Ky(e.min,e.max-n,r.min):n>i&&(t=Ky(r.min,r.max-i,e.min)),rd(0,1,t)}function W1e(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const eL=.35;function U1e(r=eL){return r===!1?r=0:r===!0&&(r=eL),{x:K3(r,"left","right"),y:K3(r,"top","bottom")}}function K3(r,e,t){return{min:Y3(r,e),max:Y3(r,t)}}function Y3(r,e){return typeof r=="number"?r:r[e]||0}const q3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tf=()=>({x:q3(),y:q3()}),Q3=()=>({min:0,max:0}),Tr=()=>({x:Q3(),y:Q3()});function Ts(r){return[r("x"),r("y")]}function Tee({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function z1e({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function K1e(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function gI(r){return r===void 0||r===1}function tL({scale:r,scaleX:e,scaleY:t}){return!gI(r)||!gI(e)||!gI(t)}function zd(r){return tL(r)||Pee(r)||r.z||r.rotate||r.rotateX||r.rotateY}function Pee(r){return X3(r.x)||X3(r.y)}function X3(r){return r&&r!=="0%"}function xT(r,e,t){const n=r-t,i=e*n;return t+i}function J3(r,e,t,n,i){return i!==void 0&&(r=xT(r,i,n)),xT(r,t,n)+e}function nL(r,e=0,t=1,n,i){r.min=J3(r.min,e,t,n,i),r.max=J3(r.max,e,t,n,i)}function Oee(r,{x:e,y:t}){nL(r.x,e.translate,e.scale,e.originPoint),nL(r.y,t.translate,t.scale,t.originPoint)}function Y1e(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=t[a],s=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pf(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,Oee(r,s)),n&&zd(o.latestValues)&&Pf(r,o.latestValues))}e.x=Z3(e.x),e.y=Z3(e.y)}function Z3(r){return Number.isInteger(r)||r>1.0000000000001||r<.999999999999?r:1}function Cc(r,e){r.min=r.min+e,r.max=r.max+e}function ez(r,e,[t,n,i]){const o=e[i]!==void 0?e[i]:.5,s=Xn(r.min,r.max,o);nL(r,e[t],e[n],s,e.scale)}const q1e=["x","scaleX","originX"],Q1e=["y","scaleY","originY"];function Pf(r,e){ez(r.x,e,q1e),ez(r.y,e,Q1e)}function Dee(r,e){return Tee(K1e(r.getBoundingClientRect(),e))}function X1e(r,e,t){const n=Dee(r,t),{scroll:i}=e;return i&&(Cc(n.x,i.offset.x),Cc(n.y,i.offset.y)),n}const Aee=({current:r})=>r?r.ownerDocument.defaultView:null,J1e=new WeakMap;class Z1e{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vD(c,"page").point)},o=(c,d)=>{const{drag:h,dragPropagation:p,onDragStart:f}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=jZ(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ts(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Cl.test(y)){const{projection:C}=this.visualElement;if(C&&C.layout){const w=C.layout.layoutBox[v];w&&(y=ps(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),f&&Gn.update(()=>f(c,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(c,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:f,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=d;if(p&&this.currentDirection===null){this.currentDirection=eHe(v),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),g&&g(c,d)},a=(c,d)=>this.stop(c,d),l=()=>Ts(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bee(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Aee(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Gn.update(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!vE(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=k1e(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;t&&bf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=$1e(i.layoutBox,t):this.constraints=!1,this.elastic=U1e(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ts(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=W1e(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=X1e(n,i.root,this.visualElement.getTransformPagePoint());let s=B1e(i.layout.layoutBox,o);if(t){const a=t(z1e(s));this.hasMutatedConstraints=!!a,a&&(s=Tee(a))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ts(c=>{if(!vE(c,t,this.currentDirection))return;let d=l[c]||{};s&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,f={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(c,f)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(nV(e,n,0,t))}stopAnimation(){Ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ts(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ts(t=>{const{drag:n}=this.getProps();if(!vE(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[t];o.set(e[t]-Xn(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!bf(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ts(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();i[s]=j1e({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ts(s=>{if(!vE(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(Xn(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;J1e.set(this.visualElement,this);const e=this.visualElement.current,t=hu(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();bf(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const s=iu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ts(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),t(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=eL,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function vE(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function eHe(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class tHe extends fd{constructor(e){super(e),this.removeGroupControls=gr,this.removeListeners=gr,this.controls=new Z1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const tz=r=>(e,t)=>{r&&Gn.update(()=>r(e,t))};class nHe extends fd{constructor(){super(...arguments),this.removePointerDownListener=gr}onPointerDown(e){this.session=new bee(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Aee(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:tz(e),onStart:tz(t),onMove:n,onEnd:(o,s)=>{delete this.session,i&&Gn.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function rHe(){const r=Ut(hD);if(r===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:n}=r,i=BN();return Fe(()=>n(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const $_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nz(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const nv={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(ut.test(r))r=parseFloat(r);else return r;const t=nz(r,e.target.x),n=nz(r,e.target.y);return`${t}% ${n}%`}},iHe={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=id.parse(r);if(i.length>5)return n;const o=id.createTransformer(r),s=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const u=Xn(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};class oHe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;pGe(sHe),o&&(t.group&&t.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),$_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:o}=this.props,s=n.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==t||t===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Gn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xee(r){const[e,t]=rHe(),n=Ut(jG);return x.createElement(oHe,{...r,layoutGroup:n,switchLayoutGroup:Ut(TZ),isPresent:e,safeToRemove:t})}const sHe={borderRadius:{...nv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nv,borderTopRightRadius:nv,borderBottomLeftRadius:nv,borderBottomRightRadius:nv,boxShadow:iHe},Iee=["TopLeft","TopRight","BottomLeft","BottomRight"],aHe=Iee.length,rz=r=>typeof r=="string"?parseFloat(r):r,iz=r=>typeof r=="number"||ut.test(r);function lHe(r,e,t,n,i,o){i?(r.opacity=Xn(0,t.opacity!==void 0?t.opacity:1,uHe(n)),r.opacityExit=Xn(e.opacity!==void 0?e.opacity:1,0,cHe(n))):o&&(r.opacity=Xn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let s=0;s<aHe;s++){const a=`border${Iee[s]}Radius`;let l=oz(e,a),u=oz(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||iz(l)===iz(u)?(r[a]=Math.max(Xn(rz(l),rz(u),n),0),(Cl.test(u)||Cl.test(l))&&(r[a]+="%")):r[a]=u}(e.rotate||t.rotate)&&(r.rotate=Xn(e.rotate||0,t.rotate||0,n))}function oz(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const uHe=Fee(0,.5,tee),cHe=Fee(.5,.95,gr);function Fee(r,e,t){return n=>n<r?0:n>e?1:t(Ky(r,e,n))}function sz(r,e){r.min=e.min,r.max=e.max}function _s(r,e){sz(r.x,e.x),sz(r.y,e.y)}function az(r,e,t,n,i){return r-=e,r=xT(r,1/t,n),i!==void 0&&(r=xT(r,1/i,n)),r}function dHe(r,e=0,t=1,n=.5,i,o=r,s=r){if(Cl.test(e)&&(e=parseFloat(e),e=Xn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Xn(o.min,o.max,n);r===o&&(a-=e),r.min=az(r.min,e,t,a,i),r.max=az(r.max,e,t,a,i)}function lz(r,e,[t,n,i],o,s){dHe(r,e[t],e[n],e[i],e.scale,o,s)}const hHe=["x","scaleX","originX"],pHe=["y","scaleY","originY"];function uz(r,e,t,n){lz(r.x,e,hHe,t?t.x:void 0,n?n.x:void 0),lz(r.y,e,pHe,t?t.y:void 0,n?n.y:void 0)}function cz(r){return r.translate===0&&r.scale===1}function Mee(r){return cz(r.x)&&cz(r.y)}function fHe(r,e){return r.x.min===e.x.min&&r.x.max===e.x.max&&r.y.min===e.y.min&&r.y.max===e.y.max}function Lee(r,e){return Math.round(r.x.min)===Math.round(e.x.min)&&Math.round(r.x.max)===Math.round(e.x.max)&&Math.round(r.y.min)===Math.round(e.y.min)&&Math.round(r.y.max)===Math.round(e.y.max)}function dz(r){return ps(r.x)/ps(r.y)}class gHe{constructor(){this.members=[]}add(e){rV(this.members,e),e.scheduleRender()}remove(e){if(iV(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hz(r,e,t){let n="";const i=r.x.translate/e.x,o=r.y.translate/e.y;if((i||o)&&(n=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:u,rotateY:c}=t;l&&(n+=`rotate(${l}deg) `),u&&(n+=`rotateX(${u}deg) `),c&&(n+=`rotateY(${c}deg) `)}const s=r.x.scale*e.x,a=r.y.scale*e.y;return(s!==1||a!==1)&&(n+=`scale(${s}, ${a})`),n||"none"}const mHe=(r,e)=>r.depth-e.depth;class vHe{constructor(){this.children=[],this.isDirty=!1}add(e){rV(this.children,e),this.isDirty=!0}remove(e){iV(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mHe),this.isDirty=!1,this.children.forEach(e)}}function yHe(r,e){const t=performance.now(),n=({timestamp:i})=>{const o=i-t;o>=e&&(_u(n),r(o-e))};return Gn.read(n,!0),()=>_u(n)}function CHe(r){window.MotionDebug&&window.MotionDebug.record(r)}function wHe(r){return r instanceof SVGElement&&r.tagName!=="svg"}function SHe(r,e,t){const n=Do(r)?r:gg(r);return n.start(nV("",n,e,t)),n.animation}const pz=["","X","Y","Z"],EHe={visibility:"hidden"},fz=1e3;let _He=0;const Kd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Nee({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=_He++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Kd.totalNodes=Kd.resolvedTargetDeltas=Kd.recalculatedProjection=0,this.nodes.forEach(THe),this.nodes.forEach(xHe),this.nodes.forEach(IHe),this.nodes.forEach(PHe),CHe(Kd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vHe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new oV),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wHe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),r){let d;const h=()=>this.root.updateBlockedByResize=!1;r(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=yHe(h,250),$_.hasAnimatedSinceResize&&($_.hasAnimatedSinceResize=!1,this.nodes.forEach(mz))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||GHe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=c.getProps(),C=!this.targetLayout||!Lee(this.targetLayout,f)||p,w=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const S={...tV(g,"layout"),onPlay:v,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||mz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_u(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FHe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gz);return}this.isUpdating||this.nodes.forEach(DHe),this.isUpdating=!1,this.nodes.forEach(AHe),this.nodes.forEach(bHe),this.nodes.forEach(RHe),this.clearAllSnapshots();const a=performance.now();xi.delta=rd(0,1e3/60,a-xi.timestamp),xi.timestamp=a,xi.isProcessing=!0,sI.update.process(xi),sI.preRender.process(xi),sI.render.process(xi),xi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(OHe),this.sharedNodes.forEach(MHe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:n(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Mee(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(a||zd(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),VHe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Tr();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Cc(a.x,l.offset.x),Cc(a.y,l.offset.y)),a}removeElementScroll(s){const a=Tr();_s(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){_s(a,s);const{scroll:h}=this.root;h&&(Cc(a.x,-h.offset.x),Cc(a.y,-h.offset.y))}Cc(a.x,c.offset.x),Cc(a.y,c.offset.y)}}return a}applyTransform(s,a=!1){const l=Tr();_s(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Pf(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),zd(c.latestValues)&&Pf(l,c.latestValues)}return zd(this.latestValues)&&Pf(l,this.latestValues),l}removeTransform(s){const a=Tr();_s(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!zd(u.latestValues))continue;tL(u.latestValues)&&u.updateSnapshot();const c=Tr(),d=u.measurePageBox();_s(c,d),uz(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return zd(this.latestValues)&&uz(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=xi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),_y(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tr(),this.targetWithTransforms=Tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),Oee(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),_y(this.relativeTargetOrigin,this.target,p.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Kd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tL(this.parent.latestValues)||Pee(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xi.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;_s(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Y1e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:f}=a;if(!f){this.projectionTransform&&(this.projectionDelta=Tf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Tf(),this.projectionDeltaWithTransform=Tf());const g=this.projectionTransform;Ey(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=hz(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Kd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Tf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Tr(),p=l?l.source:void 0,f=this.layout?this.layout.source:void 0,g=p!==f,v=this.getStack(),y=!v||v.members.length<=1,C=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(NHe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const P=S/1e3;vz(d.x,s.x,P),vz(d.y,s.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_y(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LHe(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&fHe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Tr()),_s(w,this.relativeTarget)),g&&(this.animationValues=c,lHe(c,u,this.latestValues,P,C,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_u(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gn.update(()=>{$_.hasAnimatedSinceResize=!0,this.currentAnimation=SHe(0,fz,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&Gee(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Tr();const d=ps(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ps(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}_s(a,l),Pf(a,c),Ey(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new gHe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<pz.length;c++){const d="rotate"+pz[c];l[d]&&(u[d]=l[d],s.setStaticValue(d,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return EHe;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=k_(s==null?void 0:s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=k_(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!zd(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=hz(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:p,y:f}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${f.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in _T){if(h[g]===void 0)continue;const{correct:v,applyTo:y}=_T[g],C=u.transform==="none"?h[g]:v(h[g],d);if(y){const w=y.length;for(let S=0;S<w;S++)u[y[S]]=C}else u[g]=C}return this.options.layoutId&&(u.pointerEvents=d===this?k_(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(gz),this.root.sharedNodes.clear()}}}function bHe(r){r.updateLayout()}function RHe(r){var e;const t=((e=r.resumeFrom)===null||e===void 0?void 0:e.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:o}=r.options,s=t.source!==r.layout.source;o==="size"?Ts(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ps(h);h.min=n[d].min,h.max=h.min+p}):Gee(o,t.layoutBox,n)&&Ts(d=>{const h=s?t.measuredBox[d]:t.layoutBox[d],p=ps(n[d]);h.max=h.min+p,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[d].max=r.relativeTarget[d].min+p)});const a=Tf();Ey(a,n,t.layoutBox);const l=Tf();s?Ey(l,r.applyTransform(i,!0),t.measuredBox):Ey(l,n,t.layoutBox);const u=!Mee(a);let c=!1;if(!r.resumeFrom){const d=r.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const f=Tr();_y(f,t.layoutBox,h.layoutBox);const g=Tr();_y(g,n,p.layoutBox),Lee(f,g)||(c=!0),d.options.layoutRoot&&(r.relativeTarget=g,r.relativeTargetOrigin=f,r.relativeParent=d)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function THe(r){Kd.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function PHe(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function OHe(r){r.clearSnapshot()}function gz(r){r.clearMeasurements()}function DHe(r){r.isLayoutDirty=!1}function AHe(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function mz(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function xHe(r){r.resolveTargetDelta()}function IHe(r){r.calcProjection()}function FHe(r){r.resetRotation()}function MHe(r){r.removeLeadSnapshot()}function vz(r,e,t){r.translate=Xn(e.translate,0,t),r.scale=Xn(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function yz(r,e,t,n){r.min=Xn(e.min,t.min,n),r.max=Xn(e.max,t.max,n)}function LHe(r,e,t,n){yz(r.x,e.x,t.x,n),yz(r.y,e.y,t.y,n)}function NHe(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const GHe={duration:.45,ease:[.4,0,.1,1]},Cz=r=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(r),wz=Cz("applewebkit/")&&!Cz("chrome/")?Math.round:gr;function Sz(r){r.min=wz(r.min),r.max=wz(r.max)}function VHe(r){Sz(r.x),Sz(r.y)}function Gee(r,e,t){return r==="position"||r==="preserve-aspect"&&!ZM(dz(e),dz(t),.2)}const HHe=Nee({attachResizeListener:(r,e)=>iu(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mI={current:void 0},Vee=Nee({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!mI.current){const r=new HHe({});r.mount(window),r.setOptions({layoutScroll:!0}),mI.current=r}return mI.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),kHe={pan:{Feature:nHe},drag:{Feature:tHe,ProjectionNode:Vee,MeasureLayout:xee}},$He=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function BHe(r){const e=$He.exec(r);if(!e)return[,];const[,t,n]=e;return[t,n]}function rL(r,e,t=1){const[n,i]=BHe(r);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const s=o.trim();return wee(s)?parseFloat(s):s}else return zM(i)?rL(i,e,t+1):i}function jHe(r,{...e},t){const n=r.current;if(!(n instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),r.values.forEach(i=>{const o=i.get();if(!zM(o))return;const s=rL(o,n);s&&i.set(s)});for(const i in e){const o=e[i];if(!zM(o))continue;const s=rL(o,n);s&&(e[i]=s,t||(t={}),t[i]===void 0&&(t[i]=o))}return{target:e,transitionEnd:t}}const WHe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Hee=r=>WHe.has(r),UHe=r=>Object.keys(r).some(Hee),Ez=r=>r===yp||r===ut,_z=(r,e)=>parseFloat(r.split(", ")[e]),bz=(r,e)=>(t,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return _z(i[1],e);{const o=n.match(/^matrix\((.+)\)$/);return o?_z(o[1],r):0}},zHe=new Set(["x","y","z"]),KHe=hw.filter(r=>!zHe.has(r));function YHe(r){const e=[];return KHe.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e.length&&r.render(),e}const mg={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:bz(4,13),y:bz(5,14)};mg.translateX=mg.x;mg.translateY=mg.y;const qHe=(r,e,t)=>{const n=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",r.display||"block"),t.forEach(u=>{a[u]=mg[u](n,o)}),e.render();const l=e.measureViewportBox();return t.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),r[u]=mg[u](l,o)}),r},QHe=(r,e,t={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(Hee);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=r.getValue(l);if(!r.hasValue(l))return;let c=t[l],d=tv(c);const h=e[l];let p;if(RT(h)){const f=h.length,g=h[0]===null?1:0;c=h[g],d=tv(c);for(let v=g;v<f&&h[v]!==null;v++)p?TT(tv(h[v])===p):p=tv(h[v])}else p=tv(h);if(d!==p)if(Ez(d)&&Ez(p)){const f=u.get();typeof f=="string"&&u.set(parseFloat(f)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&p===ut&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(c===0||h===0)?c===0?u.set(p.transform(c)):e[l]=d.transform(h):(s||(o=YHe(r),s=!0),a.push(l),n[l]=n[l]!==void 0?n[l]:e[l],u.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=qHe(e,r,a);return o.length&&o.forEach(([c,d])=>{r.getValue(c).set(d)}),r.render(),pD&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function XHe(r,e,t,n){return UHe(e)?QHe(r,e,t,n):{target:e,transitionEnd:n}}const JHe=(r,e,t,n)=>{const i=jHe(r,e,n);return e=i.target,n=i.transitionEnd,XHe(r,e,t,n)},iL={current:null},kee={current:!1};function ZHe(){if(kee.current=!0,!!pD)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>iL.current=r.matches;r.addListener(e),e()}else iL.current=!1}function eke(r,e,t){const{willChange:n}=e;for(const i in e){const o=e[i],s=t[i];if(Do(o))r.addValue(i,o),AT(n)&&n.add(i);else if(Do(s))r.addValue(i,gg(o,{owner:r})),AT(n)&&n.remove(i);else if(s!==o)if(r.hasValue(i)){const a=r.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=r.getStaticValue(i);r.addValue(i,gg(a!==void 0?a:o,{owner:r}))}}for(const i in t)e[i]===void 0&&r.removeValue(i);return e}const Rz=new WeakMap,$ee=Object.keys(zy),tke=$ee.length,Tz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nke=BG.length;class rke{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Gn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=gD(t),this.isVariantNode=RZ(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{});for(const d in c){const h=c[d];a[d]!==void 0&&Do(h)&&(h.set(a[d],!1),AT(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,Rz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),kee.current||ZHe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iL.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rz.delete(this.current),this.projection&&this.projection.unmount(),_u(this.notifyUpdate),_u(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=vp.has(e),i=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Gn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},n,i,o){let s,a;for(let l=0;l<tke;l++){const u=$ee[l],{isEnabled:c,Feature:d,ProjectionNode:h,MeasureLayout:p}=zy[u];h&&(s=h),c(t)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=t;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||d&&bf(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Tz.length;n++){const i=Tz[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=eke(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const t={};for(let n=0;n<nke;n++){const i=BG[n],o=this.props[i];(Uy(o)||o===!1)&&(t[i]=o)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=gg(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(t=QG(this.props,n))===null||t===void 0?void 0:t[e]:void 0;if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Do(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new oV),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Bee extends rke{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:i},o){let s=w1e(n,e||{},this);if(i&&(t&&(t=i(t)),n&&(n=i(n)),s&&(s=i(s))),o){y1e(this,n,s);const a=JHe(this,n,s,t);t=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:t,...n}}}function ike(r){return window.getComputedStyle(r)}class oke extends Bee{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(vp.has(t)){const n=eV(t);return n&&n.default||0}else{const n=ike(e),i=(DZ(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Dee(e,t)}build(e,t,n,i){UG(e,t,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return qG(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Do(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,n,i){LZ(e,t,n,i)}}class ske extends Bee{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(vp.has(t)){const n=eV(t);return n&&n.default||0}return t=NZ.has(t)?t:kG(t),e.getAttribute(t)}measureInstanceViewportBox(){return Tr()}scrapeMotionValuesFromProps(e,t){return VZ(e,t)}build(e,t,n,i){KG(e,t,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,n,i){GZ(e,t,n,i)}mount(e){this.isSVGTag=YG(e.tagName),super.mount(e)}}const ake=(r,e)=>WG(r)?new ske(e,{enableHardwareAcceleration:!1}):new oke(e,{enableHardwareAcceleration:!0}),lke={layout:{ProjectionNode:Vee,MeasureLayout:xee}},uke={...L1e,...nVe,...kHe,...lke},jee=dGe((r,e)=>jGe(r,e,uke,ake));function Wee(){const r=ve(!1);return HG(()=>(r.current=!0,()=>{r.current=!1}),[]),r}function cke(){const r=Wee(),[e,t]=Te(0),n=at(()=>{r.current&&t(e+1)},[e]);return[at(()=>Gn.postRender(n),[n]),e]}class dke extends ne.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hke({children:r,isPresent:e}){const t=BN(),n=ve(null),i=ve({width:0,height:0,top:0,left:0});return O6(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!n.current||!o||!s)return;n.current.dataset.motionPopId=t;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),ne.createElement(dke,{isPresent:e,childRef:n,sizeRef:i},ne.cloneElement(r,{ref:n}))}const vI=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=HZ(pke),l=BN(),u=Rn(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:c=>{a.set(c,!0);for(const d of a.values())if(!d)return;n&&n()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[t]);return Rn(()=>{a.forEach((c,d)=>a.set(d,!1))},[t]),ne.useEffect(()=>{!t&&!a.size&&n&&n()},[t]),s==="popLayout"&&(r=ne.createElement(hke,{isPresent:t},r)),ne.createElement(hD.Provider,{value:u},r)};function pke(){return new Map}function fke(r){return Fe(()=>()=>r(),[])}const Yd=r=>r.key||"";function gke(r,e){r.forEach(t=>{const n=Yd(t);e.set(n,t)})}function mke(r){const e=[];return hl.forEach(r,t=>{uu(t)&&e.push(t)}),e}const Uee=({children:r,custom:e,initial:t=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const a=Ut(jG).forceRender||cke()[0],l=Wee(),u=mke(r);let c=u;const d=ve(new Map).current,h=ve(c),p=ve(new Map).current,f=ve(!0);if(HG(()=>{f.current=!1,gke(u,p),h.current=c}),fke(()=>{f.current=!0,p.clear(),d.clear()}),f.current)return ne.createElement(ne.Fragment,null,c.map(C=>ne.createElement(vI,{key:Yd(C),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:o,mode:s},C)));c=[...c];const g=h.current.map(Yd),v=u.map(Yd),y=g.length;for(let C=0;C<y;C++){const w=g[C];v.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return s==="wait"&&d.size&&(c=[]),d.forEach((C,w)=>{if(v.indexOf(w)!==-1)return;const S=p.get(w);if(!S)return;const P=g.indexOf(w);let F=C;if(!F){const _=()=>{d.delete(w);const E=Array.from(p.keys()).filter(T=>!v.includes(T));if(E.forEach(T=>p.delete(T)),h.current=u.filter(T=>{const O=Yd(T);return O===w||E.includes(O)}),!d.size){if(l.current===!1)return;a(),n&&n()}};F=ne.createElement(vI,{key:Yd(S),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:o,mode:s},S),d.set(w,F)}c.splice(P,0,F)}),c=c.map(C=>{const w=C.key;return d.has(w)?C:ne.createElement(vI,{key:Yd(C),isPresent:!0,presenceAffectsLayout:o,mode:s},C)}),ne.createElement(ne.Fragment,null,d.size?c:c.map(C=>eo(C)))},vke=We(r=>({navbar:{backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,height:"100vh"},navItem:{display:"flex",alignItems:"center",padding:r.spacing.md,borderRadius:r.radius.md,transition:"all 200ms ease",color:r.colorScheme==="dark"?r.colors.dark[0]:r.colors.gray[7],"&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.colors.gray[0]},'&[data-active="true"]':{backgroundColor:r.fn.variant({variant:"light",color:"blue"}).background,color:r.fn.variant({variant:"light",color:"blue"}).color,"& .nav-icon":{color:r.fn.variant({variant:"light",color:"blue"}).color}},[r.fn.smallerThan("sm")]:{padding:r.spacing.xs,borderRadius:0,'&[data-active="true"]':{borderRadius:0}}},navIcon:{color:r.colorScheme==="dark"?r.colors.dark[2]:r.colors.gray[6],marginRight:r.spacing.sm,[r.fn.smallerThan("sm")]:{marginRight:0}},navLabel:{[r.fn.smallerThan("sm")]:{fontSize:r.fontSizes.xs}},mobileNav:{display:"flex",flexDirection:"column"},divider:{marginBottom:r.spacing.xs}})),yke=()=>{const{classes:r}=vke(),e=A6(),t=[{id:"dashboard",icon:j0e,label:"Home",to:"/dashboard"},{id:"patients",icon:VG,label:"My Patients",to:"/patients"},{id:"performance",icon:pZ,label:"Performance",to:"/performance"},{id:"ehr-alerts",icon:fZ,label:"EHR Alerts",to:"/ehr-alerts"},{id:"admin",icon:B0e,label:"Admin",to:"/patient-context"}],n={id:"settings",icon:GG,label:"Settings",to:"/settings"},i=a=>e.pathname===a,o={initial:{opacity:0,x:-20},animate:{opacity:1,x:0,transition:{duration:.2}},exit:{opacity:0,x:20,transition:{duration:.2}}},s=({icon:a,label:l,to:u,index:c,id:d})=>b.jsx(jee.div,{variants:o,initial:"initial",animate:"animate",exit:"exit",transition:{delay:c*.1},children:b.jsx(Ge,{component:x6,to:u,className:r.navItem,"data-active":i(u),children:b.jsxs(Ke,{spacing:"sm",noWrap:!0,children:[b.jsx(a,{size:20,className:r.navIcon+" nav-icon"}),b.jsx(Se,{className:r.navLabel,children:l})]})})},d);return b.jsx(n0,{p:"md",className:r.navbar,width:{base:250},children:b.jsxs(Dn,{spacing:"xs",className:r.mobileNav,sx:{height:"100%"},children:[b.jsx(Ge,{sx:{flex:1},children:b.jsx(Uee,{mode:"sync",children:t.map((a,l)=>b.jsx(s,{...a,index:l},a.id))})}),b.jsxs(Ge,{children:[b.jsx(Oo,{className:r.divider}),b.jsx(s,{...n,index:t.length},n.id)]})]})})},Cke=({onGoogleSignIn:r})=>{const[e,t]=Te(""),[n,i]=Te(""),[o,s]=Te(!1),[a,l]=Te(""),u=async c=>{c.preventDefault(),s(!0);try{await oNe(Wy,e,n)}catch(d){l(d.message)}finally{s(!1)}};return b.jsxs(Ge,{sx:{maxWidth:300},mx:"auto",children:[b.jsx(Dn,{spacing:"md",children:b.jsx(mr,{leftIcon:b.jsx(I0e,{size:16}),variant:"default",onClick:r,fullWidth:!0,children:"Continue with Google"})}),b.jsx(Oo,{label:"Or",labelPosition:"center",mb:"md"}),b.jsxs("form",{onSubmit:u,children:[b.jsx(Iy,{required:!0,label:"Email",value:e,onChange:c=>t(c.target.value),error:a,mb:"md"}),b.jsx(Iy,{required:!0,type:"password",label:"Password",value:n,onChange:c=>i(c.target.value),mb:"md"}),b.jsx(Ke,{position:"right",children:b.jsx(mr,{type:"submit",loading:o,children:"Sign In"})})]})]})},zee=L0(NG),gf=lJ(zee),Qv=LG(zee),wke=new ll,Ske=!1;Ske&&(typeof window<"u"&&(window.firebase={firestore:gf}),console.log("Firebase config:",{...NG,apiKey:"HIDDEN"}));const Eke=()=>{const r=up(),e=async()=>{try{const t=await DNe(Qv,wke);console.log("Google sign in successful:",t.user),r("/dashboard")}catch(t){console.error("Google sign in error:",t),t.code==="auth/popup-blocked"?alert("Please allow popups for this site"):alert("Error signing in with Google")}};return b.jsx(Gi,{size:"sm",py:"xl",children:b.jsxs(Nn,{radius:"md",p:"xl",withBorder:!0,children:[b.jsx($r,{order:2,align:"center",mb:"xl",children:"Welcome to Galaxy Health"}),b.jsx(Cke,{onGoogleSignIn:e})]})})};function oL(r,e){return oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},oL(r,e)}function Kee(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,oL(r,e)}const Pz={disabled:!1},IT=x.createContext(null);var Xv="unmounted",qd="exited",Qd="entering",mf="entered",sL="exiting",Nu=function(r){Kee(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?a?(l=qd,o.appearStatus=Qd):l=mf:n.unmountOnExit||n.mountOnEnter?l=Xv:l=qd,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Xv?{status:qd}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Qd&&s!==mf&&(o=Qd):(s===Qd||s===mf)&&(o=sL)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Qd?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===qd&&this.setState({status:Xv})},t.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[kc.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||Pz.disabled){this.safeSetState({status:mf},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Qd},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:mf},function(){o.props.onEntered(u,c)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:kc.findDOMNode(this);if(!o||Pz.disabled){this.safeSetState({status:qd},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:sL},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:qd},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:kc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Xv)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=D0(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return x.createElement(IT.Provider,{value:null},typeof s=="function"?s(i,a):x.cloneElement(x.Children.only(s),a))},e}(x.Component);Nu.contextType=IT;Nu.propTypes={};function Qp(){}Nu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qp,onEntering:Qp,onEntered:Qp,onExit:Qp,onExiting:Qp,onExited:Qp};Nu.UNMOUNTED=Xv;Nu.EXITED=qd;Nu.ENTERING=Qd;Nu.ENTERED=mf;Nu.EXITING=sL;function _ke(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function sV(r,e){var t=function(o){return e&&uu(o)?e(o):o},n=Object.create(null);return r&&hl.map(r,function(i){return i}).forEach(function(i){n[i.key]=t(i)}),n}function bke(r,e){r=r||{},e=e||{};function t(c){return c in e?e[c]:r[c]}var n=Object.create(null),i=[];for(var o in r)o in e?i.length&&(n[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(n[l])for(s=0;s<n[l].length;s++){var u=n[l][s];a[n[l][s]]=t(u)}a[l]=t(l)}for(s=0;s<i.length;s++)a[i[s]]=t(i[s]);return a}function ch(r,e,t){return t[e]!=null?t[e]:r.props[e]}function Rke(r,e){return sV(r.children,function(t){return eo(t,{onExited:e.bind(null,t),in:!0,appear:ch(t,"appear",r),enter:ch(t,"enter",r),exit:ch(t,"exit",r)})})}function Tke(r,e,t){var n=sV(r.children),i=bke(e,n);return Object.keys(i).forEach(function(o){var s=i[o];if(uu(s)){var a=o in e,l=o in n,u=e[o],c=uu(u)&&!u.props.in;l&&(!a||c)?i[o]=eo(s,{onExited:t.bind(null,s),in:!0,exit:ch(s,"exit",r),enter:ch(s,"enter",r)}):!l&&a&&!c?i[o]=eo(s,{in:!1}):l&&a&&uu(u)&&(i[o]=eo(s,{onExited:t.bind(null,s),in:u.props.in,exit:ch(s,"exit",r),enter:ch(s,"enter",r)}))}}),i}var Pke=Object.values||function(r){return Object.keys(r).map(function(e){return r[e]})},Oke={component:"div",childFactory:function(e){return e}},aV=function(r){Kee(e,r);function e(n,i){var o;o=r.call(this,n,i)||this;var s=o.handleExited.bind(_ke(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?Rke(i,a):Tke(i,s,a),firstRender:!1}},t.handleExited=function(i,o){var s=sV(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=Ln({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=D0(i,["component","childFactory"]),l=this.state.contextValue,u=Pke(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?x.createElement(IT.Provider,{value:l},u):x.createElement(IT.Provider,{value:l},x.createElement(o,a,u))},e}(x.Component);aV.propTypes={};aV.defaultProps=Oke;function Dke(r,e){window.dispatchEvent(new CustomEvent(r,{detail:e}))}const Ake=typeof window<"u"?xu:Fe;function xke(r){function e(n){const i=Object.keys(n).reduce((o,s)=>(o[`${r}:${s}`]=a=>n[s](a.detail),o),{});Ake(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function t(n){return(...i)=>Dke(`${r}:${String(n)}`,i[0])}return[e,t]}const[Ike,mw]=xke("mantine-notifications"),FT=mw("show"),Fke=mw("hide"),Mke=mw("clean"),Lke=mw("cleanQueue"),Nke=mw("update"),vw={show:FT,hide:Fke,clean:Mke,cleanQueue:Lke,update:Nke};function Gke([r,e],t){const n={};return r==="top"&&(n.top=t),r==="bottom"&&(n.bottom=t),e==="left"&&(n.left=t),e==="right"&&(n.right=t),e==="center"&&(n.left="50%",n.transform="translateX(-50%)"),n}var Vke=Object.defineProperty,Oz=Object.getOwnPropertySymbols,Hke=Object.prototype.hasOwnProperty,kke=Object.prototype.propertyIsEnumerable,Dz=(r,e,t)=>e in r?Vke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Az=(r,e)=>{for(var t in e||(e={}))Hke.call(e,t)&&Dz(r,t,e[t]);if(Oz)for(var t of Oz(e))kke.call(e,t)&&Dz(r,t,e[t]);return r};const xz={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},$ke={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function Bke({state:r,maxHeight:e,positioning:t,transitionDuration:n}){const[i,o]=t,s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:e,transform:xz[s],transitionDuration:`${n}ms, ${n}ms, ${n}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},l={opacity:1,transform:$ke[s]},u={opacity:0,maxHeight:0,transform:xz[s]},c={entering:l,entered:l,exiting:u,exited:u};return Az(Az({},a),c[r])}function jke(r,e){return typeof e=="number"?e:e===!1||r===!1?!1:r}var Wke=Object.defineProperty,Uke=Object.defineProperties,zke=Object.getOwnPropertyDescriptors,MT=Object.getOwnPropertySymbols,Yee=Object.prototype.hasOwnProperty,qee=Object.prototype.propertyIsEnumerable,Iz=(r,e,t)=>e in r?Wke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fz=(r,e)=>{for(var t in e||(e={}))Yee.call(e,t)&&Iz(r,t,e[t]);if(MT)for(var t of MT(e))qee.call(e,t)&&Iz(r,t,e[t]);return r},Kke=(r,e)=>Uke(r,zke(e)),Mz=(r,e)=>{var t={};for(var n in r)Yee.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&MT)for(var n of MT(r))e.indexOf(n)<0&&qee.call(r,n)&&(t[n]=r[n]);return t};function Qee(r){var e=r,{notification:t,autoClose:n,onHide:i,innerRef:o}=e,s=Mz(e,["notification","autoClose","onHide","innerRef"]);const a=t,{autoClose:l,message:u}=a,c=Mz(a,["autoClose","message"]),d=jke(n,l),h=ve(),p=()=>{i(t.id),window.clearTimeout(h.current)},f=()=>{clearTimeout(h.current)},g=()=>{typeof d=="number"&&(h.current=window.setTimeout(p,d))};return Fe(()=>{typeof t.onOpen=="function"&&t.onOpen(t)},[]),Fe(()=>(g(),f),[n,t.autoClose]),x.createElement(qq,Kke(Fz(Fz({},c),s),{onClose:p,onMouseEnter:f,onMouseLeave:g,ref:o}),u)}Qee.displayName="@mantine/notifications/NotificationContainer";var Yke=We((r,{zIndex:e})=>({notifications:{width:`calc(100% - ${r.spacing.md} * 2)`,boxSizing:"border-box",position:"fixed",zIndex:e},notification:{"&:not(:first-of-type)":{marginTop:r.spacing.sm}}})),qke=Object.defineProperty,Qke=Object.defineProperties,Xke=Object.getOwnPropertyDescriptors,Lz=Object.getOwnPropertySymbols,Jke=Object.prototype.hasOwnProperty,Zke=Object.prototype.propertyIsEnumerable,Nz=(r,e,t)=>e in r?qke(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,e$e=(r,e)=>{for(var t in e||(e={}))Jke.call(e,t)&&Nz(r,t,e[t]);if(Lz)for(var t of Lz(e))Zke.call(e,t)&&Nz(r,t,e[t]);return r},t$e=(r,e)=>Qke(r,Xke(e));function n$e({limit:r}){const{state:e,queue:t,update:n,cleanQueue:i}=vfe({initialValues:[],limit:r});return{notifications:e,queue:t,showNotification:u=>{const c=u.id||OO();return n(d=>u.id&&d.some(h=>h.id===u.id)?d:[...d,t$e(e$e({},u),{id:c})]),c},updateNotification:u=>n(c=>{const d=c.findIndex(p=>p.id===u.id);if(d===-1)return c;const h=[...c];return h[d]=u,h}),hideNotification:u=>n(c=>c.filter(d=>d.id===u?(typeof d.onClose=="function"&&d.onClose(d),!1):!0)),cleanQueue:i,clean:()=>n(()=>[])}}var r$e=Object.defineProperty,LT=Object.getOwnPropertySymbols,Xee=Object.prototype.hasOwnProperty,Jee=Object.prototype.propertyIsEnumerable,Gz=(r,e,t)=>e in r?r$e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yI=(r,e)=>{for(var t in e||(e={}))Xee.call(e,t)&&Gz(r,t,e[t]);if(LT)for(var t of LT(e))Jee.call(e,t)&&Gz(r,t,e[t]);return r},i$e=(r,e)=>{var t={};for(var n in r)Xee.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&LT)for(var n of LT(r))e.indexOf(n)<0&&Jee.call(r,n)&&(t[n]=r[n]);return t};const o$e=["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"],Cp=r=>{var e=r,{className:t,position:n="bottom-right",autoClose:i=4e3,transitionDuration:o=250,containerWidth:s=W(440),notificationMaxHeight:a=W(200),limit:l=5,zIndex:u=Da("overlay"),style:c,children:d,target:h}=e,p=i$e(e,["className","position","autoClose","transitionDuration","containerWidth","notificationMaxHeight","limit","zIndex","style","children","target"]);const f=ffe(),g=ve({}),v=ve(0),{notifications:y,showNotification:C,updateNotification:w,hideNotification:S,clean:P,cleanQueue:F}=n$e({limit:l}),{classes:_,cx:E,theme:T}=Yke({zIndex:u}),O=WC(),V=(T.respectReducedMotion?O:!1)?1:o,M=(o$e.includes(n)?n:"bottom-right").split("-");ks(()=>{y.length>v.current&&setTimeout(()=>f(),0),v.current=y.length},[y]),Ike({show:C,hide:S,update:w,clean:P,cleanQueue:F});const N=y.map($=>x.createElement(Nu,{key:$.id,timeout:V,onEnter:()=>g.current[$.id].offsetHeight,nodeRef:{current:g.current[$.id]}},B=>x.createElement(Qee,{innerRef:U=>{g.current[$.id]=U},notification:$,onHide:S,className:_.notification,autoClose:i,sx:[yI({},Bke({state:B,positioning:M,transitionDuration:V,maxHeight:a})),...Array.isArray($.sx)?$.sx:[$.sx]]})));return x.createElement(t0,{target:h},x.createElement(Ge,yI({className:E(_.notifications,t),style:c,sx:yI({maxWidth:s},Gke(M,T.spacing.md))},p),x.createElement(aV,null,N)))};Cp.displayName="@mantine/notifications/Notifications";Cp.show=vw.show;Cp.hide=vw.hide;Cp.update=vw.update;Cp.clean=vw.clean;Cp.cleanQueue=vw.cleanQueue;const Vz=r=>{let e;const t=new Set,n=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,p))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{t.clear()}},u=e=r(n,i,l);return l},Zee=r=>r?Vz(r):Vz;var ete={exports:{}},tte={},nte={exports:{}},rte={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=x;function s$e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var a$e=typeof Object.is=="function"?Object.is:s$e,l$e=vg.useState,u$e=vg.useEffect,c$e=vg.useLayoutEffect,d$e=vg.useDebugValue;function h$e(r,e){var t=e(),n=l$e({inst:{value:t,getSnapshot:e}}),i=n[0].inst,o=n[1];return c$e(function(){i.value=t,i.getSnapshot=e,CI(i)&&o({inst:i})},[r,t,e]),u$e(function(){return CI(i)&&o({inst:i}),r(function(){CI(i)&&o({inst:i})})},[r]),d$e(t),t}function CI(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!a$e(r,t)}catch{return!0}}function p$e(r,e){return e()}var f$e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p$e:h$e;rte.useSyncExternalStore=vg.useSyncExternalStore!==void 0?vg.useSyncExternalStore:f$e;nte.exports=rte;var g$e=nte.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CD=x,m$e=g$e;function v$e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var y$e=typeof Object.is=="function"?Object.is:v$e,C$e=m$e.useSyncExternalStore,w$e=CD.useRef,S$e=CD.useEffect,E$e=CD.useMemo,_$e=CD.useDebugValue;tte.useSyncExternalStoreWithSelector=function(r,e,t,n,i){var o=w$e(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=E$e(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&s.hasValue){var f=s.value;if(i(f,p))return d=f}return d=p}if(f=d,y$e(c,p))return f;var g=n(p);return i!==void 0&&i(f,g)?(c=p,f):(c=p,d=g)}var u=!1,c,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,n,i]);var a=C$e(r,o[0],o[1]);return S$e(function(){s.hasValue=!0,s.value=a},[a]),_$e(a),a};ete.exports=tte;var b$e=ete.exports;const ite=I6(b$e),{useDebugValue:R$e}=x,{useSyncExternalStoreWithSelector:T$e}=ite,P$e=r=>r;function O$e(r,e=P$e,t){const n=T$e(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return R$e(n),n}const D$e=r=>{const e=typeof r=="function"?Zee(r):r,t=(n,i)=>O$e(e,n,i);return Object.assign(t,e),t},A$e=r=>D$e(r),Yy=A$e((r,e)=>(console.log("Creating notification store"),{notifications:[],loading:!0,error:null,initialize:()=>{console.log("Initializing notifications");let t=()=>{};try{if(!Qv.currentUser)return console.log("No authenticated user"),r({loading:!1}),()=>{};console.log("Setting up Firestore listener for:",Qv.currentUser.uid);const n=Vf(gf,"notifications"),i=yG(n,yJ("userId","==",Qv.currentUser.uid),CJ("timestamp","desc"),nLe(100));t=_J(i,o=>{const s=o.docs.map(a=>{var u,c;const l=a.data();return{id:a.id,...l,timestamp:((c=(u=l.timestamp)==null?void 0:u.toDate())==null?void 0:c.toISOString())||l.createdAt}});console.log("Received notifications:",s),r({notifications:s,loading:!1})},o=>{console.error("Error loading notifications:",o),r({error:o.message,loading:!1})})}catch(n){console.error("Error initializing notifications:",n),r({error:n.message,loading:!1})}return t},addNotification:async t=>{try{const n=Qv.currentUser;if(!n){console.error("Must be authenticated to add notifications");return}const i=Vf(gf,"notifications");await oLe(i,{...t,userId:n.uid,timestamp:aLe(),createdAt:new Date().toISOString(),read:!1})}catch(n){console.error("Error adding notification:",n)}},markAsRead:async t=>{try{await Hf(ns(gf,"notifications",t),{read:!0})}catch(n){console.error("Error marking notification as read:",n)}},clearNotifications:async()=>{try{const t=lLe(gf);e().notifications.forEach(i=>{const o=ns(gf,"notifications",i.id);t.delete(o)}),await t.commit()}catch(t){console.error("Error clearing notifications:",t)}},getUnreadCount:()=>e().notifications.filter(t=>!t.read).length})),ote=Yn(null),x$e=({children:r})=>{const[e,t]=Te(null),n=up(),i=Yy(h=>h.addNotification),[o,s]=Te([]),[a,l]=Te(!1),[u,c]=Te(null);Fe(()=>{console.log("Setting up patient context listener"),window.testPatientContext=p=>{console.log("Testing patient context with:",p),window.postMessage({type:"PATIENT_CONTEXT_UPDATED",data:p},"*")};const h=p=>{var f,g,v;if(console.log("Received message in web app:",p),((f=p.data)==null?void 0:f.type)==="PATIENT_CONTEXT_UPDATED"){console.log("Updating patient context:",p.data.data);const y=p.data.data;t(y);const C=`${y.name[0].given.join(" ")} ${y.name[0].family}`;i({type:"PATIENT_CONTEXT",title:"Patient Context Detected",message:`Active patient: ${C}`,patientId:y.id,patientInfo:{name:C,mrn:(v=(g=y.identifier)==null?void 0:g[0])==null?void 0:v.value,id:y.id},source:y.source,appName:y.appName}),FT({title:"Patient Context Detected",message:`Active patient: ${C}`,color:"blue",icon:b.jsx(yZ,{size:16}),autoClose:5e3,onClick:()=>n(`/patients/${y.id}`)})}};return window.addEventListener("message",h),()=>{window.removeEventListener("message",h),delete window.testPatientContext}},[n,i]);const d=async()=>{try{const h=Vf(wo,"patients"),p=yG(h,CJ("lastName","asc")),f=await L_(p),g=[];return f.forEach(v=>{const y=v.data();g.push({id:v.id,firstName:y.firstName,lastName:y.lastName,dateOfBirth:y.dateOfBirth,riskLevel:y.riskLevel||"low",lastVisit:y.lastVisit,careGaps:y.careGaps||[],provider:y.provider||""})}),g}catch(h){throw console.error("Error fetching patients:",h),h}};return Fe(()=>{(async()=>{l(!0);try{const p=await d();console.log("Loaded patients:",p),s(p)}catch(p){console.error("Error loading patients:",p),c(p)}finally{l(!1)}})()},[]),b.jsx(ote.Provider,{value:{activePatient:e,setActivePatient:t,patients:o,loading:a,error:u},children:r})},lV=()=>Ut(ote),I$e=({patient:r})=>r?b.jsx(Nn,{p:"md",radius:"md",shadow:"sm",sx:e=>({backgroundColor:e.colors.blue[1],border:`1px solid ${e.colors.blue[3]}`}),children:b.jsxs(Dn,{spacing:"xs",children:[b.jsxs(Ke,{position:"apart",children:[b.jsxs(Ke,{children:[b.jsx(yZ,{size:24}),b.jsxs("div",{children:[b.jsx(Se,{size:"sm",color:"dimmed",children:"Active Patient"}),b.jsxs(Se,{weight:500,children:[r.name[0].given.join(" ")," ",r.name[0].family]})]})]}),b.jsx(to,{color:"blue",children:"Context Active"})]}),b.jsx(Ke,{position:"right",children:b.jsx(mr,{component:x6,to:`/patients/${r.id}`,variant:"light",size:"xs",rightIcon:b.jsx(cD,{size:16}),children:"View Details"})})]})}):null,Zl={CARE_GAPS:"care_gaps",HIGH_RISK:"high_risk",RECENT_VISITS:"recent_visits",MISSING_AWV:"missing_awv",UNCONTROLLED_CONDITIONS:"uncontrolled_conditions"},Hz=r=>{switch(r){case Zl.CARE_GAPS:return{careGaps:{type:"greaterThan",filter:0}};case Zl.HIGH_RISK:return{riskLevel:{values:["high"]}};case Zl.RECENT_VISITS:return{lastVisit:{type:"greaterThan",dateFrom:new Date(Date.now()-7*24*60*60*1e3).toISOString()}};case Zl.MISSING_AWV:return{awvStatus:{values:["missing","overdue"]}};case Zl.UNCONTROLLED_CONDITIONS:return{conditions:{type:"contains",filter:"uncontrolled"}};default:return{}}},F$e=()=>{const r={overview:"Here's your daily patient care summary and recommended actions:",keyPoints:[{type:"alert",text:"3 high-risk diabetes patients need medication review",icon:tm,color:"red"},{type:"opportunity",text:"8 Annual Wellness Visits can be scheduled this week",icon:dw,color:"blue"},{type:"success",text:"4 patients improved their blood pressure control this month",icon:ET,color:"green"}],recommendation:{priority:"high",action:"Focus on High-Risk Diabetes Patients",impact:"Early intervention could prevent complications for 3 patients with HbA1c > 9.0",nextSteps:["Review medication adherence reports","Schedule follow-up appointments","Update care management plans"]}};return b.jsxs(Nn,{p:"xl",radius:"md",withBorder:!0,mt:"xl",children:[b.jsx(Ke,{position:"apart",mb:"lg",children:b.jsxs(Ke,{children:[b.jsx(b0,{size:"lg",radius:"xl",sx:e=>({background:e.fn.linearGradient(45,"#6E2B81","#B82C5D")}),children:b.jsx(Y0e,{size:24})}),b.jsxs("div",{children:[b.jsx($r,{order:3,children:"AI Summary"}),b.jsx(Se,{size:"sm",color:"dimmed",children:"Updated just now"})]})]})}),b.jsx(Ge,{sx:e=>({padding:e.spacing.md,backgroundColor:e.colorScheme==="dark"?e.colors.dark[7]:e.colors.gray[0],borderRadius:e.radius.md,marginBottom:e.spacing.lg}),children:b.jsx(Se,{size:"md",children:r.overview})}),b.jsx(Dn,{spacing:"md",mb:"xl",children:r.keyPoints.map((e,t)=>b.jsxs(Ke,{spacing:"sm",children:[b.jsx(hs,{color:e.color,size:"lg",radius:"xl",children:b.jsx(e.icon,{size:18})}),b.jsx(Se,{size:"sm",children:e.text})]},t))}),b.jsx(Oo,{my:"lg"}),b.jsxs(Dn,{spacing:"md",children:[b.jsx($r,{order:4,children:"Recommended Action"}),b.jsxs(Ge,{sx:e=>({padding:e.spacing.md,backgroundColor:e.colors.blue[7],color:"white",borderRadius:e.radius.md}),children:[b.jsx(Se,{weight:500,children:r.recommendation.action}),b.jsx(Se,{size:"sm",mt:4,style:{opacity:.9},children:r.recommendation.impact})]}),b.jsx(Dn,{spacing:"xs",children:r.recommendation.nextSteps.map((e,t)=>b.jsxs(Ke,{spacing:"xs",children:[b.jsxs(Se,{size:"sm",color:"dimmed",children:[t+1,"."]}),b.jsx(Se,{size:"sm",children:e})]},t))}),b.jsx(Ke,{position:"right",mt:"md",children:b.jsx(mr,{variant:"light",rightIcon:b.jsx(cD,{size:16}),onClick:()=>{},children:"Take Action"})})]})]})},M$e=({title:r,count:e,description:t,icon:n,color:i,onClick:o})=>b.jsxs(Nn,{p:"md",radius:"md",withBorder:!0,onClick:o,sx:{cursor:o?"pointer":"default"},children:[b.jsxs(Ke,{position:"apart",mb:"xs",children:[b.jsx(hs,{size:"xl",radius:"md",color:i,variant:"light",children:b.jsx(n,{size:24})}),b.jsx(Se,{size:"xl",weight:700,children:e})]}),b.jsx(Se,{size:"lg",weight:500,mb:"xs",children:r}),b.jsx(Se,{size:"sm",color:"dimmed",children:t})]}),ste=()=>{var s;const{activePatient:r}=lV(),{user:e}=nm(),t=((s=e==null?void 0:e.displayName)==null?void 0:s.split(" ")[0])||"there",n=up(),i=a=>{n(`/patients?view=${a}`)},o=[{title:"High Risk Patients",count:"5",description:"Patients requiring immediate attention",icon:cZ,color:"red",view:Zl.HIGH_RISK},{title:"Care Gaps",count:"12",description:"Open care gaps to address",icon:dw,color:"blue",view:Zl.CARE_GAPS},{title:"Due for AWV",count:"8",description:"Annual Wellness Visits due this month",icon:hZ,color:"green",view:Zl.MISSING_AWV},{title:"Recent Visits",count:"15",description:"Patients seen in the last 7 days",icon:J0e,color:"grape",view:Zl.RECENT_VISITS}];return b.jsxs(Gi,{size:"xl",py:"xl",children:[b.jsxs(Ge,{pb:"xl",children:[b.jsxs($r,{order:1,mb:"lg",pl:"md",color:"dark.9",children:["Welcome, ",t]}),r&&b.jsx(Ge,{mb:"lg",children:b.jsx(I$e,{patient:r})})]}),b.jsx(sr,{children:o.map((a,l)=>b.jsx(sr.Col,{span:3,children:b.jsx(M$e,{...a,onClick:()=>i(a.view)})},l))}),b.jsx(F$e,{})]})};function wl(r){return r==null||r===""?null:r}function le(r,e=!1){return r!=null&&(r!==""||e)}function it(r){return!le(r)}function rs(r){return r==null||r.length===0}function qy(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function xs(r){if(r===void 0)return;if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;const e=parseInt(r,10);return isNaN(e)?void 0:e}function rl(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function L$e(r){if(!(r==null||r===""))return r}function N$e(r,e){return r==null&&e==null?!0:r==null&&e!=null||r!=null&&e==null?!1:r===e}function G$e(r,e){const t=r?JSON.stringify(r):null,n=e?JSON.stringify(e):null;return t===n}function V$e(r,e,t=!1){const n=r==null,i=e==null;if(r&&r.toNumber&&(r=r.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof r!="string"||!t)return o(r,e);try{return r.localeCompare(e)}catch{return o(r,e)}}function jf(r){if(r instanceof Set||r instanceof Map){const e=[];return r.forEach(t=>e.push(t)),e}return Object.values(r)}const H$e=Object.freeze(Object.defineProperty({__proto__:null,attrToBoolean:rl,attrToNumber:xs,attrToString:L$e,defaultComparator:V$e,exists:le,jsonEquals:G$e,makeNull:wl,missing:it,missingOrEmpty:rs,referenceCompare:N$e,toStringOrNull:qy,values:jf},Symbol.toStringTag,{value:"Module"}));let k$e=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=qy(e);let n=0;for(;;){let i;if(e?(i=e,n!==0&&(i+="_"+n)):t?(i=t,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}};function hr(r,e){if(r!=null){if(Array.isArray(r)){for(let t=0;t<r.length;t++)e(t.toString(),r[t]);return}for(const[t,n]of Object.entries(r))e(t,n)}}function uV(r){const e={},t=Object.keys(r);for(let n=0;n<t.length;n++){const i=t[n],o=r[i];e[i]=o}return e}function $$e(r){return JSON.parse(JSON.stringify(r))}function NT(r,e){if(!r)return;const t=r,n={};return Object.keys(t).forEach(i=>{if(e&&e.indexOf(i)>=0)return;const o=t[i];GT(o)&&o.constructor===Object?n[i]=NT(o):n[i]=o}),n}function ate(r,e){return r[e]}function lte(r,e,t){r[e]=t}function B$e(r,e,...t){t.forEach(n=>ute(r,e,n))}function ute(r,e,t,n){const i=ate(r,t);i!==void 0&&lte(e,t,n?n(i):i)}function cte(r){const e={};return r.filter(t=>t!=null).forEach(t=>{Object.keys(t).forEach(n=>e[n]=null)}),Object.keys(e)}function Ol(r){if(!r)return[];const e=Object;if(typeof e.values=="function")return e.values(r);const t=[];for(const n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&t.push(r[n]);return t}function ss(r,e,t=!0,n=!1){le(e)&&hr(e,(i,o)=>{let s=r[i];s!==o&&(n&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},r[i]=s),GT(o)&&GT(s)&&!Array.isArray(s)?ss(s,o,t,n):(t||o!==void 0)&&(r[i]=o))})}function j$e(r){return it(r)||Object.keys(r).length===0}function W$e(r,e,t){if(r==null)return t;const n=e.split(".");let i=r;for(;n.length>1;)if(i=i[n.shift()],i==null)return t;const o=i[n[0]];return o??t}function U$e(r,e,t){if(r==null)return;const n=e.split(".");let i=r;n.forEach((o,s)=>{i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=t}function Wf(r,e,t){if(!e||!r)return;if(!t)return r[e];const n=e.split(".");let i=r;for(let o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}function dte(r,e){Object.keys(r).forEach(i=>{typeof r[i]=="object"&&(r[i]=void 0)});const t=Object.getPrototypeOf(r),n={};Object.keys(t).forEach(i=>{if(typeof t[i]=="function"){const s=()=>{console.warn(`AG Grid: ${e} function ${i}() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};n[i]={value:s,writable:!0}}}),Object.defineProperties(r,n)}function GT(r){return typeof r=="object"&&r!==null}const z$e=Object.freeze(Object.defineProperty({__proto__:null,cloneObject:uV,copyPropertiesIfPresent:B$e,copyPropertyIfPresent:ute,deepCloneDefinition:NT,deepCloneObject:$$e,get:W$e,getAllKeysInObjects:cte,getAllValuesInObject:Ol,getProperty:ate,getValueUsingField:Wf,isNonNullObject:GT,iterateObject:hr,mergeDeep:ss,missingOrEmptyObject:j$e,removeAllReferences:dte,set:U$e,setProperty:lte},Symbol.toStringTag,{value:"Module"})),kz={};function Mt(r,e){kz[e]||(r(),kz[e]=!0)}function cV(r){if(r.name)return r.name;const e=/function\s+([^\(]+)/.exec(r.toString());return e&&e.length===2?e[1].trim():null}function wD(r){return!!(r&&r.constructor&&r.call&&r.apply)}function hte(r){pte(r,400)}const wI=[];let SI=!1;function aL(r){wI.push(r),!SI&&(SI=!0,window.setTimeout(()=>{const e=wI.slice();wI.length=0,SI=!1,e.forEach(t=>t())},0))}function pte(r,e=0){r.length>0&&window.setTimeout(()=>r.forEach(t=>t()),e)}function ua(r,e){let t;return function(...n){const i=this;window.clearTimeout(t),t=window.setTimeout(function(){r.apply(i,n)},e)}}function lL(r,e){let t=0;return function(...n){const i=this,o=new Date().getTime();o-t<e||(t=o,r.apply(i,n))}}function dV(r,e,t=100,n){const i=new Date().getTime();let o=null,s=!1;const a=()=>{const l=new Date().getTime()-i>t;(r()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function K$e(...r){return e=>r.reduce((t,n)=>n(t),e)}function fte(r){r&&r()}const Y$e=()=>{},q$e=Object.freeze(Object.defineProperty({__proto__:null,callIfPresent:fte,compose:K$e,debounce:ua,doOnce:Mt,executeAfter:pte,executeInAWhile:hte,executeNextVMTurn:aL,getFunctionName:cV,isFunction:wD,noop:Y$e,throttle:lL,waitUntil:dV},Symbol.toStringTag,{value:"Module"}));var _e;(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue"})(_e||(_e={}));let Be=class cn{static register(e){cn.__register(e,!0,void 0)}static registerModules(e){cn.__registerModules(e,!0,void 0)}static __register(e,t,n){cn.runVersionChecks(e),n!==void 0?(cn.areGridScopedModules=!0,cn.gridModulesMap[n]===void 0&&(cn.gridModulesMap[n]={}),cn.gridModulesMap[n][e.moduleName]=e):cn.globalModulesMap[e.moduleName]=e,cn.setModuleBased(t)}static __unRegisterGridModules(e){delete cn.gridModulesMap[e]}static __registerModules(e,t,n){cn.setModuleBased(t),e&&e.forEach(i=>cn.__register(i,t,n))}static isValidModuleVersion(e){const[t,n]=e.version.split(".")||[],[i,o]=cn.currentModuleVersion.split(".")||[];return t===i&&n===o}static runVersionChecks(e){if(cn.currentModuleVersion||(cn.currentModuleVersion=e.version),e.version?cn.isValidModuleVersion(e)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is version ${e.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${e.moduleName}' is incompatible. Please update all modules to the same version.`),e.validate){const t=e.validate();t.isValid||console.error(`AG Grid: ${t.message}`)}}static setModuleBased(e){cn.moduleBased===void 0?cn.moduleBased=e:cn.moduleBased!==e&&Mt(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){cn.isBundled=!0}static __assertRegistered(e,t,n){var i;if(this.__isRegistered(e,n))return!0;const o=t+e;let s;if(cn.isBundled)s=`AG Grid: unable to use ${t} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(cn.moduleBased||cn.moduleBased===void 0){let a=(i=Object.entries(_e).find(([l,u])=>u===e))===null||i===void 0?void 0:i[0];s=`AG Grid: unable to use ${t} as the ${a} is not registered${cn.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${e}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s=`AG Grid: unable to use ${t} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Mt(()=>{console.warn(s)},o),!1}static __isRegistered(e,t){var n;return!!cn.globalModulesMap[e]||!!(!((n=cn.gridModulesMap[t])===null||n===void 0)&&n[e])}static __getRegisteredModules(e){return[...jf(cn.globalModulesMap),...jf(cn.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){var t;return jf((t=cn.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]}static __isPackageBased(){return!cn.moduleBased}};Be.globalModulesMap={};Be.gridModulesMap={};Be.areGridScopedModules=!1;function SD(r,e,t){const n=kh(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function he(r,e,t){const n=kh(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function Si(r,e,t){const n=kh(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function Re(r){return e=>{const t=kh(e);t.beanName=r}}function A(r){return(e,t,n)=>{gte(e,r,!1,e,t)}}function xt(r){return(e,t,n)=>{gte(e,r,!0,e,t)}}function gte(r,e,t,n,i,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}const s=kh(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:e,optional:t})}function Ji(r){return(e,t,n)=>{const i=typeof e=="function"?e:e.constructor;let o;if(typeof n=="number"){let s;t?(o=kh(i),s=t):(o=kh(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function kh(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var mte=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},rv=function(r,e){return function(t,n){e(t,n,r)}};let Bs=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,n,i=null,o=null){if(this.frameworkOverrides=n,this.gridOptionsService=t,i){const s=t.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;if(this.gridOptionsService){const{api:n,columnApi:i,context:o}=this.gridOptionsService;t.api=n,t.columnApi=i,t.context=o}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const i=a=>a.forEach(l=>{t?this.dispatchAsync(()=>l(e)):l(e)}),o=new Set(this.getListeners(n,t,!1));o.size>0&&i(o),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{t?this.dispatchAsync(()=>this.frameworkOverrides.dispatchEvent(n,()=>a(n,e),!0)):this.frameworkOverrides.dispatchEvent(n,()=>a(n,e),!0)})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};mte([rv(0,Ji("loggerFactory")),rv(1,Ji("gridOptionsService")),rv(2,Ji("frameworkOverrides")),rv(3,Ji("globalEventListener")),rv(4,Ji("globalSyncEventListener"))],Bs.prototype,"setBeans",null);Bs=mte([Re("eventService")],Bs);var ED=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Q$e=0;function vte(){return Q$e++}let Xe=class yte{constructor(e,t,n,i){this.instanceId=vte(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Bs,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=xs(e.sortIndex),n=xs(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);const i=rl(e.hide),o=rl(e.initialHide);i!==void 0?this.visible=!i:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const s=xs(e.flex),a=xs(e.initialFlex);s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)}setColDef(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()}initDotNotation(){const e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=le(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=le(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)}initTooltip(){this.tooltipEnabled=le(this.colDef.tooltipField)||le(this.colDef.tooltipValueGetter)||le(this.colDef.tooltipComponent)}resetActualWidth(e="api"){const t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(it(this.colDef)||it(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}validate(){const e=this.colDef;function t(i,o,s){Mt(()=>{Mt(()=>console.warn(i),o)},o)}if(this.gridOptionsService.isRowModelType("clientSide")&&!Be.__isRegistered(_e.RowGroupingModule,this.gridOptionsService.getGridId())){const o=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(s=>le(e[s]));o.length>0&&Be.__assertRegistered(_e.RowGroupingModule,o.map(s=>"colDef."+s).join(", "),this.gridOptionsService.getGridId())}if((this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&Be.__assertRegistered(_e.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")){const o=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(s=>le(e[s]));o.length>0&&t(`AG Grid: ${o.join()} is not possible when doing tree data, your column definition should not have ${o.join()}`,"TreeDataCannotRowGroup")}if(le(e.menuTabs))if(Array.isArray(e.menuTabs)){const i=["filterMenuTab"],o=["columnsMenuTab","generalMenuTab"],s=o.filter(a=>e.menuTabs.includes(a));s.length>0&&Be.__assertRegistered(_e.MenuModule,`menuTab(s): ${s.map(a=>`'${a}'`).join()}`,this.gridOptionsService.getGridId()),e.menuTabs.forEach(a=>{!o.includes(a)&&!i.includes(a)&&t(`AG Grid: '${a}' is not valid for 'colDef.menuTabs'. Valid values are: ${[...i,...o].map(l=>`'${l}'`).join()}.`,"wrongValue_menuTabs_"+a)})}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");le(e.columnsMenuParams)&&Be.__assertRegistered(_e.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),le(e.columnsMenuParams)&&Be.__assertRegistered(_e.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),le(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),le(e.columnGroupShow)&&e.columnGroupShow!=="closed"&&e.columnGroupShow!=="open"&&t(`AG Grid: '${e.columnGroupShow}' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null`,"columnGroupShow_invalid")}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}createColumnFunctionCallbackParams(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1}isCellEditable(e){return e.group&&!this.gridOptionsService.is("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!rl(this.colDef.suppressFillHandle)}isAutoHeight(){return!!rl(this.colDef.autoHeight)}isAutoHeaderHeight(){return!!rl(this.colDef.autoHeaderHeight)}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!rl(this.colDef.resizable)}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}setMoving(e,t="api"){this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t="api"){this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(e,t="api"){this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return it(this.sort)}isSorting(){return le(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t="api"){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t="api",n){this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const i=this.createColumnEvent("filterChanged",t);n&&ss(i,n),this.eventService.dispatchEvent(i)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t="api"){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t="api"){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t="api"){const n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}getColSpan(e){if(it(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(it(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t="api",n=!1){this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return this.maxWidth!=null?e>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e="api"){le(this.minWidth)&&this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t="api"){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t="api"){this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t="api"){this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(e){let t=this.getColDef().menuTabs;return t==null&&(t=e),t}dispatchStateUpdatedEvent(e){this.eventService.dispatchEvent({type:yte.EVENT_STATE_UPDATED,key:e})}};Xe.EVENT_MOVING_CHANGED="movingChanged";Xe.EVENT_LEFT_CHANGED="leftChanged";Xe.EVENT_WIDTH_CHANGED="widthChanged";Xe.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";Xe.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";Xe.EVENT_VISIBLE_CHANGED="visibleChanged";Xe.EVENT_FILTER_CHANGED="filterChanged";Xe.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";Xe.EVENT_SORT_CHANGED="sortChanged";Xe.EVENT_COL_DEF_CHANGED="colDefChanged";Xe.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";Xe.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";Xe.EVENT_PIVOT_CHANGED="columnPivotChanged";Xe.EVENT_VALUE_CHANGED="columnValueChanged";Xe.EVENT_STATE_UPDATED="columnStateUpdated";ED([A("gridOptionsService")],Xe.prototype,"gridOptionsService",void 0);ED([A("columnUtils")],Xe.prototype,"columnUtils",void 0);ED([A("columnHoverService")],Xe.prototype,"columnHoverService",void 0);ED([he],Xe.prototype,"initialise",null);var X$e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let yn=class Jv{constructor(e,t,n,i){this.localEventService=new Bs,this.expandable=!1,this.instanceId=vte(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=i}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e;const t={type:Jv.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{t instanceof Xe?e.push(t):t instanceof Jv&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isVisible())continue;const u=l.getColumnGroupShow();u==="open"?(e=!0,n=!0):u==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const o=e&&t&&n;if(this.expandable!==o){this.expandable=o;const s={type:Jv.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(s)}}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{i instanceof Jv&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};yn.EVENT_EXPANDED_CHANGED="expandedChanged";yn.EVENT_EXPANDABLE_CHANGED="expandableChanged";X$e([Si],yn.prototype,"destroy",null);const J$e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Cte(...r){for(let e=0;e<r.length;e++){const t=r[e];if(le(t))return t}return null}function Z$e(r){return r!=null&&r.length>0}function fn(r){if(!(!r||!r.length))return r[r.length-1]}function Fc(r,e,t){return r==null&&e==null?!0:r!=null&&e!=null&&r.length===e.length&&r.every((n,i)=>t?t(n,e[i]):e[i]===n)}function eBe(r,e){return Fc(r,e)}function wte(r){return r.sort((e,t)=>e-t)}function tBe(r,e){if(r)for(let t=r.length-2;t>=0;t--){const n=r[t]===e,i=r[t+1]===e;n&&i&&r.splice(t+1,1)}}function hV(r,e){const t=r.indexOf(e);t>=0&&(r[t]=r[r.length-1],r.pop())}function Zo(r,e){const t=r.indexOf(e);t>=0&&r.splice(t,1)}function Ste(r,e){for(let t=0;t<e.length;t++)hV(r,e[t])}function Ete(r,e){for(let t=0;t<e.length;t++)Zo(r,e[t])}function Qy(r,e,t){r.splice(t,0,e)}function nBe(r,e,t){if(!(r==null||e==null))for(let n=e.length-1;n>=0;n--){const i=e[n];Qy(r,i,t)}}function uL(r,e,t){Ete(r,e),e.slice().reverse().forEach(n=>Qy(r,n,t))}function Sl(r,e){return r.indexOf(e)>-1}function _te(r){return[].concat.apply([],r)}function cL(r,e){e==null||r==null||e.forEach(t=>r.push(t))}function rBe(r){return r.map(qy)}function iBe(r,e){if(r!=null)for(let t=r.length-1;t>=0;t--)e(r[t],t)}const oBe=Object.freeze(Object.defineProperty({__proto__:null,areEqual:Fc,existsAndNotEmpty:Z$e,firstExistingValue:Cte,flatten:_te,forEachReverse:iBe,includes:Sl,insertArrayIntoArray:nBe,insertIntoArray:Qy,last:fn,moveInArray:uL,pushAll:cL,removeAllFromArray:Ete,removeAllFromUnorderedArray:Ste,removeFromArray:Zo,removeFromUnorderedArray:hV,removeRepeatsFromArray:tBe,shallowCompare:eBe,sortNumerically:wte,toStrings:rBe},Symbol.toStringTag,{value:"Module"})),bte="__ag_Grid_Stop_Propagation",sBe=["touchstart","touchend","touchmove","touchcancel","scroll"],EI={};function Dl(r){r[bte]=!0}function fa(r){return r[bte]===!0}const pV=(()=>{const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if(typeof EI[t]=="boolean")return EI[t];const n=document.createElement(r[t]||"div");return t="on"+t,EI[t]=t in n}})();function VT(r,e,t){let n=e;for(;n;){const i=r.getDomData(n,t);if(i)return i;n=n.parentElement}return null}function HT(r,e){return!e||!r?!1:Tte(e).indexOf(r)>=0}function Rte(r){const e=[];let t=r.target;for(;t;)e.push(t),t=t.parentElement;return e}function Tte(r){const e=r;return e.path?e.path:e.composedPath?e.composedPath():Rte(e)}function Pte(r,e,t,n){const o=Sl(sBe,t)?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(e,t,n,o)}const aBe=Object.freeze(Object.defineProperty({__proto__:null,addSafePassiveEventListener:Pte,createEventPath:Rte,getCtrlForEventTarget:VT,getEventPath:Tte,isElementInEventPath:HT,isEventSupported:pV,isStopPropagationForAgGrid:fa,stopPropagationForAgGrid:Dl},Symbol.toStringTag,{value:"Module"}));var wp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ae=class Ote{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){this.destroyFunctions.forEach(e=>e()),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:Ote.EVENT_DESTROYED})}addEventListener(e,t){this.localEventService||(this.localEventService=new Bs),this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)}dispatchEventAsync(e){window.setTimeout(()=>this.dispatchEvent(e),0)}dispatchEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedListener(e,t,n){if(this.destroyed)return;e instanceof HTMLElement?Pte(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);const i=()=>(e.removeEventListener(t,n),this.destroyFunctions=this.destroyFunctions.filter(o=>o!==i),null);return this.destroyFunctions.push(i),i}setupGridOptionListener(e,t){this.gridOptionsService.addEventListener(e,t);const n=()=>(this.gridOptionsService.removeEventListener(e,t),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==n),null);this.destroyFunctions.push(n)}addManagedPropertyListener(e,t){this.destroyed||this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=o=>{if(o.changeSet){if(o.changeSet&&o.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=o.changeSet.id}const s={type:"gridPropertyChanged",changeSet:o.changeSet};t(s)};e.forEach(o=>this.setupGridOptionListener(o,i))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.getContext()).createBean(e,n)}destroyBean(e,t){return(t||this.getContext()).destroyBean(e)}destroyBeans(e,t){return e&&e.forEach(n=>this.destroyBean(n,t)),[]}};ae.EVENT_DESTROYED="destroyed";wp([A("frameworkOverrides")],ae.prototype,"frameworkOverrides",void 0);wp([A("context")],ae.prototype,"context",void 0);wp([A("eventService")],ae.prototype,"eventService",void 0);wp([A("gridOptionsService")],ae.prototype,"gridOptionsService",void 0);wp([A("localeService")],ae.prototype,"localeService",void 0);wp([A("environment")],ae.prototype,"environment",void 0);wp([Si],ae.prototype,"destroy",null);var _D=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lBe=function(r,e){return function(t,n){e(t,n,r)}};let Xy=class extends ae{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,n){const i=new k$e,{existingCols:o,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(n);i.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,o,i,s),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);const c=this.balanceColumnTree(l,0,u,i),d=(h,p)=>{h instanceof yn&&h.setupExpandable(),h.setOriginalParent(p)};return this.columnUtils.depthFirstOriginalTreeSearch(null,c,d),{columnTree:c,treeDept:u}}extractExistingTreeData(e){const t=[],n=[],i=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,o=>{if(o instanceof yn){const s=o;n.push(s)}else{const s=o;i.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}createForAutoGroups(e,t){return e.map(n=>this.createAutoGroupTreeItem(t,n))}createAutoGroupTreeItem(e,t){const n=this.findDepth(e);let i=t;for(let o=n-1;o>=0;o--){const s=new yn(null,`FAKE_PATH_${t.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([i]),i.setOriginalParent(s),i=s}return n===0&&t.setOriginalParent(null),i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&n[0]instanceof yn;)t++,n=n[0].getChildren();return t}balanceColumnTree(e,t,n,i){const o=[];for(let s=0;s<e.length;s++){const a=e[s];if(a instanceof yn){const l=a,u=this.balanceColumnTree(l.getChildren(),t+1,n,i);l.setChildren(u),o.push(l)}else{let l,u;for(let c=n-1;c>=t;c--){const d=i.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),p=new yn(h,d,!0,t);this.createBean(p),u&&u.setChildren([p]),u=p,l||(l=u)}if(l&&u)if(o.push(l),e.some(d=>d instanceof yn)){u.setChildren([a]);continue}else{u.setChildren(e);break}o.push(a)}}return o}findMaxDept(e,t){let n=t;for(let i=0;i<e.length;i++){const o=e[i];if(o instanceof yn){const s=o,a=this.findMaxDept(s.getChildren(),t+1);n<a&&(n=a)}}return n}recursivelyCreateColumns(e,t,n,i,o,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const u=e[l];this.isColumnGroup(u)?a[l]=this.createColumnGroup(n,u,t,i,o,s):a[l]=this.createColumn(n,u,i,o)}return a}createColumnGroup(e,t,n,i,o,s){const a=this.createMergedColGroupDef(t),l=o.getUniqueKey(a.groupId||null,null),u=new yn(a,l,!1,n);this.createBean(u);const c=this.findExistingGroup(t,s);c&&s.splice(c.idx,1);let d=c==null?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,n+1,e,i,o,s);return u.setChildren(h),u}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,n,i){const o=this.findExistingColumn(t,n);o&&(n==null||n.splice(o.idx,1));let s=o==null?void 0:o.column;if(s){const a=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(a,t),this.applyColumnState(s,a)}else{const a=i.getUniqueKey(t.colId,t.field),l=this.addColumnDefaultAndTypes(t,a);s=new Xe(l,t,a,e),this.context.createBean(s)}return this.dataTypeService.addColumnListeners(s),s}applyColumnState(e,t){const n=xs(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const a=xs(t.width);if(a!=null)e.setActualWidth(a);else{const l=e.getActualWidth();e.setActualWidth(l)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort):e.setSort(void 0));const o=xs(t.sortIndex);o!==void 0&&e.setSortIndex(o);const s=rl(t.hide);s!==void 0&&e.setVisible(!s),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const o=t[i];if(o.getColGroupDef()&&o.getId()===e.groupId)return{idx:i,group:o}}}addColumnDefaultAndTypes(e,t){const n={},i=this.gridOptionsService.get("defaultColDef");ss(n,i,!1,!0);const o=this.dataTypeService.updateColDefAndGetColumnType(n,e,t);o&&this.assignColumnTypes(o,n),ss(n,e,!1,!0);const s=this.gridOptionsService.get("autoGroupColumnDef"),a=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&a&&ss(n,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n}assignColumnTypes(e,t){if(!e.length)return;const n=Object.assign({},J$e),i=this.gridOptionsService.get("columnTypes")||{};hr(i,(o,s)=>{o in n?console.warn(`AG Grid: the column type '${o}' is a default column type and cannot be overridden.`):n[o]=s}),e.forEach(o=>{const s=n[o.trim()];s?ss(t,s,!1,!0):console.warn("AG Grid: colDef.type '"+o+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};_D([A("columnUtils")],Xy.prototype,"columnUtils",void 0);_D([A("dataTypeService")],Xy.prototype,"dataTypeService",void 0);_D([lBe(0,Ji("loggerFactory"))],Xy.prototype,"setBeans",null);Xy=_D([Re("columnFactory")],Xy);var uBe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vr=class Wa{constructor(e,t,n,i){this.displayedChildren=[],this.localEventService=new Bs,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=i}static createUniqueId(e,t){return e+"_"+t}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return Wa.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{e instanceof Wa&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){const t=fn(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(Wa.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(e){return{type:e}}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(e){let t=!1;return this.children.forEach(n=>{e===n&&(t=!0),n instanceof Wa&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()||0}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{t instanceof Xe?e.push(t):t instanceof Wa&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{t instanceof Xe?e.push(t):t instanceof Wa&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(Wa.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(n=>{if(n instanceof Wa&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.providedColumnGroup.isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.localEventService.dispatchEvent(this.createAgEvent(Wa.EVENT_DISPLAYED_CHILDREN_CHANGED))}};Vr.EVENT_LEFT_CHANGED="leftChanged";Vr.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";uBe([A("gridOptionsService")],Vr.prototype,"gridOptionsService",void 0);let D=class{};D.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";D.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";D.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";D.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";D.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";D.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";D.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";D.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";D.EVENT_COLUMN_MOVED="columnMoved";D.EVENT_COLUMN_VISIBLE="columnVisible";D.EVENT_COLUMN_PINNED="columnPinned";D.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";D.EVENT_COLUMN_RESIZED="columnResized";D.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";D.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";D.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";D.EVENT_ROW_GROUP_OPENED="rowGroupOpened";D.EVENT_ROW_DATA_CHANGED="rowDataChanged";D.EVENT_ROW_DATA_UPDATED="rowDataUpdated";D.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";D.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";D.EVENT_CHART_CREATED="chartCreated";D.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";D.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";D.EVENT_CHART_DESTROYED="chartDestroyed";D.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";D.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";D.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";D.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";D.EVENT_MODEL_UPDATED="modelUpdated";D.EVENT_CUT_START="cutStart";D.EVENT_CUT_END="cutEnd";D.EVENT_PASTE_START="pasteStart";D.EVENT_PASTE_END="pasteEnd";D.EVENT_FILL_START="fillStart";D.EVENT_FILL_END="fillEnd";D.EVENT_RANGE_DELETE_START="rangeDeleteStart";D.EVENT_RANGE_DELETE_END="rangeDeleteEnd";D.EVENT_UNDO_STARTED="undoStarted";D.EVENT_UNDO_ENDED="undoEnded";D.EVENT_REDO_STARTED="redoStarted";D.EVENT_REDO_ENDED="redoEnded";D.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";D.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";D.EVENT_CELL_CLICKED="cellClicked";D.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";D.EVENT_CELL_MOUSE_DOWN="cellMouseDown";D.EVENT_CELL_CONTEXT_MENU="cellContextMenu";D.EVENT_CELL_VALUE_CHANGED="cellValueChanged";D.EVENT_CELL_EDIT_REQUEST="cellEditRequest";D.EVENT_ROW_VALUE_CHANGED="rowValueChanged";D.EVENT_CELL_FOCUSED="cellFocused";D.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";D.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";D.EVENT_ROW_SELECTED="rowSelected";D.EVENT_SELECTION_CHANGED="selectionChanged";D.EVENT_TOOLTIP_SHOW="tooltipShow";D.EVENT_TOOLTIP_HIDE="tooltipHide";D.EVENT_CELL_KEY_DOWN="cellKeyDown";D.EVENT_CELL_MOUSE_OVER="cellMouseOver";D.EVENT_CELL_MOUSE_OUT="cellMouseOut";D.EVENT_FILTER_CHANGED="filterChanged";D.EVENT_FILTER_MODIFIED="filterModified";D.EVENT_FILTER_OPENED="filterOpened";D.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";D.EVENT_SORT_CHANGED="sortChanged";D.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";D.EVENT_ROW_CLICKED="rowClicked";D.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";D.EVENT_GRID_READY="gridReady";D.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";D.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";D.EVENT_VIEWPORT_CHANGED="viewportChanged";D.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";D.EVENT_FIRST_DATA_RENDERED="firstDataRendered";D.EVENT_DRAG_STARTED="dragStarted";D.EVENT_DRAG_STOPPED="dragStopped";D.EVENT_CHECKBOX_CHANGED="checkboxChanged";D.EVENT_ROW_EDITING_STARTED="rowEditingStarted";D.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";D.EVENT_CELL_EDITING_STARTED="cellEditingStarted";D.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";D.EVENT_BODY_SCROLL="bodyScroll";D.EVENT_BODY_SCROLL_END="bodyScrollEnd";D.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";D.EVENT_PAGINATION_CHANGED="paginationChanged";D.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";D.EVENT_STORE_REFRESHED="storeRefreshed";D.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";D.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";D.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";D.EVENT_FLASH_CELLS="flashCells";D.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";D.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";D.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";D.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";D.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";D.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";D.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";D.EVENT_ROW_DRAG_ENTER="rowDragEnter";D.EVENT_ROW_DRAG_MOVE="rowDragMove";D.EVENT_ROW_DRAG_LEAVE="rowDragLeave";D.EVENT_ROW_DRAG_END="rowDragEnd";D.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";D.EVENT_POPUP_TO_FRONT="popupToFront";D.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";D.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";D.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";D.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";D.EVENT_KEYBOARD_FOCUS="keyboardFocus";D.EVENT_MOUSE_FOCUS="mouseFocus";D.EVENT_STORE_UPDATED="storeUpdated";D.EVENT_FILTER_DESTROYED="filterDestroyed";D.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";D.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";D.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";D.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";D.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";let cBe=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};var fV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const yg="ag-Grid-AutoColumn";let kT=class extends ae{createAutoGroupColumns(e){const t=[],n=this.gridOptionsService.is("treeData");let i=this.gridOptionsService.isGroupMultiAutoColumn();return n&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?e.forEach((o,s)=>{t.push(this.createOneAutoGroupColumn(o,s))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e){e.forEach((t,n)=>this.updateOneAutoGroupColumn(t,n))}createOneAutoGroupColumn(e,t){let n;e?n=`${yg}-${e.getId()}`:n=yg;const i=this.createAutoGroupColDef(n,e,t);i.colId=n;const o=new Xe(i,null,n,!0);return this.context.createBean(o),o}updateOneAutoGroupColumn(e,t){const n=e.getColDef(),i=typeof n.showRowGroup=="string"?n.showRowGroup:void 0,o=i!=null?this.columnModel.getPrimaryColumn(i):void 0,s=this.createAutoGroupColDef(e.getId(),o??void 0,t);e.setColDef(s,null),this.columnFactory.applyColumnState(e,s)}createAutoGroupColDef(e,t,n){let i=this.createBaseColDef(t);const o=this.gridOptionsService.get("autoGroupColumnDef");ss(i,o),i=this.columnFactory.addColumnDefaultAndTypes(i,e),this.gridOptionsService.is("treeData")||it(i.field)&&it(i.valueGetter)&&it(i.filterValueGetter)&&i.filter!=="agGroupColumnFilter"&&(i.filter=!1),n&&n>0&&(i.headerCheckboxSelection=!1);const s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),a=i.valueGetter||i.field!=null;return s&&!a&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(e){const t=this.gridOptionsService.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e){const s=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i}};fV([A("columnModel")],kT.prototype,"columnModel",void 0);fV([A("columnFactory")],kT.prototype,"columnFactory",void 0);kT=fV([Re("autoGroupColService")],kT);const dBe=/[&<>"']/g,hBe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function pBe(r){const e=String.fromCharCode;function t(d){const h=[];if(!d)return[];const p=d.length;let f=0,g,v;for(;f<p;)g=d.charCodeAt(f++),g>=55296&&g<=56319&&f<p?(v=d.charCodeAt(f++),(v&64512)==56320?h.push(((g&1023)<<10)+(v&1023)+65536):(h.push(g),f--)):h.push(g);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10)return`_x${d.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(d&4294967168))return e(d);let h="";return d&4294965248?d&4294901760?d&4292870144||(h=e(d>>18&7|240),h+=i(d,12),h+=i(d,6)):(n(d),h=e(d>>12&15|224),h+=i(d,6)):h=e(d>>6&31|192),h+=e(d&63|128),h}const s=t(r),a=s.length;let l=-1,u,c="";for(;++l<a;)u=s[l],c+=o(u);return c}function fBe(r){return r[0].toUpperCase()+r.substr(1).toLowerCase()}function xr(r,e){if(r==null)return null;const t=r.toString().toString();return e?t:t.replace(dBe,n=>hBe[n])}function Dte(r){if(!r||r==null)return null;const e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g;return r.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}function Ate(r){return r.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)}const gBe=Object.freeze(Object.defineProperty({__proto__:null,camelCaseToHumanText:Dte,camelCaseToHyphenated:Ate,capitalise:fBe,escapeString:xr,utf8_encode:pBe},Symbol.toStringTag,{value:"Module"}));function Pc(r){const e=new Map;return r.forEach(t=>e.set(t[0],t[1])),e}function mBe(r,e){const t=new Map;return r.forEach(n=>t.set(e(n),n)),t}function vBe(r){const e=[];return r.forEach((t,n)=>e.push(n)),e}const yBe=Object.freeze(Object.defineProperty({__proto__:null,convertToMap:Pc,keys:vBe,mapById:mBe},Symbol.toStringTag,{value:"Module"}));let $T=class{};$T.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0};$T.ALL_PROPERTIES=Object.keys($T.ColDefPropertyMap);let Mn=class{};Mn.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"];Mn.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"];Mn.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"];Mn.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"];Mn.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"];Mn.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];Mn.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"];Mn.FUNCTION_PROPERTIES=[...Mn.FUNCTIONAL_PROPERTIES,...Mn.CALLBACK_PROPERTIES];Mn.ALL_PROPERTIES=[...Mn.ARRAY_PROPERTIES,...Mn.OBJECT_PROPERTIES,...Mn.STRING_PROPERTIES,...Mn.NUMBER_PROPERTIES,...Mn.FUNCTION_PROPERTIES,...Mn.BOOLEAN_PROPERTIES];let Zn=class Pi{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)}static getCoercionLookup(){let e={};return[...Pi.ARRAY_PROPERTIES,...Pi.OBJECT_PROPERTIES,...Pi.STRING_PROPERTIES,...Pi.FUNCTION_PROPERTIES,...Pi.EVENT_CALLBACKS].forEach(t=>e[t]="none"),Pi.BOOLEAN_PROPERTIES.forEach(t=>e[t]="boolean"),Pi.NUMBER_PROPERTIES.forEach(t=>e[t]="number"),e}static getValue(e,t){const n=Pi.coercionLookup[e];if(n){let i=t;switch(n){case"number":{i=Pi.toNumber(t);break}case"boolean":{i=Pi.toBoolean(t);break}case"none":{e==="groupAggFiltering"&&typeof t!="function"&&(i=Pi.toBoolean(t));break}}return i}}static getGridOptionKeys(e,t){return Object.keys(t?Pi.coercionLookup:e)}static copyAttributesToGridOptions(e,t,n=!1){typeof e!="object"&&(e={});const i=e;return Pi.getGridOptionKeys(t,n).forEach(s=>{const a=t[s];if(typeof a<"u"){const l=Pi.getValue(s,a);l!==void 0&&(i[s]=l)}}),e}static processOnChange(e,t){if(!e||Object.keys(e).length===0)return;this.changeSetId++;const n=Object.assign({},e);n.columnTypes&&(t.setColumnTypes(n.columnTypes.currentValue,"gridOptionsChanged"),delete n.columnTypes),n.autoGroupColumnDef&&(t.setAutoGroupColumnDef(n.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete n.autoGroupColumnDef),n.defaultColDef&&(t.setDefaultColDef(n.defaultColDef.currentValue,"gridOptionsChanged"),delete n.defaultColDef),n.columnDefs&&(t.setColumnDefs(n.columnDefs.currentValue,"gridOptionsChanged"),delete n.columnDefs);const i=Object.keys(n).map(a=>{const l=a,u=Pi.getValue(l,n[l].currentValue),c=t.__setPropertyOnly(l,u);return{gridKey:l,coercedValue:u,isChanged:c}}).filter(a=>a.isChanged),o=i.map(a=>a.gridKey);i.forEach(a=>t.__updateProperty(a.gridKey,a.coercedValue,a.isChanged,{id:this.changeSetId,properties:o}));const s={type:D.EVENT_COMPONENT_STATE_CHANGED};hr(e,(a,l)=>{s[a]=l}),t.dispatchEvent(s)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)}};Zn.EVENTS=jf(D);Zn.EXCLUDED_INTERNAL_EVENTS=[D.EVENT_SCROLLBAR_WIDTH_CHANGED,D.EVENT_CHECKBOX_CHANGED,D.EVENT_HEIGHT_SCALE_CHANGED,D.EVENT_BODY_HEIGHT_CHANGED,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,D.EVENT_SCROLL_VISIBILITY_CHANGED,D.EVENT_COLUMN_HOVER_CHANGED,D.EVENT_FLASH_CELLS,D.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,D.EVENT_DISPLAYED_ROWS_CHANGED,D.EVENT_LEFT_PINNED_WIDTH_CHANGED,D.EVENT_RIGHT_PINNED_WIDTH_CHANGED,D.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,D.EVENT_POPUP_TO_FRONT,D.EVENT_KEYBOARD_FOCUS,D.EVENT_MOUSE_FOCUS,D.EVENT_STORE_UPDATED,D.EVENT_COLUMN_PANEL_ITEM_DRAG_START,D.EVENT_COLUMN_PANEL_ITEM_DRAG_END,D.EVENT_FILL_START,D.EVENT_FILL_END,D.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,D.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,D.EVENT_FULL_WIDTH_ROW_FOCUSED,D.EVENT_HEADER_HEIGHT_CHANGED,D.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,D.EVENT_CELL_FOCUS_CLEARED,D.EVENT_GRID_STYLES_CHANGED,D.EVENT_FILTER_DESTROYED,D.EVENT_ROW_DATA_UPDATE_STARTED,D.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,D.EVENT_DATA_TYPES_INFERRED,D.EVENT_FIELD_VALUE_CHANGED,D.EVENT_FIELD_PICKER_VALUE_SELECTED];Zn.PUBLIC_EVENTS=Zn.EVENTS.filter(r=>!Sl(Zn.EXCLUDED_INTERNAL_EVENTS,r));Zn.EVENT_CALLBACKS=Zn.EVENTS.map(r=>Zn.getCallbackForEvent(r));Zn.STRING_PROPERTIES=Mn.STRING_PROPERTIES;Zn.OBJECT_PROPERTIES=Mn.OBJECT_PROPERTIES;Zn.ARRAY_PROPERTIES=Mn.ARRAY_PROPERTIES;Zn.NUMBER_PROPERTIES=Mn.NUMBER_PROPERTIES;Zn.BOOLEAN_PROPERTIES=Mn.BOOLEAN_PROPERTIES;Zn.FUNCTION_PROPERTIES=Mn.FUNCTION_PROPERTIES;Zn.ALL_PROPERTIES=Mn.ALL_PROPERTIES;Zn.ALL_PROPERTIES_SET=new Set(Mn.ALL_PROPERTIES);Zn.changeSetId=0;Zn.coercionLookup=Zn.getCoercionLookup();function xte(r,e,t){const n={},i=r.filter(o=>!e.some(s=>s===o));return i.length>0&&i.forEach(o=>n[o]=yw(o,t).values),n}function yw(r,e,t,n){let i=e.map((a,l)=>({value:a,relevance:CBe(r.toLowerCase(),a.toLocaleLowerCase()),idx:l}));if(i.sort((a,l)=>l.relevance-a.relevance),t&&(i=i.filter(a=>a.relevance!==0)),i.length>0&&n&&n>0){const l=i[0].relevance*n;i=i.filter(u=>l-u.relevance<0)}const o=[],s=[];for(const a of i)o.push(a.value),s.push(a.idx);return{values:o,indices:s}}function CBe(r,e){const t=r.replace(/\s/g,""),n=e.replace(/\s/g,"");let i=0,o=-1;for(let s=0;s<t.length;s++){const a=n.indexOf(t[s],o+1);a!==-1&&(o=a,i+=100-o*100/1e4*100)}return i}const wBe=Object.freeze(Object.defineProperty({__proto__:null,fuzzyCheckStrings:xte,fuzzySuggestions:yw},Symbol.toStringTag,{value:"Module"}));var bD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function Ds(r,e,t,n){const i=t?`Please use '${t}' instead. `:"";Mt(()=>console.warn(`AG Grid: since v${r}, '${e}' is deprecated. ${i}${n??""}`),`Deprecated_${e}`)}const $z=["__ob__","__v_skip","__metadata__"];let Jy=class{constructor(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}pickOneWarning(e,t){console.warn(`AG Grid: ${e} and ${t} do not work with each other, you need to pick one.`)}init(){if(this.checkForDeprecated(),this.checkForViolations(),this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.get("rowSelection")!=="multiple"&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){const t=(n,i)=>`AG Grid: '${n}' is not supported on the Server-Side Row Model.`+(i?` Please use ${i} instead.`:"");this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?Be.__assertRegistered(_e.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");const e=(t,n)=>this.gridOptionsService.exists(t)&&Be.__assertRegistered(n,t,this.gridOptionsService.getGridId());e("sideBar",_e.SideBarModule),e("statusBar",_e.StatusBarModule),e("enableCharts",_e.GridChartsModule),e("getMainMenuItems",_e.MenuModule),e("getContextMenuItems",_e.MenuModule),e("allowContextMenuWithControlKey",_e.MenuModule),e("enableAdvancedFilter",_e.AdvancedFilterModule),e("treeData",_e.RowGroupingModule),e("enableRangeSelection",_e.RangeSelectionModule),e("masterDetail",_e.MasterDetailModule)}checkColumnDefProperties(){if(this.gridOptions.columnDefs==null)return;const e=$T.ALL_PROPERTIES,t=(n,i)=>{const o=Object.getOwnPropertyNames(n);this.checkProperties(o,[...e,...$z],e,i,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),n.children&&n.children.forEach(s=>t(s,"columnDefs.children"))};this.gridOptions.columnDefs.forEach(n=>t(n,"columnDefs")),this.gridOptions.defaultColDef&&t(this.gridOptions.defaultColDef,"defaultColDef")}checkColumnDefViolations(){var e;const t=(e=this.gridOptionsService.get("rowModelType"))!==null&&e!==void 0?e:"clientSide",i={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[t];if(!i)return;const o=this.gridOptionsService.get("rowSelection")==="multiple",s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=l=>{o||s.forEach(u=>{u in l&&l[u]&&console.warn(`AG Grid: Column property ${u} is not supported unless rowSelection='multiple'.`)}),i.forEach(u=>{u in l&&l[u]&&console.warn(`AG Grid: Column property ${u} is not supported with the row model type ${t}.`)})};this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(l=>a(l)),this.gridOptions.autoGroupColumnDef!=null&&a(this.gridOptions.autoGroupColumnDef),this.gridOptions.defaultColDef!=null&&a(this.gridOptions.defaultColDef)}checkGridOptionsProperties(){const e=Object.getOwnPropertyNames(this.gridOptions),t=[...Mn.ALL_PROPERTIES,...Zn.EVENT_CALLBACKS],n=[...t,"api","columnApi",...$z,...Object.keys(this.deprecatedProperties)];this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")}checkProperties(e,t,n,i,o){const s=xte(e,t,n);hr(s,(a,l)=>{Mt(()=>console.warn(`AG Grid: invalid ${i} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}`),"invalidProperty"+i+a)}),Object.keys(s).length>0&&Mt(()=>console.warn(`AG Grid: to see all the valid ${i} properties please check: ${o}`),"invalidProperties"+i+o)}checkForDeprecated(){const e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(([t,n])=>{var i;const o=e[t];o&&(Ds(n.version,t,n.newProp,n.message),n.copyToNewProp&&n.newProp&&e[n.newProp]==null&&(e[n.newProp]=(i=n.newPropValue)!==null&&i!==void 0?i:o))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll=e.serverSideStoreType!=="partial")}checkForViolations(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()}treeDataViolations(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))}};bD([A("gridOptions")],Jy.prototype,"gridOptions",void 0);bD([A("gridOptionsService")],Jy.prototype,"gridOptionsService",void 0);bD([he],Jy.prototype,"init",null);Jy=bD([Re("gridOptionsValidator")],Jy);function dL(r,e){const t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid groupDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===r}function SBe(r,e){const t=["auto","custom"];return t.indexOf(e)<0?(console.warn(`AG Grid: '${e}' is not a valid treeDataDisplayType value - possible values are: '${t.join("', '")}'`),!1):e===r}var Ei=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},EBe=function(r,e){return function(t,n){e(t,n,r)}},_Be=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t};let Jr=class extends ae{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");const e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData"],()=>this.buildAutoGroupColumns()),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.onAutoGroupColumnDefChanged()),this.addManagedPropertyListener("defaultColDef",t=>this.onSharedColDefChanged(t.source)),this.addManagedPropertyListener("columnTypes",t=>this.onSharedColDefChanged(t.source))}buildAutoGroupColumns(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))}onAutoGroupColumnDefChanged(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)}onSharedColDefChanged(e="api"){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e)}setColumnDefs(e,t="api"){const n=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(n,t)}recreateColumnDefs(e="api"){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const n={};if(!e)return;this.columnUtils.depthFirstOriginalTreeSearch(null,e,o=>{n[o.getInstanceId()]=o}),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,o=>{n[o.getInstanceId()]=null});const i=Object.values(n).filter(o=>o!=null);this.destroyBeans(i)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t="api"){const n=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const i=this.primaryColumns,o=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,o);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(u=>this.primaryColumnsMap[u.getId()]=u),this.extractRowGroupColumns(t,i),this.extractPivotColumns(t,i),this.extractValueColumns(t,i),this.ready=!0;const a=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||a||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),n&&n(),this.dispatchNewColumnsLoaded(t)}dispatchNewColumnsLoaded(e){const t={type:D.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t)}dispatchEverythingChanged(e="api"){const t={type:D.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter(i=>this.gridColumns.indexOf(i)>=0),n=this.gridColumns.filter(i=>t.indexOf(i)<0);this.gridColumns=[...n,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}getDisplayedColumnsStartingAt(e){let t=e;const n=[];for(;t!=null;)n.push(t),t=this.getDisplayedColAfter(t);return n}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const n={type:D.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(n)}setViewportPosition(e,t,n=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gridOptionsService.is("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0}setPivotMode(e,t="api"){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))return;this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const n={type:D.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(n)}getSecondaryPivotColumn(e,t){if(it(this.secondaryColumns))return null;const n=this.getPrimaryColumn(t);let i=null;return this.secondaryColumns.forEach(o=>{const s=o.getColDef().pivotKeys,a=o.getColDef().pivotValueColumn;Fc(s,e)&&a===n&&(i=o)}),i}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,n;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?fn(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?fn(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(i=>{i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===n,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:o,source:s="api"}=e;this.animationFrameService.flushAllFrames();const a=[];let l=-1;const u=n??this.gridOptionsService.is("skipHeaderOnAutoSize"),c=i??u;for(;l!==0;)l=0,this.actionOnGridColumns(t,d=>{if(a.indexOf(d)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(d,u);if(h>0){const p=this.normaliseColumnWidth(d,h);d.setActualWidth(p,s),a.push(d),l++}return!0},s);c||this.autoSizeColumnGroupsByColumns(t,s,o),this.dispatchColumnResizedEvent(a,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,n,i=null){if(e&&e.length){const o={type:D.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:i,finished:t,source:n};this.eventService.dispatchEvent(o)}}dispatchColumnChangedEvent(e,t,n){const i={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:n};this.eventService.dispatchEvent(i)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:n,toIndex:i,finished:o}=e,s={type:D.EVENT_COLUMN_MOVED,columns:t,column:t&&t.length===1?t[0]:null,toIndex:i,finished:o,source:n};this.eventService.dispatchEvent(s)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const n=e.length===1?e[0]:null,i=this.getCommonValue(e,s=>s.getPinned()),o={type:D.EVENT_COLUMN_PINNED,pinned:i??null,columns:e,column:n,source:t};this.eventService.dispatchEvent(o)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const n=e.length===1?e[0]:null,i=this.getCommonValue(e,s=>s.isVisible()),o={type:D.EVENT_COLUMN_VISIBLE,visible:i,columns:e,column:n,source:t};this.eventService.dispatchEvent(o)}autoSizeColumn(e,t,n="api"){e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:n})}autoSizeColumnGroupsByColumns(e,t,n){const i=new Set;this.getGridColumns(e).forEach(l=>{let u=l.getParent();for(;u&&u!=n;)u.isPadding()||i.add(u),u=u.getParent()});let s;const a=[];for(const l of i){for(const u of this.ctrlsService.getHeaderRowContainerCtrls())if(s=u.getHeaderCtrlForColumn(l),s)break;s&&s.resizeLeafColumnsToFit(t)}return a}autoSizeAllColumns(e,t="api"){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));return}const n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:e,source:t})}getColumnsFromTree(e){const t=[],n=i=>{for(let o=0;o<i.length;o++){const s=i[o];s instanceof Xe?t.push(s):s instanceof yn&&n(s.getChildren())}};return n(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,n,i){const o=[];let s=null;for(let a=0;a<t.length;a++){const l=t[a],u=t.length-a,c=Math.min(l.getColSpan(e),u),d=[l];if(c>1){const p=c-1;for(let f=1;f<=p;f++)d.push(t[a+f]);a+=p}let h;n?(h=!1,d.forEach(p=>{n(p)&&(h=!0)})):h=!0,h&&(o.length===0&&s&&(i&&i(l))&&o.push(s),o.push(l)),s=l}return o}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=i=>{const o=i.getLeft();return le(o)&&o>this.viewportLeft},n=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,n,t)}getAriaColumnIndex(e){return this.getAllGridColumns().indexOf(e)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,o=this.viewportRight+200,s=t<i&&n<i,a=t>o&&n>o;return!s&&!a}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,n,i,o,s="api"){if(!e||rs(e))return;let a=!1;if(e.forEach(u=>{const c=this.getPrimaryColumn(u);if(c){if(n){if(t.indexOf(c)>=0)return;t.push(c)}else{if(t.indexOf(c)<0)return;Zo(t,c)}i(c),a=!0}}),!a)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);const l={type:o,columns:t,column:t.length===1?t[0]:null,source:s};this.eventService.dispatchEvent(l)}setRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,D.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,n){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,n),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,n),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(t,!0,n))}addRowGroupColumn(e,t="api"){e&&this.addRowGroupColumns([e],t)}addRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),D.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t="api"){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),D.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumn(e,t="api"){e&&this.removeRowGroupColumns([e],t)}addPivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!0,n=>n.setPivotActive(!0,t),D.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t="api"){this.setPrimaryColumnList(e,this.pivotColumns,D.EVENT_COLUMN_PIVOT_CHANGED,!0,(n,i)=>{i.setPivotActive(n,t)},t)}addPivotColumn(e,t="api"){this.addPivotColumns([e],t)}removePivotColumns(e,t="api"){this.updatePrimaryColumnList(e,this.pivotColumns,!1,n=>n.setPivotActive(!1,t),D.EVENT_COLUMN_PIVOT_CHANGED,t)}removePivotColumn(e,t="api"){this.removePivotColumns([e],t)}setPrimaryColumnList(e,t,n,i,o,s){const a=new Map;t.forEach((l,u)=>a.set(l,u)),t.length=0,le(e)&&e.forEach(l=>{const u=this.getPrimaryColumn(l);u&&t.push(u)}),t.forEach((l,u)=>{const c=a.get(l);if(c===void 0){a.set(l,0);return}i&&c!==u||a.delete(l)}),(this.primaryColumns||[]).forEach(l=>{const u=t.indexOf(l)>=0;o(u,l)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(n,[...a.keys()],s)}setValueColumns(e,t="api"){this.setPrimaryColumnList(e,this.valueColumns,D.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,n){if(e!==t.isValueActive()&&(t.setValueActive(e,n),e&&!t.getAggFunc())){const i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}}addValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),D.EVENT_COLUMN_VALUE_CHANGED,t)}addValueColumn(e,t="api"){e&&this.addValueColumns([e],t)}removeValueColumn(e,t="api"){this.removeValueColumns([e],t)}removeValueColumns(e,t="api"){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),D.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const n=e.getMinWidth();le(n)&&t<n&&(t=n);const i=e.getMaxWidth();return le(i)&&e.isGreaterThanMax(t)&&(t=i),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,n,i="api"){const o=[];e.forEach(s=>{const a=this.getPrimaryOrGridColumn(s.key);if(!a)return;if(o.push({width:s.newWidth,ratios:[1],columns:[a]}),this.gridOptionsService.get("colResizeDefault")==="shift"&&(t=!t),t){const u=this.getDisplayedColAfter(a);if(!u)return;const c=a.getActualWidth()-s.newWidth,d=u.getActualWidth()+c;o.push({width:d,ratios:[1],columns:[u]})}}),o.length!==0&&this.resizeColumnSets({resizeSets:o,finished:n,source:i})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:n}=e;let i=0,o=0,s=!0;t.forEach(u=>{const c=u.getMinWidth();i+=c||0;const d=u.getMaxWidth();le(d)&&d>0?o+=d:s=!1});const a=n>=i,l=!s||n<=o;return a&&l}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(d=>this.checkMinAndMaxWidthsForSet(d)))){if(n){const d=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(d,n,i)}return}const s=[],a=[];t.forEach(d=>{const{width:h,columns:p,ratios:f}=d,g={},v={};p.forEach(w=>a.push(w));let y=!0,C=0;for(;y;){if(C++,C>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}y=!1;const w=[];let S=0,P=h;p.forEach((_,E)=>{if(v[_.getId()])P-=g[_.getId()];else{w.push(_);const O=f[E];S+=O}});const F=1/S;w.forEach((_,E)=>{const T=E===w.length-1;let O;T?O=P:(O=Math.round(f[E]*h*F),P-=O);const L=_.getMinWidth(),V=_.getMaxWidth();le(L)&&O<L?(O=L,v[_.getId()]=!0,y=!0):le(V)&&V>0&&O>V&&(O=V,v[_.getId()]=!0,y=!0),g[_.getId()]=O})}p.forEach(w=>{const S=g[w.getId()];w.getActualWidth()!==S&&(w.setActualWidth(S,i),s.push(w))})});const l=s.length>0;let u=[];l&&(u=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());const c=a.concat(u);(l||n)&&this.dispatchColumnResizedEvent(c,n,i,u)}setColumnAggFunc(e,t,n="api"){if(!e)return;const i=this.getPrimaryColumn(e);i&&(i.setAggFunc(t),this.dispatchColumnChangedEvent(D.EVENT_COLUMN_VALUE_CHANGED,[i],n))}moveRowGroupColumn(e,t,n="api"){const i=this.rowGroupColumns[e],o=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i);const s={type:D.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:o,column:o.length===1?o[0]:null,source:n};this.eventService.dispatchEvent(s)}moveColumns(e,t,n="api",i=!0){if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const o=this.getGridColumns(e);this.doesMovePassRules(o,t)&&(uL(this.gridColumns,o,t),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:o,source:n,toIndex:t,finished:i}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.gridColumns.slice();return uL(n,e,t),n}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(n=>this.gridColumns.indexOf(n)<0).length>0||e.sort((n,i)=>{const o=this.gridColumns.indexOf(n),s=this.gridColumns.indexOf(i);return o-s})}doesMovePassLockedPositions(e){let t=0,n=!0;const i=o=>o?o===!0||o==="left"?0:2:1;return e.forEach(o=>{const s=i(o.getColDef().lockPosition);s<t&&(n=!1),t=s}),n}doesMovePassMarryChildren(e){let t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{if(!(n instanceof yn))return;const i=n,o=i.getColGroupDef();if(!(o&&o.marryChildren))return;const a=[];i.getLeafColumns().forEach(h=>{const p=e.indexOf(h);a.push(p)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),c=l-u,d=i.getLeafColumns().length-1;c>d&&(t=!1)}),t}moveColumn(e,t,n="api"){this.moveColumns([e],t,n)}moveColumnByIndex(e,t,n="api"){const i=this.gridColumns[e];this.moveColumn(i,t,n)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,n)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(n)):this.lastPrimaryOrder&&e.sort((t,n)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(n)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n;const o={type:D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getDisplayedColumns(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns.slice():null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns.slice():null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){return this.gridColumns}isEmpty(){return rs(this.gridColumns)}isRowGroupEmpty(){return rs(this.rowGroupColumns)}setColumnVisible(e,t,n="api"){this.setColumnsVisible([e],t,n)}setColumnsVisible(e,t=!1,n="api"){this.applyColumnState({state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}setColumnPinned(e,t,n="api"){e&&this.setColumnsPinned([e],t,n)}setColumnsPinned(e,t,n="api"){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let i;t===!0||t==="left"?i="left":t==="right"?i="right":i=null,this.actionOnGridColumns(e,o=>o.getPinned()!==i?(o.setPinned(i),!0):!1,n,()=>({type:D.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:n})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,n,i){if(rs(e))return;const o=[];if(e.forEach(s=>{const a=this.getGridColumn(s);if(!a)return;t(a)!==!1&&o.push(a)}),!!o.length&&(this.updateDisplayedColumns(n),le(i)&&i)){const s=i();s.columns=o,s.column=o.length===1?o[0]:null,this.eventService.dispatchEvent(s)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n>0?t[n-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getDisplayedGroupAfter(e){return this.getDisplayedGroupAtDirection(e,"After")}getDisplayedGroupBefore(e){return this.getDisplayedGroupAtDirection(e,"Before")}getDisplayedGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),o=t==="After"?fn(i):i[0],s=`getDisplayedCol${t}`;for(;;){const a=this[s](o);if(!a)return null;const l=this.getColumnGroupAtLevel(a,n);if(l!==e)return l}}getColumnGroupAtLevel(e,t){let n=e.getParent(),i,o;for(;i=n.getProvidedColumnGroup().getLevel(),o=n.getPaddingLevel(),!(i+o<=t);)n=n.getParent();return n}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,o=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,a=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:o,sortIndex:s,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:n,flex:a}}getColumnState(){if(it(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=Pc(this.gridColumns.map((n,i)=>[n.getColId(),i]));e.sort((n,i)=>{const o=t.has(n.colId)?t.get(n.colId):-1,s=t.has(i.colId)?t.get(i.colId):-1;return o-s})}resetColumnState(e="api"){const t=this.getColumnsFromTree(this.primaryColumnTree),n=[];let i=1e3,o=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),t&&(s=s.concat(t)),s.forEach(a=>{const l=this.getColumnStateFromColDef(a);it(l.rowGroupIndex)&&l.rowGroup&&(l.rowGroupIndex=i++),it(l.pivotIndex)&&l.pivot&&(l.pivotIndex=o++),n.push(l)}),this.applyColumnState({state:n,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(g,v)=>g??v??null,n=e.getColDef(),i=t(n.sort,n.initialSort),o=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),a=t(n.pinned,n.initialPinned),l=t(n.width,n.initialWidth),u=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),d=t(n.rowGroup,n.initialRowGroup);c==null&&(d==null||d==!1)&&(c=null,d=null);let h=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);h==null&&(p==null||p==!1)&&(h=null,p=null);const f=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:o,hide:s,pinned:a,width:l,flex:u,rowGroup:d,rowGroupIndex:c,pivot:p,pivotIndex:h,aggFunc:f}}applyColumnState(e,t){if(rs(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=(s,a,l)=>{const u=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const c=a.slice(),d={},h={},p=[],f=[];let g=0;const v=this.rowGroupColumns.slice(),y=this.pivotColumns.slice();s.forEach(P=>{const F=P.colId||"";if(F.startsWith(yg)){p.push(P),f.push(P);return}const E=l(F);E?(this.syncColumnWithStateItem(E,P,e.defaultState,d,h,!1,t),Zo(c,E)):(f.push(P),g+=1)});const C=P=>this.syncColumnWithStateItem(P,null,e.defaultState,d,h,!1,t);c.forEach(C);const w=(P,F,_,E)=>{const T=P[_.getId()],O=P[E.getId()],L=T!=null,V=O!=null;if(L&&V)return T-O;if(L)return-1;if(V)return 1;const M=F.indexOf(_),N=F.indexOf(E),$=M>=0,B=N>=0;return $&&B?M-N:$?-1:1};this.rowGroupColumns.sort(w.bind(this,d,v)),this.pivotColumns.sort(w.bind(this,h,y)),this.updateGridColumns();const S=this.groupAutoColumns?this.groupAutoColumns.slice():[];return p.forEach(P=>{const F=this.getAutoColumn(P.colId);Zo(S,F),this.syncColumnWithStateItem(F,P,e.defaultState,null,null,!0,t)}),S.forEach(C),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),u(),{unmatchedAndAutoStates:f,unmatchedCount:g}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:o}=n(e.state||[],this.primaryColumns||[],s=>this.getPrimaryColumn(s));return(i.length>0||le(e.defaultState))&&(o=n(i,this.secondaryColumns||[],s=>this.getSecondaryColumn(s)).unmatchedCount),this.columnAnimationService.finish(),o===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const n={};e.state.forEach(o=>{if(!o.colId||n[o.colId])return;const s=this.gridColumnsMap[o.colId];s&&(t.push(s),n[o.colId]=!0)});let i=0;if(this.gridColumns.forEach(o=>{const s=o.getColId();if(n[s]!=null)return;s.startsWith(yg)?Qy(t,o,i++):t.push(o)}),t=this.placeLockedColumns(t),!this.doesMovePassMarryChildren(t)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=t}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},n=this.getColumnState(),i={};return n.forEach(o=>{i[o.colId]=o}),()=>{const o=this.getPrimaryAndSecondaryAndAutoColumns(),s=(g,v,y,C)=>{const w=v.map(C),S=y.map(C);if(Fc(w,S))return;const F=new Set(v);y.forEach(T=>{F.delete(T)||F.add(T)});const _=[...F],E={type:g,columns:_,column:_.length===1?_[0]:null,source:e};this.eventService.dispatchEvent(E)},a=g=>{const v=[];return o.forEach(y=>{const C=i[y.getColId()];C&&g(C,y)&&v.push(y)}),v},l=g=>g.getColId();s(D.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,l),s(D.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,l);const c=a((g,v)=>{const y=g.aggFunc!=null,C=y!=v.isValueActive(),w=y&&g.aggFunc!=v.getAggFunc();return C||w});c.length>0&&this.dispatchColumnChangedEvent(D.EVENT_COLUMN_VALUE_CHANGED,c,e);const d=(g,v)=>g.width!=v.getActualWidth();this.dispatchColumnResizedEvent(a(d),!0,e);const h=(g,v)=>g.pinned!=v.getPinned();this.dispatchColumnPinnedEvent(a(h),e);const p=(g,v)=>g.hide==v.isVisible();this.dispatchColumnVisibleEvent(a(p),e),a((g,v)=>g.sort!=v.getSort()||g.sortIndex!=v.getSortIndex()).length>0&&this.sortController.dispatchSortChangedEvents(e),this.normaliseColumnMovedEventForColumnState(n,e)}}getCommonValue(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}normaliseColumnMovedEventForColumnState(e,t){const n=this.getColumnState(),i={};n.forEach(u=>i[u.colId]=u);const o={};e.forEach(u=>{i[u.colId]&&(o[u.colId]=!0)});const s=e.filter(u=>o[u.colId]),a=n.filter(u=>o[u.colId]),l=[];a.forEach((u,c)=>{const d=s&&s[c];if(d&&d.colId!==u.colId){const h=this.getGridColumn(d.colId);h&&l.push(h)}}),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:t,finished:!0})}syncColumnWithStateItem(e,t,n,i,o,s,a){if(!e)return;const l=(P,F)=>{const _={value1:void 0,value2:void 0};let E=!1;return t&&(t[P]!==void 0&&(_.value1=t[P],E=!0),le(F)&&t[F]!==void 0&&(_.value2=t[F],E=!0)),!E&&n&&(n[P]!==void 0&&(_.value1=n[P]),le(F)&&n[F]!==void 0&&(_.value2=n[F])),_},u=l("hide").value1;u!==void 0&&e.setVisible(!u,a);const c=l("pinned").value1;c!==void 0&&e.setPinned(c);const d=this.columnUtils.calculateColMinWidth(e.getColDef()),h=l("flex").value1;if(h!==void 0&&e.setFlex(h),e.getFlex()<=0){const P=l("width").value1;P!=null&&d!=null&&P>=d&&e.setActualWidth(P,a)}const f=l("sort").value1;f!==void 0&&(f==="desc"||f==="asc"?e.setSort(f,a):e.setSort(void 0,a));const g=l("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),s||!e.isPrimary())return;const v=l("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(le(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),Zo(this.valueColumns,e))));const{value1:y,value2:C}=l("rowGroup","rowGroupIndex");(y!==void 0||C!==void 0)&&(typeof C=="number"||y?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),i&&typeof C=="number"&&(i[e.getId()]=C)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),Zo(this.rowGroupColumns,e)));const{value1:w,value2:S}=l("pivot","pivotIndex");(w!==void 0||S!==void 0)&&(typeof S=="number"||w?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),o&&typeof S=="number"&&(o[e.getId()]=S)):e.isPivotActive()&&(e.setPivotActive(!1,a),Zo(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const n=[];return e&&e.forEach(i=>{const o=t(i);o&&n.push(o)}),n}getColumnWithValidation(e){if(e==null)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,n){if(!e)return null;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<t.length;i++)if(this.columnsMatch(t[i],e))return t[i];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupColumns.slice(0);const n=this.getPrimaryColumn(t);return n?[n]:null}getAutoColumn(e){return!this.groupAutoColumns||!le(this.groupAutoColumns)||it(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const n=e===t,i=e.getColDef()===t,o=e.getColId()==t;return n||i||o}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t);return n?this.wrapHeaderNameWithAggFunc(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,o){const s=e.headerValueGetter;if(s){const a={colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof s=="function"?s(a):typeof s=="string"?this.expressionService.evaluate(s,a):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return Dte(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;const n=e.getColDef().pivotValueColumn,i=le(n);let o=null,s;if(i){const a=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,l=e.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return t;o=n?n.getAggFunc():null,s=!0}else{const a=e.isValueActive(),l=this.pivotMode||!this.isRowGroupEmpty();a&&l?(o=e.getAggFunc(),s=!0):s=!1}if(s){const a=typeof o=="string"?o:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof Vr)return e;const n=this.getAllDisplayedTrees(),i=typeof t=="number";let o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,s=>{if(s instanceof Vr){const a=s;let l;i?l=e===a.getGroupId()&&t===a.getPartId():l=e===a.getGroupId(),l&&(o=a)}}),o}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(n,i)=>n.setValueActive(i,e),()=>{},()=>{},n=>{const i=n.aggFunc;if(i===null||i==="")return null;if(i!==void 0)return!!i},n=>n.initialAggFunc!=null&&n.initialAggFunc!=""),this.valueColumns.forEach(n=>{const i=n.getColDef();i.aggFunc!=null&&i.aggFunc!=""?n.setAggFunc(i.aggFunc):n.getAggFunc()||n.setAggFunc(i.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(n,i)=>n.setRowGroupActive(i,e),n=>n.rowGroupIndex,n=>n.initialRowGroupIndex,n=>n.rowGroup,n=>n.initialRowGroup)}extractColumns(e=[],t=[],n,i,o,s,a){const l=[],u=[];(this.primaryColumns||[]).forEach(h=>{const p=e.indexOf(h)<0,f=h.getColDef(),g=rl(s(f)),v=rl(a(f)),y=xs(i(f)),C=xs(o(f));let w;g!==void 0?w=g:y!==void 0?y===null?w=!1:w=y>=0:p?v!==void 0?w=v:C!==void 0?w=C!=null&&C>=0:w=!1:w=t.indexOf(h)>=0,w&&((p?y!=null||C!=null:y!=null)?l.push(h):u.push(h))});const c=h=>{const p=i(h.getColDef()),f=o(h.getColDef());return p??f};l.sort((h,p)=>{const f=c(h),g=c(p);return f===g?0:f<g?-1:1});const d=[].concat(l);return t.forEach(h=>{u.indexOf(h)>=0&&d.push(h)}),u.forEach(h=>{d.indexOf(h)<0&&d.push(h)}),t.forEach(h=>{d.indexOf(h)<0&&n(h,!1)}),d.forEach(h=>{t.indexOf(h)<0&&n(h,!0)}),d}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(n,i)=>n.setPivotActive(i,e),n=>n.pivotIndex,n=>n.initialPivotIndex,n=>n.pivot,n=>n.initialPivot)}resetColumnGroupState(e="api"){const t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,n=>{if(n instanceof yn){const i=n.getColGroupDef(),o={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};t.push(o)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,t=>{t instanceof yn&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t="api"){this.columnAnimationService.start();const n=[];e.forEach(i=>{const o=i.groupId,s=i.open,a=this.getProvidedColumnGroup(o);a&&a.isExpanded()!==s&&(this.logger.log("columnGroupOpened("+a.getGroupId()+","+s+")"),a.setExpanded(s),n.push(a))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),n.forEach(i=>{const o={type:D.EVENT_COLUMN_GROUP_OPENED,columnGroup:i};this.eventService.dispatchEvent(o)}),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,n="api"){let i;e instanceof yn?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,n=>{n instanceof yn&&n.getId()===e&&(t=n)}),t}calculateColumnsForDisplay(){let e;return this.pivotMode&&it(this.secondaryColumns)?e=this.gridColumns.filter(t=>{const n=this.groupAutoColumns&&Sl(this.groupAutoColumns,t),i=this.valueColumns&&Sl(this.valueColumns,t);return n||i}):e=this.gridColumns.filter(t=>this.groupAutoColumns&&Sl(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(n=>{le(n.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=t=>{const n=t.getColDef(),i=n.showRowGroup;n&&le(i)&&(this.groupDisplayColumns.push(t),typeof i=="string"?this.groupDisplayColumnsMap[i]=t:i===!0&&this.getRowGroupColumns().forEach(o=>{this.groupDisplayColumnsMap[o.getId()]=t}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return le(this.secondaryColumns)}setSecondaryColumns(e,t="api"){const n=e&&e.length>0;if(!(!n&&it(this.secondaryColumns))){if(n){this.processSecondaryColumnDefinitions(e);const i=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(o=>this.secondaryColumnsMap[o.getId()]=o),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!t&&!n)return;const i=o=>{o.forEach(s=>{if(le(s.children)){const l=s;n&&n(l),i(l.children)}else t&&t(s)})};e&&i(e)}updateGridColumns(){const e=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;let t;if(this.secondaryColumns&&this.secondaryBalancedTree){const i=this.secondaryColumns.every(o=>this.gridColumnsMap[o.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){const i=Pc(this.groupAutoColumns.map(o=>[o,!0]));t=t.filter(o=>!i.has(o)),t=[...this.groupAutoColumns,...t]}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(i=>this.gridColumnsMap[i.getId()]=i),this.setAutoHeightActive(),!Fc(e,this.gridBalancedTree)){const i={type:D.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}}setAutoHeightActive(){if(this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")))){const t="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";Mt(()=>console.warn(t),"autoHeightActive.wrongRowModel")}}orderGridColsLike(e){if(it(e))return;const t=Pc(e.map((u,c)=>[u,c]));let n=!0;if(this.gridColumns.forEach(u=>{t.has(u)&&(n=!1)}),n)return;const i=Pc(this.gridColumns.map(u=>[u,!0])),o=e.filter(u=>i.has(u)),s=Pc(o.map(u=>[u,!0])),a=this.gridColumns.filter(u=>!s.has(u)),l=o.slice();a.forEach(u=>{let c=u.getOriginalParent();if(!c){l.push(u);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(g=>{const v=l.indexOf(g)>=0,y=d.indexOf(g)<0;v&&y&&d.push(g)}),c=c.getOriginalParent();if(!d.length){l.push(u);return}const h=d.map(f=>l.indexOf(f)),p=Math.max(...h);Qy(l,u,p+1)}),this.gridColumns=l}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?t:t.filter(n=>n.isVisible()||n.isRowGroupActive())}placeLockedColumns(e){const t=[],n=[],i=[];return e.forEach(o=>{const s=o.getColDef().lockPosition;s==="right"?i.push(o):s==="left"||s===!0?t.push(o):n.push(o)}),[...t,...n,...i]}addAutoGroupToGridColumns(){if(it(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:D.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinDisplayedColumns(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.primaryColumns.slice(0),n=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(i=>{if(n){let o=this.getWidthOfColsInList(i);i.forEach(s=>{o-=s.getActualWidth(),s.setLeft(o,e)})}else{let o=0;i.forEach(s=>{s.setLeft(o,e),o+=s.getActualWidth()})}Ste(t,i)}),t.forEach(i=>{i.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof Vr&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,n=>{n instanceof Xe&&t.push(n)})}extractViewportColumns(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let n;switch(e){case"left":n=this.viewportRowLeft[t];break;case"right":n=this.viewportRowRight[t];break;default:n=this.viewportRowCenter[t];break}return it(n)&&(n=[]),n}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(n=>e[n.getId()]=!0);const t=(n,i,o)=>{let s=!1;for(let a=0;a<n.length;a++){const l=n[a];let u=!1;if(l instanceof Xe)u=e[l.getId()]===!0;else{const d=l.getDisplayedChildren();d&&(u=t(d,i,o+1))}u&&(s=!0,i[o]||(i[o]=[]),i[o].push(l))}return s};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.viewportColumns.map(e).join("#"),n=this.viewportColumnsHash!==t;return n&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),n}refreshFlexedColumns(e={}){var t;const n=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=-1;if(e.resizingCols){const p=new Set(e.resizingCols);let f=this.displayedColumnsCenter;for(let g=f.length-1;g>=0;g--)if(p.has(f[g])){i=g;break}}let o=0,s=[],a=0,l=0;for(let p=0;p<this.displayedColumnsCenter.length;p++)this.displayedColumnsCenter[p].getFlex()&&p>i?(s.push(this.displayedColumnsCenter[p]),l+=this.displayedColumnsCenter[p].getFlex(),a+=(t=this.displayedColumnsCenter[p].getMinWidth())!==null&&t!==void 0?t:0):o+=this.displayedColumnsCenter[p].getActualWidth();if(!s.length)return[];let u=[];o+a>this.flexViewportWidth&&(s.forEach(p=>{var f;return p.setActualWidth((f=p.getMinWidth())!==null&&f!==void 0?f:0,n)}),u=s,s=[]);const c=[];let d;e:for(;;){d=this.flexViewportWidth-o;const p=d/l;for(let f=0;f<s.length;f++){const g=s[f],v=p*g.getFlex();let y=0;const C=g.getMinWidth(),w=g.getMaxWidth();if(le(C)&&v<C?y=C:le(w)&&v>w&&(y=w),y){g.setActualWidth(y,n),hV(s,g),l-=g.getFlex(),u.push(g),o+=g.getActualWidth();continue e}c[f]=Math.round(v)}break}let h=d;return s.forEach((p,f)=>{p.setActualWidth(Math.min(c[f],h),n),u.push(p),h-=c[f]}),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,n,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){var o,s,a,l,u;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,n,i));return}const c={};i&&((o=i==null?void 0:i.columnLimits)===null||o===void 0||o.forEach(C=>{var{key:w}=C,S=_Be(C,["key"]);c[typeof w=="string"?w:w.getColId()]=S}));const d=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(d);if(e<=0||!d.length||h)return;const p=[],f=[];d.forEach(C=>{C.getColDef().suppressSizeToFit===!0?f.push(C):p.push(C)});const g=p.slice(0);let v=!1;const y=C=>{Zo(p,C),f.push(C)};for(p.forEach(C=>{var w,S;C.resetActualWidth(t);const P=c==null?void 0:c[C.getId()],F=(w=P==null?void 0:P.minWidth)!==null&&w!==void 0?w:i==null?void 0:i.defaultMinWidth,_=(S=P==null?void 0:P.maxWidth)!==null&&S!==void 0?S:i==null?void 0:i.defaultMaxWidth,E=C.getActualWidth();typeof F=="number"&&E<F?C.setActualWidth(F,t,!0):typeof _=="number"&&E>_&&C.setActualWidth(_,t,!0)});!v;){v=!0;const C=e-this.getWidthOfColsInList(f);if(C<=0)p.forEach(w=>{var S,P;const F=(P=(S=c==null?void 0:c[w.getId()])===null||S===void 0?void 0:S.minWidth)!==null&&P!==void 0?P:i==null?void 0:i.defaultMinWidth;if(typeof F=="number"){w.setActualWidth(F,t,!0);return}w.setMinimum(t)});else{const w=C/this.getWidthOfColsInList(p);let S=C;for(let P=p.length-1;P>=0;P--){const F=p[P],_=c==null?void 0:c[F.getId()],E=(s=_==null?void 0:_.minWidth)!==null&&s!==void 0?s:i==null?void 0:i.defaultMinWidth,T=(a=_==null?void 0:_.maxWidth)!==null&&a!==void 0?a:i==null?void 0:i.defaultMaxWidth,O=(l=F.getMinWidth())!==null&&l!==void 0?l:0,L=(u=F.getMaxWidth())!==null&&u!==void 0?u:Number.MAX_VALUE,V=typeof E=="number"&&E>O?E:F.getMinWidth(),M=typeof T=="number"&&T<L?T:F.getMaxWidth();let N=Math.round(F.getActualWidth()*w);le(V)&&N<V?(N=V,y(F),v=!1):le(M)&&N>M?(N=M,y(F),v=!1):P===0&&(N=S),F.setActualWidth(N,t,!0),S-=N}}}g.forEach(C=>{C.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!n&&this.dispatchColumnResizedEvent(g,!0,t)}buildDisplayedTrees(e){const t=[],n=[],i=[];e.forEach(s=>{switch(s.getPinned()){case"left":t.push(s);break;case"right":n.push(s);break;default:i.push(s);break}});const o=new cBe;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,o,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,o,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,o,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,t=>{t instanceof Vr&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"))&&!n&&!t){const s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(s,this.groupAutoColumns)||e)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){const e=this.gridOptionsService.get("groupDisplayType");if(e?dL("custom",e):!1)return!0;const n=this.gridOptionsService.get("treeDataDisplayType");return n?SBe("custom",n):!1}autoColsEqual(e,t){return Fc(e,t,(n,i)=>n.getColId()===i.getColId())}getWidthOfColsInList(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}getGridBalancedTree(){return this.gridBalancedTree}getFirstDisplayedColumn(){const e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]]();if(i.length)return e?fn(i):i[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const i={type:D.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(i)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gridOptionsService.getNum("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e){const t=e.getUserProvidedColDef();if(!t)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(t,e.getColId());return e.setColDef(n,t),!0}generateColumnStateForRowGroupAndPivotIndexes(e,t){let n={};const i=(o,s,a,l,u,c)=>{if(!s.length||!this.primaryColumns)return[];const d=Object.keys(o),h=new Set(d),p=new Set(d),f=new Set(s.map(F=>{const _=F.getColId();return p.delete(_),_}).concat(d)),g=[],v={};let y=0;for(let F=0;F<this.primaryColumns.length;F++){const _=this.primaryColumns[F].getColId();f.has(_)&&(g.push(_),v[_]=y++)}let C=1e3,w=!1,S=0;const P=F=>{const _=v[F];for(let E=S;E<_;E++){const T=g[E];p.has(T)&&(o[T][u]=C++,p.delete(T))}S=_};s.forEach(F=>{const _=F.getColId();if(h.has(_))P(_),o[_][u]=C++;else{const E=F.getColDef();(E[u]===null||E[u]===void 0&&E[c]==null)&&(w||(E[a]||E[a]===void 0&&E[l]?P(_):(p.forEach(L=>{o[L][u]=C+v[L]}),C+=g.length,w=!0)),n[_]||(n[_]={colId:_}),n[_][u]=C++)}})};return i(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(n)}};Ei([A("expressionService")],Jr.prototype,"expressionService",void 0);Ei([A("columnFactory")],Jr.prototype,"columnFactory",void 0);Ei([A("displayedGroupCreator")],Jr.prototype,"displayedGroupCreator",void 0);Ei([A("ctrlsService")],Jr.prototype,"ctrlsService",void 0);Ei([A("autoWidthCalculator")],Jr.prototype,"autoWidthCalculator",void 0);Ei([A("columnUtils")],Jr.prototype,"columnUtils",void 0);Ei([A("columnAnimationService")],Jr.prototype,"columnAnimationService",void 0);Ei([A("autoGroupColService")],Jr.prototype,"autoGroupColService",void 0);Ei([xt("aggFuncService")],Jr.prototype,"aggFuncService",void 0);Ei([xt("valueCache")],Jr.prototype,"valueCache",void 0);Ei([xt("animationFrameService")],Jr.prototype,"animationFrameService",void 0);Ei([A("sortController")],Jr.prototype,"sortController",void 0);Ei([A("columnDefFactory")],Jr.prototype,"columnDefFactory",void 0);Ei([he],Jr.prototype,"init",null);Ei([Si],Jr.prototype,"destroyColumns",null);Ei([EBe(0,Ji("loggerFactory"))],Jr.prototype,"setBeans",null);Jr=Ei([Re("columnModel")],Jr);var bBe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Bz=class extends ae{calculateColMinWidth(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()}calculateColMaxWidth(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER}calculateColInitialWidth(e){const t=this.calculateColMinWidth(e),n=this.calculateColMaxWidth(e);let i;const o=xs(e.width),s=xs(e.initialWidth);return o!=null?i=o:s!=null?i=s:i=200,Math.max(Math.min(i,n),t)}getOriginalPathForColumn(e,t){const n=[];let i=!1;const o=(s,a)=>{for(let l=0;l<s.length;l++){if(i)return;const u=s[l];u instanceof yn?(o(u.getChildren(),a+1),n[a]=u):u===e&&(i=!0)}};return o(t,0),i?n:null}depthFirstOriginalTreeSearch(e,t,n){t&&t.forEach(i=>{i instanceof yn&&this.depthFirstOriginalTreeSearch(i,i.getChildren(),n),n(i,e)})}depthFirstAllColumnTreeSearch(e,t){e&&e.forEach(n=>{n instanceof Vr&&this.depthFirstAllColumnTreeSearch(n.getChildren(),t),t(n)})}depthFirstDisplayedColumnTreeSearch(e,t){e&&e.forEach(n=>{n instanceof Vr&&this.depthFirstDisplayedColumnTreeSearch(n.getDisplayedChildren(),t),t(n)})}};Bz=bBe([Re("columnUtils")],Bz);var RBe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let jz=class extends ae{createDisplayedGroups(e,t,n,i){const o=this.mapOldGroupsById(i),s=[];let a=e;for(;a.length;){const l=a;a=[];let u=0;const c=d=>{const h=u;u=d;const p=l[h],g=(p instanceof Vr?p.getProvidedColumnGroup():p).getOriginalParent();if(g==null){for(let y=h;y<d;y++)s.push(l[y]);return}const v=this.createColumnGroup(g,t,o,n);for(let y=h;y<d;y++)v.addChild(l[y]);a.push(v)};for(let d=1;d<l.length;d++){const h=l[d],f=(h instanceof Vr?h.getProvidedColumnGroup():h).getOriginalParent(),g=l[u],y=(g instanceof Vr?g.getProvidedColumnGroup():g).getOriginalParent();f!==y&&c(d)}u<l.length&&c(l.length)}return this.setupParentsIntoColumns(s,null),s}createColumnGroup(e,t,n,i){const o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=Vr.createUniqueId(o,s);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),le(l)?l.reset():(l=new Vr(e,o,s,i),this.context.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(o=>{if(o instanceof Vr){const s=o;t[o.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoColumns(e,t){e.forEach(n=>{if(n.setParent(t),n instanceof Vr){const i=n;this.setupParentsIntoColumns(i.getChildren(),i)}})}};jz=RBe([Re("displayedGroupCreator")],jz);var TBe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Wz=class extends ae{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};Wz=TBe([Re("agStackComponentsRegistry")],Wz);function Aa(r,e,t){t==null||t==""?gV(r,e):zs(r,e,t)}function zs(r,e,t){r.setAttribute(Ite(e),t.toString())}function gV(r,e){r.removeAttribute(Ite(e))}function Ite(r){return`aria-${r}`}function jr(r,e){e?r.setAttribute("role",e):r.removeAttribute("role")}function Fte(r){let e;return r==="asc"?e="ascending":r==="desc"?e="descending":r==="mixed"?e="other":e="none",e}function Mte(r){return parseInt(r.getAttribute("aria-level"),10)}function Lte(r){return parseInt(r.getAttribute("aria-posinset"),10)}function PBe(r){return r.getAttribute("aria-describedby")||""}function Gu(r,e){Aa(r,"label",e)}function RD(r,e){Aa(r,"labelledby",e)}function Nte(r,e){Aa(r,"description",e)}function Gte(r,e){Aa(r,"describedby",e)}function Vte(r,e){Aa(r,"live",e)}function Hte(r,e){Aa(r,"level",e)}function mV(r,e){Aa(r,"disabled",e)}function TD(r,e){Aa(r,"hidden",e)}function vV(r,e){Aa(r,"activedescendant",e)}function ca(r,e){zs(r,"expanded",e)}function kte(r){gV(r,"expanded")}function yV(r,e){zs(r,"setsize",e)}function CV(r,e){zs(r,"posinset",e)}function $te(r,e){zs(r,"multiselectable",e)}function Bte(r,e){zs(r,"rowcount",e)}function wV(r,e){zs(r,"rowindex",e)}function jte(r,e){zs(r,"colcount",e)}function SV(r,e){zs(r,"colindex",e)}function Wte(r,e){zs(r,"colspan",e)}function Ute(r,e){zs(r,"sort",e)}function zte(r){gV(r,"sort")}function $h(r,e){Aa(r,"selected",e)}function Kte(r,e){zs(r,"checked",e===void 0?"mixed":e)}function Yte(r,e){Aa(r,"controls",e.id),RD(e,r.id)}function PD(r,e){return e===void 0?r("ariaIndeterminate","indeterminate"):e===!0?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}const OBe=Object.freeze(Object.defineProperty({__proto__:null,getAriaCheckboxStateName:PD,getAriaDescribedBy:PBe,getAriaLevel:Mte,getAriaPosInSet:Lte,getAriaSortState:Fte,removeAriaExpanded:kte,removeAriaSort:zte,setAriaActiveDescendant:vV,setAriaChecked:Kte,setAriaColCount:jte,setAriaColIndex:SV,setAriaColSpan:Wte,setAriaControls:Yte,setAriaDescribedBy:Gte,setAriaDescription:Nte,setAriaDisabled:mV,setAriaExpanded:ca,setAriaHidden:TD,setAriaLabel:Gu,setAriaLabelledBy:RD,setAriaLevel:Hte,setAriaLive:Vte,setAriaMultiSelectable:$te,setAriaPosInSet:CV,setAriaRole:jr,setAriaRowCount:Bte,setAriaRowIndex:wV,setAriaSelected:$h,setAriaSetSize:yV,setAriaSort:Ute},Symbol.toStringTag,{value:"Module"}));let _I,yE,bI,RI,TI,PI,hL,pL;function _a(){return _I===void 0&&(_I=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),_I}function EV(){if(yE===void 0)if(_a()){const r=navigator.userAgent.match(/version\/(\d+)/i);r&&(yE=r[1]!=null?parseFloat(r[1]):0)}else yE=0;return yE}function OD(){if(bI===void 0){const r=window;bI=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return bI}function _V(){return RI===void 0&&(RI=/(firefox)/i.test(navigator.userAgent)),RI}function bV(){return TI===void 0&&(TI=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),TI}function gd(){return PI===void 0&&(PI=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),PI}function DD(){return!_a()||EV()>=15}function BT(r){if(!r)return null;const e=r.tabIndex,t=r.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!_V())?null:e.toString()}function qte(){if(!document.body)return-1;let r=1e6;const e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){const n=r*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;r=n}return document.body.removeChild(t),r}function Qte(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function Xte(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function Jte(){return pL==null&&Zte(),pL}function Zte(){const r=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",r.appendChild(e);let t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(pL=t,hL=t===0)}function Zy(){return hL==null&&Zte(),hL}const DBe=Object.freeze(Object.defineProperty({__proto__:null,browserSupportsPreventScroll:DD,getBodyHeight:Xte,getBodyWidth:Qte,getMaxDivHeight:qte,getSafariVersion:EV,getScrollbarWidth:Jte,getTabIndex:BT,isBrowserChrome:OD,isBrowserFirefox:_V,isBrowserSafari:_a,isIOSUserAgent:gd,isInvisibleScrollbar:Zy,isMacOsUserAgent:bV},Symbol.toStringTag,{value:"Module"}));function Uf(r,e){return r.toString().padStart(e,"0")}function ene(r,e){const t=[];for(let n=r;n<=e;n++)t.push(n);return t}function ABe(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function xBe(r,e){let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r&255),r>>>=8;return t}function IBe(r,e,t){return typeof r!="number"?"":RV(Math.round(r*100)/100,e,t)}function RV(r,e,t){return typeof r!="number"?"":r.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function FBe(r){return r==null?null:r.reduce((e,t)=>e+t,0)}function MBe(r,e){return r>=0?r:e}function LBe(r,e){const t=parseInt(r,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}const NBe=Object.freeze(Object.defineProperty({__proto__:null,cleanNumber:ABe,createArrayOfNumbers:ene,decToHex:xBe,formatNumberCommas:RV,formatNumberTwoDecimalPlacesAndCommas:IBe,oneOrGreater:LBe,padStartWidthZeros:Uf,sum:FBe,zeroOrGreater:MBe},Symbol.toStringTag,{value:"Module"}));function bu(r,e=!0,t="-"){if(!r)return null;let n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(i=>Uf(i,2)).join(t);return e&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(i=>Uf(i,2)).join(":")),n}const OI=r=>{if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function zf(r,e="YYYY-MM-DD"){const t=Uf(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>t.slice(t.length-4,t.length),YY:()=>t.slice(t.length-2,t.length),Y:()=>`${r.getFullYear()}`,MMMM:()=>n[r.getMonth()],MMM:()=>n[r.getMonth()].slice(0,3),MM:()=>Uf(r.getMonth()+1,2),Mo:()=>`${r.getMonth()+1}${OI(r.getMonth()+1)}`,M:()=>`${r.getMonth()+1}`,Do:()=>`${r.getDate()}${OI(r.getDate())}`,DD:()=>Uf(r.getDate(),2),D:()=>`${r.getDate()}`,dddd:()=>i[r.getDay()],ddd:()=>i[r.getDay()].slice(0,3),dd:()=>i[r.getDay()].slice(0,2),do:()=>`${r.getDay()}${OI(r.getDay())}`,d:()=>`${r.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,a=>a in o?o[a]():a)}function as(r){if(!r)return null;const[e,t]=r.split(" ");if(!e)return null;const n=e.split("-").map(d=>parseInt(d,10));if(n.filter(d=>!isNaN(d)).length!==3)return null;const[i,o,s]=n,a=new Date(i,o-1,s);if(a.getFullYear()!==i||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!t||t==="00:00:00")return a;const[l,u,c]=t.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}const GBe=Object.freeze(Object.defineProperty({__proto__:null,dateToFormattedString:zf,parseDateTimeFromString:as,serialiseDate:bu},Symbol.toStringTag,{value:"Module"}));let CE;function fL(r,e,t){const n=r.parentElement;let i=n&&n.firstChild;for(;i;)e&&i.classList.toggle(e,i===r),t&&i.classList.toggle(t,i!==r),i=i.nextSibling}const tne="[tabindex], input, select, button, textarea, [href]",TV=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *.mjs";function PV(r){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(r,"input, select, button, textarea"),i=e.call(r,TV),o=vd(r);return n&&!i&&o}function $t(r,e,t={}){const{skipAriaHidden:n}=t;r.classList.toggle("ag-hidden",!e),n||TD(r,!e)}function nne(r,e,t={}){const{skipAriaHidden:n}=t;r.classList.toggle("ag-invisible",!e),n||TD(r,!e)}function Cg(r,e){const t="disabled",n=e?i=>i.setAttribute(t,""):i=>i.removeAttribute(t);n(r),FV(r.querySelectorAll("input"),i=>n(i))}function Eh(r,e,t){let n=0;for(;r;){if(r.classList.contains(e))return!0;if(r=r.parentElement,typeof t=="number"){if(++n>t)break}else if(r===t)break}return!1}function md(r){const{height:e,width:t,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:p,marginLeft:f,boxSizing:g}=window.getComputedStyle(r);return{height:parseFloat(e),width:parseFloat(t),borderTopWidth:parseFloat(n),borderRightWidth:parseFloat(i),borderBottomWidth:parseFloat(o),borderLeftWidth:parseFloat(s),paddingTop:parseFloat(a),paddingRight:parseFloat(l),paddingBottom:parseFloat(u),paddingLeft:parseFloat(c),marginTop:parseFloat(d),marginRight:parseFloat(h),marginBottom:parseFloat(p),marginLeft:parseFloat(f),boxSizing:g}}function Cw(r){const e=md(r);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function AD(r){const e=md(r);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function OV(r){const e=md(r),t=e.marginBottom+e.marginTop;return Math.ceil(r.offsetHeight+t)}function eC(r){const e=md(r),t=e.marginLeft+e.marginRight;return Math.ceil(r.offsetWidth+t)}function DV(r){const e=r.getBoundingClientRect(),{borderTopWidth:t,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:o}=md(r);return{top:e.top+(t||0),left:e.left+(n||0),right:e.right+(i||0),bottom:e.bottom+(o||0)}}function tC(){if(typeof CE=="boolean")return CE;const r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,CE=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),CE}function nC(r,e){let t=r.scrollLeft;return e&&(t=Math.abs(t),OD()&&!tC()&&(t=r.scrollWidth-r.clientWidth-t)),t}function rC(r,e,t){t&&(tC()?e*=-1:(_a()||OD())&&(e=r.scrollWidth-r.clientWidth-e)),r.scrollLeft=e}function Hi(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function VBe(r,e){ou(r.querySelector(e))}function ou(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function vd(r){return r.offsetParent!==null}function di(r){const e=document.createElement("div");return e.innerHTML=(r||"").trim(),e.firstChild}function HBe(r,e){r.lastChild?r.insertAdjacentHTML("afterbegin",e):r.innerHTML=e}function kBe(r,e){return r.attributes&&r.attributes[e]?r.attributes[e].value:null}function gL(r){return r&&r.clientHeight?r.clientHeight:0}function mL(r){return r&&r.clientWidth?r.clientWidth:0}function AV(r,e,t){if(t&&t.nextSibling===e)return;const n=document.activeElement,i=e.contains(n);t?t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e):r.firstChild&&r.firstChild!==e&&r.insertAdjacentElement("afterbegin",e),i&&n&&DD()&&n.focus({preventScroll:!0})}function xV(r,e){for(let t=0;t<e.length;t++){const n=e[t],i=r.children[t];i!==n&&r.insertBefore(n,i)}}function rne(r,e,t){t?t.insertAdjacentElement("afterend",e):r.firstChild?r.insertAdjacentElement("afterbegin",e):r.appendChild(e)}function $Be(r,e){le(r.firstChild)?r.insertBefore(e,r.firstChild):r.appendChild(e)}function IV(r,e){if(e)for(const[t,n]of Object.entries(e)){if(!t||!t.length||n==null)continue;const i=Ate(t),o=n.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;r.style.setProperty(i,s,a)}}function ine(r){return r.clientWidth<r.scrollWidth}function one(r){return r.clientHeight<r.scrollHeight}function iC(r,e){e==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):Ls(r,e)}function Ls(r,e){e=xD(e),r.style.width=e.toString(),r.style.maxWidth=e.toString(),r.style.minWidth=e.toString()}function BBe(r,e){e==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):_h(r,e)}function _h(r,e){e=xD(e),r.style.height=e.toString(),r.style.maxHeight=e.toString(),r.style.minHeight=e.toString()}function xD(r){return typeof r=="number"?`${r}px`:r}function ww(r){return r instanceof Node||r instanceof HTMLElement}function sne(r){if(r==null)return[];const e=[];return FV(r,t=>e.push(t)),e}function ane(r,e){if(r)for(let t=0;t<r.length;t++){const n=r[t];e(n.name,n.value)}}function bh(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t.toString())}function FV(r,e){if(r!=null)for(let t=0;t<r.length;t++)e(r[t])}function MV(r,e){r.then(t=>{const n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}const jBe=Object.freeze(Object.defineProperty({__proto__:null,FOCUSABLE_EXCLUDE:TV,FOCUSABLE_SELECTOR:tne,addOrRemoveAttribute:bh,addStylesToElement:IV,appendHtml:HBe,bindCellRendererToHtmlElement:MV,clearElement:Hi,copyNodeList:sne,ensureDomOrder:AV,formatSize:xD,getAbsoluteHeight:OV,getAbsoluteWidth:eC,getElementAttribute:kBe,getElementRectWithOffset:DV,getElementSize:md,getInnerHeight:Cw,getInnerWidth:AD,getScrollLeft:nC,insertWithDomOrder:rne,isElementChildOfClass:Eh,isFocusableFormField:PV,isHorizontalScrollShowing:ine,isNodeOrElement:ww,isRtlNegativeScroll:tC,isVerticalScrollShowing:one,isVisible:vd,iterateNamedNodeMap:ane,loadTemplate:di,nodeListForEach:FV,offsetHeight:gL,offsetWidth:mL,prependDC:$Be,radioCssClass:fL,removeElement:VBe,removeFromParent:ou,setDisabled:Cg,setDisplayed:$t,setDomChildOrder:xV,setElementHeight:BBe,setElementWidth:iC,setFixedHeight:_h,setFixedWidth:Ls,setScrollLeft:rC,setVisible:nne},Symbol.toStringTag,{value:"Module"})),lne={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Ps(r,e,t){const n=vr(r,e,t);if(n){const{className:o}=n;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}function vr(r,e,t,n){let i=null;const o=t&&t.getColDef().icons;if(o&&(i=o[r]),e&&!i){const s=e.get("icons");s&&(i=s[r])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return di(s);if(ww(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const s=document.createElement("span");let a=lne[r];return a||(n?a=r:(console.warn(`AG Grid: Did not find icon ${r}`),a="")),s.setAttribute("class",`ag-icon ag-icon-${a}`),s.setAttribute("unselectable","on"),jr(s,"presentation"),s}}const WBe=Object.freeze(Object.defineProperty({__proto__:null,createIcon:Ps,createIconNoSpan:vr,iconNameClassMap:lne},Symbol.toStringTag,{value:"Module"}));let Y=class{};Y.BACKSPACE="Backspace";Y.TAB="Tab";Y.ENTER="Enter";Y.ESCAPE="Escape";Y.SPACE=" ";Y.LEFT="ArrowLeft";Y.UP="ArrowUp";Y.RIGHT="ArrowRight";Y.DOWN="ArrowDown";Y.DELETE="Delete";Y.F2="F2";Y.PAGE_UP="PageUp";Y.PAGE_DOWN="PageDown";Y.PAGE_HOME="Home";Y.PAGE_END="End";Y.A="KeyA";Y.C="KeyC";Y.D="KeyD";Y.V="KeyV";Y.X="KeyX";Y.Y="KeyY";Y.Z="KeyZ";const UBe=65,zBe=67,KBe=86,YBe=68,qBe=90,QBe=89;function ID(r){return r.altKey||r.ctrlKey||r.metaKey?!1:r.key.length===1}function jT(r,e,t,n,i){const o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s={event:e,editing:i,column:n,api:r.api,node:t,data:t.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};return!!(o&&o(s))}function une(r,e,t,n){const i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!le(o))return!1;const s={api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:t,event:e};return!!o(s)}function cne(r){const{keyCode:e}=r;let t;switch(e){case UBe:t=Y.A;break;case zBe:t=Y.C;break;case KBe:t=Y.V;break;case YBe:t=Y.D;break;case qBe:t=Y.Z;break;case QBe:t=Y.Y;break;default:t=r.code}return t}function dne(r,e=!1){return r===Y.DELETE?!0:!e&&r===Y.BACKSPACE?bV():!1}const XBe=Object.freeze(Object.defineProperty({__proto__:null,isDeleteKey:dne,isEventFromPrintableCharacter:ID,isUserSuppressingHeaderKeyboardEvent:une,isUserSuppressingKeyboardEvent:jT,normaliseQwertyAzerty:cne},Symbol.toStringTag,{value:"Module"}));function LV(r,e,t){if(t===0)return!1;const n=Math.abs(r.clientX-e.clientX),i=Math.abs(r.clientY-e.clientY);return Math.max(n,i)<=t}const JBe=Object.freeze(Object.defineProperty({__proto__:null,areEventsNear:LV},Symbol.toStringTag,{value:"Module"}));function ZBe(r,e){if(!r)return!1;const t=(s,a)=>{const l=e[s.id],u=e[a.id],c=l!==void 0,d=u!==void 0,h=c&&d,p=!c&&!d;return h?l-u:p?s.__objectId-a.__objectId:c?1:-1};let n,i,o=!1;for(let s=0;s<r.length-1;s++)if(n=r[s],i=r[s+1],t(n,i)>0){o=!0;break}return o?(r.sort(t),!0):!1}function eje(r,e){const t=[];n(r);function n(i){i&&i.forEach(o=>{if(o.group||o.hasChildren()){t.push(o.key);const s=t.join("|");e(o,s),n(o.childrenAfterGroup),t.pop()}})}}const tje=Object.freeze(Object.defineProperty({__proto__:null,sortRowNodesByOrder:ZBe,traverseNodesWithKey:eje},Symbol.toStringTag,{value:"Module"}));function NV(r){const e=new Set;return r.forEach(t=>e.add(t)),e}const nje=Object.freeze(Object.defineProperty({__proto__:null,convertToSet:NV},Symbol.toStringTag,{value:"Module"})),rje=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},OBe),oBe),DBe),GBe),jBe),aBe),q$e),wBe),H$e),WBe),XBe),yBe),JBe),NBe),z$e),tje),nje),gBe),K=rje;let FD=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}};var Of;(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"})(Of||(Of={}));let zn=class B_{constructor(e){this.status=Of.IN_PROGRESS,this.resolution=null,this.waiters=[],e(t=>this.onDone(t),t=>this.onReject(t))}static all(e){return new B_(t=>{let n=e.length;const i=new Array(n);e.forEach((o,s)=>{o.then(a=>{i[s]=a,n--,n===0&&t(i)})})})}static resolve(e=null){return new B_(t=>t(e))}then(e){return new B_(t=>{this.status===Of.RESOLVED?t(e(this.resolution)):this.waiters.push(n=>t(e(n)))})}resolveNow(e,t){return this.status===Of.RESOLVED?t(this.resolution):e}onDone(e){this.status=Of.RESOLVED,this.resolution=e,this.waiters.forEach(t=>t(e))}onReject(e){console.warn("TBI")}};var GV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ra;(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"})(ra||(ra={}));var Ya;(function(r){r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS"})(Ya||(Ya={}));let Sp=class Xd extends ae{constructor(e,t,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=n,this.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,this.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=ra.NOTHING,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===Ya.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Ya.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(e){const t=this.gridOptionsService.getNum(e);if(le(t))return t<0&&Mt(()=>console.warn(`AG Grid: ${e} should not be lower than 0`),`${e}Warn`),Math.max(200,t)}getTooltipDelay(e){var t,n,i,o;return e==="show"?(n=(t=this.getGridOptionsTooltipDelay("tooltipShowDelay"))!==null&&t!==void 0?t:this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.DEFAULT_SHOW_TOOLTIP_DELAY:(o=(i=this.getGridOptionsTooltipDelay("tooltipHideDelay"))!==null&&i!==void 0?i:this.tooltipHideDelayOverride)!==null&&o!==void 0?o:this.DEFAULT_HIDE_TOOLTIP_DELAY}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?Ya.HOVER:Ya.FOCUS}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!gd()&&(Xd.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===ra.SHOWING&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var t;const n=e.relatedTarget,i=this.parentComp.getGui(),o=(t=this.tooltipComp)===null||t===void 0?void 0:t.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&(o!=null&&o.contains(n))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=ra.NOTHING||Xd.isLocked)return!1;let t=0;return e&&(t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=ra.WAITING_TO_SHOW,!0}isLastTooltipHiddenRecently(){const e=new Date().getTime(),t=Xd.lastTooltipHideTime;return e-t<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===ra.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=ra.NOTHING,this.lastMouseEvent=null}showTooltip(){const e=Object.assign({},this.parentComp.getTooltipParams());if(!le(e.value)){this.setToDoNothing();return}this.state=ra.SHOWING,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(e){if(!e&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),Xd.lastTooltipHideTime=new Date().getTime());const t={type:D.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(t),this.state=ra.NOTHING}newTooltipComponentCallback(e,t){if(this.state!==ra.SHOWING||this.tooltipInstanceCount!==e){this.getContext().destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Ya.HOVER&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const o=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===Ya.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,D.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,D.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Ya.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:D.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){var t;const n=this.parentComp.getGui(),i=(t=this.tooltipComp)===null||t===void 0?void 0:t.getGui(),o=e.relatedTarget;i!=null&&i.contains(o)||(this.isInteractingWithTooltip=!1,n.contains(o)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Object.assign(Object.assign({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Object.assign(Object.assign({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===Ya.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{e(),this.getContext().destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Xd.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){Xd.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Sp.isLocked=!1;GV([A("popupService")],Sp.prototype,"popupService",void 0);GV([A("userComponentFactory")],Sp.prototype,"userComponentFactory",void 0);GV([he],Sp.prototype,"postConstruct",null);let ije=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(i=>this.addCssClass(i));return}if(this.cssClassStates[e]!==!0&&e.length){const i=this.getGui();i&&i.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(i=>this.removeCssClass(i));return}if(this.cssClassStates[e]!==!1&&e.length){const i=this.getGui();i&&i.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(o=>this.addOrRemoveCssClass(o,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}};var VV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const oje=new FD;let Ve=class vL extends ae{constructor(e){super(),this.displayed=!0,this.visible=!0,this.compId=oje.next(),this.cssClassManager=new ije(()=>this.eGui),e&&this.setTemplate(e)}preConstructOnComponent(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e,t,n){const i=()=>{this.usingBrowserTooltips?this.getGui().removeAttribute("title"):this.tooltipFeature=this.destroyBean(this.tooltipFeature)},o=()=>{this.usingBrowserTooltips?this.getGui().setAttribute("title",this.tooltipText):this.tooltipFeature=this.createBean(new Sp(this,t,n))};this.tooltipText!=e&&(this.tooltipText&&i(),e!=null&&(this.tooltipText=e,this.tooltipText&&o()))}createChildComponentsFromTags(e,t){sne(e.childNodes).forEach(i=>{if(!(i instanceof HTMLElement))return;const o=this.createComponentFromElement(i,s=>{s.getGui()&&this.copyAttributesFromNode(i,s.getGui())},t);if(o){if(o.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const s=Array.prototype.slice.call(i.children);o.addItems(s)}this.swapComponentForNode(o,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,o=n?n[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(i);if(s){vL.elementGettingCreated=e;const a=new s(o);return a.setParentComponent(this),this.createBean(a,null,t),a}return null}copyAttributesFromNode(e,t){ane(e.attributes,(n,i)=>t.setAttribute(n,i))}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)}swapInComponentForQuerySelectors(e,t){const n=this;this.iterateOverQuerySelectors(i=>{n[i.attributeName]===t&&(n[i.attributeName]=e)})}iterateOverQuerySelectors(e){let t=Object.getPrototypeOf(this);for(;t!=null;){const n=t.__agComponentMetaData,i=cV(t.constructor);n&&n[i]&&n[i].querySelectors&&n[i].querySelectors.forEach(o=>e(o)),t=Object.getPrototypeOf(t)}}activateTabIndex(e){const t=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t){const n=di(e);this.setTemplateFromElement(n,t)}setTemplateFromElement(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const e=this;this.iterateOverQuerySelectors(t=>{const n=o=>e[t.attributeName]=o;if(t.refSelector&&this.getAttribute("ref")===t.refSelector)n(this.eGui);else{const o=this.eGui.querySelector(t.querySelector);o&&n(o.__agComponent||o)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}queryForHtmlInputElement(e){return this.eGui.querySelector(e)}appendChild(e,t){if(e!=null)if(t||(t=this.eGui),ww(e))t.appendChild(e);else{const n=e;t.appendChild(n.getGui())}}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;nne(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;$t(this.eGui,e,{skipAriaHidden:n});const i={type:vL.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(i)}}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);const e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}getAttribute(e){const{eGui:t}=this;return t?t.getAttribute(e):null}getRefElement(e){return this.queryForHtmlElement(`[ref="${e}"]`)}};Ve.EVENT_DISPLAYED_CHANGED="displayedChanged";VV([A("agStackComponentsRegistry")],Ve.prototype,"agStackComponentsRegistry",void 0);VV([SD],Ve.prototype,"preConstructOnComponent",null);VV([SD],Ve.prototype,"createChildComponentsPreConstruct",null);function ue(r){return sje.bind(this,`[ref=${r}]`,r)}function sje(r,e,t,n,i){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}aje(t,"querySelectors",{attributeName:n,querySelector:r,refSelector:e})}function aje(r,e,t){const n=lje(r,cV(r.constructor));n[e]||(n[e]=[]),n[e].push(t)}function lje(r,e){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[e]||(r.__agComponentMetaData[e]={}),r.__agComponentMetaData[e]}var hne=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let HV=class extends Ve{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}onParamsUpdated(e){this.init(e)}};hne([ue("eFloatingFilterText")],HV.prototype,"eFloatingFilterText",void 0);hne([A("columnModel")],HV.prototype,"columnModel",void 0);let pne=class{constructor(e,t,n,i){this.alive=!0,this.context=e,this.eParent=i,t.getDateCompDetails(n).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(i.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){$t(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t;!((t=this.dateComp)===null||t===void 0)&&t.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},fne=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],n=i=>i.some(o=>e[o]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${i}'`),!1);if(!t.every(n)){this.filterOptions=this.filterOptions.filter(i=>i===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}};const gne={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};var mne=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let vs=class vne extends ae{constructor(e,t={}){super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks=Object.assign({shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())}},t)}postConstruct(){this.eFocusableElement.classList.add(vne.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(e){this.addManagedListener(e,"keydown",t=>{if(!(t.defaultPrevented||fa(t))){if(this.callbacks.shouldStopEventPropagation(t)){Dl(t);return}t.key===Y.TAB?this.callbacks.onTabKeyDown(t):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(t)}})}};vs.FOCUS_MANAGED_CLASS="ag-focus-managed";mne([A("focusService")],vs.prototype,"focusService",void 0);mne([he],vs.prototype,"postConstruct",null);var kV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const yne="ag-resizer-wrapper",uje=`<div class="${yne}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`;let Ep=class extends ae{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:o,height:s,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let u=0,c=0;const d=!!this.element.offsetParent;if(d){const h=this.findBoundaryElement(),p=window.getComputedStyle(h);if(p.minWidth!=null){const f=h.offsetWidth-this.element.offsetWidth;c=parseInt(p.minWidth,10)-f}if(p.minHeight!=null){const f=h.offsetHeight-this.element.offsetHeight;u=parseInt(p.minHeight,10)-f}}if(this.minHeight=o||u,this.minWidth=n||c,i&&this.setWidth(i),s&&this.setHeight(s),(!i||!s)&&this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&t){let h=this.boundaryEl,p=!0;if(h||(h=this.findBoundaryElement(),p=!1),h){const f=parseFloat(h.style.top),g=parseFloat(h.style.left);p?this.offsetElement(isNaN(g)?0:g,isNaN(f)?0:f):this.setPosition(g,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const i=!!e[t],o=this.getResizerElement(t),s={dragStartPixels:0,eElement:o,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(s),this.resizeListeners.push(s),o.style.pointerEvents="all"):o.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_h(n,e),e=OV(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const o=this.getAvailableHeight();o&&e>o&&(e=o)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?_h(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:i.top,a=e?0:o.top;let l=0;if(t){const c=this.element.parentElement;if(c){const{bottom:d}=c.getBoundingClientRect();l=d-i.bottom}}return n+a-s-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ls(t,e),e=eC(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:o}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;o&&e+s>o&&(e=o-s)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ls(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:o,topBuffer:s}=e,a=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!n,!!o,a)?0:a,c=this.shouldSkipY(t,!!i,s,l)?0:l;return{movementX:u,movementY:c}}shouldSkipX(e,t,n,i){const o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:o.left;let u=l<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=a.right;return u?!0:(t?u=i<0&&e.clientX>l+s.left||i>0&&e.clientX<l+s.left:n?u=i<0&&e.clientX>a.right||i>0&&e.clientX<l+s.left:u=i<0&&e.clientX>a.right||i>0&&e.clientX<a.right,u)}shouldSkipY(e,t,n=0,i){const o=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:o.top;let u=l<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=a.bottom;return u?!0:(t?u=i<0&&e.clientY>l+s.top+n||i>0&&e.clientY<l+s.top:u=i<0&&e.clientY>a.bottom||i>0&&e.clientY<a.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(uje,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${yne}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const o=e[i],s=!!o.style.flex&&o.style.flex!=="0 0 auto";if(o===this.element)continue;let a=this.minHeight||0,l=this.minWidth||0;if(s){const u=window.getComputedStyle(o);u.minHeight&&(a=parseInt(u.minHeight,10)),u.minWidth&&(l=parseInt(u.minWidth,10))}else a=o.offsetHeight,l=o.offsetWidth;t+=a,n+=l}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const o=n[i];o!==t&&(e?o.style.height=`${o.offsetHeight}px`:o.style.width=`${o.offsetWidth}px`,o.style.flex="0 0 auto",o===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:o,isBottom:s,isLeft:a}=this.currentResizer,l=o||a,u=s||i,{movementX:c,movementY:d}=this.calculateMouseMovement({e,isLeft:a,isTop:i}),h=this.position.x,p=this.position.y;let f=0,g=0;if(l&&c){const v=a?-1:1,y=this.getWidth(),C=y+c*v;let w=!1;a&&(f=y-C,(h+f<=0||C<=this.minWidth)&&(w=!0,f=0)),w||this.setWidth(C)}if(u&&d){const v=i?-1:1,y=this.getHeight(),C=y+d*v;let w=!1;i?(g=y-C,(p+g<=0||C<=this.minHeight)&&(w=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&y<C&&this.getMinSizeOfSiblings().height+C>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(C)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&f||g)&&this.offsetElement(h+f,p+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const n={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(n)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:o,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+o,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};kV([A("popupService")],Ep.prototype,"popupService",void 0);kV([A("resizeObserverService")],Ep.prototype,"resizeObserverService",void 0);kV([A("dragService")],Ep.prototype,"dragService",void 0);var $V=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let od=class j_ extends Ve{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null}postConstruct(){this.resetTemplate(),this.createManagedBean(new vs(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Ep(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=j_.isUseApplyButton(e),this.createButtonPanel()}createButtonPanel(){const{buttons:e}=this.providedFilterParams;if(!e||e.length<1||this.isReadOnly())return;const t=document.createElement("div");t.classList.add("ag-filter-apply-panel");const n=i=>{let o,s;switch(i){case"apply":o=this.translate("applyFilter"),s=u=>this.onBtApply(!1,!1,u);break;case"clear":o=this.translate("clearFilter"),s=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),s=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),s=u=>{this.onBtCancel(u)};break;default:console.warn("AG Grid: Unknown button type specified");return}const l=di(`<button
                    type="${i==="apply"?"submit":"button"}"
                    ref="${i}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);t.appendChild(l),this.addManagedListener(l,"click",s)};NV(e).forEach(i=>n(i)),this.getGui().appendChild(t)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=j_.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),t=ua(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.providedFilterParams;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi());Cg(this.getRefElement("applyFilterButton"),!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter",{positionableFeature:n,gridOptionsService:i}=this;t?(n.restoreLastSize(),n.setResizable(i.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(e,t){return j_.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}static isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,gne[e])}getCellValue(e){const{api:t,colDef:n,column:i,columnApi:o,context:s}=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:t,colDef:n,column:i,columnApi:o,context:s,data:e.data,getValue:a=>e.data[a],node:e})}getPositionableElement(){return this.eFilterBody}};$V([A("rowModel")],od.prototype,"rowModel",void 0);$V([ue("eFilterBody")],od.prototype,"eFilterBody",void 0);$V([he],od.prototype,"postConstruct",null);var cje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let BV=class extends Ve{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i}=this.config;e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){Hi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?($t(this.eLabel,!1),jr(this.eLabel,"presentation")):($t(this.eLabel,!0),jr(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(iC(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Cg(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};cje([he],BV.prototype,"postConstruct",null);let Cne=class extends BV{constructor(e,t,n){super(e,t),this.className=n}postConstruct(){super.postConstruct(),this.className&&this.addCssClass(this.className)}onValueChange(e){return this.addManagedListener(this,D.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ls(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:D.EVENT_FIELD_VALUE_CHANGED}),this)}};var Sw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const dje=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`;let _p=class extends Cne{constructor(e){if(super(e,(e==null?void 0:e.template)||dje,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:o,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),o!=null&&this.setPickerMinWidth(o),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();Gte(t,e),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:n}=this.config;if(n){const i=vr(n,this.gridOptionsService);i&&this.eIcon.appendChild(i)}}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),ca(e,!1),this.ariaRole&&jr(e,this.ariaRole)}refreshLabel(){var e;const t=this.getAriaElement();RD(t,(e=this.getLabelId())!==null&&e!==void 0?e:""),super.refreshLabel()}onLabelOrWrapperMouseDown(e){if(e&&(e.preventDefault(),this.getFocusableElement().focus()),this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case Y.UP:case Y.DOWN:case Y.ENTER:case Y.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Y.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gridOptionsService.getDocument(),t=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(e.body,"wheel",y=>{t.contains(y.target)||this.hidePicker()}));const n=this.localeService.getLocaleTextFunc(),{pickerType:i,pickerAriaLabelKey:o,pickerAriaLabelValue:s,modalPicker:a=!0}=this.config,l={modal:a,eChild:t,closeOnEsc:!0,closedCallback:()=>{const y=e.activeElement===e.body;this.beforeHidePicker(),y&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:n(o,s)},u=this.popupService.addPopup(l),{maxPickerHeight:c,minPickerWidth:d,maxPickerWidth:h,pickerGap:p,variableWidth:f}=this;f?(d&&(t.style.minWidth=d),t.style.width=xD(eC(this.eWrapper)),h&&(t.style.maxWidth=h)):iC(t,h??eC(this.eWrapper));const g=c??`${Cw(this.popupService.getPopupParent())}px`;t.style.setProperty("max-height",g),t.style.position="absolute";const v=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:i,eventSource:this.eWrapper,ePopup:t,position:"under",alignSide:v,keepWithinBounds:!0,nudgeY:p}),u.hideFunc}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();ca(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;!((t=this.pickerComponent)===null||t===void 0)&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setAriaLabel(e){return Gu(this.getAriaElement(),e),this}setInputWidth(e){return iC(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};Sw([A("popupService")],_p.prototype,"popupService",void 0);Sw([ue("eLabel")],_p.prototype,"eLabel",void 0);Sw([ue("eWrapper")],_p.prototype,"eWrapper",void 0);Sw([ue("eDisplayField")],_p.prototype,"eDisplayField",void 0);Sw([ue("eIcon")],_p.prototype,"eIcon",void 0);var hje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let oC=class W_ extends Ve{constructor(e="default"){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.options=[],this.itemEls=[]}init(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){const t=e.key;switch(t){case Y.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}break;case Y.DOWN:case Y.UP:const n=t===Y.DOWN;let i;if(e.preventDefault(),!this.highlightedEl)i=this.itemEls[n?0:this.itemEls.length-1];else{let s=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),i=this.itemEls[s]}this.highlightItem(i);break}}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=xr(n||t);return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{CV(t,n+1),yV(t,e.length)})}renderOption(e,t){const n=document.createElement("div");jr(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`),n.innerHTML=`<span>${t}</span>`,n.tabIndex=-1,this.itemEls.push(n),this.addManagedListener(n,"mouseover",()=>this.highlightItem(n)),this.addManagedListener(n,"mouseleave",()=>this.clearHighlighted()),this.addManagedListener(n,"click",()=>this.setValue(e)),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text!=null?i.text:i.value,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()}highlightItem(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(W_.ACTIVE_CLASS),$h(this.highlightedEl,!0),this.highlightedEl.focus())}clearHighlighted(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(W_.ACTIVE_CLASS),$h(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:D.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:W_.EVENT_ITEM_SELECTED})}};oC.EVENT_ITEM_SELECTED="selectedItem";oC.ACTIVE_CLASS="ag-active-item";hje([he],oC.prototype,"init",null);let MD=class wne extends _p{constructor(e){super(Object.assign({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},e))}postConstruct(){var e;super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=(e=this.gridOptionsService.getNum("tabIndex"))!==null&&e!==void 0?e:0}createListComponent(){this.listComponent=this.createBean(new oC("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",e=>{e.key===Y.TAB&&(e.preventDefault(),e.stopImmediatePropagation(),this.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,oC.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:wne.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,D.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}setValue(e,t,n){return this.value===e||!this.listComponent?this:(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),super.setValue(e,t)))}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};MD.EVENT_ITEM_SELECTED="selectedItem";var jV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let su=class extends Cne{constructor(e,t,n="text",i="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${i} ref="eInput" class="ag-input-field-input"></${i}>
                </div>
            </div>`,t),this.inputType=n,this.displayFieldTag=i}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{width:e,value:t}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}refreshLabel(){le(this.getLabel())?RD(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),super.refreshLabel()}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return iC(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return bh(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Gu(this.eInput,e),this}setDisabled(e){return Cg(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)bh(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";bh(this.eInput,"autocomplete",t)}return this}};jV([ue("eLabel")],su.prototype,"eLabel",void 0);jV([ue("eWrapper")],su.prototype,"eWrapper",void 0);jV([ue("eInput")],su.prototype,"eInput",void 0);let Sne=class extends su{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,n){this.dispatchEvent({type:D.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:n});const i=this.getInputElement(),o={type:D.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:e,previousValue:t};this.eventService.dispatchEvent(o)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},pje=class extends Sne{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,D.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},WV=class{constructor(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.localeService.getLocaleTextFunc();if(t){const i=e;let{conditions:o}=i;if(!o){const{condition1:l,condition2:u}=i;o=[l,u]}const s=o.map(l=>this.getModelAsString(l)),a=i.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(a,gne[a])} `)}else{if(e.type===Vt.BLANK||e.type===Vt.NOT_BLANK)return n(e.type,e.type);{const i=e,o=this.optionsFactory.getCustomOption(i.type),{displayKey:s,displayName:a,numberOfInputs:l}=o||{};return s&&a&&l===0?(n(s,a),a):this.conditionToString(i,o)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)}},Vt=class vf extends od{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}const n=[vf.EMPTY,vf.NOT_BLANK,vf.BLANK];return e&&n.indexOf(e)>=0?0:e===vf.IN_RANGE?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{n===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let s;if(n){const a=e,l=t;s=this.areSimpleModelsEqual(a,l)}else{const a=e,l=t;s=a.operator===l.operator&&Fc(a.conditions,l.conditions,(u,c)=>this.areSimpleModelsEqual(u,c))}return s}setModelIntoUi(e){if(e.operator){let n=e;n.conditions||(n.conditions=[n.condition1,n.condition2]);const i=this.validateAndUpdateConditions(n.conditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(let a=o;a<i;a++)this.createJoinOperatorPanel(),this.createOption();const s=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!s,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(s,!0)),n.conditions.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),zn.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),Mt(()=>console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),"simpleFilterSetModelMaxNumConditions"),t=this.maxNumConditions),t}doesFilterPass(e){var t;const n=this.getModel();if(n==null)return!0;const{operator:i}=n,o=[];if(i){const a=n;o.push(...(t=a.conditions)!==null&&t!==void 0?t:[])}else o.push(n);return o[i&&i==="OR"?"some":"every"](a=>this.individualConditionPasses(e,a))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new fne,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){var t,n;e.suppressAndOrCondition!=null&&Mt(()=>console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),"simpleFilterSuppressAndOrCondition"),e.alwaysShowBothConditions!=null&&Mt(()=>console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=(t=e.maxNumConditions)!==null&&t!==void 0?t:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Mt(()=>console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.'),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(n=e.numAlwaysVisibleConditions)!==null&&n!==void 0?n:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Mt(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Mt(()=>console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new MD);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,o),this.resetJoinOperatorOr(n,i,o),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new pje);return e.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass(`ag-filter-condition-operator-${n}`),t.appendChild(i.getGui()),i}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){var e;let t=-1,n=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?t=i:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{const i=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);const o=t+1,s=i-o;s>0&&this.removeConditionsAndOperators(o,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,o)=>{const s=this.isConditionDisabled(o,e);i.setDisabled(s||this.filterListOptions.length<=1),o===1&&(Cg(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((i,o)=>{$t(i,this.isConditionBodyVisible(o))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((i,o)=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach((i,o)=>{i.setValue(n,!0)}),this.forEachInput((i,o,s,a)=>{this.setElementDisplayed(i,o<a),this.setElementDisabled(i,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,t),this.removeComponents(this.eJoinOperatorsAnd,n,t),this.removeComponents(this.eJoinOperatorsOr,n,t)}removeElements(e,t,n){this.removeItems(e,t,n).forEach(o=>ou(o))}removeComponents(e,t,n){this.removeItems(e,t,n).forEach(o=>{ou(o.getGui()),this.destroyBean(o)})}removeItems(e,t,n){return n==null?e.splice(t):e.splice(t,n)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof su&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();(!this.areModelsEqual(e,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const o=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))t===-1&&(t=a,n=a);else{const l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<t;(l||u)&&(this.removeConditionsAndOperators(a,1),i=!0,u&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,o),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(wD(this.filterPlaceholder)){const i=this.filterPlaceholder,o=this.eTypes[t].getValue(),s=this.translate(o);n=i({filterOptionKey:o,filterOption:s,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,n,i,o)=>{if(!(t instanceof su))return;const s=n===0&&o>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",a=n===0&&o>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,i)),t.setInputAriaLabel(a)})}setElementValue(e,t,n){e instanceof su&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Ve&&$t(e.getGui(),t)}setElementDisabled(e,t){e instanceof Ve&&Cg(e.getGui(),t)}attachElementOnChange(e,t){e instanceof su&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),o=this.getInputs(e);for(let s=0;s<o.length;s++){const a=o[s];a!=null&&n(a,s,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===vf.EMPTY||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),zn.resolve()}resetType(e){const n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,o){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${o}`).setLabel(i),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((i,o,s,a)=>{s===t&&this.setElementValue(i,n[o]!=null?n[o]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i,o)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),o=this.optionsFactory.getCustomOption(t.type),s=this.evaluateCustomFilter(o,i,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}evaluateCustomFilter(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(o=>o==null))return i(t,n)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}};Vt.EMPTY="empty";Vt.BLANK="blank";Vt.NOT_BLANK="notBlank";Vt.EQUALS="equals";Vt.NOT_EQUAL="notEqual";Vt.LESS_THAN="lessThan";Vt.LESS_THAN_OR_EQUAL="lessThanOrEqual";Vt.GREATER_THAN="greaterThan";Vt.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";Vt.IN_RANGE="inRange";Vt.CONTAINS="contains";Vt.NOT_CONTAINS="notContains";Vt.STARTS_WITH="startsWith";Vt.ENDS_WITH="endsWith";let qr=class Lr extends Vt{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case Lr.EQUALS:case Lr.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Lr.GREATER_THAN:case Lr.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Lr.LESS_THAN:case Lr.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Lr.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Lr.BLANK:return!0;case Lr.NOT_BLANK:return!1}return!1}evaluateNonNullValue(e,t,n){const i=this.comparator(),o=e[0]!=null?i(e[0],t):0;switch(n.type){case Lr.EQUALS:return o===0;case Lr.NOT_EQUAL:return o!==0;case Lr.GREATER_THAN:return o>0;case Lr.GREATER_THAN_OR_EQUAL:return o>=0;case Lr.LESS_THAN:return o<0;case Lr.LESS_THAN_OR_EQUAL:return o<=0;case Lr.IN_RANGE:{const s=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case Lr.BLANK:return this.isBlank(t);case Lr.NOT_BLANK:return!this.isBlank(t);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};var fje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const Uz=1e3,zz=1/0;let Ene=class extends WV{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},o=n==Vt.IN_RANGE||i===2,s=as(e.dateFrom),a=as(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(o){const u=s!==null?zf(s,l):"null",c=a!==null?zf(a,l):"null";return`${u}-${c}`}return s!=null?zf(s,l):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},LD=class _ne extends qr{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Uz,this.maxValidYear=zz,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&as(t)||null,n&&as(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const n=t;return t==null||n<e?-1:n>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))console.warn(`AG Grid: DateFilter ${n} is not a number`);else return e[n]==null?i:Number(e[n]);return i};this.minValidYear=t("minValidYear",Uz),this.maxValidYear=t("maxValidYear",zz),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:as(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:as(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Ene(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new pne(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return _ne.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,i){const o=document.createElement("div");o.classList.add(`ag-filter-${i}`),o.classList.add(`ag-filter-date-${i}`),t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){this.removeItems(e,t,n).forEach(o=>o.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,o,s)=>{o!==e||!t||i>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=bu(i[0])),i.length>1&&(n.dateTo=bu(i[1])),Object.assign({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},n)}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(n.getDate())}),t}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}};LD.DEFAULT_FILTER_OPTIONS=[qr.EQUALS,qr.GREATER_THAN,qr.LESS_THAN,qr.NOT_EQUAL,qr.IN_RANGE,qr.BLANK,qr.NOT_BLANK];fje([A("userComponentFactory")],LD.prototype,"userComponentFactory",void 0);let bne=class extends Ve{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e)}setSimpleParams(e){this.optionsFactory=new fne,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;const t=this.isTypeEditable(this.lastType);this.setEditable(t)}onParamsUpdated(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:n}=t||{};return n==null||n==1}isTypeEditable(e){const t=[Vt.IN_RANGE,Vt.EMPTY,Vt.BLANK,Vt.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}};var UV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ND=class extends bne{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return LD.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Ene(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){super.onParamsUpdated(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})}setEditable(e){$t(this.eDateWrapper,e),$t(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){if(this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t))return;super.setLastTypeFromModel(e);const n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(n),n){if(e){const i=e;this.dateComp.setDate(as(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}onDateChanged(){const e=this.dateComp.getDate(),t=bu(e);this.params.parentFilterInstance(n=>{if(n){const i=as(t);n.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){const e=od.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ua(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new pne(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.getDateComponentParams(),{api:t,columnApi:n,context:i}=this.gridOptionsService;e.api=t,e.columnApi=n,e.context=i,this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};UV([A("userComponentFactory")],ND.prototype,"userComponentFactory",void 0);UV([ue("eReadOnlyText")],ND.prototype,"eReadOnlyText",void 0);UV([ue("eDateWrapper")],ND.prototype,"eDateWrapper",void 0);var gje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Rne=class extends Ve{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.gridOptionsService.getDocument(),n=this.eDateInput.getInputElement();this.addManagedListener(n,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||n.focus()}),this.addManagedListener(n,"input",i=>{i.target===t.activeElement&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&_a(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:o,minValidDate:s,maxValidDate:a}=e.filterParams||{};if(s&&i&&Mt(()=>console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),"DateFilter.minValidDateAndMinValidYearWarning"),a&&o&&Mt(()=>console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),"DateFilter.maxValidDateAndMaxValidYearWarning"),s&&a){const[l,u]=[s,a].map(c=>c instanceof Date?c:as(c));l&&u&&l.getTime()>u.getTime()&&Mt(()=>console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate."),"DateFilter.minValidDateAndMaxValidDateWarning")}s?s instanceof Date?t.min=zf(s):t.min=s:i&&(t.min=`${i}-01-01`),a?a instanceof Date?t.max=zf(a):t.max=a:o&&(t.max=`${o}-12-31`)}onParamsUpdated(e){this.params=e,this.setParams(e)}getDate(){return as(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(bu(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:OD()||_V()||_a()&&EV()>=14.1}};gje([ue("eDateInput")],Rne.prototype,"eDateInput",void 0);let rm=class extends su{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=le(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{ID(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",n=>{var i;const o=(i=n.clipboardData)===null||i===void 0?void 0:i.getData("text");o&&o.split("").some(s=>!e.test(s))&&n.preventDefault()})}},Tne=class extends rm{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"}onWheel(e){document.activeElement===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=this.precision)return e;if(this.precision>0)return`${n[0]}.${n[1].slice(0,this.precision)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,bh(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,bh(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,bh(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(le(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const o=this.normalizeValue(n);i=n!=o}if(i)return t(n)}return e(n)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Pne=class extends WV{conditionToString(e,t){const{numberOfInputs:n}=t||{};return e.type==Vt.IN_RANGE||n===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function yL(r){const{allowedCharPattern:e}=r??{};return e??null}let zV=class One extends qr{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Pne(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return One.DEFAULT_FILTER_OPTIONS}setElementValue(e,t,n){const i=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=yL(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),jr(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const o=this.createManagedBean(i?new rm({allowedCharPattern:i}):new Tne);o.addCssClass(`ag-filter-${n}`),o.addCssClass("ag-filter-filter"),t.push(o),e.appendChild(o.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,o,s)=>{i<s&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=wl(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}};zV.DEFAULT_FILTER_OPTIONS=[qr.EQUALS,qr.NOT_EQUAL,qr.LESS_THAN,qr.LESS_THAN_OR_EQUAL,qr.GREATER_THAN,qr.GREATER_THAN_OR_EQUAL,qr.IN_RANGE,qr.BLANK,qr.NOT_BLANK];let Dne=class extends WV{conditionToString(e,t){const{numberOfInputs:n}=t||{};return e.type==Vt.IN_RANGE||n===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},yo=class yf extends Vt{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(e){const t=e&&e.trim();return t===""?e:t}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?yf.DEFAULT_FORMATTER:yf.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Dne(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(K.doOnce(()=>console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead."),"textCustomComparator.deprecated"),({filterOption:t,value:n,filterText:i})=>e(t,n,i)):this.textFilterParams.textMatcher||yf.DEFAULT_MATCHER}createCondition(e){const t=this.getConditionType(e),n={filterType:this.getFilterType(),type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,o,s,a)=>{var l;if(o<a){let u=wl(i.getValue());t&&this.textFilterParams.trimInput&&(u=(l=yf.trimInput(u))!==null&&l!==void 0?l:null,i.setValue(u,!0)),n.push(u)}}),n}getDefaultFilterOptions(){return yf.DEFAULT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),jr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new rm);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){const t=[Vt.NOT_EQUAL,Vt.NOT_CONTAINS,Vt.BLANK];return e?t.indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const o=e.map(f=>this.formatter(f))||[],s=this.formatter(t),{api:a,colDef:l,column:u,columnApi:c,context:d,textFormatter:h}=this.textFilterParams;if(n.type===Vt.BLANK)return this.isBlank(t);if(n.type===Vt.NOT_BLANK)return!this.isBlank(t);const p={api:a,colDef:l,column:u,columnApi:c,context:d,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:h};return o.some(f=>this.matcher(Object.assign(Object.assign({},p),{filterText:f})))}getModelAsString(e){var t;return(t=this.filterModelFormatter.getModelAsString(e))!==null&&t!==void 0?t:""}};yo.DEFAULT_FILTER_OPTIONS=[Vt.CONTAINS,Vt.NOT_CONTAINS,Vt.EQUALS,Vt.NOT_EQUAL,Vt.STARTS_WITH,Vt.ENDS_WITH,Vt.BLANK,Vt.NOT_BLANK];yo.DEFAULT_FORMATTER=r=>r;yo.DEFAULT_LOWERCASE_FORMATTER=r=>r==null?null:r.toString().toLowerCase();yo.DEFAULT_MATCHER=({filterOption:r,value:e,filterText:t})=>{if(t==null)return!1;switch(r){case yo.CONTAINS:return e.indexOf(t)>=0;case yo.NOT_CONTAINS:return e.indexOf(t)<0;case yo.EQUALS:return e===t;case yo.NOT_EQUAL:return e!=t;case yo.STARTS_WITH:return e.indexOf(t)===0;case yo.ENDS_WITH:const n=e.lastIndexOf(t);return n>=0&&n===e.length-t.length;default:return!1}};var KV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ane=class extends ae{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new rm((t=this.params)===null||t===void 0?void 0:t.config));const n=this.eFloatingFilterTextInput.getGui();e.appendChild(n),this.addManagedListener(n,"input",i=>this.valueChangedListener(i)),this.addManagedListener(n,"keydown",i=>this.valueChangedListener(i))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Ew=class extends bne{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const n=(t=e.browserAutoComplete)!==null&&t!==void 0?t:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:n}),this.applyActive=od.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const i=od.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=ua(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(o)}}onParamsUpdated(e){super.onParamsUpdated(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Hi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}getAriaLabel(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();return`${t} ${n("ariaFilterInput","Filter Input")}`}syncUpWithParentFilter(e){const t=e.key===Y.ENTER;if(this.applyActive&&!t)return;let n=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(n=yo.trimInput(n),this.floatingFilterInputService.setValue(n,!0)),this.params.parentFilterInstance(i=>{i&&i.onFloatingFilterChanged(this.getLastType()||null,n||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};KV([A("columnModel")],Ew.prototype,"columnModel",void 0);KV([ue("eFloatingFilterInputContainer")],Ew.prototype,"eFloatingFilterInputContainer",void 0);KV([he],Ew.prototype,"postConstruct",null);let mje=class extends ae{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Tne),this.eFloatingFilterTextInput=this.createManagedBean(new rm),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),n=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.valueChangedListener(i)),this.setupListeners(n,i=>this.valueChangedListener(i))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},vje=class extends Ew{init(e){var t;super.init(e),this.filterModelFormatter=new Pne(this.localeService,this.optionsFactory,(t=e.filterParams)===null||t===void 0?void 0:t.numberFormatter)}onParamsUpdated(e){yL(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.onParamsUpdated(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return zV.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=yL(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Ane({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new mje)}},yje=class extends Ew{init(e){super.init(e),this.filterModelFormatter=new Dne(this.localeService,this.optionsFactory)}onParamsUpdated(e){super.onParamsUpdated(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return yo.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Ane)}},yr=class Zv{constructor(e,t=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Bs,this.eElement=e,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),o=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",o,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",n,{passive:!0}),this.eElement.removeEventListener("touchmove",i,{passive:!0}),this.eElement.removeEventListener("touchend",o,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:Zv.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:e};this.eventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!LV(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:Zv.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>Zv.DOUBLE_TAP_MILLIS){const n={type:Zv.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};yr.EVENT_TAP="tap";yr.EVENT_DOUBLE_TAP="doubleTap";yr.EVENT_LONG_TAP="longTap";yr.DOUBLE_TAP_MILLIS=500;var bp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ll=class xne extends Ve{constructor(e){super(),e||this.setTemplate(xne.TEMPLATE)}attachCustomElements(e,t,n,i,o){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=o}setupSort(e,t=!1){this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,D.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(e,t,n){if(t==null)return;const i=vr(e,this.gridOptionsService,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";$t(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";$t(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),n=e==null;$t(this.eSortNone,!t&&n,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,D.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";$t(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){var e;if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),n=(e=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&e!==void 0?e:-1,i=t.some(s=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(s))!==null&&a!==void 0?a:!1}),o=n>=0&&i;$t(this.eSortOrder,o,{skipAriaHidden:!0}),n>=0?this.eSortOrder.innerHTML=(n+1).toString():Hi(this.eSortOrder)}};Ll.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;bp([ue("eSortOrder")],Ll.prototype,"eSortOrder",void 0);bp([ue("eSortAsc")],Ll.prototype,"eSortAsc",void 0);bp([ue("eSortDesc")],Ll.prototype,"eSortDesc",void 0);bp([ue("eSortMixed")],Ll.prototype,"eSortMixed",void 0);bp([ue("eSortNone")],Ll.prototype,"eSortNone",void 0);bp([A("columnModel")],Ll.prototype,"columnModel",void 0);bp([A("sortController")],Ll.prototype,"sortController",void 0);var ys=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ro=class Ine extends Ve{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=Cte(this.params.template,Ine.TEMPLATE);return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=xr(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}}setupIcons(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)}addInIcon(e,t,n){if(t==null)return;const i=vr(e,this.gridOptionsService,n);i&&t.appendChild(i)}setupTap(){const{gridOptionsService:e}=this;if(e.is("suppressTouch"))return;const t=new yr(this.getGui(),!0),n=e.is("suppressMenuHide"),i=n&&le(this.eMenu),o=i?new yr(this.eMenu,!0):t;if(this.params.enableMenu){const s=i?"EVENT_TAP":"EVENT_LONG_TAP",a=l=>{e.api.showColumnMenuAfterMouseClick(this.params.column,l.touchStart)};this.addManagedListener(o,yr[s],a)}if(this.params.enableSorting){const s=a=>{const l=a.touchStart.target;n&&this.eMenu.contains(l)||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(t,yr.EVENT_TAP,s)}this.addDestroyFunc(()=>t.destroy()),i&&this.addDestroyFunc(()=>o.destroy())}workOutShowMenu(){const e=!this.gridOptionsService.is("suppressMenuHide"),t=gd()&&e;return this.params.enableMenu&&!t}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){ou(this.eMenu);return}const e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",()=>this.showMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}showMenu(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Ll(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;const e=this.gridOptionsService.get("multiSortKey")==="ctrl";this.addManagedListener(this.params.column,Xe.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",n=>{const i=this.params.column.isMoving(),s=new Date().getTime()-this.lastMovingChanged<50;if(!(i||s)){const l=e?n.ctrlKey||n.metaKey:n.shiftKey;this.params.progressSort(l)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const n=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),o=!(n==null?void 0:n.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedListener(this.eventService,D.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&(this.addManagedListener(this.params.column,Xe.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())}onFilterChanged(){const e=this.params.column.isFilterActive();$t(this.eFilter,e,{skipAriaHidden:!0})}};ro.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;ys([A("sortController")],ro.prototype,"sortController",void 0);ys([A("menuFactory")],ro.prototype,"menuFactory",void 0);ys([A("columnModel")],ro.prototype,"columnModel",void 0);ys([ue("eFilter")],ro.prototype,"eFilter",void 0);ys([ue("eSortIndicator")],ro.prototype,"eSortIndicator",void 0);ys([ue("eMenu")],ro.prototype,"eMenu",void 0);ys([ue("eLabel")],ro.prototype,"eLabel",void 0);ys([ue("eText")],ro.prototype,"eText",void 0);ys([ue("eSortOrder")],ro.prototype,"eSortOrder",void 0);ys([ue("eSortAsc")],ro.prototype,"eSortAsc",void 0);ys([ue("eSortDesc")],ro.prototype,"eSortDesc",void 0);ys([ue("eSortMixed")],ro.prototype,"eSortMixed",void 0);ys([ue("eSortNone")],ro.prototype,"eSortNone",void 0);var YV=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let _w=class Fne extends Ve{constructor(){super(Fne.TEMPLATE)}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){if(this.params.template){const t="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";Mt(()=>console.warn(t),"HeaderGroupComp.templateNotSupported")}}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const e=i=>{if(fa(i))return;const o=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);const t=i=>{Dl(i)};this.addManagedListener(this.eCloseIcon,"dblclick",t),this.addManagedListener(this.eOpenIcon,"dblclick",t),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();const n=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(n,yn.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,yn.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(e,t){const n=new yr(e,!0);this.addManagedListener(n,yr.EVENT_TAP,t),this.addDestroyFunc(()=>n.destroy()),this.addManagedListener(e,"click",t)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();$t(this.eOpenIcon,t),$t(this.eCloseIcon,!t)}else $t(this.eOpenIcon,!1),$t(this.eCloseIcon,!1)}addInIcon(e,t){const n=vr(e,this.gridOptionsService,null);n&&this.getRefElement(t).appendChild(n)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){$t(this.eOpenIcon,!1),$t(this.eCloseIcon,!1);return}}setupLabel(){var e;const{displayName:t,columnGroup:n}=this.params;if(le(t)){const i=xr(t);this.getRefElement("agLabel").innerHTML=i}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=n.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))}};_w.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;YV([A("columnModel")],_w.prototype,"columnModel",void 0);YV([ue("agOpened")],_w.prototype,"eOpenIcon",void 0);YV([ue("agClosed")],_w.prototype,"eCloseIcon",void 0);let Rp=class extends Ve{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}};var Cje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let qV=class Mne extends Rp{constructor(){super(Mne.TEMPLATE)}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),le(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===Y.LEFT||t===Y.UP||t===Y.RIGHT||t===Y.DOWN||e.shiftKey&&t===Y.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!le(e)&&!le(this.params.value)?this.params.value:this.params.parseValue(e)}};qV.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;Cje([ue("eTextArea")],qV.prototype,"eTextArea",void 0);var Lne=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let QV=class extends Rp{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueFormatterService:n,gridOptionsService:i}=this,{values:o,value:s,eventKey:a}=e;if(it(o)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=a!=null?a===Y.ENTER:!1;let l=!1;o.forEach(h=>{const p={value:h},f=n.formatValue(e.column,null,h),g=f!=null;p.text=g?f:h,t.addOption(p),l=l||s===h}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:c,valueListMaxHeight:d}=e;u!=null&&t.setPickerGap(u),d!=null&&t.setPickerMaxHeight(d),c!=null&&t.setPickerMaxWidth(c),i.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,MD.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};Lne([A("valueFormatterService")],QV.prototype,"valueFormatterService",void 0);Lne([ue("eSelect")],QV.prototype,"eSelect",void 0);var wje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let bw=class extends Rp{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let n;if(e.cellStartedEdit){this.focusAfterAttached=!0;const i=e.eventKey;i===Y.BACKSPACE||e.eventKey===Y.DELETE?n="":i&&i.length===1?n=i:(n=this.cellEditorInput.getStartValue(),i!==Y.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();n!=null&&t.setStartValue(n),this.addManagedListener(t.getGui(),"keydown",i=>{const{key:o}=i;(o===Y.PAGE_UP||o===Y.PAGE_DOWN)&&i.preventDefault()})}afterGuiAttached(){var e,t;const n=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(n("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_a()||i.getFocusableElement().focus();const o=i.getInputElement();this.highlightAllOnFocus?o.select():(t=(e=this.cellEditorInput).setCaret)===null||t===void 0||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};wje([ue("eInput")],bw.prototype,"eInput",void 0);let Sje=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!le(e)&&!le(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=le(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},Kz=class extends bw{constructor(){super(new Sje)}};var Eje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const _je="",bje="";let XV=class Nne extends Ve{constructor(){super(Nne.TEMPLATE),this.refreshCount=0}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),o=le(i)?i:n,s=t>=0;s?this.eDelta.innerHTML=_je+o:this.eDelta.innerHTML=bje+o,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Hi(this.eDelta)}refresh(e){const t=e.value;if(t===this.lastValue||(le(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:le(e.value)?this.eValue.innerHTML=t:Hi(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof t=="number"&&typeof this.lastValue=="number"){const n=t-this.lastValue;this.showDelta(e,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0}};XV.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>';Eje([A("filterManager")],XV.prototype,"filterManager",void 0);var Rje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let JV=class Gne extends Ve{constructor(){super(Gne.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=di('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)}refresh(e){let t=e.value;return it(t)&&(t=""),t===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=t,le(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:le(e.value)?this.eCurrent.innerHTML=t:Hi(this.eCurrent),!0)}};JV.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`;Rje([A("filterManager")],JV.prototype,"filterManager",void 0);let je=class bn{constructor(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=bn.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const i=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(i)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:bn.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}}createLocalRowEvent(e){return{type:e,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new bn(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,t){const n=le(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const o=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(o)}checkRowSelectable(){const e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)}setRowSelectable(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){const n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}}setId(e){const t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){const n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(bn.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${bn.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e}getGroupKeys(e=!1){const t=[];let n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t}isPixelInRange(e){return!le(this.rowTop)||!le(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_DISPLAYED_CHANGED)))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_DRAGGING_CHANGED)))}setHighlighted(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_HIGHLIGHT_CHANGED)))}setHovered(e){this.hovered!==e&&(this.hovered=e)}isHovered(){return this.hovered}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_MASTER_CHANGED)))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_GROUP_CHANGED)))}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ua(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,n=0;const i=this.__autoHeights;if(i==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let l=i[a.getId()];if(l==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(a.getPinned()){case"left":u=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":u=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:u=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(u.includes(a)){e=!0;return}l=-1}else{e=!0;return}else t=!1;l>n&&(n=l)}),e)||((t||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n==this.rowHeight))return;this.setRowHeight(n);const s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_UI_LEVEL_CHANGED)))}setExpanded(e,t){if(this.expanded===e)return;this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_EXPANDED_CHANGED));const n=Object.assign({},this.createGlobalRowEvent(D.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}}dispatchLocalEvent(e){this.eventService&&this.eventService.dispatchEvent(e)}setDataValue(e,t,n){const o=(()=>{var l;return typeof e!="string"?e:(l=this.beans.columnModel.getGridColumn(e))!==null&&l!==void 0?l:this.beans.columnModel.getPrimaryColumn(e)})(),s=this.getValueFromValueService(o);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(o,s,t,n),!1;const a=this.beans.valueService.setValue(this,o,t,n);return this.dispatchCellChangedEvent(o,t,s),this.checkRowSelectable(),a}getValueFromValueService(e){const t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),a=n&&o&&!s;return this.beans.valueService.getValue(e,this,!1,a)}dispatchEventForSaveValueReadOnly(e,t,n,i){const o={type:D.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)}setGroupValue(e,t){const n=this.beans.columnModel.getGridColumn(e);it(this.groupData)&&(this.groupData={});const i=n.getColId(),o=this.groupData[i];o!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,o))}setAggData(e){const t=cte([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&t.forEach(i=>{const o=this.aggData?this.aggData[i]:void 0,s=n?n[i]:void 0;if(o===s)return;const a=this.beans.columnModel.lookupGridColumn(i);a&&this.dispatchCellChangedEvent(a,o,s)})}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){const n=this.beans.gridOptionsService.is("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(bn.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&rs(this.childrenAfterGroup)}dispatchCellChangedEvent(e,t,n){const i={type:bn.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!!(this.hasChildren()&&!this.footer||this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(t=>t.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var e;let t=!1,n=!1,i=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const s=this.childrenAfterGroup[o];let a=s.isSelected();if(!s.selectable){const l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||t&&n))return t?!0:n?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}selectThisNode(e,t,n="api"){const i=!this.selectable&&e,o=this.selected===e;if(i||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(bn.EVENT_ROW_SELECTED));const a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(bn.EVENT_ROW_SELECTED))}const s=Object.assign(Object.assign({},this.createGlobalRowEvent(D.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(s),!0}setSelected(e,t=!1,n="api"){if(typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})}setSelectedParams(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Object.assign(Object.assign({},e),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}addEventListener(e,t){this.eventService||(this.eventService=new Bs),this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(bn.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(bn.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(e){let t=this,n=!0,i=!1,o=null;for(;n&&!i;){const s=t.parent;le(s)&&t.firstChild?s.rowGroupColumn===e&&(i=!0,o=s):n=!1,t=s}return i?o:null}isFullWidthCell(){if(this.detail)return!0;const e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.key==null)return;const e=[];let t=this;for(;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Set(["eventService","__objectId","sticky"]),t=new bn(this.beans);Object.keys(this).forEach(n=>{e.has(n)||(t[n]=this[n])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};je.ID_PREFIX_ROW_GROUP="row-group-";je.ID_PREFIX_TOP_PINNED="t-";je.ID_PREFIX_BOTTOM_PINNED="b-";je.OBJECT_ID_SEQUENCE=0;je.EVENT_ROW_SELECTED="rowSelected";je.EVENT_DATA_CHANGED="dataChanged";je.EVENT_CELL_CHANGED="cellChanged";je.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";je.EVENT_MASTER_CHANGED="masterChanged";je.EVENT_GROUP_CHANGED="groupChanged";je.EVENT_MOUSE_ENTER="mouseEnter";je.EVENT_MOUSE_LEAVE="mouseLeave";je.EVENT_HEIGHT_CHANGED="heightChanged";je.EVENT_TOP_CHANGED="topChanged";je.EVENT_DISPLAYED_CHANGED="displayedChanged";je.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";je.EVENT_LAST_CHILD_CHANGED="lastChildChanged";je.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";je.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";je.EVENT_EXPANDED_CHANGED="expandedChanged";je.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";je.EVENT_SELECTABLE_CHANGED="selectableChanged";je.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";je.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";je.EVENT_DRAGGING_CHANGED="draggingChanged";var Vne=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let GD=class extends Ve{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0),Vte(this.eCheckbox.getInputElement(),"polite")}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),n=PD(e,t),i=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}onClicked(e,t,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:t,event:n,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",i=>{Dl(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",i=>{Dl(i);const o=this.gridOptionsService.is("groupSelectsFiltered"),s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,o)?this.onClicked(!0,o,i||{})===0&&this.onClicked(!1,o,i):s?this.onClicked(!1,o,i):this.onClicked(!0,o,i||{})}),this.addManagedListener(this.rowNode,je.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,je.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,je.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")}showOrHideSelect(){var e,t,n,i;let o=this.rowNode.selectable;const s=this.getIsVisible();if(o)if(typeof s=="function"){const l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,u=(t=this.column)===null||t===void 0?void 0:t.createColumnFunctionCallbackParams(this.rowNode);o=u?s(Object.assign(Object.assign({},l),u)):!1}else o=s??!1;if((n=this.column)===null||n===void 0?void 0:n.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!o),this.setVisible(!0),this.setDisplayed(!0);return}if(!((i=this.overrides)===null||i===void 0)&&i.removeHidden){this.setDisplayed(o);return}this.setVisible(o)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||t===void 0?void 0:t.checkboxSelection}};Vne([ue("eCheckbox")],GD.prototype,"eCheckbox",void 0);Vne([he],GD.prototype,"postConstruct",null);var Tp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jo,wr;(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(wr||(wr={}));var wg;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(wg||(wg={}));var il;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"})(il||(il={}));let ct=jo=class extends ae{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Ps("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Ps("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Ps("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Ps("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Ps("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Ps("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Ps("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Ps("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Ps("dropNotAllowed",this.gridOptionsService,null)}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragService.addDragSource(n)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(n=>n.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Zo(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var n,i,o,s;const a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const u=this.dropTargets.filter(d=>this.isMouseOnDropTarget(e,d)),c=this.findCurrentDropTarget(e,u);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,l,t),this.lastDropTarget!==null&&c===null&&((i=(n=this.dragSource).onGridExit)===null||i===void 0||i.call(n,this.dragItem)),this.lastDropTarget===null&&c!==null&&((s=(o=this.dragSource).onGridEnter)===null||s===void 0||s.call(o,this.dragItem)),this.enterDragTargetIfExists(c,e,a,l,t),this.lastDropTarget=c;else if(c&&c.onDragging){const d=this.createDropTargetEvent(c,e,a,l,t);c.onDragging(d)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}allContainersIntersect(e,t){for(const n of t){const i=n.getBoundingClientRect();if(i.width===0||i.height===0)return!1;const o=e.clientX>=i.left&&e.clientX<i.right,s=e.clientY>=i.top&&e.clientY<i.bottom;if(!o||!s)return!1}return!0}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;for(const o of n)if(this.allContainersIntersect(e,o)){i=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:i&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const o=this.gridOptionsService.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const s of o)for(const a of t)if(_te(this.getAllContainersFromDropTarget(a)).indexOf(s)!==-1)return a;return null}enterDragTargetIfExists(e,t,n,i,o){if(e){if(e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,i,o);e.onDragEnter(s)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const o=this.createDropTargetEvent(this.lastDropTarget,e,t,n,i);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,n=e.clientX;return t===n?null:t>n?il.Left:il.Right}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,n=e.clientY;return t===n?null:t>n?wg.Up:wg.Down}createDropTargetEvent(e,t,n,i,o){const s=e.getContainer(),a=s.getBoundingClientRect(),{gridApi:l,columnApi:u,dragItem:c,dragSource:d}=this,h=t.clientX-a.left,p=t.clientY-a.top;return{event:t,x:h,y:p,vDirection:i,hDirection:n,dragSource:d,fromNudge:o,dragItem:c,api:l,columnApi:u,dropZoneTarget:s}}positionGhost(e){const t=this.eGhost;if(!t)return;const i=t.getBoundingClientRect().height,o=Qte()-2,s=Xte()-2,a=DV(t.offsetParent),{clientY:l,clientX:u}=e;let c=l-a.top-i/2,d=u-a.left-10;const h=this.gridOptionsService.getDocument(),p=h.defaultView||window,f=p.pageYOffset||h.documentElement.scrollTop,g=p.pageXOffset||h.documentElement.scrollLeft;o>0&&d+t.clientWidth>o+g&&(d=o+g-t.clientWidth),d<0&&(d=0),s>0&&c+t.clientHeight>s+f&&(c=s+f-t.clientHeight),c<0&&(c=0),t.style.left=`${d}px`,t.style.top=`${c}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=di(jo.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let n=this.dragSource.dragItemName;wD(n)&&(n=n()),t.innerHTML=xr(n)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gridOptionsService.getDocument();let o=null;try{o=i.fullscreenElement}catch{}finally{if(!o){const s=this.gridOptionsService.getRootNode(),a=s.querySelector("body");a?o=a:s instanceof ShadowRoot?o=s:o=s==null?void 0:s.documentElement}}this.eGhostParent=o,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){Hi(this.eGhostIcon);let n=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():jo.ICON_NOT_ALLOWED),e){case jo.ICON_PINNED:n=this.ePinnedIcon;break;case jo.ICON_MOVE:n=this.eMoveIcon;break;case jo.ICON_LEFT:n=this.eLeftIcon;break;case jo.ICON_RIGHT:n=this.eRightIcon;break;case jo.ICON_GROUP:n=this.eGroupIcon;break;case jo.ICON_AGGREGATE:n=this.eAggregateIcon;break;case jo.ICON_PIVOT:n=this.ePivotIcon;break;case jo.ICON_NOT_ALLOWED:n=this.eDropNotAllowedIcon;break;case jo.ICON_HIDE:n=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(n===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&n&&this.eGhostIcon.appendChild(n)}};ct.ICON_PINNED="pinned";ct.ICON_MOVE="move";ct.ICON_LEFT="left";ct.ICON_RIGHT="right";ct.ICON_GROUP="group";ct.ICON_AGGREGATE="aggregate";ct.ICON_PIVOT="pivot";ct.ICON_NOT_ALLOWED="notAllowed";ct.ICON_HIDE="hide";ct.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;Tp([A("dragService")],ct.prototype,"dragService",void 0);Tp([A("mouseEventService")],ct.prototype,"mouseEventService",void 0);Tp([A("columnApi")],ct.prototype,"columnApi",void 0);Tp([A("gridApi")],ct.prototype,"gridApi",void 0);Tp([he],ct.prototype,"init",null);Tp([Si],ct.prototype,"clearDragSourceParamsList",null);ct=jo=Tp([Re("dragAndDropService")],ct);var Rw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Bh=class extends Ve{constructor(e,t,n,i,o,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=o,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(vr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gridOptionsService.is("rowDragManaged")?new $ne(this,this.beans,this.rowNode,this.column):new kne(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.is("treeData")&&e&&Mt(()=>console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true"),"RowDragComp.managedAndTreeData")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getRowDragText(this.column),n=this.localeService.getLocaleTextFunc();this.dragSource={type:wr.RowDrag,eElement:this.getGui(),dragItemName:()=>{var i;const o=this.getDragItem(),s=((i=o.rowNodes)===null||i===void 0?void 0:i.length)||1;return t?t(o,s):s===1?this.cellValueFn():`${s} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};Rw([A("beans")],Bh.prototype,"beans",void 0);Rw([he],Bh.prototype,"postConstruct",null);Rw([Si],Bh.prototype,"removeDragSource",null);let Hne=class extends ae{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=wD(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(n,t)):(this.parent.setDisplayed(n,t),this.parent.setVisible(!0,t))}}},kne=class extends Hne{constructor(e,t,n,i){super(e,n,i),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)}};Rw([he],kne.prototype,"postConstruct",null);let $ne=class extends Hne{constructor(e,t,n,i){super(e,n,i),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,D.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,D.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=t&&t.shouldPreventRowMove(),i=this.gridOptionsService.is("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),s=n&&!o||i;this.setDisplayedOrVisible(s)}};Rw([he],$ne.prototype,"postConstruct",null);var Tw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let im=class extends ae{init(e,t,n,i,o,s,a){this.params=a,this.eGui=t,this.eCheckbox=n,this.eExpanded=i,this.eContracted=o,this.comp=e,this.compClass=s;const{node:l,value:u,colDef:c}=a;if(!this.isTopLevelFooter()){if(this.isEmbeddedRowMismatch())return;const p=(c==null?void 0:c.showRowGroup)===!0,f=u==null&&!l.master;if(!p&&f)return;if(l.footer&&this.gridOptionsService.is("groupHideOpenParents")){const g=c&&c.showRowGroup,v=l.rowGroupColumn&&l.rowGroupColumn.getColId();if(g!==v)return}}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eParentOfValue:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){kte(t);return}const n=()=>{ca(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,je.EVENT_EXPANDED_CHANGED,n)||null,n()}isTopLevelFooter(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;const e=this.params.colDef;if(e==null||e.showRowGroup===!0)return!0;const n=this.columnModel.getRowGroupColumns();return!n||n.length===0?!0:n[0].getId()===e.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",n=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!n:this.columnModel.isPinningLeft()?!e:!n}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let n=t.parent;for(;n!=null;){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}}it(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const o=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(o)){this.showingValueForOpenedParent=!1;return}}const i=e.groupData[t.getId()]!=null;this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){const e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),{valueFormatted:n,value:i}=e;let o=n;o==null&&(i===""&&this.params.node.group?o=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):o=i??null),this.comp.setInnerRenderer(t,o)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const i=this.params,{value:o,node:s}=this.params,a=this.valueFormatterService.formatValue(e,s,o);return Object.assign(Object.assign({},i),{valueFormatted:a})}addFooterValue(){const e=this.params.footerValueGetter;let t="";if(e){const i=uV(this.params);i.value=this.params.value,typeof e=="function"?t=e(i):typeof e=="string"?t=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(this.params.value!=null?this.params.value:"");const n=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(n,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),n=a=>a&&a.componentClass==this.compClass;if(t&&!n(t))return t;const i=this.displayedGroupNode.rowGroupColumn,o=i?i.getColDef():void 0;if(!o)return;const s=this.userComponentFactory.getCellRendererDetails(o,e);if(s&&!n(s))return s;if(n(s)&&o.cellRendererParams&&o.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(o.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,je.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(i)}isShowRowGroupForThisRow(){if(this.gridOptionsService.is("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,n=vr("groupExpanded",this.gridOptionsService,null),i=vr("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);const o=t.eGridCell;!(((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(t.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,je.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const a=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,je.EVENT_ALL_CHILDREN_COUNT_CHANGED,a),this.addManagedListener(this.displayedGroupNode,je.EVENT_MASTER_CHANGED,a),this.addManagedListener(this.displayedGroupNode,je.EVENT_GROUP_CHANGED,a),this.addManagedListener(this.displayedGroupNode,je.EVENT_HAS_CHILDREN_CHANGED,a)}onExpandClicked(e){fa(e)||(Dl(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,n=!t.expanded;!n&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(n,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const i=this.params.column;return i!=null&&typeof i.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:n}=this,{node:i}=e,o=this.isExpandable();if(o){const c=this.showingValueForOpenedParent?!0:i.expanded;this.comp.setExpandedDisplayed(c),this.comp.setContractedDisplayed(!c)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const s=n.isPivotMode(),a=s&&t.leafGroup,l=o&&!a,u=i.footer&&i.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",l),this.comp.addOrRemoveCssClass("ag-row-group",l),s?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",a):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!l)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,je.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gridOptionsService.is("groupHideOpenParents"))return;const e=this.params,t=e.node,n=!!e.colDef,i=this.gridOptionsService.is("treeData"),s=!n||i||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new Bh(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const n=new GD;this.getContext().createBean(n),n.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(n))}this.comp.setCheckboxVisible(t)}onKeyDown(e){!(e.key===Y.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(fa(e))return;HT(this.eExpanded,e)||HT(this.eContracted,e)||this.onExpandOrContract(e)}};Tw([A("expressionService")],im.prototype,"expressionService",void 0);Tw([A("valueFormatterService")],im.prototype,"valueFormatterService",void 0);Tw([A("columnModel")],im.prototype,"columnModel",void 0);Tw([A("userComponentFactory")],im.prototype,"userComponentFactory",void 0);Tw([A("ctrlsService")],im.prototype,"ctrlsService",void 0);var Pw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let sd=class Bne extends Ve{constructor(){super(Bne.TEMPLATE)}init(e){const t={setInnerRenderer:(s,a)=>this.setRenderDetails(s,a),setChildCount:s=>this.eChildCount.innerHTML=s,addOrRemoveCssClass:(s,a)=>this.addOrRemoveCssClass(s,a),setContractedDisplayed:s=>$t(this.eContracted,s),setExpandedDisplayed:s=>$t(this.eExpanded,s),setCheckboxVisible:s=>this.eCheckbox.classList.toggle("ag-invisible",!s)},n=this.createManagedBean(new im),i=!e.colDef,o=this.getGui();n.init(t,o,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),i&&jr(o,"gridcell")}setRenderDetails(e,t){if(e){const n=e.newAgStackInstance();if(!n)return;n.then(i=>{if(!i)return;const o=()=>this.context.destroyBean(i);this.isAlive()?(this.eValue.appendChild(i.getGui()),this.addDestroyFunc(o)):o()})}else this.eValue.innerText=t}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};sd.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;Pw([ue("eExpanded")],sd.prototype,"eExpanded",void 0);Pw([ue("eContracted")],sd.prototype,"eContracted",void 0);Pw([ue("eCheckbox")],sd.prototype,"eCheckbox",void 0);Pw([ue("eValue")],sd.prototype,"eValue",void 0);Pw([ue("eChildCount")],sd.prototype,"eChildCount",void 0);var jne=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let VD=class Wne extends Ve{constructor(){super(Wne.TEMPLATE)}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=vr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}};VD.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;jne([ue("eLoadingIcon")],VD.prototype,"eLoadingIcon",void 0);jne([ue("eLoadingText")],VD.prototype,"eLoadingText",void 0);let Une=class zne extends Ve{constructor(){super()}destroy(){super.destroy()}init(e){var t;const n=(t=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&t!==void 0?t:zne.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.localeService.getLocaleTextFunc(),o=n.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(o)}};Une.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>';let Kne=class Yne extends Ve{constructor(){super()}destroy(){super.destroy()}init(e){var t;const n=(t=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&t!==void 0?t:Yne.DEFAULT_NO_ROWS_TEMPLATE,i=this.localeService.getLocaleTextFunc(),o=n.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(o)}};Kne.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>';let Tje=class extends Rp{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().innerHTML=xr(t)}},Pje=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")}getValue(){const e=this.eInput.getValue();if(!le(e)&&!le(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},Oje=class extends bw{constructor(){super(new Pje)}},Dje=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!le(e)&&!le(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return bu(e,!1)}},Aje=class extends bw{constructor(){super(new Dje)}};var xje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ije=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!le(e)&&!le(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,t;return bu((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction()(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction()(e)}},qne=class extends bw{constructor(){super(new Ije(()=>this.dataTypeService))}};xje([A("dataTypeService")],qne.prototype,"dataTypeService",void 0);var Fje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ZV=class Qne extends Ve{constructor(){super(Qne.TEMPLATE)}init(e){this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",n=>{if(Dl(n),this.eCheckbox.isDisabled())return;const i=this.eCheckbox.getValue();this.onCheckboxChanged(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",n=>{Dl(n)});const t=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",n=>{if(n.key===Y.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===t.activeElement&&this.eCheckbox.toggle();const i=this.eCheckbox.getValue();this.onCheckboxChanged(i),n.preventDefault()}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var t,n,i;let o,s=!0;if(e.node.group&&e.column){const d=e.column.getColId();d.startsWith(yg)?o=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[d]!==void 0?o=(t=e.value)!==null&&t!==void 0?t:void 0:s=!1}else o=(n=e.value)!==null&&n!==void 0?n:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(o);const a=e.disabled!=null?e.disabled:!(!((i=e.column)===null||i===void 0)&&i.isCellEditable(e.node));this.eCheckbox.setDisabled(a);const l=this.localeService.getLocaleTextFunc(),u=PD(l,o),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(e){const{column:t,node:n,rowIndex:i,value:o}=this.params,s={type:D.EVENT_CELL_EDITING_STARTED,column:t,colDef:t==null?void 0:t.getColDef(),data:n.data,node:n,rowIndex:i,rowPinned:n.rowPinned,value:o};this.eventService.dispatchEvent(s);const a=this.params.node.setDataValue(this.params.column,e,"edit"),l={type:D.EVENT_CELL_EDITING_STOPPED,column:t,colDef:t==null?void 0:t.getColDef(),data:n.data,node:n,rowIndex:i,rowPinned:n.rowPinned,value:o,oldValue:o,newValue:e,valueChanged:a};this.eventService.dispatchEvent(l)}};ZV.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;Fje([ue("eCheckbox")],ZV.prototype,"eCheckbox",void 0);var Mje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Xne=class extends Rp{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;const n=(t=e.value)!==null&&t!==void 0?t:void 0;this.eCheckbox.setValue(n),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(n),this.addManagedListener(this.eCheckbox,D.EVENT_FIELD_VALUE_CHANGED,i=>this.setAriaLabel(i.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),n=PD(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}};Mje([ue("eCheckbox")],Xne.prototype,"eCheckbox",void 0);var e1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let WT=class extends ae{constructor(){super(...arguments),this.agGridDefaults={agDateInput:Rne,agColumnHeader:ro,agColumnGroupHeader:_w,agSortIndicator:Ll,agTextColumnFloatingFilter:yje,agNumberColumnFloatingFilter:vje,agDateColumnFloatingFilter:ND,agReadOnlyFloatingFilter:HV,agAnimateShowChangeCellRenderer:XV,agAnimateSlideCellRenderer:JV,agGroupCellRenderer:sd,agGroupRowRenderer:sd,agLoadingCellRenderer:VD,agCheckboxCellRenderer:ZV,agCellEditor:Kz,agTextCellEditor:Kz,agNumberCellEditor:Oje,agDateCellEditor:Aje,agDateStringCellEditor:qne,agSelectCellEditor:QV,agLargeTextCellEditor:qV,agCheckboxCellEditor:Xne,agTextColumnFilter:yo,agNumberColumnFilter:zV,agDateColumnFilter:LD,agLoadingOverlay:Une,agNoRowsOverlay:Kne,agTooltipComponent:Tje},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:_e.SetFilterModule,agSetColumnFloatingFilter:_e.SetFilterModule,agMultiColumnFilter:_e.MultiFilterModule,agMultiColumnFloatingFilter:_e.MultiFilterModule,agGroupColumnFilter:_e.RowGroupingModule,agGroupColumnFloatingFilter:_e.RowGroupingModule,agRichSelect:_e.RichSelectModule,agRichSelectCellEditor:_e.RichSelectModule,agDetailCellRenderer:_e.MasterDetailModule,agSparklineCellRenderer:_e.SparklinesModule},this.jsComps={}}init(){this.gridOptions.components!=null&&hr(this.gridOptions.components,(e,t)=>this.registerJsComponent(e,t))}registerDefaultComponent(e,t){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const n=(l,u)=>({componentFromFramework:u,component:l}),i=this.getFrameworkOverrides().frameworkComponent(t,this.gridOptions.components);if(i!=null)return n(i,!0);const o=this.jsComps[t];if(o){const l=this.getFrameworkOverrides().isFrameworkComponent(o);return n(o,l)}const s=this.agGridDefaults[t];if(s)return n(s,!1);const a=this.enterpriseAgDefaultCompsModule[t];return a?Be.__assertRegistered(a,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):Mt(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const n=[...Object.keys(this.agGridDefaults).filter(o=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(o)),...Object.keys(this.jsComps)],i=yw(t,n,!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),i.length>0&&console.warn(`         Did you mean: [${i.slice(0,3)}]?`),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")}};e1([A("gridOptions")],WT.prototype,"gridOptions",void 0);e1([he],WT.prototype,"init",null);WT=e1([Re("userComponentRegistry")],WT);const Lje={propertyName:"dateComponent",cellRenderer:!1},Nje={propertyName:"headerComponent",cellRenderer:!1},Gje={propertyName:"headerGroupComponent",cellRenderer:!1},Yz={propertyName:"cellRenderer",cellRenderer:!0},Vje={propertyName:"cellEditor",cellRenderer:!1},qz={propertyName:"innerRenderer",cellRenderer:!0},Hje={propertyName:"loadingOverlayComponent",cellRenderer:!1},kje={propertyName:"noRowsOverlayComponent",cellRenderer:!1},$je={propertyName:"tooltipComponent",cellRenderer:!1},CL={propertyName:"filter",cellRenderer:!1},Bje={propertyName:"floatingFilterComponent",cellRenderer:!1},jje={propertyName:"toolPanel",cellRenderer:!1},Wje={propertyName:"statusPanel",cellRenderer:!1},Uje={propertyName:"fullWidthCellRenderer",cellRenderer:!0},zje={propertyName:"loadingCellRenderer",cellRenderer:!0},Kje={propertyName:"groupRowRenderer",cellRenderer:!0},Yje={propertyName:"detailCellRenderer",cellRenderer:!0};let Jne=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};Jne.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var om=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let jh=class extends ae{getHeaderCompDetails(e,t){return this.getCompDetails(e,Nje,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,Gje,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Uje,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,zje,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Kje,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,Yje,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,qz,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,qz,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,Yz,null,t)}getCellEditorDetails(e,t){return this.getCompDetails(e,Vje,"agCellEditor",t,!0)}getFilterDetails(e,t,n){return this.getCompDetails(e,CL,n,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,Lje,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,Hje,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,kje,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,$je,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,Yz,null,t)}getFloatingFilterCompDetails(e,t,n){return this.getCompDetails(e,Bje,n,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,jje,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,Wje,null,t,!0)}getCompDetails(e,t,n,i,o=!1){const{propertyName:s,cellRenderer:a}=t;let{compName:l,jsComp:u,fwComp:c,paramsFromSelector:d,popupFromSelector:h,popupPositionFromSelector:p}=this.getCompKeys(e,t,i);const f=C=>{const w=this.userComponentRegistry.retrieve(s,C);w&&(u=w.componentFromFramework?void 0:w.component,c=w.componentFromFramework?w.component:void 0)};if(l!=null&&f(l),u==null&&c==null&&n!=null&&f(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),!u&&!c){o&&console.error(`AG Grid: Could not find component ${l}, did you forget to configure this component?`);return}const g=this.mergeParamsWithApplicationProvidedParams(e,t,i,d),v=u==null,y=u||c;return{componentFromFramework:v,componentClass:y,params:g,type:t,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(y,v,g,t)}}getCompKeys(e,t,n){const{propertyName:i}=t;let o,s,a,l,u,c;if(e){const d=e,h=d[i+"Selector"],p=h?h(n):null,f=g=>{typeof g=="string"?o=g:g!=null&&g!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(g)?a=g:s=g)};p?(f(p.component),l=p.params,u=p.popup,c=p.popupPosition):f(d[i])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}newAgStackInstance(e,t,n,i){const o=i.propertyName,s=!t;let a;if(s)a=new e;else{const u=this.componentMetadataProvider.retrieve(o);a=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,i)}const l=this.initComponent(a,n);return l==null?zn.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,t,n,i=null){const o={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};ss(o,n);const s=e,a=s&&s[t.propertyName+"Params"];if(typeof a=="function"){const l=a(n);ss(o,l)}else typeof a=="object"&&ss(o,a);return ss(o,i),o}initComponent(e,t){if(this.context.createBean(e),e.init!=null)return e.init(t)}getDefaultFloatingFilterType(e,t){if(e==null)return null;let n=null,{compName:i,jsComp:o,fwComp:s}=this.getCompKeys(e,CL);return i?n=Jne.getFloatingFilterType(i):o==null&&s==null&&e.filter===!0&&(n=t()),n}};om([A("gridOptions")],jh.prototype,"gridOptions",void 0);om([A("agComponentUtils")],jh.prototype,"agComponentUtils",void 0);om([A("componentMetadataProvider")],jh.prototype,"componentMetadataProvider",void 0);om([A("userComponentRegistry")],jh.prototype,"userComponentRegistry",void 0);om([xt("frameworkComponentWrapper")],jh.prototype,"frameworkComponentWrapper",void 0);jh=om([Re("userComponentFactory")],jh);var UT;(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"})(UT||(UT={}));var t1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let zT=class extends ae{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(n=>n.dragSource===e);t&&(this.removeListener(t),Zo(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:o}=e;n.addEventListener("mousedown",t);let s=null;const a=this.gridOptionsService.is("suppressTouch");i&&!a&&(s=l=>{PV(l.target)||(l.cancelable&&(l.preventDefault(),o&&l.stopPropagation()),this.onTouchStart(e,l))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=u=>this.onTouchMove(u,e.eElement),o=u=>this.onTouchUp(u,e.eElement),s=u=>{u.cancelable&&u.preventDefault()},a=t.target,l=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:s,options:{passive:!1}},{target:a,type:"touchmove",listener:i,options:{passive:!0}},{target:a,type:"touchend",listener:o,options:{passive:!0}},{target:a,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=u=>this.onMouseMove(u,e.eElement),o=u=>this.onMouseUp(u,e.eElement),s=u=>u.preventDefault(),a=this.gridOptionsService.getRootNode(),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:o},{target:a,type:"contextmenu",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:o,options:s}=t;n.addEventListener(i,o,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:o,options:s}=t;n.removeEventListener(i,o,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=le(n)?n:4;return LV(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const i={type:D.EVENT_DRAG_STARTED,target:n};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gridOptionsService.is("enableCellTextSelection"),n=_a(),i=e.type==="mousemove";return(t&&i||n)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,n=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(n!=null&&n.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const n={type:D.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(n=>n()),this.dragEndFunctions.length=0}};t1([A("mouseEventService")],zT.prototype,"mouseEventService",void 0);t1([Si],zT.prototype,"removeAllListeners",null);zT=t1([Re("dragService")],zT);let Zne=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<i.left+o,this.tickRight=e.clientX>i.right-o,this.tickUp=e.clientY<i.top+o&&!n,this.tickDown=e.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};var ere=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const DI="ag-list-item-hovered";let n1=class extends ae{constructor(e,t,n){super(),this.comp=e,this.virtualList=t,this.params=n,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>ct[this.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"],getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new Zne({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),n=this.virtualList.getComponentAt(t.rowIndex);if(!n)return;const i=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,fL(i,DI),fL(i,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(t).paddingTop),i=this.virtualList.getRowHeight(),o=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-n+o)/i),a=this.params.getNumRows(this.comp)-1,l=Math.min(a,s)|0;return{rowIndex:l,position:Math.round(s)>s||s>a?"bottom":"top",component:this.virtualList.getComponentAt(l)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${DI}`).forEach(t=>{[DI,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(n=>{t.classList.remove(n)})}),this.lastHoveredListItem=null}};ere([A("dragAndDropService")],n1.prototype,"dragAndDropService",void 0);ere([he],n1.prototype,"postConstruct",null);var fu;(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"})(fu||(fu={}));var Zt;(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"})(Zt||(Zt={}));var Xt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function dh(r){const e=r;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():r}let Kt=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}registerOverlayWrapperComp(e){this.overlayWrapperComp=e}registerSideBarComp(e){this.sideBarComp=e}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()})}__getAlignedGridService(){return this.alignedGridsService}__getContext(){return this.context}getSetterMethod(e){return`set${e.charAt(0).toUpperCase()}${e.substring(1)}`}__setPropertyOnly(e,t){return this.gos.__setPropertyOnly(e,t)}__updateProperty(e,t,n,i=void 0){this.gos.set(e,t,n,{},i);const o=this.getSetterMethod(e),s=this;s[o]&&s[o](t)}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){this.detailGridInfoMap[e]=void 0}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;hr(this.detailGridInfoMap,(n,i)=>{le(i)&&(e(i,t),t++)})}getDataAsCsv(e){if(Be.__assertRegistered(_e.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Be.__assertRegistered(_e.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}getExcelExportMode(e){const t=this.gos.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},t,e).exportMode}assertNotExcelMultiSheet(e,t){if(!Be.__assertRegistered(_e.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;const n=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(n)===UT.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(!Be.__assertRegistered(_e.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return;const t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(UT.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Be.__assertRegistered(_e.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){if(Be.__assertRegistered(_e.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)}setTreeData(e){this.gos.set("treeData",e)}setGridAriaProperty(e,t){if(!e)return;const n=this.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${e}`;t===null?n.removeAttribute(i):n.setAttribute(i,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}setServerSideDatasource(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")}setCacheBlockSize(e){this.serverSideRowModel?(this.gos.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")}setDatasource(e){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")}setViewportDatasource(e){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")}setRowData(e){if(this.immutableService==null){this.logMissingRowModel("setRowData","clientSide");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))}setPinnedTopRowData(e){this.pinnedRowModel.setPinnedTopRowData(e)}setPinnedBottomRowData(e){this.pinnedRowModel.setPinnedBottomRowData(e)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}setColumnDefs(e,t="api"){this.columnModel.setColumnDefs(e,t),this.gos.set("columnDefs",e,!0,{source:t})}setAutoGroupColumnDef(e,t="api"){this.gos.set("autoGroupColumnDef",e,!0,{source:t})}setDefaultColDef(e,t="api"){this.gos.set("defaultColDef",e,!0,{source:t})}setColumnTypes(e,t="api"){this.gos.set("columnTypes",e,!0,{source:t})}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}setAlwaysShowHorizontalScroll(e){this.gos.set("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.gos.set("alwaysShowVerticalScroll",e)}refreshCells(e={}){this.rowRenderer.refreshCells(e)}flashCells(e={}){this.rowRenderer.flashCells(e)}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)}setFunctionsReadOnly(e){this.gos.set("functionsReadOnly",e)}refreshHeader(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh())}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return this.rowModel}setRowNodeExpanded(e,t,n){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,n),e.setExpanded(t))}onGroupExpandedOrCollapsed(){if(it(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.clientSideRowModel.refreshModel({step:Zt.MAP})}refreshClientSideRowModel(e){if(it(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")}addRenderedRowListener(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)}getQuickFilter(){return this.gos.get("quickFilterText")}setQuickFilter(e){this.gos.set("quickFilterText",e)}setExcludeHiddenColumnsFromQuickFilter(e){Ds("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)}setIncludeHiddenColumnsInQuickFilter(e){this.gos.set("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.gos.set("quickFilterParser",e)}setQuickFilterMatcher(e){this.gos.set("quickFilterMatcher",e)}getAdvancedFilterModel(){return Be.__assertRegistered(_e.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.gos.set("advancedFilterModel",e)}setEnableAdvancedFilter(e){this.gos.set("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.gos.set("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.gos.set("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.gos.set("advancedFilterBuilderParams",e)}showAdvancedFilterBuilder(){Be.__assertRegistered(_e.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(a=>a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:i,newValue:o}=e,s=n;this.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:o})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return it(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()}setServerSideSelectionState(e){if(it(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setServerSideSelectionState(e)}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}sizeColumnsToFit(e){this.gridBodyCtrl.sizeColumnsToFit(e)}showLoadingOverlay(){this.overlayWrapperComp.showLoadingOverlay()}showNoRowsOverlay(){this.overlayWrapperComp.showNoRowsOverlay()}hideOverlay(){this.overlayWrapperComp.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(it(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)}ensureIndexVisible(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)}ensureNodeVisible(e,t=null){this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)}forEachLeafNode(e){if(it(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){if(it(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(it(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return this.filterManager.getFilterInstance(e,t)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!Be.__assertRegistered(_e.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return;const t=this.statusBarService.getStatusPanel(e);return dh(t)}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.filterManager.setFilterModel(e)}getFilterModel(){return this.filterManager.getFilterModel()}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})}setSuppressRowDrag(e){this.gos.set("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.gos.set("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.gos.set("suppressRowClickSelection",e)}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}setHeaderHeight(e){this.gos.set("headerHeight",e)}setDomLayout(e){this.gos.set("domLayout",e)}setEnableCellTextSelection(e){this.gridBodyCtrl.setCellTextSelection(e)}setFillHandleDirection(e){this.gos.set("fillHandleDirection",e)}setGroupHeaderHeight(e){this.gos.set("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.gos.set("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.gos.set("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.gos.set("pivotGroupHeaderHeight",e)}setPivotMode(e){this.columnModel.setPivotMode(e)}setAnimateRows(e){this.gos.set("animateRows",e)}setIsExternalFilterPresent(e){this.gos.set("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.gos.set("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.gos.set("navigateToNextCell",e)}setTabToNextCell(e){this.gos.set("tabToNextCell",e)}setTabToNextHeader(e){this.gos.set("tabToNextHeader",e)}setNavigateToNextHeader(e){this.gos.set("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.gos.set("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.gos.set("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.gos.set("getBusinessKeyForNode",e)}setGetChildCount(e){this.gos.set("getChildCount",e)}setProcessRowPostCreate(e){this.gos.set("processRowPostCreate",e)}setGetRowId(e){this.gos.set("getRowId",e)}setGetRowClass(e){this.gos.set("getRowClass",e)}setIsFullWidthRow(e){this.gos.set("isFullWidthRow",e)}setIsRowSelectable(e){this.gos.set("isRowSelectable",e)}setIsRowMaster(e){this.gos.set("isRowMaster",e)}setPostSortRows(e){this.gos.set("postSortRows",e)}setGetDocument(e){this.gos.set("getDocument",e)}setGetContextMenuItems(e){this.gos.set("getContextMenuItems",e)}setGetMainMenuItems(e){this.gos.set("getMainMenuItems",e)}setProcessCellForClipboard(e){this.gos.set("processCellForClipboard",e)}setSendToClipboard(e){this.gos.set("sendToClipboard",e)}setProcessCellFromClipboard(e){this.gos.set("processCellFromClipboard",e)}setProcessSecondaryColDef(e){Ds("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)}setProcessSecondaryColGroupDef(e){Ds("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)}setProcessPivotResultColDef(e){this.gos.set("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.gos.set("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.gos.set("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.gos.set("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.gos.set("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.gos.set("paginationNumberFormatter",e)}setGetServerSideStoreParams(e){Ds("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)}setGetServerSideGroupLevelParams(e){this.gos.set("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.gos.set("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.gos.set("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.gos.set("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.gos.set("getServerSideGroupKey",e)}setGetRowStyle(e){this.gos.set("getRowStyle",e)}setGetRowHeight(e){this.gos.set("getRowHeight",e)}assertSideBarLoaded(e){return Be.__assertRegistered(_e.SideBarModule,"api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const t=this.sideBarComp.getToolPanelInstance(e);return dh(t)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()}setSideBar(e){this.gos.set("sideBar",e)}setSuppressClipboardPaste(e){this.gos.set("suppressClipboardPaste",e)}resetRowHeights(){if(le(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setGroupRemoveSingleChildren(e){this.gos.set("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.gos.set("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.gos.set("groupDisplayType",e)}setGroupIncludeFooter(e){this.gos.set("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.gos.set("groupIncludeTotalFooter",e)}setRowClass(e){this.gos.set("rowClass",e)}setDeltaSort(e){this.gos.set("deltaSort",e)}setRowCount(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){let n=this.columnModel.getPrimaryColumn(e);return it(n)&&(n=this.columnModel.getGridColumn(e)),it(n)?null:this.valueService.getValue(n,t)}addEventListener(e,t){const n=this.gos.useAsyncEvents();this.eventService.addEventListener(e,t,n)}addGlobalListener(e){const t=this.gos.useAsyncEvents();this.eventService.addGlobalListener(e,t)}removeEventListener(e,t){const n=this.gos.useAsyncEvents();this.eventService.removeEventListener(e,t,n)}removeGlobalListener(e){const t=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(e,t)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){if(this.destroyCalled)return;this.destroyCalled=!0,this.dispatchEvent({type:D.EVENT_GRID_PRE_DESTROYED});const e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(dte.bind(window,this,"Grid API"),100)}warnIfDestroyed(e){return this.destroyCalled&&console.warn(`AG Grid: Grid API method ${e} was called on a grid that was destroyed.`),this.destroyCalled}resetQuickFilter(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Be.__assertRegistered(_e.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Be.__assertRegistered(_e.RangeSelectionModule,"api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Be.__assertRegistered(_e.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}getChartModels(){if(Be.__assertRegistered(_e.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()}getChartRef(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)}getChartImageDataURL(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)}downloadChart(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)}openChartToolPanel(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)}closeChartToolPanel(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)}createRangeChart(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)}createPivotChart(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)}createCrossFilterChart(e){if(Be.__assertRegistered(_e.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)}updateChart(e){Be.__assertRegistered(_e.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)}restoreChart(e,t){if(Be.__assertRegistered(_e.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)}copyToClipboard(e){Be.__assertRegistered(_e.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)}cutToClipboard(e){Be.__assertRegistered(_e.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")}copySelectedRowsToClipboard(e){Be.__assertRegistered(_e.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)}copySelectedRangeToClipboard(e){Be.__assertRegistered(_e.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)}copySelectedRangeDown(){Be.__assertRegistered(_e.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()}pasteFromClipboard(){Be.__assertRegistered(_e.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()}showColumnMenuAfterButtonClick(e,t){const n=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t,"columnMenu")}showColumnMenuAfterMouseClick(e,t){let n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error(`AG Grid: column '${e}' not found`);return}this.menuFactory.showMenuAfterMouseEvent(n,t)}hidePopupMenu(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()}setPopupParent(e){this.gos.set("popupParent",e)}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(dh)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(dh)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};e.rowPinned==null&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);const o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)}applyServerSideRowData(e){var t,n;const i=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(i<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(e)}applyTransactionAsync(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(e,t)}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()}setSuppressModelUpdateAfterUpdateTransaction(e){this.gos.set("suppressModelUpdateAfterUpdateTransaction",e)}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}refreshServerSideStore(e){return Ds("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)}getServerSideStoreState(){return Ds("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}setDataTypeDefinitions(e){this.gos.set("dataTypeDefinitions",e)}setPagination(e){this.gos.set("pagination",e)}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationSetPageSize(e){this.gos.set("paginationPageSize",e)}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}};Xt([xt("immutableService")],Kt.prototype,"immutableService",void 0);Xt([xt("csvCreator")],Kt.prototype,"csvCreator",void 0);Xt([xt("excelCreator")],Kt.prototype,"excelCreator",void 0);Xt([A("rowRenderer")],Kt.prototype,"rowRenderer",void 0);Xt([A("navigationService")],Kt.prototype,"navigationService",void 0);Xt([A("filterManager")],Kt.prototype,"filterManager",void 0);Xt([A("columnModel")],Kt.prototype,"columnModel",void 0);Xt([A("selectionService")],Kt.prototype,"selectionService",void 0);Xt([A("gridOptionsService")],Kt.prototype,"gos",void 0);Xt([A("valueService")],Kt.prototype,"valueService",void 0);Xt([A("alignedGridsService")],Kt.prototype,"alignedGridsService",void 0);Xt([A("eventService")],Kt.prototype,"eventService",void 0);Xt([A("pinnedRowModel")],Kt.prototype,"pinnedRowModel",void 0);Xt([A("context")],Kt.prototype,"context",void 0);Xt([A("rowModel")],Kt.prototype,"rowModel",void 0);Xt([A("sortController")],Kt.prototype,"sortController",void 0);Xt([A("paginationProxy")],Kt.prototype,"paginationProxy",void 0);Xt([A("focusService")],Kt.prototype,"focusService",void 0);Xt([A("dragAndDropService")],Kt.prototype,"dragAndDropService",void 0);Xt([xt("rangeService")],Kt.prototype,"rangeService",void 0);Xt([xt("clipboardService")],Kt.prototype,"clipboardService",void 0);Xt([xt("aggFuncService")],Kt.prototype,"aggFuncService",void 0);Xt([A("menuFactory")],Kt.prototype,"menuFactory",void 0);Xt([xt("contextMenuFactory")],Kt.prototype,"contextMenuFactory",void 0);Xt([A("valueCache")],Kt.prototype,"valueCache",void 0);Xt([A("animationFrameService")],Kt.prototype,"animationFrameService",void 0);Xt([xt("statusBarService")],Kt.prototype,"statusBarService",void 0);Xt([xt("chartService")],Kt.prototype,"chartService",void 0);Xt([xt("undoRedoService")],Kt.prototype,"undoRedoService",void 0);Xt([xt("rowNodeBlockLoader")],Kt.prototype,"rowNodeBlockLoader",void 0);Xt([xt("ssrmTransactionManager")],Kt.prototype,"serverSideTransactionManager",void 0);Xt([A("ctrlsService")],Kt.prototype,"ctrlsService",void 0);Xt([he],Kt.prototype,"init",null);Xt([Si],Kt.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null);Kt=Xt([Re("gridApi")],Kt);var Ow=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cf;let Ru=Cf=class extends ae{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VISIBLE,()=>{this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",()=>this.onIncludeHiddenColumnsInQuickFilterChanged()),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassQuickFilterCache(e,n):this.doesRowPassQuickFilterNoCache(e,n))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return le(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - setQuickFilter() only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:Cf.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gridOptionsService.get("quickFilterParser"),t=this.gridOptionsService.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setQuickFilterParts(),this.dispatchEvent({type:Cf.EVENT_QUICK_FILTER_CHANGED}))}onIncludeHiddenColumnsInQuickFilterChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:Cf.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(i=>{const o=this.getQuickFilterTextForColumn(i,e);return le(o)&&o.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let n;e?(this.checkGenerateQuickFilterAggregateText(t),n=t.quickFilterAggregateText):n=this.getQuickFilterAggregateText(t);const{quickFilterParts:i,matcher:o}=this;return o(i,n)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let n=this.valueService.getValue(e,t,!0);const i=e.getColDef();if(i.getQuickFilterText){const o={value:n,node:t,data:t.data,column:e,colDef:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};n=i.getQuickFilterText(o)}return le(n)?n.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(i=>{const o=this.getQuickFilterTextForColumn(i,e);le(o)&&t.push(o)}),t.join(Cf.QUICK_FILTER_SEPARATOR)}};Ru.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";Ru.QUICK_FILTER_SEPARATOR=`
`;Ow([A("valueService")],Ru.prototype,"valueService",void 0);Ow([A("columnModel")],Ru.prototype,"columnModel",void 0);Ow([A("rowModel")],Ru.prototype,"rowModel",void 0);Ow([he],Ru.prototype,"postConstruct",null);Ru=Cf=Ow([Re("quickFilterService")],Ru);var Nl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ba=class extends ae{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[]}init(){this.addManagedListener(this.eventService,D.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>this.updateAggFiltering()),this.addManagedPropertyListener("advancedFilterModel",e=>this.setAdvancedFilterModel(e.currentValue)),this.addManagedListener(this.eventService,D.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:e})=>this.onAdvancedFilterEnabledChanged(e)),this.addManagedListener(this.eventService,D.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,Ru.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"}))}isExternalFilterPresentCallback(){const e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gridOptionsService.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push(e);return}const t=[],n=this.getFilterModel();if(e){const i=NV(Object.keys(e));this.allColumnFilters.forEach((o,s)=>{const a=e[s];t.push(this.setModelOnFilterWrapper(o.filterPromise,a)),i.delete(s)}),i.forEach(o=>{const s=this.columnModel.getPrimaryColumn(o)||this.columnModel.getGridColumn(o);if(!s){console.warn("AG Grid: setFilterModel() - no column found for colId: "+o);return}if(!s.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const a=this.getOrCreateFilterWrapper(s,"NO_UI");if(!a){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}t.push(this.setModelOnFilterWrapper(a.filterPromise,e[o]))})}else this.allColumnFilters.forEach(i=>{t.push(this.setModelOnFilterWrapper(i.filterPromise,null))});zn.all(t).then(()=>{const i=this.getFilterModel(),o=[];this.allColumnFilters.forEach((s,a)=>{const l=n?n[a]:null,u=i?i[a]:null;K.jsonEquals(l,u)||o.push(s.column)}),o.length>0&&this.onFilterChanged({columns:o,source:"api"})})}setModelOnFilterWrapper(e,t){return new zn(n=>{e.then(i=>{typeof i.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(i.setModel(t)||zn.resolve()).then(()=>n())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,n)=>{const o=t.filterPromise.resolveNow(null,a=>a);if(o==null)return null;if(typeof o.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}const s=o.getModel();le(s)&&(e[n]=s)}),e}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(n=>this.disposeFilterWrapper(n,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):!((t=this.advancedFilterService)===null||t===void 0)&&t.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=i=>i?i.isFilterActive?i.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,t=!!this.gridOptionsService.getGroupAggFiltering(),n=i=>{if(!i.isPrimary())return!0;const s=!this.columnModel.isPivotActive();return!i.isValueActive()||!s?!1:this.columnModel.isPivotMode()?!0:t};this.allColumnFilters.forEach(i=>{if(i.filterPromise.resolveNow(!1,e)){const o=i.filterPromise.resolveNow(null,s=>s);n(i.column)?this.activeAggregateFilters.push(o):this.activeColumnFilters.push(o)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(n=>{const i=n.filterPromise.resolveNow(!1,o=>o.isFilterActive());n.column.setFilterActive(i,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()}doColumnFiltersPass(e,t,n){const{data:i,aggData:o}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,a=n?o:i;for(let l=0;l<s.length;l++){const u=s[l];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:a}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{source:t,filterInstance:n,additionalEventAttributes:i,columns:o}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(a=>{a.filterPromise&&a.filterPromise.then(l=>{l&&l!==n&&l.onAnyFilterChanged&&l.onAnyFilterChanged()})});const s={source:t,type:D.EVENT_FILTER_CHANGED,columns:o||[]};i&&ss(s,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(n=>{n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}getFilterComponent(e,t,n=!0){var i;if(n)return((i=this.getOrCreateFilterWrapper(e,t))===null||i===void 0?void 0:i.filterPromise)||null;const o=this.cachedFilter(e);return o?o.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,n=>n.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let n=this.cachedFilter(e);if(n)t!=="NO_UI"&&this.putIntoGui(n,t);else{n=this.createFilterWrapper(e,t);const i=e.getColId();this.allColumnFilters.set(i,n),this.allColumnListeners.set(i,this.addManagedListener(e,Xe.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(i)))}return n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Be.__isRegistered(_e.SetFilterModule,this.context.getGridId()))t="agSetColumnFilter";else{const n=e.getColDef().cellDataType;n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Be.__isRegistered(_e.SetFilterModule,this.context.getGridId()))t="agSetColumnFloatingFilter";else{const n=e.getColDef().cellDataType;n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),n=e.getColDef();let i;const o=Object.assign(Object.assign({},this.createFilterParams(e,n)),{filterModifiedCallback:()=>{const a={type:D.EVENT_FILTER_MODIFIED,column:e,filterInstance:i};this.eventService.dispatchEvent(a)},filterChangedCallback:a=>{var l;const u=(l=a==null?void 0:a.source)!==null&&l!==void 0?l:"api",c={filterInstance:i,additionalEventAttributes:a,columns:[e],source:u};this.callOnFilterChangedOutsideRenderCycle(c)},doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(i,a)}),s=this.userComponentFactory.getFilterDetails(n,o,t);return s?{filterPromise:()=>{const a=s.newAgStackInstance();return a&&a.then(l=>i=l),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return{column:e,colDef:uV(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:()=>!0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}}createFilterWrapper(e,t){var n;const i={column:e,filterPromise:null,compiledElement:null,guiPromise:zn.resolve(null),compDetails:null},{filterPromise:o,compDetails:s}=this.createFilterInstance(e);return i.filterPromise=(n=o==null?void 0:o())!==null&&n!==void 0?n:null,i.compDetails=s,o&&this.putIntoGui(i,t),i}putIntoGui(e,t){const n=document.createElement("div");n.className="ag-filter",e.guiPromise=new zn(i=>{e.filterPromise.then(o=>{let s=o.getGui();le(s)||console.warn(`AG Grid: getGui method from filter returned ${s}, it should be a DOM element or an HTML template string.`),typeof s=="string"&&(s=di(s)),n.appendChild(s),i(n);const a={type:D.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:n};this.eventService.dispatchEvent(a)})})}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,n)=>{let i;t.column.isPrimary()?i=this.columnModel.getPrimaryColumn(n):i=this.columnModel.getGridColumn(n),!i&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(n))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,n;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const o=this.allColumnFilters.get(e.getColId());return(n=(t=o==null?void 0:o.filterPromise)===null||t===void 0?void 0:t.resolveNow(!0,s=>{var a,l;return typeof((a=s)===null||a===void 0?void 0:a.isFilterAllowed)=="function"?(l=s)===null||l===void 0?void 0:l.isFilterAllowed():!0}))!==null&&n!==void 0?n:!0}getFloatingFilterCompDetails(e,t){const n=e.getColDef(),i=this.createFilterParams(e,n),o=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,CL,i);let s=this.userComponentFactory.getDefaultFloatingFilterType(n,()=>this.getDefaultFloatingFilter(e));s==null&&(s="agReadOnlyFloatingFilter");const l={column:e,filterParams:o,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:u=>{const c=this.getFilterComponent(e,"NO_UI");c!=null&&c.then(d=>{u(dh(d))})},showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,l,s)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,n=>n&&n.getModel()):null}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),i&&(this.disposeFilterWrapper(i,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(n=>{(n.setModel(null)||zn.resolve()).then(()=>{this.getContext().destroyBean(n),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const i={type:D.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(i)})})}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};this.areFilterCompsDifferent(t.compDetails,i)&&this.destroyFilter(n,"columnChanged")}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"}))}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){if(this.isAdvancedFilterEnabled())return!1;const e=this.columnModel.getAllGridColumns();return e?e.some(t=>t.getColDef().floatingFilter):!1}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const n=this.getFilterInstanceImpl(e,o=>{if(!t)return;const s=dh(o);t(s)});return dh(n)}getFilterInstanceImpl(e,t){const n=this.columnModel.getPrimaryColumn(e);if(!n)return;const i=this.getFilterComponent(n,"NO_UI"),o=i&&i.resolveNow(null,s=>s);return o?setTimeout(t,0,o):i&&i.then(s=>{t(s)}),o}warnAdvancedFilters(){Mt(()=>{console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)===null||t===void 0||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(e=>this.setFilterModel(e)),this.filterModelUpdateQueue=[]}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};Nl([A("valueService")],ba.prototype,"valueService",void 0);Nl([A("columnModel")],ba.prototype,"columnModel",void 0);Nl([A("rowModel")],ba.prototype,"rowModel",void 0);Nl([A("userComponentFactory")],ba.prototype,"userComponentFactory",void 0);Nl([A("rowRenderer")],ba.prototype,"rowRenderer",void 0);Nl([A("dataTypeService")],ba.prototype,"dataTypeService",void 0);Nl([A("quickFilterService")],ba.prototype,"quickFilterService",void 0);Nl([xt("advancedFilterService")],ba.prototype,"advancedFilterService",void 0);Nl([he],ba.prototype,"init",null);ba=Nl([Re("filterManager")],ba);let r1=class extends Ve{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}};var Dw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Pp=class tre extends r1{constructor(e){super(tre.TEMPLATE,e)}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(n,i)=>this.addOrRemoveCssClass(n,i),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>$t(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}};Pp.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;Dw([ue("eFloatingFilterBody")],Pp.prototype,"eFloatingFilterBody",void 0);Dw([ue("eButtonWrapper")],Pp.prototype,"eButtonWrapper",void 0);Dw([ue("eButtonShowMainFilter")],Pp.prototype,"eButtonShowMainFilter",void 0);Dw([he],Pp.prototype,"postConstruct",null);Dw([Si],Pp.prototype,"destroyFloatingFilterComp",null);var qje=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dr;(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"})(Dr||(Dr={}));let HD=class extends ae{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?Dr.AUTO_HEIGHT:t.print?Dr.PRINT:Dr.NORMAL;this.view.updateLayoutClasses(n,t)}getDomLayout(){var e;const t=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(Mt(()=>console.warn(`AG Grid: ${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"warn about dom layout values"),"normal"):t}};qje([he],HD.prototype,"postConstruct",null);var yd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Di;(function(r){r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal"})(Di||(Di={}));var zi;(function(r){r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer"})(zi||(zi={}));let Vu=class extends ae{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ua(()=>this.lastScrollSource[Di.Horizontal]=null,500),this.resetLastVScrollDebounced=ua(()=>this.lastScrollSource[Di.Vertical]=null,500)}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const n=this.gridOptionsService.is("debounceVerticalScrollbar"),i=n?ua(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=n?ua(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),t.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowContainerCtrl==null)return;e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());const n=this.enableRtl?e:-e,i=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),a=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-n),s.setContainerTranslateX(n),i.setContainerTranslateX(n),o.setContainerTranslateX(n);const u=this.centerRowContainerCtrl.getViewportElement(),c=this.lastScrollSource[Di.Horizontal]===zi.Container;e=Math.abs(e),c?a.setScrollPosition(e):rC(u,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(zi.FakeContainer,Di.Horizontal)&&this.onHScrollCommon(zi.FakeContainer)}onHScroll(){this.isControllingScroll(zi.Container,Di.Horizontal)&&this.onHScrollCommon(zi.Container)}onHScrollCommon(e){const t=this.centerRowContainerCtrl.getViewportElement(),{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(Di.Horizontal,n,!0))return;let i;e===zi.Container?i=nC(t,this.enableRtl):i=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(zi.FakeContainer,Di.Vertical)&&this.onVScrollCommon(zi.FakeContainer)}onVScroll(){this.isControllingScroll(zi.Container,Di.Vertical)&&this.onVScrollCommon(zi.Container)}onVScrollCommon(e){let t;e===zi.Container?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Di.Vertical,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===zi.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(Di.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:D.EVENT_BODY_SCROLL,direction:e===Di.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const n=Object.assign(Object.assign({},t),{type:D.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(n)},100)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!gd()?!1:e===Di.Vertical?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Cw(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowContainerCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowContainerCtrl.getViewportElement();if(this.enableRtl&&tC()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(Di.Vertical)}checkScrollLeft(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(zi.Container)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(Di.Horizontal,e)&&(this.enableRtl&&tC()?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),rC(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}}getHScrollPosition(){return this.centerRowContainerCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const n=this.rowModel.getRowCount();let i=-1;for(let o=0;o<n;o++){const s=this.rowModel.getRow(o);if(typeof e=="function"){if(s&&e(s)){i=o;break}}else if(e===s||e===s.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(this.gridOptionsService.isDomLayout("print"))return;const n=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=n){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);const a=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),l=this.paginationProxy.getRow(e);let u;do{const c=l.rowTop,d=l.rowHeight,h=this.paginationProxy.getPixelOffset(),p=l.rowTop-h,f=p+l.rowHeight,g=this.getVScrollPosition(),v=this.heightScaler.getDivStretchOffset(),y=g.top+v,C=g.bottom+v,w=C-y,S=this.heightScaler.getScrollPositionForPixel(p),P=this.heightScaler.getScrollPositionForPixel(f-w),F=Math.min((S+P)/2,p),_=y+a>p,E=C<f;let T=null;t==="top"?T=S:t==="bottom"?T=P:t==="middle"?T=F:_?T=S-a:E&&(T=P),T!==null&&(this.setVerticalScrollPosition(T),this.rowRenderer.redraw({afterScroll:!0})),u=c!==l.rowTop||d!==l.rowHeight}while(u);this.animationFrameService.flushAllFrames()}ensureColumnVisible(e,t="auto"){const n=this.columnModel.getGridColumn(e);if(!n||n.isPinned()||!this.columnModel.isColumnDisplayed(n))return;const i=this.getPositionedHorizontalScroll(n,t);i!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),o=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl;let l=(a?n:i)||o,u=a?i:n;t!=="auto"&&(l=t==="start",u=t==="end");const c=t==="middle";if(l||u||c){const{colLeft:d,colMiddle:h,colRight:p}=this.getColumnBounds(e);return c?h-s/2:l?a?p:d:a?d-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:o}=this.getColumnBounds(e),s=this.enableRtl,a=s?t>o:n<o,l=s?n<i:t>i;return{columnBeforeStart:a,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),i=e.getActualWidth(),o=e.getLeft(),s=t?-1:1,a=t?n-o:o,l=a+i*s,u=a+i/2*s;return{colLeft:a,colMiddle:u,colRight:l}}getViewportBounds(){const e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}};yd([A("ctrlsService")],Vu.prototype,"ctrlsService",void 0);yd([A("animationFrameService")],Vu.prototype,"animationFrameService",void 0);yd([A("paginationProxy")],Vu.prototype,"paginationProxy",void 0);yd([A("rowModel")],Vu.prototype,"rowModel",void 0);yd([A("rowContainerHeightService")],Vu.prototype,"heightScaler",void 0);yd([A("rowRenderer")],Vu.prototype,"rowRenderer",void 0);yd([A("columnModel")],Vu.prototype,"columnModel",void 0);yd([he],Vu.prototype,"postConstruct",null);var Ks=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Cs=class extends ae{constructor(e){super(),this.isMultiRowDrag=!1,this.isGridSorted=!1,this.isGridFiltered=!1,this.isRowGroupActive=!1,this.eContainer=e}postConstruct(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);const e=()=>{this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()};this.addManagedListener(this.eventService,D.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_MODEL_UPDATED,()=>{e()}),e(),this.ctrlsService.whenReady(()=>{const t=this.ctrlsService.getGridBodyCtrl();this.autoScrollService=new Zne({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:n=>t.getScrollFeature().setVerticalScrollPosition(n),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}onSortChanged(){this.isGridSorted=this.sortController.isSortActive()}onFilterChanged(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()}onRowGroupChanged(){const e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!rs(e)}getContainer(){return this.eContainer}isInterestedIn(e){return e===wr.RowDrag}getIconName(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?ct.ICON_NOT_ALLOWED:ct.ICON_MOVE}shouldPreventRowMove(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=this.gridOptionsService.is("rowDragMultiRow"),n=[...this.selectionService.getSelectedNodes()].sort((o,s)=>o.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(s)),i=e.dragItem.rowNode;return t&&n.indexOf(i)!==-1?(this.isMultiRowDrag=!0,n):(this.isMultiRowDrag=!1,[i])}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(D.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gridOptionsService.getDomDataKey()}isDropZoneWithinThisGrid(e){const n=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return!n.contains(i)}onEnterOrDragging(e){this.dispatchGridEvent(D.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const n=this.isFromThisGrid(e),i=this.gridOptionsService.is("rowDragManaged"),o=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){return parseInt(fn(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),n=t&&t.highlighted===fu.Below,i=this.mouseEventService.getNormalisedPosition(e).y,o=e.dragItem.rowNodes;let s=n?1:0;if(this.isFromThisGrid(e))o.forEach(a=>{a.rowTop<i&&(s-=1)}),this.moveRows(o,i,s);else{const a=this.gridOptionsService.getCallback("getRowId");let l=this.clientSideRowModel.getRowIndexAtPixel(i)+1;this.clientSideRowModel.getHighlightPosition(i)===fu.Above&&l--,this.clientSideRowModel.updateRowData({add:o.map(u=>u.data).filter(u=>!this.clientSideRowModel.getRowNode(a?a({data:u,level:0}):u.id)),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){Mt(()=>console.warn("AG Grid: addRowDropZone - A container target needs to be provided"),"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,t=e):(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_ENTER,n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_LEAVE,n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_MOVE,n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(Object.assign({isInterestedIn:n=>n===wr.RowDrag,getIconName:()=>ct.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),o=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?a=>{n(a),e.onDragEnter(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_ENTER,a))}:n,onDragLeave:e.onDragLeave?a=>{i(a),e.onDragLeave(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_LEAVE,a))}:i,onDragging:e.onDragging?a=>{o(a),e.onDragging(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_MOVE,a))}:o,onDragStop:e.onDragStop?a=>{s(a),e.onDragStop(this.draggingToRowDragEvent(D.EVENT_ROW_DRAG_END,a))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:o,onDragStop:s,fromGrid:!0}}draggingToRowDragEvent(e,t){const n=this.mouseEventService.getNormalisedPosition(t).y,i=n>this.paginationProxy.getCurrentPageHeight();let o=-1,s;i||(o=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(o));let a;switch(t.vDirection){case wg.Down:a="down";break;case wg.Up:a="up";break;default:a=null;break}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:o,overNode:s,y:n,vDirection:a}}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent(D.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)}onDragStop(e){this.dispatchGridEvent(D.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}};Ks([A("dragAndDropService")],Cs.prototype,"dragAndDropService",void 0);Ks([A("rowModel")],Cs.prototype,"rowModel",void 0);Ks([A("paginationProxy")],Cs.prototype,"paginationProxy",void 0);Ks([A("columnModel")],Cs.prototype,"columnModel",void 0);Ks([A("focusService")],Cs.prototype,"focusService",void 0);Ks([A("sortController")],Cs.prototype,"sortController",void 0);Ks([A("filterManager")],Cs.prototype,"filterManager",void 0);Ks([A("selectionService")],Cs.prototype,"selectionService",void 0);Ks([A("mouseEventService")],Cs.prototype,"mouseEventService",void 0);Ks([A("ctrlsService")],Cs.prototype,"ctrlsService",void 0);Ks([xt("rangeService")],Cs.prototype,"rangeService",void 0);Ks([he],Cs.prototype,"postConstruct",null);var xo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Sg;(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"})(Sg||(Sg={}));const nre="ag-force-vertical-scroll",Qje="ag-selectable",Xje="ag-column-moving";let io=class extends ae{constructor(){super(...arguments),this.stickyTopHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,n,i,o,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=o,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new HD(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Vu(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,o,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.registerGridBodyCtrl(this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,D.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",n=>{const{target:i}=n,o=Eh(i,"ag-root",t);t.classList.toggle("ag-has-focus",!o)}),this.addManagedListener(t,"focusout",n=>{const{target:i,relatedTarget:o}=n,s=t.contains(o),a=Eh(o,"ag-root",t);Eh(i,"ag-root",t)||(!s||a)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(Xje,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Qje,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);const t=e&&this.gridOptionsService.getScrollbarWidth()||0,n=Zy()?16:0,i=`calc(100% + ${t+n}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(i))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gridOptionsService.is("stopEditingWhenCellsLoseFocus"))return;const e=n=>{const i=n.relatedTarget;if(BT(i)===null){this.rowRenderer.stopEditing();return}let o=t.some(s=>s.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!o){const s=this.popupService;o=s.getActivePopups().some(a=>a.contains(i))||s.isElementWithinCustomPopup(i)}o||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];t.forEach(n=>this.addManagedListener(n,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=t===-1?-1:e+t;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?nre:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&one(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gridOptionsService.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),n=t?Sg.ANIMATION_ON:Sg.ANIMATION_OFF;this.comp.setRowAnimationCssOnBodyViewport(n,t)};e(),this.addManagedListener(this.eventService,D.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",n=>this.onFullWidthContainerWheel(n,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;if(i===this.eBodyViewport||i===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):n&&this.contextMenuFactory.onContextMenu(null,n,null,null,null,this.eGridBody)}}mockContextMenuForIPad(e){if(!gd())return;const t=new yr(this.eBodyViewport),n=i=>{e(void 0,i.touchStart,i.touchEvent)};this.addManagedListener(t,yr.EVENT_LONG_TAP,n),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyTopWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Cs(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight();t&&(t+=1);let n=e.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyTopWidth(e){if(!e)this.comp.setStickyTopWidth("100%");else{const t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;t>0&&(i+=t+1),n>0&&(i+=n+1),this.comp.setStickyTopTop(`${i}px`)}sizeColumnsToFit(e,t){const i=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,s=AD(this.eGridBody)-i;if(s>0){this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};xo([A("animationFrameService")],io.prototype,"animationFrameService",void 0);xo([A("rowContainerHeightService")],io.prototype,"rowContainerHeightService",void 0);xo([A("ctrlsService")],io.prototype,"ctrlsService",void 0);xo([A("columnModel")],io.prototype,"columnModel",void 0);xo([A("scrollVisibleService")],io.prototype,"scrollVisibleService",void 0);xo([xt("contextMenuFactory")],io.prototype,"contextMenuFactory",void 0);xo([A("headerNavigationService")],io.prototype,"headerNavigationService",void 0);xo([A("dragAndDropService")],io.prototype,"dragAndDropService",void 0);xo([A("pinnedRowModel")],io.prototype,"pinnedRowModel",void 0);xo([A("rowRenderer")],io.prototype,"rowRenderer",void 0);xo([A("popupService")],io.prototype,"popupService",void 0);xo([A("mouseEventService")],io.prototype,"mouseEventService",void 0);xo([A("rowModel")],io.prototype,"rowModel",void 0);xo([A("filterManager")],io.prototype,"filterManager",void 0);var KT;(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"})(KT||(KT={}));var Df;(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"})(Df||(Df={}));const iv="ag-cell-range-selected",Jje="ag-cell-range-chart",Zje="ag-cell-range-single-cell",eWe="ag-cell-range-chart-category",tWe="ag-cell-range-handle",nWe="ag-cell-range-top",rWe="ag-cell-range-right",iWe="ag-cell-range-bottom",oWe="ag-cell-range-left";let sWe=class{constructor(e,t){this.beans=e,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(iv,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${iv}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${iv}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${iv}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${iv}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(Jje,this.hasChartRange),$h(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(Zje,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(nWe,n),this.cellComp.addOrRemoveCssClass(rWe,i),this.cellComp.addOrRemoveCssClass(iWe,o),this.cellComp.addOrRemoveCssClass(oWe,s)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(n=>Sl([Df.DIMENSION,Df.VALUE],n.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gridOptionsService.is("enableRtl");let t=!1,n=!1,i=!1,o=!1;const s=this.cellCtrl.getCellPosition().column,{rangeService:a,columnModel:l}=this.beans;let u,c;e?(u=l.getDisplayedColAfter(s),c=l.getDisplayedColBefore(s)):(u=l.getDisplayedColBefore(s),c=l.getDisplayedColAfter(s));const d=a.getCellRanges().filter(h=>a.isCellInSpecificRange(this.cellCtrl.getCellPosition(),h));u||(o=!0),c||(n=!0);for(let h=0;h<d.length&&!(t&&n&&i&&o);h++){const p=d[h],f=a.getRangeStartRow(p),g=a.getRangeEndRow(p);!t&&this.beans.rowPositionUtils.sameRow(f,this.cellCtrl.getCellPosition())&&(t=!0),!i&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(i=!0),!o&&u&&p.columns.indexOf(u)<0&&(o=!0),!n&&c&&p.columns.indexOf(c)<0&&(n=!0)}return{top:t,right:n,bottom:i,left:o}}refreshHandle(){if(!this.beans.rangeService)return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(tWe,!!this.selectionHandle)}shouldHaveSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,n=t.getCellRanges(),i=n.length;if(this.rangeCount<1||i<1)return!1;const o=fn(n),s=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.is("enableRangeHandle");let u=i===1&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){const d=n[0].type===Df.DIMENSION&&t.isCellInSpecificRange(s,n[0]);this.cellComp.addOrRemoveCssClass(eWe,d),u=o.type===Df.VALUE}return u&&o.endRow!=null&&t.isContiguousRange(o)&&t.isBottomRightCell(o,s)}addSelectionHandle(){const{gridOptionsService:e,rangeService:t}=this.beans,n=fn(t.getCellRanges()).type,o=e.is("enableFillHandle")&&it(n)?KT.FILL:KT.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},aWe=class extends ae{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode(),this.setupColSpan(),this.setupRowSpan()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode)}setComp(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onDisplayColumnsChanged(){const e=this.getColSpanningList();Fc(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let n=this.column;const i=this.column.getPinned();for(let o=0;n&&o<e&&(t.push(n),n=this.beans.columnModel.getDisplayedColAfter(n),!(!n||it(n)||i!==n.getPinned()));o++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?e=fn(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const n=this.beans.columnModel.getBodyContainerWidth();return t+n+(e||0)}return t+(e||0)}applyRowSpan(){if(this.rowSpan===1)return;const t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},lWe=class extends ae{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,t,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1))}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const n={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},i=e.cellStyle;t=i(n)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(n=>this.cellComp.addOrRemoveCssClass(n,!0))}destroy(){super.destroy()}},i1=class extends ae{constructor(e,t){super(),this.ctrl=e,this.beans=t}setComp(e){this.eGui=e,this.setupTooltip()}setBrowserTooltip(e){const t="title";e!=null&&e!=""?this.eGui.setAttribute(t,e):this.eGui.removeAttribute(t)}setupTooltip(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,n,i;if(this.genericTooltipFeature!=null)return;const o={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.genericTooltipFeature=this.createManagedBean(new Sp(o,(t=(e=this.ctrl).getTooltipShowDelayOverride)===null||t===void 0?void 0:t.call(e),(i=(n=this.ctrl).getTooltipHideDelayOverride)===null||i===void 0?void 0:i.call(n)),this.beans.context)}refreshToolTip(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,n=e.getColDef?e.getColDef():void 0,i=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:n,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>this.genericTooltipFeature.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){super.destroy()}};var mt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let dt=class{postConstruct(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};mt([A("resizeObserverService")],dt.prototype,"resizeObserverService",void 0);mt([A("paginationProxy")],dt.prototype,"paginationProxy",void 0);mt([A("context")],dt.prototype,"context",void 0);mt([A("columnApi")],dt.prototype,"columnApi",void 0);mt([A("gridApi")],dt.prototype,"gridApi",void 0);mt([A("gridOptionsService")],dt.prototype,"gridOptionsService",void 0);mt([A("expressionService")],dt.prototype,"expressionService",void 0);mt([A("environment")],dt.prototype,"environment",void 0);mt([A("rowRenderer")],dt.prototype,"rowRenderer",void 0);mt([A("templateService")],dt.prototype,"templateService",void 0);mt([A("valueService")],dt.prototype,"valueService",void 0);mt([A("eventService")],dt.prototype,"eventService",void 0);mt([A("columnModel")],dt.prototype,"columnModel",void 0);mt([A("headerNavigationService")],dt.prototype,"headerNavigationService",void 0);mt([A("navigationService")],dt.prototype,"navigationService",void 0);mt([A("columnAnimationService")],dt.prototype,"columnAnimationService",void 0);mt([xt("rangeService")],dt.prototype,"rangeService",void 0);mt([A("focusService")],dt.prototype,"focusService",void 0);mt([xt("contextMenuFactory")],dt.prototype,"contextMenuFactory",void 0);mt([A("popupService")],dt.prototype,"popupService",void 0);mt([A("valueFormatterService")],dt.prototype,"valueFormatterService",void 0);mt([A("stylingService")],dt.prototype,"stylingService",void 0);mt([A("columnHoverService")],dt.prototype,"columnHoverService",void 0);mt([A("userComponentFactory")],dt.prototype,"userComponentFactory",void 0);mt([A("userComponentRegistry")],dt.prototype,"userComponentRegistry",void 0);mt([A("animationFrameService")],dt.prototype,"animationFrameService",void 0);mt([A("dragService")],dt.prototype,"dragService",void 0);mt([A("dragAndDropService")],dt.prototype,"dragAndDropService",void 0);mt([A("sortController")],dt.prototype,"sortController",void 0);mt([A("filterManager")],dt.prototype,"filterManager",void 0);mt([A("rowContainerHeightService")],dt.prototype,"rowContainerHeightService",void 0);mt([A("frameworkOverrides")],dt.prototype,"frameworkOverrides",void 0);mt([A("cellPositionUtils")],dt.prototype,"cellPositionUtils",void 0);mt([A("rowPositionUtils")],dt.prototype,"rowPositionUtils",void 0);mt([A("selectionService")],dt.prototype,"selectionService",void 0);mt([xt("selectionHandleFactory")],dt.prototype,"selectionHandleFactory",void 0);mt([A("rowCssClassCalculator")],dt.prototype,"rowCssClassCalculator",void 0);mt([A("rowModel")],dt.prototype,"rowModel",void 0);mt([A("ctrlsService")],dt.prototype,"ctrlsService",void 0);mt([A("ctrlsFactory")],dt.prototype,"ctrlsFactory",void 0);mt([A("agStackComponentsRegistry")],dt.prototype,"agStackComponentsRegistry",void 0);mt([A("valueCache")],dt.prototype,"valueCache",void 0);mt([A("rowNodeEventThrottle")],dt.prototype,"rowNodeEventThrottle",void 0);mt([A("localeService")],dt.prototype,"localeService",void 0);mt([A("valueParserService")],dt.prototype,"valueParserService",void 0);mt([he],dt.prototype,"postConstruct",null);dt=mt([Re("beans")],dt);let uWe=class extends dt{constructor(e,t,n){super(),this.cellCtrl=e,this.beans=t,this.column=n}onMouseEvent(e,t){if(!fa(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:n,gridOptionsService:i}=this.beans,o=e.ctrlKey||e.metaKey;n&&o&&n.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&n.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,D.EVENT_CELL_CLICKED);t.dispatchEvent(s);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>a.onCellClicked(s),0),(i.is("singleClickEdit")||a.singleClickEdit)&&!i.is("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!gd()||pV("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),n=this.cellCtrl.createEvent(e,D.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),typeof t.onCellDoubleClicked=="function"&&window.setTimeout(()=>t.onCellDoubleClicked(n),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,o=e.target,{cellCtrl:s,beans:a}=this,{eventService:l,rangeService:u,focusService:c}=a;if(this.isRightClickInExistingRange(e))return;const d=u&&u.getCellRanges().length!=0;if(!i||!d){const h=_a()&&!s.isEditing()&&!PV(o);s.focusCell(h)}if(i&&d&&!c.isCellFocused(s.getCellPosition())){e.preventDefault();const h=c.getFocusedCell();if(h){const{column:p,rowIndex:f,rowPinned:g}=h,v=a.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:g}),y=v==null?void 0:v.getCellCtrl(p);y!=null&&y.isEditing()&&y.stopEditing(),c.setFocusedCell({column:p,rowIndex:f,rowPinned:g,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(o)){if(u){const h=this.cellCtrl.getCellPosition();if(i)u.extendLatestRangeToCell(h);else{const p=t||n;u.setRangeToCell(h,p)}}l.dispatchEvent(this.cellCtrl.createEvent(e,D.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return Eh(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,D.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,D.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){}},cWe=class extends ae{constructor(e,t,n,i,o){super(),this.cellCtrl=e,this.beans=t,this.rowNode=i,this.rowCtrl=o}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case Y.ENTER:this.onEnterKeyDown(e);break;case Y.F2:this.onF2KeyDown(e);break;case Y.ESCAPE:this.onEscapeKeyDown(e);break;case Y.TAB:this.onTabKeyDown(e);break;case Y.BACKSPACE:case Y.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case Y.DOWN:case Y.UP:case Y.RIGHT:case Y.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:i,rowNode:o}=this,{gridOptionsService:s,rangeService:a,eventService:l}=i;n.isEditing()||(l.dispatchEvent({type:D.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),dne(e,s.is("enableCellEditingOnBackspace"))?a&&s.is("enableRangeSelection")?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):n.isCellEditable()&&o.setDataValue(n.getColumn(),null,"cellClear"):n.startRowOrCellEdit(e,t),l.dispatchEvent({type:D.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){const t=e.shiftKey?Y.UP:Y.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(Y.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Y.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const i=e.key;i===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(i,e),e.preventDefault())}onSpaceKeyDown(e){const{gridOptionsService:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const n=this.rowNode.isSelected(),i=!n;if(i||!t.is("suppressRowDeselection")){const o=this.beans.gridOptionsService.is("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"});n===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:o,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}};var dWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let rre=class extends Ve{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(vr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const n=()=>{try{const i=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",i),e.dataTransfer.setData("text/plain",i)}catch{}};if(t){const i={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};t(i)}else n()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};dWe([he],rre.prototype,"postConstruct",null);const hWe="ag-cell",pWe="ag-cell-auto-height",fWe="ag-cell-normal-height",gWe="ag-cell-focus",mWe="ag-cell-first-right-pinned",vWe="ag-cell-last-left-pinned",yWe="ag-cell-not-inline-editing",CWe="ag-column-hover",wWe="ag-cell-wrap-text";let SWe=0,Kc=class wL extends ae{constructor(e,t,n,i){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=e,this.rowNode=t,this.beans=n,this.rowCtrl=i,this.instanceId=e.getId()+"-"+SWe++;const o=this.column.getColDef();this.colIdSanitised=xr(this.column.getId()),this.beans.gridOptionsService.is("suppressCellFocus")||(this.tabIndex=-1),this.isCellRenderer=o.cellRenderer!=null||o.cellRendererSelector!=null,this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!0)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new aWe(this,this.beans),this.addDestroyFunc(()=>{var t;(t=this.cellPositionFeature)===null||t===void 0||t.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new lWe(this,this.beans),this.addDestroyFunc(()=>{var t;(t=this.cellCustomStyleFeature)===null||t===void 0||t.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new uWe(this,this.beans,this.column),this.addDestroyFunc(()=>{var t;(t=this.cellMouseListenerFeature)===null||t===void 0||t.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new cWe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.destroy(),this.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection")&&(this.cellRangeFeature=new sWe(this.beans,this),this.addDestroyFunc(()=>{var t;(t=this.cellRangeFeature)===null||t===void 0||t.destroy(),this.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()}addTooltipFeature(){const t={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:()=>{const n=this.column.getColDef(),i=this.rowNode.data;if(n.tooltipField&&le(i))return Wf(i,n.tooltipField,this.column.isTooltipFieldContainsDots());const o=n.tooltipValueGetter;return o?o({location:"cell",api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted}):null},getValueFormatted:()=>this.valueFormatted};this.tooltipFeature=new i1(t,this.beans),this.addDestroyFunc(()=>{var n;(n=this.tooltipFeature)===null||n===void 0||n.destroy(),this.tooltipFeature=null})}setComp(e,t,n,i,o){var s,a,l,u;this.cellComp=e,this.eGui=t,this.printLayout=i,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(t),(a=this.cellCustomStyleFeature)===null||a===void 0||a.setComp(e),(l=this.tooltipFeature)===null||l===void 0||l.setComp(t),(u=this.cellKeyboardListenerFeature)===null||u===void 0||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e){if(!this.column.isAutoHeight())return;const t=e.parentElement,n=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,i=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:l,paddingBottom:u,borderBottomWidth:c,borderTopWidth:d}=md(t),h=l+u+c+d,f=e.offsetHeight+h;if(a<5){const v=this.beans.gridOptionsService.getDocument(),y=!v||!v.contains(e),C=f==0;if(y||C){this.beans.frameworkOverrides.setTimeout(()=>i(a+1),0);return}}const g=Math.max(f,n);this.rowNode.setRowAutoHeight(g,this.column)},o=()=>i(0);o();const s=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc(()=>{s(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getInstanceId(){return this.instanceId}getIncludeSelection(){return this.includeSelection}getIncludeRowDrag(){return this.includeRowDrag}getIncludeDndSource(){return this.includeDndSource}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}getIsCellRenderer(){return this.isCellRenderer}getValueToDisplay(){return this.valueFormatted!=null?this.valueFormatted:this.value}showValue(e=!1){const t=this.getValueToDisplay();let n;if(this.isCellRenderer){const i=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i)}this.cellComp.setRenderDetails(n,t,e),this.refreshHandle()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||n||i}startEditing(e=null,t=!1,n=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,t,n)});return}const i=this.createCellEditorParams(e,t),o=this.column.getColDef(),s=this.beans.userComponentFactory.getCellEditorDetails(o,i),a=(s==null?void 0:s.popupFromSelector)!=null?s.popupFromSelector:!!o.cellEditorPopup,l=(s==null?void 0:s.popupPositionFromSelector)!=null?s.popupPositionFromSelector:o.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(s,a,l);const u=this.createEvent(n,D.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}setEditing(e){this.editing!==e&&(this.editing=e,this.refreshHandle())}stopRowOrCellEdit(e=!1){this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(e){const t={newValueExists:!1};if(e)return t;const n=this.cellComp.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?t:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;const n=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,n}stopEditing(e=!1){if(!this.editing)return!1;const{newValue:t,newValueExists:n}=this.takeValueFromCellEditor(e),i=this.rowNode.getValueFromValueService(this.column);let o=!1;return n&&(o=this.saveNewValue(i,t)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(i,t,!e&&!!o),o}dispatchEditingStoppedEvent(e,t,n){const i=Object.assign(Object.assign({},this.createEvent(null,D.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t,valueChanged:n});this.beans.eventService.dispatchEvent(i)}createCellEditorParams(e,t){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:t,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}}createCellRendererParams(){return{value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:t=>this.beans.valueService.setValue(this.rowNode,this.column,t),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(t,n,i,o)=>this.registerRowDragger(t,n,o)}}parseValue(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}onCellChanged(e){if(!this.cellComp)return;e.column===this.column&&this.refreshCell({})}refreshCell(e){var t,n,i;if(this.suppressRefreshCell||this.editing||!this.cellComp)return;const o=this.column.getColDef(),s=e!=null&&!!e.newData,a=e!=null&&!!e.suppressFlash||!!o.suppressCellFlash,l=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,u=e&&e.forceRefresh||l||s,c=this.updateAndFormatValue();if(u||c){this.showValue(s);const h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!a&&!h&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),(t=this.cellCustomStyleFeature)===null||t===void 0||t.applyUserStyles(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyClassesFromColDef()}this.refreshToolTip(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyCellClassRules()}stopEditingAndFocus(e=!1,t=!1){this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(t)}navigateAfterEdit(e){if(this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")){const n=e?Y.UP:Y.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.getCellPosition(),!1)}}flashCell(e){const t=e&&e.flashDelay,n=e&&e.fadeDelay;this.animateCell("data-changed",t,n)}animateCell(e,t,n){var i,o;if(!this.cellComp)return;const s=`ag-cell-${e}`,a=`ag-cell-${e}-animation`,{gridOptionsService:l}=this.beans;t||(t=(i=l.getNum("cellFlashDelay"))!==null&&i!==void 0?i:500),le(n)||(n=(o=l.getNum("cellFadeDelay"))!==null&&o!==void 0?o:1e3),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(a,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.eGui.style.transition="")},n))},t)}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){var t;return(t=this.callValueFormatter(e))!==null&&t!==void 0?t:e}callValueFormatter(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e=!1){const t=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!0:!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}getValueFormatted(){return this.valueFormatted}addDomData(){const e=this.getGui();this.beans.gridOptionsService.setDomData(e,wL.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gridOptionsService.setDomData(e,wL.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,t){return{type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}}processCharacter(e){var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.processCharacter(e)}onKeyDown(e){var t;(t=this.cellKeyboardListenerFeature)===null||t===void 0||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.cellMouseListenerFeature)===null||n===void 0||n.onMouseEvent(e,t)}getGui(){return this.eGui}refreshToolTip(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&this.setAriaColIndex()}setAriaColIndex(){const e=this.beans.columnModel.getAriaColumnIndex(this.column);SV(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}getBeans(){return this.beans}isPrintLayout(){return this.printLayout}appendChild(e){this.eGui.appendChild(e)}refreshHandle(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,t=null){this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(mWe,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(vWe,e)}onCellFocused(e){if(this.beans.gridOptionsService.is("suppressCellFocus"))return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){t&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(gWe,t),t&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});const n=this.beans.gridOptionsService.get("editType")==="fullRow";!t&&!n&&this.editing&&this.stopRowOrCellEdit()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:wl(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(hWe,!0),this.cellComp.addOrRemoveCssClass(yWe,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(pWe,e),this.cellComp.addOrRemoveCssClass(fWe,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gridOptionsService.is("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(CWe,e)}onColDefChanged(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(wWe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,D.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>t.onCellContextMenu(n),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new GD;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new rre(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const i=this.beans.gridOptionsService.is("pagination"),o=this.beans.gridOptionsService.is("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(o){if(!s){Mt(()=>console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model"),"CellComp.addRowDragging");return}if(i){Mt(()=>console.warn("AG Grid: managed row dragging is not possible when doing pagination"),"CellComp.addRowDragging");return}}const a=new Bh(()=>this.value,this.rowNode,this.column,e,t,n);return this.beans.context.createBean(a),a}};Kc.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var po;(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"})(po||(po={}));let EWe=0,Yc=class SL extends ae{constructor(e,t,n,i,o){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gridOptionsService=t.gridOptionsService,this.rowNode=e,this.paginationPage=t.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=i,this.printLayout=o,this.instanceId=e.id+"-"+EWe++,this.rowId=xr(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gridOptionsService.is("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=xr(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getBeans(){return this.beans}getInstanceId(){return this.instanceId}setComp(e,t,n){const i={rowComp:e,element:t,containerType:n};this.allRowGuis.push(i),n===Nr.LEFT?this.leftGui=i:n===Nr.RIGHT?this.rightGui=i:n===Nr.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){switch(this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),e){case Nr.LEFT:this.leftGui=void 0;break;case Nr.RIGHT:this.rightGui=void 0;break;case Nr.FULL_WIDTH:this.fullWidthGui=void 0;break;case Nr.CENTER:this.centerGui=void 0;break}}isCacheable(){return this.rowType===po.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),t.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(o=>n.addOrRemoveCssClass(o,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&ca(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),t.setDomData(e.element,SL.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>t.setDomData(e.element,SL.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),t.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=xr(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(aL(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(aL(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(this.gridOptionsService.is("enableRangeSelection")){Mt(()=>{console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}const t=this.beans.localeService.getLocaleTextFunc(),n=new Bh(()=>`1 ${t("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(n,this.beans.context)}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,t);if(this.rowType==po.FullWidthDetail&&!Be.__assertRegistered(_e.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;let i;switch(this.rowType){case po.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case po.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case po.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n);break}e.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderer(){var e,t;return(t=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||t===void 0?void 0:t.getFullWidthCellRenderer()}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gridOptionsService.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&n}setRowType(){const e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(i);e?this.rowType=po.FullWidthLoading:n?this.rowType=po.FullWidthDetail:t?this.rowType=po.FullWidth:s?this.rowType=po.FullWidthGroup:this.rowType=po.Normal}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;if(e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t,n=null){const i={list:[],map:{}},o=(s,a)=>{i.list.push(a),i.map[s]=a};return t.forEach(s=>{const a=s.getInstanceId();let l=e.map[a];l||(l=new Kc(s,this.rowNode,this.beans,this)),o(a,l)}),e.list.forEach(s=>{if(i.map[s.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(s,n)){o(s.getColumn().getInstanceId(),s);return}s.destroy()}),i}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case Nr.LEFT:return this.leftCellCtrls.list;case Nr.RIGHT:return this.rightCellCtrls.list;case Nr.FULL_WIDTH:return[];case Nr.CENTER:return this.centerCellCtrls.list;default:const t=e;throw new Error(`Unhandled case: ${t}`)}}createAllCellCtrls(){const e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const t=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t);const n=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){if(e.getColumn().getPinned()!=t)return!0;const s=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(s||a){const u=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(u)>=0)}return!0}getDomOrder(){return this.gridOptionsService.is("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",t),this.addManagedPropertyListener("ensureDomOrder",t)}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=le(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();if(t){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}isEditing(){return this.editingRow}stopRowEditing(e){this.stopEditing(e)}isFullWidth(){return this.rowType!==po.Normal}getRowType(){return this.rowType}refreshFullWidth(){const e=(a,l)=>{if(!a)return!0;const u=a.rowComp.getFullWidthCellRenderer();if(!u||!u.refresh)return!1;const c=this.createFullWidthParams(a.element,l);return u.refresh(c)},t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),o=e(this.rightGui,"right");return t&&n&&i&&o}addListeners(){this.addManagedListener(this.rowNode,je.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,je.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,je.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,je.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,je.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const e=this.beans.eventService;this.addManagedListener(e,D.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,D.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,D.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,D.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,D.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,D.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,D.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,D.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()}onColumnMoved(){this.updateColumnLists()}addListenersForCellComps(){this.addManagedListener(this.rowNode,je.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())}),this.addManagedListener(this.rowNode,je.EVENT_CELL_CHANGED,e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}onRowNodeCellChanged(){this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e===fu.Above,i=e===fu.Below;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}onRowNodeDraggingChanged(){this.postProcessRowDragging()}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),ca(n.element,e&&t)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:wl(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.allRowGuis.find(l=>l.element.contains(e.target));if(!((t?t.element:null)===e.target))return;const o=this.rowNode,s=this.beans.focusService.getFocusedCell(),a={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||fa(e))return;const t=this.allRowGuis.find(s=>s.element.contains(e.target)),n=t?t.element:null,i=n===e.target;let o=null;i||(o=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigationService.onTabKeyDown(this,e)}onFullWidthRowFocused(e){var t;const n=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned:!1,o=this.fullWidthGui?this.fullWidthGui.element:(t=this.centerGui)===null||t===void 0?void 0:t.element;o&&(o.classList.toggle("ag-full-width-focus",i),i&&o.focus({preventScroll:!0}))}refreshCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:t}}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){if(fa(e))return;const t=this.createRowEventWithSource(D.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Eh(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}onRowClick(e){if(fa(e)||this.lastMouseDownOnDragger)return;const n=this.createRowEventWithSource(D.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(n);const i=e.ctrlKey||e.metaKey,o=e.shiftKey;if(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))return;const a=this.gridOptionsService.is("rowMultiSelectWithClick"),l=!this.gridOptionsService.is("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):i?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:e,source:u});else{const c=a?!1:!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:o,event:e,source:u})}}setupDetailRowAutoHeight(e){if(this.rowType!==po.FullWidthDetail||!this.gridOptionsService.is("detailRowAutoHeight"))return;const t=()=>{const i=e.clientHeight;if(i!=null&&i>0){const o=()=>{this.rowNode.setRowHeight(i),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};this.beans.frameworkOverrides.setTimeout(o,0)}},n=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(n),t()}createFullWidthParams(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(i,o,s,a)=>this.addFullWidthRowDragging(i,o,s,a)}}addFullWidthRowDragging(e,t,n="",i){if(!this.isFullWidth())return;const o=new Bh(()=>n,this.rowNode,void 0,e,t,i);this.createManagedBean(o,this.beans.context)}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}onModelUpdated(){this.refreshFirstAndLastRowStyles()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}stopEditing(e=!1){if(this.stoppingRowEdit)return;const t=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;let i=!1;for(const o of t){const s=o.stopEditing(e);n&&!e&&!i&&s&&(i=!0)}if(i){const o=this.createRowEvent(D.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(o)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(e){this.allRowGuis.forEach(t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",e));const t=e?this.createRowEvent(D.EVENT_ROW_EDITING_STARTED):this.createRowEvent(D.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)}startRowEditing(e=null,t=null,n=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((o,s)=>{const a=s===t;return a?s.startEditing(e,a,n):s.startEditing(null,a,n),o?!0:s.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e===Nr.LEFT?"left":e===Nr.RIGHT?"right":null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const t=this.gridOptionsService.getCallback("getRowStyle");let n;if(t){const i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=t(i)}return n||e?Object.assign({},e,n):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",t),$h(n.element,t?!0:void 0);const i=this.createAriaLabel();Gu(n.element,i??"")})}createAriaLabel(){const e=this.rowNode.isSelected();return e&&this.gridOptionsService.is("suppressRowDeselection")?void 0:this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`)}isUseAnimationFrameForCreate(){return this.useAnimationFrameForCreate}addHoverFunctionality(e){this.active&&(this.addManagedListener(e,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(e,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,je.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gridOptionsService.is("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,je.EVENT_MOUSE_LEAVE,()=>{e.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(e){const n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,o=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,e),o)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=o?`${Math.min(n,o)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${t}px`,s&&a.element.style.setProperty("--ag-line-height",s)})}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);const e=this.createRowEvent(D.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),super.destroy()}setupRemoveAnimation(){if(this.isSticky())return;if(this.rowNode.rowTop!=null){const t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0))}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocused(){this.onCellFocusChanged()}onCellFocusCleared(){this.onCellFocusChanged()}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.paginationProxy.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&le(e)){const t=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.gridOptionsService.is("suppressRowTransform")?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(n);t=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return t+"px"}setRowTopStyle(e){const t=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(n=>t?n.rowComp.setTop(e):n.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==e&&(t=n)}),t!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(e)>=0&&(t=n)}),t}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const t=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),i=this.rowNode.rowIndex%2===0,o=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.addOrRemoveCssClass("ag-row-even",i),s.rowComp.addOrRemoveCssClass("ag-row-odd",!i),wV(s.element,o)})}getPinnedLeftRowElement(){return this.leftGui?this.leftGui.element:void 0}getPinnedRightRowElement(){return this.rightGui?this.rightGui.element:void 0}getBodyRowElement(){return this.centerGui?this.centerGui.element:void 0}getFullWidthRowElement(){return this.fullWidthGui?this.fullWidthGui.element:void 0}};Yc.DOM_DATA_KEY_ROW_CTRL="renderedRow";var ws=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Io=class extends ae{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",pV("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedListener(this.element,n,i)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||fa(t))return;const n=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,null,n,i):(i&&i.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!gd())return;const e=new yr(this.element),t=n=>{const i=this.getRowForEvent(n.touchEvent),o=this.mouseEventService.getRenderedCellForEvent(n.touchEvent);this.handleContextMenuMouseEvent(null,n.touchEvent,i,o)};this.addManagedListener(e,yr.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const n=this.gridOptionsService.getDomData(t,Yc.DOM_DATA_KEY_ROW_CTRL);if(n)return n;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,n,i){const o=n?n.getRowNode():null,s=i?i.getColumn():null;let a=null;if(s){const c=e||t;i.dispatchCellContextMenuEvent(c),a=this.valueService.getValue(s,o)}const l=this.ctrlsService.getGridBodyCtrl(),u=i?i.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,o,s,a,u)}getControlsForEventTarget(e){return{cellCtrl:VT(this.gridOptionsService,e,Kc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:VT(this.gridOptionsService,e,Yc.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){const i=e.getRowNode(),o=e.getColumn(),s=e.isEditing();if(!jT(this.gridOptionsService,n,i,o,s)&&t==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),ID(n)&&e.processCharacter(n)),t==="keydown"){const l=e.createEvent(n,D.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}}processFullWidthRowKeyboardEvent(e,t,n){const i=e.getRowNode(),o=this.focusService.getFocusedCell(),s=o&&o.column;if(!jT(this.gridOptionsService,n,i,s,!1)){const l=n.key;if(t==="keydown")switch(l){case Y.PAGE_HOME:case Y.PAGE_END:case Y.PAGE_UP:case Y.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Y.UP:case Y.DOWN:e.onKeyboardNavigate(n);break;case Y.TAB:e.onTabKeyDown(n);break}}if(t==="keydown"){const l=e.createRowEvent(D.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(l)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const n=cne(e);if(n===Y.A)return this.onCtrlAndA(e);if(n===Y.C)return this.onCtrlAndC(e);if(n===Y.D)return this.onCtrlAndD(e);if(n===Y.V)return this.onCtrlAndV(e);if(n===Y.X)return this.onCtrlAndX(e);if(n===Y.Y)return this.onCtrlAndY();if(n===Y.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:n,rangeService:i}=this;if(i&&n.isRowsToRender()){const[o,s]=[t.isEmpty("top"),t.isEmpty("bottom")],a=o?null:"top";let l,u;s?(l=null,u=this.paginationProxy.getRowCount()-1):(l="bottom",u=t.getPinnedBottomRowData().length-1);const c=this.columnModel.getAllDisplayedColumns();if(rs(c))return;i.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:fn(c)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:n}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||n!=null&&n.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};ws([A("mouseEventService")],Io.prototype,"mouseEventService",void 0);ws([A("valueService")],Io.prototype,"valueService",void 0);ws([xt("contextMenuFactory")],Io.prototype,"contextMenuFactory",void 0);ws([A("ctrlsService")],Io.prototype,"ctrlsService",void 0);ws([A("navigationService")],Io.prototype,"navigationService",void 0);ws([A("focusService")],Io.prototype,"focusService",void 0);ws([A("undoRedoService")],Io.prototype,"undoRedoService",void 0);ws([A("columnModel")],Io.prototype,"columnModel",void 0);ws([A("paginationProxy")],Io.prototype,"paginationProxy",void 0);ws([A("pinnedRowModel")],Io.prototype,"pinnedRowModel",void 0);ws([xt("rangeService")],Io.prototype,"rangeService",void 0);ws([xt("clipboardService")],Io.prototype,"clipboardService",void 0);ws([he],Io.prototype,"postConstruct",null);var kD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Aw=class extends ae{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.listenForResize()}),this.addManagedListener(this.eventService,D.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Cw(e);if(this.bodyHeight!==t){this.bodyHeight=t;const n={type:D.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(n)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};kD([A("ctrlsService")],Aw.prototype,"ctrlsService",void 0);kD([A("columnModel")],Aw.prototype,"columnModel",void 0);kD([A("scrollVisibleService")],Aw.prototype,"scrollVisibleService",void 0);kD([he],Aw.prototype,"postConstruct",null);var ire=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let o1=class extends ae{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,D.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;$t(this.element,t),Ls(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};ire([A("pinnedWidthService")],o1.prototype,"pinnedWidthService",void 0);ire([he],o1.prototype,"postConstruct",null);var ore=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let s1=class extends ae{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,D.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;$t(this.element,t),Ls(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};ore([A("pinnedWidthService")],s1.prototype,"pinnedWidthService",void 0);ore([he],s1.prototype,"postConstruct",null);var sre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let $D=class extends ae{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,D.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};sre([A("rowContainerHeightService")],$D.prototype,"maxDivHeightScaler",void 0);sre([he],$D.prototype,"postConstruct",null);var a1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let BD=class extends ae{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.gridOptionsService.is("enableRangeSelection")||it(this.rangeService))return;const e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc(()=>this.dragService.removeDragSource(e))}};a1([xt("rangeService")],BD.prototype,"rangeService",void 0);a1([A("dragService")],BD.prototype,"dragService",void 0);a1([he],BD.prototype,"postConstruct",null);var l1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let sm=class extends ae{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,D.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gridOptionsService.isDomLayout("print"),n=e.getBodyContainerWidth(),i=e.getDisplayedColumnsLeftWidth(),o=e.getDisplayedColumnsRightWidth();let s;t?s=n+i+o:(s=n,this.addSpacer&&(this.gridOptionsService.is("enableRtl")?i:o)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())),this.callback(s)}};l1([A("columnModel")],sm.prototype,"columnModel",void 0);l1([A("scrollVisibleService")],sm.prototype,"scrollVisibleService",void 0);l1([he],sm.prototype,"postConstruct",null);var Cd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},re;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"})(re||(re={}));var Nr;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"})(Nr||(Nr={}));function _We(r){switch(r){case re.CENTER:case re.TOP_CENTER:case re.STICKY_TOP_CENTER:case re.BOTTOM_CENTER:return Nr.CENTER;case re.LEFT:case re.TOP_LEFT:case re.STICKY_TOP_LEFT:case re.BOTTOM_LEFT:return Nr.LEFT;case re.RIGHT:case re.TOP_RIGHT:case re.STICKY_TOP_RIGHT:case re.BOTTOM_RIGHT:return Nr.RIGHT;case re.FULL_WIDTH:case re.TOP_FULL_WIDTH:case re.STICKY_TOP_FULL_WIDTH:case re.BOTTOM_FULL_WIDTH:return Nr.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}const bWe=Pc([[re.CENTER,"ag-center-cols-container"],[re.LEFT,"ag-pinned-left-cols-container"],[re.RIGHT,"ag-pinned-right-cols-container"],[re.FULL_WIDTH,"ag-full-width-container"],[re.TOP_CENTER,"ag-floating-top-container"],[re.TOP_LEFT,"ag-pinned-left-floating-top"],[re.TOP_RIGHT,"ag-pinned-right-floating-top"],[re.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[re.STICKY_TOP_CENTER,"ag-sticky-top-container"],[re.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[re.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[re.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[re.BOTTOM_CENTER,"ag-floating-bottom-container"],[re.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[re.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[re.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),RWe=Pc([[re.CENTER,"ag-center-cols-viewport"],[re.TOP_CENTER,"ag-floating-top-viewport"],[re.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[re.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]);let Gl=class are extends ae{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.isFullWithContainer=this.name===re.TOP_FULL_WIDTH||this.name===re.STICKY_TOP_FULL_WIDTH||this.name===re.BOTTOM_FULL_WIDTH||this.name===re.FULL_WIDTH}static getRowContainerCssClasses(e){const t=bWe.get(e),n=RWe.get(e);return{container:t,viewport:n}}static getPinned(e){switch(e){case re.BOTTOM_LEFT:case re.TOP_LEFT:case re.STICKY_TOP_LEFT:case re.LEFT:return"left";case re.BOTTOM_RIGHT:case re.TOP_RIGHT:case re.STICKY_TOP_RIGHT:case re.RIGHT:return"right";default:return null}}postConstruct(){this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([re.CENTER],()=>this.viewportSizeFeature=this.createManagedBean(new Aw(this)))}registerWithCtrlsService(){switch(this.name){case re.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case re.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case re.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case re.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case re.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case re.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case re.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case re.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case re.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case re.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case re.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case re.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,n){this.comp=e,this.eContainer=t,this.eViewport=n,this.createManagedBean(new Io(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const i=[re.TOP_CENTER,re.TOP_LEFT,re.TOP_RIGHT],o=[re.STICKY_TOP_CENTER,re.STICKY_TOP_LEFT,re.STICKY_TOP_RIGHT],s=[re.BOTTOM_CENTER,re.BOTTOM_LEFT,re.BOTTOM_RIGHT],a=[re.CENTER,re.LEFT,re.RIGHT],l=[...i,...s,...a,...o],u=[re.CENTER,re.LEFT,re.RIGHT,re.FULL_WIDTH],c=[re.CENTER,re.TOP_CENTER,re.STICKY_TOP_CENTER,re.BOTTOM_CENTER],d=[re.LEFT,re.BOTTOM_LEFT,re.TOP_LEFT,re.STICKY_TOP_LEFT],h=[re.RIGHT,re.BOTTOM_RIGHT,re.TOP_RIGHT,re.STICKY_TOP_RIGHT];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new o1(this.eContainer)),this.addManagedListener(this.eventService,D.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(h,()=>{this.pinnedWidthFeature=this.createManagedBean(new s1(this.eContainer)),this.addManagedListener(this.eventService,D.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(u,()=>this.createManagedBean(new $D(this.eContainer,this.name===re.CENTER?n:void 0))),this.forContainers(l,()=>this.createManagedBean(new BD(this.eContainer))),this.forContainers(c,()=>this.createManagedBean(new sm(p=>this.comp.setContainerWidth(`${p}px`)))),Zy()&&(this.forContainers([re.CENTER],()=>{const p=this.enableRtl?D.EVENT_LEFT_PINNED_WIDTH_CHANGED:D.EVENT_RIGHT_PINNED_WIDTH_CHANGED;this.addManagedListener(this.eventService,p,()=>this.refreshPaddingForFakeScrollbar())}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()}refreshPaddingForFakeScrollbar(){const{enableRtl:e,columnModel:t,eContainer:n}=this,i=e?re.LEFT:re.RIGHT;this.forContainers([re.CENTER,i],()=>{const o=t.getContainerWidth(i),s=e?"marginLeft":"marginRight";n.style[s]=o?"16px":"0px"})}addListeners(){this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_ROWS_CHANGED,e=>this.onDisplayedRowsChanged(e.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if([re.STICKY_TOP_CENTER,re.STICKY_TOP_LEFT,re.STICKY_TOP_RIGHT,re.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const n=()=>{const i=this.gridOptionsService.is("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");this.comp.setDomOrder(i||o)};this.addManagedPropertyListener("domLayout",n),n()}stopHScrollOnPinnedRows(){this.forContainers([re.TOP_CENTER,re.STICKY_TOP_CENTER,re.BOTTOM_CENTER],()=>{const e=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",e)})}onDisplayedColumnsChanged(){this.forContainers([re.CENTER],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers([re.CENTER],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,n,e)}getCenterWidth(){return AD(this.eViewport)}getCenterViewportScrollLeft(){return nC(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportVisible(){return vd(this.eViewport)}getViewportScrollLeft(){return nC(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||ine(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(e){this.eContainer.style.transform=`translateX(${e}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){rC(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!are.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),Zy()&&this.refreshPaddingForFakeScrollbar()}onDisplayedRowsChanged(e=!1){if(this.visible){const t=this.gridOptionsService.isDomLayout("print"),n=o=>{const s=o.isFullWidth(),a=this.embedFullWidthRows||t;return this.isFullWithContainer?!a&&s:a||!s},i=this.getRowCtrls().filter(n);this.comp.setRowCtrls(i,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)}getRowCtrls(){switch(this.name){case re.TOP_CENTER:case re.TOP_LEFT:case re.TOP_RIGHT:case re.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case re.STICKY_TOP_CENTER:case re.STICKY_TOP_LEFT:case re.STICKY_TOP_RIGHT:case re.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case re.BOTTOM_CENTER:case re.BOTTOM_LEFT:case re.BOTTOM_RIGHT:case re.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};Cd([A("scrollVisibleService")],Gl.prototype,"scrollVisibleService",void 0);Cd([A("dragService")],Gl.prototype,"dragService",void 0);Cd([A("ctrlsService")],Gl.prototype,"ctrlsService",void 0);Cd([A("columnModel")],Gl.prototype,"columnModel",void 0);Cd([A("resizeObserverService")],Gl.prototype,"resizeObserverService",void 0);Cd([A("animationFrameService")],Gl.prototype,"animationFrameService",void 0);Cd([A("rowRenderer")],Gl.prototype,"rowRenderer",void 0);Cd([he],Gl.prototype,"postConstruct",null);var Hu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const TWe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="${re.TOP_LEFT}"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="${re.TOP_CENTER}"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="${re.TOP_RIGHT}"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="${re.TOP_FULL_WIDTH}"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="${re.LEFT}"></ag-row-container>
                <ag-row-container ref="centerContainer" name="${re.CENTER}"></ag-row-container>
                <ag-row-container ref="rightContainer" name="${re.RIGHT}"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="${re.FULL_WIDTH}"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="${re.STICKY_TOP_LEFT}"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="${re.STICKY_TOP_CENTER}"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="${re.STICKY_TOP_RIGHT}"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="${re.STICKY_TOP_FULL_WIDTH}"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="${re.BOTTOM_LEFT}"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="${re.BOTTOM_CENTER}"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="${re.BOTTOM_RIGHT}"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="${re.BOTTOM_FULL_WIDTH}"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`;let ku=class extends Ve{constructor(){super(TWe)}init(){const e=(n,i)=>{const o=`${n}px`;i.style.minHeight=o,i.style.height=o},t={setRowAnimationCssOnBodyViewport:(n,i)=>this.setRowAnimationCssOnBodyViewport(n,i),setColumnCount:n=>jte(this.getGui(),n),setRowCount:n=>Bte(this.getGui(),n),setTopHeight:n=>e(n,this.eTop),setBottomHeight:n=>e(n,this.eBottom),setTopDisplay:n=>this.eTop.style.display=n,setBottomDisplay:n=>this.eBottom.style.display=n,setStickyTopHeight:n=>this.eStickyTop.style.height=n,setStickyTopTop:n=>this.eStickyTop.style.top=n,setStickyTopWidth:n=>this.eStickyTop.style.width=n,setColumnMovingCss:(n,i)=>this.addOrRemoveCssClass(n,i),updateLayoutClasses:(n,i)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(s=>{s.toggle(Dr.AUTO_HEIGHT,i.autoHeight),s.toggle(Dr.NORMAL,i.normal),s.toggle(Dr.PRINT,i.print)}),this.addOrRemoveCssClass(Dr.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(Dr.NORMAL,i.normal),this.addOrRemoveCssClass(Dr.PRINT,i.print)},setAlwaysVerticalScrollClass:(n,i)=>this.eBodyViewport.classList.toggle(nre,i),registerBodyViewportResizeListener:n=>{const i=this.resizeObserverService.observeResize(this.eBodyViewport,n);this.addDestroyFunc(()=>i())},setPinnedTopBottomOverflowY:n=>this.eTop.style.overflowY=this.eBottom.style.overflowY=n,setCellSelectableCss:(n,i)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(o=>o.classList.toggle(n,i))},setBodyViewportWidth:n=>this.eBodyViewport.style.width=n};this.ctrl=this.createManagedBean(new io),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsService.get("rowSelection")==="multiple")&&$te(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const n=this.eBodyViewport.classList;n.toggle(Sg.ANIMATION_ON,t),n.toggle(Sg.ANIMATION_OFF,!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};Hu([A("resizeObserverService")],ku.prototype,"resizeObserverService",void 0);Hu([xt("rangeService")],ku.prototype,"rangeService",void 0);Hu([ue("eBodyViewport")],ku.prototype,"eBodyViewport",void 0);Hu([ue("eStickyTop")],ku.prototype,"eStickyTop",void 0);Hu([ue("eTop")],ku.prototype,"eTop",void 0);Hu([ue("eBottom")],ku.prototype,"eBottom",void 0);Hu([ue("gridHeader")],ku.prototype,"headerRootComp",void 0);Hu([ue("eBody")],ku.prototype,"eBody",void 0);Hu([he],ku.prototype,"init",null);var u1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let YT=class extends ae{postConstruct(){this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)}updateImpl(){const e=this.ctrlsService.getCenterRowContainerCtrl();if(!e)return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const n={type:D.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(n)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};u1([A("ctrlsService")],YT.prototype,"ctrlsService",void 0);u1([he],YT.prototype,"postConstruct",null);YT=u1([Re("scrollVisibleService")],YT);var lre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ey;let sC=ey=class extends ae{constructor(){super(...arguments),this.gridInstanceId=ey.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[ey.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return VT(this.gridOptionsService,e.target,Kc.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const n=t[ey.GRID_DOM_KEY];if(le(n))return n===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gridOptionsService.isDomLayout("normal"),n=e;let i,o;if(n.clientX!=null||n.clientY!=null?(i=n.clientX,o=n.clientY):(i=n.x,o=n.y),t){const s=this.ctrlsService.getGridBodyCtrl(),a=s.getScrollFeature().getVScrollPosition(),l=s.getScrollFeature().getHScrollPosition();i+=l.left,o+=a.top}return{x:i,y:o}}};sC.gridInstanceSequence=new FD;sC.GRID_DOM_KEY="__ag_grid_instance";lre([A("ctrlsService")],sC.prototype,"ctrlsService",void 0);sC=ey=lre([Re("mouseEventService")],sC);var Fo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let no=class extends ae{constructor(){super(),this.onPageDown=lL(this.onPageDown,100),this.onPageUp=lL(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,o=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e);let l=!1;switch(n){case Y.PAGE_HOME:case Y.PAGE_END:!o&&!i&&(this.onHomeOrEndKey(n),l=!0);break;case Y.LEFT:case Y.RIGHT:case Y.UP:case Y.DOWN:if(!a)return!1;o&&!i&&!s&&(this.onCtrlUpDownLeftRight(n,a),l=!0);break;case Y.PAGE_DOWN:case Y.PAGE_UP:!o&&!i&&(l=this.handlePageUpDown(n,a,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.focusService.getFocusedCell()),t?(e===Y.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:o,focusColumn:s}=e;if(le(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),le(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(o),this.focusService.setFocusedCell({rowIndex:o,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:o,rowPinned:null,column:s};this.rangeService.setRangeToCell(a)}}onPageDown(e){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),s=n.top+i,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),o=n.top,s=this.paginationProxy.getRowIndexAtPixel(o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,n=!1){const i=this.getViewportHeight(),o=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),u=n?(l==null?void 0:l.rowHeight)-i-a:i-a,c=(l==null?void 0:l.rowTop)+u;let d=this.paginationProxy.getRowIndexAtPixel(c+a);if(d===e.rowIndex){const p=n?-1:1;t=d=e.rowIndex+p}let h;n?(h="bottom",d<o&&(d=o),t<o&&(t=o)):(h="top",d>s&&(d=s),t>s&&(t=s)),this.isRowTallerThanView(d)&&(t=d,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var n;const i=t?-1:1,o=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=s;){const u=this.paginationProxy.getRow(l);if(u){const c=(n=u.rowHeight)!==null&&n!==void 0?n:0;if(a+c>o)break;a+=c}l+=i}return Math.max(0,Math.min(l,s))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsService.getScrollbarWidth();let i=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const n=t.rowHeight;return typeof n!="number"?!1:n>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:i,column:o}=n;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:o,focusIndex:i,focusColumn:o})}onHomeOrEndKey(e){const t=e===Y.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),i=t?n[0]:fn(n),o=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:i,focusIndex:o,focusColumn:i})}onTabKeyDown(e,t){const n=t.shiftKey;if(this.tabToNextCellCommon(e,n,t)){t.preventDefault();return}if(n){const{rowIndex:o,rowPinned:s}=e.getRowPosition();(s?o===0:o===this.paginationProxy.getPageFirstRow())&&(this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Kc&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&t.preventDefault()}tabToNextCell(e,t){const n=this.focusService.getFocusedCell();if(!n)return!1;let i=this.getCellByPosition(n);return!i&&(i=this.rowRenderer.getRowByPosition(n),!i||!i.isFullWidth())?!1:this.tabToNextCellCommon(i,e,t)}tabToNextCellCommon(e,t,n){let i=e.isEditing();if(!i&&e instanceof Kc){const a=e.getRowCtrl();a&&(i=a.isEditing())}let o;return i?this.gridOptionsService.get("editType")==="fullRow"?o=this.moveToNextEditingRow(e,t,n):o=this.moveToNextEditingCell(e,t,n):o=this.moveToNextCellNotEditing(e,t),o||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,n=null){const i=e.getCellPosition();e.getGui().focus(),e.stopEditing();const o=this.findNextCellToFocusOn(i,t,!0);return o==null?!1:(o.startEditing(null,!0,n),o.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const i=e.getCellPosition(),o=this.findNextCellToFocusOn(i,t,!0);if(o==null)return!1;const s=o.getCellPosition(),a=this.isCellEditable(i),l=this.isCellEditable(s),u=s&&i.rowIndex===s.rowIndex&&i.rowPinned===s.rowPinned;return a&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,n)),l?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.columnModel.getAllDisplayedColumns();let i;e instanceof Yc?i=Object.assign(Object.assign({},e.getRowPosition()),{column:t?n[0]:fn(n)}):i=e.getCellPosition();const o=this.findNextCellToFocusOn(i,t,!1);if(o instanceof Kc)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o.getRowPosition(),t);return le(o)}findNextCellToFocusOn(e,t,n){let i=e;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);const o=this.gridOptionsService.getCallback("tabToNextCell");if(le(o)){const u=o({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});le(u)?(u.floating&&(Mt(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),u.rowPinned=u.floating),i={rowIndex:u.rowIndex,column:u.column,rowPinned:u.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+i.rowIndex,column:i.column},fromCell:!0}),null}const s=this.gridOptionsService.get("editType")==="fullRow";if(n&&!s&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const a=this.getCellByPosition(i);if(!a){const l=this.rowRenderer.getRowByPosition(i);if(!l||!l.isFullWidth()||n)continue;return l}if(!a.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,n,i){let o=n,s=!1;for(;o&&(o===n||!this.isValidNavigateCell(o));)this.gridOptionsService.is("enableRtl")?t===Y.LEFT&&(o=this.getLastCellOfColSpan(o)):t===Y.RIGHT&&(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextCellToFocus(t,o),s=it(o);if(s&&e&&e.key===Y.UP&&(o={rowIndex:-1,rowPinned:null,column:n.column}),i){const l=this.gridOptionsService.getCallback("navigateToNextCell");if(le(l)){const c=l({key:t,previousCellPosition:n,nextCellPosition:o||null,event:e});le(c)?(c.floating&&(Mt(()=>{console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),o={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):o=null}}if(!o)return;if(o.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+o.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const a=this.getNormalisedPosition(o);a?this.focusPosition(a):this.tryToFocusFullWidthRow(o)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const n=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;const o=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?fn(n):n[0])};this.focusPosition(s);const a=o!=null?this.rowPositionUtils.before(s,o):!1,l={type:D.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:a};return this.eventService.dispatchEvent(l),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:fn(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(e.rowIndex);!(t&&(n==null?void 0:n.sticky))&&it(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};Fo([A("mouseEventService")],no.prototype,"mouseEventService",void 0);Fo([A("paginationProxy")],no.prototype,"paginationProxy",void 0);Fo([A("focusService")],no.prototype,"focusService",void 0);Fo([xt("rangeService")],no.prototype,"rangeService",void 0);Fo([A("columnModel")],no.prototype,"columnModel",void 0);Fo([A("rowModel")],no.prototype,"rowModel",void 0);Fo([A("ctrlsService")],no.prototype,"ctrlsService",void 0);Fo([A("rowRenderer")],no.prototype,"rowRenderer",void 0);Fo([A("headerNavigationService")],no.prototype,"headerNavigationService",void 0);Fo([A("rowPositionUtils")],no.prototype,"rowPositionUtils",void 0);Fo([A("cellNavigationService")],no.prototype,"cellNavigationService",void 0);Fo([A("pinnedRowModel")],no.prototype,"pinnedRowModel",void 0);Fo([he],no.prototype,"postConstruct",null);no=Fo([Re("navigationService")],no);var PWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let c1=class ure extends Rp{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){this.gridOptionsService.setDomData(this.getGui(),ure.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{jT(this.gridOptionsService,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedListener(e,"keydown",n)}};c1.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";PWe([he],c1.prototype,"postConstruct",null);let OWe=class extends Ve{constructor(e,t,n,i,o){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=i,this.cellCtrl=t,this.setTemplate(`<div comp-id="${this.getCompId()}"/>`);const s=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a=(c,d)=>{d!=null&&d!=""?s.setAttribute(c,d):s.removeAttribute(c)};jr(s,"gridcell"),a("col-id",t.getColumnIdSanitised());const l=t.getTabIndex();l!==void 0&&a("tabindex",l.toString());const u={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),setUserStyles:c=>IV(s,c),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:c=>this.includeSelection=c,setIncludeRowDrag:c=>this.includeRowDrag=c,setIncludeDndSource:c=>this.includeDndSource=c,setRenderDetails:(c,d,h)=>this.setRenderDetails(c,d,h),setEditDetails:(c,d,h)=>this.setEditDetails(c,d,h),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(u,this.getGui(),this.eCellWrapper,n,o)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const o=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||o)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;i&&(this.eCellWrapper=di('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));const o=!n&&this.eCellWrapper!=null;o&&(ou(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);const s=!e&&n,a=s&&this.eCellValue==null;a&&(this.eCellValue=di('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));const l=!s&&this.eCellValue!=null;l&&(ou(this.eCellValue),this.eCellValue=void 0);const u=i||o||a||l;return u&&this.removeControls(),e||t&&this.addControls(),u}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,n){const i=this.editorVersion,o=e.newAgStackInstance();if(!o)return;const{params:s}=e;o.then(l=>this.afterCellEditorCreated(i,l,s,t,n)),it(this.cellEditor)&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Hi(t);const n=e!=null?xr(e):null;n!=null&&(t.innerHTML=n)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),ou(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),ou(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const n=!this.beans.gridOptionsService.is("suppressAnimationFrame"),i=this.rendererVersion,{componentClass:o}=e,s=()=>{if(this.rendererVersion!==i||!this.isAlive())return;const l=e.newAgStackInstance(),u=this.afterCellRendererCreated.bind(this,i,o);l&&l.then(u)};n&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}if(this.cellRenderer=n,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const o=this.getParentOfValue();Hi(o),o.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,n,i,o){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const l=i||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(n,o):this.addInCellEditor(),this.refreshEditStyles(!0,l),t.afterGuiAttached&&t.afterGuiAttached()}refreshEditStyles(e,t){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),(n=this.rowCtrl)===null||n===void 0||n.setInlineEditingCss(e)}addInCellEditor(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const n=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new c1(e));const i=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&i.appendChild(this.cellEditorGui);const o=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=t??(n.getPopupPosition?n.getPopupPosition():"over"),l=this.beans.gridOptionsService.is("enableRtl"),u={ePopup:i,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=o.positionPopupByComponent.bind(o,u),d=this.beans.localeService.getLocaleTextFunc(),h=o.addPopup({modal:s,eChild:i,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&DD()&&e.focus({preventScroll:!0}),Hi(this.getParentOfValue())}},DWe=class extends Ve{constructor(e,t,n){super(),this.cellComps={},this.beans=t,this.rowCtrl=e,this.setTemplate(`<div comp-id="${this.getCompId()}" style="${this.getInitialStyle(n)}"/>`);const i=this.getGui(),o=i.style;this.domOrder=this.rowCtrl.getDomOrder(),jr(i,"row");const s=this.rowCtrl.getTabIndex();s!=null&&i.setAttribute("tabindex",s.toString());const a={setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,u)=>this.addOrRemoveCssClass(l,u),setUserStyles:l=>IV(i,l),setTop:l=>o.top=l,setTransform:l=>o.transform=l,setRowIndex:l=>i.setAttribute("row-index",l),setRowId:l=>i.setAttribute("row-id",l),setRowBusinessKey:l=>i.setAttribute("row-business-key",l)};e.setComp(a,this.getGui(),n),this.addDestroyFunc(()=>{e.unsetComp(n)})}getInitialStyle(e){const t=this.rowCtrl.getInitialTransform(e),n=this.rowCtrl.getInitialRowTop(e);return t?`transform: ${t}`:`top: ${n}`}showFullWidth(e){const t=i=>{if(this.isAlive()){const o=i.getGui();this.getGui().appendChild(o),this.rowCtrl.setupDetailRowAutoHeight(o),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)},n=e.newAgStackInstance();n&&n.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(i=>{const o=i.getInstanceId();this.cellComps[o]==null?this.newCellComp(i):t[o]=null});const n=Ol(t).filter(i=>i!=null);this.destroyCells(n),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(n=>{const i=this.cellComps[n.getInstanceId()];i&&t.push(i.getGui())}),xV(this.getGui(),t)}newCellComp(e){const t=new OWe(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=Ol(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(e){e.forEach(t=>{if(!t)return;const n=t.getCtrl().getInstanceId();this.cellComps[n]===t&&(t.detach(),t.destroy(),this.cellComps[n]=null)})}};var xw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function AWe(){const r=Ve.elementGettingCreated.getAttribute("name"),e=Gl.getRowContainerCssClasses(r);let t;return r===re.CENTER||r===re.TOP_CENTER||r===re.STICKY_TOP_CENTER||r===re.BOTTOM_CENTER?t=`<div class="${e.viewport}" ref="eViewport" role="presentation">
                <div class="${e.container}" ref="eContainer"></div>
            </div>`:t=`<div class="${e.container}" ref="eContainer"></div>`,t}let Iw=class extends Ve{constructor(){super(AWe()),this.rowComps={},this.name=Ve.elementGettingCreated.getAttribute("name"),this.type=_We(this.name)}postConstruct(){const e={setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:n=>this.setRowCtrls(n),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>this.eContainer.style.width=n};this.createManagedBean(new Gl(this.name)).setComp(e,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(e){const t=Object.assign({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const n=i=>{const o=i.getInstanceId(),s=t[o];if(s)this.rowComps[o]=s,delete t[o],this.ensureDomOrder(s.getGui());else{if(!i.getRowNode().displayed)return;const a=new DWe(i,this.beans,this.type);this.rowComps[o]=a,this.appendRow(a.getGui())}};e.forEach(n),Ol(t).forEach(i=>{this.eContainer.removeChild(i.getGui()),i.destroy()}),jr(this.eContainer,e.length?"rowgroup":"presentation")}appendRow(e){this.domOrder?rne(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e}ensureDomOrder(e){this.domOrder&&(AV(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}};xw([A("beans")],Iw.prototype,"beans",void 0);xw([ue("eViewport")],Iw.prototype,"eViewport",void 0);xw([ue("eContainer")],Iw.prototype,"eContainer",void 0);xw([he],Iw.prototype,"postConstruct",null);xw([Si],Iw.prototype,"preDestroy",null);var cre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let d1=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gridOptionsService.is("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ct.ICON_PINNED:ct.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};cre([A("columnModel")],d1.prototype,"columnModel",void 0);cre([A("gridOptionsService")],d1.prototype,"gridOptionsService",void 0);var Fw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let am=class{constructor(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!le(e)}init(){this.ctrlsService.whenReady(()=>{this.gridBodyCon=this.ctrlsService.getGridBodyCtrl()})}getIconName(){return this.pinned?ct.ICON_PINNED:ct.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===wr.ToolPanel)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const i=e.dragItem.visibleState,o=(t||[]).filter(s=>i[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n="api"){if(e){const i=e.filter(o=>!o.getColDef().lockVisible);this.columnModel.setColumnsVisible(i,t,n)}}setColumnsPinned(e,t,n="api"){if(e){const i=e.filter(o=>!o.getColDef().lockPinned);this.columnModel.setColumnsPinned(i,t,n)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}normaliseX(e){return this.gridOptionsService.is("enableRtl")&&(e=this.eContainer.clientWidth-e),this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e}checkCenterForScrolling(e){if(this.centerContainer){const t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){var o;if(i){if(this.lastMovedInfo){const{columns:c,toIndex:d}=this.lastMovedInfo;this.moveColumns(c,d,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,it(e.hDirection))return;const s=this.normaliseX(e.x);t||this.checkCenterForScrolling(s);const a=this.normaliseDirection(e.hDirection),l=e.dragSource.type,u=((o=e.dragSource.getDragItem().columns)===null||o===void 0?void 0:o.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0))||[];this.attemptMoveColumns({dragSourceType:l,allMovingColumns:u,hDirection:a,mouseX:s,fromEnter:t,fakeEvent:n})}normaliseDirection(e){if(this.gridOptionsService.is("enableRtl"))switch(e){case il.Left:return il.Right;case il.Right:return il.Left;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}attemptMoveColumns(e){const{dragSourceType:t,hDirection:n,mouseX:i,fromEnter:o,fakeEvent:s}=e,a=n===il.Left,l=n===il.Right;let{allMovingColumns:u}=e;if(t===wr.HeaderCell){let C=[];u.forEach(w=>{var S;let P=null,F=w.getParent();for(;F!=null&&F.getDisplayedLeafColumns().length===1;)P=F,F=F.getParent();P!=null?(!!(!((S=P.getColGroupDef())===null||S===void 0)&&S.marryChildren)?P.getProvidedColumnGroup().getLeafColumns():P.getLeafColumns()).forEach(T=>{C.includes(T)||C.push(T)}):C.includes(w)||C.push(w)}),u=C}const c=u.slice();this.columnModel.sortColumnsLikeGridColumns(c);const d=this.calculateValidMoves(c,l,i),h=this.calculateOldIndex(c);if(d.length===0)return;const p=d[0];let f=h!==null&&!o;if(t==wr.HeaderCell&&(f=h!==null),f&&!s&&(a&&p>=h||l&&p<=h))return;const g=this.columnModel.getAllDisplayedColumns();let v=[],y=null;for(let C=0;C<d.length;C++){const w=d[C],S=this.columnModel.getProposedColumnOrder(c,w);if(!this.columnModel.doesOrderPassRules(S))continue;const P=S.filter(_=>g.includes(_));if(y===null)y=P;else if(!K.areEqual(P,y))break;const F=this.groupFragCount(S);v.push({move:w,fragCount:F})}v.length!==0&&(v.sort((C,w)=>C.fragCount-w.fragCount),this.moveColumns(u,v[0].move,"uiColumnMoved",!1))}calculateOldIndex(e){const t=this.columnModel.getAllGridColumns(),n=wte(e.map(l=>t.indexOf(l))),i=n[0];return fn(n)-i!==n.length-1?null:i}moveColumns(e,t,n,i){this.columnModel.moveColumns(e,t,n,i),this.lastMovedInfo=i?null:{columns:e,toIndex:t}}groupFragCount(e){function t(i){let o=[],s=i.getOriginalParent();for(;s!=null;)o.push(s),s=s.getOriginalParent();return o}let n=0;for(let i=0;i<e.length-1;i++){let o=t(e[i]),s=t(e[i+1]);[o,s]=o.length>s.length?[o,s]:[s,o],o.forEach(a=>{s.indexOf(a)===-1&&n++})}return n}calculateValidMoves(e,t,n){if(this.gridOptionsService.is("suppressMovableColumns")||e.some(g=>g.getColDef().suppressMovable))return[];const o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(g=>Sl(e,g)),l=o.filter(g=>!Sl(e,g)),u=s.filter(g=>!Sl(e,g));let c=0,d=n;if(t){let g=0;a.forEach(v=>g+=v.getActualWidth()),d-=g}if(d>0){for(let g=0;g<l.length;g++){const v=l[g];if(d-=v.getActualWidth(),d<0)break;c++}t&&c++}let h;if(c>0){const g=l[c-1];h=u.indexOf(g)+1}else h=u.indexOf(l[0]),h===-1&&(h=0);const p=[h],f=(g,v)=>g-v;if(t){let g=h+1;const v=s.length-1;for(;g<=v;)p.push(g),g++;p.sort(f)}else{let g=h;const v=s.length-1;let y=s[g];for(;g<=v&&this.isColumnHidden(o,y);)g++,p.push(g),y=s[g];g=h-1;const C=0;for(;g>=C;)p.push(g),g--;p.sort(f).reverse()}return p}isColumnHidden(e,t){return e.indexOf(t)<0}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ct.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ct.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ct.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const o=this.lastDraggingEvent.dragItem.columns.filter(s=>!s.getColDef().lockPinned);if(o.length>0&&(this.dragAndDropService.setGhostIcon(ct.ICON_PINNED),this.failedMoveAttempts>7)){const s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};Fw([A("columnModel")],am.prototype,"columnModel",void 0);Fw([A("dragAndDropService")],am.prototype,"dragAndDropService",void 0);Fw([A("gridOptionsService")],am.prototype,"gridOptionsService",void 0);Fw([A("ctrlsService")],am.prototype,"ctrlsService",void 0);Fw([he],am.prototype,"init",null);var Mw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let lm=class extends ae{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]];break}})}isInterestedIn(e){return e===wr.HeaderCell||e===wr.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new am(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new d1(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===wr.ToolPanel}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};Mw([A("dragAndDropService")],lm.prototype,"dragAndDropService",void 0);Mw([A("columnModel")],lm.prototype,"columnModel",void 0);Mw([A("ctrlsService")],lm.prototype,"ctrlsService",void 0);Mw([he],lm.prototype,"postConstruct",null);Mw([he],lm.prototype,"init",null);let jD=class{static getHeaderClassesFromColDef(e,t,n,i){return it(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,i)}static getToolPanelClassesFromColDef(e,t,n,i){return it(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,i)}static getClassParams(e,t,n,i){return{colDef:e,column:n,columnGroup:i,api:t.api,columnApi:t.columnApi,context:t.context}}static getColumnClassesFromCollDef(e,t,n,i,o){if(it(e))return[];let s;if(typeof e=="function"){const a=this.getClassParams(t,n,i,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}};var WD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let um=class dre extends r1{constructor(e){super(dre.TEMPLATE,e),this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((o,s)=>{s!=null&&s!=""?e.setAttribute(o,s):e.removeAttribute(o)})("col-id",this.column.getColId());const n={setWidth:o=>e.style.width=o,addOrRemoveCssClass:(o,s)=>this.addOrRemoveCssClass(o,s),setAriaDescription:o=>Nte(e,o),setAriaSort:o=>o?Ute(e,o):zte(e),setUserCompDetails:o=>this.setUserCompDetails(o),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper);const i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};um.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;WD([ue("eResize")],um.prototype,"eResize",void 0);WD([ue("eHeaderCompWrapper")],um.prototype,"eHeaderCompWrapper",void 0);WD([he],um.prototype,"postConstruct",null);WD([Si],um.prototype,"destroyHeaderComp",null);var h1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Lw=class hre extends r1{constructor(e){super(hre.TEMPLATE,e)}postConstruct(){const e=this.getGui(),t=(i,o)=>o!=null?e.setAttribute(i,o):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.getColId());const n={addOrRemoveCssClass:(i,o)=>this.addOrRemoveCssClass(i,o),setResizableDisplayed:i=>$t(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i)};this.ctrl.setComp(n,e,this.eResize)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const n=this.getGui(),i=e.getGui();n.appendChild(i),this.addDestroyFunc(t),this.ctrl.setDragSource(n)}};Lw.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;h1([A("userComponentFactory")],Lw.prototype,"userComponentFactory",void 0);h1([ue("eResize")],Lw.prototype,"eResize",void 0);h1([he],Lw.prototype,"postConstruct",null);var pre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hi;(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"})(hi||(hi={}));let p1=class extends Ve{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){this.getGui().style.transform=this.ctrl.getTransform(),wV(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(e,t){if(!this.isAlive())return;const n=this.headerComps;if(this.headerComps={},e.forEach(i=>{const o=i.getInstanceId();let s=n[o];delete n[o],s==null&&(s=this.createHeaderComp(i),this.getGui().appendChild(s.getGui())),this.headerComps[o]=s}),hr(n,(i,o)=>{this.getGui().removeChild(o.getGui()),this.destroyBean(o)}),t){const i=Ol(this.headerComps);i.sort((s,a)=>{const l=s.getCtrl().getColumnGroupChild().getLeft(),u=a.getCtrl().getColumnGroupChild().getLeft();return l-u});const o=i.map(s=>s.getGui());xV(this.getGui(),o)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case hi.COLUMN_GROUP:t=new Lw(e);break;case hi.FLOATING_FILTER:t=new Pp(e);break;default:t=new um(e);break}return this.createBean(t),t.setParentComponent(this),t}};pre([he],p1.prototype,"init",null);pre([Si],p1.prototype,"destroyHeaderCtrls",null);var f1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let xWe=0,wd=class fre extends ae{constructor(e,t){super(),this.lastFocusEvent=null,this.columnGroupChild=e,this.parentRowCtrl=t,this.instanceId=e.getUniqueId()+"-"+xWe++}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.focusService.getFocusedHeader();return une(this.gridOptionsService,e,t,n)}getWrapperHasFocus(){return this.gridOptionsService.getDocument().activeElement===this.eGui}setGui(e){this.eGui=e,this.addDomData()}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case Y.PAGE_DOWN:case Y.PAGE_UP:case Y.PAGE_HOME:case Y.PAGE_END:t&&e.preventDefault()}}addDomData(){const e=fre.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,e,this),this.addDestroyFunc(()=>this.gridOptionsService.setDomData(this.eGui,e,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}};wd.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";f1([A("focusService")],wd.prototype,"focusService",void 0);f1([A("beans")],wd.prototype,"beans",void 0);f1([A("userComponentFactory")],wd.prototype,"userComponentFactory",void 0);var IWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let UD=class extends ae{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?fn(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Xe.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=le(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),n=e.getOldLeft(),i=this.modifyLeftForPrintLayout(e,n),o=this.modifyLeftForPrintLayout(e,t);this.setLeft(i),this.actualLeft=o,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===o&&this.setLeft(o)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gridOptionsService.isDomLayout("print")||e.getPinned()==="left")return t;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const o=this.beans.columnModel.getBodyContainerWidth();return i+o+t}return i+t}setLeft(e){le(e)&&(this.eCell.style.left=`${e}px`);let t;if(this.columnOrGroup instanceof Xe)t=this.columnOrGroup;else{const o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&Wte(this.ariaEl,o.length),t=o[0]}const n=this.beans.columnModel.getAriaColumnIndex(t);SV(this.ariaEl,n)}};IWe([he],UD.prototype,"postConstruct",null);var gre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Nw=class extends ae{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};gre([A("columnHoverService")],Nw.prototype,"columnHoverService",void 0);gre([he],Nw.prototype,"postConstruct",null);var g1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let zD=class extends wd{constructor(e,t){super(e,t),this.iconCreated=!1,this.column=e}setComp(e,t,n,i){super.setGui(t),this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Xe.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=vr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new vs(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Gu(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gridOptionsService.getDocument().activeElement===this.eGui)return;const o=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(o){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),o.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let n=this.column;do if(n=e?t.getDisplayedColBefore(n):t.getDisplayedColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case Y.UP:case Y.DOWN:t||e.preventDefault();case Y.LEFT:case Y.RIGHT:if(t)return;e.stopPropagation();case Y.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Y.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Eh(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const s=this.lastFocusEvent,a=!!(s&&s.key===Y.TAB);if(s&&a){const l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}const o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}setupHover(){this.createManagedBean(new Nw([this.column],this.eGui));const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,D.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new UD(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){const e=this.column.getColDef();this.suppressFilterButton=e.floatingFilterComponentParams?!!e.floatingFilterComponentParams.suppressFilterButton:!1}setupUserComp(){if(!this.active)return;const e=this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])}setupSyncWithFilter(){if(!this.active)return;const e=t=>{const n=this.comp.getFloatingFilterComp();n&&n.then(i=>{if(i){const o=this.filterManager.getCurrentFloatingFilterParentModel(this.column);i.onParentModelChanged(o,t)}})};this.destroySyncListener=this.addManagedListener(this.column,Xe.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,Xe.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Xe.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))}updateFilterButton(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))}onColDefChanged(){var e,t;const n=this.active;this.setupActive();const i=!n&&this.active;n&&!this.active&&((e=this.destroySyncListener)===null||e===void 0||e.call(this),(t=this.destroyFilterChangedListener)===null||t===void 0||t.call(this));const o=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!o?this.updateCompDetails(o,i):s.then(a=>{var l;!a||this.filterManager.areFilterCompsDifferent((l=this.userCompDetails)!==null&&l!==void 0?l:null,o)?this.updateCompDetails(o,i):this.updateFloatingFilterParams(o)})}updateCompDetails(e,t){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())}updateFloatingFilterParams(e){var t;if(!e)return;const n=e.params;(t=this.comp.getFloatingFilterComp())===null||t===void 0||t.then(i=>{i!=null&&i.onParamsUpdated&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(n)})}};g1([A("filterManager")],zD.prototype,"filterManager",void 0);g1([A("columnHoverService")],zD.prototype,"columnHoverService",void 0);g1([A("menuFactory")],zD.prototype,"menuFactory",void 0);var m1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let KD=class extends ae{constructor(e,t,n,i,o){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=o}postConstruct(){const e=this.column.getColDef(),t=[];let n,i;const o=()=>{if($t(this.eResize,n),!n)return;const l=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(l),i){const u=this.gridOptionsService.is("skipHeaderOnAutoSize"),c=()=>{this.columnModel.autoSizeColumn(this.column,u,"uiColumnResized")};this.eResize.addEventListener("dblclick",c);const d=new yr(this.eResize);d.addEventListener(yr.EVENT_DOUBLE_TAP,c),this.addDestroyFunc(()=>{this.eResize.removeEventListener("dblclick",c),d.removeEventListener(yr.EVENT_DOUBLE_TAP,c),d.destroy()})}},s=()=>{t.forEach(l=>l()),t.length=0},a=()=>{const l=this.column.isResizable(),u=!this.gridOptionsService.is("suppressAutoSize")&&!e.suppressAutoSize;(l!==n||u!==i)&&(n=l,i=u,s(),o())};a(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(a)}onResizing(e,t){const n=this.normaliseResizeAmount(t),i=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnModel.setColumnWidths(i,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gridOptionsService.is("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}};m1([A("horizontalResizeService")],KD.prototype,"horizontalResizeService",void 0);m1([A("columnModel")],KD.prototype,"columnModel",void 0);m1([he],KD.prototype,"postConstruct",null);var YD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Gw=class extends ae{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e;const t=e.getColDef();this.filteredOnly=!!(t!=null&&t.headerCheckboxSelectionFilteredOnly),this.currentPageOnly=!!(t!=null&&t.headerCheckboxSelectionCurrentPageOnly)}onSpaceKeyDown(e){const t=this.cbSelectAll,n=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(n.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Sne),this.cbSelectAll.addCssClass("ag-header-select-all"),jr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,D.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,D.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),TD(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${i} (${n})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${i} (${n})`),this.headerCellCtrl.refreshAriaDescription()}checkSelectionType(e){return this.gridOptionsService.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue();let t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");const n={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,n={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};e=t(n)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}};YD([A("gridApi")],Gw.prototype,"gridApi",void 0);YD([A("columnApi")],Gw.prototype,"columnApi",void 0);YD([A("rowModel")],Gw.prototype,"rowModel",void 0);YD([A("selectionService")],Gw.prototype,"selectionService",void 0);var mre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Kf;(function(r){r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Kf||(Kf={}));let v1=class extends ae{constructor(e){super(),this.skipTabGuardFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusInnerElement:o,onFocusIn:s,onFocusOut:a,shouldStopEventPropagation:l,onTabKeyDown:u,handleKeyDown:c,eFocusableElement:d}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=o,this.eFocusableElement=d,this.providedFocusIn=s,this.providedFocusOut=a,this.providedShouldStopEventPropagation=l,this.providedOnTabKeyDown=u,this.providedHandleKeyDown=c}postConstruct(){this.createManagedBean(new vs(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){const e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}onFocusIn(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()}onFocusOut(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()}};mre([A("focusService")],v1.prototype,"focusService",void 0);mre([he],v1.prototype,"postConstruct",null);var Ss=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Oi;let lr=Oi=class extends ae{static addKeyboardModeEvents(e,t){const n=Oi.instancesMonitored.get(e);n&&n.length>0?n.indexOf(t)===-1&&n.push(t):(Oi.instancesMonitored.set(e,[t]),e.addEventListener("keydown",Oi.toggleKeyboardMode),e.addEventListener("mousedown",Oi.toggleKeyboardMode))}static removeKeyboardModeEvents(e,t){const n=Oi.instancesMonitored.get(e);let i=[];n&&n.length&&(i=[...n].filter(o=>o!==t),Oi.instancesMonitored.set(e,i)),i.length===0&&(e.removeEventListener("keydown",Oi.toggleKeyboardMode),e.removeEventListener("mousedown",Oi.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=Oi.keyboardModeActive,n=e.type==="keydown";if(n&&(e.ctrlKey||e.metaKey||e.altKey)||t&&n||!t&&!n)return;Oi.keyboardModeActive=n;const i=e.target.ownerDocument;if(!i)return;const o=Oi.instancesMonitored.get(i);o&&o.forEach(s=>{s.dispatchEvent({type:n?D.EVENT_KEYBOARD_FOCUS:D.EVENT_MOUSE_FOCUS})})}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl;const n=this.gridOptionsService.getDocument();Oi.addKeyboardModeEvents(n,this.gridCtrl),this.addDestroyFunc(()=>this.unregisterGridCompController(this.gridCtrl))})}unregisterGridCompController(e){const t=this.gridOptionsService.getDocument();Oi.removeKeyboardModeEvents(t,e)}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return Oi.keyboardModeActive}getFocusCellToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Yc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){const e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,wd.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(this.gridOptionsService.getDomData(n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:n}=this.focusedCellPosition,i={rowIndex:e,rowPinned:t,column:n,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return o&&(i.isFullWidthCell=o.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=Object.assign({type:D.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:o=!1,preventScrollOnBrowserFocus:s=!1}=e,a=this.columnModel.getGridColumn(t);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition=a?{rowIndex:n,rowPinned:wl(i),column:a}:null;const l=Object.assign(Object.assign({type:D.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:o,preventScrollOnBrowserFocus:s,floating:null});this.eventService.dispatchEvent(l)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const t=e.getColumnGroupChild(),n=e.getRowIndex(),i=e.getPinned(),{column:o,headerRowIndex:s}=this.focusedHeaderPosition;return t===o&&n===s&&i==o.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){const{direction:t,fromTab:n,allowUserOverride:i,event:o,fromCell:s}=e;let{headerPosition:a}=e;if(s&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){const c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(n){const h=this.gridOptionsService.getCallback("tabToNextHeader");h&&(a=h({backwards:t==="Before",previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d}))}else{const h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&o){const p={key:o.key,previousHeaderPosition:c,nextHeaderPosition:a,headerRowCount:d,event:o};a=h(p)}}}return a?a.headerRowIndex===-1?this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(a.column):(this.headerNavigationService.scrollToColumn(a.column,t),this.ctrlsService.getHeaderRowContainerCtrl(a.column.getPinned()).focusHeader(a.headerRowIndex,a.column,o)):!1}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];return e?(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}})):!1}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,n=fn(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===wl(t)}findFocusableElements(e,t,n=!1){const i=tne;let o=TV;t&&(o+=", "+t),n&&(o+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(i)),a=Array.prototype.slice.apply(e.querySelectorAll(o));return a.length?((u,c)=>u.filter(d=>c.indexOf(d)===-1))(s,a):s}focusInto(e,t=!1,n=!1){const i=this.findFocusableElements(e,null,n),o=t?fn(i):i[0];return o?(o.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const n=this.findFocusableElements(e),i=n.indexOf(t);if(i===-1)return null;let o=-1;for(let s=i-1;s>=0;s--)if(n[s].classList.contains(Kf.TAB_GUARD_TOP)){o=s;break}return o<=0?null:n[o-1]}findNextFocusableElement(e=this.eGridDiv,t,n){const i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument().activeElement;let a;t?a=i.findIndex(u=>u.contains(s)):a=i.indexOf(s);const l=a+(n?-1:1);return l<0||l>=i.length?null:i[l]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const n=e.querySelectorAll(`.${vs.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let i=0;i<n.length;i++)if(n[i].contains(t))return!0;return!1}findTabbableParent(e,t=5){let n=0;for(;e&&BT(e)===null&&++n<=t;)e=e.parentElement;return BT(e)===null?null:e}focusGridView(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);const n=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;const{rowIndex:i,rowPinned:o}=n,s=this.getFocusedHeader();if(!e&&s&&(e=s.column),i==null||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:i,column:e,rowPinned:o}),this.setFocusedCell({rowIndex:i,column:e,rowPinned:wl(o),forceBrowserFocus:!0}),this.rangeService){const a={rowIndex:i,rowPinned:o,column:e};this.rangeService.setRangeToCell(a)}return!0}focusNextGridCoreContainer(e,t=!1){return!t&&this.gridCtrl.focusNextInnerContainer(e)?!0:((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e==null?void 0:e.column,this.advancedFilterService.getCtrl().focusHeaderComp()}focusNextFromAdvancedFilter(e,t){var n,i;const o=(n=t?void 0:this.advancedFilterFocusColumn)!==null&&n!==void 0?n:(i=this.columnModel.getAllDisplayedColumns())===null||i===void 0?void 0:i[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};lr.AG_KEYBOARD_FOCUS="ag-keyboard-focus";lr.keyboardModeActive=!1;lr.instancesMonitored=new Map;Ss([A("eGridDiv")],lr.prototype,"eGridDiv",void 0);Ss([A("columnModel")],lr.prototype,"columnModel",void 0);Ss([A("headerNavigationService")],lr.prototype,"headerNavigationService",void 0);Ss([A("rowRenderer")],lr.prototype,"rowRenderer",void 0);Ss([A("rowPositionUtils")],lr.prototype,"rowPositionUtils",void 0);Ss([A("cellPositionUtils")],lr.prototype,"cellPositionUtils",void 0);Ss([xt("rangeService")],lr.prototype,"rangeService",void 0);Ss([A("navigationService")],lr.prototype,"navigationService",void 0);Ss([A("ctrlsService")],lr.prototype,"ctrlsService",void 0);Ss([A("filterManager")],lr.prototype,"filterManager",void 0);Ss([xt("advancedFilterService")],lr.prototype,"advancedFilterService",void 0);Ss([he],lr.prototype,"init",null);lr=Oi=Ss([Re("focusService")],lr);var $u=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vl=class extends wd{constructor(e,t){super(e,t),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,n,i){super.setGui(t),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new KD(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new Nw([this.column],t)),this.createManagedBean(new UD(this.column,t,this.beans)),this.createManagedBean(new vs(t,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(t),this.addManagedListener(this.column,Xe.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))}addMouseDownListenerIfNeeded(e){if(!_a())return;const t=["mousedown","touchstart"],n=this.gridOptionsService.getDocument();t.forEach(i=>{this.addManagedListener(e,i,o=>{const s=n.activeElement;s!==e&&!e.contains(s)&&(e.focus(),lr.toggleKeyboardMode(o))})})}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){const e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:n=>{this.gridApi.showColumnMenuAfterButtonClick(this.column,n)},progressSort:n=>{this.sortController.progressSort(this.column,!!n,"uiColumnSorted")},setSort:(n,i)=>{this.sortController.setSortForColumn(this.column,n,!!i,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new Gw(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===Y.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Y.ENTER&&this.onEnterKeyDown(e)}onEnterKeyDown(e){const t=this.comp.getUserCompInstance();if(t){if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){const n=e.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}}}isMenuEnabled(){return this.menuEnabled}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(){const e={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>this.eGui,getLocation:()=>"header",getTooltipValue:()=>this.column.getColDef().headerTooltip},t=this.createManagedBean(new i1(e,this.beans));t.setComp(this.eGui),this.refreshFunctions.push(()=>t.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=jD.getHeaderClassesFromColDef(t,this.gridOptionsService,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(o=>{i.has(o)?i.delete(o):this.comp.addOrRemoveCssClass(o,!0)}),i.forEach(o=>this.comp.addOrRemoveCssClass(o,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;let t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:wr.HeaderCell,eElement:e,getDefaultIconName:()=>t?ct.ICON_HIDE:ct.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,onDragStarted:()=>{t=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),this.column.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>this.column.setMoving(!1,"uiColumnMoved"),onGridEnter:n=>{var i;if(t){const o=((i=n==null?void 0:n.columns)===null||i===void 0?void 0:i.filter(s=>!s.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(o,!0,"uiColumnMoved")}},onGridExit:n=>{var i;if(t){const o=((i=n==null?void 0:n.columns)===null||i===void 0?void 0:i.filter(s=>!s.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(o,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}removeDragSource(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)}onColDefChanged(){this.refresh()}updateState(){const e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,Xe.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Xe.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Xe.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,Xe.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,columnModel:i,gridOptionsService:o}=this;if(!t.isSpanHeaderHeight())return;const{numberOfParents:s,isSpanningTotal:a}=this.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",s>0);const l=i.getColumnHeaderRowHeight();if(s===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);const c=o.is("pivotMode")?i.getPivotGroupHeaderHeight():i.getGroupHeaderHeight(),d=s*c;e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${l+d}px`)}getColumnGroupPaddingInfo(){let e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}setupAutoHeight(e){const t=l=>{if(!this.isAlive())return;const{paddingTop:u,paddingBottom:c,borderBottomWidth:d,borderTopWidth:h}=md(this.getGui()),p=u+c+d+h,g=e.offsetHeight+p;if(l<5){const v=this.beans.gridOptionsService.getDocument(),y=!v||!v.contains(e),C=g==0;if(y||C){this.beans.frameworkOverrides.setTimeout(()=>t(l+1),0);return}}this.columnModel.setColumnHeaderHeight(this.column,g)};let n=!1,i;const o=()=>{const l=this.column.isAutoHeaderHeight();l&&!n&&s(),!l&&n&&a()},s=()=>{n=!0,t(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),i=this.resizeObserverService.observeResize(e,()=>t(0))},a=()=>{n=!1,i&&i(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),i=void 0};o(),this.addDestroyFunc(()=>a()),this.addManagedListener(this.column,Xe.EVENT_WIDTH_CHANGED,()=>n&&t(0)),this.addManagedListener(this.eventService,Xe.EVENT_SORT_CHANGED,()=>{n&&this.beans.frameworkOverrides.setTimeout(()=>t(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Fte(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}refreshAriaDescription(){const e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()}addColumnHoverListener(){const e=()=>{if(!this.gridOptionsService.is("columnHoverHighlight"))return;const t=this.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,D.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupFilterCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-filtered",this.column.isFilterActive())};this.addManagedListener(this.column,Xe.EVENT_FILTER_ACTIVE_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=t=>this.setActiveHeader(t.type==="mouseenter");this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}};$u([A("columnModel")],Vl.prototype,"columnModel",void 0);$u([A("columnHoverService")],Vl.prototype,"columnHoverService",void 0);$u([A("sortController")],Vl.prototype,"sortController",void 0);$u([A("menuFactory")],Vl.prototype,"menuFactory",void 0);$u([A("dragAndDropService")],Vl.prototype,"dragAndDropService",void 0);$u([A("resizeObserverService")],Vl.prototype,"resizeObserverService",void 0);$u([A("gridApi")],Vl.prototype,"gridApi",void 0);$u([A("columnApi")],Vl.prototype,"columnApi",void 0);$u([Si],Vl.prototype,"removeDragSource",null);var qD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Vw=class extends ae{constructor(e,t,n,i){super(),this.eResize=t,this.comp=e,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){const t=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const n=[];this.columnGroup.getDisplayedLeafColumns().forEach(o=>{o.getColDef().suppressAutoSize||n.push(o.getColId())}),n.length>0&&this.columnModel.autoSizeColumns({columns:n,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){this.calculateInitialValues();let t=null;if(e&&(t=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),t){const n=t.getDisplayedLeafColumns();this.resizeTakeFromCols=n.filter(i=>i.isResizable()),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(i=>this.resizeTakeFromStartWidth+=i.getActualWidth()),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(i=>this.resizeTakeFromRatios.push(i.getActualWidth()/this.resizeTakeFromStartWidth))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),o=this.resizeStartWidth+i;this.resizeColumns(o,n,e)}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),t>this.resizeStartWidth&&this.resizeColumns(t,e,!0)}resizeColumns(e,t,n=!0){const i=[];if(i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){const o=e-this.resizeStartWidth;i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-o})}this.columnModel.resizeColumnSets({resizeSets:i,finished:n,source:t}),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)}calculateInitialValues(){const e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter(t=>t.isResizable()),this.resizeStartWidth=0,this.resizeCols.forEach(t=>this.resizeStartWidth+=t.getActualWidth()),this.resizeRatios=[],this.resizeCols.forEach(t=>this.resizeRatios.push(t.getActualWidth()/this.resizeStartWidth))}normaliseDragChange(e){let t=e;return this.gridOptionsService.is("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}};qD([A("horizontalResizeService")],Vw.prototype,"horizontalResizeService",void 0);qD([A("autoWidthCalculator")],Vw.prototype,"autoWidthCalculator",void 0);qD([A("columnModel")],Vw.prototype,"columnModel",void 0);qD([he],Vw.prototype,"postConstruct",null);var FWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let vre=class extends ae{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Vr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};FWe([he],vre.prototype,"postConstruct",null);var QD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Hw=class extends wd{constructor(e,t){super(e,t),this.columnGroup=e}setComp(e,t,n){super.setGui(t),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();const i=this.getParentRowCtrl().getPinned(),o=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Nw(o,t)),this.createManagedBean(new UD(this.columnGroup,t,this.beans)),this.createManagedBean(new vre(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Vw(e,n,i,this.columnGroup)),this.createManagedBean(new vs(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}resizeLeafColumnsToFit(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){let e=this.displayName;const t={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:i=>{this.columnModel.setColumnGroupOpened(this.columnGroup.getProvidedColumnGroup(),i,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){let i=this.columnGroup;const o=i.getLeafColumns();for(;i.getParent()&&i.getParent().getLeafColumns().length===o.length;)i=i.getParent();const s=i.getColGroupDef();s&&(e=s.headerName),e||(e=o?this.columnModel.getDisplayNameForColumn(o[0],"header",!0):"")}const n=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(n)}setupTooltip(){const e=this.columnGroup.getColGroupDef(),t={getColumn:()=>this.columnGroup,getGui:()=>this.eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>e&&e.headerTooltip};e&&(t.getColDef=()=>e),this.createManagedBean(new i1(t,this.beans)).setComp(this.eGui)}setupExpandable(){const e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,yn.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,yn.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.columnGroup;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.columnGroup.getUniqueId()}addClasses(){const e=this.columnGroup.getColGroupDef(),t=jD.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(t.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(n=>this.comp.addOrRemoveCssClass(n,!0))}setupMovingCss(){const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.columnGroup.isMoving());t.forEach(i=>{this.addManagedListener(i,Xe.EVENT_MOVING_CHANGED,n)}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===Y.ENTER){const n=this.columnGroup,i=!n.isExpanded();this.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){if(this.isSuppressMoving())return;const t=this.columnGroup.getProvidedColumnGroup().getLeafColumns();let n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const i={type:wr.HeaderCell,eElement:e,getDefaultIconName:()=>n?ct.ICON_HIDE:ct.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:()=>{n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),t.forEach(o=>o.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>t.forEach(o=>o.setMoving(!1,"uiColumnDragged")),onGridEnter:o=>{var s;if(n){const a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:o=>{var s;if(n){const a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(l=>!l.getColDef().lockVisible))||[];this.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(i))}getDragItemForGroup(){const e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach(i=>t[i.getId()]=i.isVisible());const n=[];return this.columnModel.getAllDisplayedColumns().forEach(i=>{e.indexOf(i)>=0&&(n.push(i),Zo(e,i))}),e.forEach(i=>n.push(i)),{columns:n,visibleState:t}}isSuppressMoving(){let e=!1;return this.columnGroup.getLeafColumns().forEach(n=>{(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")}};QD([A("columnModel")],Hw.prototype,"columnModel",void 0);QD([A("dragAndDropService")],Hw.prototype,"dragAndDropService",void 0);QD([A("gridApi")],Hw.prototype,"gridApi",void 0);QD([A("columnApi")],Hw.prototype,"columnApi",void 0);var XD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let MWe=0,Rh=class extends ae{constructor(e,t,n){super(),this.instanceId=MWe++,this.headerCellCtrls={},this.rowIndex=e,this.pinned=t,this.type=n;const i=n==hi.COLUMN_GROUP?"ag-header-row-column-group":n==hi.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}getTransform(){if(_a())return"translateZ(0)"}addEventListeners(){this.addManagedListener(this.eventService,D.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){return jf(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){return this.isPrintLayout?this.pinned!=null?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=this.columnModel.getHeaderRowCount();const t=[];let n=0;this.filterManager.hasFloatingFilters()&&(e++,n=1);const i=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),s=1+n,a=e-s;for(let c=0;c<a;c++)t.push(i);t.push(o);for(let c=0;c<n;c++)t.push(this.columnModel.getFloatingFiltersHeight());let l=0;for(let c=0;c<this.rowIndex;c++)l+=t[c];const u=t[this.rowIndex];return{topOffset:l,rowHeight:u}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(o=>{if(o.isEmptyGroup())return;const s=o.getUniqueId();let a=e[s];if(delete e[s],a&&a.getColumnGroupChild()!=o&&(this.destroyBean(a),a=void 0),a==null)switch(this.type){case hi.FLOATING_FILTER:a=this.createBean(new zD(o,this));break;case hi.COLUMN_GROUP:a=this.createBean(new Hw(o,this));break;default:a=this.createBean(new Vl(o,this));break}this.headerCellCtrls[s]=a});const n=o=>this.focusService.isHeaderWrapperFocused(o)?this.columnModel.isDisplayed(o.getColumnGroupChild()):!1;return hr(e,(o,s)=>{n(s)?this.headerCellCtrls[o]=s:this.destroyBean(s)}),Ol(this.headerCellCtrls)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth();return["left",null,"right"].forEach(n=>{const i=this.columnModel.getVirtualHeaderGroupRow(n,t);e=e.concat(i)}),e}getActualDepth(){return this.type==hi.FLOATING_FILTER?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){const i=Ol(this.headerCellCtrls).find(o=>o.getColumnGroupChild()==e);return i?(i.focus(t),!0):!1}destroy(){hr(this.headerCellCtrls,(e,t)=>{this.destroyBean(t)}),this.headerCellCtrls={},super.destroy()}};XD([A("columnModel")],Rh.prototype,"columnModel",void 0);XD([A("focusService")],Rh.prototype,"focusService",void 0);XD([A("filterManager")],Rh.prototype,"filterManager",void 0);XD([he],Rh.prototype,"postConstruct",null);var cm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Op=class extends ae{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,D.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new lm(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new FD,n=this.focusService.getFocusHeaderToUseAfterRefresh(),i=()=>{const l=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<l;u++){const c=this.createBean(new Rh(t.next(),this.pinned,hi.COLUMN_GROUP));this.groupsRowCtrls.push(c)}},o=()=>{const l=t.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==l);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new Rh(l,this.pinned,hi.COLUMN)))},s=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const l=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){l();return}const u=t.next();if(this.filtersRowCtrl){const c=this.filtersRowCtrl.getRowIndex()!==u;(!e||c)&&l()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Rh(u,this.pinned,hi.FLOATING_FILTER)))};i(),o(),s();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(n)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new sm(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const n=()=>{const i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(i==null)return;const o=i==0,s=this.hidden!==o,a=this.gridOptionsService.is("enableRtl"),l=this.gridOptionsService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&t)?i+l:i;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!o),s&&(this.hidden=o,this.refresh())};this.addManagedListener(this.eventService,D.EVENT_LEFT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,D.EVENT_RIGHT_PINNED_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,D.EVENT_SCROLL_VISIBILITY_CHANGED,n),this.addManagedListener(this.eventService,D.EVENT_SCROLLBAR_WIDTH_CHANGED,n)}getHeaderCtrlForColumn(e){if(e instanceof Xe)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const n=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const n=this.getAllCtrls()[e];return n?n.getType():void 0}focusHeader(e,t,n){const o=this.getAllCtrls()[e];return o?o.focusHeader(t,n):!1}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};cm([A("ctrlsService")],Op.prototype,"ctrlsService",void 0);cm([A("scrollVisibleService")],Op.prototype,"scrollVisibleService",void 0);cm([A("pinnedWidthService")],Op.prototype,"pinnedWidthService",void 0);cm([A("columnModel")],Op.prototype,"columnModel",void 0);cm([A("focusService")],Op.prototype,"focusService",void 0);cm([A("filterManager")],Op.prototype,"filterManager",void 0);var y1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let gu=class U_ extends Ve{constructor(e){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=e}init(){this.selectAndSetTemplate();const e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{const i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new Op(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",n=e?U_.PINNED_LEFT_TEMPLATE:t?U_.PINNED_RIGHT_TEMPLATE:U_.CENTER_TEMPLATE;this.setTemplate(n),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n;const i=o=>{const s=o.getGui();s.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(s),n&&AV(this.eRowContainer,s,n),n=s};e.forEach(o=>{const s=o.getInstanceId(),a=t[s];delete t[s];const l=a||this.createBean(new p1(o));this.headerRowComps[s]=l,this.rowCompsList.push(l),i(l)}),Ol(t).forEach(o=>this.destroyRowComp(o))}};gu.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>';gu.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>';gu.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;y1([ue("eCenterContainer")],gu.prototype,"eCenterContainer",void 0);y1([he],gu.prototype,"init",null);y1([Si],gu.prototype,"destroyRowComps",null);var kw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ol;(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"})(ol||(ol={}));let Eg=class extends ae{postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,n){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:i,column:o}=t,s=this.getHeaderRowCount(),a=e===ol.UP;let{nextRow:l,nextFocusColumn:u}=a?this.headerPositionUtils.getColumnVisibleParent(o,i):this.headerPositionUtils.getColumnVisibleChild(o,i),c=!1;return l<0&&(l=0,u=o,c=!0),l>=s&&(l=-1),!c&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l,column:u},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const i=this.focusService.getFocusedHeader(),o=e===ol.LEFT,s=this.gridOptionsService.is("enableRtl");let a,l;return o!==s?(l="Before",a=this.headerPositionUtils.findHeader(i,l)):(l="After",a=this.headerPositionUtils.findHeader(i,l)),a||!t?this.focusService.focusHeaderPosition({headerPosition:a,direction:l,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,l,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let o=null,s;return t==="Before"?i>0&&(s=i-1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=i+1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),this.focusService.focusHeaderPosition({headerPosition:o,direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(e instanceof Vr){const i=e.getDisplayedLeafColumns();n=t==="Before"?fn(i):i[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}};kw([A("focusService")],Eg.prototype,"focusService",void 0);kw([A("headerPositionUtils")],Eg.prototype,"headerPositionUtils",void 0);kw([A("ctrlsService")],Eg.prototype,"ctrlsService",void 0);kw([he],Eg.prototype,"postConstruct",null);Eg=kw([Re("headerNavigationService")],Eg);var $w=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let dm=class extends ae{setComp(e,t,n){this.comp=e,this.eGui=t,this.createManagedBean(new vs(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0,n=e.getHeaderRowCount(),i;this.filterManager.hasFloatingFilters()&&(n++,t=1);const s=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),l=1+t,u=n-l;if(i=t*e.getFloatingFiltersHeight(),i+=u*s,i+=a,this.headerHeight===i)return;this.headerHeight=i;const c=`${i+1}px`;this.comp.setHeightAndMinHeight(c),this.eventService.dispatchEvent({type:D.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(n=>n.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gridOptionsService.is("enableRtl"),n=e.shiftKey!==t?ol.LEFT:ol.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case Y.LEFT:t=ol.LEFT;case Y.RIGHT:le(t)||(t=ol.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case Y.UP:t=ol.UP;case Y.DOWN:le(t)||(t=ol.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const t=this.gridOptionsService.getDocument(),{relatedTarget:n}=e;!n&&this.eGui.contains(t.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()}};$w([A("headerNavigationService")],dm.prototype,"headerNavigationService",void 0);$w([A("focusService")],dm.prototype,"focusService",void 0);$w([A("columnModel")],dm.prototype,"columnModel",void 0);$w([A("ctrlsService")],dm.prototype,"ctrlsService",void 0);$w([A("filterManager")],dm.prototype,"filterManager",void 0);var LWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let yre=class Cre extends Ve{constructor(){super(Cre.TEMPLATE)}postConstruct(){const e={addOrRemoveCssClass:(i,o)=>this.addOrRemoveCssClass(i,o),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new dm).setComp(e,this.getGui(),this.getFocusableElement());const n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new gu("left")),n(new gu(null)),n(new gu("right"))}};yre.TEMPLATE='<div class="ag-header" role="presentation"/>';LWe([he],yre.prototype,"postConstruct",null);var C1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let qT=class extends ae{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};C1([A("dragService")],qT.prototype,"dragService",void 0);C1([A("ctrlsService")],qT.prototype,"ctrlsService",void 0);qT=C1([Re("horizontalResizeService")],qT);var Bw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let _g=class extends ae{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:n})},"columnMenu",t.target)}showMenuAfterButtonClick(e,t,n){this.showPopup(e,i=>{this.popupService.positionPopupByComponent({type:n,eventSource:t,ePopup:i,keepWithinBounds:!0,position:"under",column:e})},n,t)}showPopup(e,t,n,i){const o=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!o)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");jr(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",p=>this.trapFocusWithin(p,s)),o.guiPromise.then(p=>s.appendChild(p));let a;const l=()=>{var p;return(p=o.filterPromise)===null||p===void 0?void 0:p.then(f=>{var g;return(g=f==null?void 0:f.afterGuiDetached)===null||g===void 0?void 0:g.call(f)})},u=i||this.ctrlsService.getGridBodyCtrl().getGui(),c=p=>{e.setMenuVisible(!1,"contextMenu");const f=p instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),f&&i&&vd(i)){const g=this.focusService.findTabbableParent(i);g&&g.focus()}l()},d=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:c,positionCallback:()=>t(s),anchorToElement:u,ariaLabel:d("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=a=h.hideFunc),o.filterPromise.then(p=>{t(s),p.afterGuiAttached&&p.afterGuiAttached({container:n,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu")}trapFocusWithin(e,t){e.key!==Y.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}isMenuEnabled(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")}};Bw([A("filterManager")],_g.prototype,"filterManager",void 0);Bw([A("popupService")],_g.prototype,"popupService",void 0);Bw([A("focusService")],_g.prototype,"focusService",void 0);Bw([A("ctrlsService")],_g.prototype,"ctrlsService",void 0);_g=Bw([Re("menuFactory")],_g);var JD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let jw=class wre extends Ve{constructor(e){super(wre.getTemplate(e.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=e,e.items&&e.items.forEach(t=>this.addItem(t))}postConstruct(){this.createManagedBean(new vs(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(()=>{var e,t,n;return(n=(t=(e=this.activeItem)===null||e===void 0?void 0:e.tabbedItem)===null||t===void 0?void 0:t.afterDetachedCallback)===null||n===void 0?void 0:n.call(t)})}static getTemplate(e){return`<div class="ag-tabs ${e}">
            <div ref="eHeader" role="tablist" class="ag-tabs-header ${e?`${e}-header`:""}"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${e?`${e}-body`:""}"></div>
        </div>`}handleKeyDown(e){const t=this.gridOptionsService.getDocument();switch(e.key){case Y.RIGHT:case Y.LEFT:if(!this.eHeader.contains(t.activeElement))return;const n=e.key===Y.RIGHT,i=this.gridOptionsService.is("enableRtl"),o=this.items.indexOf(this.activeItem),s=n!==i?Math.min(o+1,this.items.length-1):Math.max(o-1,0);if(o===s)return;e.preventDefault();const a=this.items[s];this.showItemWrapper(a),a.eHeaderButton.focus();break;case Y.UP:case Y.DOWN:e.stopPropagation();break}}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,eHeader:n,eBody:i,activeItem:o}=this,a=this.gridOptionsService.getDocument().activeElement,l=e.target;if(e.preventDefault(),n.contains(a)){t.focusInto(i,e.shiftKey);return}let u=null;t.isTargetUnderManagedComponent(i,l)&&(e.shiftKey&&(u=this.focusService.findFocusableElementBeforeTabGuard(i,l)),u||(u=o.eHeaderButton)),!u&&i.contains(a)&&(u=t.findNextFocusableElement(i,!1,e.shiftKey),u||(u=o.eHeaderButton)),u&&u.focus()}setAfterAttachedParams(e){this.afterAttachedParams=e}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(e){const t=document.createElement("span");jr(t,"tab"),t.setAttribute("tabindex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),Gu(t,e.titleLabel);const n={tabbedItem:e,eHeaderButton:t};this.items.push(n),t.addEventListener("click",this.showItemWrapper.bind(this,n))}showItem(e){const t=this.items.find(n=>n.tabbedItem===e);t&&this.showItemWrapper(t)}showItemWrapper(e){var t,n;const{tabbedItem:i,eHeaderButton:o}=e;if(this.params.onItemClicked&&this.params.onItemClicked({item:i}),this.activeItem===e){fte(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Hi(this.eBody),i.bodyPromise.then(s=>{this.eBody.appendChild(s);const a=!this.focusService.isKeyboardMode();if(this.focusService.focusInto(this.eBody,!1,a),i.afterAttachedCallback&&i.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const l=i.getScrollableContainer&&i.getScrollableContainer()||s;this.lastScrollListener=this.addManagedListener(l,"scroll",()=>{this.tabbedItemScrollMap.set(i.name,l.scrollTop)});const u=this.tabbedItemScrollMap.get(i.name);u!==void 0&&setTimeout(()=>{l.scrollTop=u},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(n=(t=this.activeItem.tabbedItem).afterDetachedCallback)===null||n===void 0||n.call(t)),o.classList.add("ag-tab-selected"),this.activeItem=e}};JD([A("focusService")],jw.prototype,"focusService",void 0);JD([ue("eHeader")],jw.prototype,"eHeader",void 0);JD([ue("eBody")],jw.prototype,"eBody",void 0);JD([he],jw.prototype,"postConstruct",null);var NWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const GWe=50;let Qz=class extends ae{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const n=this.gridOptionsService.getWindow(),i=()=>{const l=new n.ResizeObserver(t);return l.observe(e),()=>l.disconnect()},o=()=>{let l=mL(e),u=gL(e),c=!0;const d=()=>{if(c){const h=mL(e),p=gL(e);(h!==l||p!==u)&&(l=h,u=p,t()),this.doNextPolyfillTurn(d)}};return d(),()=>c=!1},s=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!n.ResizeObserver&&!s?i():o()}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(n=>n())};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(e,GWe)}};Qz=NWe([Re("resizeObserverService")],Qz);var ZD=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let aC=class extends ae{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,n){this.verifyAnimationFrameOn(n);const i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,i=this.createTasksP2,o=i.list,s=this.destroyTasks,a=new Date().getTime();let l=new Date().getTime()-a;const u=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;u||l<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let h;if(n.length)this.sortTaskList(t),h=n.pop().task;else if(o.length)this.sortTaskList(i),h=o.pop().task;else if(s.length)h=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}l=new Date().getTime()-a}n.length||o.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gridOptionsService.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){this.getFrameworkOverrides().setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};ZD([A("ctrlsService")],aC.prototype,"ctrlsService",void 0);ZD([A("paginationProxy")],aC.prototype,"paginationProxy",void 0);ZD([he],aC.prototype,"init",null);aC=ZD([Re("animationFrameService")],aC);var Ww=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let bg=class extends ae{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.centerRowContainerCtrl})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(n),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const n=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),n.appendChild(t);const i=t.offsetWidth;n.removeChild(t);const o=this.getAutoSizePadding();return i+o}getAutoSizePadding(){const e=this.gridOptionsService.getNum("autoSizePadding");return e!=null&&e>=0?e:20}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),o=i.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(o.add("ag-header","ag-header-row"),i.style.position="static"):o.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(u=>a.classList.contains(u))){for(let u=0;u<a.classList.length;u++){const c=a.classList[u];c!="ag-row-position-absolute"&&o.add(c)}break}a=a.parentElement}i.appendChild(n),t.appendChild(i)}};Ww([A("rowRenderer")],bg.prototype,"rowRenderer",void 0);Ww([A("ctrlsService")],bg.prototype,"ctrlsService",void 0);Ww([A("rowCssClassCalculator")],bg.prototype,"rowCssClassCalculator",void 0);Ww([he],bg.prototype,"postConstruct",null);bg=Ww([Re("autoWidthCalculator")],bg);var eA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Uw=class extends ae{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyRowCtrls=[],this.containerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyRowCtrls(){return this.stickyRowCtrls}checkStickyRows(){let e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);const t=[],n=this.rowRenderer.getFirstVisibleVerticalPixel(),i=o=>{var s,a,l;t.push(o);let u;if(this.isClientSide){let d=o;for(;d.expanded;)if(d.master)d=d.detailNode;else if(d.childrenAfterSort){if(d.childrenAfterSort.length===0)break;d=fn(d.childrenAfterSort)}u=d.rowTop+d.rowHeight}else if(o.master)u=o.detailNode.rowTop+o.detailNode.rowHeight;else{const d=(s=o.childStore)===null||s===void 0?void 0:s.getStoreBounds();u=((a=d==null?void 0:d.heightPx)!==null&&a!==void 0?a:0)+((l=d==null?void 0:d.topPx)!==null&&l!==void 0?l:0)}const c=n+e+o.rowHeight;u<c?o.stickyRowTop=e+(u-c):o.stickyRowTop=e,e=0,t.forEach(d=>{const h=d.stickyRowTop+d.rowHeight;e<h&&(e=h)})};for(;;){const o=n+e,s=this.rowModel.getRowIndexAtPixel(o),a=this.rowModel.getRow(s);if(a==null||a.level<0)break;const l=[];let u=a.parent;for(;u.level>=0;)l.push(u),u=u.parent;const c=l.reverse().find(d=>t.indexOf(d)<0&&d.displayed);if(c){i(c);continue}if(a.isExpandable()&&a.expanded&&a.rowTop<o){i(a);continue}break}return this.refreshNodesAndContainerHeight(t,e)}refreshStickyNode(e){const t=[];for(let n=0;n<this.stickyRowCtrls.length;n++){const i=this.stickyRowCtrls[n].getRowNode();i!==e&&t.push(i)}this.refreshNodesAndContainerHeight(t,this.containerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t){let n=!1;const i=this.stickyRowCtrls.filter(l=>e.indexOf(l.getRowNode())===-1),o=e.filter(l=>this.stickyRowCtrls.findIndex(u=>u.getRowNode()===l)===-1);(i.length||o.length)&&(n=!0);const s={};i.forEach(l=>{s[l.getRowNode().id]=l,this.stickyRowCtrls=this.stickyRowCtrls.filter(u=>u!==l)});for(const l of Object.values(s))l.getRowNode().sticky=!1;this.destroyRowCtrls(s,!1);const a=o.map(l=>(l.sticky=!0,this.createRowCon(l,!1,!1)));return this.stickyRowCtrls.push(...a),this.stickyRowCtrls.forEach(l=>l.setRowTop(l.getRowNode().stickyRowTop)),this.stickyRowCtrls.sort((l,u)=>u.getRowNode().rowIndex-l.getRowNode().rowIndex),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t),n=!0),n}};eA([A("rowModel")],Uw.prototype,"rowModel",void 0);eA([A("rowRenderer")],Uw.prototype,"rowRenderer",void 0);eA([A("ctrlsService")],Uw.prototype,"ctrlsService",void 0);eA([he],Uw.prototype,"postConstruct",null);var xa=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const VWe=10;let js=class extends ae{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1}postConstruct(){this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,D.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,D.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,D.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Uw(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gridOptionsService.is("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new HWe(t)}}getKeepDetailRowsCount(){const e=this.gridOptionsService.getNum("keepDetailRowsCount");return le(e)&&e>0?e:VWe}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]}updateAllRowCtrls(){const e=Ol(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");(t||n)&&e.sort((s,a)=>s.getRowNode().rowIndex-a.getRowNode.rowIndex);const i=Ol(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];i.length>0||o.length>0?this.allRowCtrls=[...e,...i,...o]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,D.EVENT_CELL_FOCUSED,t=>{this.onCellFocusChanged(t)}),this.addManagedListener(this.eventService,D.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,D.EVENT_FLASH_CELLS,t=>{this.getAllCellCtrls().forEach(n=>n.onFlashCells(t))}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())}),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}),this.gridOptionsService.is("enableRangeSelection")&&(this.addManagedListener(this.eventService,D.EVENT_RANGE_SELECTION_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRangeSelectionChanged())}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_MOVED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PINNED,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VISIBLE,()=>{this.getAllCellCtrls().forEach(t=>t.updateRangeBordersIfRangeCount())})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,D.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();const e=this.columnModel.getAllGridColumns();e&&e.forEach(t=>{const n=u=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===t&&u(c)})},i=()=>{n(u=>u.onLeftChanged())},o=()=>{n(u=>u.onWidthChanged())},s=()=>{n(u=>u.onFirstRightPinnedChanged())},a=()=>{n(u=>u.onLastLeftPinnedChanged())},l=()=>{n(u=>u.onColDefChanged())};t.addEventListener("leftChanged",i),t.addEventListener("widthChanged",o),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",i),t.removeEventListener("widthChanged",o),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const i=n.getCellElement(e);i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(n=>{n.destroyFirstPass(),n.destroySecondPass()}),e.length=0,t&&t.forEach(n=>{const i=new Yc(n,this.beans,!1,!1,this.printLayout);e.push(i)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{const n=i=>{const o=i[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),i[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);case"bottom":n(this.bottomRowCtrls);default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=this.gridOptionsService.getDocument().activeElement,o=this.gridOptionsService.getDomData(i,Kc.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(i,Yc.DOM_DATA_KEY_ROW_CTRL);return o||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gridOptionsService.isAnimateRows(),o=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(o,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gridOptionsService.is("suppressScrollOnNewData");t&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const o=t[i].getAllCellCtrls(),s=o.length;for(let a=0;a<s;a++)e.push(o[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],t=[...this.topRowCtrls,...this.bottomRowCtrls,...e];for(const n of Object.keys(this.rowCtrlsByRowIndex))t.push(this.rowCtrlsByRowIndex[n]);return t}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}flashCells(e={}){const{flashDelay:t,fadeDelay:n}=e;this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>i.flashCell({flashDelay:t,fadeDelay:n}))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{if(n.refreshShouldDestroy()){const i=n.getRowCtrl();i&&i.refreshCell(n)}else n.refreshCell(t)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(n=>{if(!n.isFullWidth())return;n.refreshFullWidth()||this.redrawRow(n.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const n=this.getCellCtrls(e.rowNodes,e.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if(!((t=e.columns)===null||t===void 0)&&t.length)return n;const i=[],o=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(o&&!this.isRowInMap(s.getRowNode(),o)||!s.isFullWidth())return;const a=s.getFullWidthCellRenderer();a&&i.push(a)}),[...i,...n]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(n=>{const i=n.getCellEditor();i&&t.push(i)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const n=t.getCellPosition();e.push(n)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;n.rowPinned==="top"?t.top[i]=n:n.rowPinned==="bottom"?t.bottom[i]=n:t.normal[i]=n}),t}isRowInMap(e,t){const n=e.id,i=e.rowPinned;return i==="bottom"?t.bottom[n]!=null:i==="top"?t.top[n]!=null:t.normal[n]!=null}getRowCtrls(e){const t=this.mapRowNodes(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const o=i.getRowNode();return this.isRowInMap(o,t)})}getCellCtrls(e,t){let n;le(t)&&(n={},t.forEach(o=>{const s=this.columnModel.getGridColumn(o);le(s)&&(n[s.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(o=>{o.getAllCellCtrls().forEach(s=>{const a=s.getColumn().getId();n&&!n[a]||i.push(s)})}),i}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}getRowsToRecycle(){const e=[];hr(this.rowCtrlsByRowIndex,(n,i)=>{i.getRowNode().id==null&&e.push(n)}),this.removeRowCtrls(e);const t={};return hr(this.rowCtrlsByRowIndex,(n,i)=>{const o=i.getRowNode();t[o.id]=i}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){e.forEach(t=>{const n=this.rowCtrlsByRowIndex[t];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[t]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let n;this.stickyRowFeature&&DD()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,o=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());const a=this.firstRenderedRow!==i||this.lastRenderedRow!==o;if(!(t&&!s&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t),n!=null)){const l=this.getCellToRestoreFocusToAfterRefresh();n!=null&&l==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e){const t={};e.forEach(o=>t[o]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!t[o]);this.removeRowCtrls(i)}calculateIndexesToDraw(e){let t=ene(this.firstRenderedRow,this.lastRenderedRow);const n=(o,s)=>{const a=s.getRowNode().rowIndex;a!=null&&(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};hr(this.rowCtrlsByRowIndex,n),hr(e,n),t.sort((o,s)=>o-s);const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=this.paginationProxy.getRow(s);a&&!a.sticky&&i.push(s)}return i}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1),i.forEach(o=>{this.createOrUpdateRowCtrl(o,e,t,n)}),e&&(n&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const t={type:D.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.getRowNode();return!(t!=null&&!this.isRowInMap(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let o,s=this.rowCtrlsByRowIndex[e];if(s||(o=this.paginationProxy.getRow(e),le(o)&&le(t)&&t[o.id]&&o.alreadyRendered&&(s=t[o.id],t[o.id]=null)),!s)if(o||(o=this.paginationProxy.getRow(e)),le(o))s=this.createRowCon(o,n,i);else return;return o&&(o.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];hr(e,(i,o)=>{if(o){if(this.cachedRowCtrls&&o.isCacheable()){this.cachedRowCtrls.addRow(o);return}o.destroyFirstPass(),t?(this.zombieRowCtrls[o.getInstanceId()]=o,n.push(()=>{o.destroySecondPass(),delete this.zombieRowCtrls[o.getInstanceId()]})):o.destroySecondPass()}}),t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),hte(n))}getRowBuffer(){let e=this.gridOptionsService.getNum("rowBuffer");return typeof e=="number"?e<0&&(Mt(()=>console.warn("AG Grid: rowBuffer should not be negative"),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gridOptionsService.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.paginationProxy.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const l=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),c=this.gridOptionsService.is("suppressRowVirtualisation");let d=!1,h,p;do{const C=this.paginationProxy.getPixelOffset(),{pageFirstPixel:w,pageLastPixel:S}=this.paginationProxy.getCurrentPagePixelRange(),P=this.rowContainerHeightService.getDivStretchOffset(),F=u.getScrollFeature().getVScrollPosition(),_=F.top,E=F.bottom;c?(h=w+P,p=S+P):(h=Math.max(_+C-l,w)+P,p=Math.min(E+C+l,S)+P),this.firstVisibleVPixel=Math.max(_+C,w)+P,d=this.ensureAllRowsInRangeHaveHeightsCalculated(h,p)}while(d);let f=this.paginationProxy.getRowIndexAtPixel(h),g=this.paginationProxy.getRowIndexAtPixel(p);const v=this.paginationProxy.getPageFirstRow(),y=this.paginationProxy.getPageLastRow();f<v&&(f=v),g>y&&(g=y),e=f,t=g}const n=this.gridOptionsService.isDomLayout("normal"),i=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),o=Math.max(this.getRowBuffer(),500);n&&!i&&t-e>o&&(t=e+o);const s=e!==this.firstRenderedRow,a=t!==this.lastRenderedRow;if(s||a){this.firstRenderedRow=e,this.lastRenderedRow=t;const l={type:D.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(l)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:D.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return n&&this.updateContainerHeights(),n}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const i=e.getRowNode(),o=this.focusService.isRowNodeFocused(i),s=e.isEditing(),a=i.detail;return o||s||a?!!this.paginationProxy.isRowPresent(i):!1}createRowCon(e,t,n){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;const o=this.gridOptionsService.is("suppressAnimationFrame"),s=n&&!o&&!this.printLayout;return new Yc(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.keys(e).map(t=>e[t].getRowNode())}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.getRowNode().rowIndex===n)||null);break}return t}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}};xa([A("animationFrameService")],js.prototype,"animationFrameService",void 0);xa([A("paginationProxy")],js.prototype,"paginationProxy",void 0);xa([A("columnModel")],js.prototype,"columnModel",void 0);xa([A("pinnedRowModel")],js.prototype,"pinnedRowModel",void 0);xa([A("rowModel")],js.prototype,"rowModel",void 0);xa([A("focusService")],js.prototype,"focusService",void 0);xa([A("beans")],js.prototype,"beans",void 0);xa([A("rowContainerHeightService")],js.prototype,"rowContainerHeightService",void 0);xa([A("ctrlsService")],js.prototype,"ctrlsService",void 0);xa([he],js.prototype,"postConstruct",null);js=xa([Re("rowRenderer")],js);let HWe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Zo(this.entriesList,e)}getEntries(){return this.entriesList}};var Sre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let EL=class extends ae{formatValue(e,t,n,i,o=!0){let s=null,a;const l=e.getColDef();if(i?a=i:o&&(a=l.valueFormatter),a){const u={value:n,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof a=="function"?s=a(u):s=this.expressionService.evaluate(a,u)}else if(l.refData)return l.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}};Sre([A("expressionService")],EL.prototype,"expressionService",void 0);EL=Sre([Re("valueFormatterService")],EL);var w1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let QT=class extends ae{init(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))}isEmpty(e){const t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return rs(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(rs(n))return 0;for(let i=0;i<n.length;i++){const o=n[i];if(o.rowTop+o.rowHeight-1>=e)return i}return n.length-1}setPinnedTopRowData(e){this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:D.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:D.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const n=[];if(e){let i=0;e.forEach((o,s)=>{const a=new je(this.beans);a.data=o;const l=t?je.ID_PREFIX_TOP_PINNED:je.ID_PREFIX_BOTTOM_PINNED;a.id=l+s,a.rowPinned=t?"top":"bottom",a.setRowTop(i),a.setRowHeight(this.gridOptionsService.getRowHeightForNode(a).height),a.setRowIndex(s),i+=a.rowHeight,n.push(a)})}return n}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){rs(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){rs(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const t=fn(e);return t.rowTop+t.rowHeight}};w1([A("beans")],QT.prototype,"beans",void 0);w1([he],QT.prototype,"init",null);QT=w1([Re("pinnedRowModel")],QT);var Xz;(function(r){r.Applied="Applied",r.StoreNotFound="StoreNotFound",r.StoreLoading="StoreLoading",r.StoreWaitingToLoad="StoreWaitingToLoad",r.StoreLoadingFailed="StoreLoadingFailed",r.StoreWrongType="StoreWrongType",r.Cancelled="Cancelled"})(Xz||(Xz={}));let S1=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)}depthFirstSearchEverything(e,t,n){if(e.childrenAfterGroup)for(let i=0;i<e.childrenAfterGroup.length;i++){const o=e.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>n[o.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(o=>!n[o.getId()])}},Wh=class Jd extends ae{constructor(e){super(),this.state=Jd.STATE_WAITING_TO_LOAD,this.version=0,this.id=e}getId(){return this.id}load(){this.state=Jd.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=Jd.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state=Jd.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=Jd.STATE_LOADED,this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:Jd.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(t)}};Wh.EVENT_LOAD_COMPLETE="loadComplete";Wh.STATE_WAITING_TO_LOAD="needsLoading";Wh.STATE_LOADING="loading";Wh.STATE_LOADED="loaded";Wh.STATE_FAILED="failed";var tA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kWe=function(r,e){return function(t,n){e(t,n,r)}},z_;let Uh=z_=class extends ae{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=K.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(Wh.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){K.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:z_.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:z_.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(n=>n.getState()===Wh.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Uh.BLOCK_LOADED_EVENT="blockLoaded";Uh.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";tA([A("rowModel")],Uh.prototype,"rowModel",void 0);tA([he],Uh.prototype,"postConstruct",null);tA([kWe(0,Ji("loggerFactory"))],Uh.prototype,"setBeans",null);Uh=z_=tA([Re("rowNodeBlockLoader")],Uh);var E1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let XT=class extends ae{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,D.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,n,i){const o=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o}isPaginateChildRows(){return this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren")?!0:this.gridOptionsService.is("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:D.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}onPaginationPageSizeChanged(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();const e={type:D.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e;const t={type:D.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return it(this.topRowBounds)||it(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),n=this.getPageLastRow();for(let i=t;i<=n;i++){const o=this.getRow(i);o&&e(o)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPageSize(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)}calculatePages(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(le(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:D.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};E1([A("rowModel")],XT.prototype,"rowModel",void 0);E1([he],XT.prototype,"postConstruct",null);XT=E1([Re("paginationProxy")],XT);var Ere=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let _L=class extends ae{processAllCellClasses(e,t,n,i){this.processClassRules(e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}processClassRules(e,t,n,i){if(e==null)return;const o=Object.keys(e),s={},a={};for(let l=0;l<o.length;l++){const u=o[l],c=e[u];let d;typeof c=="string"?d=this.expressionService.evaluate(c,t):typeof c=="function"&&(d=c(t)),u.split(" ").forEach(h=>{h==null||h.trim()==""||(d?s[h]=!0:a[h]=!0)})}i&&Object.keys(a).forEach(i),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(o=>{n(o)})}};Ere([A("expressionService")],_L.prototype,"expressionService",void 0);_L=Ere([Re("stylingService")],_L);var _re=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let _1=class extends Ve{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(!(this.params.cellRenderer||!le(t)))if(le(e)){const n=t==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){const i=n+e.length,o=xr(t.slice(0,n),!0),s=xr(t.slice(n,i),!0),a=xr(t.slice(i));this.renderValueWithoutRenderer(`${o}<span class="ag-rich-select-row-text-highlight">${s}</span>${a}`)}}else this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const n=this.getGui(),i=`ag-rich-select-row-${this.getCompId()}`;if((t=n.parentElement)===null||t===void 0||t.setAttribute("id",i),e){const o=this.getParentComponent().getAriaElement();vV(o,i),this.wrapperEl.setAttribute("data-active-option",i)}$h(n.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const n=this.gridOptionsService.getDocument(),i=this.getGui(),o=n.createElement("span");o.style.overflow="hidden",o.style.textOverflow="ellipsis";const s=xr(le(t)?t:e,!0);this.parsedValue=le(s)?s:null,i.appendChild(o),this.renderValueWithoutRenderer(s)}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=le(e)?e:"&nbsp;")}populateWithRenderer(e,t){let n,i;return this.params.cellRenderer&&(i=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,api:this.gridOptionsService.api})),i&&(n=i.newAgStackInstance()),n&&MV(n,this.getGui()),n?(n.then(o=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(o)})}),!0):!1}onMouseUp(){const e=this.getParentComponent(),t={type:D.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(t)}};_re([A("userComponentFactory")],_1.prototype,"userComponentFactory",void 0);_re([he],_1.prototype,"postConstruct",null);let zw=class extends Ve{initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const t=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:i=>{t.forEach(o=>i!=null?o.setAttribute("tabindex",i):o.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new v1({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))}createTabGuard(e){const t=document.createElement("div"),n=e==="top"?Kf.TAB_GUARD_TOP:Kf.TAB_GUARD_BOTTOM;return t.classList.add(Kf.TAB_GUARD,n),jr(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Hi(this.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t){ww(e)||(e=e.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",e):super.appendChild(e,t)}};var nA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Bu=class bre extends zw{constructor(e){super(bre.getTemplate((e==null?void 0:e.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20;const{cssIdentifier:t="default",ariaRole:n="listbox",listName:i}=e||{};this.cssIdentifier=t,this.ariaRole=n,this.listName=i}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.setAriaProperties(),this.addManagedListener(this.eventService,D.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;jr(n,this.ariaRole),Gu(n,t)}addResizeObserver(){const e=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),t=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){this.focusRow(e?this.model.getRowCount()-1:0)}onFocusIn(e){const t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Lte(t)-1),!1}onFocusOut(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1}handleKeyDown(e){switch(e.key){case Y.UP:case Y.DOWN:this.navigate(e.key===Y.UP)&&e.preventDefault();break}}onTabKeyDown(e){this.navigate(e.shiftKey)?e.preventDefault():(Dl(e),this.forceFocusOutOfContainer(e.shiftKey))}navigate(e){if(this.lastFocusedRowIndex==null)return!1;const t=this.lastFocusedRowIndex+(e?-1:1);return t<0||t>=this.model.getRowCount()?!1:(this.focusRow(t),!0)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.ensureIndexVisible(e),window.setTimeout(()=>{if(!this.isAlive())return;const t=this.renderedRows.get(e);t&&t.eDiv.focus()},10)}getComponentAt(e){const t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,n)=>e(t.rowComponent,n))}static getTemplate(e){return`<div class="ag-virtual-list-viewport ag-${e}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${e}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.environment.getListItemHeight()}ensureIndexVisible(e,t=!0){const n=this.model.getRowCount();if(typeof e!="number"||e<0||e>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;const i=e*this.rowHeight,o=i+this.rowHeight,s=this.getGui(),a=s.scrollTop,l=s.offsetHeight,u=a+l,c=t?0:this.rowHeight,d=a>i+c,h=u<o-c;if(d)return s.scrollTop=i,!0;if(h){const p=o-l;return s.scrollTop=p,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;const t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,dV(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;const t=this.getGui(),n=t.scrollTop,i=n+t.offsetHeight,o=Math.floor(n/this.rowHeight),s=Math.floor(i/this.rowHeight);this.ensureRowsRendered(o,s,e)}ensureRowsRendered(e,t,n){this.renderedRows.forEach((i,o)=>{(o<e||o>t)&&o!==this.lastFocusedRowIndex&&this.removeRow(o)}),n&&this.refreshRows();for(let i=e;i<=t;i++)this.renderedRows.has(i)||i<this.model.getRowCount()&&this.insertRow(i)}insertRow(e){const t=this.model.getRow(e),n=document.createElement("div");if(n.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),jr(n,this.ariaRole==="tree"?"treeitem":"option"),yV(n,this.model.getRowCount()),CV(n,e+1),n.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){const o=this.model.isRowSelected(e);$h(n,!!o),Kte(n,o)}n.style.height=`${this.rowHeight}px`,n.style.top=`${this.rowHeight*e}px`;const i=this.componentCreator(t,n);i.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),n.appendChild(i.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",n):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",n):this.eContainer.appendChild(n),this.renderedRows.set(e,{rowComponent:i,eDiv:n,value:t})}removeRow(e){const t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){const e=this.model.getRowCount();this.renderedRows.forEach((t,n)=>{var i,o;if(n>=e)this.removeRow(n);else{const s=this.model.getRow(n);!((o=(i=this.model).areRowsEqual)===null||o===void 0)&&o.call(i,t.value,s)?this.componentUpdater(s,t.rowComponent):this.removeRow(n)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};nA([A("resizeObserverService")],Bu.prototype,"resizeObserverService",void 0);nA([A("animationFrameService")],Bu.prototype,"animationFrameService",void 0);nA([ue("eContainer")],Bu.prototype,"eContainer",void 0);nA([he],Bu.prototype,"postConstruct",null);var Rre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const $We=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`;let Tre=class extends _p{constructor(e){var t,n;super(Object.assign(Object.assign({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(t=e==null?void 0:e.template)!==null&&t!==void 0?t:$We,modalPicker:!1},e),{maxPickerHeight:(n=e==null?void 0:e.maxPickerHeight)!==null&&n!==void 0?n:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:i,value:o,valueList:s,searchStringCreator:a}=e||{};i!=null&&(this.cellRowHeight=i),o!==void 0&&(this.value=o),s!=null&&(this.values=s),a&&(this.searchStringCreator=a)}postConstruct(){var e;super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:t,placeholder:n}=this.config;t?(this.eInput.setAutoComplete(!1).setInputPlaceholder(n),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=(e=this.gridOptionsService.getNum("tabIndex"))!==null&&e!==void 0?e:0;const{searchDebounceDelay:i=300}=this.config;this.clearSearchString=ua(this.clearSearchString,i),this.renderSelectedValue(),t&&(this.eInput.onValueChange(o=>this.searchTextFromString(o)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gridOptionsService.getDocument(),t=this.localeService.getLocaleTextFunc(),n=e.createElement("div");n.classList.add("ag-loading-text"),n.innerText=t("loadingOoo","Loading..."),this.eLoading=n}createListComponent(){this.listComponent=this.createBean(new Bu({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,D.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:e}=this;e&&this.listComponent.setRowHeight(e);const t=this.listComponent.getGui(),n=this.listComponent.getAriaElement();this.addManagedListener(t,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(t,"mousedown",a=>a.preventDefault()),t.classList.add("ag-rich-select-list");const i=`ag-rich-select-list-${this.listComponent.getCompId()}`;n.setAttribute("id",i);const s=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Gu(n,s),Yte(this.eWrapper,n)}renderSelectedValue(){const{value:e,eDisplayField:t,config:n}=this,i=this.config.valueFormatter?this.config.valueFormatter(e):e;if(n.allowTyping){this.eInput.setValue(i);return}let o;n.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:i,api:this.gridOptionsService.api}));let s;if(o&&(s=o.newAgStackInstance()),s)Hi(t),MV(s,t),s.then(a=>{this.addDestroyFunc(()=>this.getContext().destroyBean(a))});else if(le(this.value))t.innerText=i,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:a}=n;le(a)?(t.innerHTML=`${xr(a)}`,t.classList.add("ag-display-as-placeholder")):Hi(t)}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(t==null)return-1;for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}highlightFilterMatch(){var e;(e=this.listComponent)===null||e===void 0||e.forEachRenderedRow((t,n)=>{t.highlightString(this.searchString)})}highlightSelectedValue(e){var t;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(t=this.listComponent)===null||t===void 0||t.forEachRenderedRow((n,i)=>{const o=e===-1?!1:this.highlightedItem===i;n.updateHighlighted(o)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:n}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:i=>t[i]}),n&&(this.values?this.listComponent.refresh():(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((t=this.eLoading.parentElement)===null||t===void 0||t.removeChild(this.eLoading));const n=this.getCurrentValueIndex();n!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(e){this.eInput&&this.eInput.getFocusableElement().focus()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===Y.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!ID(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=i=>i}=this.config;let n;return typeof e[0]=="number"||typeof e[0]=="string"?n=e.map(i=>t(i)):typeof e[0]=="object"&&this.searchStringCreator&&(n=this.searchStringCreator(e)),n}getSuggestionsAndFilteredValues(e,t){let n=[],i=[];if(!e.length)return{suggestions:n,filteredValues:i};const{allowTyping:o,searchType:s="fuzzy",filterList:a}=this.config,l=a&&o;if(s==="fuzzy"){const u=yw(this.searchString,t,!0);n=u.values;const c=u.indices;if(l&&c.length)for(let d=0;d<c.length;d++)i.push(this.values[c[d]])}else n=t.filter((u,c)=>{const d=u.toLocaleLowerCase(),h=this.searchString.toLocaleLowerCase(),p=s==="match"?d.startsWith(h):d.indexOf(h)!==-1;return l&&p&&i.push(this.values[c]),p});return{suggestions:n,filteredValues:i}}filterListModel(e){const{allowTyping:t,filterList:n}=this.config;!t||!n||this.setValueList({valueList:e,refresh:!0})}runSearch(){var e,t,n;const{values:i}=this,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}const{suggestions:s,filteredValues:a}=this.getSuggestionsAndFilteredValues(this.searchString,o),{allowTyping:l,filterList:u,highlightMatch:c,searchType:d="fuzzy"}=this.config,h=a.length,p=!!(l&&u&&this.searchString!=="");if(p&&this.filterListModel(p?a:i),s.length){const g=p?0:o.indexOf(s[0]);this.selectListItem(g),c&&d!=="fuzzy"&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!p||h)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(p){this.getAriaElement().removeAttribute("data-active-option");const g=(t=this.listComponent)===null||t===void 0?void 0:t.getAriaElement();g&&vV(g,null)}const f=(n=this.listComponent)===null||n===void 0?void 0:n.getGui();f==null||f.classList.toggle("ag-hidden",p&&!h)}clearSearchString(){this.searchString=""}selectListItem(e,t,n){if(!this.isPickerDisplayed||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!t)&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,t,n){const i=this.currentList.indexOf(e);return i===-1?this:(this.value=e,n||this.selectListItem(i),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new _1(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:n,searchType:i="fuzzy"}=this.config;return n&&i!=="fuzzy"&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const i=(t==null?void 0:t.getGui()).getBoundingClientRect(),o=t.getScrollTop(),s=e.clientY-i.top+o;return Math.floor(s/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);t!==-1&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0,!0))}onNavigationKeyDown(e,t){e.preventDefault();const n=t===Y.DOWN;if(!this.isPickerDisplayed&&n){this.showPicker();return}const i=this.highlightedItem,s=i===-1?0:i+(n?1:-1);this.selectListItem(s,!1,!0)}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){const n={type:D.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(n)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:n}=this.config;switch(t){case Y.LEFT:case Y.RIGHT:case Y.PAGE_HOME:case Y.PAGE_END:n||e.preventDefault();break;case Y.PAGE_UP:case Y.PAGE_DOWN:e.preventDefault();break;case Y.DOWN:case Y.UP:this.onNavigationKeyDown(e,t);break;case Y.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),Dl(e),this.hidePicker());break;case Y.ENTER:this.onEnterKeyDown(e);break;case Y.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};Rre([A("userComponentFactory")],Tre.prototype,"userComponentFactory",void 0);Rre([ue("eInput")],Tre.prototype,"eInput",void 0);var rA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Kw=class Pre extends BV{constructor(e){super(e,Pre.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field")}onValueChange(e){const t=D.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,t,()=>{const n=parseFloat(this.eText.getValue());this.eSlider.setValue(n.toString(),!0),e(n||0)}),this.addManagedListener(this.eSlider,t,()=>{const n=this.eSlider.getValue();this.eText.setValue(n,!0),e(parseFloat(n))}),this}setSliderWidth(e){return this.eSlider.setWidth(e),this}setTextFieldWidth(e){return this.eText.setWidth(e),this}setMinValue(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this}setMaxValue(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this}getValue(){return this.eText.getValue()}setValue(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:D.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(e){return this.eSlider.setStep(e),this.eText.setStep(e),this}};Kw.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;rA([ue("eLabel")],Kw.prototype,"eLabel",void 0);rA([ue("eSlider")],Kw.prototype,"eSlider",void 0);rA([ue("eText")],Kw.prototype,"eText",void 0);rA([he],Kw.prototype,"init",null);var Sd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Hl=class K_ extends Ve{constructor(e={}){super(K_.getTemplate(e)),this.suppressEnabledCheckbox=!0,this.suppressOpenCloseIcons=!1;const{title:t,enabled:n,items:i,suppressEnabledCheckbox:o,suppressOpenCloseIcons:s}=e;this.title=t,this.cssIdentifier=e.cssIdentifier||"default",this.enabled=n??!0,this.items=i||[],this.alignItems=e.alignItems||"center",o!=null&&(this.suppressEnabledCheckbox=o),s!=null&&(this.suppressOpenCloseIcons=s)}static getTemplate(e){const t=e.cssIdentifier||"default",n=e.direction||"vertical";return`<div class="ag-group ag-${t}-group" role="presentation">
            <div class="ag-group-title-bar ag-${t}-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-${t}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${t}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${t}-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-${t}-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-${n} ag-${t}-group-container"></div>
        </div>`}postConstruct(){if(this.items.length){const t=this.items;this.items=[],this.addItems(t)}const e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Ps("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Ps("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",()=>this.toggleGroupExpand()),this.addManagedListener(this.eTitleBar,"keydown",e=>{switch(e.key){case Y.ENTER:case Y.SPACE:e.preventDefault(),this.toggleGroupExpand();break;case Y.RIGHT:case Y.LEFT:e.preventDefault(),this.toggleGroupExpand(e.key===Y.RIGHT);break}})}refreshAriaStatus(){this.suppressOpenCloseIcons||ca(this.eTitleBar,this.expanded)}refreshChildDisplay(){const e=!this.suppressOpenCloseIcons;$t(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),$t(this.eGroupOpenedIcon,e&&this.expanded),$t(this.eGroupClosedIcon,e&&!this.expanded)}isExpanded(){return this.expanded}setAlignItems(e){this.alignItems!==e&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=e;const t=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(t),this}toggleGroupExpand(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),$t(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),$t(this.eContainer,e),this.dispatchEvent({type:this.expanded?K_.EVENT_EXPANDED:K_.EVENT_COLLAPSED}),this))}addItems(e){e.forEach(t=>this.addItem(t))}addItem(e){const t=this.eContainer,n=e instanceof Ve?e.getGui():e;n.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),t.appendChild(n),this.items.push(n)}hideItem(e,t){const n=this.items[t];$t(n,!e)}setTitle(e){return this.eTitle.innerText=e,this}addCssClassToTitleBar(e){this.eTitleBar.classList.add(e)}setEnabled(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this}isEnabled(){return this.enabled}onEnableChange(e){return this.cbGroupEnabled.onValueChange(t=>{this.setEnabled(t,!0),e(t)}),this}hideEnabledCheckbox(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this}refreshDisabledStyles(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)}};Hl.EVENT_EXPANDED="expanded";Hl.EVENT_COLLAPSED="collapsed";Sd([ue("eTitleBar")],Hl.prototype,"eTitleBar",void 0);Sd([ue("eGroupOpenedIcon")],Hl.prototype,"eGroupOpenedIcon",void 0);Sd([ue("eGroupClosedIcon")],Hl.prototype,"eGroupClosedIcon",void 0);Sd([ue("eToolbar")],Hl.prototype,"eToolbar",void 0);Sd([ue("cbGroupEnabled")],Hl.prototype,"cbGroupEnabled",void 0);Sd([ue("eTitle")],Hl.prototype,"eTitle",void 0);Sd([ue("eContainer")],Hl.prototype,"eContainer",void 0);Sd([he],Hl.prototype,"postConstruct",null);var Ore=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let hm=class Y_ extends zw{constructor(e=1){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[]}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}onTabKeyDown(e){const t=this.getParentComponent(),n=t&&t.getGui();n&&n.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case Y.UP:case Y.RIGHT:case Y.DOWN:case Y.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Y.ESCAPE:const t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui());break}}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&e.forEach(t=>{t==="separator"?this.addSeparator():typeof t=="string"?console.warn(`AG Grid: unrecognised menu item ${t}`):this.addItem(t)})}addItem(e){const t=this.createManagedBean(new So(Object.assign(Object.assign({},e),{isAnotherSubMenuOpen:()=>this.menuItems.some(n=>n.isSubMenuOpen())})));t.setParentComponent(this),Hte(t.getGui(),this.level),this.menuItems.push(t),this.appendChild(t.getGui()),this.addManagedListener(t,So.EVENT_MENU_ITEM_SELECTED,n=>{this.dispatchEvent(n)}),this.addManagedListener(t,So.EVENT_MENU_ITEM_ACTIVATED,n=>{this.activeMenuItem&&this.activeMenuItem!==n.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=n.menuItem})}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}addSeparator(){this.appendChild(di(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`))}findTopMenu(){let e=this.getParentComponent();if(!e&&this instanceof Y_)return this;for(;;){const t=e&&e.getParentComponent&&e.getParentComponent();if(!t||!(t instanceof Y_||t instanceof So))break;e=t}return e instanceof Y_?e:void 0}handleNavKey(e){switch(e){case Y.UP:case Y.DOWN:const n=this.findNextItem(e===Y.UP);n&&n!==this.activeMenuItem&&n.activate();return}const t=this.gridOptionsService.is("enableRtl")?Y.RIGHT:Y.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();t&&t instanceof So&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(o=>!o.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?fn(t):t[0];e&&t.reverse();let n,i=!1;for(let o=0;o<t.length;o++){const s=t[o];if(!i){s===this.activeMenuItem&&(i=!0);continue}n=s;break}return n||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};Ore([A("focusService")],hm.prototype,"focusService",void 0);Ore([he],hm.prototype,"postConstruct",null);var BWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Dre=class extends zw{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===Y.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};BWe([he],Dre.prototype,"postConstruct",null);var Are=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let So=class wf extends Ve{constructor(e){super(),this.params=e,this.isActive=!1,this.subMenuIsOpen=!1,this.setTemplate(`<div class="${this.getClassName()}" tabindex="-1" role="treeitem"></div>`)}init(){this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();const e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),mV(e,!0)):(this.addGuiEventListener("click",t=>this.onItemSelected(t)),this.addGuiEventListener("keydown",t=>{(t.key===Y.ENTER||t.key===Y.SPACE)&&(t.preventDefault(),this.onItemSelected(t))}),this.addGuiEventListener("mousedown",t=>{t.stopPropagation(),t.preventDefault()}),this.addGuiEventListener("mouseenter",()=>this.onMouseEnter()),this.addGuiEventListener("mouseleave",()=>this.onMouseLeave())),this.params.cssClasses&&this.params.cssClasses.forEach(t=>this.addCssClass(t))}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1){if(this.closeSubMenu(),!this.params.subMenu)return;const t=di('<div class="ag-menu" role="presentation"></div>');let n;if(this.params.subMenu instanceof Array){const l=Mte(this.getGui()),u=isNaN(l)?1:l+1,c=this.createBean(new hm(u));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),t.appendChild(c.getGui()),this.addManagedListener(c,wf.EVENT_MENU_ITEM_SELECTED,d=>this.dispatchEvent(d)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),n=()=>this.destroyBean(c),e&&setTimeout(()=>c.activateFirstItem(),0)}else{const{subMenu:l}=this.params,u=this.createBean(new Dre(l));u.setParentComponent(this);const c=u.getGui(),d="mouseenter",h=()=>this.cancelDeactivate();c.addEventListener(d,h),n=()=>c.removeEventListener(d,h),t.appendChild(c),l.afterGuiAttached&&setTimeout(()=>l.afterGuiAttached(),0)}const i=this.getGui(),o=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:i,ePopup:t}),s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:t,positionCallback:o,anchorToElement:i,ariaLabel:s("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,ca(i,!0),this.hideSubMenu=()=>{a&&a.hideFunc(),this.subMenuIsOpen=!1,ca(i,!1),n()}}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,ca(this.getGui(),!1))}isSubMenuOpen(){return this.subMenuIsOpen}activate(e){this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}addIcon(){if(!this.params.checked&&!this.params.icon&&this.params.isCompact)return;const e=di(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(vr("check",this.gridOptionsService)):this.params.icon&&(ww(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){if(!this.params.name&&this.params.isCompact)return;const e=di(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addTooltip(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Sp(this)))}getTooltipParams(){return{location:"menu",value:this.tooltip}}addShortcut(){if(!this.params.shortcut&&this.params.isCompact)return;const e=di(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){if(!this.params.subMenu&&this.params.isCompact)return;const e=di(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const n=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";ca(t,!1),e.appendChild(vr(n,this.gridOptionsService))}t.appendChild(e)}onItemSelected(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),this.params.subMenu&&!this.params.action)return;const t={type:wf.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(t)}onItemActivated(){const e={type:wf.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),wf.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),wf.ACTIVATION_DELAY):this.deactivate()}getClassName(e){const t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?`${t}-${e}`:t}};So.EVENT_MENU_ITEM_SELECTED="menuItemSelected";So.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";So.ACTIVATION_DELAY=80;Are([A("popupService")],So.prototype,"popupService",void 0);Are([he],So.prototype,"init",null);var Yw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Dp=class bL extends Ve{constructor(e){super(bL.getTemplate(e)),this.closable=!0,this.config=e}static getTemplate(e){const t=e&&e.cssIdentifier||"default";return`<div class="ag-panel ag-${t}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${t}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${t}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${t}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${t}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:e,closable:t,hideTitleBar:n,title:i,minWidth:o=250,width:s,minHeight:a=250,height:l,centered:u,popup:c,x:d,y:h}=this.config;this.positionableFeature=new Ep(this.getGui(),{minWidth:o,width:s,minHeight:a,height:l,centered:u,x:d,y:h,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const p=this.getGui();e&&this.setBodyComponent(e),n?$t(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(t??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",f=>{const g=this.gridOptionsService.getDocument();if(p.contains(f.relatedTarget)||p.contains(g.activeElement)||this.eTitleBarButtons.contains(f.target)){f.preventDefault();return}const v=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");v&&v.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const e=this.getGui();e.focus(),this.close=()=>{e.parentElement.removeChild(e),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(e){this.positionableFeature.setHeight(e)}getWidth(){return this.positionableFeature.getWidth()}setWidth(e){this.positionableFeature.setWidth(e)}setClosable(e){if(e!==this.closable&&(this.closable=e),e){const t=this.closeButtonComp=new Ve(bL.CLOSE_BTN_TEMPLATE);this.getContext().createBean(t);const n=t.getGui(),i=vr("close",this.gridOptionsService);i.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(i),this.addTitleBarButton(t),t.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const t=this.closeButtonComp.getGui();t.parentElement.removeChild(t),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())}addTitleBarButton(e,t){const n=this.eTitleBarButtons,i=n.children,o=i.length;t==null&&(t=o),t=Math.max(0,Math.min(t,o)),e.addCssClass("ag-panel-title-bar-button");const s=e.getGui();t===0?n.insertAdjacentElement("afterbegin",s):t===o?n.insertAdjacentElement("beforeend",s):i[t-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)}getBodyHeight(){return Cw(this.eContentWrapper)}getBodyWidth(){return AD(this.eContentWrapper)}setTitle(e){this.eTitle.innerText=e}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const e=this.getGui();e&&e.offsetParent&&this.close(),super.destroy()}};Dp.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';Yw([ue("eContentWrapper")],Dp.prototype,"eContentWrapper",void 0);Yw([ue("eTitleBar")],Dp.prototype,"eTitleBar",void 0);Yw([ue("eTitleBarButtons")],Dp.prototype,"eTitleBarButtons",void 0);Yw([ue("eTitle")],Dp.prototype,"eTitle",void 0);Yw([he],Dp.prototype,"postConstruct",null);var jWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let WWe=class extends Dp{constructor(e){super(Object.assign(Object.assign({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:n,maximizable:i}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",o=>{e.contains(o.relatedTarget)||this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),i&&this.setMaximizable(i),n&&this.setResizable(n)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:n,title:i,afterGuiAttached:o}=this.config,s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:n,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:t,ariaLabel:i||s("ariaLabelDialog","Dialog"),afterGuiAttached:o});a&&(this.close=a.hideFunc)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:n,width:i,height:o}=this.lastPosition;this.setWidth(i),this.setHeight(o),this.positionableFeature.offsetElement(t,n)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){$t(this.maximizeIcon,!this.isMaximized),$t(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const n=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),n.addManagedListener(n.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new Ve('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=vr("maximize",this.gridOptionsService),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=vr("minimize",this.gridOptionsService),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};jWe([A("popupService")],WWe.prototype,"popupService",void 0);var qw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},RL,wc;(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"})(wc||(wc={}));let UWe=0,zh=RL=class extends ae{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl,this.addManagedListener(this.gridCtrl,D.EVENT_KEYBOARD_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.add(lr.AG_KEYBOARD_FOCUS))}),this.addManagedListener(this.gridCtrl,D.EVENT_MOUSE_FOCUS,()=>{this.popupList.forEach(t=>t.element.classList.remove(lr.AG_KEYBOARD_FOCUS))})})}getPopupParent(){const e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n}=e,i=this.getPopupIndex(n);if(i!==-1){const f=this.popupList[i];f.alignedToElement=t}const o=t.getBoundingClientRect(),s=this.getParentRect(),a=this.keepXYWithinBounds(n,o.top-s.top,wc.vertical),l=n.clientWidth>0?n.clientWidth:200;n.style.minWidth=`${l}px`;const c=s.right-s.left-l;let d;this.gridOptionsService.is("enableRtl")?(d=p(),d<0&&(d=h(),this.setAlignedStyles(n,"left")),d>c&&(d=0,this.setAlignedStyles(n,"right"))):(d=h(),d>c&&(d=p(),this.setAlignedStyles(n,"right")),d<0&&(d=0,this.setAlignedStyles(n,"left"))),n.style.left=`${d}px`,n.style.top=`${a}px`;function h(){return o.right-s.left-2}function p(){return o.left-s.left-l}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:o}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:o,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,eventSource:s,alignSide:a="left",position:l="over",column:u,rowNode:c,type:d}=e,h=s.getBoundingClientRect(),p=this.getParentRect(),f=this.getPopupIndex(t);if(f!==-1){const v=this.popupList[f];v.alignedToElement=s}const g=()=>{let v=h.left-p.left;a==="right"&&(v-=t.offsetWidth-h.width);let y;return l==="over"?(y=h.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,p,e.nudgeY||0)==="under"?y=h.top-p.top+h.height:y=h.top-t.offsetHeight-(i||0)*2-p.top),{x:v,y}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:o,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(d,t,s,null,u,c)})}shouldRenderUnderOrAbove(e,t,n,i){const o=n.bottom-t.bottom,s=t.top-n.top,a=e.offsetHeight+i;return o>a?"under":s>a||s>o?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:o}=i;!o||(["right","left","over","above","under"].forEach(a=>{o.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!t)||(o.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,n,i,o,s){const a=this.gridOptionsService.getCallback("postProcessPopup");a&&a({column:o,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:o,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},u=(c=!1)=>{let{x:d,y:h}=a();c&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,i&&(d+=i),o&&(h+=o),n&&(d=this.keepXYWithinBounds(t,d,wc.horizontal),h=this.keepXYWithinBounds(t,h,wc.vertical)),t.style.left=`${d}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!s){const c=this.resizeObserverService.observeResize(t,()=>u(!0));setTimeout(()=>c(),RL.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gridOptionsService.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),DV(t)}keepXYWithinBounds(e,t,n){const i=n===wc.vertical,o=i?"clientHeight":"clientWidth",s=i?"top":"left",a=i?"offsetHeight":"offsetWidth",l=i?"scrollTop":"scrollLeft",u=this.gridOptionsService.getDocument(),c=u.documentElement,d=this.getPopupParent(),h=d.getBoundingClientRect(),p=u.documentElement.getBoundingClientRect(),f=d===u.body,g=e[a];let y=f?(i?OV:eC)(c)+c[l]:d[o];f&&(y-=Math.abs(p[s]-h[s]));const C=y-g;return Math.min(Math.max(t,0),Math.abs(C))}addPopup(e){const t=this.gridOptionsService.getDocument(),{eChild:n,ariaLabel:i,alwaysOnTop:o,positionCallback:s,anchorToElement:a}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const u=this.createPopupWrapper(n,i,!!o),c=this.addEventListenersToPopup(Object.assign(Object.assign({},e),{wrapperEl:u}));return s&&s(),this.addPopupToPopupList(n,u,c,a),{hideFunc:c}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();le(e.style.top)||(e.style.top=`${n.top*-1}px`),le(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const i=this.getPopupParent(),o=document.createElement("div"),{allThemes:s}=this.environment.getTheme();return s.length&&o.classList.add(...s),o.classList.add("ag-popup"),e.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||jr(e,"dialog"),Gu(e,t),this.focusService.isKeyboardMode()&&e.classList.add(lr.AG_KEYBOARD_FOCUS),o.appendChild(e),i.appendChild(o),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),o}addEventListenersToPopup(e){const t=this.gridOptionsService.getDocument(),n=this.getPopupParent(),{wrapperEl:i,eChild:o,click:s,closedCallback:a,afterGuiAttached:l,closeOnEsc:u,modal:c}=e;let d=!1;const h=v=>{if(!i.contains(t.activeElement))return;v.key===Y.ESCAPE&&!fa(v)&&g({keyboardEvent:v})},p=v=>g({mouseEvent:v}),f=v=>g({touchEvent:v}),g=(v={})=>{const{mouseEvent:y,touchEvent:C,keyboardEvent:w}=v;this.isEventFromCurrentPopup({mouseEvent:y,touchEvent:C},o)||d||(d=!0,n.removeChild(i),t.removeEventListener("keydown",h),t.removeEventListener("mousedown",p),t.removeEventListener("touchstart",f),t.removeEventListener("contextmenu",p),this.eventService.removeEventListener(D.EVENT_DRAG_STARTED,p),a&&a(y||C||w),this.removePopupFromPopupList(o))};return l&&l({hidePopup:g}),window.setTimeout(()=>{u&&t.addEventListener("keydown",h),c&&(t.addEventListener("mousedown",p),this.eventService.addEventListener(D.EVENT_DRAG_STARTED,p),t.addEventListener("touchstart",f),t.addEventListener("contextmenu",p))},0),g}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:UWe++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(s=>s&&s()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const o=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=o,i.isAnchored=!0,o}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:o}=e,s=i.getBoundingClientRect(),a=n.top-s.top,l=n.left-s.left;let u=a,c=l;const d=o.style.top,h=parseInt(d.substring(0,d.length-1),10),p=o.style.left,f=parseInt(p.substring(0,p.length-1),10);return new zn(g=>{this.getFrameworkOverrides().setInterval(()=>{const v=t.getBoundingClientRect(),y=i.getBoundingClientRect();if(y.top==0&&y.left==0&&y.height==0&&y.width==0){e.hidePopup();return}const w=v.top-y.top;if(w!=u){const P=this.keepXYWithinBounds(o,h+a-w,wc.vertical);o.style.top=`${P}px`}u=w;const S=v.left-y.left;if(S!=c){const P=this.keepXYWithinBounds(o,f+l-S,wc.horizontal);o.style.left=`${P}px`}c=S},200).then(v=>{g(()=>{v!=null&&window.clearInterval(v)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,o=n||i;if(!o)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let a=s;a<this.popupList.length;a++){const l=this.popupList[a];if(HT(l.element,o))return!0}return this.isElementWithinCustomPopup(o.target)}isElementWithinCustomPopup(e){const t=this.gridOptionsService.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),s=o.length,a=this.getWrapper(e);if(!a||i<=1||!t.contains(e))return;const l=n.indexOf(a),u=a.querySelectorAll("div"),c=[];for(u.forEach(h=>{h.scrollTop!==0&&c.push([h,h.scrollTop])}),s?a.classList.contains("ag-always-on-top")?l!==i-1&&fn(o).insertAdjacentElement("afterend",a):l!==i-s-1&&o[0].insertAdjacentElement("beforebegin",a):l!==i-1&&fn(n).insertAdjacentElement("afterend",a);c.length;){const h=c.pop();h[0].scrollTop=h[1]}const d={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:a};this.eventService.dispatchEvent(d)}};zh.WAIT_FOR_POPUP_CONTENT_RESIZE=200;qw([A("focusService")],zh.prototype,"focusService",void 0);qw([A("ctrlsService")],zh.prototype,"ctrlsService",void 0);qw([A("resizeObserverService")],zh.prototype,"resizeObserverService",void 0);qw([he],zh.prototype,"postConstruct",null);zh=RL=qw([Re("popupService")],zh);let zWe=class extends Ve{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let n=!1;if(le(e)){const i=(t=this.value)===null||t===void 0?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){n=!0,this.hasHighlighting=!0;const o=i+e.length,s=xr(this.value.slice(0,i)),a=xr(this.value.slice(i,o)),l=xr(this.value.slice(o));this.getGui().lastElementChild.innerHTML=`${s}<b>${a}</b>${l}`}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=xr(this.value))!==null&&e!==void 0?e:"&nbsp;"}};var xre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let iA=class Ire extends Rp{constructor(e){super(Ire.TEMPLATE),this.params=e,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Bu({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:t=>this.autocompleteEntries[t]});const e=this.virtualList.getGui();this.addManagedListener(e,"click",()=>this.params.onConfirmed()),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",t=>t.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(e,t){e.preventDefault();const n=this.autocompleteEntries.indexOf(this.selectedValue),i=t===Y.UP?n-1:n+1;this.checkSetSelectedValue(i)}setSearch(e){this.searchString=e,le(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(e,t){let n,i=!1;const o=e.toLocaleLowerCase(),s=t.filter(a=>{const u=a.toLocaleLowerCase().indexOf(o),c=u===0,d=u>=0;return d&&(!n||!i&&c||i===c&&a.length<n.length)&&(n=a,i=c),d});return!n&&s.length&&(n=s[0]),{topMatch:n,allMatches:s}}runSearch(){var e,t;const{autocompleteEntries:n}=this.params,i=n.map(u=>{var c;return(c=u.displayValue)!==null&&c!==void 0?c:u.key});let o,s;if(this.params.useFuzzySearch)o=yw(this.searchString,i,!0).values,s=o.length?o[0]:void 0;else{const u=this.runContainsSearch(this.searchString,i);o=u.allMatches,s=u.topMatch}let a=n.filter(({key:u,displayValue:c})=>o.includes(c??u));if(!a.length&&this.selectedValue&&(!((t=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||t===void 0)&&t.call(e,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!s)return;const l=o.indexOf(s);this.checkSetSelectedValue(l)}updateSearchInList(){this.virtualList.forEachRenderedRow(e=>e.setSearchString(this.searchString))}checkSetSelectedValue(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)}setSelectedValue(e){const t=this.autocompleteEntries[e];this.selectedValue!==t&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((n,i)=>{n.updateSelected(e===i)}))}createRowComponent(e){var t;const n=new zWe;return this.getContext().createBean(n),n.setState((t=e.displayValue)!==null&&t!==void 0?t:e.key,e===this.selectedValue),n}onMouseMove(e){const t=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),i=e.clientY-t.top+n,o=Math.floor(i/this.virtualList.getRowHeight());this.checkSetSelectedValue(o)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null}};iA.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;xre([ue("eList")],iA.prototype,"eList",void 0);xre([he],iA.prototype,"init",null);var b1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ap=class ty extends Ve{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(e=>this.onValueChanged(e)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(e){const t=wl(e);this.updateValue(t),this.updateAutocompleteList(t)}updateValue(e){this.updateLastPosition(),this.dispatchEvent({type:ty.EVENT_VALUE_CHANGED,value:e}),this.validate(e)}updateAutocompleteList(e){var t,n,i,o;const s=(n=(t=this.listGenerator)===null||t===void 0?void 0:t.call(this,e,this.lastPosition))!==null&&n!==void 0?n:{enabled:!1};if((!s.type||s.type!==((i=this.autocompleteListParams)===null||i===void 0?void 0:i.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((o=this.autocompleteListParams)===null||o===void 0)&&o.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(e){const t=e.key;switch(this.updateLastPosition(),t){case Y.ENTER:this.onEnterKeyDown(e);break;case Y.TAB:this.onTabKeyDown(e);break;case Y.DOWN:case Y.UP:this.onUpDownKeyDown(e,t);break;case Y.LEFT:case Y.RIGHT:case Y.PAGE_HOME:case Y.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case Y.ESCAPE:this.onEscapeKeyDown(e);break;case Y.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}}confirmSelection(){var e;const t=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();t&&(this.closeList(),this.dispatchEvent({type:ty.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:t,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())}onEnterKeyDown(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(e,t){var n;e.preventDefault(),this.isListOpen?(n=this.autocompleteList)===null||n===void 0||n.onNavigationKeyDown(e,t):this.forceOpenList()}onEscapeKeyDown(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)}setCaret(e,t){const n=this.gridOptionsService.getDocument();t&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(e,e)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0}validate(e){var t;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((t=this.validationMessage)!==null&&t!==void 0?t:""),this.valid=!this.validationMessage,this.dispatchEvent({type:ty.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new iA({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const e=this.autocompleteList.getGui(),t={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},n=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(t),ariaLabel:this.listAriaLabel});this.hidePopup=n.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:ty.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return wl(this.eAutocompleteInput.getValue())}setInputPlaceholder(e){return this.eAutocompleteInput.setInputPlaceholder(e),this}setInputAriaLabel(e){return this.eAutocompleteInput.setInputAriaLabel(e),this}setListAriaLabel(e){return this.listAriaLabel=e,this}setListGenerator(e){return this.listGenerator=e,this}setValidator(e){return this.validator=e,this}isValid(){return this.valid}setValue(e){const{value:t,position:n,silent:i,updateListOnlyIfOpen:o,restoreFocus:s}=e;this.eAutocompleteInput.setValue(t,!0),this.setCaret(n??this.lastPosition,s),i||this.updateValue(t),(!o||this.isListOpen)&&this.updateAutocompleteList(t)}setForceLastSelection(e){return this.forceLastSelection=e,this}setInputDisabled(e){return this.eAutocompleteInput.setDisabled(e),this}};Ap.EVENT_VALUE_CHANGED="eventValueChanged";Ap.EVENT_VALUE_CONFIRMED="eventValueConfirmed";Ap.EVENT_OPTION_SELECTED="eventOptionSelected";Ap.EVENT_VALID_CHANGED="eventValidChanged";b1([A("popupService")],Ap.prototype,"popupService",void 0);b1([ue("eAutocompleteInput")],Ap.prototype,"eAutocompleteInput",void 0);b1([he],Ap.prototype,"postConstruct",null);var pm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Kh=class extends ae{getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===Y.UP,i=e===Y.DOWN,o=e===Y.LEFT;let s,a;if(n||i)a=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=t.column;else{const l=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.is("enableRtl");a=t.rowIndex,s=o!==u?l[0]:fn(l)}return{rowIndex:a,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case Y.UP:n=this.getCellAbove(n);break;case Y.DOWN:n=this.getCellBelow(n);break;case Y.RIGHT:this.gridOptionsService.is("enableRtl")?n=this.getCellToLeft(n):n=this.getCellToRight(n);break;case Y.LEFT:this.gridOptionsService.is("enableRtl")?n=this.getCellToRight(n):n=this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+e);break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex);break}return n?!t.isSuppressNavigable(n):!1}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const i=this.rowModel.getRow(e.rowIndex),o=this.getNextStickyPosition(i);return o||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){if(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)return;const n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex),i=t?-1:1,o=n.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),s=n[o+i];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned;if(n?t===0:t===this.paginationProxy.getPageFirstRow())return n==="top"?null:n?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const o=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(o,!0);return s||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let n=e.rowIndex,i=e.rowPinned,o=this.columnModel.getDisplayedColAfter(e.column);if(!o){o=t[0];const s=this.getRowBelow(e);if(it(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let n=e.rowIndex,i=e.rowPinned,o=this.columnModel.getDisplayedColBefore(e.column);if(!o){o=fn(t);const s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(it(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}}};pm([A("columnModel")],Kh.prototype,"columnModel",void 0);pm([A("rowModel")],Kh.prototype,"rowModel",void 0);pm([A("rowRenderer")],Kh.prototype,"rowRenderer",void 0);pm([A("pinnedRowModel")],Kh.prototype,"pinnedRowModel",void 0);pm([A("paginationProxy")],Kh.prototype,"paginationProxy",void 0);Kh=pm([Re("cellNavigationService")],Kh);var Qw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},KWe=function(r,e){return function(t,n){e(t,n,r)}};let Rg=class extends ae{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}init(){this.addManagedListener(this.eventService,D.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,D.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){if(this.consuming)return;const t=this.gridOptionsService.get("alignedGrids");t&&t.forEach(n=>{if(n.api){const i=n.api.__getAlignedGridService();e(i)}})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(n=>{t.push(n)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(n=>{t.push(n.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case D.EVENT_COLUMN_MOVED:case D.EVENT_COLUMN_VISIBLE:case D.EVENT_COLUMN_PINNED:case D.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case D.EVENT_COLUMN_GROUP_OPENED:const n=e;this.processGroupOpenedEvent(n);break;case D.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const t=e.columnGroup;let n=null;if(t){const i=t.getGroupId();n=this.columnModel.getProvidedColumnGroup(i)}t&&!n||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(n,t.isExpanded(),"alignedGridChanged"))}processColumnEvent(e){var t;const n=e.column;let i=null;if(n&&(i=this.columnModel.getPrimaryColumn(n.getColId())),n&&!i)return;const o=this.getMasterColumns(e);switch(e.type){case D.EVENT_COLUMN_MOVED:{const d=e,p=e.columnApi.getColumnState().map(f=>({colId:f.colId}));this.columnModel.applyColumnState({state:p,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${d.toIndex}`)}break;case D.EVENT_COLUMN_VISIBLE:{const d=e,p=e.columnApi.getColumnState().map(f=>({colId:f.colId,hide:f.hide}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${d.visible}`)}break;case D.EVENT_COLUMN_PINNED:{const d=e,p=e.columnApi.getColumnState().map(f=>({colId:f.colId,pinned:f.pinned}));this.columnModel.applyColumnState({state:p},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${d.pinned}`)}break;case D.EVENT_COLUMN_RESIZED:const u=e,c={};o.forEach(d=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${d.getActualWidth()}`),c[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),(t=u.flexColumns)===null||t===void 0||t.forEach(d=>{c[d.getId()]&&delete c[d.getId()]}),this.columnModel.setColumnWidths(Object.values(c),!1,u.finished,"alignedGridChanged");break}const a=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),l=this.gridOptionsService.get("alignedGrids");l&&l.forEach(u=>{u.api&&u.api.setAlwaysShowVerticalScroll(a)})}};Qw([A("columnModel")],Rg.prototype,"columnModel",void 0);Qw([A("ctrlsService")],Rg.prototype,"ctrlsService",void 0);Qw([KWe(0,Ji("loggerFactory"))],Rg.prototype,"setBeans",null);Qw([he],Rg.prototype,"init",null);Rg=Qw([Re("alignedGridsService")],Rg);var Xw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YWe=function(r,e){return function(t,n){e(t,n,r)}};let Tg=class extends ae{setBeans(e){this.logger=e.create("selectionService"),this.reset()}init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",e=>this.groupSelectsChildren=e.currentValue),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",e=>this.rowSelection=e.currentValue),this.addManagedListener(this.eventService,D.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var t;if(e.nodes.length===0)return 0;const{newValue:n,clearSelection:i,suppressFinishActions:o,rangeSelect:s,event:a,source:l="api"}=e;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const u=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=e.nodes.map(h=>h.footer?h.sibling:h);if(s){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;const h=this.getLastSelectedNode();if(h){const p=c[0];if(h!==p&&this.isMultiselect()){const g=this.selectRange(p,h,e.newValue,l);return this.setLastSelectedNode(p),g}}}let d=0;for(let h=0;h<c.length;h++){const p=c[h];u&&p.group||p.selectThisNode(n,e.event,l)&&d++,this.groupSelectsChildren&&(!((t=p.childrenAfterGroup)===null||t===void 0)&&t.length)&&(d+=this.selectChildren(p,n,u,l))}if(!o){if(n&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(c[0],l)),d>0){this.updateGroupsFromChildrenSelections(l);const p={type:D.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(p)}n&&this.setLastSelectedNode(c[c.length-1])}return d}selectRange(e,t,n=!0,i){const o=this.rowModel.getNodesInRangeForSelection(e,t);let s=0;o.forEach(l=>{if(l.group&&this.groupSelectsChildren||n===!1&&e===l)return;l.selectThisNode(n,void 0,i)&&s++}),this.updateGroupsFromChildrenSelections(i);const a={type:D.EVENT_SELECTION_CHANGED,source:i};return this.eventService.dispatchEvent(a),s}selectChildren(e,t,n,i){const o=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return K.missing(o)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:o})}setLastSelectedNode(e){this.lastSelectedNode=e}getLastSelectedNode(){return this.lastSelectedNode}getSelectedNodes(){const e=[];return hr(this.selectedNodes,(t,n)=>{n&&e.push(n)}),e}getSelectedRows(){const e=[];return hr(this.selectedNodes,(t,n)=>{n&&n.data&&e.push(n.data)}),e}getSelectionCount(){return Object.values(this.selectedNodes).length}filterFromSelection(e){const t={};Object.entries(this.selectedNodes).forEach(([n,i])=>{i&&e(i)&&(t[n]=i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const i=this.rowModel.getRootNode();t||(t=new S1(!0,i),t.setInactive());let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==i){const a=s.calculateSelectedFromChildren();o=s.selectThisNode(a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t){const n={};let i=0;return hr(this.selectedNodes,(o,s)=>{if(s&&s.id!==e.id){const a=this.selectedNodes[s.id];i+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&(n[s.parent.id]=s.parent)}}),hr(n,(o,s)=>{const a=s.calculateSelectedFromChildren();s.selectThisNode(a===null?!1:a,void 0,t)}),i}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:delete this.selectedNodes[t.id])}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(le(t)&&e.id!==t.id&&t){const i=t.id;this.selectedNodes[i]==e&&(this.selectedNodes[t.id]=t)}}syncInNewRowNode(e){le(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)}reset(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const n=[];function i(o){for(let s=0,a=o.length;s<a;s++){const l=o[s];if(l.isSelected())n.push(l);else{const u=l;u.group&&u.children&&i(u.children)}}}return i(t),n}isEmpty(){let e=0;return hr(this.selectedNodes,(t,n)=>{n&&e++}),e===0}deselectAllRowNodes(e){const t=l=>l.selectThisNode(!1,void 0,i),n=this.rowModel.getType()==="clientSide",{source:i,justFiltered:o,justCurrentPage:s}=e;if(s||o){if(!n){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(o,s).forEach(t)}else hr(this.selectedNodes,(l,u)=>{u&&t(u)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);const a={type:D.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(a)}getSelectAllState(e,t){let n=0,i=0;const o=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?n++:s.selectable&&i++)};return this.getNodesToSelect(e,t).forEach(o),n===0&&i===0?!1:n>0&&i>0?null:n>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const n=[];if(t)return this.paginationProxy.forEachNodeOnPage(o=>{if(!o.group){n.push(o);return}if(!o.expanded){const s=a=>{var l;n.push(a),!((l=a.childrenAfterFilter)===null||l===void 0)&&l.length&&a.childrenAfterFilter.forEach(s)};s(o);return}this.groupSelectsChildren||n.push(o)}),n;const i=this.rowModel;return e?(i.forEachNodeAfterFilter(o=>{n.push(o)}),n):(i.forEachNode(o=>{n.push(o)}),n)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:n,justCurrentPage:i}=e,o=a=>a.selectThisNode(!0,void 0,t);this.getNodesToSelect(n,i).forEach(o),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const s={type:D.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(s)}getServerSideSelectionState(){return null}setServerSideSelectionState(e){}};Xw([A("rowModel")],Tg.prototype,"rowModel",void 0);Xw([A("paginationProxy")],Tg.prototype,"paginationProxy",void 0);Xw([YWe(0,Ji("loggerFactory"))],Tg.prototype,"setBeans",null);Xw([he],Tg.prototype,"init",null);Tg=Xw([Re("selectionService")],Tg);var R1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let JT=class{sizeColumnsToFit(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.columnModel.setColumnVisible(e,t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.columnModel.setColumnPinned(e,t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.columnModel.moveColumn(e,t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t)}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t)}setColumnWidth(e,t,n=!0,i){this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,i)}setColumnWidths(e,t=!0,n){this.columnModel.setColumnWidths(e,!1,t,n)}setPivotMode(e){this.columnModel.setPivotMode(e)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.columnModel.removeValueColumn(e,"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.columnModel.addValueColumn(e,"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.columnModel.removeRowGroupColumn(e,"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.columnModel.addRowGroupColumn(e,"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.columnModel.removePivotColumn(e,"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.columnModel.addPivotColumn(e,"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.columnModel.autoSizeColumn(e,t,"api")}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns(e,"api")}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid(){setTimeout(K.removeAllReferences.bind(window,this,"Column API"),100)}getAllColumns(){return Ds("28.0","getAllColumns","getColumns"),this.getColumns()}getPrimaryColumns(){return Ds("28.0","getPrimaryColumns","getColumns"),this.getColumns()}getSecondaryColumns(){return Ds("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()}setSecondaryColumns(e){Ds("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)}getSecondaryPivotColumn(e,t){return Ds("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)}};R1([A("columnModel")],JT.prototype,"columnModel",void 0);R1([Si],JT.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null);JT=R1([Re("columnApi")],JT);var fm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Yh=class extends ae{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(D.EVENT_CELL_VALUE_CHANGED,e=>this.callColumnCellValueChangedHandler(e),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",e=>this.isTreeData=e.currentValue)}getValue(e,t,n=!1,i=!1){if(this.initialised||this.init(),!t)return;const o=e.getColDef(),s=o.field,a=e.getColId(),l=t.data;let u;const c=t.groupData&&t.groupData[a]!==void 0,d=!i&&t.aggData&&t.aggData[a]!==void 0,h=this.isSsrm&&i&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(n&&o.filterValueGetter?u=this.executeFilterValueGetter(o.filterValueGetter,l,e,t):this.isTreeData&&d?u=t.aggData[a]:this.isTreeData&&o.valueGetter?u=this.executeValueGetter(o.valueGetter,l,e,t):this.isTreeData&&s&&l?u=Wf(l,s,e.isFieldContainsDots()):c?u=t.groupData[a]:d?u=t.aggData[a]:o.valueGetter?u=this.executeValueGetter(o.valueGetter,l,e,t):p?u=Wf(l,t.field,e.isFieldContainsDots()):s&&l&&!h&&(u=Wf(l,s,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const f=u.substring(1);u=this.executeValueGetter(f,l,e,t)}if(u==null){const f=this.getOpenedGroup(t,e);if(f!=null)return f}return u}getOpenedGroup(e,t){if(!this.gridOptionsService.is("showOpenedGroup")||!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let o=e.parent;for(;o!=null;){if(o.rowGroupColumn&&(i===!0||i===o.rowGroupColumn.getColId()))return o.key;o=o.parent}}setValue(e,t,n,i){const o=this.columnModel.getPrimaryColumn(t);if(!e||!o)return!1;it(e.data)&&(e.data={});const{field:s,valueSetter:a}=o.getColDef();if(it(s)&&it(a))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(o,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const l={node:e,data:e.data,oldValue:this.getValue(o,e),newValue:n,colDef:o.getColDef(),column:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};l.newValue=n;let u;if(le(a)?typeof a=="function"?u=a(l):u=this.expressionService.evaluate(a,l):u=this.setValueUsingField(e.data,s,n,o.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),l.newValue=this.getValue(o,e);const c={type:D.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,api:l.api,columnApi:l.columnApi,colDef:l.colDef,context:l.context,data:e.data,node:e,oldValue:l.oldValue,newValue:l.newValue,value:l.newValue,source:i};return this.eventService.dispatchEvent(c),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})}setValueUsingField(e,t,n,i){if(!t)return!1;let o=!1;if(!i)o=e[t]===n,o||(e[t]=n);else{const s=t.split(".");let a=e;for(;s.length>0&&a;){const l=s.shift();s.length===0?(o=a[l]===n,o||(a[l]=n)):a=a[l]}}return!o}executeFilterValueGetter(e,t,n,i){const o={data:t,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return typeof e=="function"?e(o):this.expressionService.evaluate(e,o)}executeValueGetter(e,t,n,i){const o=n.getColId(),s=this.valueCache.getValue(i,o);if(s!==void 0)return s;const a={data:t,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};let l;return typeof e=="function"?l=e(a):l=this.expressionService.evaluate(e,a),this.valueCache.setValue(i,o,l),l}getValueCallback(e,t){const n=this.columnModel.getPrimaryColumn(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let o=n;if(i){const s={value:n,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=i(s)}return typeof o=="string"||o==null||(o=String(o),o==="[object Object]"&&Mt(()=>{console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),o}};fm([A("expressionService")],Yh.prototype,"expressionService",void 0);fm([A("columnModel")],Yh.prototype,"columnModel",void 0);fm([A("valueCache")],Yh.prototype,"valueCache",void 0);fm([A("dataTypeService")],Yh.prototype,"dataTypeService",void 0);fm([he],Yh.prototype,"init",null);Yh=fm([Re("valueService")],Yh);var Fre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qWe=function(r,e){return function(t,n){e(t,n,r)}};let TL=class extends ae{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+n),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};Fre([qWe(0,Ji("loggerFactory"))],TL.prototype,"setBeans",null);TL=Fre([Re("expressionService")],TL);var QWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Jz=class extends ae{constructor(){super(...arguments),this.templateCache={},this.waitingCallbacks={}}getTemplate(e,t){const n=this.templateCache[e];if(n)return n;let i=this.waitingCallbacks[e];const o=this;if(!i){i=[],this.waitingCallbacks[e]=i;const s=new XMLHttpRequest;s.onload=function(){o.handleHttpResult(this,e)},s.open("GET",e),s.send()}return t&&i.push(t),null}handleHttpResult(e,t){if(e.status!==200||e.response===null){console.warn(`AG Grid: Unable to get template error ${e.status} - ${t}`);return}this.templateCache[t]=e.response||e.responseText;const n=this.waitingCallbacks[t];for(let i=0;i<n.length;i++){const o=n[i];o()}}};Jz=QWe([Re("templateService")],Jz);var Mre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},XWe=function(r,e){return function(t,n){e(t,n,r)}};let PL=class extends ae{setBeans(e){this.logging=e.is("debug")}create(e){return new JWe(e,this.isLogging.bind(this))}isLogging(){return this.logging}};Mre([XWe(0,Ji("gridOptionsService"))],PL.prototype,"setBeans",null);PL=Mre([Re("loggerFactory")],PL);let JWe=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}};var gm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let xp=class extends ae{setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:o=>o===wr.HeaderCell||o===wr.ToolPanel,getIconName:()=>ct.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new HD(this.view)),this.addRtlSupport(),this.addManagedListener(this,D.EVENT_KEYBOARD_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,D.EVENT_MOUSE_FOCUS,()=>{this.view.addOrRemoveKeyboardFocusClass(!1)});const i=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>i()),this.ctrlsService.registerGridCtrl(this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1}showDropZones(){return Be.__isRegistered(_e.RowGroupingModule,this.context.getGridId())}showSideBar(){return Be.__isRegistered(_e.SideBarModule,this.context.getGridId())}showStatusBar(){return Be.__isRegistered(_e.StatusBarModule,this.context.getGridId())}showWatermark(){return Be.__isRegistered(_e.EnterpriseCoreModule,this.context.getGridId())}onGridSizeChanged(){const e={type:D.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),o=n.findIndex(s=>s.contains(t.activeElement))+(e?-1:1);return o<=0||o>=n.length?!1:this.focusService.focusInto(n[o])}focusInnerElement(e){const t=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(fn(t),!0);const i=fn(n);if(this.focusService.focusGridView(i,!0))return!0}return this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusGridView(n[0]):this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};gm([A("focusService")],xp.prototype,"focusService",void 0);gm([A("resizeObserverService")],xp.prototype,"resizeObserverService",void 0);gm([A("columnModel")],xp.prototype,"columnModel",void 0);gm([A("ctrlsService")],xp.prototype,"ctrlsService",void 0);gm([A("mouseEventService")],xp.prototype,"mouseEventService",void 0);gm([A("dragAndDropService")],xp.prototype,"dragAndDropService",void 0);var Jw=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Zw=class extends zw{constructor(e){super(),this.eGridDiv=e}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:n=>this.addCssClass(n),addOrRemoveKeyboardFocusClass:n=>this.addOrRemoveCssClass(lr.AG_KEYBOARD_FOCUS,n),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:n=>{this.getGui().style.userSelect=n??"",this.getGui().style.webkitUserSelect=n??""},setCursor:n=>{this.getGui().style.cursor=n??""}};this.ctrl=this.createManagedBean(new xp);const t=this.createTemplate();this.setTemplate(t),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>this.ctrl.focusInnerElement(n)})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(e,t){const n=this.eRootWrapperBody.classList;n.toggle(Dr.AUTO_HEIGHT,t.autoHeight),n.toggle(Dr.NORMAL,t.normal),n.toggle(Dr.PRINT,t.print),this.addOrRemoveCssClass(Dr.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(Dr.NORMAL,t.normal),this.addOrRemoveCssClass(Dr.PRINT,t.print)}createTemplate(){const e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",n=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",i=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${e}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${t}
                </div>
                ${n}
                <ag-pagination></ag-pagination>
                ${i}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(t=>vd(t))}};Jw([A("loggerFactory")],Zw.prototype,"loggerFactory",void 0);Jw([ue("gridBody")],Zw.prototype,"gridBodyComp",void 0);Jw([ue("sideBar")],Zw.prototype,"sideBarComp",void 0);Jw([ue("rootWrapperBody")],Zw.prototype,"eRootWrapperBody",void 0);Jw([he],Zw.prototype,"postConstruct",null);var Lre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},q_;let ZT=q_=class extends ae{progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}setSortForColumn(e,t,n,i){t!=="asc"&&t!=="desc"&&(t=null);const o=this.gridOptionsService.isColumnsSortingCoupledToGroup();let s=[e];if(o&&e.getColDef().showRowGroup){const l=this.columnModel.getSourceColumnsForGroupColumn(e),u=l==null?void 0:l.filter(c=>c.getColDef().sortable);u&&(s=[e,...u])}s.forEach(l=>l.setSort(t,i)),(n||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(s,i),this.updateSortIndex(e),this.dispatchSortChangedEvents(i)}updateSortIndex(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),i=t&&n||e,o=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(l=>l.setSortIndex(null));const s=o.filter(l=>l!==i);(i.getSort()?[...s,i]:s).forEach((l,u)=>l.setSortIndex(u))}onSortChanged(e){this.dispatchSortChangedEvents(e)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e){const t={type:D.EVENT_SORT_CHANGED,source:e};this.eventService.dispatchEvent(t)}clearSortBarTheseColumns(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(n=>{e.includes(n)||n.setSort(void 0,t)})}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?t=this.gridOptionsService.get("sortingOrder"):t=q_.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const n=t.indexOf(e.getSort()),i=n<0,o=n==t.length-1;let s;return i||o?s=t[0]:s=t[n+1],q_.DEFAULT_SORTING_ORDER.indexOf(s)<0?(console.warn("AG Grid: invalid sort type "+s),null):s}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter(a=>{const l=!!a.getAggFunc(),u=!a.isPrimary(),c=s?this.columnModel.getGroupDisplayColumnForGroup(a.getId()):a.getColDef().showRowGroup;return l||u||c})}const t=this.columnModel.getRowGroupColumns().filter(s=>!!s.getSort()),n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!t.length;n&&(e=[...new Set(e.map(s=>{var a;return(a=this.columnModel.getGroupDisplayColumnForGroup(s.getId()))!==null&&a!==void 0?a:s}))]);const i={};e.forEach((s,a)=>i[s.getId()]=a),e.sort((s,a)=>{const l=s.getSortIndex(),u=a.getSortIndex();if(l!=null&&u!=null)return l-u;if(l==null&&u==null){const c=i[s.getId()],d=i[a.getId()];return c>d?1:-1}else return u==null?-1:1});const o=new Map;return e.forEach((s,a)=>o.set(s,a)),n&&t.forEach(s=>{const a=this.columnModel.getGroupDisplayColumnForGroup(s.getId());o.set(s,o.get(a))}),o}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,i])=>t-i).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,o=i[0].getSort();return i.every(a=>a.getSort()==o)?o:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};ZT.DEFAULT_SORTING_ORDER=["asc","desc",null];Lre([A("columnModel")],ZT.prototype,"columnModel",void 0);ZT=q_=Lre([Re("sortController")],ZT);var ZWe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Zz=class extends ae{setMouseOver(e){this.selectedColumns=e;const t={type:D.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:D.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};Zz=ZWe([Re("columnHoverService")],Zz);var T1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let eP=class extends ae{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active}start(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&(this.flush(),this.active=!1)}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(){const e=this.executeNextFuncs;this.executeNextFuncs=[];const t=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&t.length===0)&&(window.setTimeout(()=>e.forEach(n=>n()),0),window.setTimeout(()=>t.forEach(n=>n()),300))}};T1([A("ctrlsService")],eP.prototype,"ctrlsService",void 0);T1([he],eP.prototype,"postConstruct",null);eP=T1([Re("columnAnimationService")],eP);var P1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let tP=class extends ae{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCon=e.centerRowContainerCtrl,this.addManagedListener(this.eventService,D.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,D.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.checkPageSize()})}notActive(){return!this.gridOptionsService.is("paginationAutoPageSize")||this.centerRowContainerCon==null}checkPageSize(){if(this.notActive())return;const e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const n=this.gridOptionsService.getRowHeightAsNumber(),i=Math.floor(e/n);this.gridOptionsService.set("paginationPageSize",i)};this.isBodyRendered?ua(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};P1([A("ctrlsService")],tP.prototype,"ctrlsService",void 0);P1([he],tP.prototype,"postConstruct",null);tP=P1([Re("paginationAutoPageSizeService")],tP);var Nre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let OL=class extends ae{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=n)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}};Nre([he],OL.prototype,"init",null);OL=Nre([Re("valueCache")],OL);var oA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const eUe="paste";let lC=class extends ae{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,D.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==eUe&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gridOptionsService.is("suppressChangeDetection"))return;const n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const i=this.gridOptionsService.is("aggregateOnlyChangedColumns"),o=new S1(i,this.clientSideRowModel.getRootNode());o.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(s=>{n.push(s)})}this.rowRenderer.refreshCells({rowNodes:n})}};oA([A("rowModel")],lC.prototype,"rowModel",void 0);oA([A("rowRenderer")],lC.prototype,"rowRenderer",void 0);oA([he],lC.prototype,"init",null);lC=oA([Re("changeDetectionService")],lC);var Gre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let DL=class extends ae{adaptFunction(e,t){const n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(i){return!1}getGui(){return this.eGui}init(i){const o=e(i),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=di("<span>"+o+"</span>");return}if(o==null){this.eGui=di("<span></span>");return}this.eGui=o}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};Gre([A("componentMetadataProvider")],DL.prototype,"componentMetadataProvider",void 0);DL=Gre([Re("agComponentUtils")],DL);var O1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let nP=class extends ae{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}}retrieve(e){return this.componentMetaData[e]}};O1([A("agComponentUtils")],nP.prototype,"agComponentUtils",void 0);O1([he],nP.prototype,"postConstruct",null);nP=O1([Re("componentMetadataProvider")],nP);var D1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const tUe=25,e5=10,AI=8,nUe=4,xI=4,II=6,rUe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:nUe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:AI*7,headerCellMinWidth:48,listItemHeight:AI*4,rowHeight:AI*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:xI*8,headerCellMinWidth:24,listItemHeight:xI*6,rowHeight:xI*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:II*8,headerCellMinWidth:36,listItemHeight:II*4,rowHeight:II*7,chartMenuPanelWidth:240}},t5={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]};let rP=class extends ae{constructor(){super(...arguments),this.calculatedSizes={}}postConstruct(){var e;const t=(e=this.getTheme().el)!==null&&e!==void 0?e:this.eGridDiv;this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:D.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:n}=this.getTheme();if(!t||t.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const i=this.calculatedSizes[t][e];return i??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,n),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,n){const i="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),o=rUe[i][e],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!t5[e])return o;const a=t5[e],l=s.createElement("div"),u=Array.from(n.classList);l.classList.add(t,...u),l.style.position="absolute";const c=a.reduce((h,p)=>{const f=s.createElement("div");return f.style.position="static",f.classList.add(p),h.appendChild(f),f},l);let d=0;if(s.body){s.body.appendChild(l);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";d=parseInt(window.getComputedStyle(c)[h],10),s.body.removeChild(l)}return d||o}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,n=null,i=[];for(;t;)if(n=e.exec(t.className),!n)t=t.parentElement||void 0;else{const s=t.className.match(e);s&&(i=s);break}if(!n)return{allThemes:i};const o=n[0];return{theme:o,el:t,themeFamily:o.replace(/-dark$/,""),allThemes:i}}getFromTheme(e,t){var n;return(n=this.getSassVariable(t))!==null&&n!==void 0?n:e}getDefaultRowHeight(){return this.getFromTheme(tUe,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gridOptionsService.getNum("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return-1;const n=`${t}px`;return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),t):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return le(e)?Math.max(e,e5):e5}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};D1([A("eGridDiv")],rP.prototype,"eGridDiv",void 0);D1([he],rP.prototype,"postConstruct",null);rP=D1([Re("environment")],rP);var sA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},iUe=function(r,e){return function(t,n){e(t,n,r)}};let uC=class extends ae{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,D.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=qte(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(t!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=n,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:D.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:D.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}};sA([A("ctrlsService")],uC.prototype,"ctrlsService",void 0);sA([iUe(0,Ji("loggerFactory"))],uC.prototype,"agWire",null);sA([he],uC.prototype,"postConstruct",null);uC=sA([Re("rowContainerHeightService")],uC);var Vre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let AL=class extends ae{init(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")}updateSelectableAfterGrouping(e){if(this.isRowSelectableFunc){const t=n=>n.childrenAfterGroup;this.recurseDown(e.childrenAfterGroup,t)}}recurseDown(e,t){e&&e.forEach(n=>{if(!n.group)return;n.hasChildren()&&this.recurseDown(t(n),t);let i;if(this.groupSelectsChildren){const o=(t(n)||[]).find(s=>s.selectable===!0);i=le(o)}else i=this.isRowSelectableFunc?this.isRowSelectableFunc(n):!1;n.setRowSelectable(i)})}};Vre([he],AL.prototype,"init",null);AL=Vre([Re("selectableService")],AL);var Ys=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let qs=class extends Ve{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:n,btNext:i,btLast:o}=this;this.activateTabIndex([t,n,i,o]),t.insertAdjacentElement("afterbegin",vr(e?"last":"first",this.gridOptionsService)),n.insertAdjacentElement("afterbegin",vr(e?"next":"previous",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",vr(e?"previous":"next",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",vr(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()}onPaginationChanged(){const t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,D.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListener(t,"click",n),this.addManagedListener(t,"keydown",i=>{(i.key===Y.ENTER||i.key===Y.SPACE)&&(i.preventDefault(),n())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),n=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)}formatNumber(e){const t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t)return t({value:e});const n=this.localeService.getLocaleTextFunc(),i=n("thousandSeparator",","),o=n("decimalSeparator",".");return RV(e,i,o)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),i=e("of","of"),o=e("firstPage","First Page"),s=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),l=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${u}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${n}</span>
                    <span id="ag-${u}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${i}</span>
                    <span id="ag-${u}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${u}-start-page">${t}</span>
                        <span id="ag-${u}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${i}</span>
                        <span id="ag-${u}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),o=t&&e===n-1;this.nextButtonDisabled=o||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){mV(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let o,s;if(this.isZeroPagesToDisplay()?o=s=0:(o=t*e+1,s=o+t-1,n&&s>i&&(s=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(o),this.rowNodeBlockLoader.isLoading()){const a=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=a("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(s)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&t===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(n===1){const i=this.paginationProxy.getRow(0);if(i&&i.group&&!(i.groupData||i.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(n);else{const i=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=i,this.lbRecordCount.innerHTML=i}}setTotalLabelsToZero(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)}};Ys([A("paginationProxy")],qs.prototype,"paginationProxy",void 0);Ys([A("rowNodeBlockLoader")],qs.prototype,"rowNodeBlockLoader",void 0);Ys([ue("btFirst")],qs.prototype,"btFirst",void 0);Ys([ue("btPrevious")],qs.prototype,"btPrevious",void 0);Ys([ue("btNext")],qs.prototype,"btNext",void 0);Ys([ue("btLast")],qs.prototype,"btLast",void 0);Ys([ue("lbRecordCount")],qs.prototype,"lbRecordCount",void 0);Ys([ue("lbFirstRowOnPage")],qs.prototype,"lbFirstRowOnPage",void 0);Ys([ue("lbLastRowOnPage")],qs.prototype,"lbLastRowOnPage",void 0);Ys([ue("lbCurrent")],qs.prototype,"lbCurrent",void 0);Ys([ue("lbTotal")],qs.prototype,"lbTotal",void 0);Ys([he],qs.prototype,"postConstruct",null);var mm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Af;(function(r){r[r.Loading=0]="Loading",r[r.NoRows=1]="NoRows"})(Af||(Af={}));let Ip=class Hre extends Ve{constructor(){super(Hre.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1,this.manuallyDisplayed=!1}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList;n.toggle(Dr.AUTO_HEIGHT,t.autoHeight),n.toggle(Dr.NORMAL,t.normal),n.toggle(Dr.PRINT,t.print)}postConstruct(){this.createManagedBean(new HD(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,D.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===Af.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===Af.NoRows)}showLoadingOverlay(){if(this.gridOptionsService.is("suppressLoadingOverlay"))return;const e={},n=this.userComponentFactory.getLoadingOverlayCompDetails(e).newAgStackInstance();this.showOverlay(n,Af.Loading)}showNoRowsOverlay(){if(this.gridOptionsService.is("suppressNoRowsOverlay"))return;const e={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(e).newAgStackInstance();this.showOverlay(n,Af.NoRows)}showOverlay(e,t){this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(n=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Hi(this.eOverlayWrapper))}hideOverlay(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};Ip.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`;mm([A("userComponentFactory")],Ip.prototype,"userComponentFactory",void 0);mm([A("paginationProxy")],Ip.prototype,"paginationProxy",void 0);mm([A("gridApi")],Ip.prototype,"gridApi",void 0);mm([A("columnModel")],Ip.prototype,"columnModel",void 0);mm([ue("eOverlayWrapper")],Ip.prototype,"eOverlayWrapper",void 0);mm([he],Ip.prototype,"postConstruct",null);var aA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let cC=class extends ae{getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(t="bottom",e=n-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):i&&(t="top",e=i-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(le(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}rowMax(e){let t;return e.forEach(n=>{(t===void 0||this.before(t,n))&&(t=n)}),t}rowMin(e){let t;return e.forEach(n=>{(t===void 0||this.before(n,t))&&(t=n)}),t}};aA([A("rowModel")],cC.prototype,"rowModel",void 0);aA([A("pinnedRowModel")],cC.prototype,"pinnedRowModel",void 0);aA([A("paginationProxy")],cC.prototype,"paginationProxy",void 0);cC=aA([Re("rowPositionUtils")],cC);var oUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let n5=class extends ae{createId(e){const{rowIndex:t,rowPinned:n,column:i}=e;return this.createIdFromValues({rowIndex:t,column:i,rowPinned:n})}createIdFromValues(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}equals(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,o=e.rowIndex===t.rowIndex;return n&&i&&o}};n5=oUe([Re("cellPositionUtils")],n5);let ny=class{constructor(e){this.cellValueChanges=e}},FI=class extends ny{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},xL=class kre{constructor(e){this.actionStack=[],this.maxStackSize=e||kre.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};xL.DEFAULT_STACK_SIZE=10;var kl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ra=class extends ae{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),i=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:a,column:l,oldValue:u,value:c}=e,d={rowPinned:s,rowIndex:a,columnId:l.getColId(),newValue:c,oldValue:u};this.cellValueChanges.push(d)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gridOptionsService.is("undoRedoCellEditing"))return;const e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new xL(e),this.redoStack=new xL(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,D.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,D.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,D.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(()=>{this.gridBodyCtrl=this.ctrlsService.getGridBodyCtrl()}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:D.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),i={type:D.EVENT_UNDO_ENDED,source:e,operationPerformed:n};this.eventService.dispatchEvent(i)}redo(e){const t={type:D.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),i={type:D.EVENT_REDO_ENDED,source:e,operationPerformed:n};this.eventService.dispatchEvent(i)}undoRedo(e,t,n,i,o){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,a=>a[i],o),s instanceof FI?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:o,rowPinned:s,columnId:a}=i,l={rowIndex:o,rowPinned:s},u=this.getRowNode(l);u.displayed&&u.setDataValue(a,t(i),n)})}processRange(e){let t;this.rangeService.removeAllCellRanges(!0),e.forEach((n,i)=>{if(!n)return;const o=n.startRow,s=n.endRow;i===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};this.rangeService.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,o={rowIndex:n,rowPinned:i},s=this.getRowNode(o),a={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(a,!!this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:n,columnId:i,rowPinned:o}=e,s=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getGridColumn(i);if(!a)return;s.ensureIndexVisible(n),s.ensureColumnVisible(a);const l={rowIndex:n,column:a,rowPinned:o};this.focusService.setFocusedCell(Object.assign(Object.assign({},l),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(l)}addRowEditingListeners(){this.addManagedListener(this.eventService,D.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,D.EVENT_ROW_EDITING_STOPPED,()=>{const e=new ny(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,D.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,D.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new ny(this.cellValueChanges);this.pushActionsToUndoStack(n)}})}addPasteListeners(){this.addManagedListener(this.eventService,D.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,D.EVENT_PASTE_END,()=>{const e=new ny(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,D.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,D.EVENT_FILL_END,e=>{const t=new FI(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,D.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,D.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gridOptionsService.is("enableRangeSelection")?e=new FI(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new ny(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}};kl([A("focusService")],Ra.prototype,"focusService",void 0);kl([A("ctrlsService")],Ra.prototype,"ctrlsService",void 0);kl([A("rowModel")],Ra.prototype,"rowModel",void 0);kl([A("pinnedRowModel")],Ra.prototype,"pinnedRowModel",void 0);kl([A("cellPositionUtils")],Ra.prototype,"cellPositionUtils",void 0);kl([A("rowPositionUtils")],Ra.prototype,"rowPositionUtils",void 0);kl([A("columnModel")],Ra.prototype,"columnModel",void 0);kl([xt("rangeService")],Ra.prototype,"rangeService",void 0);kl([he],Ra.prototype,"init",null);Ra=kl([Re("undoRedoService")],Ra);var A1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let iP=class extends ae{findHeader(e,t){let n,i,o;if(e.column instanceof Vr?(i=`getDisplayedGroup${t}`,n=this.columnModel[i](e.column)):(o=`getDisplayedCol${t}`,n=this.columnModel[o](e.column)),!n)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)===hi.COLUMN_GROUP){const l=n;if(l.isPadding()&&this.isAnyChildSpanningHeaderHeight(l)){const{nextFocusColumn:u,nextRow:c}=this.getColumnVisibleChild(l,s,t);u&&(n=u,s=c)}}return{column:n,headerRowIndex:s}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const n=this.getHeaderRowType(t),i=n===hi.FLOATING_FILTER,o=n===hi.COLUMN;let s=i?e:e.getParent(),a=t-1;if(o&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),a--;a<0&&(s=e,a=t)}return{nextFocusColumn:s,nextRow:a}}getColumnVisibleChild(e,t,n="After"){const i=this.getHeaderRowType(t);let o=e,s=t+1;if(i===hi.COLUMN_GROUP){const a=e.getLeafColumns(),l=n==="After"?a[0]:fn(a);if(this.isAnyChildSpanningHeaderHeight(l.getParent())){o=l;let u=l.getParent();for(;u&&u!==e;)u=u.getParent(),s++}else o=e.getDisplayedChildren()[0]}return{nextFocusColumn:o,nextRow:s}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const n=this.columnModel.getAllDisplayedColumns(),i=n[t==="start"?0:n.length-1];if(!i)return;const s=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(e);if(s==hi.COLUMN_GROUP){const a=this.columnModel.getColumnGroupAtLevel(i,e);return{headerRowIndex:e,column:a}}return{headerRowIndex:s==null?-1:e,column:i}}};A1([A("columnModel")],iP.prototype,"columnModel",void 0);A1([A("ctrlsService")],iP.prototype,"ctrlsService",void 0);iP=A1([Re("headerPositionUtils")],iP);var sUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let r5=class{buildColumnDefs(e,t,n){const i=[],o={};return e.forEach(s=>{const a=this.createDefFromColumn(s,t,n);let l=!0,u=a,c=s.getOriginalParent(),d=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=o[c.getGroupId()];if(p){p.children.push(u),l=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[u],o[h.groupId]=h,u=h,c=c.getOriginalParent()),c!=null&&d===c){l=!1;break}d=c}l&&i.push(u)}),i}createDefFromGroup(e){const t=NT(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=NT(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}};r5=sUe([Re("columnDefFactory")],r5);var x1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let oP=class{getInitialRowClasses(e){const t=[];return le(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),cL(t,this.processClassesFromGridOptions(e.rowNode)),cL(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],n=s=>{typeof s=="string"?t.push(s):Array.isArray(s)&&s.forEach(a=>t.push(a))},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}const o=this.gridOptionsService.getCallback("getRowClass");if(o){const s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);n(a)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,n=>{t.push(n)},n=>{}),t}processRowClassRules(e,t,n){const i={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,t,n)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};x1([A("stylingService")],oP.prototype,"stylingService",void 0);x1([A("gridOptionsService")],oP.prototype,"gridOptionsService",void 0);oP=x1([Re("rowCssClassCalculator")],oP);var lA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let dC=class extends ae{init(){this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const n=(o,s)=>({currentPos:s,rowNode:o}),i=e.map(n);return i.sort(this.compareRowNodes.bind(this,t)),i.map(o=>o.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,o=n.rowNode;for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.sort==="desc",c=this.getValue(i,l.column),d=this.getValue(o,l.column);let h;const p=this.getComparator(l,i);if(p?h=p(c,d,i,o,u):h=K.defaultComparator(c,d,this.isAccentedSort),!isNaN(h)&&h!==0)return l.sort==="asc"?h:h*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const o=!t.group&&n.getColDef().field;if(!o)return;const s=this.columnModel.getPrimaryColumn(o);if(s)return s.getColDef().comparator}getValue(e,t){var n,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(t.getColDef().keyCreator)return e.key;const u=(n=e.allLeafChildren)===null||n===void 0?void 0:n[0];return u?this.valueService.getValue(t,u,!1,!1):void 0}const a=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return a?(i=e.groupData)===null||i===void 0?void 0:i[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}};lA([A("valueService")],dC.prototype,"valueService",void 0);lA([A("columnModel")],dC.prototype,"columnModel",void 0);lA([he],dC.prototype,"init",null);dC=lA([Re("rowNodeSorter")],dC);var aUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},IL;let FL=IL=class extends ae{constructor(){super(...arguments),this.ready=!1,this.readyCallbacks=[]}checkReady(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){const e=this.createReadyParams();this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0}}whenReady(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)}createReadyParams(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}}registerFakeHScrollComp(e){this.fakeHScrollComp=e,this.checkReady()}registerFakeVScrollComp(e){this.fakeVScrollComp=e,this.checkReady()}registerGridHeaderCtrl(e){this.gridHeaderCtrl=e,this.checkReady()}registerCenterRowContainerCtrl(e){this.centerRowContainerCtrl=e,this.checkReady()}registerLeftRowContainerCtrl(e){this.leftRowContainerCtrl=e,this.checkReady()}registerRightRowContainerCtrl(e){this.rightRowContainerCtrl=e,this.checkReady()}registerTopCenterRowContainerCtrl(e){this.topCenterRowContainerCtrl=e,this.checkReady()}registerTopLeftRowContainerCon(e){this.topLeftRowContainerCtrl=e,this.checkReady()}registerTopRightRowContainerCtrl(e){this.topRightRowContainerCtrl=e,this.checkReady()}registerStickyTopCenterRowContainerCtrl(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()}registerStickyTopLeftRowContainerCon(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()}registerStickyTopRightRowContainerCtrl(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()}registerBottomCenterRowContainerCtrl(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()}registerBottomLeftRowContainerCtrl(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()}registerBottomRightRowContainerCtrl(e){this.bottomRightRowContainerCtrl=e,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()}registerGridBodyCtrl(e){this.gridBodyCtrl=e,this.checkReady()}registerGridCtrl(e){this.gridCtrl=e,this.checkReady()}getFakeHScrollComp(){return this.fakeHScrollComp}getFakeVScrollComp(){return this.fakeVScrollComp}getGridHeaderCtrl(){return this.gridHeaderCtrl}getGridCtrl(){return this.gridCtrl}getCenterRowContainerCtrl(){return this.centerRowContainerCtrl}getTopCenterRowContainerCtrl(){return this.topCenterRowContainerCtrl}getBottomCenterRowContainerCtrl(){return this.bottomCenterRowContainerCtrl}getStickyTopCenterRowContainerCtrl(){return this.stickyTopCenterRowContainerCtrl}getGridBodyCtrl(){return this.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}}};FL.NAME="ctrlsService";FL=IL=aUe([Re(IL.NAME)],FL);var lUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let i5=class extends ae{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(t!=null)return new t}};i5=lUe([Re("ctrlsFactory")],i5);var eS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Fp=class extends Ve{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,D.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",bV()||gd())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Zy(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],t=["mouseleave","touchend"],n=this.getGui();e.forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),t.forEach(i=>this.addManagedListener(n,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,D.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,D.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();dV(()=>vd(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};eS([ue("eViewport")],Fp.prototype,"eViewport",void 0);eS([ue("eContainer")],Fp.prototype,"eContainer",void 0);eS([A("scrollVisibleService")],Fp.prototype,"scrollVisibleService",void 0);eS([A("ctrlsService")],Fp.prototype,"ctrlsService",void 0);eS([A("animationFrameService")],Fp.prototype,"animationFrameService",void 0);var tS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let vm=class $re extends Fp{constructor(){super($re.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new sm(t=>this.eContainer.style.width=`${t}px`))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.columnModel.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.gridOptionsService.getScrollbarWidth();n&&(t+=i),Ls(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(o+=i),Ls(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=i)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,n=this.gridOptionsService.is("suppressHorizontalScroll"),i=e&&this.gridOptionsService.getScrollbarWidth()||0,s=n?0:i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),_h(this.getGui(),s),_h(this.eViewport,s),_h(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return nC(this.getViewport(),this.enableRtl)}setScrollPosition(e){vd(this.getViewport())||this.attemptSettingScrollPosition(e),rC(this.getViewport(),e,this.enableRtl)}};vm.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;tS([ue("eLeftSpacer")],vm.prototype,"eLeftSpacer",void 0);tS([ue("eRightSpacer")],vm.prototype,"eRightSpacer",void 0);tS([A("columnModel")],vm.prototype,"columnModel",void 0);tS([A("pinnedRowModel")],vm.prototype,"pinnedRowModel",void 0);tS([he],vm.prototype,"postConstruct",null);var I1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let sP=class extends ae{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:D.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:D.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};I1([A("columnModel")],sP.prototype,"columnModel",void 0);I1([he],sP.prototype,"postConstruct",null);sP=I1([Re("pinnedWidthService")],sP);var uA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let hC=class extends ae{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const t=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(t)),this.dispatchExpandedDebounced()}};uA([A("animationFrameService")],hC.prototype,"animationFrameService",void 0);uA([A("rowModel")],hC.prototype,"rowModel",void 0);uA([he],hC.prototype,"postConstruct",null);hC=uA([Re("rowNodeEventThrottle")],hC);var Ed=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},o5=function(r,e){return function(t,n){e(t,n,r)}},ML;function uUe(r){if(typeof r=="number")return r;if(typeof r=="string")return parseInt(r,10)}function wE(r){return r===!0||r==="true"}let Al=ML=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Bs,this.globalEventHandlerFactory=e=>(t,n)=>{if(this.destroyed)return;const i=ML.alwaysSyncGlobalEvents.has(t);if(i&&!e||!i&&e)return;const o=Zn.getCallbackForEvent(t);typeof this.gridOptions[o]=="function"&&this.gridOptions[o](n)}}get context(){return this.gridOptions.context}agWire(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t}init(){this.gridOptionLookup=new Set([...Zn.ALL_PROPERTIES,...Zn.EVENT_CALLBACKS]);const e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()}destroy(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0}is(e){return wE(this.gridOptions[e])}get(e){return this.gridOptions[e]}getNum(e){return uUe(this.gridOptions[e])}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return le(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>{const i=n;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,e(i)})}__setPropertyOnly(e,t){const n=this.gridOptions[e];return this.gridOptionLookup.has(e)&&(this.gridOptions[e]=t),n!==t}set(e,t,n=!1,i={},o=void 0){if(this.gridOptionLookup.has(e)){const s=this.gridOptions[e];if(n||s!==t){this.gridOptions[e]=t;const a=Object.assign({type:e,currentValue:t,previousValue:s,changeSet:o},i);this.propertyEventService.dispatchEvent(a)}}}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getGridId(){return this.api.getGridId()}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Jte();t!=null&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:D.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&it(this.gridOptions.rowModelType)}isDomLayout(e){var t;return((t=this.gridOptions.domLayout)!==null&&t!==void 0?t:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.is("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,t=!1,n){if(n==null&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:n,estimated:!0};const o={node:e,data:e.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Mt(()=>console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}}getMasterDetailRowHeight(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||it(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const n=e[this.getDomDataKey()];return n?n[t]:void 0}setDomData(e,t,n){const i=this.getDomDataKey();let o=e[i];it(o)&&(o={},e[i]=o),o[t]=n}getDocument(){let e=null;return this.gridOptions.getDocument&&le(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&le(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getAsyncTransactionWaitMillis(){return le(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.is("ensureDomOrder")?!1:this.is("animateRows")}isGroupRowsSticky(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(e!=null&&e.comparator)&&!this.is("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(wE(e))return()=>!0}isGroupIncludeFooterTrueOrCallback(){const e=this.gridOptions.groupIncludeFooter;return wE(e)||typeof e=="function"}getGroupIncludeFooter(){const e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):wE(e)?()=>!0:()=>!1}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?dL("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType?dL("groupRows",this.gridOptions.groupDisplayType):!1}};Al.alwaysSyncGlobalEvents=new Set([D.EVENT_GRID_PRE_DESTROYED]);Ed([A("gridOptions")],Al.prototype,"gridOptions",void 0);Ed([A("eventService")],Al.prototype,"eventService",void 0);Ed([A("environment")],Al.prototype,"environment",void 0);Ed([A("eGridDiv")],Al.prototype,"eGridDiv",void 0);Ed([o5(0,Ji("gridApi")),o5(1,Ji("columnApi"))],Al.prototype,"agWire",null);Ed([he],Al.prototype,"init",null);Ed([Si],Al.prototype,"destroy",null);Al=ML=Ed([Re("gridOptionsService")],Al);var cUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let s5=class extends ae{getLocaleTextFunc(){const e=this.gridOptionsService.getCallback("getLocaleText");if(e)return(n,i,o)=>e({key:n,defaultValue:i,variableValues:o});const t=this.gridOptionsService.get("localeText");return(n,i,o)=>{let s=t&&t[n];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??i}}};s5=cUe([Re("localeService")],s5);var dUe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Bre=class jre extends Fp{constructor(){super(jre.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new $D(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,D.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,n=e&&this.gridOptionsService.getScrollbarWidth()||0,i=n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Ls(this.getGui(),i),Ls(this.eViewport,i),Ls(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const t=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=t.scrollTop&&(this.eViewport.scrollTop=t.scrollTop)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(e){vd(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e}};Bre.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;dUe([he],Bre.prototype,"postConstruct",null);var Mp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const a5={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},l5=["january","february","march","april","may","june","july","august","september","october","november","december"];let ad=class extends ae{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",()=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs("gridOptionsChanged")})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([i,o])=>{this.dataTypeDefinitions[i]=Object.assign(Object.assign({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})});const n=(e=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&e!==void 0?e:{};this.dataTypeMatchers={},Object.entries(n).forEach(([i,o])=>{const s=this.processDataTypeDefinition(o,n,[i],t);s&&(this.dataTypeDefinitions[i]=s,o.dataTypeMatcher&&(this.dataTypeMatchers[i]=o.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(i=>{const o=this.dataTypeMatchers[i];o&&delete this.dataTypeMatchers[i],this.dataTypeMatchers[i]=o??t[i].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const n=Object.assign(Object.assign({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),n}processDataTypeDefinition(e,t,n,i){let o;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){const a=i[s];if(!this.validateDataTypeDefinition(e,a,s))return;o=this.mergeDataTypeDefinitions(a,e)}else{if(n.includes(s)){Mt(()=>console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.'),"dataTypeExtendsCircularRef");return}const a=t[s];if(!this.validateDataTypeDefinition(e,a,s))return;const l=this.processDataTypeDefinition(a,t,[...n,s],i);if(!l)return;o=this.mergeDataTypeDefinitions(l,e)}return Object.assign(Object.assign({},o),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(o)})}validateDataTypeDefinition(e,t,n){return t?t.baseDataType!==e.baseDataType?(Mt(()=>console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.'),"dataTypeBaseTypesMatch"),!1):!0:(Mt(()=>console.warn(`AG Grid: The data type definition ${n} does not exist.`),"dataTypeDefMissing"+n),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var n,i;if(!((n=t.node)===null||n===void 0)&&n.group){const o=t.column.getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&o!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(Object.assign(Object.assign({},t),{value:t.value.value}))}}}return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive())return typeof t.value!="string"||!((i=e.dataTypeMatcher)===null||i===void 0)&&i.call(e,t.value)?e.valueFormatter(t):void 0;return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,n){let{cellDataType:i}=t;const{field:o}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(o,n):!1),!i){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[i];if(!s){Mt(()=>console.warn(`AG Grid: Missing data type definition - "${i}"`),"dataTypeMissing"+i);return}return e.cellDataType=i,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,n),s.columnTypes}updateColDefAndGetColumnType(e,t,n){var i,o;const s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,n),a=(o=(i=t.type)!==null&&i!==void 0?i:s)!==null&&o!==void 0?o:e.type;return e.type=a,a?this.convertColumnTypes(a):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.addEventListener(Xe.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(Xe.EVENT_STATE_UPDATED,n))}canInferCellDataType(e,t){var n;if(this.rowModel.getType()!=="clientSide")return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const o=t.type===null?e.type:t.type;if(o){const s=(n=this.gridOptionsService.get("columnTypes"))!==null&&n!==void 0?n:{};if(this.convertColumnTypes(o).some(l=>{const u=s[l.trim()];return u&&this.doColDefPropsPreventInference(u,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>this.doesColDefPropPreventInference(e,t,n,i))}doesColDefPropPreventInference(e,t,n,i){if(!t[n])return!1;const o=e[n];return o===null?(t[n]=!1,!1):i===void 0?!!o:o===i}inferCellDataType(e,t){var n;if(!e)return;let i;const o=this.getInitialData();if(o){const a=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");i=Wf(o,e,a)}else this.initWaitForRowData(t);if(i==null)return;const[s]=(n=Object.entries(this.dataTypeMatchers).find(([a,l])=>l(i)))!==null&&n!==void 0?n:["object"];return s}getInitialData(){const e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const n=this.addManagedListener(this.eventService,D.EVENT_ROW_DATA_UPDATE_STARTED,i=>{const{firstRowData:o}=i;if(!o)return;n==null||n(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();const s={type:D.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(s)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.columnStateUpdateListenerDestroyFuncs.forEach(s=>s()),this.columnStateUpdateListenerDestroyFuncs=[];const i={},o={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,a])=>{const l=this.columnModel.getGridColumn(s);if(!l)return;const u=l.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(l))return;const c=l.getColDef();if(t&&c.type&&c.type!==u.type){const d=this.getUpdatedColumnState(l,a);d.rowGroup&&d.rowGroupIndex==null&&(i[s]=d),d.pivot&&d.pivotIndex==null&&(o[s]=d),n.push(d)}}),t&&n.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(i,o)),n.length&&this.columnModel.applyColumnState({state:n},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const n=this.columnModel.getColumnStateFromColDef(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(i=>typeof i!="string")?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(){return this.dataTypeDefinitions.dateString}getDateParserFunction(){return this.getDateStringTypeDefinition().dateParser}getDateFormatterFunction(){return this.getDateStringTypeDefinition().dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))===null||t===void 0?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const i=(n=this.getDataTypeDefinition(e))===null||n===void 0?void 0:n.dataTypeMatcher;return i?i(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Mt(()=>console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Mt(()=>console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'),"dataTypeObjectValueParser"))}setColDefPropertiesForBaseDataType(e,t,n){const i=(l,u,c)=>{let d=l.getColDef().valueFormatter;return d===t.groupSafeValueFormatter&&(d=t.valueFormatter),this.valueFormatterService.formatValue(l,u,c,d)},o=Be.__isRegistered(_e.SetFilterModule,this.context.getGridId()),s=this.localeService.getLocaleTextFunc(),a=l=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?Object.assign(Object.assign({},u),l):l};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,t.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",o&&a({comparator:(l,u)=>{const c=l==null?0:parseInt(l),d=u==null?0:parseInt(u);return c===d?0:c>d?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=l=>!!l.colDef.editable&&l.event.key===Y.SPACE,a(o?{valueFormatter:l=>le(l.value)?s(String(l.value),l.value?"True":"False"):s("blanks","(Blanks)")}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(l,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(l,u)=>u===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=l=>i(l.column,l.node,l.value),o&&a({valueFormatter:l=>{const u=i(l.column,l.node,l.value);return le(u)?u:s("blanks","(Blanks)")},treeList:!0,treeListFormatter:(l,u)=>{if(u===1&&l!=null){const c=l5[Number(l)-1];return s(c,a5[c])}return l??s("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=u=>i(u.column,u.node,u.value);const l=this.getDateParserFunction();a(o?{valueFormatter:u=>{const c=i(u.column,u.node,u.value);return le(c)?c:s("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const c=l(u??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(u,c)=>{if(c===1&&u!=null){const d=l5[Number(u)-1];return s(d,a5[d])}return u??s("blanks","(Blanks)")}}:{comparator:(u,c)=>{const d=l(c);return c==null||d<u?-1:d>u?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(l,u)=>{const c=this.columnModel.getPrimaryColumn(n),d=c==null?void 0:c.getColDef();if(!c||!d)return 0;const h=l==null?"":i(c,null,l),p=u==null?"":i(c,null,u);return h===p?0:h>p?1:-1},e.keyCreator=l=>i(l.column,l.node,l.value),o?a({valueFormatter:l=>{const u=i(l.column,l.node,l.value);return le(u)?u:s("blanks","(Blanks)")}}):e.filterValueGetter=l=>i(l.column,l.node,this.valueService.getValue(l.column,l.node));break}}}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>n.newValue===""?null:Number(n.newValue),valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:qy(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>n.newValue===""?null:String(n.newValue).toLowerCase()==="true",valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>as(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>{var i;return n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):(i=bu(n.value,!1))!==null&&i!==void 0?i:""},dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>{var i;return(i=as(n))!==null&&i!==void 0?i:void 0},dateFormatter:n=>{var i;return(i=bu(n??null,!1))!==null&&i!==void 0?i:void 0},valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>{var i;return(i=qy(n.value))!==null&&i!==void 0?i:""}}}}};Mp([A("rowModel")],ad.prototype,"rowModel",void 0);Mp([A("columnModel")],ad.prototype,"columnModel",void 0);Mp([A("columnUtils")],ad.prototype,"columnUtils",void 0);Mp([A("valueService")],ad.prototype,"valueService",void 0);Mp([A("valueFormatterService")],ad.prototype,"valueFormatterService",void 0);Mp([he],ad.prototype,"init",null);ad=Mp([Re("dataTypeService")],ad);var Wre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let LL=class extends ae{parseValue(e,t,n,i){const o=e.getColDef(),s={node:t,data:t==null?void 0:t.data,oldValue:i,newValue:n,colDef:o,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},a=o.valueParser;return le(a)?typeof a=="function"?a(s):this.expressionService.evaluate(a,s):n}};Wre([A("expressionService")],LL.prototype,"expressionService",void 0);LL=Wre([Re("valueParserService")],LL);var u5;(function(r){r.InsideBase="insideBase",r.InsideEnd="insideEnd",r.Center="center",r.OutsideEnd="outsideEnd"})(u5||(u5={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */const ym=typeof global>"u"?{}:global;ym.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;ym.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;ym.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;ym.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;ym.Node=typeof Node>"u"?{}:Node;ym.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;let F1=class ry{constructor(e,t,n,i,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=ry.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}postConstruct(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")}getCopyOfNodesMap(){return K.cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,n=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(i=>this.createNode(i,this.rootNode,ry.TOP_LEVEL)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=t.childrenAfterFilter,n.childrenAfterGroup=t.childrenAfterGroup,n.childrenAfterAggFilter=t.childrenAfterAggFilter,n.childrenAfterSort=t.childrenAfterSort,n.childrenMapped=t.childrenMapped,n.allLeafChildren=t.allLeafChildren)}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&K.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n}dispatchRowDataUpdateStartedEvent(e){const t={type:D.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)}updateSelection(e,t){const n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){const i={type:D.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}}executeAdd(e,t){var n;const{add:i,addIndex:o}=e;if(K.missingOrEmpty(i))return;const s=i.map(a=>this.createNode(a,this.rootNode,ry.TOP_LEVEL));if(typeof o=="number"&&o>=0){const{allLeafChildren:a}=this.rootNode,l=a.length;let u=o;if(this.gridOptionsService.is("treeData")&&o>0&&l>0){for(let p=0;p<l;p++)if(((n=a[p])===null||n===void 0?void 0:n.rowIndex)==o-1){u=p+1;break}}const d=a.slice(0,u),h=a.slice(u,a.length);this.rootNode.allLeafChildren=[...d,...s,...h]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...s];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=s}executeRemove(e,t,n){const{remove:i}=e;if(K.missingOrEmpty(i))return;const o={};i.forEach(s=>{const a=this.lookupRowNode(s);a&&(a.isSelected()&&n.push(a),a.clearRowTopAndRowIndex(),o[a.id]=!0,delete this.allNodesMap[a.id],t.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(s=>!o[s.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,n){const{update:i}=e;K.missingOrEmpty(i)||i.forEach(o=>{const s=this.lookupRowNode(o);s&&(s.updateData(o),!s.selectable&&s.isSelected()&&n.push(s),this.setMasterForRow(s,o,ry.TOP_LEVEL,!1),t.update.push(s))})}lookupRowNode(e){const t=this.gridOptionsService.getCallback("getRowId");let n;if(t){const i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return console.error(`AG Grid: could not find row id=${i}, data item was not found for this id`),null}else if(n=this.rootNode.allLeafChildren.find(i=>i.data===e),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null}createNode(e,t,n){const i=new je(this.beans);return i.group=!1,this.setMasterForRow(i,e,n,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn(`AG Grid: duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(e,t,n,i){if(this.gridOptionsService.is("treeData"))e.setMaster(!1),i&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),i){const s=this.columnModel.getRowGroupColumns(),a=s?s.length:0,l=n+a;e.expanded=e.master?this.isExpanded(l):!1}}isExpanded(e){const t=this.gridOptionsService.getNum("groupDefaultExpanded");return t===-1?!0:e<t}};F1.TOP_LEVEL=0;F1.ROOT_NODE_ID="ROOT_NODE_ID";var Mo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qa;(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"})(qa||(qa={}));let ji=class extends ae{constructor(){super(...arguments),this.onRowHeightChanged_debounced=K.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[]}init(){const e=this.refreshModel.bind(this,{step:Zt.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:Zt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Zt.PIVOT})),this.addManagedListener(this.eventService,D.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,D.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));const i=this.refreshModel.bind(this,{step:Zt.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],i);const o=this.refreshModel.bind(this,{step:Zt.AGGREGATE,keepRenderedRows:!0,animate:t});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],o),this.rootNode=new je(this.beans),this.nodeManager=new F1(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",()=>{this.setRowData(this.rootNode.allLeafChildren.map(s=>s.data))})}start(){const e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)}ensureRowHeightsValid(e,t,n,i){let o,s=!1;do{o=!1;const a=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),u=Math.max(a,n),c=Math.min(l,i);for(let d=u;d<=c;d++){const h=this.getRow(d);if(h.rowHeightEstimated){const p=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(p.height),o=!0,s=!0}}o&&this.setRowTopAndRowIndex()}while(o);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const n=new Set,i=this.gridOptionsService.isDomLayout("normal");for(let o=0;o<this.rowsToDisplay.length;o++){const s=this.rowsToDisplay[o];if(s.id!=null&&n.add(s.id),s.rowHeight==null){const a=this.gridOptionsService.getRowHeightForNode(s,i,e);s.setRowHeight(a.height,a.estimated)}s.setRowTop(t),s.setRowIndex(o),t+=s.rowHeight}return n}clearRowTopAndRowIndex(e,t){const n=e.isActive(),i=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},o=s=>{if(i(s),i(s.detailNode),i(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const a=s.level==-1;n&&!a&&!s.expanded||s.childrenAfterGroup.forEach(o)}};o(this.rootNode)}ensureRowsAtPixel(e,t,n=0){const i=this.getRowIndexAtPixel(t),o=this.getRow(i),s=!this.gridOptionsService.is("suppressAnimationFrame");return o===e[0]?!1:(e.forEach(a=>{K.removeFromArray(this.rootNode.allLeafChildren,a)}),e.forEach((a,l)=>{K.insertIntoArray(this.rootNode.allLeafChildren,a,Math.max(i+n,0)+l)}),this.refreshModel({step:Zt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,i=n!=null?this.getRow(n):null;if(!i||!e||i===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const o=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(o),this.lastHighlightedRow=i}getHighlightPosition(e,t){if(!t){const o=this.getRowIndexAtPixel(e);if(t=this.getRow(o||0),!t)return fu.Below}const{rowTop:n,rowHeight:i}=t;return e-n<i/2?fu.Above:fu.Below}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let n=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(e){if(K.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Zt.MAP,keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gridOptionsService.isAnimateRows(),i=e.columns.length===0||e.columns.some(o=>o.isPrimary())?Zt.FILTER:Zt.FILTER_AGGREGATES;this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Zt.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:Zt.PIVOT}):this.refreshModel({step:Zt.AGGREGATE})}createChangePath(e){const t=K.missingOrEmpty(e),n=new S1(!1,this.rootNode);return(t||this.gridOptionsService.is("treeData"))&&n.setInactive(),n}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(i=>i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t=Zt.EVERYTHING;const n={everything:Zt.EVERYTHING,group:Zt.EVERYTHING,filter:Zt.FILTER,map:Zt.MAP,aggregate:Zt.AGGREGATE,sort:Zt.SORT,pivot:Zt.PIVOT};if(K.exists(e)&&(t=n[e]),K.missing(t)){console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(n).join(", ")}`);return}const i=!this.gridOptionsService.is("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}}refreshModel(e){let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const n=this.createChangePath(t.rowNodeTransactions);switch(t.step){case Zt.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,n,!!t.afterColumnsChanged);case Zt.FILTER:this.doFilter(n);case Zt.PIVOT:this.doPivot(n);case Zt.AGGREGATE:this.doAggregate(n);case Zt.FILTER_AGGREGATES:this.doFilterAggregates(n);case Zt.SORT:this.doSort(t.rowNodeTransactions,n);case Zt.MAP:this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i);const o={type:D.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(o)}isEmpty(){const e=K.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return K.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return K.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!t,i=!1;const o=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(a=>{if(i)return;if(n&&(a===t||a===e)&&(i=!0,a.group&&s)){o.push(...a.allLeafChildren);return}if(!n){if(a!==t&&a!==e)return;n=!0}if(!a.group||!s){o.push(a);return}}),o}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(K.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let o=-1,s=-1;for(;;){const a=Math.floor((t+n)/2),l=this.rowsToDisplay[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?t=a+1:l.rowTop>e&&(n=a-1),o===t&&s===n))return a;o=t,s=n}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:qa.Normal,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:qa.AfterFilter,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:qa.AfterFilterAndSort,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:qa.PivotNodes,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){var t;const{nodes:n,callback:i,recursionType:o,includeFooterNodes:s}=e;let{index:a}=e;for(let c=0;c<n.length;c++){const d=n[c];if(i(d,a++),d.hasChildren()&&!d.footer){let h=null;switch(o){case qa.Normal:h=d.childrenAfterGroup;break;case qa.AfterFilter:h=d.childrenAfterAggFilter;break;case qa.AfterFilterAndSort:h=d.childrenAfterSort;break;case qa.PivotNodes:h=d.leafGroup?null:d.childrenAfterSort;break}h&&(a=this.recursivelyWalkNodesAndCallback({nodes:[...h],callback:i,recursionType:o,index:a,includeFooterNodes:s}))}}const l=(t=n[0])===null||t===void 0?void 0:t.parent;if(!s||!l)return a;if(l===this.rootNode){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return a}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:l}))return a;return l.createFooter(),i(l.sibling,a++),a}doAggregate(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gridOptionsService.is("treeData"),n=this.columnModel.isPivotActive(),i=a=>{a&&a.forEach(l=>{const u=()=>{l.expanded=e,i(l.childrenAfterGroup)};if(t){K.exists(l.childrenAfterGroup)&&u();return}if(n){!l.leafGroup&&u();return}l.group&&u()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:Zt.MAP});const o=e?"expandAll":"collapseAll",s={type:D.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(s)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,n,i,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:n,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){const a={type:D.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(a)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()}restoreGroupState(e){e&&K.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,n)=>{typeof e[n]=="boolean"&&(t.expanded=e[n])})}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})}getGroupState(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;const e={};return K.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(t,n)=>e[n]=t.expanded),e}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(je.ID_PREFIX_ROW_GROUP)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)}setRowData(e){const t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");const n={type:D.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:Zt.EVERYTHING,groupState:t,newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let n=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(i=>{const o=this.nodeManager.updateRowData(i.rowDataTransaction,void 0);t.push(o),i.callback&&e.push(i.callback.bind(null,o)),typeof i.rowDataTransaction.addIndex=="number"&&(n=!0)}),this.commonUpdateRowData(t,void 0,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0){const i={type:D.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(i)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const n=this.nodeManager.updateRowData(e,t),i=typeof e.addIndex=="number";return this.commonUpdateRowData([n],t,i),n}createRowNodeOrder(){if(this.gridOptionsService.is("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let n=0;n<this.rootNode.allLeafChildren.length;n++){const i=this.rootNode.allLeafChildren[n];t[i.id]=n}return t}commonUpdateRowData(e,t,n){const i=!this.gridOptionsService.is("suppressAnimationFrame");n&&(t=this.createRowNodeOrder()),this.refreshModel({step:Zt.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.filterManager.onNewRowsLoaded("rowDataUpdated");const o={type:D.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(o)}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:Zt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}};Mo([A("columnModel")],ji.prototype,"columnModel",void 0);Mo([A("selectionService")],ji.prototype,"selectionService",void 0);Mo([A("filterManager")],ji.prototype,"filterManager",void 0);Mo([A("valueCache")],ji.prototype,"valueCache",void 0);Mo([A("beans")],ji.prototype,"beans",void 0);Mo([A("filterStage")],ji.prototype,"filterStage",void 0);Mo([A("sortStage")],ji.prototype,"sortStage",void 0);Mo([A("flattenStage")],ji.prototype,"flattenStage",void 0);Mo([xt("groupStage")],ji.prototype,"groupStage",void 0);Mo([xt("aggregationStage")],ji.prototype,"aggregationStage",void 0);Mo([xt("pivotStage")],ji.prototype,"pivotStage",void 0);Mo([xt("filterAggregatesStage")],ji.prototype,"filterAggregatesStage",void 0);Mo([he],ji.prototype,"init",null);ji=Mo([Re("rowModel")],ji);var Ure=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let aP=class extends ae{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};Ure([A("filterService")],aP.prototype,"filterService",void 0);aP=Ure([Re("filterStage")],aP);var cA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Pg=class extends ae{execute(e){const t=this.sortController.getSortOptions(),n=K.exists(t)&&t.length>0,i=n&&K.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),o=t.some(s=>this.gridOptionsService.isColumnsSortingCoupledToGroup()?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,n,i,e.rowNodeTransactions,e.changedPath,o)}};cA([A("sortService")],Pg.prototype,"sortService",void 0);cA([A("sortController")],Pg.prototype,"sortController",void 0);cA([A("columnModel")],Pg.prototype,"columnModel",void 0);Pg=cA([Re("sortStage")],Pg);var M1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let pC=class extends ae{execute(e){const t=e.rowNode,n=[],i=this.columnModel.isPivotMode(),o=i&&t.leafGroup,s=o?[t]:t.childrenAfterSort,a=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(a,s,n,i,0);const l=n.length>0;return!o&&l&&a.groupIncludeTotalFooter&&(t.createFooter(),this.addRowNodeToRowsToDisplay(a,t.sibling,n,0)),n}getFlattenDetails(){const e=this.gridOptionsService.is("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}}recursivelyAddToRowsToDisplay(e,t,n,i,o){if(!K.missingOrEmpty(t))for(let s=0;s<t.length;s++){const a=t[s],l=a.hasChildren(),u=i&&!l,c=e.groupRemoveSingleChildren&&l&&a.childrenAfterGroup.length===1,d=e.groupRemoveLowestSingleChildren&&l&&a.leafGroup&&a.childrenAfterGroup.length===1,h=i&&a.leafGroup,p=e.hideOpenParents&&a.expanded&&!a.master&&!h;if(!u&&!p&&!c&&!d&&this.addRowNodeToRowsToDisplay(e,a,n,o),!(i&&a.leafGroup)){if(l){const g=c||d;if(a.expanded||g){const v=g?o:o+1;this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,n,i,v),e.getGroupIncludeFooter({node:a})?(a.createFooter(),this.addRowNodeToRowsToDisplay(e,a.sibling,n,v)):a.destroyFooter()}}else if(a.master&&a.expanded){const g=this.createDetailNode(a);this.addRowNodeToRowsToDisplay(e,g,n,o)}}}}addRowNodeToRowsToDisplay(e,t,n,i){n.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}createDetailNode(e){if(K.exists(e.detailNode))return e.detailNode;const t=new je(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,K.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};M1([A("columnModel")],pC.prototype,"columnModel",void 0);M1([A("beans")],pC.prototype,"beans",void 0);pC=M1([Re("flattenStage")],pC);var dA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Og=class extends ae{init(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")}sort(e,t,n,i,o,s){const a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some(h=>h.isRowGroupActive());let u={};n&&i&&(u=this.calculateDirtyNodes(i));const c=this.columnModel.isPivotMode(),d=h=>{this.pullDownGroupDataForHideOpenParents(h.childrenAfterAggFilter,!0);const p=c&&h.leafGroup;if(a&&l&&!h.leafGroup&&!s){const g=h.childrenAfterAggFilter.slice(0);if(h.childrenAfterSort){const v={};h.childrenAfterSort.forEach((y,C)=>{v[y.id]=C}),g.sort((y,C)=>{var w,S;return((w=v[y.id])!==null&&w!==void 0?w:0)-((S=v[C.id])!==null&&S!==void 0?S:0)})}h.childrenAfterSort=g}else!t||p?h.childrenAfterSort=h.childrenAfterAggFilter.slice(0):n?h.childrenAfterSort=this.doDeltaSort(h,u,o,e):h.childrenAfterSort=this.rowNodeSorter.doFullSort(h.childrenAfterAggFilter,e);if(h.sibling&&(h.sibling.childrenAfterSort=h.childrenAfterSort),this.updateChildIndexes(h),this.postSortFunc){const g={nodes:h.childrenAfterSort};this.postSortFunc(g)}};o&&o.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(o)}calculateDirtyNodes(e){const t={},n=i=>{i&&i.forEach(o=>t[o.id]=!0)};return e&&e.forEach(i=>{n(i.add),n(i.update),n(i.remove)}),t}doDeltaSort(e,t,n,i){const o=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(o,i);const a={},l=[];o.forEach(h=>{t[h.id]||!n.canSkip(h)?l.push(h):a[h.id]=!0});const u=s.filter(h=>a[h.id]),c=(h,p)=>({currentPos:p,rowNode:h}),d=l.map(c).sort((h,p)=>this.rowNodeSorter.compareRowNodes(i,h,p));return this.mergeSortedArrays(i,d,u.map(c)).map(({rowNode:h})=>h)}mergeSortedArrays(e,t,n){const i=[];let o=0,s=0;for(;o<t.length&&s<n.length;)this.rowNodeSorter.compareRowNodes(e,t[o],n[s])<0?i.push(t[o++]):i.push(n[s++]);for(;o<t.length;)i.push(t[o++]);for(;s<n.length;)i.push(n[s++]);return i}updateChildIndexes(e){if(K.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],o=n===0,s=n===e.childrenAfterSort.length-1;i.setFirstChild(o),i.setLastChild(s),i.setChildIndex(n)}}updateGroupDataForHideOpenParents(e){if(!this.gridOptionsService.is("groupHideOpenParents"))return;if(this.gridOptionsService.is("treeData")){const n="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return K.doOnce(()=>console.warn(n),"sortService.hideOpenParentsWithTreeData"),!1}const t=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterSort,!1),n.childrenAfterSort.forEach(i=>{i.hasChildren()&&t(i)})};e&&e.executeFromRootNode(n=>t(n))}pullDownGroupDataForHideOpenParents(e,t){!this.gridOptionsService.is("groupHideOpenParents")||K.missing(e)||e.forEach(n=>{this.columnModel.getGroupDisplayColumns().forEach(o=>{const s=o.getColDef().showRowGroup;if(typeof s!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=s,l=this.columnModel.getPrimaryColumn(a);if(l!==n.rowGroupColumn)if(t)n.setGroupValue(o.getId(),void 0);else{const c=n.getFirstChildOfFirstChild(l);c&&n.setGroupValue(o.getId(),c.key)}})})}};dA([A("columnModel")],Og.prototype,"columnModel",void 0);dA([A("rowNodeSorter")],Og.prototype,"rowNodeSorter",void 0);dA([he],Og.prototype,"init",null);Og=dA([Re("sortService")],Og);var zre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let lP=class extends ae{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(i,o)=>{i.hasChildren()&&e&&!o?i.childrenAfterFilter=i.childrenAfterGroup.filter(s=>{const a=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,l=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return a||l}):i.childrenAfterFilter=i.childrenAfterGroup,i.sibling&&(i.sibling.childrenAfterFilter=i.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const i=(s,a)=>{if(s.childrenAfterGroup)for(let l=0;l<s.childrenAfterGroup.length;l++){const u=s.childrenAfterGroup[l],c=a||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(s.childrenAfterGroup[l],c):n(u,c)}n(s,a)},o=s=>i(s,!1);t.executeFromRootNode(o)}else{const i=o=>n(o,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")}};zre([A("filterManager")],lP.prototype,"filterManager",void 0);lP=zre([Re("filterService")],lP);var hA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Dg=class extends ae{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel)}isActive(){const e=this.gridOptionsService.exists("getRowId");return this.gridOptionsService.is("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[n,i]=t;this.clientSideRowModel.updateRowData(n,i)}createTransactionForRowData(e){if(K.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const t=this.gridOptionsService.getCallback("getRowId");if(t==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return K.exists(e)&&e.forEach((a,l)=>{const u=t({data:a,level:0}),c=i[u];s&&(s[u]=l),c?(c.data!==a&&n.update.push(a),i[u]=void 0):n.add.push(a)}),K.iterateObject(i,(a,l)=>{l&&n.remove.push(l.data)}),[n,s]}};hA([A("rowModel")],Dg.prototype,"rowModel",void 0);hA([A("rowRenderer")],Dg.prototype,"rowRenderer",void 0);hA([he],Dg.prototype,"postConstruct",null);Dg=hA([Re("immutableService")],Dg);const hUe="30.2.1",pUe={version:hUe,moduleName:_e.ClientSideRowModelModule,rowModel:"clientSide",beans:[ji,aP,Pg,pC,Og,lP,Dg]};class fUe{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let n=e[0],i=e[1],o=e[2],s=e[3];n=this.ff(n,i,o,s,t[0],7,-680876936),s=this.ff(s,n,i,o,t[1],12,-389564586),o=this.ff(o,s,n,i,t[2],17,606105819),i=this.ff(i,o,s,n,t[3],22,-1044525330),n=this.ff(n,i,o,s,t[4],7,-176418897),s=this.ff(s,n,i,o,t[5],12,1200080426),o=this.ff(o,s,n,i,t[6],17,-1473231341),i=this.ff(i,o,s,n,t[7],22,-45705983),n=this.ff(n,i,o,s,t[8],7,1770035416),s=this.ff(s,n,i,o,t[9],12,-1958414417),o=this.ff(o,s,n,i,t[10],17,-42063),i=this.ff(i,o,s,n,t[11],22,-1990404162),n=this.ff(n,i,o,s,t[12],7,1804603682),s=this.ff(s,n,i,o,t[13],12,-40341101),o=this.ff(o,s,n,i,t[14],17,-1502002290),i=this.ff(i,o,s,n,t[15],22,1236535329),n=this.gg(n,i,o,s,t[1],5,-165796510),s=this.gg(s,n,i,o,t[6],9,-1069501632),o=this.gg(o,s,n,i,t[11],14,643717713),i=this.gg(i,o,s,n,t[0],20,-373897302),n=this.gg(n,i,o,s,t[5],5,-701558691),s=this.gg(s,n,i,o,t[10],9,38016083),o=this.gg(o,s,n,i,t[15],14,-660478335),i=this.gg(i,o,s,n,t[4],20,-405537848),n=this.gg(n,i,o,s,t[9],5,568446438),s=this.gg(s,n,i,o,t[14],9,-1019803690),o=this.gg(o,s,n,i,t[3],14,-187363961),i=this.gg(i,o,s,n,t[8],20,1163531501),n=this.gg(n,i,o,s,t[13],5,-1444681467),s=this.gg(s,n,i,o,t[2],9,-51403784),o=this.gg(o,s,n,i,t[7],14,1735328473),i=this.gg(i,o,s,n,t[12],20,-1926607734),n=this.hh(n,i,o,s,t[5],4,-378558),s=this.hh(s,n,i,o,t[8],11,-2022574463),o=this.hh(o,s,n,i,t[11],16,1839030562),i=this.hh(i,o,s,n,t[14],23,-35309556),n=this.hh(n,i,o,s,t[1],4,-1530992060),s=this.hh(s,n,i,o,t[4],11,1272893353),o=this.hh(o,s,n,i,t[7],16,-155497632),i=this.hh(i,o,s,n,t[10],23,-1094730640),n=this.hh(n,i,o,s,t[13],4,681279174),s=this.hh(s,n,i,o,t[0],11,-358537222),o=this.hh(o,s,n,i,t[3],16,-722521979),i=this.hh(i,o,s,n,t[6],23,76029189),n=this.hh(n,i,o,s,t[9],4,-640364487),s=this.hh(s,n,i,o,t[12],11,-421815835),o=this.hh(o,s,n,i,t[15],16,530742520),i=this.hh(i,o,s,n,t[2],23,-995338651),n=this.ii(n,i,o,s,t[0],6,-198630844),s=this.ii(s,n,i,o,t[7],10,1126891415),o=this.ii(o,s,n,i,t[14],15,-1416354905),i=this.ii(i,o,s,n,t[5],21,-57434055),n=this.ii(n,i,o,s,t[12],6,1700485571),s=this.ii(s,n,i,o,t[3],10,-1894986606),o=this.ii(o,s,n,i,t[10],15,-1051523),i=this.ii(i,o,s,n,t[1],21,-2054922799),n=this.ii(n,i,o,s,t[8],6,1873313359),s=this.ii(s,n,i,o,t[15],10,-30611744),o=this.ii(o,s,n,i,t[6],15,-1560198380),i=this.ii(i,o,s,n,t[13],21,1309151649),n=this.ii(n,i,o,s,t[4],6,-145523070),s=this.ii(s,n,i,o,t[11],10,-1120210379),o=this.ii(o,s,n,i,t[2],15,718787259),i=this.ii(i,o,s,n,t[9],21,-343485551),e[0]=this.add32(n,e[0]),e[1]=this.add32(i,e[1]),e[2]=this.add32(o,e[2]),e[3]=this.add32(s,e[3])}cmn(e,t,n,i,o,s){return t=this.add32(this.add32(t,e),this.add32(i,s)),this.add32(t<<o|t>>>32-o,n)}ff(e,t,n,i,o,s,a){return this.cmn(t&n|~t&i,e,t,o,s,a)}gg(e,t,n,i,o,s,a){return this.cmn(t&i|n&~i,e,t,o,s,a)}hh(e,t,n,i,o,s,a){return this.cmn(t^n^i,e,t,o,s,a)}ii(e,t,n,i,o,s,a){return this.cmn(n^(t|~i),e,t,o,s,a)}md51(e){const t=e.length,n=[1732584193,-271733879,-1732584194,271733878];let i;for(i=64;i<=e.length;i+=64)this.md5cycle(n,this.md5blk(e.substring(i-64,i)));e=e.substring(i-64);const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<e.length;i++)o[i>>2]|=e.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(n,o),i=0;i<16;i++)o[i]=0;return o[14]=t*8,this.md5cycle(n,o),n}md5blk(e){const t=[];for(let n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}rhex(e){const t="0123456789abcdef".split("");let n="",i=0;for(;i<4;i++)n+=t[e>>i*8+4&15]+t[e>>i*8&15];return n}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}}function c5(r){return r==null||r.length===0}function gUe(r,e=!1){return r!=null&&(r!==""||e)}class Wn{constructor(e){this.watermarkMessage=void 0,this.document=e,this.md5=new fUe,this.md5.init()}validateLicense(){if(c5(Wn.licenseKey))(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey();else if(Wn.licenseKey.length>32)if(Wn.licenseKey.indexOf("For_Trialing_ag-Grid_Only")!==-1)this.outputInvalidLicenseKey();else{const{md5:e,license:t,version:n,isTrial:i}=Wn.extractLicenseComponents(Wn.licenseKey);e===this.md5.md5(t)?gUe(n)&&n?this.validateLicenseKeyForVersion(n,!!i,t):this.validateLegacyKey(t):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()}static extractExpiry(e){const t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(Wn.decode(t),10))}static extractLicenseComponents(e){let t=e.replace(/[\u200B-\u200D\uFEFF]/g,"");t=t.replace(/\r?\n|\r/g,"");const n=t.length-32,i=t.substring(n),o=t.substring(0,n),[s,a]=Wn.extractBracketedInformation(t);return{md5:i,license:o,version:s,isTrial:a}}getLicenseDetails(e){const{md5:t,license:n,version:i,isTrial:o}=Wn.extractLicenseComponents(e);let s=t===this.md5.md5(n)&&e.indexOf("For_Trialing_ag-Grid_Only")===-1,a=null,l=null;return s&&(l=Wn.extractExpiry(n),s=!isNaN(l.getTime()),o&&(a=l<new Date)),{licenseKey:e,valid:s,expiry:s?Wn.formatDate(l):null,version:i||"legacy",isTrial:o,trialExpired:a}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!c5(this.watermarkMessage)}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){const t=(this.document.defaultView||window).location,{hostname:n=""}=t;return n}isForceWatermark(){const t=(this.document.defaultView||window).location,{pathname:n}=t;return n?n.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getDate(),i=e.getMonth(),o=e.getFullYear();return n+" "+t[i]+" "+o}static getGridReleaseDate(){return new Date(parseInt(Wn.decode(Wn.RELEASE_INFORMATION),10))}static decode(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",i,o,s,a,l,u,c,d=0;const h=e.replace(/[^A-Za-z0-9+/=]/g,"");for(;d<h.length;)a=t.indexOf(h.charAt(d++)),l=t.indexOf(h.charAt(d++)),u=t.indexOf(h.charAt(d++)),c=t.indexOf(h.charAt(d++)),i=a<<2|l>>4,o=(l&15)<<4|u>>2,s=(u&3)<<6|c,n=n+String.fromCharCode(i),u!=64&&(n=n+String.fromCharCode(o)),c!=64&&(n=n+String.fromCharCode(s));return n=Wn.utf8_decode(n),n}static utf8_decode(e){e=e.replace(/rn/g,"n");let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(i&63|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(i&63|128))}return t}static setLicenseKey(e){this.licenseKey=e}static extractBracketedInformation(e){const t=e.split("[").filter(function(o){return o.indexOf("]")>-1}).map(function(o){return o.split("]")[0]});if(!t||t.length===0)return[null,null];const n=t.filter(o=>o==="TRIAL").length===1;return[t.filter(o=>o.indexOf("v")===0).map(o=>o.replace(/^v/,""))[0],n]}validateLicenseKeyForVersion(e,t,n){e==="2"&&(t?this.validateForTrial(n):this.validateLegacyKey(n))}validateLegacyKey(e){const t=Wn.getGridReleaseDate(),n=Wn.extractExpiry(e);let i=!1,o=!1;if(isNaN(n.getTime())||(i=!0,o=t<n),!i)this.outputInvalidLicenseKey();else if(!o){const s=Wn.formatDate(n),a=Wn.formatDate(t);this.outputIncompatibleVersion(s,a)}}validateForTrial(e){const t=Wn.extractExpiry(e),n=new Date;let i=!1,o=!1;if(isNaN(t.getTime())||(i=!0,o=t>n),!i)this.outputInvalidLicenseKey();else if(!o){const s=Wn.formatDate(t);this.outputExpiredTrialKey(s)}}outputInvalidLicenseKey(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(e){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error(`* Your license for AG Grid Enterprise expired on ${e}.                                                *`),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"}outputIncompatibleVersion(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error(`* license end date. The license key that you have expires on ${e}, however the version of AG Grid you    *`),console.error(`* are trying to use was released on ${t}.                                                               *`),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"}}Wn.RELEASE_INFORMATION="MTY5ODkxNzc1MzgxNA==";var Kre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let uP=class extends ae{validateLicense(){this.licenseManager=new Wn(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new Wn(null).getLicenseDetails(e)}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){Wn.setLicenseKey(e)}};Kre([SD],uP.prototype,"validateLicense",null);uP=Kre([Re("licenseManager")],uP);var L1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class pA extends Ve{constructor(){super(`<div class="ag-watermark">
                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`)}postConstruct(){const e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}}L1([A("licenseManager")],pA.prototype,"licenseManager",void 0);L1([ue("eLicenseTextRef")],pA.prototype,"eLicenseTextRef",void 0);L1([he],pA.prototype,"postConstruct",null);const mUe="30.2.1",nS={version:mUe,moduleName:_e.EnterpriseCoreModule,beans:[uP],agStackComponents:[{componentName:"AgWatermark",componentClass:pA}]};class vUe{constructor(e,t,n,i,o,s,a,l,u,c){this.rowModel=e,this.filterParams=t,this.createKey=n,this.caseFormat=i,this.columnModel=o,this.valueService=s,this.treeDataOrGrouping=a,this.treeData=l,this.getDataPath=u,this.groupAllowUnbalanced=c}extractUniqueValues(e,t){const n=new Map,i=this.extractExistingFormattedKeys(t),o=new Set,s=this.treeData&&!!this.getDataPath,a=this.columnModel.getRowGroupColumns(),l=(u,c)=>{const d=this.caseFormat(u);if(!o.has(d)){o.add(d);let h=u,p=K.makeNull(c);const f=i==null?void 0:i.get(d);f!=null&&(h=f,p=t.get(f)),n.set(h,p)}};return this.rowModel.forEachLeafNode(u=>{if(!u.data||!e(u))return;if(this.treeDataOrGrouping){this.addValueForTreeDataOrGrouping(u,s,a,l);return}let c=this.getValue(u);if(this.filterParams.convertValuesToStrings){this.addValueForConvertValuesToString(u,c,l);return}c!=null&&Array.isArray(c)?(c.forEach(d=>{l(this.createKey(d,u),d)}),c.length===0&&l(null,null)):l(this.createKey(c,u),c)}),n}addValueForConvertValuesToString(e,t,n){const i=this.createKey(t,e);i!=null&&Array.isArray(i)?(i.forEach(o=>{const s=K.toStringOrNull(K.makeNull(o));n(s,s)}),i.length===0&&n(null,null)):n(i,i)}addValueForTreeDataOrGrouping(e,t,n,i){var o;let s;if(t){if(!((o=e.childrenAfterGroup)===null||o===void 0)&&o.length)return;s=this.getDataPath(e.data)}else s=n.map(a=>this.valueService.getKeyForNode(a,e)),s.push(this.getValue(e));s&&(s=s.map(a=>K.toStringOrNull(K.makeNull(a)))),!t&&this.groupAllowUnbalanced&&(s!=null&&s.some(a=>a==null))&&(s=s.filter(a=>a!=null)),i(this.createKey(s),s)}getValue(e){const{api:t,colDef:n,column:i,columnApi:o,context:s}=this.filterParams;return this.filterParams.valueGetter({api:t,colDef:n,column:i,columnApi:o,context:s,data:e.data,getValue:a=>e.data[a],node:e})}extractExistingFormattedKeys(e){if(!e)return null;const t=new Map;return e.forEach((n,i)=>{t.set(this.caseFormat(i),i)}),t}}class Fi{}Fi.SELECT_ALL="__AG_SELECT_ALL__";Fi.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__";class yUe{constructor(e,t,n,i){this.valueFormatterService=e,this.valueFormatter=t,this.formatter=n,this.column=i,this.displayedKeys=[]}updateDisplayedValuesToAllAvailable(e,t,n){this.displayedKeys=Array.from(n)}updateDisplayedValuesToMatchMiniFilter(e,t,n,i,o){this.displayedKeys=[];for(let s of n)if(s==null)o&&this.displayedKeys.push(s);else{const a=e(s),l=this.valueFormatterService.formatValue(this.column,null,a,this.valueFormatter,!1),u=this.formatter(l);i(u)&&this.displayedKeys.push(s)}}getDisplayedValueCount(){return this.displayedKeys.length}getDisplayedItem(e){return this.displayedKeys[e]}getSelectAllItem(){return Fi.SELECT_ALL}getAddSelectionToFilterItem(){return Fi.ADD_SELECTION_TO_FILTER}getDisplayedKeys(){return this.displayedKeys}forEachDisplayedKey(e){this.displayedKeys.forEach(e)}someDisplayedKey(e){return this.displayedKeys.some(e)}hasGroups(){return!1}refresh(){}}class fA{constructor(e,t,n,i){this.formatter=e,this.treeListPathGetter=t,this.treeListFormatter=n,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:Fi.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:Fi.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:Fi.ADD_SELECTION_TO_FILTER,expanded:!0,key:Fi.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}updateDisplayedValuesToAllAvailable(e,t,n,i){i==="reload"?this.generateItemTree(e,t,n):i==="otherFilter"?(this.updateAvailable(n),this.updateExpandAll()):i==="miniFilter"&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()}updateDisplayedValuesToMatchMiniFilter(e,t,n,i,o,s){s==="reload"?this.generateItemTree(e,t,n):s==="otherFilter"&&this.updateAvailable(n),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()}generateItemTree(e,t,n){var i;this.allDisplayedItemsTree=[],this.groupsExist=!1;const o=this.getTreeListPathGetter(e,n);for(let s of t){const a=e(s),l=(i=o(a))!==null&&i!==void 0?i:[null];l.length>1&&(this.groupsExist=!0);const u=n.has(s);let c=this.allDisplayedItemsTree,d,h=[];l.forEach((p,f)=>{c||(c=[],d.children=c),d=c.find(g=>{var v;return((v=g.treeKey)===null||v===void 0?void 0:v.toUpperCase())===(p==null?void 0:p.toUpperCase())}),d||(d={treeKey:p,depth:f,filterPasses:!0,expanded:!1,available:u,parentTreeKeys:h},f===l.length-1&&(d.key=s),c.push(d)),c=d.children,h=[...h,p]})}this.updateAvailable(n),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1}getTreeListPathGetter(e,t){if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return i=>i;let n=!1;for(const i of t){const o=e(i);if(o instanceof Date){n=!0;break}else if(o!=null)break}return n?fA.DATE_TREE_LIST_PATH_GETTER:(K.doOnce(()=>console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),"getTreeListPathGetter"),i=>[String(i)])}flattenItems(){this.activeDisplayedItemsFlat=[];const e=t=>{t.forEach(n=>{!n.filterPasses||!n.available||(this.activeDisplayedItemsFlat.push(n),n.children&&n.expanded&&e(n.children))})};e(this.allDisplayedItemsTree)}resetFilter(){const e=t=>{t.children&&t.children.forEach(n=>{e(n)}),t.filterPasses=!0};this.allDisplayedItemsTree.forEach(t=>e(t))}updateFilter(e,t){const n=i=>i.available?i.treeKey==null?t:e(this.formatter(this.treeListFormatter?this.treeListFormatter(i.treeKey,i.depth,i.parentTreeKeys):i.treeKey)):!1;this.allDisplayedItemsTree.forEach(i=>this.recursiveItemCheck(i,!1,n,"filterPasses"))}getDisplayedValueCount(){return this.activeDisplayedItemsFlat.length}getDisplayedItem(e){return this.activeDisplayedItemsFlat[e]}getSelectAllItem(){return this.selectAllItem}getAddSelectionToFilterItem(){return this.addSelectionToFilterItem}getDisplayedKeys(){const e=[];return this.forEachDisplayedKey(t=>e.push(t)),e}forEachDisplayedKey(e){const t=(n,i)=>{n.children?(!n.expanded||!i)&&n.children.forEach(o=>{o.filterPasses&&t(o,!1)}):e(n.key)};this.activeDisplayedItemsFlat.forEach(n=>t(n,!0))}someDisplayedKey(e){const t=(n,i)=>{if(n.children){if(!n.expanded||!i)return n.children.some(o=>o.filterPasses?t(o,!1):!1)}else return e(n.key);return!1};return this.activeDisplayedItemsFlat.some(n=>t(n,!0))}hasGroups(){return this.groupsExist}refresh(){this.updateExpandAll(),this.flattenItems()}updateExpandAll(){const e=(n,i,o)=>{for(const s of n){if(!s.filterPasses||!s.available||!s.children)continue;if(i=i||!!s.expanded,o=o||!s.expanded,i&&o)return;const a=e(s.children,i,o);if(a===void 0)return;a?i=!0:o=!0}return i&&o?void 0:i},t=this.getSelectAllItem();t.expanded=e(t.children,!1,!1)}recursiveItemCheck(e,t,n,i){let o=!1;e.children&&e.children.forEach(a=>{const l=this.recursiveItemCheck(a,t||n(e),n,i);o=o||l});const s=t||o||n(e);return e[i]=s,s}updateAvailable(e){const t=n=>e.has(n.key);this.allDisplayedItemsTree.forEach(n=>this.recursiveItemCheck(n,!1,t,"available"))}}fA.DATE_TREE_LIST_PATH_GETTER=r=>r?[String(r.getFullYear()),String(r.getMonth()+1),String(r.getDate())]:null;class CUe{constructor({caseFormat:e}){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}allFilteringKeys(){return this.filteringKeys}allFilteringKeysCaseFormatted(){return this.filteringKeysCaseFormatted}noAppliedFilteringKeys(){return this.hasNoAppliedFilteringKeys}setFilteringKeys(e){this.filteringKeys=new Set(e),this.hasNoAppliedFilteringKeys=!this.filteringKeys||this.filteringKeys.size===0,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(t=>this.filteringKeysCaseFormatted.add(this.caseFormat(t)))}addFilteringKey(e){this.filteringKeys==null&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(e),this.filteringKeysCaseFormatted.add(this.caseFormat(e)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)}hasCaseFormattedFilteringKey(e){return this.filteringKeysCaseFormatted.has(this.caseFormat(e))}hasFilteringKey(e){return this.filteringKeys.has(e)}reset(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1}}var Yo;(function(r){r[r.PROVIDED_LIST=0]="PROVIDED_LIST",r[r.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",r[r.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(Yo||(Yo={}));class rS{constructor(e){var t;this.localEventService=new Bs,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;const{usingComplexObjects:n,columnModel:i,valueService:o,treeDataTreeList:s,groupingTreeList:a,filterParams:l,gridOptionsService:u,valueFormatterService:c,valueFormatter:d}=e,{column:h,colDef:p,textFormatter:f,doesRowPassOtherFilter:g,suppressSorting:v,comparator:y,rowModel:C,values:w,caseSensitive:S,convertValuesToStrings:P,treeList:F,treeListPathGetter:_,treeListFormatter:E}=l;this.filterParams=l,this.setIsLoading=e.setIsLoading,this.translate=e.translate,this.caseFormat=e.caseFormat,this.createKey=e.createKey,this.usingComplexObjects=!!e.usingComplexObjects,this.formatter=f||yo.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=g,this.suppressSorting=v||!1,this.convertValuesToStrings=!!P,this.filteringKeys=new CUe({caseFormat:this.caseFormat});const T=y??p.comparator,O=!!s||!!a;this.compareByValue=!!(n&&T||O||F&&!_),O&&!T?this.entryComparator=this.createTreeDataOrGroupingComparator():F&&!_&&!T?this.entryComparator=([M,N],[$,B])=>K.defaultComparator(N,B):this.entryComparator=([M,N],[$,B])=>T(N,B),this.keyComparator=(t=T)!==null&&t!==void 0?t:K.defaultComparator,this.caseSensitive=!!S;const L=u.get("getDataPath"),V=u.is("groupAllowUnbalanced");C.getType()==="clientSide"&&(this.clientSideValuesExtractor=new vUe(C,this.filterParams,this.createKey,this.caseFormat,i,o,O,!!s,L,V)),w==null?this.valuesType=Yo.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?Yo.PROVIDED_LIST:Yo.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=F?new fA(this.formatter,_,E,s||a):new yUe(c,d,this.formatter,h),this.updateAllValues().then(M=>this.resetSelectionState(M||[]))}addEventListener(e,t,n){this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService.removeEventListener(e,t,n)}refreshValues(){const e=this.getModel();return this.updateAllValues(),this.setModel(e)}overrideValues(e){return new zn(t=>{this.allValuesPromise.then(()=>{this.valuesType=Yo.PROVIDED_LIST,this.providedValues=e,this.refreshValues().then(()=>t())})})}refreshAfterAnyFilterChanged(){return this.showAvailableOnly()?this.allValuesPromise.then(e=>(this.updateAvailableKeys(e??[],"otherFilter"),!0)):zn.resolve(!1)}isInitialised(){return this.initialised}updateAllValues(){return this.allValuesPromise=new zn(e=>{switch(this.valuesType){case Yo.TAKEN_FROM_GRID_VALUES:case Yo.PROVIDED_LIST:{e(this.processAllKeys(this.valuesType===Yo.TAKEN_FROM_GRID_VALUES,this.providedValues));break}case Yo.PROVIDED_CALLBACK:{this.setIsLoading(!0);const t=this.providedValues,{columnApi:n,api:i,context:o,column:s,colDef:a}=this.filterParams,l={success:u=>{this.setIsLoading(!1),e(this.processAllKeys(!1,u))},colDef:a,column:s,columnApi:n,api:i,context:o};window.setTimeout(()=>t(l),0);break}default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(e=>this.updateAvailableKeys(e||[],"reload")).then(()=>this.initialised=!0),this.allValuesPromise}processAllKeys(e,t){const n=e?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(t)),i=this.sortKeys(n);return this.allValues=n??new Map,i}validateProvidedValues(e){if(this.usingComplexObjects&&(e!=null&&e.length)){const t=e[0];t&&typeof t!="object"&&typeof t!="function"&&(this.createKey(t)==null?K.doOnce(()=>console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"),"setFilterComplexObjectsProvidedNull"):K.doOnce(()=>console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?"),"setFilterComplexObjectsProvidedPrimitive"))}return e}setValuesType(e){this.valuesType=e}getValuesType(){return this.valuesType}isKeyAvailable(e){return this.availableKeys.has(e)}showAvailableOnly(){return this.valuesType===Yo.TAKEN_FROM_GRID_VALUES}updateAvailableKeys(e,t){const n=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):e;this.availableKeys=new Set(n),this.localEventService.dispatchEvent({type:rS.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(t,e)}sortKeys(e){const t=e??new Map;if(this.suppressSorting)return Array.from(t.keys());let n;return this.compareByValue?n=Array.from(t.entries()).sort(this.entryComparator).map(([i])=>i):n=Array.from(t.keys()).sort(this.keyComparator),this.filterParams.excelMode&&t.has(null)&&(n=n.filter(i=>i!=null),n.push(null)),n}getValuesFromRows(e=!1){if(!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null;const t=n=>!e||this.doesRowPassOtherFilters(n);return this.clientSideValuesExtractor.extractUniqueValues(t,e&&!this.caseSensitive?this.allValues:void 0)}setMiniFilter(e){return e=K.makeNull(e),this.miniFilterText===e?!1:(e===null&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=e,this.updateDisplayedValues("miniFilter"),!0)}getMiniFilter(){return this.miniFilterText}updateDisplayedValues(e,t){if(e==="expansion"){this.displayValueModel.refresh();return}if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(s=>this.getValue(s),t,this.availableKeys,e);return}const n=this.caseFormat(this.formatter(this.miniFilterText)||""),i=s=>s!=null&&this.caseFormat(s).indexOf(n)>=0,o=!!this.filterParams.excelMode&&i(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(s=>this.getValue(s),t,this.availableKeys,i,o,e)}getDisplayedValueCount(){return this.displayValueModel.getDisplayedValueCount()}getDisplayedItem(e){return this.displayValueModel.getDisplayedItem(e)}getSelectAllItem(){return this.displayValueModel.getSelectAllItem()}getAddSelectionToFilterItem(){return this.displayValueModel.getAddSelectionToFilterItem()}hasSelections(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size}getKeys(){return Array.from(this.allValues.keys())}getValues(){return Array.from(this.allValues.values())}getValue(e){return this.allValues.get(e)}setAddCurrentSelectionToFilter(e){this.addCurrentSelectionToFilter=e}isInWindowsExcelMode(){return this.filterParams.excelMode==="windows"}isAddCurrentSelectionToFilterChecked(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter}showAddCurrentSelectionToFilter(){return this.isInWindowsExcelMode()&&K.exists(this.miniFilterText)&&this.miniFilterText.length>0}selectAllMatchingMiniFilter(e=!1){this.miniFilterText==null?this.selectedKeys=new Set(this.allValues.keys()):(e&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(t=>this.selectedKeys.add(t)))}deselectAllMatchingMiniFilter(){this.miniFilterText==null?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(e=>this.selectedKeys.delete(e))}selectKey(e){this.selectedKeys.add(e)}deselectKey(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(e)}isKeySelected(e){return this.selectedKeys.has(e)}isEverythingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(e=>!this.isKeySelected(e))}isNothingVisibleSelected(){return!this.displayValueModel.someDisplayedKey(e=>this.isKeySelected(e))}getModel(){if(!this.hasSelections())return null;const e=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(e&&e.size>0)if(this.selectedKeys){const t=new Set([...Array.from(e),...Array.from(this.selectedKeys).filter(n=>!e.has(n))]);return Array.from(t)}else return Array.from(e);return Array.from(this.selectedKeys)}setModel(e){return this.allValuesPromise.then(t=>{if(e==null)this.resetSelectionState(t??[]);else{this.selectedKeys.clear();const n=new Map;this.allValues.forEach((i,o)=>{n.set(this.caseFormat(o),o)}),e.forEach(i=>{const o=this.caseFormat(K.makeNull(i)),s=n.get(o);s!==void 0&&this.selectKey(s)})}})}uniqueValues(e){const t=new Map,n=new Set;return(e??[]).forEach(i=>{const o=K.makeNull(i),s=this.convertAndGetKey(o),a=this.caseFormat(s);n.has(a)||(n.add(a),t.set(s,o))}),t}convertAndGetKey(e){return this.convertValuesToStrings?e:this.createKey(e)}resetSelectionState(e){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(e)}hasGroups(){return this.displayValueModel.hasGroups()}createTreeDataOrGroupingComparator(){return([e,t],[n,i])=>{if(t==null)return i==null?0:-1;if(i==null)return 1;for(let o=0;o<t.length;o++){if(o>=i.length)return 1;const s=K.defaultComparator(t[o],i[o]);if(s!==0)return s}return 0}}setAppliedModelKeys(e){this.filteringKeys.setFilteringKeys(e)}addToAppliedModelKeys(e){this.filteringKeys.addFilteringKey(e)}getAppliedModelKeys(){return this.filteringKeys.allFilteringKeys()}getCaseFormattedAppliedModelKeys(){return this.filteringKeys.allFilteringKeysCaseFormatted()}hasAppliedModelKey(e){return this.filteringKeys.hasCaseFormattedFilteringKey(e)}hasAnyAppliedModelKey(){return!this.filteringKeys.noAppliedFilteringKeys()}}rS.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged";var Lp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class kr extends Ve{constructor(e){var t;super(e.isGroup?kr.GROUP_TEMPLATE:kr.TEMPLATE),this.focusWrapper=e.focusWrapper,this.value=e.value,this.params=e.params,this.translate=e.translate,this.valueFormatter=e.valueFormatter,this.item=e.item,this.isSelected=e.isSelected,this.isTree=e.isTree,this.depth=(t=e.depth)!==null&&t!==void 0?t:0,this.isGroup=e.isGroup,this.groupsExist=e.groupsExist,this.isExpanded=e.isExpanded,this.hasIndeterminateExpandState=e.hasIndeterminateExpandState}init(){this.addDestroyFunc(()=>{var e;return(e=this.destroyCellRendererComponent)===null||e===void 0?void 0:e.call(this)}),this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),K.setAriaLevel(this.focusWrapper,this.depth+1)),!this.params.readOnly&&this.eCheckbox.onValueChange(e=>this.onCheckboxChanged(!!e))}setupExpansion(){this.eGroupClosedIcon.appendChild(K.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(K.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(K.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()}onExpandOrContractClicked(){this.setExpanded(!this.isExpanded)}setExpanded(e,t){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;const n={type:kr.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item};t||this.dispatchEvent(n),this.setExpandedIcons(),this.refreshAriaExpanded()}}refreshAriaExpanded(){K.setAriaExpanded(this.focusWrapper,!!this.isExpanded)}setExpandedIcons(){K.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?this.isExpanded===!1:!this.isExpanded),K.setDisplayed(this.eGroupOpenedIcon,this.isExpanded===!0),this.hasIndeterminateExpandState&&K.setDisplayed(this.eGroupIndeterminateIcon,this.isExpanded===void 0)}onCheckboxChanged(e){this.isSelected=e;const t={type:kr.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item};this.dispatchEvent(t),this.refreshVariableAriaLabels()}toggleSelected(){this.params.readOnly||this.setSelected(!this.isSelected)}setSelected(e,t){this.isSelected=e,this.eCheckbox.setValue(this.isSelected,t)}refreshVariableAriaLabels(){if(!this.isTree)return;const e=this.localeService.getLocaleTextFunc(),t=this.eCheckbox.getValue(),n=t===void 0?e("ariaIndeterminate","indeterminate"):t?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");K.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}setupFixedAriaLabels(e){if(!this.isTree)return;const n=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");K.setAriaLabel(this.focusWrapper,`${e} ${n}`),K.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}refresh(e,t,n){var i,o;if(this.item=e,t!==this.isSelected&&this.setSelected(t,!0),this.setExpanded(n,!0),this.valueFunction){const s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent&&!((o=(i=this.cellRendererComponent).refresh)===null||o===void 0?void 0:o.call(i,this.cellRendererParams))){const a=this.cellRendererComponent;this.renderCell(),this.destroyBean(a)}}render(){const{params:{column:e}}=this;let{value:t}=this,n=null;typeof t=="function"?(this.valueFunction=t,n=this.valueFunction(),t=n):this.isTree?n=K.toStringOrNull(t):n=this.getFormattedValue(e,t),this.setTooltipAndCellRendererParams(t,n),this.renderCell()}setTooltipAndCellRendererParams(e,t){if(this.params.showTooltips){const n=t??K.toStringOrNull(e);this.setTooltip(n)}this.cellRendererParams={value:e,valueFormatted:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}}getTooltipParams(){const e=super.getTooltipParams();return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e}getFormattedValue(e,t){return this.valueFormatterService.formatValue(e,null,t,this.valueFormatter,!1)}renderCell(){const e=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),t=e?e.newAgStackInstance():void 0;if(t==null){this.renderCellWithoutCellRenderer();return}t.then(n=>{n&&(this.cellRendererComponent=n,this.eCheckbox.setLabel(n.getGui()),this.destroyCellRendererComponent=()=>this.destroyBean(n))})}renderCellWithoutCellRenderer(){var e;let t=(e=this.cellRendererParams.valueFormatted==null?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)!==null&&e!==void 0?e:this.translate("blanks");typeof t!="string"&&(K.doOnce(()=>console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"),"setFilterComplexObjectsValueFormatter"),t=""),this.eCheckbox.setLabel(t),this.setupFixedAriaLabels(t)}getComponentHolder(){return this.params.column.getColDef()}}kr.EVENT_SELECTION_CHANGED="selectionChanged";kr.EVENT_EXPANDED_CHANGED="expandedChanged";kr.GROUP_TEMPLATE=`
        <div class="ag-set-filter-item" aria-hidden="true">
            <span class="ag-set-filter-group-icons">
                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>
                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>
            </span>
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`;kr.TEMPLATE=`
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`;Lp([A("valueFormatterService")],kr.prototype,"valueFormatterService",void 0);Lp([A("userComponentFactory")],kr.prototype,"userComponentFactory",void 0);Lp([ue("eCheckbox")],kr.prototype,"eCheckbox",void 0);Lp([ue("eGroupOpenedIcon")],kr.prototype,"eGroupOpenedIcon",void 0);Lp([ue("eGroupClosedIcon")],kr.prototype,"eGroupClosedIcon",void 0);Lp([ue("eGroupIndeterminateIcon")],kr.prototype,"eGroupIndeterminateIcon",void 0);Lp([he],kr.prototype,"init",null);const wUe={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."};class Yre{getModelAsString(e,t){const{values:n}=e||t.getModel()||{},i=t.getValueModel();if(n==null||i==null)return"";const o=n.filter(l=>i.isKeyAvailable(l)),s=o.length,a=o.slice(0,10).map(l=>t.getFormattedValue(l));return`(${s}) ${a.join(",")}${s>10?",...":""}`}}var Np=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class ju extends od{constructor(){super("setFilter"),this.valueModel=null,this.setFilterParams=null,this.virtualList=null,this.caseSensitive=!1,this.convertValuesToStrings=!1,this.treeDataTreeList=!1,this.groupingTreeList=!1,this.hardRefreshVirtualList=!1,this.noValueFormatterSupplied=!1,this.filterModelFormatter=new Yre}postConstruct(){super.postConstruct()}updateUiVisibility(){}createBodyTemplate(){return`
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">${this.translateForSetFilter("loadingOoo")}</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">${this.translateForSetFilter("noMatches")}</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`}handleKeyDown(e){if(super.handleKeyDown(e),!e.defaultPrevented)switch(e.key){case Y.SPACE:this.handleKeySpace(e);break;case Y.ENTER:this.handleKeyEnter(e);break;case Y.LEFT:this.handleKeyLeft(e);break;case Y.RIGHT:this.handleKeyRight(e);break}}handleKeySpace(e){var t;(t=this.getComponentForKeyEvent(e))===null||t===void 0||t.toggleSelected()}handleKeyEnter(e){if(!this.setFilterParams)return;const{excelMode:t,readOnly:n}=this.setFilterParams||{};!t||n||(e.preventDefault(),this.onBtApply(!1,!1,e),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}handleKeyLeft(e){var t;(t=this.getComponentForKeyEvent(e))===null||t===void 0||t.setExpanded(!1)}handleKeyRight(e){var t;(t=this.getComponentForKeyEvent(e))===null||t===void 0||t.setExpanded(!0)}getComponentForKeyEvent(e){var t;const n=this.gridOptionsService.getDocument();if(!this.eSetFilterList.contains(n.activeElement)||!this.virtualList)return;const i=this.virtualList.getLastFocusedRow();if(i==null)return;const o=this.virtualList.getComponentAt(i);if(o==null)return;e.preventDefault();const{readOnly:s}=(t=this.setFilterParams)!==null&&t!==void 0?t:{};if(!s)return o}getCssIdentifier(){return"set-filter"}setModel(e){var t;return e==null&&((t=this.valueModel)===null||t===void 0?void 0:t.getModel())==null?(this.setMiniFilter(null),zn.resolve()):super.setModel(e)}setModelAndRefresh(e){return this.valueModel?this.valueModel.setModel(e).then(()=>this.refresh()):zn.resolve()}resetUiToDefaults(){return this.setMiniFilter(null),this.setModelAndRefresh(null)}setModelIntoUi(e){this.setMiniFilter(null);const t=e==null?null:e.values;return this.setModelAndRefresh(t)}getModelFromUi(){if(!this.valueModel)throw new Error("Value model has not been created.");const e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null}getFilterType(){return"set"}getValueModel(){return this.valueModel}areModelsEqual(e,t){return e==null&&t==null?!0:e!=null&&t!=null&&K.areEqual(e.values,t.values)}setParams(e){var t;this.applyExcelModeOptions(e),super.setParams(e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;let n=(t=e.keyCreator)!==null&&t!==void 0?t:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,n,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);const i=e.column.getId().startsWith(yg);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&i,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&i,this.createKey=this.generateCreateKey(n,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new rS({filterParams:e,setIsLoading:o=>this.setIsLoading(o),valueFormatterService:this.valueFormatterService,translate:o=>this.translateForSetFilter(o),caseFormat:o=>this.caseFormat(o),createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()}onAddCurrentSelectionToFilterChange(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)}setValueFormatter(e,t,n,i,o){let s=e;if(!s){if(t&&!n&&!i)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,o||(s=a=>K.toStringOrNull(a.value))}this.valueFormatter=s}generateCreateKey(e,t,n){if(n&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?(i,o=null)=>{const s=this.getKeyCreatorParams(i,o);return K.makeNull(e(s))}:t?i=>Array.isArray(i)?i:K.makeNull(K.toStringOrNull(i)):i=>K.makeNull(K.toStringOrNull(i))}getFormattedValue(e){var t;let n=this.valueModel.getValue(e);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(n)&&(n=K.last(n));const i=this.valueFormatterService.formatValue(this.setFilterParams.column,null,n,this.valueFormatter,!1);return(t=i??K.toStringOrNull(n))!==null&&t!==void 0?t:this.translateForSetFilter("blanks")}applyExcelModeOptions(e){e.excelMode==="windows"?(e.buttons||(e.buttons=["apply","cancel"]),e.closeOnApply==null&&(e.closeOnApply=!0)):e.excelMode==="mac"&&(e.buttons||(e.buttons=["reset"]),e.applyMiniFilterWhileTyping==null&&(e.applyMiniFilterWhileTyping=!0),e.debounceMs==null&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,K.doOnce(()=>console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'),"setFilterExcelModeDefaultToNothingSelect"))}addEventListenersForDataChanges(){this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,D.EVENT_CELL_VALUE_CHANGED,e=>{this.setFilterParams&&e.column===this.setFilterParams.column&&this.syncAfterDataChange()})}syncAfterDataChange(){if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then(()=>{this.refresh(),this.onBtApply(!1,!0)})}setIsLoading(e){K.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)}initialiseFilterBodyUi(){this.initVirtualList(),this.initMiniFilter()}initVirtualList(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const t=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),n=!!this.setFilterParams.treeList,i=this.virtualList=this.createBean(new Bu({cssIdentifier:"filter",ariaRole:n?"tree":"listbox",listName:t})),o=this.getRefElement("eSetFilterList");n&&o.classList.add("ag-set-filter-tree-list"),o&&o.appendChild(i.getGui());const{cellHeight:s}=this.setFilterParams;s!=null&&i.setRowHeight(s);const a=(c,d)=>this.createSetListItem(c,n,d);i.setComponentCreator(a);const l=(c,d)=>this.updateSetListItem(c,d);i.setComponentUpdater(l);let u;this.setFilterParams.suppressSelectAll?u=new SUe(this.valueModel):u=new EUe(this.valueModel,()=>this.isSelectAllSelected()),n&&(u=new _Ue(u)),i.setModel(u)}getSelectAllLabel(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const e=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(e)}getAddSelectionToFilterLabel(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")}createSetListItem(e,t,n){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const i=this.valueModel.hasGroups(),{isSelected:o,isExpanded:s}=this.isSelectedExpanded(e),{value:a,depth:l,isGroup:u,hasIndeterminateExpandState:c,selectedListener:d,expandedListener:h}=this.newSetListItemAttributes(e,t),p={focusWrapper:n,value:a,params:this.setFilterParams,translate:g=>this.translateForSetFilter(g),valueFormatter:this.valueFormatter,item:e,isSelected:o,isTree:t,depth:l,groupsExist:i,isGroup:u,isExpanded:s,hasIndeterminateExpandState:c},f=this.createBean(new kr(p));return f.addEventListener(kr.EVENT_SELECTION_CHANGED,d),h&&f.addEventListener(kr.EVENT_EXPANDED_CHANGED,h),f}newSetTreeItemAttributes(e,t){var n,i,o,s,a,l;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const u=this.valueModel.hasGroups();return e.key===Fi.SELECT_ALL?{value:()=>this.getSelectAllLabel(),isGroup:u,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:c=>this.onSelectAll(c.isSelected),expandedListener:c=>this.onExpandAll(c.item,c.isExpanded)}:e.key===Fi.ADD_SELECTION_TO_FILTER?{value:()=>this.getAddSelectionToFilterLabel(),depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:c=>{this.onAddCurrentSelectionToFilterChange(c.isSelected)}}:e.children?{value:(o=(i=(n=this.setFilterParams).treeListFormatter)===null||i===void 0?void 0:i.call(n,e.treeKey,e.depth,e.parentTreeKeys))!==null&&o!==void 0?o:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:c=>this.onGroupItemSelected(c.item,c.isSelected),expandedListener:c=>this.onExpandedChanged(c.item,c.isExpanded)}:{value:(l=(a=(s=this.setFilterParams).treeListFormatter)===null||a===void 0?void 0:a.call(s,e.treeKey,e.depth,e.parentTreeKeys))!==null&&l!==void 0?l:e.treeKey,depth:e.depth,selectedListener:c=>this.onItemSelected(c.item.key,c.isSelected)}}newSetListItemAttributes(e,t){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,t):e===Fi.SELECT_ALL?{value:()=>this.getSelectAllLabel(),selectedListener:n=>this.onSelectAll(n.isSelected)}:e===Fi.ADD_SELECTION_TO_FILTER?{value:()=>this.getAddSelectionToFilterLabel(),selectedListener:n=>{this.onAddCurrentSelectionToFilterChange(n.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:n=>this.onItemSelected(n.item,n.isSelected)}}updateSetListItem(e,t){const{isSelected:n,isExpanded:i}=this.isSelectedExpanded(e);t.refresh(e,n,i)}isSelectedExpanded(e){let t,n;return this.isSetFilterModelTreeItem(e)?(n=e.expanded,e.key===Fi.SELECT_ALL?t=this.isSelectAllSelected():e.key===Fi.ADD_SELECTION_TO_FILTER?t=this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?t=this.areAllChildrenSelected(e):t=this.valueModel.isKeySelected(e.key)):e===Fi.SELECT_ALL?t=this.isSelectAllSelected():e===Fi.ADD_SELECTION_TO_FILTER?t=this.valueModel.isAddCurrentSelectionToFilterChecked():t=this.valueModel.isKeySelected(e),{isSelected:t,isExpanded:n}}isSetFilterModelTreeItem(e){return(e==null?void 0:e.treeKey)!==void 0}initMiniFilter(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const{eMiniFilter:e,localeService:t}=this,n=t.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange(()=>this.onMiniFilterInput()),e.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keydown",i=>this.onMiniFilterKeyDown(i))}afterGuiAttached(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");super.afterGuiAttached(e),this.resetExpansion(),this.refreshVirtualList();const{eMiniFilter:t}=this;t.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&t.getFocusableElement().focus()}afterGuiDetached(){var e,t;super.afterGuiDetached(),!((e=this.setFilterParams)===null||e===void 0)&&e.excelMode&&this.resetMiniFilter();const n=this.getModel();(!((t=this.setFilterParams)===null||t===void 0)&&t.excelMode||!this.areModelsEqual(n,this.getModelFromUi()))&&(this.resetUiToActiveModel(n),this.showOrHideResults())}applyModel(e="api"){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&e!=="rowDataUpdated"&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();const t=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(t&&!this.getModel())return!1;const n=super.applyModel(e),i=this.getModel();return i?(t||this.valueModel.setAppliedModelKeys(new Set),i.values.forEach(o=>{this.valueModel.addToAppliedModelKeys(o)})):t||this.valueModel.setAppliedModelKeys(null),n}isModelValid(e){return this.setFilterParams&&this.setFilterParams.excelMode?e==null||e.values.length>0:!0}doesFilterPass(e){if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;const{node:t,data:n}=e;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(t,n);if(this.groupingTreeList)return this.doesFilterPassForGrouping(t,n);let i=this.getValueFromNode(t,n);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(t,i):i!=null&&Array.isArray(i)?i.length===0?this.valueModel.hasAppliedModelKey(null):i.some(o=>this.isInAppliedModel(this.createKey(o,t))):this.isInAppliedModel(this.createKey(i,t))}doesFilterPassForConvertValuesToString(e,t){const n=this.createKey(t,e);return n!=null&&Array.isArray(n)?n.length===0?this.valueModel.hasAppliedModelKey(null):n.some(i=>this.isInAppliedModel(i)):this.isInAppliedModel(n)}doesFilterPassForTreeData(e,t){var n;return!((n=e.childrenAfterGroup)===null||n===void 0)&&n.length?!1:this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(t))))}doesFilterPassForGrouping(e,t){const n=this.columnModel.getRowGroupColumns().map(i=>this.valueService.getKeyForNode(i,e));return n.push(this.getValueFromNode(e,t)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(n)))}checkMakeNullDataPath(e){return e&&(e=e.map(t=>K.toStringOrNull(K.makeNull(t)))),e!=null&&e.some(t=>t==null)?null:e}isInAppliedModel(e){return this.valueModel.hasAppliedModelKey(e)}getValueFromNode(e,t){const{valueGetter:n,api:i,colDef:o,column:s,columnApi:a,context:l}=this.setFilterParams;return n({api:i,colDef:o,column:s,columnApi:a,context:l,data:t,getValue:u=>t[u],node:e})}getKeyCreatorParams(e,t=null){return{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:t,data:t==null?void 0:t.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}}onNewRowsLoaded(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()}isValuesTakenFromGrid(){return this.valueModel?this.valueModel.getValuesType()===Yo.TAKEN_FROM_GRID_VALUES:!1}setFilterValues(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(()=>{this.refresh(),this.onUiChanged()})}resetFilterValues(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(Yo.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()}refreshFilterValues(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(()=>{this.refresh(),this.onUiChanged()})}onAnyFilterChanged(){setTimeout(()=>{if(this.isAlive()){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.refreshAfterAnyFilterChanged().then(e=>{e&&(this.refresh(),this.showOrHideResults())})}},0)}onMiniFilterInput(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.valueModel.setMiniFilter(this.eMiniFilter.getValue()))return;const{applyMiniFilterWhileTyping:e,readOnly:t}=this.setFilterParams||{};!t&&e?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}updateUiAfterMiniFilterChange(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");const{excelMode:e,readOnly:t}=this.setFilterParams||{};e==null||t?this.refresh():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()}showOrHideResults(){if(!this.valueModel)throw new Error("Value model has not been created.");const e=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;K.setDisplayed(this.eNoMatches,e),K.setDisplayed(this.eSetFilterList,!e)}resetMiniFilter(){var e;this.eMiniFilter.setValue(null,!0),(e=this.valueModel)===null||e===void 0||e.setMiniFilter(null)}resetUiToActiveModel(e,t){this.setModelAndRefresh(e==null?null:e.values).then(()=>{this.onUiChanged(!1,"prevent"),t==null||t()})}handleCancelEnd(e){this.setMiniFilter(null),super.handleCancelEnd(e)}onMiniFilterKeyDown(e){const{excelMode:t,readOnly:n}=this.setFilterParams||{};e.key===Y.ENTER&&!t&&!n&&this.filterOnAllVisibleValues()}filterOnAllVisibleValues(e=!0){const{readOnly:t}=this.setFilterParams||{};if(!this.valueModel)throw new Error("Value model has not been created.");if(t)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()}focusRowIfAlive(e){e!=null&&window.setTimeout(()=>{if(!this.virtualList)throw new Error("Virtual list has not been created.");this.isAlive()&&this.virtualList.focusRow(e)},0)}onSelectAll(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()}onGroupItemSelected(e,t){const n=i=>{i.children?i.children.forEach(o=>n(o)):this.selectItem(i.key,t)};n(e),this.refreshAfterSelection()}onItemSelected(e,t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,t),this.refreshAfterSelection()}selectItem(e,t){t?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)}onExpandAll(e,t){const n=i=>{i.filterPasses&&i.available&&i.children&&(i.children.forEach(o=>n(o)),i.expanded=t)};n(e),this.refreshAfterExpansion()}onExpandedChanged(e,t){e.expanded=t,this.refreshAfterExpansion()}refreshAfterExpansion(){const e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(e)}refreshAfterSelection(){const e=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(e)}setMiniFilter(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()}getMiniFilter(){return this.valueModel?this.valueModel.getMiniFilter():null}refresh(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)}getFilterKeys(){return this.valueModel?this.valueModel.getKeys():[]}getFilterValues(){return this.valueModel?this.valueModel.getValues():[]}getValues(){return this.getFilterKeys()}refreshVirtualList(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()}translateForSetFilter(e){return this.localeService.getLocaleTextFunc()(e,wUe[e])}isSelectAllSelected(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}}areAllChildrenSelected(e){const t=n=>{if(n.children){let i=!1,o=!1;return n.children.some(a=>{if(!a.filterPasses||!a.available)return!1;const l=t(a);return l===void 0?!0:(l?i=!0:o=!0,i&&o)})?void 0:i}else return this.valueModel.isKeySelected(n.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&t(e):t(e)}destroy(){this.virtualList!=null&&(this.virtualList.destroy(),this.virtualList=null),super.destroy()}caseFormat(e){return e==null||typeof e!="string"||this.caseSensitive?e:e.toUpperCase()}resetExpansion(){var e,t;if(!(!((e=this.setFilterParams)===null||e===void 0)&&e.treeList))return;const n=(t=this.valueModel)===null||t===void 0?void 0:t.getSelectAllItem();if(this.isSetFilterModelTreeItem(n)){const i=o=>{o.children&&(o.children.forEach(s=>i(s)),o.expanded=!1)};i(n),this.valueModel.updateDisplayedValues("expansion")}}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e,this)}getPositionableElement(){return this.eSetFilterList}}Np([ue("eMiniFilter")],ju.prototype,"eMiniFilter",void 0);Np([ue("eFilterLoading")],ju.prototype,"eFilterLoading",void 0);Np([ue("eSetFilterList")],ju.prototype,"eSetFilterList",void 0);Np([ue("eFilterNoMatches")],ju.prototype,"eNoMatches",void 0);Np([A("valueFormatterService")],ju.prototype,"valueFormatterService",void 0);Np([A("columnModel")],ju.prototype,"columnModel",void 0);Np([A("valueService")],ju.prototype,"valueService",void 0);class SUe{constructor(e){this.model=e}getRowCount(){return this.model.getDisplayedValueCount()}getRow(e){return this.model.getDisplayedItem(e)}isRowSelected(e){return this.model.isKeySelected(this.getRow(e))}areRowsEqual(e,t){return e===t}}class EUe{constructor(e,t){this.model=e,this.isSelectAllSelected=t}getRowCount(){const t=this.model.showAddCurrentSelectionToFilter()?2:1;return this.model.getDisplayedValueCount()+t}getRow(e){if(e===0)return this.model.getSelectAllItem();const t=this.model.showAddCurrentSelectionToFilter(),n=t?2:1;return e===1&&t?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(e-n)}isRowSelected(e){return e===0?this.isSelectAllSelected():e===1&&this.model.showAddCurrentSelectionToFilter()?this.model.isAddCurrentSelectionToFilterChecked():this.model.isKeySelected(this.getRow(e))}areRowsEqual(e,t){return e===t}}class _Ue{constructor(e){this.model=e}getRowCount(){return this.model.getRowCount()}getRow(e){return this.model.getRow(e)}areRowsEqual(e,t){return e==null&&t==null?!0:e!=null&&t!=null&&e.treeKey===t.treeKey&&e.depth===t.depth}}var qre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class N1 extends Ve{constructor(){super(`
            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`),this.availableValuesListenerAdded=!1,this.filterModelFormatter=new Yre}destroy(){super.destroy()}init(e){this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams(e)}setParams(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}onParamsUpdated(e){this.params=e,this.setParams(e)}onParentModelChanged(e){this.updateFloatingFilterText(e)}parentSetFilterInstance(e){this.params.parentFilterInstance(t=>{if(!(t instanceof ju))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(t)})}addAvailableValuesListener(){this.parentSetFilterInstance(e=>{const t=e.getValueModel();t&&this.addManagedListener(t,rS.EVENT_AVAILABLE_VALUES_CHANGED,()=>this.updateFloatingFilterText())}),this.availableValuesListenerAdded=!0}updateFloatingFilterText(e){this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(t=>{this.eFloatingFilterText.setValue(this.filterModelFormatter.getModelAsString(e,t))})}}qre([ue("eFloatingFilterText")],N1.prototype,"eFloatingFilterText",void 0);qre([A("columnModel")],N1.prototype,"columnModel",void 0);const bUe="30.2.1",RUe={version:bUe,moduleName:_e.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:ju},{componentName:"agSetColumnFloatingFilter",componentClass:N1}],dependantModules:[nS]};var iS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ul;(function(r){r[r.EXPANDED=0]="EXPANDED",r[r.COLLAPSED=1]="COLLAPSED",r[r.INDETERMINATE=2]="INDETERMINATE"})(ul||(ul={}));class Ns extends Ve{constructor(){super(Ns.TEMPLATE)}postConstruct(){this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",t=>{t.key===Y.SPACE&&(t.preventDefault(),this.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(()=>this.onFilterTextChanged()),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));const e=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}init(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()}createExpandIcons(){this.eExpand.appendChild(this.eExpandChecked=K.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=K.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=K.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(ul.EXPANDED)}showOrHideOptions(){const e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,i=this.columnModel.isPrimaryColumnGroupsPresent(),o=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search...")),K.setDisplayed(this.eFilterTextField.getGui(),e),K.setDisplayed(this.eSelect.getGui(),t),K.setDisplayed(this.eExpand,n&&i)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=K.debounce(()=>{const e=this.eFilterTextField.getValue();this.dispatchEvent({type:"filterChanged",filterText:e})},Ns.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()}onMiniFilterKeyDown(e){e.key===Y.ENTER&&setTimeout(()=>this.onSelectClicked(),Ns.DEBOUNCE_DELAY)}onSelectClicked(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchEvent({type:this.expandState===ul.EXPANDED?"collapseAll":"expandAll"})}setExpandState(e){this.expandState=e,K.setDisplayed(this.eExpandChecked,this.expandState===ul.EXPANDED),K.setDisplayed(this.eExpandUnchecked,this.expandState===ul.COLLAPSED),K.setDisplayed(this.eExpandIndeterminate,this.expandState===ul.INDETERMINATE)}setSelectionState(e){this.selectState=e,this.eSelect.setValue(this.selectState)}}Ns.DEBOUNCE_DELAY=300;Ns.TEMPLATE=`<div class="ag-column-select-header" role="presentation">
            <div ref="eExpand" class="ag-column-select-header-icon"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`;iS([A("columnModel")],Ns.prototype,"columnModel",void 0);iS([ue("eExpand")],Ns.prototype,"eExpand",void 0);iS([ue("eSelect")],Ns.prototype,"eSelect",void 0);iS([ue("eFilterTextField")],Ns.prototype,"eFilterTextField",void 0);iS([he],Ns.prototype,"postConstruct",null);class Mc{constructor(e,t,n,i=!1,o){this.eventService=new Bs,this.displayName=e,this.dept=n,this.group=i,i?(this.columnGroup=t,this.expanded=o,this.children=[]):this.column=t}isGroup(){return this.group}getDisplayName(){return this.displayName}getColumnGroup(){return this.columnGroup}getColumn(){return this.column}getDept(){return this.dept}isExpanded(){return!!this.expanded}getChildren(){return this.children}isPassesFilter(){return this.passesFilter}setExpanded(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:Mc.EVENT_EXPANDED_CHANGED}))}setPassesFilter(e){this.passesFilter=e}addEventListener(e,t){this.eventService.addEventListener(e,t)}removeEventListener(e,t){this.eventService.removeEventListener(e,t)}}Mc.EVENT_EXPANDED_CHANGED="expandedChanged";var gA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Cm extends Ve{constructor(e,t,n){super('<div class="ag-menu"></div>'),this.column=e,this.mouseEvent=t,this.parentEl=n,this.displayName=null}postConstruct(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof Xe?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())}initializeProperties(e){e instanceof yn?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some(t=>t.isPrimary()&&t.isAllowRowGroup()),this.allowValues=this.columns.some(t=>t.isPrimary()&&t.isAllowValue()),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(t=>t.isPrimary()&&t.isAllowPivot())}buildMenuItemMap(){const e=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:t=>t.isPrimary()&&t.isAllowRowGroup(),activeFunction:t=>t.isRowGroupActive(),activateLabel:()=>`${e("groupBy","Group by")} ${this.displayName}`,deactivateLabel:()=>`${e("ungroupBy","Un-Group by")} ${this.displayName}`,activateFunction:()=>{const t=this.columnModel.getRowGroupColumns();this.columnModel.setRowGroupColumns(this.addColumnsToList(t),"toolPanelUi")},deActivateFunction:()=>{const t=this.columnModel.getRowGroupColumns();this.columnModel.setRowGroupColumns(this.removeColumnsFromList(t),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:t=>t.isPrimary()&&t.isAllowValue(),activeFunction:t=>t.isValueActive(),activateLabel:()=>e("addToValues",`Add ${this.displayName} to values`,[this.displayName]),deactivateLabel:()=>e("removeFromValues",`Remove ${this.displayName} from values`,[this.displayName]),activateFunction:()=>{const t=this.columnModel.getValueColumns();this.columnModel.setValueColumns(this.addColumnsToList(t),"toolPanelUi")},deActivateFunction:()=>{const t=this.columnModel.getValueColumns();this.columnModel.setValueColumns(this.removeColumnsFromList(t),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:t=>this.columnModel.isPivotMode()&&t.isPrimary()&&t.isAllowPivot(),activeFunction:t=>t.isPivotActive(),activateLabel:()=>e("addToLabels",`Add ${this.displayName} to labels`,[this.displayName]),deactivateLabel:()=>e("removeFromLabels",`Remove ${this.displayName} from labels`,[this.displayName]),activateFunction:()=>{const t=this.columnModel.getPivotColumns();this.columnModel.setPivotColumns(this.addColumnsToList(t),"toolPanelUi")},deActivateFunction:()=>{const t=this.columnModel.getPivotColumns();this.columnModel.setPivotColumns(this.removeColumnsFromList(t),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})}addColumnsToList(e){return[...e].concat(this.columns.filter(t=>e.indexOf(t)===-1))}removeColumnsFromList(e){return e.filter(t=>this.columns.indexOf(t)===-1)}displayContextMenu(){const e=this.getGui(),t=this.createBean(new hm),n=this.getMappedMenuItems(),i=this.localeService.getLocaleTextFunc();let o=()=>{};e.appendChild(t.getGui()),t.addMenuItems(n),t.addManagedListener(t,So.EVENT_MENU_ITEM_SELECTED,()=>{this.parentEl.focus(),o()});const s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,afterGuiAttached:()=>this.focusService.focusInto(t.getGui()),ariaLabel:i("ariaLabelContextMenu","Context Menu"),closedCallback:a=>{a instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(t)}});s&&(o=s.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:e})}isActive(){return this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){const e=[];for(const t of this.menuItemMap.values()){const n=this.columns.some(o=>t.allowedFunction(o)&&!t.activeFunction(o)),i=this.columns.some(o=>t.allowedFunction(o)&&t.activeFunction(o));n&&e.push({name:t.activateLabel(this.displayName),icon:K.createIconNoSpan(t.addIcon,this.gridOptionsService,null),action:()=>t.activateFunction()}),i&&e.push({name:t.deactivateLabel(this.displayName),icon:K.createIconNoSpan(t.removeIcon,this.gridOptionsService,null),action:()=>t.deActivateFunction()})}return e}}gA([A("columnModel")],Cm.prototype,"columnModel",void 0);gA([A("popupService")],Cm.prototype,"popupService",void 0);gA([A("focusService")],Cm.prototype,"focusService",void 0);gA([he],Cm.prototype,"postConstruct",null);var Wu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Lo extends Ve{constructor(e,t,n,i){super(),this.modelItem=e,this.allowDragging=t,this.eventType=n,this.focusWrapper=i,this.processingColumnStateChange=!1,this.modelItem=e,this.columnGroup=e.getColumnGroup(),this.columnDept=e.getDept(),this.displayName=e.getDisplayName(),this.allowDragging=t}init(){this.setTemplate(Lo.TEMPLATE),this.eDragHandle=K.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");const e=this.cbSelect.getGui(),t=this.cbSelect.getInputElement();e.insertAdjacentElement("afterend",this.eDragHandle),t.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,D.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Mc.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),jD.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach(i=>this.addOrRemoveCssClass(i,!0))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){const e=this.columnGroup.getColGroupDef();if(!e)return;const t=()=>{const n=e.headerTooltip;this.setTooltip(n)};t(),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,t)}getTooltipParams(){const e=super.getTooltipParams();return e.location="columnToolPanelColumnGroup",e}handleKeyDown(e){switch(e.key){case Y.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case Y.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case Y.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}}onContextMenu(e){const{columnGroup:t,gridOptionsService:n}=this;if(n.is("functionsReadOnly"))return;const i=this.createBean(new Cm(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}addVisibilityListenersToAllChildren(){this.columnGroup.getLeafColumns().forEach(e=>{this.addManagedListener(e,Xe.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(e,Xe.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(e,Xe.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(e,Xe.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this))})}setupDragging(){if(!this.allowDragging){K.setDisplayed(this.eDragHandle,!1);return}let e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const t={type:wr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>e?ct.ICON_HIDE:ct.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),onDragStarted:()=>{e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const n={type:D.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:this.columnGroup};this.eventService.dispatchEvent(n)},onDragStopped:()=>{const n={type:D.EVENT_COLUMN_PANEL_ITEM_DRAG_END};this.eventService.dispatchEvent(n)},onGridEnter:n=>{e&&this.modelItemUtils.updateColumns({columns:this.columnGroup.getLeafColumns(),visibleState:n==null?void 0:n.visibleState,pivotState:n==null?void 0:n.pivotState,eventType:this.eventType})},onGridExit:()=>{e&&this.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(t))}createDragItem(){const e=this.columnGroup.getLeafColumns(),t={},n={};return e.forEach(i=>{const o=i.getId();t[o]=i.isVisible(),n[o]=this.modelItemUtils.createPivotState(i)}),{columns:e,visibleState:t,pivotState:n}}setupExpandContract(){this.eGroupClosedIcon.appendChild(K.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(K.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));const e=new yr(this.eColumnGroupIcons,!0);this.addManagedListener(e,yr.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))}onLabelClicked(){const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}getVisibleLeafColumns(){const e=[],t=n=>{n.forEach(i=>{i.isPassesFilter()&&(i.isGroup()?t(i.getChildren()):e.push(i.getColumn()))})};return t(this.modelItem.getChildren()),e}onChangeCommon(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)}refreshAriaLabel(){const e=this.localeService.getLocaleTextFunc(),t=e("ariaColumnGroup","Column Group"),n=this.cbSelect.getValue(),i=n===void 0?e("ariaIndeterminate","indeterminate"):n?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");K.setAriaLabel(this.focusWrapper,`${this.displayName} ${t}`),this.cbSelect.setInputAriaLabel(`${o} (${i})`),K.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)}onColumnStateChanged(){const e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1}workOutSelectedValue(){const e=this.columnModel.isPivotMode(),t=this.getVisibleLeafColumns();let n=0,i=0;if(t.forEach(o=>{!e&&o.getColDef().lockVisible||(this.isColumnChecked(o,e)?n++:i++)}),!(n>0&&i>0))return n>0}workOutReadOnlyValue(){const e=this.columnModel.isPivotMode();let t=0;return this.columnGroup.getLeafColumns().forEach(n=>{e?n.isAnyFunctionAllowed()&&t++:n.getColDef().lockVisible||t++}),t===0}isColumnChecked(e,t){if(t){const n=e.isPivotActive(),i=e.isRowGroupActive(),o=e.isValueActive();return n||i||o}return e.isVisible()}onExpandOrContractClicked(){const e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){const e=this.modelItem.isExpanded();K.setDisplayed(this.eGroupClosedIcon,!e),K.setDisplayed(this.eGroupOpenedIcon,e)}refreshAriaExpanded(){K.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())}getDisplayName(){return this.displayName}onSelectAllChanged(e){const t=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!t||!e&&t)&&this.cbSelect.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(e){this.cbSelect.setValue(e,!0)}}Lo.TEMPLATE=`<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`;Wu([A("columnModel")],Lo.prototype,"columnModel",void 0);Wu([A("dragAndDropService")],Lo.prototype,"dragAndDropService",void 0);Wu([A("modelItemUtils")],Lo.prototype,"modelItemUtils",void 0);Wu([ue("cbSelect")],Lo.prototype,"cbSelect",void 0);Wu([ue("eLabel")],Lo.prototype,"eLabel",void 0);Wu([ue("eGroupOpenedIcon")],Lo.prototype,"eGroupOpenedIcon",void 0);Wu([ue("eGroupClosedIcon")],Lo.prototype,"eGroupClosedIcon",void 0);Wu([ue("eColumnGroupIcons")],Lo.prototype,"eColumnGroupIcons",void 0);Wu([he],Lo.prototype,"init",null);var Qre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class G1 extends ae{constructor(e,t){super(),this.comp=e,this.virtualList=t}postConstruct(){this.createManagedBean(new n1(this.comp,this.virtualList,{dragSourceType:wr.ToolPanel,listItemDragStartEvent:D.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:D.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:e=>this.getCurrentDragValue(e),isMoveBlocked:e=>this.isMoveBlocked(e),getNumRows:e=>e.getDisplayedColsList().length,moveItem:(e,t)=>this.moveItem(e,t)}))}getCurrentDragValue(e){return e.column}isMoveBlocked(e){return!!this.getCurrentColumns(e).find(i=>{const o=i.getColDef();return!!o.suppressMovable||!!o.lockPosition})}moveItem(e,t){const n=this.getTargetIndex(e,t),i=this.getCurrentColumns(e);n!=null&&this.columnModel.moveColumns(i,n,"toolPanelUi")}getMoveDiff(e,t){const n=this.columnModel.getAllGridColumns(),i=this.getCurrentColumns(e),o=i[0],s=i.length;return n.indexOf(o)<t?s:0}getCurrentColumns(e){return e instanceof yn?e.getLeafColumns():[e]}getTargetIndex(e,t){if(!t)return null;const n=t.component;let i=t.position==="top",o;if(n instanceof Lo?(o=n.getColumns()[0],i=!0):o=n.getColumn(),this.getCurrentColumns(e).indexOf(o)!==-1)return null;const a=this.columnModel.getAllGridColumns().indexOf(o),l=i?a:a+1,u=this.getMoveDiff(e,l);return l-u}}Qre([A("columnModel")],G1.prototype,"columnModel",void 0);Qre([he],G1.prototype,"postConstruct",null);var wm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class $l extends Ve{constructor(e,t,n,i){super(),this.allowDragging=t,this.groupsExist=n,this.focusWrapper=i,this.processingColumnStateChange=!1,this.column=e.getColumn(),this.columnDept=e.getDept(),this.displayName=e.getDisplayName()}init(){this.setTemplate($l.TEMPLATE),this.eDragHandle=K.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");const e=this.cbSelect.getGui(),t=this.cbSelect.getInputElement();e.insertAdjacentElement("afterend",this.eDragHandle),t.setAttribute("tabindex","-1");const n=K.escapeString(this.displayName);this.eLabel.innerHTML=n;const i=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass(`ag-column-select-indent-${i}`),this.setupDragging(),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Xe.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Xe.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Xe.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Xe.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,D.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),jD.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach(s=>this.addOrRemoveCssClass(s,!0))}getColumn(){return this.column}setupTooltip(){const e=()=>{const t=this.column.getColDef().headerTooltip;this.setTooltip(t)};e(),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,e)}getTooltipParams(){const e=super.getTooltipParams();return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e}onContextMenu(e){const{column:t,gridOptionsService:n}=this;if(n.is("functionsReadOnly"))return;const i=this.createBean(new Cm(t,e,this.focusWrapper));this.addDestroyFunc(()=>{i.isAlive()&&this.destroyBean(i)})}handleKeyDown(e){e.key===Y.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gridOptionsService.is("functionsReadOnly"))return;const e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}onChangeCommon(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))}refreshAriaLabel(){const e=this.localeService.getLocaleTextFunc(),t=e("ariaColumn","Column"),n=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),i=e("ariaToggleVisibility","Press SPACE to toggle visibility");K.setAriaLabel(this.focusWrapper,`${this.displayName} ${t}`),this.cbSelect.setInputAriaLabel(`${i} (${n})`),K.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)}setupDragging(){if(!this.allowDragging){K.setDisplayed(this.eDragHandle,!1);return}let e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const t={type:wr.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>e?ct.ICON_HIDE:ct.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(),onDragStarted:()=>{e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");const n={type:D.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:this.column};this.eventService.dispatchEvent(n)},onDragStopped:()=>{const n={type:D.EVENT_COLUMN_PANEL_ITEM_DRAG_END};this.eventService.dispatchEvent(n)},onGridEnter:n=>{e&&this.modelItemUtils.updateColumns({columns:[this.column],visibleState:n==null?void 0:n.visibleState,pivotState:n==null?void 0:n.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{e&&this.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(t))}createDragItem(){const e=this.column.getColId(),t={[e]:this.column.isVisible()},n={[e]:this.modelItemUtils.createPivotState(this.column)};return{columns:[this.column],visibleState:t,pivotState:n}}onColumnStateChanged(){this.processingColumnStateChange=!0;const e=this.columnModel.isPivotMode();if(e){const o=this.column.isAnyFunctionActive();this.cbSelect.setValue(o)}else this.cbSelect.setValue(this.column.isVisible());let t=!0,n=!0;if(e){const o=this.gridOptionsService.is("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();t=!o&&!s,n=t}else{const{enableRowGroup:o,enableValue:s,lockPosition:a,suppressMovable:l,lockVisible:u}=this.column.getColDef(),c=!!o||!!s,d=!!a||!!l;t=!u,n=c||!d}this.cbSelect.setReadOnly(!t),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!n),this.addOrRemoveCssClass("ag-column-select-column-readonly",!n&&!t);const i=e&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(i),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")}}$l.TEMPLATE=`<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`;wm([A("columnModel")],$l.prototype,"columnModel",void 0);wm([A("dragAndDropService")],$l.prototype,"dragAndDropService",void 0);wm([A("modelItemUtils")],$l.prototype,"modelItemUtils",void 0);wm([ue("eLabel")],$l.prototype,"eLabel",void 0);wm([ue("cbSelect")],$l.prototype,"cbSelect",void 0);wm([he],$l.prototype,"init",null);var mA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class TUe{constructor(e){this.items=e}getRowCount(){return this.items.length}getRow(e){return this.items[e]}}const PUe="ag-column-select-list";class _d extends Ve{constructor(){super(_d.TEMPLATE),this.destroyColumnItemFuncs=[]}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(e=>e()),this.destroyColumnItemFuncs=[]}init(e,t,n){this.params=e,this.allowDragging=t,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,D.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[D.EVENT_COLUMN_PIVOT_CHANGED,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,D.EVENT_COLUMN_ROW_GROUP_CHANGED,D.EVENT_COLUMN_VALUE_CHANGED,D.EVENT_COLUMN_VISIBLE,D.EVENT_NEW_COLUMNS_LOADED].forEach(a=>{this.addManagedListener(this.eventService,a,this.fireSelectionChangedEvent.bind(this))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;const s=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new Bu({cssIdentifier:"column-select",ariaRole:"tree",listName:s})),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((a,l)=>(K.setAriaLevel(l,a.getDept()+1),this.createComponentFromItem(a,l))),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsService.is("suppressMovableColumns")&&this.createManagedBean(new G1(this,this.virtualList))}createComponentFromItem(e,t){if(e.isGroup()){const i=new Lo(e,this.allowDragging,this.eventType,t);return this.getContext().createBean(i),i}const n=new $l(e,this.allowDragging,this.groupsExist,t);return this.getContext().createBean(n),n}onColumnsChanged(){const e=this.getExpandedStates(),t=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!t?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){if(!this.allColsTree)return{};const e={};return this.forEachItem(t=>{if(!t.isGroup())return;const n=t.getColumnGroup();n&&(e[n.getId()]=t.isExpanded())}),e}setExpandedStates(e){this.allColsTree&&this.forEachItem(t=>{if(!t.isGroup())return;const n=t.getColumnGroup();if(n){const i=e[n.getId()];i!=null&&t.setExpanded(i)}})}buildTreeFromWhatGridIsDisplaying(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))}setColumnLayout(e){const t=this.colDefService.createColumnTree(e);this.buildListModel(t),this.groupsExist=e.some(n=>n&&typeof n.children<"u"),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()}buildListModel(e){const t=this.onColumnExpanded.bind(this),n=a=>{a.addEventListener(Mc.EVENT_EXPANDED_CHANGED,t);const l=a.removeEventListener.bind(a,Mc.EVENT_EXPANDED_CHANGED,t);this.destroyColumnItemFuncs.push(l)},i=(a,l,u)=>{a.forEach(c=>{c instanceof yn?o(c,l,u):s(c,l,u)})},o=(a,l,u)=>{const c=a.getColGroupDef();if(c&&c.suppressColumnsToolPanel)return;if(a.isPadding()){i(a.getChildren(),l,u);return}const h=this.columnModel.getDisplayNameForProvidedColumnGroup(null,a,"columnToolPanel"),p=new Mc(h,a,l,!0,this.expandGroupsByDefault);u.push(p),n(p),i(a.getChildren(),l+1,p.getChildren())},s=(a,l,u)=>{if(a.getColDef()&&a.getColDef().suppressColumnsToolPanel)return;const d=this.columnModel.getDisplayNameForColumn(a,"columnToolPanel");u.push(new Mc(d,a,l))};this.destroyColumnTree(),i(e,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];const e=n=>{n.isPassesFilter()&&(this.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(e))};this.allColsTree.forEach(e),this.virtualList.setModel(new TUe(this.displayedColsList));const t=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),t!=null&&this.focusRowIfAlive(t),this.notifyListeners()}focusRowIfAlive(e){window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(e)},0)}forEachItem(e){const t=n=>{n.forEach(i=>{e(i),i.isGroup()&&t(i.getChildren())})};t(this.allColsTree)}doSetExpandedAll(e){this.forEachItem(t=>{t.isGroup()&&t.setExpanded(e)})}setGroupsExpanded(e,t){if(!t){this.doSetExpandedAll(e);return}const n=[];this.forEachItem(o=>{if(!o.isGroup())return;const s=o.getColumnGroup().getId();t.indexOf(s)>=0&&(o.setExpanded(e),n.push(s))});const i=t.filter(o=>!K.includes(n,o));i.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",i)}getExpandState(){let e=0,t=0;return this.forEachItem(n=>{n.isGroup()&&(n.isExpanded()?e++:t++)}),e>0&&t>0?ul.INDETERMINATE:t>0?ul.COLLAPSED:ul.EXPANDED}doSetSelectedAll(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)}getSelectionState(){let e=0,t=0;const n=this.columnModel.isPivotMode();if(this.forEachItem(i=>{if(i.isGroup()||!i.isPassesFilter())return;const o=i.getColumn(),s=o.getColDef();let a;if(n){if(!o.isAllowPivot()&&!o.isAllowRowGroup()&&!o.isAllowValue())return;a=o.isValueActive()||o.isPivotActive()||o.isRowGroupActive()}else{if(s.lockVisible)return;a=o.isVisible()}a?e++:t++}),!(e>0&&t>0))return!(e===0||t>0)}setFilterText(e){this.filterText=K.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){const e=n=>{if(!K.exists(this.filterText))return!0;const i=n.getDisplayName();return i==null||i.toLowerCase().indexOf(this.filterText)!==-1},t=(n,i)=>{let o=!1;if(n.isGroup()){const a=e(n);n.getChildren().forEach(l=>{const u=t(l,a||i);u&&(o=u)})}const s=i||o?!0:e(n);return n.setPassesFilter(s),s};this.allColsTree.forEach(n=>t(n,!1))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){const e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})}fireSelectionChangedEvent(){const e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}}_d.TEMPLATE=`<div class="${PUe}" role="presentation"></div>`;mA([A("columnModel")],_d.prototype,"columnModel",void 0);mA([A("toolPanelColDefService")],_d.prototype,"colDefService",void 0);mA([A("modelItemUtils")],_d.prototype,"modelItemUtils",void 0);mA([Si],_d.prototype,"destroyColumnTree",null);var V1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class fC extends Ve{createTemplate(){return`<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`}init(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());const e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,D.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))}onBtPivotMode(){const e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");const t=this.gridOptionsService.api;t&&t.refreshHeader()}}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)}}V1([A("columnModel")],fC.prototype,"columnModel",void 0);V1([ue("cbPivotMode")],fC.prototype,"cbPivotMode",void 0);V1([SD],fC.prototype,"init",null);var vA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Ag=class extends ae{execute(e){const t=K.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.gridOptionsService.getCallback("getGroupRowAgg"),i=e.changedPath&&e.changedPath.isActive();if(t&&n&&i)return;const o=this.createAggDetails(e);this.recursivelyCreateAggData(o)}createAggDetails(e){const t=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),i=t?this.columnModel.getPivotColumns():[];return{alwaysAggregateAtRootLevel:this.gridOptionsService.is("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:n,pivotColumns:i,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")}}isSuppressAggFilteredOnly(){return this.gridOptionsService.getGroupAggFiltering()!==void 0||this.gridOptionsService.is("suppressAggFilteredOnly")}recursivelyCreateAggData(e){const t=n=>{if(!n.hasChildren()){n.aggData&&n.setAggData(null);return}if(n.level===-1&&!e.groupIncludeTotalFooter){const s=!this.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&s)return}this.aggregateRowNode(n,e)};e.changedPath.forEachChangedNodeDepthFirst(t,!0)}aggregateRowNode(e,t){const n=t.valueColumns.length===0,i=t.pivotColumns.length===0;let o;t.userAggFunc?o=t.userAggFunc({nodes:e.childrenAfterFilter}):n?o=null:i?o=this.aggregateRowNodeUsingValuesOnly(e,t):o=this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(o),e.sibling&&e.sibling.setAggData(o)}aggregateRowNodeUsingValuesAndPivot(e){var t;const n={},i=(t=this.columnModel.getSecondaryColumns())!==null&&t!==void 0?t:[];return i.forEach(o=>{const{pivotValueColumn:s,pivotTotalColumnIds:a,colId:l,pivotKeys:u}=o.getColDef();if(K.exists(a))return;const c=u??[];let d;e.leafGroup?d=this.getValuesFromMappedSet(e.childrenMapped,c,s):d=this.getValuesPivotNonLeaf(e,l),n[l]=this.aggregateValues(d,s.getAggFunc(),s,e,o)}),i.forEach(o=>{const{pivotValueColumn:s,pivotTotalColumnIds:a,colId:l}=o.getColDef();if(!K.exists(a))return;const u=[];!a||!a.length||(a.forEach(c=>{u.push(n[c])}),n[l]=this.aggregateValues(u,s.getAggFunc(),s,e,o))}),n}aggregateRowNodeUsingValuesOnly(e,t){const n={},i=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,o=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,s=this.getValuesNormal(e,i,t.filteredOnly),a=e.aggData;return i.forEach((l,u)=>{n[l.getId()]=this.aggregateValues(s[u],l.getAggFunc(),l,e)}),o&&a&&o.forEach(l=>{n[l.getId()]=a[l.getId()]}),n}getValuesPivotNonLeaf(e,t){const n=[];return e.childrenAfterFilter.forEach(i=>{const o=i.aggData[t];n.push(o)}),n}getValuesFromMappedSet(e,t,n){let i=e;if(t.forEach(s=>i=i?i[s]:null),!i)return[];const o=[];return i.forEach(s=>{const a=this.valueService.getValue(n,s);o.push(a)}),o}getValuesNormal(e,t,n){const i=[];t.forEach(()=>i.push([]));const o=t.length,s=n?e.childrenAfterFilter:e.childrenAfterGroup,a=s.length;for(let l=0;l<a;l++){const u=s[l];for(let c=0;c<o;c++){const d=t[c],h=this.valueService.getValue(d,u);i[c].push(h)}}return i}aggregateValues(e,t,n,i,o){const s=typeof t=="string"?this.aggFuncService.getAggFunc(t):t;if(typeof s!="function")return console.error(`AG Grid: unrecognised aggregation function ${t}`),null;const a=s,l={values:e,column:n,colDef:n?n.getColDef():void 0,pivotResultColumn:o,rowNode:i,data:i?i.data:void 0,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return a(l)}};vA([A("columnModel")],Ag.prototype,"columnModel",void 0);vA([A("valueService")],Ag.prototype,"valueService",void 0);vA([A("aggFuncService")],Ag.prototype,"aggFuncService",void 0);Ag=vA([Re("aggregationStage")],Ag);class MI{constructor(){this.allSets={},this.allParents=[]}removeFromChildrenAfterGroup(e,t){const n=this.getSet(e);n.removeFromChildrenAfterGroup[t.id]=!0}isRemoveFromAllLeafChildren(e,t){return!!this.getSet(e).removeFromAllLeafChildren[t.id]}preventRemoveFromAllLeafChildren(e,t){const n=this.getSet(e);delete n.removeFromAllLeafChildren[t.id]}removeFromAllLeafChildren(e,t){const n=this.getSet(e);n.removeFromAllLeafChildren[t.id]=!0}getSet(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]}getAllParents(){return this.allParents}flush(){this.allParents.forEach(e=>{const t=this.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(n=>!t.removeFromChildrenAfterGroup[n.id]),e.allLeafChildren=e.allLeafChildren.filter(n=>!t.removeFromAllLeafChildren[n.id]),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0}}var Sm=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ld=class extends ae{constructor(){super(...arguments),this.groupIdSequence=new FD}execute(e){const t=this.createGroupingDetails(e);if(t.transactions)this.handleTransaction(t);else{const n=e.afterColumnsChanged===!0;this.shotgunResetEverything(t,n)}t.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(t)),this.selectableService.updateSelectableAfterGrouping(t.rootNode)}positionLeafsAndGroups(e){e.forEachChangedNodeDepthFirst(t=>{if(t.childrenAfterGroup){const n=[],i=[];let o;t.childrenAfterGroup.forEach(s=>{var a;!((a=s.childrenAfterGroup)===null||a===void 0)&&a.length?s.key===""&&!o?o=s:i.push(s):n.push(s)}),o&&i.push(o),t.childrenAfterGroup=[...n,...i]}},!1)}createGroupingDetails(e){const{rowNode:t,changedPath:n,rowNodeTransactions:i,rowNodeOrder:o}=e,s=this.gridOptionsService.is("treeData"),a=s?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:a,rootNode:t,pivotMode:this.columnModel.isPivotMode(),groupedColCount:s||!a?0:a.length,rowNodeOrder:o,transactions:i,changedPath:n,groupAllowUnbalanced:this.gridOptionsService.is("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),createGroupFooter:this.gridOptionsService.isGroupIncludeFooterTrueOrCallback(),usingTreeData:s,getDataPath:s?this.gridOptionsService.get("getDataPath"):void 0}}handleTransaction(e){e.transactions.forEach(t=>{const n=e.usingTreeData?void 0:new MI;if(K.existsAndNotEmpty(t.remove)&&this.removeNodes(t.remove,e,n),K.existsAndNotEmpty(t.update)&&this.moveNodesInWrongPath(t.update,e,n),K.existsAndNotEmpty(t.add)&&this.insertNodes(t.add,e,!1),n){const i=n.getAllParents().slice();n.flush(),this.removeEmptyGroups(i,e)}}),e.rowNodeOrder&&this.sortChildren(e)}sortChildren(e){e.changedPath.forEachChangedNodeDepthFirst(t=>{if(!t.childrenAfterGroup)return;K.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)&&e.changedPath.addParentNode(t)},!1,!0)}orderGroups(e){const t=e.initialGroupOrderComparator;K.exists(t)&&n(e.rootNode);function n(i){K.exists(i.childrenAfterGroup)&&!i.leafGroup&&(i.childrenAfterGroup.sort((s,a)=>t({nodeA:s,nodeB:a})),i.childrenAfterGroup.forEach(s=>n(s)))}}getExistingPathForNode(e,t){const n=[];let i=t.usingTreeData?e:e.parent;for(;i&&i!==t.rootNode;)n.push({key:i.key,rowGroupColumn:i.rowGroupColumn,field:i.field}),i=i.parent;return n.reverse(),n}moveNodesInWrongPath(e,t,n){e.forEach(i=>{t.changedPath.isActive()&&t.changedPath.addParentNode(i.parent);const o=u=>u.key,s=this.getExistingPathForNode(i,t).map(o),a=this.getGroupInfo(i,t).map(o);K.areEqual(s,a)||this.moveNode(i,t,n)})}moveNode(e,t,n){if(this.removeNodesInStages([e],t,n),this.insertOneNode(e,t,!0,n),e.setData(e.data),t.changedPath.isActive()){const i=e.parent;t.changedPath.addParentNode(i)}}removeNodes(e,t,n){this.removeNodesInStages(e,t,n),t.changedPath.isActive()&&e.forEach(i=>t.changedPath.addParentNode(i.parent))}removeNodesInStages(e,t,n){if(this.removeNodesFromParents(e,t,n),t.usingTreeData){this.postRemoveCreateFillerNodes(e,t);const i=e.map(o=>o.parent);this.removeEmptyGroups(i,t)}}forEachParentGroup(e,t,n){let i=t;for(;i&&i!==e.rootNode;)n(i),i=i.parent}removeNodesFromParents(e,t,n){const i=n==null,o=n||new MI;e.forEach(s=>{this.removeFromParent(s,o),this.forEachParentGroup(t,s.parent,a=>{o.removeFromAllLeafChildren(a,s)})}),i&&o.flush()}postRemoveCreateFillerNodes(e,t){e.forEach(n=>{if(n.hasChildren()){const o=this.getExistingPathForNode(n,t),s=this.findParentForNode(n,o,t);s.expanded=n.expanded,s.allLeafChildren=n.allLeafChildren,s.childrenAfterGroup=n.childrenAfterGroup,s.childrenMapped=n.childrenMapped,s.updateHasChildren(),s.childrenAfterGroup.forEach(a=>a.parent=s)}})}removeEmptyGroups(e,t){let n=!0;const i=o=>{const s=this.getChildrenMappedKey(o.key,o.rowGroupColumn),a=o.parent;return(a&&a.childrenMapped?!a.childrenMapped[s]:!0)?!1:!!o.isEmptyRowGroupNode()};for(;n;){n=!1;const o=new MI;e.forEach(s=>{this.forEachParentGroup(t,s,a=>{i(a)&&(n=!0,this.removeFromParent(a,o),a.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),o.flush()}}removeFromParent(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):(K.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));const n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[n]=void 0),e.setRowTop(null),e.setRowIndex(null)}addToParent(e,t){const n=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(t.childrenMapped!=null&&(t.childrenMapped[n]=e),t.childrenAfterGroup.push(e),t.updateHasChildren())}areGroupColsEqual(e,t){return e==null||t==null||e.pivotMode!==t.pivotMode?!1:K.areEqual(e.groupedCols,t.groupedCols)}checkAllGroupDataAfterColsChanged(e){const t=n=>{n&&n.forEach(i=>{if(!e.usingTreeData&&!i.group)return;const s={field:i.field,key:i.key,rowGroupColumn:i.rowGroupColumn};this.setGroupData(i,s,e),t(i.childrenAfterGroup)})};t(e.rootNode.childrenAfterGroup)}shotgunResetEverything(e,t){if(this.noChangeInGroupingColumns(e,t))return;this.selectionService.filterFromSelection(s=>s&&!s.group);const{rootNode:n,groupedCols:i}=e;n.leafGroup=e.usingTreeData?!1:i.length===0,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren();const o=n.sibling;o&&(o.childrenAfterGroup=n.childrenAfterGroup,o.childrenMapped=n.childrenMapped),this.insertNodes(n.allLeafChildren,e,!1)}noChangeInGroupingColumns(e,t){let n=!1;const i=this.columnModel.getGroupDisplayColumns(),o=i?i.map(s=>s.getId()).join("-"):"";return t&&(n=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==o&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=o,n}insertNodes(e,t,n){e.forEach(i=>{this.insertOneNode(i,t,n),t.changedPath.isActive()&&t.changedPath.addParentNode(i.parent)})}insertOneNode(e,t,n,i){const o=this.getGroupInfo(e,t),s=this.findParentForNode(e,o,t,i);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),t.usingTreeData?this.swapGroupWithUserNode(s,e,n):(e.parent=s,e.level=o.length,s.childrenAfterGroup.push(e),s.updateHasChildren())}findParentForNode(e,t,n,i){let o=n.rootNode;return t.forEach((s,a)=>{o=this.getOrCreateNextNode(o,s,a,n),i!=null&&i.isRemoveFromAllLeafChildren(o,e)?i==null||i.preventRemoveFromAllLeafChildren(o,e):o.allLeafChildren.push(e)}),o}swapGroupWithUserNode(e,t,n){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,n||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,t.sibling=e.sibling,t.updateHasChildren(),this.removeFromParent(e),t.childrenAfterGroup.forEach(i=>i.parent=t),this.addToParent(t,e.parent)}getOrCreateNextNode(e,t,n,i){const o=this.getChildrenMappedKey(t.key,t.rowGroupColumn);let s=e.childrenMapped?e.childrenMapped[o]:void 0;return s||(s=this.createGroup(t,e,n,i),this.addToParent(s,e)),s}createGroup(e,t,n,i){const o=new je(this.beans);return o.group=!0,o.field=e.field,o.rowGroupColumn=e.rowGroupColumn,this.setGroupData(o,e,i),o.id=je.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),o.key=e.key,o.level=n,o.leafGroup=i.usingTreeData?!1:n===i.groupedColCount-1,o.allLeafChildren=[],o.setAllChildrenCount(0),o.rowGroupIndex=i.usingTreeData?null:n,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren(),o.parent=i.includeParents?t:null,this.setExpandedInitialValue(i,o),o}setGroupData(e,t,n){e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(o=>{(n.usingTreeData||(e.rowGroupColumn?o.isRowGroupDisplayed(e.rowGroupColumn.getId()):!1))&&(e.groupData[o.getColId()]=t.key)})}getChildrenMappedKey(e,t){return t?t.getId()+"-"+e:e}setExpandedInitialValue(e,t){if(e.pivotMode&&t.leafGroup){t.expanded=!1;return}const n=e.isGroupOpenByDefault;if(n){const o={rowNode:t,field:t.field,key:t.key,level:t.level,rowGroupColumn:t.rowGroupColumn};t.expanded=n(o)==!0;return}const{expandByDefault:i}=e;if(e.expandByDefault===-1){t.expanded=!0;return}t.expanded=t.level<i}getGroupInfo(e,t){return t.usingTreeData?this.getGroupInfoFromCallback(e,t):this.getGroupInfoFromGroupColumns(e,t)}getGroupInfoFromCallback(e,t){const n=t.getDataPath?t.getDataPath(e.data):null;(n==null||n.length===0)&&K.doOnce(()=>console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data),"groupStage.getGroupInfoFromCallback");const i=o=>({key:o,field:null,rowGroupColumn:null});return n?n.map(i):[]}getGroupInfoFromGroupColumns(e,t){const n=[];return t.groupedCols.forEach(i=>{let o=this.valueService.getKeyForNode(i,e),s=o!=null&&o!=="";if((t.pivotMode||!t.groupAllowUnbalanced)&&!s&&(o="",s=!0),s){const l={key:o,field:i.getColDef().field,rowGroupColumn:i};n.push(l)}}),n}};Sm([A("columnModel")],ld.prototype,"columnModel",void 0);Sm([A("selectableService")],ld.prototype,"selectableService",void 0);Sm([A("valueService")],ld.prototype,"valueService",void 0);Sm([A("beans")],ld.prototype,"beans",void 0);Sm([A("selectionService")],ld.prototype,"selectionService",void 0);ld=Sm([Re("groupStage")],ld);var yA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Q_;let qh=Q_=class extends ae{init(){const e=()=>{var n;return(n=this.gos.get("serverSidePivotResultFieldSeparator"))!==null&&n!==void 0?n:"_"};this.fieldSeparator=e(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",()=>{this.fieldSeparator=e()});const t=()=>{var n;return(n=this.gos.getNum("pivotDefaultExpanded"))!==null&&n!==void 0?n:0};this.pivotDefaultExpanded=t(),this.addManagedPropertyListener("pivotDefaultExpanded",()=>{this.pivotDefaultExpanded=t()})}createPivotColumnDefs(e){const t=this.createPivotColumnsFromUniqueValues(e);function n(s,a=[]){return s.forEach(l=>{l.children!==void 0?n(l.children,a):a.push(l)}),a}const i=n(t);this.addRowGroupTotals(t,i),this.addExpandablePivotGroups(t,i),this.addPivotTotalsToGroups(t,i);const o=i.map(s=>K.cloneObject(s));return{pivotColumnGroupDefs:t,pivotColumnDefs:o}}createPivotColumnsFromUniqueValues(e){const t=this.columnModel.getPivotColumns(),n=t.length;return this.recursivelyBuildGroup(0,e,[],n,t)}recursivelyBuildGroup(e,t,n,i,o){const s=this.columnModel.getValueColumns();if(e>=i)return this.buildMeasureCols(n);const a=o[e].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(s.length===1&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&e===i-1){const c=[];return K.iterateObject(t,d=>{const h=[...n,d],p=this.createColDef(s[0],d,h);p.columnGroupShow="open",c.push(p)}),c.sort(l),c}const u=[];return K.iterateObject(t,(c,d)=>{const h=this.pivotDefaultExpanded===-1||e<this.pivotDefaultExpanded,p=[...n,c];u.push({children:this.recursivelyBuildGroup(e+1,d,p,i,o),headerName:c,pivotKeys:p,columnGroupShow:"open",openByDefault:h,groupId:this.generateColumnGroupId(p)})}),u.sort(l),u}buildMeasureCols(e){const t=this.columnModel.getValueColumns();return t.length===0?[this.createColDef(null,"-",e)]:t.map(n=>{const i=this.columnModel.getDisplayNameForColumn(n,"header");return Object.assign(Object.assign({},this.createColDef(n,i,e)),{columnGroupShow:"open"})})}addExpandablePivotGroups(e,t){if(this.gridOptionsService.is("suppressExpandablePivotGroups")||this.gridOptionsService.get("pivotColumnGroupTotals"))return;const n=(i,o,s)=>{const a=i;if(a.children){const l=new Map;a.children.forEach(c=>{n(c,o,l)});const u=!a.children.some(c=>c.children);this.columnModel.getValueColumns().forEach(c=>{const d=this.columnModel.getDisplayNameForColumn(c,"header"),h=this.createColDef(c,d,i.pivotKeys);h.pivotTotalColumnIds=l.get(c.getColId()),h.columnGroupShow="closed",h.aggFunc=c.getAggFunc(),u||(i.children.push(h),o.push(h))}),this.merge(s,l)}else{const l=i;if(!l.pivotValueColumn)return;const u=l.pivotValueColumn.getColId(),c=s.has(u)?s.get(u):[];c.push(l.colId),s.set(u,c)}};e.forEach(i=>{n(i,t,new Map)})}addPivotTotalsToGroups(e,t){if(!this.gridOptionsService.get("pivotColumnGroupTotals"))return;const n=this.gridOptionsService.get("pivotColumnGroupTotals")==="after",i=this.columnModel.getValueColumns(),o=i.map(a=>a.getAggFunc());if(!o||o.length<1||!this.sameAggFuncs(o))return;const s=i[0];e.forEach(a=>{this.recursivelyAddPivotTotal(a,t,s,n)})}recursivelyAddPivotTotal(e,t,n,i){const o=e;if(!o.children){const a=e;return a.colId?[a.colId]:null}let s=[];if(o.children.forEach(a=>{const l=this.recursivelyAddPivotTotal(a,t,n,i);l&&(s=s.concat(l))}),o.children.length>1){const l=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),u=this.createColDef(n,l,e.pivotKeys,!0);u.pivotTotalColumnIds=s,u.aggFunc=n.getAggFunc();const c=e.children;i?c.push(u):c.unshift(u),t.push(u)}return s}addRowGroupTotals(e,t){if(!this.gridOptionsService.get("pivotRowTotals"))return;const n=this.gridOptionsService.get("pivotRowTotals")==="after",i=this.columnModel.getValueColumns(),o=n?i.slice():i.slice().reverse();for(let s=0;s<o.length;s++){const a=o[s];let l=[];e.forEach(c=>{l=l.concat(this.extractColIdsForValueColumn(c,a))});const u=o.length>1||!this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");this.createRowGroupTotal(e,t,a,l,n,u)}}extractColIdsForValueColumn(e,t){const n=e;if(!n.children){const o=n;return o.pivotValueColumn===t&&o.colId?[o.colId]:[]}let i=[];return n.children.forEach(o=>{this.extractColIdsForValueColumn(o,t);const s=this.extractColIdsForValueColumn(o,t);i=i.concat(s)}),i}createRowGroupTotal(e,t,n,i,o,s){const a=this.columnModel.getValueColumns();let l;if(a.length===0)l=this.createColDef(null,"-",[]);else{const c=this.columnModel.getDisplayNameForColumn(n,"header");l=this.createColDef(n,c,[]),l.pivotTotalColumnIds=i}l.colId=Q_.PIVOT_ROW_TOTAL_PREFIX+l.colId,t.push(l);const u=s?{children:[l],pivotKeys:[],groupId:`${Q_.PIVOT_ROW_TOTAL_PREFIX}_pivotGroup_${n.getColId()}`}:l;o?e.push(u):e.unshift(u)}createColDef(e,t,n,i=!1){const o={};if(e){const s=e.getColDef();Object.assign(o,s),o.hide=!1}return o.headerName=t,o.colId=this.generateColumnId(n||[],e&&!i?e.getColId():""),o.field=o.colId,o.valueGetter=s=>{var a;return(a=s.data)===null||a===void 0?void 0:a[s.colDef.field]},o.pivotKeys=n,o.pivotValueColumn=e,o.filter===!0&&(o.filter="agNumberColumnFilter"),o}sameAggFuncs(e){if(e.length==1)return!0;for(let t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0}headerNameComparator(e,t,n){return e?e(t.headerName,n.headerName):t.headerName&&!n.headerName?1:!t.headerName&&n.headerName?-1:!t.headerName||!n.headerName?0:t.headerName<n.headerName?-1:t.headerName>n.headerName?1:0}merge(e,t){t.forEach((n,i,o)=>{const a=[...e.has(i)?e.get(i):[],...n];e.set(i,a)})}generateColumnGroupId(e){return`pivotGroup_${this.columnModel.getPivotColumns().map(n=>n.getColId()).join("-")}_${e.join("-")}`}generateColumnId(e,t){return`pivot_${this.columnModel.getPivotColumns().map(i=>i.getColId()).join("-")}_${e.join("-")}_${t}`}createColDefsFromFields(e){const t={};for(let o=0;o<e.length;o++){const a=e[o].split(this.fieldSeparator);let l=t;for(let u=0;u<a.length;u++){const c=a[u];l[c]==null&&(l[c]={}),l=l[c]}}const n=(o,s,a,l)=>{var u;const c=[];for(let p in a){const f=a[p],g=n(`${o}${this.fieldSeparator}${p}`,p,f,l+1);c.push(g)}if(c.length===0){const p={colId:o,headerName:s,valueGetter:g=>{var v;return(v=g.data)===null||v===void 0?void 0:v[o]}},f=this.columnModel.getPrimaryColumn(s);return f&&(p.headerName=(u=this.columnModel.getDisplayNameForColumn(f,"header"))!==null&&u!==void 0?u:s,p.aggFunc=f.getAggFunc(),p.pivotValueColumn=f),p}return this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&c.length===1&&"colId"in c[0]?(c[0].headerName=s,c[0]):{openByDefault:this.pivotDefaultExpanded===-1||l<this.pivotDefaultExpanded,groupId:o,headerName:s,children:c}},i=[];for(let o in t){const s=t[o],a=n(o,o,s,0);i.push(a)}return i}};qh.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_";yA([A("columnModel")],qh.prototype,"columnModel",void 0);yA([A("gridOptionsService")],qh.prototype,"gos",void 0);yA([he],qh.prototype,"init",null);qh=Q_=yA([Re("pivotColDefService")],qh);var CA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let xg=class extends ae{constructor(){super(...arguments),this.uniqueValues={}}execute(e){const t=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(t):this.executePivotOff(t)}executePivotOff(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())}executePivotOn(e){const t=this.bucketUpRowNodes(e),n=this.setUniqueValues(t),i=this.columnModel.getValueColumns(),o=i.map(d=>`${d.getId()}-${d.getColDef().headerName}`).join("#"),s=i.map(d=>d.getAggFunc().toString()).join("#"),a=this.aggregationColumnsHashLastTime!==o,l=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=o,this.aggregationFuncsHashLastTime=s;const u=this.columnModel.getRowGroupColumns().map(d=>d.getId()).join("#"),c=u!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=u,n||a||c||l){const{pivotColumnGroupDefs:d,pivotColumnDefs:h}=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues);this.pivotColumnDefs=h,this.columnModel.setSecondaryColumns(d,"rowModelUpdated"),e&&e.setInactive()}}setUniqueValues(e){const t=JSON.stringify(e),n=JSON.stringify(this.uniqueValues);return t!==n?(this.uniqueValues=e,!0):!1}bucketUpRowNodes(e){const t={};e.forEachChangedNodeDepthFirst(i=>{i.leafGroup&&(i.childrenMapped=null)});const n=i=>{var o;i.leafGroup?this.bucketRowNode(i,t):(o=i.childrenAfterFilter)===null||o===void 0||o.forEach(n)};return e.executeFromRootNode(n),t}bucketRowNode(e,t){const n=this.columnModel.getPivotColumns();n.length===0?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,n,0,t),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)}bucketChildren(e,t,n,i){const o={},s=t[n];if(e.forEach(a=>{let l=this.valueService.getKeyForNode(s,a);K.missing(l)&&(l=""),i[l]||(i[l]={}),o[l]||(o[l]=[]),o[l].push(a)}),n===t.length-1)return o;{const a={};return K.iterateObject(o,(l,u)=>{a[l]=this.bucketChildren(u,t,n+1,i[l])}),a}}getPivotColumnDefs(){return this.pivotColumnDefs}};CA([A("valueService")],xg.prototype,"valueService",void 0);CA([A("columnModel")],xg.prototype,"columnModel",void 0);CA([A("pivotColDefService")],xg.prototype,"pivotColDefService",void 0);xg=CA([Re("pivotStage")],xg);var Xre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},na;const Za=typeof BigInt>"u"?null:BigInt;let Ta=na=class extends ae{constructor(){super(...arguments),this.aggFuncsMap={},this.initialised=!1}init(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))}initialiseWithDefaultAggregations(){this.aggFuncsMap[na.AGG_SUM]=OUe,this.aggFuncsMap[na.AGG_FIRST]=DUe,this.aggFuncsMap[na.AGG_LAST]=AUe,this.aggFuncsMap[na.AGG_MIN]=xUe,this.aggFuncsMap[na.AGG_MAX]=IUe,this.aggFuncsMap[na.AGG_COUNT]=FUe,this.aggFuncsMap[na.AGG_AVG]=MUe,this.initialised=!0}isAggFuncPossible(e,t){const n=this.getFuncNames(e),i=K.includes(n,t),o=K.exists(this.aggFuncsMap[t]);return i&&o}getDefaultAggFunc(e){const t=e.getColDef().defaultAggFunc;if(K.exists(t)&&this.isAggFuncPossible(e,t))return t;if(this.isAggFuncPossible(e,na.AGG_SUM))return na.AGG_SUM;const n=this.getFuncNames(e);return K.existsAndNotEmpty(n)?n[0]:null}addAggFuncs(e){K.iterateObject(e,this.addAggFunc.bind(this))}addAggFunc(e,t){this.init(),this.aggFuncsMap[e]=t}getAggFunc(e){return this.init(),this.aggFuncsMap[e]}getFuncNames(e){const t=e.getColDef().allowedAggFuncs;return t??Object.keys(this.aggFuncsMap).sort()}clear(){this.aggFuncsMap={}}};Ta.AGG_SUM="sum";Ta.AGG_FIRST="first";Ta.AGG_LAST="last";Ta.AGG_MIN="min";Ta.AGG_MAX="max";Ta.AGG_COUNT="count";Ta.AGG_AVG="avg";Xre([he],Ta.prototype,"init",null);Ta=na=Xre([Re("aggFuncService")],Ta);function OUe(r){const{values:e}=r;let t=null;for(let n=0;n<e.length;n++){const i=e[n];typeof i=="number"?t===null?t=i:Za?t+=typeof t=="number"?i:Za(i):t+=i:typeof i=="bigint"&&(t===null?t=i:t=(typeof t=="bigint"?t:Za(t))+i)}return t}function DUe(r){return r.values.length>0?r.values[0]:null}function AUe(r){return r.values.length>0?K.last(r.values):null}function xUe(r){const{values:e}=r;let t=null;for(let n=0;n<e.length;n++){const i=e[n];(typeof i=="number"||typeof i=="bigint")&&(t===null||t>i)&&(t=i)}return t}function IUe(r){const{values:e}=r;let t=null;for(let n=0;n<e.length;n++){const i=e[n];(typeof i=="number"||typeof i=="bigint")&&(t===null||t<i)&&(t=i)}return t}function FUe(r){var e,t;const{values:n}=r;let i=0;for(let s=0;s<n.length;s++){const a=n[s];i+=a!=null&&typeof a.value=="number"?a.value:1}const o=(t=(e=r.rowNode)===null||e===void 0?void 0:e.aggData)===null||t===void 0?void 0:t[r.column.getColId()];return o&&o.value===i?o:{value:i,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function MUe(r){var e,t,n;const{values:i}=r;let o=0,s=0;for(let u=0;u<i.length;u++){const c=i[u];let d=null;typeof c=="number"||typeof c=="bigint"?(d=c,s++):c!=null&&(typeof c.value=="number"||typeof c.value=="bigint")&&typeof c.count=="number"&&(Za?d=c.value*(typeof c.value=="number"?c.count:Za(c.count)):d=c.value*c.count,s+=c.count),typeof d=="number"?Za?o+=typeof o=="number"?d:Za(d):o+=d:typeof d=="bigint"&&(o=(typeof o=="bigint"?o:Za(o))+d)}let a=null;s>0&&(Za?a=o/(typeof o=="number"?s:Za(s)):a=o/s);const l=(t=(e=r.rowNode)===null||e===void 0?void 0:e.aggData)===null||t===void 0?void 0:t[(n=r.column)===null||n===void 0?void 0:n.getColId()];return l&&l.count===s&&l.value===a?l:{count:s,value:a,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}var Bl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class yi extends Ve{constructor(e,t,n,i,o){super(),this.column=e,this.dragSourceDropTarget=t,this.ghost=n,this.dropZonePurpose=i,this.horizontal=o,this.popupShowing=!1}init(){this.setTemplate(yi.TEMPLATE);const e=this.getGui(),t=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(K.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(K.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!t&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,Xe.EVENT_SORT_CHANGED,()=>{this.setupAria()}),this.setupTooltip(),this.activateTabIndex()}setupAria(){const e=this.localeService.getLocaleTextFunc(),{name:t,aggFuncName:n}=this.getColumnAndAggFuncName(),i=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),o={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=this.gridOptionsService.is("rowGroupPanelSuppressSort"),l=[[n&&`${n}${i}`,t,this.isGroupingZone()&&!a&&s&&`, ${o[s]}`].filter(d=>!!d).join("")],u=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!u){const d=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");l.push(d)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!a){const d=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");l.push(d)}const c=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");l.push(c),K.setAriaLabel(this.getGui(),l.join(". "))}setupTooltip(){const e=()=>{const t=this.column.getColDef().headerTooltip;this.setTooltip(t)};e(),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,e)}setupSort(){const e=this.column.getColDef().sortable,t=this.isGroupingZone();if(!(!e||!t)&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);const n=i=>{i.preventDefault();const s=this.gridOptionsService.get("multiSortKey")==="ctrl"?i.ctrlKey||i.metaKey:i.shiftKey;this.sortController.progressSort(this.column,s,"uiColumnSorted")};this.addGuiEventListener("click",n),this.addGuiEventListener("keydown",i=>{i.key===Y.ENTER&&this.isGroupingZone()&&n(i)})}}addDragSource(){const e={type:wr.ToolPanel,eElement:this.eDragHandle,getDefaultIconName:()=>ct.ICON_HIDE,getDragItem:()=>this.createDragItem(),dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc(()=>this.dragAndDropService.removeDragSource(e))}createDragItem(){const e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}setupRemove(){K.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));const e={type:yi.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",n=>{const i=n.key===Y.ENTER;n.key===Y.DELETE&&(n.preventDefault(),this.dispatchEvent(e)),i&&this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&(n.preventDefault(),this.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",n=>{this.dispatchEvent(e),n.stopPropagation()});const t=new yr(this.eButton);this.addManagedListener(t,yr.EVENT_TAP,()=>{this.dispatchEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}getColumnAndAggFuncName(){const e=this.displayName;let t="";if(this.isAggregationZone()){const n=this.column.getAggFunc(),i=typeof n=="string"?n:"agg";t=this.localeService.getLocaleTextFunc()(i,i)}return{name:e,aggFuncName:t}}setTextValue(){const{name:e,aggFuncName:t}=this.getColumnAndAggFuncName(),n=this.isAggregationZone()?`${t}(${e})`:e,i=K.escapeString(n);this.eText.innerHTML=i}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;const e=new Bu({cssIdentifier:"select-agg-func"}),t=this.aggFuncService.getFuncNames(this.column),n=this.getGui(),i=e.getGui();e.setModel({getRow:function(d){return t[d]},getRowCount:function(){return t.length}}),this.getContext().createBean(e);const o=K.loadTemplate('<div class="ag-select-agg-func-popup"></div>');o.style.top="0px",o.style.left="0px",o.appendChild(i),o.style.width=`${n.clientWidth}px`;const s=this.addManagedListener(o,"focusout",d=>{!o.contains(d.relatedTarget)&&u&&u.hideFunc()}),a=d=>{this.destroyBean(e),this.popupShowing=!1,(d==null?void 0:d.key)==="Escape"&&n.focus(),s&&s()},l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:a,ariaLabel:l("ariaLabelAggregationFunction","Aggregation Function")});u&&e.setComponentCreator(this.createAggSelect.bind(this,u.hideFunc)),e.addGuiEventListener("keydown",d=>{if(d.key===Y.ENTER||d.key===Y.SPACE){const h=e.getLastFocusedRow();if(h==null)return;const p=e.getComponentAt(h);p&&p.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:n,ePopup:o,keepWithinBounds:!0,column:this.column,position:"under"}),e.refresh();let c=t.findIndex(d=>d===this.column.getAggFunc());c===-1&&(c=0),e.focusRow(c)}createAggSelect(e,t){const n=()=>{if(e(),this.gridOptionsService.is("functionsPassive")){const l={type:D.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[this.column],aggFunc:t};this.eventService.dispatchEvent(l)}else this.columnModel.setColumnAggFunc(this.column,t,"toolPanelDragAndDrop")},i=this.localeService.getLocaleTextFunc(),o=t.toString(),s=i(o,o);return new LUe(n,s)}addElementClasses(e,t){t=t?`-${t}`:"";const n=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${n}-cell${t}`)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}}yi.EVENT_COLUMN_REMOVE="columnRemove";yi.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;Bl([A("dragAndDropService")],yi.prototype,"dragAndDropService",void 0);Bl([A("columnModel")],yi.prototype,"columnModel",void 0);Bl([A("popupService")],yi.prototype,"popupService",void 0);Bl([xt("aggFuncService")],yi.prototype,"aggFuncService",void 0);Bl([A("sortController")],yi.prototype,"sortController",void 0);Bl([ue("eText")],yi.prototype,"eText",void 0);Bl([ue("eDragHandle")],yi.prototype,"eDragHandle",void 0);Bl([ue("eButton")],yi.prototype,"eButton",void 0);Bl([ue("eSortIndicator")],yi.prototype,"eSortIndicator",void 0);Bl([he],yi.prototype,"init",null);class LUe extends Ve{constructor(e,t){super('<div class="ag-select-agg-func-item"/>'),this.selectItem=e,this.getGui().innerText=t,this.addGuiEventListener("click",this.selectItem)}}var Jre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class li extends Ve{constructor(e,t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=e,this.dropZonePurpose=t,this.state=li.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childColumnComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.eColumnDropList=document.createElement("div"),this.addElementClasses(this.eColumnDropList,"list"),K.setAriaRole(this.eColumnDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}setBeans(e){this.beans=e}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,K.clearElement(this.getGui()),K.clearElement(this.eColumnDropList)}init(e){this.params=e,this.createManagedBean(new vs(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new Ep(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),K.setAriaLabel(this.eColumnDropList,this.getAriaLabel())}handleKeyDown(e){const t=!this.horizontal;let n=e.key===Y.DOWN,i=e.key===Y.UP;if(!t){const s=this.gridOptionsService.is("enableRtl");n=!s&&e.key===Y.RIGHT||s&&e.key===Y.LEFT,i=!s&&e.key===Y.LEFT||s&&e.key===Y.RIGHT}if(!n&&!i)return;const o=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,i);o&&(e.preventDefault(),o.focus())}addElementClasses(e,t){t=t?`-${t}`:"";const n=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${n}${t}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)}isInterestedIn(e){return e===wr.HeaderCell||e===wr.ToolPanel}checkInsertIndex(e){const t=this.getNewInsertIndex(e);if(t<0)return!1;const n=t!==this.insertIndex;return n&&(this.insertIndex=t),n}getNewInsertIndex(e){const t=e.event,n=this.horizontal?t.clientX:t.clientY,i=this.childColumnComponents.map(s=>s.getGui().getBoundingClientRect()),o=i.findIndex(s=>this.horizontal?s.right>n&&s.left<n:s.top<n&&s.bottom>n);if(o===-1){const s=this.beans.gridOptionsService.is("enableRtl");return i.every(u=>n>(this.horizontal?u.right:u.bottom))?s&&this.horizontal?0:this.childColumnComponents.length:i.every(u=>n<(this.horizontal?u.left:u.top))?s&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=o?o+1:o}checkDragStartedBySelf(e){this.state===li.STATE_NOT_DRAGGING&&(this.state=li.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}onDragEnter(e){const t=e.dragSource.getDragItem().columns||[];this.state=li.STATE_NEW_COLUMNS_IN;const n=t.filter(this.isColumnDroppable.bind(this));if(n.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!e.fromNudge){const s=e.dragSource.getDragItem().columns;this.setColumnsVisible(s,!1,"uiColumnDragged")}this.potentialDndColumns=n,this.checkInsertIndex(e),this.refreshGui()}}setColumnsVisible(e,t,n="api"){if(e){const i=e.filter(o=>!o.getColDef().lockVisible);this.colModel.setColumnsVisible(i,t,n)}}isPotentialDndColumns(){return K.existsAndNotEmpty(this.potentialDndColumns)}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}onDragLeave(e){if(this.state===li.STATE_REARRANGE_COLUMNS){const t=e.dragSource.getDragItem().columns||[];this.removeColumns(t)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge){const n=e.dragSource.getDragItem();this.setColumnsVisible(n.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=li.STATE_NOT_DRAGGING}onDragStop(){if(this.isPotentialDndColumns()){let e=!1;this.state===li.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.is("functionsPassive")||!e)&&this.refreshGui()}this.state=li.STATE_NOT_DRAGGING}removeColumns(e){const t=this.getExistingColumns().filter(n=>!K.includes(e,n));this.updateColumns(t)}addColumns(e){if(!e)return;const t=this.getExistingColumns().slice(),n=e.filter(i=>t.indexOf(i)<0);K.insertArrayIntoArray(t,n,this.insertIndex),this.updateColumns(t)}rearrangeColumns(e){const t=this.getNonGhostColumns().slice();return K.insertArrayIntoArray(t,e,this.insertIndex),K.areEqual(t,this.getExistingColumns())?!1:(this.updateColumns(t),!0)}refreshGui(){const e=this.eColumnDropList.scrollTop,t=this.resizeEnabled,n=this.getFocusedItem();let i=this.focusService.findNextFocusableElement();i||(i=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),t&&this.toggleResizable(t),this.focusService.isKeyboardMode()&&this.restoreFocus(n,i)}getFocusedItem(){const e=this.getGui(),t=this.gridOptionsService.getDocument().activeElement;return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}restoreFocus(e,t){const n=this.getGui(),i=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;i.length===0&&t.focus();const o=Math.min(i.length-1,e),s=i[o];s&&s.focus()}getNonGhostColumns(){const e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter(t=>!K.includes(this.potentialDndColumns,t)):e}addColumnsToGui(){const t=this.getNonGhostColumns().map(n=>this.createColumnComponent(n,!1));if(this.isPotentialDndColumns()){const n=this.potentialDndColumns.map(i=>this.createColumnComponent(i,!0));this.insertIndex>=t.length?t.push(...n):t.splice(this.insertIndex,0,...n)}this.appendChild(this.eColumnDropList),t.forEach((n,i)=>{i>0&&this.addArrow(this.eColumnDropList),this.eColumnDropList.appendChild(n.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childColumnComponents.forEach((e,t)=>{const n=e.getGui();K.setAriaPosInSet(n,t+1),K.setAriaSetSize(n,this.childColumnComponents.length)})}createColumnComponent(e,t){const n=new yi(e,this.dropTarget,t,this.dropZonePurpose,this.horizontal);return n.addEventListener(yi.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(n),this.guiDestroyFunctions.push(()=>this.destroyBean(n)),t||this.childColumnComponents.push(n),n}addIconAndTitleToGui(){const e=this.params.icon,t=document.createElement("div");if(K.setAriaHidden(t,!0),this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){const n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,t.appendChild(n)}this.appendChild(t)}isExistingColumnsEmpty(){return this.getExistingColumns().length===0}addEmptyMessageToGui(){if(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())return;const e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}addArrow(e){if(this.horizontal){const t=this.beans.gridOptionsService.is("enableRtl"),n=K.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(n,"cell-separator"),e.appendChild(n)}}}li.STATE_NOT_DRAGGING="notDragging";li.STATE_NEW_COLUMNS_IN="newColumnsIn";li.STATE_REARRANGE_COLUMNS="rearrangeColumns";Jre([A("columnModel")],li.prototype,"colModel",void 0);Jre([A("focusService")],li.prototype,"focusService",void 0);var wA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Qh extends li{constructor(e){super(e,"rowGroup")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const e=this.localeService.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=e("groups","Row Groups");super.init({dragAndDropIcon:ct.ICON_GROUP,icon:K.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:t,title:n}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}getTooltipParams(){const e=super.getTooltipParams();return e.location="rowGroupColumnsList",e}isColumnDroppable(e){return this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&!e.isRowGroupActive()}updateColumns(e){if(this.gridOptionsService.is("functionsPassive")){const t={type:D.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(t)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndColumns()?ct.ICON_GROUP:ct.ICON_NOT_ALLOWED}getExistingColumns(){return this.columnModel.getRowGroupColumns()}}wA([A("columnModel")],Qh.prototype,"columnModel",void 0);wA([A("loggerFactory")],Qh.prototype,"loggerFactory",void 0);wA([A("dragAndDropService")],Qh.prototype,"dragAndDropService",void 0);wA([he],Qh.prototype,"passBeansUp",null);var SA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Xh extends li{constructor(e){super(e,"pivot")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const e=this.localeService.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),n=e("pivots","Column Labels");super.init({dragAndDropIcon:ct.ICON_GROUP,icon:K.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:t,title:n}),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}getTooltipParams(){const e=super.getTooltipParams();return e.location="pivotColumnsList",e}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){const e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":const t=this.columnModel.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1);break}else this.setDisplayed(e)}isColumnDroppable(e){return this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&!e.isPivotActive()}updateColumns(e){if(this.gridOptionsService.is("functionsPassive")){const t={type:D.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(t)}else this.columnModel.setPivotColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndColumns()?ct.ICON_PIVOT:ct.ICON_NOT_ALLOWED}getExistingColumns(){return this.columnModel.getPivotColumns()}}SA([A("columnModel")],Xh.prototype,"columnModel",void 0);SA([A("loggerFactory")],Xh.prototype,"loggerFactory",void 0);SA([A("dragAndDropService")],Xh.prototype,"dragAndDropService",void 0);SA([he],Xh.prototype,"passBeansUp",null);var Zre=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class H1 extends Ve{constructor(){super()}postConstruct(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,D.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()}createNorthPanel(){const e=document.createElement("div"),t=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),K.setAriaRole(e,"presentation"),this.rowGroupComp=new Qh(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new Xh(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,Ve.EVENT_DISPLAYED_CHANGED,t),this.addManagedListener(this.pivotComp,Ve.EVENT_DISPLAYED_CHANGED,t),this.onDropPanelVisible(),e}onDropPanelVisible(){const e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)}onRowGroupChanged(){if(!this.rowGroupComp)return;const e=this.gridOptionsService.get("rowGroupPanelShow");if(e==="always")this.rowGroupComp.setDisplayed(!0);else if(e==="onlyWhenGrouping"){const t=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}}Zre([A("columnModel")],H1.prototype,"columnModel",void 0);Zre([he],H1.prototype,"postConstruct",null);var k1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let gC=class extends ae{execute(e){const t=this.columnModel.isPivotMode(),n=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),i=c=>!c.node.group,o=c=>c.node.leafGroup,s=this.gridOptionsService.getGroupAggFiltering()||(t?o:i),{changedPath:a}=e,l=(c,d=!1)=>{c.childrenAfterFilter&&(c.childrenAfterAggFilter=c.childrenAfterFilter,d&&c.childrenAfterAggFilter.forEach(h=>l(h,d)),this.setAllChildrenCount(c)),c.sibling&&(c.sibling.childrenAfterAggFilter=c.childrenAfterAggFilter)},u=c=>{var d;c.childrenAfterAggFilter=((d=c.childrenAfterFilter)===null||d===void 0?void 0:d.filter(h=>{var p;return s({node:h})&&this.filterManager.doesRowPassAggregateFilters({rowNode:h})?(l(h,!0),!0):(p=h.childrenAfterAggFilter)===null||p===void 0?void 0:p.length}))||null,this.setAllChildrenCount(c),c.sibling&&(c.sibling.childrenAfterAggFilter=c.childrenAfterAggFilter)};a.forEachChangedNodeDepthFirst(n?u:l,!0)}setAllChildrenCountTreeData(e){let t=0;e.childrenAfterAggFilter.forEach(n=>{t++,t+=n.allChildrenCount}),e.setAllChildrenCount(t)}setAllChildrenCountGridGrouping(e){let t=0;e.childrenAfterAggFilter.forEach(n=>{n.group?t+=n.allChildrenCount:t++}),e.setAllChildrenCount(t)}setAllChildrenCount(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gridOptionsService.is("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)}};k1([A("filterManager")],gC.prototype,"filterManager",void 0);k1([A("columnModel")],gC.prototype,"columnModel",void 0);gC=k1([Re("filterAggregatesStage")],gC);const NUe="30.2.1";var oS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class fs extends zw{constructor(){super(`
            <div class="ag-group-filter">
                <div ref="eGroupField"></div>
                <div ref="eUnderlyingFilter"></div>
            </div>
        `)}postConstruct(){this.initialiseTabGuard({})}init(e){return this.params=e,this.validateParams(),this.updateGroups().then(()=>{this.addManagedListener(this.eventService,D.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onColumnRowGroupChanged())})}validateParams(){const{colDef:e}=this.params;e.field&&K.doOnce(()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.'),"groupFilterFieldParam"),e.filterValueGetter&&K.doOnce(()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),"groupFilterFilterValueGetterParam"),e.filterParams&&K.doOnce(()=>console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.'),"groupFilterFilterParams")}updateGroups(){const e=this.updateGroupField();return this.getUnderlyingFilters(e)}getSourceColumns(){if(this.groupColumn=this.params.column,this.gridOptionsService.is("treeData"))return K.doOnce(()=>console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),"groupFilterTreeData"),[];const e=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return e||(K.doOnce(()=>console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter."),"groupFilterNotGroupColumn"),[])}updateGroupField(){K.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);const e=this.getSourceColumns(),t=e.filter(n=>n.isFilterAllowed());return t.length?(e.length===1?(this.selectedColumn=t[0],K.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!t.some(n=>n.getId()===this.selectedColumn.getId()))&&(this.selectedColumn=t[0]),this.createGroupFieldSelectElement(t),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(K.loadTemplate('<div class="ag-filter-separator"></div>')),K.setDisplayed(this.eGroupField,!0)),t):(this.selectedColumn=void 0,K.setDisplayed(this.eGroupField,!1),null)}createGroupFieldSelectElement(e){this.eGroupFieldSelect=this.createManagedBean(new MD);const t=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(t("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(n=>{var i;return{value:n.getId(),text:(i=this.columnModel.getDisplayNameForColumn(n,"groupFilter",!1))!==null&&i!==void 0?i:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(n=>this.updateSelectedColumn(n)),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),e.length===1&&this.eGroupFieldSelect.setDisabled(!0)}getUnderlyingFilters(e){if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),zn.resolve();const t=[],n=[];return e.forEach(i=>{const o=this.filterManager.getOrCreateFilterWrapper(i,"COLUMN_MENU");o!=null&&o.filterPromise&&t.push(o.filterPromise.then(s=>(s&&n.push({filter:s,column:i}),i.getId()===this.selectedColumn.getId()&&(this.selectedFilter=s??void 0),s)))}),zn.all(t).then(()=>{this.filterColumnPairs=n,this.groupColumn.setFilterActive(this.isFilterActive(),"columnRowGroupChanged")})}addUnderlyingFilterElement(){if(K.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return zn.resolve();const e=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return e?e.guiPromise.then(t=>{var n;this.eUnderlyingFilter.appendChild(t),(n=e.filterPromise)===null||n===void 0||n.then(i=>{var o,s;(o=i==null?void 0:i.afterGuiAttached)===null||o===void 0||o.call(i,this.afterGuiAttachedParams),!(!((s=this.afterGuiAttachedParams)===null||s===void 0)&&s.suppressFocus)&&this.eGroupFieldSelect&&!this.eGroupFieldSelect.isDisabled()&&this.eGroupFieldSelect.getFocusableElement().focus()})}):zn.resolve()}updateSelectedColumn(e){var t,n;if(!e)return;(n=(t=this.selectedFilter)===null||t===void 0?void 0:t.afterGuiDetached)===null||n===void 0||n.call(t);const i=this.getFilterColumnPair(e);this.selectedColumn=i==null?void 0:i.column,this.selectedFilter=i==null?void 0:i.filter,this.dispatchEvent({type:fs.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}isFilterActive(){var e;return!!(!((e=this.filterColumnPairs)===null||e===void 0)&&e.some(({filter:t})=>t.isFilterActive()))}doesFilterPass(){return!0}getModel(){return null}setModel(){return zn.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()}afterGuiDetached(){var e,t;K.clearElement(this.eUnderlyingFilter),(t=(e=this.selectedFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||t===void 0||t.call(e)}onColumnRowGroupChanged(){this.updateGroups().then(()=>{this.dispatchEvent({type:fs.EVENT_COLUMN_ROW_GROUP_CHANGED}),this.eventService.dispatchEvent({type:"filterAllowedUpdated"})})}getFilterColumnPair(e){var t;if(e)return(t=this.filterColumnPairs)===null||t===void 0?void 0:t.find(({column:n})=>n.getId()===e)}getSelectedFilter(){return this.selectedFilter}getSelectedColumn(){return this.selectedColumn}isFilterAllowed(){return!!this.selectedColumn}destroy(){super.destroy()}}fs.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";fs.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged";oS([A("filterManager")],fs.prototype,"filterManager",void 0);oS([A("columnModel")],fs.prototype,"columnModel",void 0);oS([ue("eGroupField")],fs.prototype,"eGroupField",void 0);oS([ue("eUnderlyingFilter")],fs.prototype,"eUnderlyingFilter",void 0);oS([he],fs.prototype,"postConstruct",null);var $1=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class EA extends Ve{constructor(){super(`
            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>
        `),this.haveAddedColumnListeners=!1}init(e){this.params=e;const t=this.gridOptionsService.get("groupDisplayType")==="multipleColumns";return new zn(n=>{this.params.parentFilterInstance(i=>{this.parentFilterInstance=i,t?this.setupUnderlyingFloatingFilterElement().then(()=>n()):(this.setupReadOnlyFloatingFilterElement(),n())})}).then(()=>{this.addManagedListener(this.parentFilterInstance,fs.EVENT_SELECTED_COLUMN_CHANGED,()=>this.onSelectedColumnChanged()),this.addManagedListener(this.parentFilterInstance,fs.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onColumnRowGroupChanged())})}onParamsUpdated(e){this.params=e,this.setParams()}setParams(){var e;const t=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),n=this.localeService.getLocaleTextFunc();(e=this.eFloatingFilterText)===null||e===void 0||e.setInputAriaLabel(`${t} ${n("ariaFilterInput","Filter Input")}`)}setupReadOnlyFloatingFilterElement(){this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new rm),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",()=>this.params.showParentFilter()),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())}setupUnderlyingFloatingFilterElement(){this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,K.clearElement(this.eFloatingFilter);const e=this.parentFilterInstance.getSelectedColumn();if(e&&!e.isVisible()){const t=this.filterManager.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(t)return this.compDetails=t,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(e,Xe.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(e,Xe.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),t.newAgStackInstance().then(n=>{var i,o;this.underlyingFloatingFilter=n,(i=this.underlyingFloatingFilter)===null||i===void 0||i.onParentModelChanged((o=this.parentFilterInstance.getSelectedFilter())===null||o===void 0?void 0:o.getModel()),this.appendChild(n.getGui()),this.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),zn.resolve()}onColumnVisibleChanged(){this.setupUnderlyingFloatingFilterElement()}onColDefChanged(e){var t,n;if(!e.column)return;const i=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);i&&((n=(t=this.underlyingFloatingFilter)===null||t===void 0?void 0:t.onParamsUpdated)===null||n===void 0||n.call(t,i.params))}onParentModelChanged(e,t){var n,i;this.showingUnderlyingFloatingFilter?(n=this.underlyingFloatingFilter)===null||n===void 0||n.onParentModelChanged((i=this.parentFilterInstance.getSelectedFilter())===null||i===void 0?void 0:i.getModel(),t):this.updateDisplayedValue()}updateDisplayedValue(){if(!this.parentFilterInstance||!this.eFloatingFilterText)return;const e=this.parentFilterInstance.getSelectedFilter();if(!e){this.eFloatingFilterText.setValue(""),this.eFloatingFilterText.setDisplayed(!1);return}if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){const t=e.getModel();this.eFloatingFilterText.setValue(t==null?"":e.getModelAsString(t))}else this.eFloatingFilterText.setValue("")}onSelectedColumnChanged(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}onColumnRowGroupChanged(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()}destroy(){super.destroy()}}$1([A("columnModel")],EA.prototype,"columnModel",void 0);$1([A("filterManager")],EA.prototype,"filterManager",void 0);$1([ue("eFloatingFilter")],EA.prototype,"eFloatingFilter",void 0);const GUe={version:NUe,moduleName:_e.RowGroupingModule,beans:[Ag,gC,ld,qh,xg,Ta],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:H1}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:fs},{componentName:"agGroupColumnFloatingFilter",componentClass:EA}],dependantModules:[nS]};var _A=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Ig extends li{constructor(e){super(e,"aggregation")}passBeansUp(){super.setBeans({gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});const e=this.localeService.getLocaleTextFunc(),t=e("valueColumnsEmptyMessage","Drag here to aggregate"),n=e("values","Values");super.init({dragAndDropIcon:ct.ICON_AGGREGATE,icon:K.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:t,title:n}),this.addManagedListener(this.eventService,D.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))}getAriaLabel(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getTooltipParams(){const e=super.getTooltipParams();return e.location="valueColumnsList",e}getIconName(){return this.isPotentialDndColumns()?ct.ICON_AGGREGATE:ct.ICON_NOT_ALLOWED}isColumnDroppable(e){return this.gridOptionsService.is("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&!e.isValueActive()}updateColumns(e){if(this.gridOptionsService.is("functionsPassive")){const t={type:D.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(t)}else this.columnModel.setValueColumns(e,"toolPanelUi")}getExistingColumns(){return this.columnModel.getValueColumns()}}_A([A("columnModel")],Ig.prototype,"columnModel",void 0);_A([A("loggerFactory")],Ig.prototype,"loggerFactory",void 0);_A([A("dragAndDropService")],Ig.prototype,"dragAndDropService",void 0);_A([he],Ig.prototype,"passBeansUp",null);var eie=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class bd extends Ve{constructor(){super(bd.TEMPLATE)}init(e,t,n){this.allowDragging=e,this.params=t,this.eventType=n,this.primaryColsHeaderPanel.init(this.params);const i=this.params.suppressColumnFilter,o=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&i&&o&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new Ep(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)}onExpandAll(){this.primaryColsListPanel.doSetExpandedAll(!0)}onCollapseAll(){this.primaryColsListPanel.doSetExpandedAll(!1)}expandGroups(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)}collapseGroups(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)}setColumnLayout(e){this.primaryColsListPanel.setColumnLayout(e)}onFilterChanged(e){this.primaryColsListPanel.setFilterText(e.filterText)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}onSelectAll(){this.primaryColsListPanel.doSetSelectedAll(!0)}onUnselectAll(){this.primaryColsListPanel.doSetSelectedAll(!1)}onGroupExpanded(e){this.primaryColsHeaderPanel.setExpandState(e.state)}onSelectionChange(e){this.primaryColsHeaderPanel.setSelectionState(e.state)}}bd.TEMPLATE=`<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`;eie([ue("primaryColsHeaderPanel")],bd.prototype,"primaryColsHeaderPanel",void 0);eie([ue("primaryColsListPanel")],bd.prototype,"primaryColsListPanel",void 0);var tie=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Em extends Ve{constructor(){super(Em.TEMPLATE),this.initialised=!1,this.childDestroyFuncs=[]}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}init(e){const t={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(this.params=Object.assign(Object.assign(Object.assign({},t),e),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new fC),this.childDestroyFuncs.push(()=>this.destroyBean(this.pivotModePanel)),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new bd),this.childDestroyFuncs.push(()=>this.destroyBean(this.primaryColsPanel)),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new Qh(!1)),this.childDestroyFuncs.push(()=>this.destroyBean(this.rowGroupDropZonePanel)),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new Ig(!1)),this.childDestroyFuncs.push(()=>this.destroyBean(this.valuesDropZonePanel)),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new Xh(!1)),this.childDestroyFuncs.push(()=>this.destroyBean(this.pivotDropZonePanel)),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();const n=this.addManagedListener(this.eventService,D.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>{this.resetChildrenHeight(),this.setLastVisible()});this.childDestroyFuncs.push(()=>n())}this.initialised=!0}setPivotModeSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new fC),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(()=>this.destroyBean(this.pivotModePanel))),this.setLastVisible())}setRowGroupsSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new Qh(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())}setValuesSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new Ig(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())}setPivotSectionVisible(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new Xh(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(e=>{if(!e)return;const t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))})}setLastVisible(){const e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(o=>o.classList.remove("ag-last-column-drop"));const n=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),i=K.last(n);i&&i.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){const t=this.getGui().children;for(let n=0;n<t.length;n++){const i=t[n];i.style.removeProperty("height"),i.style.removeProperty("flex")}}isRowGroupingModuleLoaded(){return Be.__assertRegistered(_e.RowGroupingModule,"Row Grouping",this.context.getGridId())}expandColumnGroups(e){this.primaryColsPanel.expandGroups(e)}collapseColumnGroups(e){this.primaryColsPanel.collapseGroups(e)}setColumnLayout(e){this.primaryColsPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){this.childDestroyFuncs.forEach(e=>e()),this.childDestroyFuncs.length=0,K.clearElement(this.getGui())}refresh(){this.destroyChildren(),this.init(this.params)}destroy(){this.destroyChildren(),super.destroy()}}Em.TEMPLATE='<div class="ag-column-panel"></div>';tie([A("gridApi")],Em.prototype,"gridApi",void 0);tie([A("columnApi")],Em.prototype,"columnApi",void 0);var nie=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class bA extends Ve{constructor(){super('<div class="ag-tool-panel-horizontal-resize"></div>'),this.minWidth=100,this.maxWidth=null}setElementToResize(e){this.elementToResize=e}postConstruct(){const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.is("enableRtl"))}dispatchResizeEvent(e,t,n){const i={type:D.EVENT_TOOL_PANEL_SIZE_CHANGED,width:n,started:e,ended:t};this.eventService.dispatchEvent(i)}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(e){return this.onResizing(e,!0)}onResizing(e,t=!1){const n=this.inverted?-1:1;let i=Math.max(this.minWidth,Math.floor(this.startingWidth-e*n));this.maxWidth!=null&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width=`${i}px`,this.dispatchResizeEvent(!1,t,i)}setInverted(e){this.inverted=e}setMaxWidth(e){this.maxWidth=e}setMinWidth(e){e!=null?this.minWidth=e:this.minWidth=100}}nie([A("horizontalResizeService")],bA.prototype,"horizontalResizeService",void 0);nie([he],bA.prototype,"postConstruct",null);var RA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Tu extends Ve{constructor(e){super(),this.toolPanelDef=e}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){const e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id",`ag-${this.getCompId()}-button`)}createTemplate(){return`<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span ref ="eLabel" class="ag-side-button-label"></span>
                </button>
            </div>`}setLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.toolPanelDef,n=e(t.labelKey,t.labelDefault);this.eLabel.innerText=n}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",K.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))}onButtonPressed(){this.dispatchEvent({type:Tu.EVENT_TOGGLE_BUTTON_CLICKED})}setSelected(e){this.addOrRemoveCssClass("ag-selected",e),K.setAriaExpanded(this.eToggleButton,e)}getButtonElement(){return this.eToggleButton}}Tu.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked";RA([ue("eToggleButton")],Tu.prototype,"eToggleButton",void 0);RA([ue("eIconWrapper")],Tu.prototype,"eIconWrapper",void 0);RA([ue("eLabel")],Tu.prototype,"eLabel",void 0);RA([he],Tu.prototype,"postConstruct",null);var TA=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Pa extends Ve{constructor(){super(Pa.TEMPLATE),this.buttonComps=[]}postConstruct(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))}handleKeyDown(e){if(e.key!==Y.TAB||!e.shiftKey)return;const t=K.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(t,!0)&&e.preventDefault()}setActiveButton(e){this.buttonComps.forEach(t=>{t.setSelected(e===t.getToolPanelId())})}addButtonComp(e){const t=this.createBean(new Tu(e));return this.buttonComps.push(t),this.appendChild(t),t.addEventListener(Tu.EVENT_TOGGLE_BUTTON_CLICKED,()=>{this.dispatchEvent({type:Pa.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),t}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),K.clearElement(this.getGui())}}Pa.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked";Pa.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>';TA([A("focusService")],Pa.prototype,"focusService",void 0);TA([A("columnModel")],Pa.prototype,"columnModel",void 0);TA([he],Pa.prototype,"postConstruct",null);TA([Si],Pa.prototype,"clearButtons",null);class Qi{static parse(e){if(!e)return;if(e===!0)return{toolPanels:[Qi.DEFAULT_COLUMN_COMP,Qi.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof e=="string")return Qi.parse([e]);if(Array.isArray(e)){const n=[];return e.forEach(i=>{const o=Qi.DEFAULT_BY_KEY[i];if(!o){console.warn(`AG Grid: the key ${i} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(Qi.DEFAULT_BY_KEY).join(",")}`);return}n.push(o)}),n.length===0?void 0:{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:Qi.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}static parseComponents(e){const t=[];return e&&e.forEach(n=>{let i=null;if(typeof n=="string"){const o=Qi.DEFAULT_BY_KEY[n];if(!o){console.warn(`AG Grid: the key ${n} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(Qi.DEFAULT_BY_KEY).join(",")}`);return}i=o}else i=n;t.push(i)}),t}}Qi.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"};Qi.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"};Qi.DEFAULT_BY_KEY={columns:Qi.DEFAULT_COLUMN_COMP,filters:Qi.DEFAULT_FILTER_COMP};var rie=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class _m extends Ve{constructor(){super(_m.TEMPLATE)}setupResize(){const e=this.getGui(),t=this.resizeBar=this.createManagedBean(new bA);e.setAttribute("id",`ag-${this.getCompId()}`),t.setElementToResize(e),this.appendChild(t)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(e){const{id:t,minWidth:n,maxWidth:i,width:o}=e;this.toolPanelId=t,this.width=o;const s={},l=this.userComponentFactory.getToolPanelCompDetails(e,s).newAgStackInstance();if(l==null){console.warn(`AG Grid: error processing tool panel component ${t}. You need to specify 'toolPanel'`);return}l.then(this.setToolPanelComponent.bind(this)),n!=null&&this.resizeBar.setMinWidth(n),i!=null&&this.resizeBar.setMaxWidth(i)}setToolPanelComponent(e){this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(()=>{this.destroyBean(e)}),this.width&&(this.getGui().style.width=`${this.width}px`)}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(e){const t=this.gridOptionsService.is("enableRtl"),n=e==="left",i=t?n:!n;this.resizeBar.setInverted(i)}refresh(){this.toolPanelCompInstance.refresh()}}_m.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>';rie([A("userComponentFactory")],_m.prototype,"userComponentFactory",void 0);rie([he],_m.prototype,"setupResize",null);var sS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};class Uu extends Ve{constructor(){super(Uu.TEMPLATE),this.toolPanelWrappers=[]}postConstruct(){this.sideBarButtonsComp.addEventListener(Pa.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",()=>{this.clearDownUi(),this.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new vs(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))}onTabKeyDown(e){if(e.defaultPrevented)return;const{focusService:t,sideBarButtonsComp:n}=this,i=this.getGui(),o=n.getGui(),a=this.gridOptionsService.getDocument().activeElement,l=i.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),u=e.target;if(!l)return;if(o.contains(a)){t.focusInto(l,e.shiftKey)&&e.preventDefault();return}if(!e.shiftKey)return;let c=null;l.contains(a)?c=this.focusService.findNextFocusableElement(l,void 0,!0):t.isTargetUnderManagedComponent(l,u)&&e.shiftKey&&(c=this.focusService.findFocusableElementBeforeTabGuard(l,u)),c||(c=o.querySelector(".ag-selected button")),c&&(e.preventDefault(),c.focus())}handleKeyDown(e){const t=this.gridOptionsService.getDocument();if(!this.sideBarButtonsComp.getGui().contains(t.activeElement))return;const n=this.sideBarButtonsComp.getGui(),i=Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")),o=t.activeElement,s=i.findIndex(u=>u.contains(o));let a=null;switch(e.key){case Y.LEFT:case Y.UP:a=Math.max(0,s-1);break;case Y.RIGHT:case Y.DOWN:a=Math.min(s+1,i.length-1);break}if(a===null)return;const l=i[a].querySelector("button");l&&(l.focus(),e.preventDefault())}onToolPanelButtonClicked(e){const t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(t,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef(){this.setDisplayed(!1);const e=this.gridOptionsService.get("sideBar");if(this.sideBar=Qi.parse(e),this.sideBar&&this.sideBar.toolPanels){const t=this.sideBar.toolPanels;if(this.createToolPanelsAndSideButtons(t),!this.toolPanelWrappers.length)return;const n=!this.sideBar.hiddenByDefault;this.setDisplayed(n),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(e){e||(e="right");const t=e==="left",n=t?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",t),this.addOrRemoveCssClass("ag-side-bar-right",!t),this.toolPanelWrappers.forEach(i=>{i.setResizerSizerSide(n)}),this}createToolPanelsAndSideButtons(e){for(const t of e)this.createToolPanelAndSideButton(t)}validateDef(e){if(e.id==null)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if(e.toolPanel==="agColumnsToolPanel"&&!Be.__assertRegistered(_e.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId()))return!1;if(e.toolPanel==="agFiltersToolPanel"){if(!Be.__assertRegistered(_e.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId()))return!1;if(this.filterManager.isAdvancedFilterEnabled())return K.doOnce(()=>{console.warn("AG Grid: Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.")},"advancedFilterToolPanel"),!1}return!0}createToolPanelAndSideButton(e){if(!this.validateDef(e))return;const t=this.sideBarButtonsComp.addButtonComp(e),n=this.getContext().createBean(new _m);n.setToolPanelDef(e),n.setDisplayed(!1);const i=n.getGui();this.appendChild(i),this.toolPanelWrappers.push(n),K.setAriaControls(t.getButtonElement(),i)}refresh(){this.toolPanelWrappers.forEach(e=>e.refresh())}openToolPanel(e,t="api"){const n=this.openedItem();if(n===e)return;this.toolPanelWrappers.forEach(s=>{const a=e===s.getToolPanelId();s.setDisplayed(a)});const i=this.openedItem();n!==i&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,n??void 0,t))}getToolPanelInstance(e){const t=this.toolPanelWrappers.filter(n=>n.getToolPanelId()===e)[0];if(!t){console.warn(`AG Grid: unable to lookup Tool Panel as invalid key supplied: ${e}`);return}return t.getToolPanelInstance()}raiseToolPanelVisibleEvent(e,t,n){const i=!!e&&!!t;if(t){const o={type:D.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:t,visible:!1,switchingToolPanel:i};this.eventService.dispatchEvent(o)}if(e){const o={type:D.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:e,visible:!0,switchingToolPanel:i};this.eventService.dispatchEvent(o)}}close(e="api"){this.openToolPanel(void 0,e)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let e=null;return this.toolPanelWrappers.forEach(t=>{t.isDisplayed()&&(e=t.getToolPanelId())}),e}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(e=>{K.removeFromParent(e.getGui()),this.destroyBean(e)}),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}}Uu.TEMPLATE=`<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`;sS([A("gridApi")],Uu.prototype,"gridApi",void 0);sS([A("focusService")],Uu.prototype,"focusService",void 0);sS([A("filterManager")],Uu.prototype,"filterManager",void 0);sS([ue("sideBarButtons")],Uu.prototype,"sideBarButtonsComp",void 0);sS([he],Uu.prototype,"postConstruct",null);var iie=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let cP=class extends ae{constructor(){super(...arguments),this.isColGroupDef=e=>e&&typeof e.children<"u",this.getId=e=>this.isColGroupDef(e)?e.groupId:e.colId}createColumnTree(e){const t=[],n=(o,s)=>{if(this.isColGroupDef(o)){const a=o,l=typeof a.groupId<"u"?a.groupId:a.headerName,u=new yn(a,l,!1,s),c=[];return a.children.forEach(d=>{const h=n(d,s+1);h&&c.push(h)}),u.setChildren(c),u}else{const a=o,l=a.colId?a.colId:a.field,u=this.columnModel.getPrimaryColumn(l);return u||t.push(a),u}},i=[];return e.forEach(o=>{const s=n(o,0);s&&i.push(s)}),t.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",t),i}syncLayoutWithGrid(e){const t=this.getLeafPathTrees(),n=this.mergeLeafPathTrees(t);e(n)}getLeafPathTrees(){const e=(i,o)=>{let s;if(i instanceof yn)if(i.isPadding())s=o;else{const l=Object.assign({},i.getColGroupDef());l.groupId=i.getGroupId(),l.children=[o],s=l}else{const l=Object.assign({},i.getColDef());l.colId=i.getColId(),s=l}const a=i.getOriginalParent();return a?e(a,s):s};return this.columnModel.getAllGridColumns().filter(i=>{const o=i.getColDef();return i.isPrimary()&&!o.showRowGroup}).map(i=>e(i,i.getColDef()))}mergeLeafPathTrees(e){const t=(o,s)=>this.isColGroupDef(o)&&this.isColGroupDef(s)&&this.getId(o)===this.getId(s),n=(o,s)=>{if(!this.isColGroupDef(s))return o;const a=o,l=s;return l.children&&l.groupId&&this.addChildrenToGroup(a,l.groupId,l.children[0])||l.children.forEach(u=>n(a,u)),a},i=[];for(let o=1;o<=e.length;o++){const s=e[o-1],a=e[o];t(s,a)?e[o]=n(s,a):i.push(s)}return i}addChildrenToGroup(e,t,n){const i=(a,l)=>{const u=a.children.map(this.getId),c=K.includes(u,this.getId(l)),d=K.last(a.children),h=d&&this.getId(d)!==this.getId(l);return c&&h};if(!this.isColGroupDef(e))return!0;const o=e,s=n;if(i(o,s))return o.children.push(s),!0;if(o.groupId===t){const a=o.children.map(this.getId);if(!K.includes(a,this.getId(s)))return o.children.push(s),!0}return o.children.forEach(a=>this.addChildrenToGroup(a,t,n)),!1}};iie([A("columnModel")],cP.prototype,"columnModel",void 0);cP=iie([Re("toolPanelColDefService")],cP);const VUe="30.2.1",oie={version:VUe,moduleName:_e.SideBarModule,beans:[cP],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:bA},{componentName:"AgSideBar",componentClass:Uu},{componentName:"AgSideBarButtons",componentClass:Pa}],dependantModules:[nS]};var aS=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let Jh=class{selectAllChildren(e,t,n){const i=this.extractAllLeafColumns(e);this.setAllColumns(i,t,n)}setColumn(e,t,n){this.setAllColumns([e],t,n)}setAllColumns(e,t,n){this.columnModel.isPivotMode()?this.setAllPivot(e,t,n):this.setAllVisible(e,t,n)}extractAllLeafColumns(e){const t=[],n=i=>{i.forEach(o=>{o.isPassesFilter()&&(o.isGroup()?n(o.getChildren()):t.push(o.getColumn()))})};return n(e),t}setAllVisible(e,t,n){const i=[];e.forEach(o=>{o.getColDef().lockVisible||o.isVisible()!=t&&i.push({colId:o.getId(),hide:!t})}),i.length>0&&this.columnModel.applyColumnState({state:i},n)}setAllPivot(e,t,n){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(e,t):this.setAllPivotActive(e,t,n)}setAllPivotPassive(e,t){const n=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice();let s=!1,a=!1,l=!1;const d=t?h=>{h.isAnyFunctionActive()||(h.isAllowValue()?(i.push(h),a=!0):h.isAllowRowGroup()?(o.push(h),s=!0):h.isAllowPivot()&&(n.push(h),l=!0))}:h=>{h.isAnyFunctionActive()&&(n.indexOf(h)>=0&&(K.removeFromArray(n,h),s=!0),i.indexOf(h)>=0&&(K.removeFromArray(i,h),a=!0),o.indexOf(h)>=0&&(K.removeFromArray(o,h),l=!0))};if(e.forEach(d),s){const h={type:D.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n};this.eventService.dispatchEvent(h)}if(l){const h={type:D.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}if(a){const h={type:D.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}}setAllPivotActive(e,t,n){const i=[],a=t?l=>{if(!l.isAnyFunctionActive())if(l.isAllowValue()){const u=typeof l.getAggFunc()=="string"?l.getAggFunc():this.aggFuncService.getDefaultAggFunc(l);i.push({colId:l.getId(),aggFunc:u})}else l.isAllowRowGroup()?i.push({colId:l.getId(),rowGroup:!0}):l.isAllowPivot()&&i.push({colId:l.getId(),pivot:!0})}:l=>{(l.isPivotActive()||l.isRowGroupActive()||l.isValueActive())&&i.push({colId:l.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};e.forEach(a),i.length>0&&this.columnModel.applyColumnState({state:i},n)}updateColumns(e){const{columns:t,visibleState:n,pivotState:i,eventType:o}=e,s=t.map(a=>{const l=a.getColId();if(this.columnModel.isPivotMode()){const u=i==null?void 0:i[l];return{colId:l,pivot:u==null?void 0:u.pivot,rowGroup:u==null?void 0:u.rowGroup,aggFunc:u==null?void 0:u.aggFunc}}else return{colId:l,hide:!(n!=null&&n[l])}});this.columnModel.applyColumnState({state:s},o)}createPivotState(e){return{pivot:e.isPivotActive(),rowGroup:e.isRowGroupActive(),aggFunc:e.isValueActive()?e.getAggFunc():void 0}}};aS([A("aggFuncService")],Jh.prototype,"aggFuncService",void 0);aS([A("columnModel")],Jh.prototype,"columnModel",void 0);aS([A("gridOptionsService")],Jh.prototype,"gridOptionsService",void 0);aS([A("eventService")],Jh.prototype,"eventService",void 0);Jh=aS([Re("modelItemUtils")],Jh);const HUe="30.2.1",kUe={version:HUe,moduleName:_e.ColumnsToolPanelModule,beans:[Jh],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:Ns},{componentName:"AgPrimaryColsList",componentClass:_d},{componentName:"AgPrimaryCols",componentClass:bd}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:Em}],dependantModules:[nS,GUe,oie]};var No=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let ud=class extends ae{hideActiveMenu(){this.destroyBean(this.activeMenu)}showMenuAfterMouseEvent(e,t,n){this.showMenu(e,i=>{const o=i.getGui();this.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:o}),n&&i.showTab(n)},"columnMenu",n,void 0,t.target)}showMenuAfterButtonClick(e,t,n,i,o){let s=-1,a="left";this.gridOptionsService.is("enableRtl")&&(s=1,a="right"),this.showMenu(e,l=>{const u=l.getGui();this.popupService.positionPopupByComponent({type:n,column:e,eventSource:t,ePopup:u,alignSide:a,nudgeX:9*s,nudgeY:-23,position:"under",keepWithinBounds:!0}),i&&l.showTab(i)},n,i,o,t)}showMenu(e,t,n,i,o,s){const{menu:a,eMenuGui:l,currentHeaderPosition:u,currentColumnIndex:c,anchorToElement:d}=this.getMenuParams(e,o,s),h=[];h.push(this.getClosedCallback(e,a,u,c,s));const p=this.localeService.getLocaleTextFunc();this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:g=>{h.forEach(v=>v(g))},afterGuiAttached:g=>a.afterGuiAttached(Object.assign({},{container:n},g)),positionCallback:i?()=>t(a):void 0,ariaLabel:p("ariaLabelColumnMenu","Column Menu")}),i||(a.showTabBasedOnPreviousSelection(),t(a));const f=this.popupService.setPopupPositionRelatedToElement(l,d);f&&this.addStopAnchoring(f,e,h),a.addEventListener(ht.EVENT_TAB_SELECTED,g=>{this.lastSelectedTab=g.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=a,a.addEventListener(ae.EVENT_DESTROYED,()=>{this.activeMenu===a&&(this.activeMenu=null)})}addStopAnchoring(e,t,n){e.then(i=>{t.addEventListener("leftChanged",i),t.addEventListener("visibleChanged",i),n.push(()=>{t.removeEventListener("leftChanged",i),t.removeEventListener("visibleChanged",i)})})}getClosedCallback(e,t,n,i,o){return s=>{if(this.destroyBean(t),e.setMenuVisible(!1,"contextMenu"),!(s instanceof KeyboardEvent)||!o)return;if(this.columnModel.getAllDisplayedColumns().some(u=>u===e)&&K.isVisible(o)){const u=this.focusService.findTabbableParent(o);u&&(e&&this.headerNavigationService.scrollToColumn(e),u.focus())}else if(n&&i!==-1){const u=this.columnModel.getAllDisplayedColumns(),c=u[i]||K.last(u);c&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:n.headerRowIndex,column:c}})}}}getMenuParams(e,t,n){const i=this.createBean(new ht(e,this.lastSelectedTab,t));return{menu:i,eMenuGui:i.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),anchorToElement:n||this.ctrlsService.getGridBodyCtrl().getGui()}}isMenuEnabled(e){return e.getMenuTabs(ht.TABS_DEFAULT).length>0}};No([A("popupService")],ud.prototype,"popupService",void 0);No([A("focusService")],ud.prototype,"focusService",void 0);No([A("headerNavigationService")],ud.prototype,"headerNavigationService",void 0);No([A("ctrlsService")],ud.prototype,"ctrlsService",void 0);No([A("columnModel")],ud.prototype,"columnModel",void 0);ud=No([Re("menuFactory")],ud);class ht extends ae{constructor(e,t,n){super(),this.tabFactories={},this.includeChecks={},this.column=e,this.initialSelection=t,this.tabFactories[ht.TAB_GENERAL]=this.createMainPanel.bind(this),this.tabFactories[ht.TAB_FILTER]=this.createFilterPanel.bind(this),this.tabFactories[ht.TAB_COLUMNS]=this.createColumnsPanel.bind(this),this.includeChecks[ht.TAB_GENERAL]=()=>!0,this.includeChecks[ht.TAB_FILTER]=()=>this.filterManager.isFilterAllowed(e),this.includeChecks[ht.TAB_COLUMNS]=()=>!0,this.restrictTo=n}init(){const e=this.getTabsToCreate().map(t=>this.createTab(t));this.tabbedLayout=new jw({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(()=>this.destroyBean(this.tabbedLayout))}getTabsToCreate(){return this.restrictTo?this.restrictTo:this.column.getMenuTabs(ht.TABS_DEFAULT).filter(e=>this.isValidMenuTabItem(e)).filter(e=>this.isNotSuppressed(e)).filter(e=>this.isModuleLoaded(e))}isModuleLoaded(e){return e===ht.TAB_COLUMNS?Be.__isRegistered(_e.ColumnsToolPanelModule,this.context.getGridId()):!0}isValidMenuTabItem(e){let t=!0,n=ht.TABS_DEFAULT;return this.restrictTo!=null&&(t=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),t=t&&ht.TABS_DEFAULT.indexOf(e)>-1,t||console.warn(`AG Grid: Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of [${n}]`),t}isNotSuppressed(e){return this.includeChecks[e]()}createTab(e){return this.tabFactories[e]()}showTabBasedOnPreviousSelection(){this.showTab(this.initialSelection)}showTab(e){this.tabItemColumns&&e===ht.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===ht.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===ht.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()}onTabItemClicked(e){let t=null;switch(e.item){case this.tabItemColumns:t=ht.TAB_COLUMNS;break;case this.tabItemFilter:t=ht.TAB_FILTER;break;case this.tabItemGeneral:t=ht.TAB_GENERAL;break}t&&this.activateTab(t)}activateTab(e){const t={type:ht.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(t)}getMenuItems(){const e=this.getDefaultMenuOptions();let t;const n=this.gridOptionsService.getCallback("getMainMenuItems");return n?t=n({column:this.column,defaultItems:e}):t=e,K.removeRepeatsFromArray(t,ht.MENU_ITEM_SEPARATOR),t}getDefaultMenuOptions(){const e=[],t=!this.column.getColDef().lockPinned,n=this.columnModel.getRowGroupColumns().length,i=n>0,o=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),u=this.columnModel.isPivotMode(),c=this.rowModel.getType()==="clientSide",d=this.gridOptionsService.is("treeData"),h=l&&i&&s||!l;return t&&e.push("pinSubMenu"),h&&e.push("valueAggSubMenu"),(t||h)&&e.push(ht.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(ht.MENU_ITEM_SEPARATOR),this.column.getColDef().showRowGroup&&e.push("rowUnGroup"),a&&this.column.isPrimary()&&(o?e.push("rowUnGroup"):e.push("rowGroup")),e.push(ht.MENU_ITEM_SEPARATOR),e.push("resetColumns"),c&&(d||n>(u?1:0))&&(e.push("expandAll"),e.push("contractAll")),e}createMainPanel(){this.mainMenuList=this.createManagedBean(new hm);const e=this.getMenuItems(),t=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(t),this.mainMenuList.addEventListener(So.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:K.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:ht.TAB_GENERAL.replace("MenuTab",""),bodyPromise:zn.resolve(this.mainMenuList.getGui()),name:ht.TAB_GENERAL},this.tabItemGeneral}onHidePopup(e){let t;e&&e.event&&e.event instanceof KeyboardEvent&&(t=e.event),this.hidePopupFunc(t&&{keyboardEvent:t});const n=this.focusService.getFocusedCell(),i=this.gridOptionsService.getDocument();if(i.activeElement===i.body&&n){const{rowIndex:o,rowPinned:s,column:a}=n;this.focusService.setFocusedCell({rowIndex:o,column:a,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}createFilterPanel(){const e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!e)throw new Error("AG Grid - Unable to instantiate filter");const t=i=>{e!=null&&e.filterPromise&&e.filterPromise.then(o=>{o&&o.afterGuiAttached&&o.afterGuiAttached(i)})},n=()=>{var i;return(i=e==null?void 0:e.filterPromise)===null||i===void 0?void 0:i.then(o=>{var s;return(s=o==null?void 0:o.afterGuiDetached)===null||s===void 0?void 0:s.call(o)})};return this.tabItemFilter={title:K.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:ht.TAB_FILTER.replace("MenuTab",""),bodyPromise:e==null?void 0:e.guiPromise,afterAttachedCallback:t,afterDetachedCallback:n,name:ht.TAB_FILTER},this.tabItemFilter}createColumnsPanel(){const e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");const t=this.createManagedBean(new bd);let n=this.column.getColDef().columnsMenuParams;n||(n={});const{contractColumnSelection:i,suppressColumnExpandAll:o,suppressColumnFilter:s,suppressColumnSelectAll:a,suppressSyncLayoutWithGrid:l,columnLayout:u}=n;t.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!i,suppressColumnExpandAll:!!o,suppressColumnFilter:!!s,suppressColumnSelectAll:!!a,suppressSyncLayoutWithGrid:!!u||!!l,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),u&&t.setColumnLayout(u);const c=t.getGui();return c.classList.add("ag-menu-column-select"),e.appendChild(c),this.tabItemColumns={title:K.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:ht.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:zn.resolve(e),name:ht.TAB_COLUMNS},this.tabItemColumns}afterGuiAttached(e){const{container:t,hidePopup:n}=e;this.tabbedLayout.setAfterAttachedParams({container:t,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))}getGui(){return this.tabbedLayout.getGui()}}ht.EVENT_TAB_SELECTED="tabSelected";ht.TAB_FILTER="filterMenuTab";ht.TAB_GENERAL="generalMenuTab";ht.TAB_COLUMNS="columnsMenuTab";ht.TABS_DEFAULT=[ht.TAB_GENERAL,ht.TAB_FILTER,ht.TAB_COLUMNS];ht.MENU_ITEM_SEPARATOR="separator";No([A("columnModel")],ht.prototype,"columnModel",void 0);No([A("filterManager")],ht.prototype,"filterManager",void 0);No([A("gridApi")],ht.prototype,"gridApi",void 0);No([A("columnApi")],ht.prototype,"columnApi",void 0);No([A("menuItemMapper")],ht.prototype,"menuItemMapper",void 0);No([A("rowModel")],ht.prototype,"rowModel",void 0);No([A("focusService")],ht.prototype,"focusService",void 0);No([he],ht.prototype,"init",null);var zu=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};const $Ue="ag-menu",d5="ag-context-menu-open";let Zh=class extends ae{hideActiveMenu(){this.destroyBean(this.activeMenu)}getMenuItems(e,t,n){const i=[];if(K.exists(e)&&Be.__isRegistered(_e.ClipboardModule,this.context.getGridId())&&t&&(this.gridOptionsService.is("suppressCutToClipboard")||i.push("cut"),i.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.is("enableCharts")&&Be.__isRegistered(_e.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&i.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&i.push("chartRange")),K.exists(e)){const s=!Be.__isRegistered(_e.CsvExportModule,this.context.getGridId()),a=!Be.__isRegistered(_e.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.is("suppressExcelExport")||a,u=this.gridOptionsService.is("suppressCsvExport")||s;!K.isIOSUserAgent()&&(!l||!u)&&i.push("export")}const o=this.gridOptionsService.getCallback("getContextMenuItems");if(o){const s={node:e,column:t,value:n,defaultItems:i.length?i:void 0};return o(s)}return i}onContextMenu(e,t,n,i,o,s){if(!this.gridOptionsService.is("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsService.is("suppressContextMenu")))return;const a=e||t.touches[0];this.showMenu(n,i,o,a,s)&&(e||t).preventDefault()}blockMiddleClickScrollsIfNeeded(e){const{gridOptionsService:t}=this,{which:n}=e;t.is("suppressMiddleClickScrolls")&&n===2&&e.preventDefault()}showMenu(e,t,n,i,o){const s=this.getMenuItems(e,t,n),a=this.ctrlsService.getGridBodyCtrl().getGui();if(s===void 0||K.missingOrEmpty(s))return!1;const l=new lS(s);this.createBean(l);const u=l.getGui(),c={column:t,rowNode:e,type:"contextMenu",mouseEvent:i,ePopup:u,nudgeY:1},d=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:()=>{a.classList.remove(d5),this.destroyBean(l)},click:i,positionCallback:()=>{const p=this.gridOptionsService.is("enableRtl");this.popupService.positionPopupUnderMouseEvent(Object.assign(Object.assign({},c),{nudgeX:p?(u.offsetWidth+1)*-1:1}))},anchorToElement:o,ariaLabel:d("ariaLabelContextMenu","Context Menu")});return h&&(a.classList.add(d5),l.afterGuiAttached({container:"contextMenu",hidePopup:h.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(ae.EVENT_DESTROYED,()=>{this.activeMenu===l&&(this.activeMenu=null)}),h&&l.addEventListener(So.EVENT_MENU_ITEM_SELECTED,h.hideFunc),!0}};zu([A("popupService")],Zh.prototype,"popupService",void 0);zu([xt("rangeService")],Zh.prototype,"rangeService",void 0);zu([A("ctrlsService")],Zh.prototype,"ctrlsService",void 0);zu([A("columnModel")],Zh.prototype,"columnModel",void 0);Zh=zu([Re("contextMenuFactory")],Zh);class lS extends Ve{constructor(e){super(`<div class="${$Ue}" role="presentation"></div>`),this.menuList=null,this.focusedCell=null,this.menuItems=e}addMenuItems(){const e=this.createManagedBean(new hm),t=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener(So.EVENT_MENU_ITEM_SELECTED,n=>this.dispatchEvent(n))}afterGuiAttached(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())}restoreFocusedCell(){const e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){const{rowIndex:t,rowPinned:n,column:i}=this.focusedCell,o=this.gridOptionsService.getDocument();o.activeElement===o.body&&this.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}}destroy(){this.restoreFocusedCell(),super.destroy()}}zu([A("menuItemMapper")],lS.prototype,"menuItemMapper",void 0);zu([A("focusService")],lS.prototype,"focusService",void 0);zu([A("cellPositionUtils")],lS.prototype,"cellPositionUtils",void 0);zu([he],lS.prototype,"addMenuItems",null);var Rd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};let xl=class extends ae{mapWithStockItems(e,t){if(!e)return[];const n=[];return e.forEach(i=>{let o;if(typeof i=="string"?o=this.getStockMenuItem(i,t):o=Object.assign({},i),!o)return;const s=o,{subMenu:a}=s;a&&a instanceof Array&&(s.subMenu=this.mapWithStockItems(a,t)),o!=null&&n.push(o)}),n}getStockMenuItem(e,t){var n,i;const o=this.localeService.getLocaleTextFunc(),s=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:K.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:()=>this.columnModel.setColumnPinned(t,"left","contextMenu"),checked:!!t&&t.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:()=>this.columnModel.setColumnPinned(t,"right","contextMenu"),checked:!!t&&t.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:()=>this.columnModel.setColumnPinned(t,null,"contextMenu"),checked:!!t&&!t.isPinned()};case"valueAggSubMenu":return Be.__assertRegistered(_e.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())?!(t!=null&&t.isPrimary())&&!(t!=null&&t.getColDef().pivotValueColumn)?null:{name:o("valueAggregation","Value Aggregation"),icon:K.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:()=>this.columnModel.autoSizeColumn(t,s,"contextMenu")};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:()=>this.columnModel.autoSizeAllColumns(s,"contextMenu")};case"rowGroup":return{name:o("groupBy","Group by")+" "+K.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),disabled:(t==null?void 0:t.isRowGroupActive())||!(t!=null&&t.getColDef().enableRowGroup),action:()=>this.columnModel.addRowGroupColumn(t,"contextMenu"),icon:K.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":const a=K.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),l=t==null?void 0:t.getColDef().showRowGroup;if(l===!0)return{name:o("ungroupAll","Un-Group All"),disabled:!(t!=null&&t.getColDef().showRowGroup),action:()=>this.columnModel.setRowGroupColumns([],"contextMenu"),icon:a};if(typeof l=="string"){const h=(n=this.columnModel.getSourceColumnsForGroupColumn(t))===null||n===void 0?void 0:n[0],p=h!=null?K.escapeString(this.columnModel.getDisplayNameForColumn(h,"header")):l;return{name:o("ungroupBy","Un-Group by")+" "+p,disabled:!(t!=null&&t.getColDef().showRowGroup),action:()=>this.columnModel.removeRowGroupColumn(l,"contextMenu"),icon:a}}return{name:o("ungroupBy","Un-Group by")+" "+K.escapeString(this.columnModel.getDisplayNameForColumn(t,"header")),disabled:!(t!=null&&t.isRowGroupActive())||!(t!=null&&t.getColDef().enableRowGroup),action:()=>this.columnModel.removeRowGroupColumn(t,"contextMenu"),icon:a};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:()=>this.columnModel.resetColumnState("contextMenu")};case"expandAll":return{name:o("expandAll","Expand All Row Groups"),action:()=>this.gridApi.expandAll()};case"contractAll":return{name:o("collapseAll","Collapse All Row Groups"),action:()=>this.gridApi.collapseAll()};case"copy":return Be.__assertRegistered(_e.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:K.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:()=>this.clipboardService.copyToClipboard()}:null;case"copyWithHeaders":return Be.__assertRegistered(_e.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:o("copyWithHeaders","Copy with Headers"),icon:K.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:()=>this.clipboardService.copyToClipboard({includeHeaders:!0})}:null;case"copyWithGroupHeaders":return Be.__assertRegistered(_e.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:K.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:()=>this.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}:null;case"cut":if(Be.__assertRegistered(_e.ClipboardModule,"Cut from Menu",this.context.getGridId())){const h=this.focusService.getFocusedCell(),p=h?this.rowPositionUtils.getRowNode(h):null,f=p?h==null?void 0:h.column.isCellEditable(p):!1;return{name:o("cut","Cut"),shortcut:o("ctrlX","Ctrl+X"),icon:K.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!f||this.gridOptionsService.is("suppressCutToClipboard"),action:()=>this.clipboardService.cutToClipboard(void 0,"contextMenu")}}else return null;case"paste":return Be.__assertRegistered(_e.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:K.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:()=>this.clipboardService.pasteFromClipboard()}:null;case"export":const u=[],c=Be.__isRegistered(_e.CsvExportModule,this.context.getGridId()),d=Be.__isRegistered(_e.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.is("suppressCsvExport")&&c&&u.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&d&&u.push("excelExport"),{name:o("export","Export"),subMenu:u,icon:K.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:K.createIconNoSpan("csvExport",this.gridOptionsService,null),action:()=>this.gridApi.exportDataAsCsv({})};case"excelExport":return{name:o("excelExport","Excel Export"),icon:K.createIconNoSpan("excelExport",this.gridOptionsService,null),action:()=>this.gridApi.exportDataAsExcel()};case"separator":return"separator";case"pivotChart":case"chartRange":return(i=this.chartMenuItemMapper.getChartItems(e))!==null&&i!==void 0?i:null;default:return console.warn(`AG Grid: unknown menu item type ${e}`),null}}createAggregationSubMenu(e){const t=this.localeService.getLocaleTextFunc();let n;if(e.isPrimary())n=e;else{const o=e.getColDef().pivotValueColumn;n=K.exists(o)?o:void 0}const i=[];if(n){const o=n.isValueActive(),s=this.aggFuncService.getFuncNames(n);i.push({name:t("noAggregation","None"),action:()=>{this.columnModel.removeValueColumn(n,"contextMenu"),this.columnModel.setColumnAggFunc(n,void 0,"contextMenu")},checked:!o}),s.forEach(a=>{i.push({name:t(a,K.capitalise(a)),action:()=>{this.columnModel.setColumnAggFunc(n,a,"contextMenu"),this.columnModel.addValueColumn(n,"contextMenu")},checked:o&&n.getAggFunc()===a})})}return i}};Rd([A("columnModel")],xl.prototype,"columnModel",void 0);Rd([A("gridApi")],xl.prototype,"gridApi",void 0);Rd([xt("clipboardService")],xl.prototype,"clipboardService",void 0);Rd([xt("aggFuncService")],xl.prototype,"aggFuncService",void 0);Rd([A("focusService")],xl.prototype,"focusService",void 0);Rd([A("rowPositionUtils")],xl.prototype,"rowPositionUtils",void 0);Rd([A("chartMenuItemMapper")],xl.prototype,"chartMenuItemMapper",void 0);xl=Rd([Re("menuItemMapper")],xl);const BUe="30.2.1";var sie=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},NL;let dP=NL=class extends ae{getChartItems(e){var t,n;if(!this.chartService){Be.__assertRegistered(_e.GridChartsModule,`the Context Menu key "${e}"`,this.context.getGridId());return}const i=e==="pivotChart"?new jUe(this.gridOptionsService,this.chartService,this.localeService):new WUe(this.gridOptionsService,this.chartService,this.localeService);let o=i.getMenuItem();const s=(n=(t=this.gridOptionsService.get("chartToolPanelsDef"))===null||t===void 0?void 0:t.settingsPanel)===null||n===void 0?void 0:n.chartGroupsDef;return s&&(o=NL.filterAndOrderChartMenu(o,s,i.getConfigLookup())),this.cleanInternals(o)}cleanInternals(e){if(!e)return e;const t=n=>{var i;return n==null||delete n._key,(i=n==null?void 0:n.subMenu)===null||i===void 0||i.forEach(o=>t(o)),n};return t(e)}static buildLookup(e){let t={};const n=i=>{t[i._key]=i,i.subMenu&&i.subMenu.forEach(o=>n(o))};return n(e),t}static filterAndOrderChartMenu(e,t,n){var i;const o=this.buildLookup(e);let s=Object.assign(Object.assign({},e),{subMenu:[]});if(Object.entries(t).forEach(([a,l])=>{var u,c;const d=n[a];if(d==null){K.doOnce(()=>console.warn(`AG Grid - invalid chartGroupsDef config '${a}'`),`invalid_chartGroupsDef${a}`);return}const h=o[d._key];if(h)if(h.subMenu){const p=l.map(f=>{const g=d[f];if(g==null){K.doOnce(()=>console.warn(`AG Grid - invalid chartGroupsDef config '${a}.${f}'`),`invalid_chartGroupsDef${f}_${a}`);return}return o[g]}).filter(f=>f!==void 0);p.length>0&&(h.subMenu=p,(u=s.subMenu)===null||u===void 0||u.push(h))}else(c=s.subMenu)===null||c===void 0||c.push(h)}),((i=s.subMenu)===null||i===void 0?void 0:i.length)!=0)return s}};sie([xt("chartService")],dP.prototype,"chartService",void 0);dP=NL=sie([Re("chartMenuItemMapper")],dP);class jUe{constructor(e,t,n){this.gridOptionsService=e,this.chartService=t,this.localeService=n}getMenuItem(){const e=this.localeService.getLocaleTextFunc(),t=(n,i,o,s)=>({name:e(n,i),action:()=>this.chartService.createPivotChart({chartType:o}),_key:s});return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),t("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),t("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),t("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),t("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[t("pie","Pie&lrm;","pie","pivotPie"),t("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},t("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter&lrm;","scatter","pivotScatter"),t("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[t("area","Area&lrm;","area","pivotArea"),t("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),t("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},t("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),t("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:K.createIconNoSpan("chart",this.gridOptionsService,void 0)}}getConfigLookup(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}}}class WUe{constructor(e,t,n){this.gridOptionsService=e,this.chartService=t,this.localeService=n}getMenuItem(){const e=this.localeService.getLocaleTextFunc(),t=(n,i,o,s)=>({name:e(n,i),action:()=>this.chartService.createChartFromCurrentRange(o),_key:s});return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[t("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),t("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),t("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[t("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),t("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),t("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[t("pie","Pie&lrm;","pie","rangePie"),t("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},t("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[t("scatter","Scatter&lrm;","scatter","rangeScatter"),t("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[t("area","Area&lrm;","area","rangeArea"),t("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),t("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},t("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[t("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),t("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:K.createIconNoSpan("chart",this.gridOptionsService,void 0)}}getConfigLookup(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}}}const UUe={version:BUe,moduleName:_e.MenuModule,beans:[ud,Zh,xl,dP],dependantModules:[nS]};var aie={},PA={},uS={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v30.2.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function El(r){return r==null||r===""?null:r}function se(r,e){return e===void 0&&(e=!1),r!=null&&(r!==""||e)}function rt(r){return!se(r)}function is(r){return r==null||r.length===0}function mC(r){return r!=null&&typeof r.toString=="function"?r.toString():null}function Is(r){if(r!==void 0){if(r===null||r==="")return null;if(typeof r=="number")return isNaN(r)?void 0:r;var e=parseInt(r,10);return isNaN(e)?void 0:e}}function sl(r){if(r!==void 0)return r===null||r===""?!1:typeof r=="boolean"?r:/true/i.test(r)}function zUe(r){if(!(r==null||r===""))return r}function KUe(r,e){return r==null&&e==null?!0:r==null&&e!=null||r!=null&&e==null?!1:r===e}function YUe(r,e){var t=r?JSON.stringify(r):null,n=e?JSON.stringify(e):null;return t===n}function qUe(r,e,t){t===void 0&&(t=!1);var n=r==null,i=e==null;if(r&&r.toNumber&&(r=r.toNumber()),e&&e.toNumber&&(e=e.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof r!="string"||!t)return o(r,e);try{return r.localeCompare(e)}catch{return o(r,e)}}function Th(r){if(r instanceof Set||r instanceof Map){var e=[];return r.forEach(function(t){return e.push(t)}),e}return Object.values(r)}var QUe=Object.freeze({__proto__:null,makeNull:El,exists:se,missing:rt,missingOrEmpty:is,toStringOrNull:mC,attrToNumber:Is,attrToBoolean:sl,attrToString:zUe,referenceCompare:KUe,jsonEquals:YUe,defaultComparator:qUe,values:Th}),lie=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},r.prototype.getUniqueKey=function(e,t){e=mC(e);for(var n=0;;){var i=void 0;if(e?(i=e,n!==0&&(i+="_"+n)):t?(i=t,n!==0&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}},r}(),XUe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JUe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function Kn(r,e){var t,n;if(r!=null){if(Array.isArray(r)){for(var i=0;i<r.length;i++)e(i.toString(),r[i]);return}try{for(var o=XUe(Object.entries(r)),s=o.next();!s.done;s=o.next()){var a=JUe(s.value,2),l=a[0],u=a[1];e(l,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}function B1(r){for(var e={},t=Object.keys(r),n=0;n<t.length;n++){var i=t[n],o=r[i];e[i]=o}return e}function ZUe(r){return JSON.parse(JSON.stringify(r))}function hP(r,e){if(r){var t=r,n={};return Object.keys(t).forEach(function(i){if(!(e&&e.indexOf(i)>=0)){var o=t[i],s=pP(o)&&o.constructor===Object;s?n[i]=hP(o):n[i]=o}}),n}}function uie(r,e){return r[e]}function cie(r,e,t){r[e]=t}function e2e(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];t.forEach(function(i){return die(r,e,i)})}function die(r,e,t,n){var i=uie(r,t);i!==void 0&&cie(e,t,n?n(i):i)}function hie(r){var e={};return r.filter(function(t){return t!=null}).forEach(function(t){Object.keys(t).forEach(function(n){return e[n]=null})}),Object.keys(e)}function Il(r){if(!r)return[];var e=Object;if(typeof e.values=="function")return e.values(r);var t=[];for(var n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&t.push(r[n]);return t}function ls(r,e,t,n){t===void 0&&(t=!0),n===void 0&&(n=!1),se(e)&&Kn(e,function(i,o){var s=r[i];if(s!==o){if(n){var a=s==null&&o!=null;if(a){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(s={},r[i]=s)}}pP(o)&&pP(s)&&!Array.isArray(s)?ls(s,o,t,n):(t||o!==void 0)&&(r[i]=o)}})}function t2e(r){return rt(r)||Object.keys(r).length===0}function n2e(r,e,t){if(r==null)return t;for(var n=e.split("."),i=r;n.length>1;)if(i=i[n.shift()],i==null)return t;var o=i[n[0]];return o??t}function r2e(r,e,t){if(r!=null){var n=e.split("."),i=r;n.forEach(function(o,s){i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=t}}function Yf(r,e,t){if(!(!e||!r)){if(!t)return r[e];for(var n=e.split("."),i=r,o=0;o<n.length;o++){if(i==null)return;i=i[n[o]]}return i}}function pie(r,e){Object.keys(r).forEach(function(i){var o=r[i];typeof o=="object"&&(r[i]=void 0)});var t=Object.getPrototypeOf(r),n={};Object.keys(t).forEach(function(i){var o=t[i];if(typeof o=="function"){var s=function(){console.warn("AG Grid: "+e+" function "+i+`() cannot be called as the grid has been destroyed.
                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't
                     be keeping the API reference, your application has a memory leak! Remove the API reference
                     when the grid is destroyed.`)};n[i]={value:s,writable:!0}}}),Object.defineProperties(r,n)}function pP(r){return typeof r=="object"&&r!==null}var i2e=Object.freeze({__proto__:null,iterateObject:Kn,cloneObject:B1,deepCloneObject:ZUe,deepCloneDefinition:hP,getProperty:uie,setProperty:cie,copyPropertiesIfPresent:e2e,copyPropertyIfPresent:die,getAllKeysInObjects:hie,getAllValuesInObject:Il,mergeDeep:ls,missingOrEmptyObject:t2e,get:n2e,set:r2e,getValueUsingField:Yf,removeAllReferences:pie,isNonNullObject:pP}),h5={};function Dt(r,e){h5[e]||(r(),h5[e]=!0)}function OA(r){if(r.name)return r.name;var e=/function\s+([^\(]+)/.exec(r.toString());return e&&e.length===2?e[1].trim():null}function DA(r){return!!(r&&r.constructor&&r.call&&r.apply)}function fie(r){gie(r,400)}var LI=[],NI=!1;function GL(r){LI.push(r),!NI&&(NI=!0,window.setTimeout(function(){var e=LI.slice();LI.length=0,NI=!1,e.forEach(function(t){return t()})},0))}function gie(r,e){e===void 0&&(e=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(t){return t()})},e)}function da(r,e){var t;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;window.clearTimeout(t),t=window.setTimeout(function(){r.apply(o,n)},e)}}function VL(r,e){var t=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s=new Date().getTime();s-t<e||(t=s,r.apply(o,n))}}function j1(r,e,t,n){t===void 0&&(t=100);var i=new Date().getTime(),o=null,s=!1,a=function(){var l=new Date().getTime()-i>t;(r()||l)&&(e(),s=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};a(),s||(o=window.setInterval(a,10))}function o2e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return r.reduce(function(n,i){return i(n)},t)}}function mie(r){r&&r()}var s2e=function(){},a2e=Object.freeze({__proto__:null,doOnce:Dt,getFunctionName:OA,isFunction:DA,executeInAWhile:fie,executeNextVMTurn:GL,executeAfter:gie,debounce:da,throttle:VL,waitUntil:j1,compose:o2e,callIfPresent:mie,noop:s2e}),Ae;(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue"})(Ae||(Ae={}));var ov=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},p5=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},nt=function(){function r(){}return r.register=function(e){r.__register(e,!0,void 0)},r.registerModules=function(e){r.__registerModules(e,!0,void 0)},r.__register=function(e,t,n){r.runVersionChecks(e),n!==void 0?(r.areGridScopedModules=!0,r.gridModulesMap[n]===void 0&&(r.gridModulesMap[n]={}),r.gridModulesMap[n][e.moduleName]=e):r.globalModulesMap[e.moduleName]=e,r.setModuleBased(t)},r.__unRegisterGridModules=function(e){delete r.gridModulesMap[e]},r.__registerModules=function(e,t,n){r.setModuleBased(t),e&&e.forEach(function(i){return r.__register(i,t,n)})},r.isValidModuleVersion=function(e){var t=ov(e.version.split(".")||[],2),n=t[0],i=t[1],o=ov(r.currentModuleVersion.split(".")||[],2),s=o[0],a=o[1];return n===s&&i===a},r.runVersionChecks=function(e){if(r.currentModuleVersion||(r.currentModuleVersion=e.version),e.version?r.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is version "+e.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is incompatible. Please update all modules to the same version."),e.validate){var t=e.validate();if(!t.isValid){var n=t;console.error("AG Grid: "+n.message)}}},r.setModuleBased=function(e){r.moduleBased===void 0?r.moduleBased=e:r.moduleBased!==e&&Dt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(e,t,n){var i;if(this.__isRegistered(e,n))return!0;var o=t+e,s;if(r.isBundled)s="AG Grid: unable to use "+t+` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(r.moduleBased||r.moduleBased===void 0){var a=(i=Object.entries(Ae).find(function(l){var u=ov(l,2);u[0];var c=u[1];return c===e}))===null||i===void 0?void 0:i[0];s="AG Grid: unable to use "+t+" as the "+a+" is not registered"+(r.areGridScopedModules?" for gridId: "+n:"")+`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `+a+" } from '"+e+`';
    
    ModuleRegistry.registerModules([ `+a+` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else s="AG Grid: unable to use "+t+` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`;return Dt(function(){console.warn(s)},o),!1},r.__isRegistered=function(e,t){var n;return!!r.globalModulesMap[e]||!!(!((n=r.gridModulesMap[t])===null||n===void 0)&&n[e])},r.__getRegisteredModules=function(e){return p5(p5([],ov(Th(r.globalModulesMap))),ov(Th(r.gridModulesMap[e]||{})))},r.__getGridRegisteredModules=function(e){var t;return Th((t=r.gridModulesMap[e])!==null&&t!==void 0?t:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),l2e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},u2e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},vie=function(){function r(e,t){if(this.beanWrappers={},this.destroyed=!1,!(!e||!e.beanClasses)){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return Th(this.beanWrappers).map(function(e){return e.beanInstance})},r.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},r.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),se(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},r.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Kn(this.beanWrappers,function(n,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=e.getBeansForParameters(o,i.bean.name),a=new(i.bean.bind.apply(i.bean,u2e([null],l2e(s))));i.beanInstance=a});var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},r.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var n=void 0;e.prototype.constructor?n=OA(e.prototype.constructor):n=""+e,console.error("Context item "+n+" is not a bean");return}var i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i},r.prototype.autoWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(i,o){var s=i.agClassAttributes;s&&s.forEach(function(a){var l=t.lookupBeanInstance(o,a.beanName,a.optional);n[a.attributeName]=l})})})},r.prototype.methodWireBeans=function(e){var t=this;e.forEach(function(n){t.forEachMetaDataInHierarchy(n,function(i,o){Kn(i.autowireMethods,function(s,a){if(s!=="agConstructor"){var l=t.getBeansForParameters(a,o);n[s].apply(n,l)}})})})},r.prototype.forEachMetaDataInHierarchy=function(e,t){for(var n=Object.getPrototypeOf(e);n!=null;){var i=n.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,s=this.getBeanName(i);t(o,s)}n=Object.getPrototypeOf(n)}},r.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),n=t.substring(9,t.indexOf("("));return n},r.prototype.getBeansForParameters=function(e,t){var n=this,i=[];return e&&Kn(e,function(o,s){var a=n.lookupBeanInstance(t,s);i[Number(o)]=a}),i},r.prototype.lookupBeanInstance=function(e,t,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference "+t+" is used after the grid is destroyed!"),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var i=this.beanWrappers[t];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},r.prototype.callLifeCycleMethods=function(e,t){var n=this;e.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,t)})},r.prototype.callLifeCycleMethodsOnBean=function(e,t,n){var i={};this.forEachMetaDataInHierarchy(e,function(s){var a=s[t];a&&a.forEach(function(l){l!=n&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(s){return e[s]()})},r.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,nt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},r.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach(function(n){t.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var i=n;typeof i.destroy=="function"&&i.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function HL(r,e,t){var n=ep(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(e)}function ge(r,e,t){var n=ep(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(e)}function Ur(r,e,t){var n=ep(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(e)}function De(r){return function(e){var t=ep(e);t.beanName=r}}function G(r){return function(e,t,n){yie(e,r,!1,e,t)}}function jt(r){return function(e,t,n){yie(e,r,!0,e,t)}}function yie(r,e,t,n,i,o){if(e===null){console.error("AG Grid: Autowired name should not be null");return}var s=ep(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:e,optional:t})}function pi(r){return function(e,t,n){var i=typeof e=="function"?e:e.constructor,o;if(typeof n=="number"){var s=void 0;t?(o=ep(i),s=t):(o=ep(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function ep(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var f5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sv=function(r,e){return function(t,n){e(t,n,r)}},Ku=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(e,t,n,i,o){if(i===void 0&&(i=null),o===void 0&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=t,i){var s=t.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)},r.prototype.getListeners=function(e,t,n){var i=t?this.allAsyncListeners:this.allSyncListeners,o=i.get(e);return!o&&n&&(o=new Set,i.set(e,o)),o},r.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},r.prototype.addEventListener=function(e,t,n){n===void 0&&(n=!1),this.getListeners(e,n,!0).add(t)},r.prototype.removeEventListener=function(e,t,n){n===void 0&&(n=!1);var i=this.getListeners(e,n,!1);if(i&&(i.delete(t),i.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(e)}},r.prototype.addGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},r.prototype.removeGlobalListener=function(e,t){t===void 0&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},r.prototype.dispatchEvent=function(e){var t=e;if(this.gridOptionsService){var n=this.gridOptionsService,i=n.api,o=n.columnApi,s=n.context;t.api=i,t.columnApi=o,t.context=s}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},r.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},r.prototype.dispatchToListeners=function(e,t){var n=this,i=e.type;if(t&&"event"in e){var o=e.event;o instanceof Event&&(e.eventPath=o.composedPath())}var s=function(u){return u.forEach(function(c){t?n.dispatchAsync(function(){return c(e)}):c(e)})},a=new Set(this.getListeners(i,t,!1));a.size>0&&s(a);var l=new Set(t?this.globalAsyncListeners:this.globalSyncListeners);l.forEach(function(u){t?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(i,function(){return u(i,e)},!0)}):n.frameworkOverrides.dispatchEvent(i,function(){return u(i,e)},!0)})},r.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(function(t){return t()})},f5([sv(0,pi("loggerFactory")),sv(1,pi("gridOptionsService")),sv(2,pi("frameworkOverrides")),sv(3,pi("globalEventListener")),sv(4,pi("globalSyncEventListener"))],r.prototype,"setBeans",null),r=f5([De("eventService")],r),r}(),SE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},g5=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},m5=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},c2e=0;function Cie(){return c2e++}var pn=function(){function r(e,t,n,i){this.instanceId=Cie(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Ku,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.setState(e)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);var t=Is(e.sortIndex),n=Is(e.initialSortIndex);t!==void 0?t!==null&&(this.sortIndex=t):n!==null&&(this.sortIndex=n);var i=sl(e.hide),o=sl(e.initialHide);i!==void 0?this.visible=!i:this.visible=!o,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var s=Is(e.flex),a=Is(e.initialFlex);s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)},r.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(e){this.parent=e},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},r.prototype.initDotNotation=function(){var e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=se(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=se(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},r.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},r.prototype.initTooltip=function(){this.tooltipEnabled=se(this.colDef.tooltipField)||se(this.colDef.tooltipValueGetter)||se(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(e){e===void 0&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(e){if(rt(this.colDef)||rt(this.colDef.showRowGroup))return!1;var t=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===e;return t||n},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter;return e},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.validate=function(){var e=this.colDef;function t(u,c,d){Dt(function(){Dt(function(){return console.warn(u)},c)},c)}var n=this.gridOptionsService.isRowModelType("clientSide");if(n&&!nt.__isRegistered(Ae.RowGroupingModule,this.gridOptionsService.getGridId())){var i=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"],o=i.filter(function(u){return se(e[u])});o.length>0&&nt.__assertRegistered(Ae.RowGroupingModule,o.map(function(u){return"colDef."+u}).join(", "),this.gridOptionsService.getGridId())}if((this.colDef.cellEditor==="agRichSelect"||this.colDef.cellEditor==="agRichSelectCellEditor")&&nt.__assertRegistered(Ae.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")){var s=["rowGroup","rowGroupIndex","pivot","pivotIndex"],o=s.filter(function(c){return se(e[c])});o.length>0&&t("AG Grid: "+o.join()+" is not possible when doing tree data, your column definition should not have "+o.join(),"TreeDataCannotRowGroup")}if(se(e.menuTabs))if(Array.isArray(e.menuTabs)){var a=["filterMenuTab"],l=["columnsMenuTab","generalMenuTab"],o=l.filter(function(c){return e.menuTabs.includes(c)});o.length>0&&nt.__assertRegistered(Ae.MenuModule,"menuTab(s): "+o.map(function(c){return"'"+c+"'"}).join(),this.gridOptionsService.getGridId()),e.menuTabs.forEach(function(c){!l.includes(c)&&!a.includes(c)&&t("AG Grid: '"+c+"' is not valid for 'colDef.menuTabs'. Valid values are: "+m5(m5([],g5(a)),g5(l)).map(function(d){return"'"+d+"'"}).join()+".","wrongValue_menuTabs_"+c)})}else t("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof e.menuTabs,"wrongType_menuTabs");se(e.columnsMenuParams)&&nt.__assertRegistered(Ae.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),se(e.columnsMenuParams)&&nt.__assertRegistered(Ae.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),se(this.colDef.width)&&typeof this.colDef.width!="number"&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),se(e.columnGroupShow)&&e.columnGroupShow!=="closed"&&e.columnGroupShow!=="open"&&t("AG Grid: '"+e.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},r.prototype.isSuppressNavigable=function(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var t=this.createColumnFunctionCallbackParams(e),n=this.colDef.suppressNavigable;return n(t)}return!1},r.prototype.isCellEditable=function(e){return e.group&&!this.gridOptionsService.is("enableGroupEdit")?!1:this.isColumnFunc(e,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!sl(this.colDef.suppressFillHandle)},r.prototype.isAutoHeight=function(){return!!sl(this.colDef.autoHeight)},r.prototype.isAutoHeaderHeight=function(){return!!sl(this.colDef.autoHeaderHeight)},r.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},r.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!sl(this.colDef.resizable)},r.prototype.isColumnFunc=function(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){var n=this.createColumnFunctionCallbackParams(e),i=t;return i(n)}return!1},r.prototype.setMoving=function(e,t){t===void 0&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},r.prototype.createColumnEvent=function(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(e,t){t===void 0&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(e,t){t===void 0&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortAscending=function(){return this.sort==="asc"},r.prototype.isSortDescending=function(){return this.sort==="desc"},r.prototype.isSortNone=function(){return rt(this.sort)},r.prototype.isSorting=function(){return se(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(e,t){t===void 0&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(e,t,n){t===void 0&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var i=this.createColumnEvent("filterChanged",t);n&&ls(i,n),this.eventService.dispatchEvent(i)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(e,t){t===void 0&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},r.prototype.setLastLeftPinned=function(e,t){t===void 0&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},r.prototype.isPinnedLeft=function(){return this.pinned==="left"},r.prototype.isPinnedRight=function(){return this.pinned==="right"},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(e,t){t===void 0&&(t="api");var n=e===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var e=this.getColDef();return!e.suppressSpanHeaderHeight&&!e.autoHeaderHeight},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},r.prototype.createBaseColDefParams=function(e){var t={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return t},r.prototype.getColSpan=function(e){if(rt(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)},r.prototype.getRowSpan=function(e){if(rt(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)},r.prototype.setActualWidth=function(e,t,n){t===void 0&&(t="api"),n===void 0&&(n=!1),this.minWidth!=null&&(e=Math.max(e,this.minWidth)),this.maxWidth!=null&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},r.prototype.isGreaterThanMax=function(e){return this.maxWidth!=null?e>this.maxWidth:!1},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(e){e===void 0&&(e="api"),se(this.minWidth)&&this.setActualWidth(this.minWidth,e)},r.prototype.setRowGroupActive=function(e,t){t===void 0&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(e,t){t===void 0&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(e,t){t===void 0&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},r.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},r.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},r.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return t==null&&(t=e),t},r.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:e})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",SE([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),SE([G("columnUtils")],r.prototype,"columnUtils",void 0),SE([G("columnHoverService")],r.prototype,"columnHoverService",void 0),SE([ge],r.prototype,"initialise",null),r}(),d2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},or=function(){function r(e,t,n,i){this.localEventService=new Ku,this.expandable=!1,this.instanceId=Cie(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=n,this.level=i}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(e){this.originalParent=e},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return this.children?this.children.some(function(e){return e.isVisible()}):!1},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(e){this.expanded=e===void 0?!1:e;var t={type:r.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(t)},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(e){this.children=e},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.addLeafColumns=function(e){this.children&&this.children.forEach(function(t){t instanceof pn?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},r.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",t)}),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",t)}),e.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,t=!1,n=!1,i=this.findChildrenRemovingPadding(),o=0,s=i.length;o<s;o++){var a=i[o];if(a.isVisible()){var l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}}var u=e&&t&&n;if(this.expandable!==u){this.expandable=u;var c={type:r.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},r.prototype.findChildrenRemovingPadding=function(){var e=[],t=function(n){n.forEach(function(i){var o=i instanceof r&&i.isPadding();o?t(i.children):e.push(i)})};return t(this.children),e},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",d2e([Ur],r.prototype,"destroy",null),r}(),h2e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function wie(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++){var n=r[t];if(se(n))return n}return null}function p2e(r){return r!=null&&r.length>0}function gn(r){if(!(!r||!r.length))return r[r.length-1]}function Lc(r,e,t){return r==null&&e==null?!0:r!=null&&e!=null&&r.length===e.length&&r.every(function(n,i){return t?t(n,e[i]):e[i]===n})}function f2e(r,e){return Lc(r,e)}function Sie(r){return r.sort(function(e,t){return e-t})}function g2e(r,e){if(r)for(var t=r.length-2;t>=0;t--){var n=r[t]===e,i=r[t+1]===e;n&&i&&r.splice(t+1,1)}}function W1(r,e){var t=r.indexOf(e);t>=0&&(r[t]=r[r.length-1],r.pop())}function es(r,e){var t=r.indexOf(e);t>=0&&r.splice(t,1)}function Eie(r,e){for(var t=0;t<e.length;t++)W1(r,e[t])}function _ie(r,e){for(var t=0;t<e.length;t++)es(r,e[t])}function vC(r,e,t){r.splice(t,0,e)}function m2e(r,e,t){if(!(r==null||e==null))for(var n=e.length-1;n>=0;n--){var i=e[n];vC(r,i,t)}}function kL(r,e,t){_ie(r,e),e.slice().reverse().forEach(function(n){return vC(r,n,t)})}function Gs(r,e){return r.indexOf(e)>-1}function bie(r){return[].concat.apply([],r)}function $L(r,e){e==null||r==null||e.forEach(function(t){return r.push(t)})}function v2e(r){return r.map(mC)}function y2e(r,e){if(r!=null)for(var t=r.length-1;t>=0;t--)e(r[t],t)}var C2e=Object.freeze({__proto__:null,firstExistingValue:wie,existsAndNotEmpty:p2e,last:gn,areEqual:Lc,shallowCompare:f2e,sortNumerically:Sie,removeRepeatsFromArray:g2e,removeFromUnorderedArray:W1,removeFromArray:es,removeAllFromUnorderedArray:Eie,removeAllFromArray:_ie,insertIntoArray:vC,insertArrayIntoArray:m2e,moveInArray:kL,includes:Gs,flatten:bie,pushAll:$L,toStrings:v2e,forEachReverse:y2e}),Rie="__ag_Grid_Stop_Propagation",w2e=["touchstart","touchend","touchmove","touchcancel","scroll"],GI={};function Fl(r){r[Rie]=!0}function ga(r){return r[Rie]===!0}var U1=function(){var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},e=function(t){if(typeof GI[t]=="boolean")return GI[t];var n=document.createElement(r[t]||"div");return t="on"+t,GI[t]=t in n};return e}();function fP(r,e,t){for(var n=e;n;){var i=r.getDomData(n,t);if(i)return i;n=n.parentElement}return null}function gP(r,e){return!e||!r?!1:Pie(e).indexOf(r)>=0}function Tie(r){for(var e=[],t=r.target;t;)e.push(t),t=t.parentElement;return e}function Pie(r){var e=r;return e.path?e.path:e.composedPath?e.composedPath():Tie(e)}function Oie(r,e,t,n){var i=Gs(w2e,t),o=i?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(e,t,n,o)}var S2e=Object.freeze({__proto__:null,stopPropagationForAgGrid:Fl,isStopPropagationForAgGrid:ga,isEventSupported:U1,getCtrlForEventTarget:fP,isElementInEventPath:gP,createEventPath:Tie,getEventPath:Pie,addSafePassiveEventListener:Oie}),kd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fe=function(){function r(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!e.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(e){return e()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new Ku),this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},r.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout(function(){return t.dispatchEvent(e)},0)},r.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},r.prototype.addManagedListener=function(e,t,n){var i=this;if(!this.destroyed){e instanceof HTMLElement?Oie(this.getFrameworkOverrides(),e,t,n):e.addEventListener(t,n);var o=function(){return e.removeEventListener(t,n),i.destroyFunctions=i.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(e,t){var n=this;this.gridOptionsService.addEventListener(e,t);var i=function(){return n.gridOptionsService.removeEventListener(e,t),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==i}),null};this.destroyFunctions.push(i)},r.prototype.addManagedPropertyListener=function(e,t){this.destroyed||this.setupGridOptionListener(e,t)},r.prototype.addManagedPropertyListeners=function(e,t){var n=this;if(!this.destroyed){var i=e.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=s.changeSet.id}var a={type:"gridPropertyChanged",changeSet:s.changeSet};t(a)};e.forEach(function(s){return n.setupGridOptionListener(s,o)})}},r.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},r.prototype.createManagedBean=function(e,t){var n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n},r.prototype.createBean=function(e,t,n){return(t||this.getContext()).createBean(e,n)},r.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},r.prototype.destroyBeans=function(e,t){var n=this;return e&&e.forEach(function(i){return n.destroyBean(i,t)}),[]},r.EVENT_DESTROYED="destroyed",kd([G("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),kd([G("context")],r.prototype,"context",void 0),kd([G("eventService")],r.prototype,"eventService",void 0),kd([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),kd([G("localeService")],r.prototype,"localeService",void 0),kd([G("environment")],r.prototype,"environment",void 0),kd([Ur],r.prototype,"destroy",null),r}(),E2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_2e=function(r,e){return function(t,n){e(t,n,r)}},Die=function(r){E2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,n,i){var o=new lie,s=this.extractExistingTreeData(i),a=s.existingCols,l=s.existingGroups,u=s.existingColKeys;o.addExistingKeys(u);var c=this.recursivelyCreateColumns(t,0,n,a,o,l),d=this.findMaxDept(c,0);this.logger.log("Number of levels for grouped columns is "+d);var h=this.balanceColumnTree(c,0,d,o),p=function(f,g){f instanceof or&&f.setupExpandable(),f.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,p),{columnTree:h,treeDept:d}},e.prototype.extractExistingTreeData=function(t){var n=[],i=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){if(s instanceof or){var a=s;i.push(a)}else{var l=s;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:i,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,n){var i=this;return t.map(function(o){return i.createAutoGroupTreeItem(n,o)})},e.prototype.createAutoGroupTreeItem=function(t,n){for(var i=this.findDepth(t),o=n,s=i-1;s>=0;s--){var a=new or(null,"FAKE_PATH_"+n.getId()+"}_"+s,!0,s);this.createBean(a),a.setChildren([o]),o.setOriginalParent(a),o=a}return i===0&&n.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var n=0,i=t;i&&i[0]&&i[0]instanceof or;)n++,i=i[0].getChildren();return n},e.prototype.balanceColumnTree=function(t,n,i,o){for(var s=[],a=0;a<t.length;a++){var l=t[a];if(l instanceof or){var u=l,c=this.balanceColumnTree(u.getChildren(),n+1,i,o);u.setChildren(c),s.push(u)}else{for(var d=void 0,h=void 0,p=i-1;p>=n;p--){var f=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),v=new or(g,f,!0,n);this.createBean(v),h&&h.setChildren([v]),h=v,d||(d=h)}if(d&&h){s.push(d);var y=t.some(function(C){return C instanceof or});if(y){h.setChildren([l]);continue}else{h.setChildren(t);break}}s.push(l)}}return s},e.prototype.findMaxDept=function(t,n){for(var i=n,o=0;o<t.length;o++){var s=t[o];if(s instanceof or){var a=s,l=this.findMaxDept(a.getChildren(),n+1);i<l&&(i=l)}}return i},e.prototype.recursivelyCreateColumns=function(t,n,i,o,s,a){if(!t)return[];for(var l=new Array(t.length),u=0;u<l.length;u++){var c=t[u];this.isColumnGroup(c)?l[u]=this.createColumnGroup(i,c,n,o,s,a):l[u]=this.createColumn(i,c,o,s)}return l},e.prototype.createColumnGroup=function(t,n,i,o,s,a){var l=this.createMergedColGroupDef(n),u=s.getUniqueKey(l.groupId||null,null),c=new or(l,u,!1,i);this.createBean(c);var d=this.findExistingGroup(n,a);d&&a.splice(d.idx,1);var h=d==null?void 0:d.group;h&&c.setExpanded(h.isExpanded());var p=this.recursivelyCreateColumns(l.children,i+1,t,o,s,a);return c.setChildren(p),c},e.prototype.createMergedColGroupDef=function(t){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,t),n},e.prototype.createColumn=function(t,n,i,o){var s=this.findExistingColumn(n,i);s&&(i==null||i.splice(s.idx,1));var a=s==null?void 0:s.column;if(a){var u=this.addColumnDefaultAndTypes(n,a.getColId());a.setColDef(u,n),this.applyColumnState(a,u)}else{var l=o.getUniqueKey(n.colId,n.field),u=this.addColumnDefaultAndTypes(n,l);a=new pn(u,n,l,t),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},e.prototype.applyColumnState=function(t,n){var i=Is(n.flex);i!==void 0&&t.setFlex(i);var o=t.getFlex()<=0;if(o){var s=Is(n.width);if(s!=null)t.setActualWidth(s);else{var a=t.getActualWidth();t.setActualWidth(a)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?t.setSort(n.sort):t.setSort(void 0));var l=Is(n.sortIndex);l!==void 0&&t.setSortIndex(l);var u=sl(n.hide);u!==void 0&&t.setVisible(!u),n.pinned!==void 0&&t.setPinned(n.pinned)},e.prototype.findExistingColumn=function(t,n){if(n)for(var i=0;i<n.length;i++){var o=n[i].getUserProvidedColDef();if(o){var s=t.colId!=null;if(s){if(n[i].getId()===t.colId)return{idx:i,column:n[i]};continue}var a=t.field!=null;if(a){if(o.field===t.field)return{idx:i,column:n[i]};continue}if(o===t)return{idx:i,column:n[i]}}}},e.prototype.findExistingGroup=function(t,n){var i=t.groupId!=null;if(i)for(var o=0;o<n.length;o++){var s=n[o],a=s.getColGroupDef();if(a&&s.getId()===t.groupId)return{idx:o,group:s}}},e.prototype.addColumnDefaultAndTypes=function(t,n){var i={},o=this.gridOptionsService.get("defaultColDef");ls(i,o,!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(i,t,n);s&&this.assignColumnTypes(s,i),ls(i,t,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&a&&l&&ls(i,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},e.prototype.assignColumnTypes=function(t,n){if(t.length){var i=Object.assign({},h2e),o=this.gridOptionsService.get("columnTypes")||{};Kn(o,function(s,a){s in i?console.warn("AG Grid: the column type '"+s+"' is a default column type and cannot be overridden."):i[s]=a}),t.forEach(function(s){var a=i[s.trim()];a?ls(n,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},e.prototype.isColumnGroup=function(t){return t.children!==void 0},EE([G("columnUtils")],e.prototype,"columnUtils",void 0),EE([G("dataTypeService")],e.prototype,"dataTypeService",void 0),EE([_2e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),e=EE([De("columnFactory")],e),e}(fe),b2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qr=function(){function r(e,t,n,i){this.displayedChildren=[],this.localEventService=new Ku,this.groupId=t,this.partId=n,this.providedColumnGroup=e,this.pinned=i}return r.createUniqueId=function(e,t){return e+"_"+t},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(e){this.parent=e},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},r.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(function(t){return t.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof r&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=gn(this.displayedChildren),t=e.getLeft();this.setLeft(t)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(e){return{type:e}},r.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(e){var t=!1;return this.children.forEach(function(n){e===n&&(t=!0),n instanceof r&&n.isChildInThisGroupDeepSearch(e)&&(t=!0)}),t},r.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach(function(t){e+=t.getActualWidth()}),e},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach(function(t){t.isResizable()&&(e=!0)}),e},r.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach(function(t){e+=t.getMinWidth()||0}),e},r.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},r.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},r.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach(function(t){t instanceof pn?e.push(t):t instanceof r&&t.addDisplayedLeafColumns(e)})},r.prototype.addLeafColumns=function(e){this.children.forEach(function(t){t instanceof pn?e.push(t):t instanceof r&&t.addLeafColumns(e)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()},r.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var t=this;t!=null&&t.isPadding();)t=t.getParent();var n=t?t.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof r&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var s=i.getColumnGroupShow();switch(s){case"open":t.providedColumnGroup.isExpanded()&&e.displayedChildren.push(i);break;case"closed":t.providedColumnGroup.isExpanded()||e.displayedChildren.push(i);break;default:e.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",b2e([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),H=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_CHANGED="rowDataChanged",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_KEYBOARD_FOCUS="keyboardFocus",r.EVENT_MOUSE_FOCUS="mouseFocus",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r}(),z1=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(e){var t=this.existingIds[e],n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n},r}(),R2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tp="ag-Grid-AutoColumn",T2e=function(r){R2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createAutoGroupColumns=function(t){var n=this,i=[],o=this.gridOptionsService.is("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?t.forEach(function(a,l){i.push(n.createOneAutoGroupColumn(a,l))}):i.push(this.createOneAutoGroupColumn()),i},e.prototype.updateAutoGroupColumns=function(t){var n=this;t.forEach(function(i,o){return n.updateOneAutoGroupColumn(i,o)})},e.prototype.createOneAutoGroupColumn=function(t,n){var i;t?i=tp+"-"+t.getId():i=tp;var o=this.createAutoGroupColDef(i,t,n);o.colId=i;var s=new pn(o,null,i,!0);return this.context.createBean(s),s},e.prototype.updateOneAutoGroupColumn=function(t,n){var i=t.getColDef(),o=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,s=o!=null?this.columnModel.getPrimaryColumn(o):void 0,a=this.createAutoGroupColDef(t.getId(),s??void 0,n);t.setColDef(a,null),this.columnFactory.applyColumnState(t,a)},e.prototype.createAutoGroupColDef=function(t,n,i){var o=this.createBaseColDef(n),s=this.gridOptionsService.get("autoGroupColumnDef");if(ls(o,s),o=this.columnFactory.addColumnDefaultAndTypes(o,t),!this.gridOptionsService.is("treeData")){var a=rt(o.field)&&rt(o.valueGetter)&&rt(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";a&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var n=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},s=n&&(n.cellRenderer||n.cellRendererSelector);if(s||(o.cellRenderer="agGroupCellRenderer"),t){var a=t.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),o.showRowGroup=t.getColId()}else o.showRowGroup=!0;return o},VI([G("columnModel")],e.prototype,"columnModel",void 0),VI([G("columnFactory")],e.prototype,"columnFactory",void 0),e=VI([De("autoGroupColService")],e),e}(fe),P2e=/[&<>"']/g,O2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function D2e(r){var e=String.fromCharCode;function t(d){var h=[];if(!d)return[];for(var p=d.length,f=0,g,v;f<p;)g=d.charCodeAt(f++),g>=55296&&g<=56319&&f<p?(v=d.charCodeAt(f++),(v&64512)==56320?h.push(((g&1023)<<10)+(v&1023)+65536):(h.push(g),f--)):h.push(g);return h}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,h){return e(d>>h&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var h=d.toString(16).toUpperCase(),p=h.padStart(4,"0");return"_x"+p+"_"}if(!(d&4294967168))return e(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=e(d>>18&7|240),f+=i(d,12),f+=i(d,6)):(n(d),f=e(d>>12&15|224),f+=i(d,6)):f=e(d>>6&31|192),f+=e(d&63|128),f}for(var s=t(r),a=s.length,l=-1,u,c="";++l<a;)u=s[l],c+=o(u);return c}function A2e(r){return r[0].toUpperCase()+r.substr(1).toLowerCase()}function Ir(r,e){if(r==null)return null;var t=r.toString().toString();return e?t:t.replace(P2e,function(n){return O2e[n]})}function Aie(r){if(!r||r==null)return null;var e=/([a-z])([A-Z])/g,t=/([A-Z]+)([A-Z])([a-z])/g,n=r.replace(e,"$1 $2").replace(t,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function xie(r){return r.replace(/[A-Z]/g,function(e){return"-"+e.toLocaleLowerCase()})}var x2e=Object.freeze({__proto__:null,utf8_encode:D2e,capitalise:A2e,escapeString:Ir,camelCaseToHumanText:Aie,camelCaseToHyphenated:xie});function Oc(r){var e=new Map;return r.forEach(function(t){return e.set(t[0],t[1])}),e}function I2e(r,e){var t=new Map;return r.forEach(function(n){return t.set(e(n),n)}),t}function F2e(r){var e=[];return r.forEach(function(t,n){return e.push(n)}),e}var M2e=Object.freeze({__proto__:null,convertToMap:Oc,mapById:I2e,keys:F2e}),Iie=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),tc=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},nc=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Qa=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=nc(nc([],tc(r.FUNCTIONAL_PROPERTIES)),tc(r.CALLBACK_PROPERTIES)),r.ALL_PROPERTIES=nc(nc(nc(nc(nc(nc([],tc(r.ARRAY_PROPERTIES)),tc(r.OBJECT_PROPERTIES)),tc(r.STRING_PROPERTIES)),tc(r.NUMBER_PROPERTIES)),tc(r.FUNCTION_PROPERTIES)),tc(r.BOOLEAN_PROPERTIES)),r}(),BL=function(){return BL=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},BL.apply(this,arguments)},av=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},lv=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},by=function(){function r(){}return r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},r.getCoercionLookup=function(){var e={};return lv(lv(lv(lv(lv([],av(r.ARRAY_PROPERTIES)),av(r.OBJECT_PROPERTIES)),av(r.STRING_PROPERTIES)),av(r.FUNCTION_PROPERTIES)),av(r.EVENT_CALLBACKS)).forEach(function(t){return e[t]="none"}),r.BOOLEAN_PROPERTIES.forEach(function(t){return e[t]="boolean"}),r.NUMBER_PROPERTIES.forEach(function(t){return e[t]="number"}),e},r.getValue=function(e,t){var n=r.coercionLookup[e];if(n){var i=t;switch(n){case"number":{i=r.toNumber(t);break}case"boolean":{i=r.toBoolean(t);break}case"none":{e==="groupAggFiltering"&&typeof t!="function"&&(i=r.toBoolean(t));break}}return i}},r.getGridOptionKeys=function(e,t){return Object.keys(t?r.coercionLookup:e)},r.copyAttributesToGridOptions=function(e,t,n){n===void 0&&(n=!1),typeof e!="object"&&(e={});var i=e,o=r.getGridOptionKeys(t,n);return o.forEach(function(s){var a=t[s];if(typeof a<"u"){var l=r.getValue(s,a);l!==void 0&&(i[s]=l)}}),e},r.processOnChange=function(e,t){var n=this;if(!(!e||Object.keys(e).length===0)){this.changeSetId++;var i=BL({},e);i.columnTypes&&(t.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(t.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(t.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(t.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs);var o=Object.keys(i).map(function(l){var u=l,c=r.getValue(u,i[u].currentValue),d=t.__setPropertyOnly(u,c);return{gridKey:u,coercedValue:c,isChanged:d}}).filter(function(l){return l.isChanged}),s=o.map(function(l){return l.gridKey});o.forEach(function(l){return t.__updateProperty(l.gridKey,l.coercedValue,l.isChanged,{id:n.changeSetId,properties:s})});var a={type:H.EVENT_COMPONENT_STATE_CHANGED};Kn(e,function(l,u){a[l]=u}),t.dispatchEvent(a)}},r.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},r.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string")return Number(e)},r.EVENTS=Th(H),r.EXCLUDED_INTERNAL_EVENTS=[H.EVENT_SCROLLBAR_WIDTH_CHANGED,H.EVENT_CHECKBOX_CHANGED,H.EVENT_HEIGHT_SCALE_CHANGED,H.EVENT_BODY_HEIGHT_CHANGED,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,H.EVENT_SCROLL_VISIBILITY_CHANGED,H.EVENT_COLUMN_HOVER_CHANGED,H.EVENT_FLASH_CELLS,H.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,H.EVENT_DISPLAYED_ROWS_CHANGED,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,H.EVENT_POPUP_TO_FRONT,H.EVENT_KEYBOARD_FOCUS,H.EVENT_MOUSE_FOCUS,H.EVENT_STORE_UPDATED,H.EVENT_COLUMN_PANEL_ITEM_DRAG_START,H.EVENT_COLUMN_PANEL_ITEM_DRAG_END,H.EVENT_FILL_START,H.EVENT_FILL_END,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,H.EVENT_FULL_WIDTH_ROW_FOCUSED,H.EVENT_HEADER_HEIGHT_CHANGED,H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,H.EVENT_CELL_FOCUS_CLEARED,H.EVENT_GRID_STYLES_CHANGED,H.EVENT_FILTER_DESTROYED,H.EVENT_ROW_DATA_UPDATE_STARTED,H.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,H.EVENT_DATA_TYPES_INFERRED,H.EVENT_FIELD_VALUE_CHANGED,H.EVENT_FIELD_PICKER_VALUE_SELECTED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(e){return!Gs(r.EXCLUDED_INTERNAL_EVENTS,e)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(e){return r.getCallbackForEvent(e)}),r.STRING_PROPERTIES=Qa.STRING_PROPERTIES,r.OBJECT_PROPERTIES=Qa.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=Qa.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=Qa.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=Qa.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=Qa.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=Qa.ALL_PROPERTIES,r.ALL_PROPERTIES_SET=new Set(Qa.ALL_PROPERTIES),r.changeSetId=0,r.coercionLookup=r.getCoercionLookup(),r}(),L2e=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Fie(r,e,t){var n={},i=r.filter(function(o){return!e.some(function(s){return s===o})});return i.length>0&&i.forEach(function(o){return n[o]=cS(o,t).values}),n}function cS(r,e,t,n){var i,o,s=e.map(function(f,g){return{value:f,relevance:N2e(r.toLowerCase(),f.toLocaleLowerCase()),idx:g}});if(s.sort(function(f,g){return g.relevance-f.relevance}),t&&(s=s.filter(function(f){return f.relevance!==0})),s.length>0&&n&&n>0){var a=s[0].relevance,l=a*n;s=s.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=L2e(s),h=d.next();!h.done;h=d.next()){var p=h.value;u.push(p.value),c.push(p.idx)}}catch(f){i={error:f}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function N2e(r,e){for(var t=r.replace(/\s/g,""),n=e.replace(/\s/g,""),i=0,o=-1,s=0;s<t.length;s++){var a=n.indexOf(t[s],o+1);a!==-1&&(o=a,i+=100-o*100/1e4*100)}return i}var G2e=Object.freeze({__proto__:null,fuzzyCheckStrings:Fie,fuzzySuggestions:cS}),_E=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},rc=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ic=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};function As(r,e,t,n){var i=t?"Please use '"+t+"' instead. ":"";Dt(function(){return console.warn("AG Grid: since v"+r+", '"+e+"' is deprecated. "+i+(n??""))},"Deprecated_"+e)}var v5=["__ob__","__v_skip","__metadata__"],V2e=function(){function r(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}return r.prototype.pickOneWarning=function(e,t){console.warn("AG Grid: "+e+" and "+t+" do not work with each other, you need to pick one.")},r.prototype.init=function(){var e=this;if(this.checkForDeprecated(),this.checkForViolations(),this.gridOptions.suppressPropertyNamesCheck!==!0&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.get("rowSelection")!=="multiple"&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var t=function(i,o){return"AG Grid: '"+i+"' is not supported on the Server-Side Row Model."+(o?" Please use "+o+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?nt.__assertRegistered(Ae.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var n=function(i,o){return e.gridOptionsService.exists(i)&&nt.__assertRegistered(o,i,e.gridOptionsService.getGridId())};n("sideBar",Ae.SideBarModule),n("statusBar",Ae.StatusBarModule),n("enableCharts",Ae.GridChartsModule),n("getMainMenuItems",Ae.MenuModule),n("getContextMenuItems",Ae.MenuModule),n("allowContextMenuWithControlKey",Ae.MenuModule),n("enableAdvancedFilter",Ae.AdvancedFilterModule),n("treeData",Ae.RowGroupingModule),n("enableRangeSelection",Ae.RangeSelectionModule),n("masterDetail",Ae.MasterDetailModule)},r.prototype.checkColumnDefProperties=function(){var e=this;if(this.gridOptions.columnDefs!=null){var t=Iie.ALL_PROPERTIES,n=function(i,o){var s=Object.getOwnPropertyNames(i);e.checkProperties(s,ic(ic([],rc(t)),rc(v5)),t,o,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach(function(a){return n(a,"columnDefs.children")})};this.gridOptions.columnDefs.forEach(function(i){return n(i,"columnDefs")}),this.gridOptions.defaultColDef&&n(this.gridOptions.defaultColDef,"defaultColDef")}},r.prototype.checkColumnDefViolations=function(){var e,t=(e=this.gridOptionsService.get("rowModelType"))!==null&&e!==void 0?e:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]},i=n[t];if(i){var o=this.gridOptionsService.get("rowSelection")==="multiple",s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=function(l){o||s.forEach(function(u){u in l&&l[u]&&console.warn("AG Grid: Column property "+u+" is not supported unless rowSelection='multiple'.")}),i.forEach(function(u){u in l&&l[u]&&console.warn("AG Grid: Column property "+u+" is not supported with the row model type "+t+".")})};this.gridOptions.columnDefs!=null&&this.gridOptions.columnDefs.forEach(function(l){return a(l)}),this.gridOptions.autoGroupColumnDef!=null&&a(this.gridOptions.autoGroupColumnDef),this.gridOptions.defaultColDef!=null&&a(this.gridOptions.defaultColDef)}},r.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=ic(ic([],rc(Qa.ALL_PROPERTIES)),rc(by.EVENT_CALLBACKS)),n=ic(ic(ic(ic([],rc(t)),["api","columnApi"]),rc(v5)),rc(Object.keys(this.deprecatedProperties)));this.checkProperties(e,n,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},r.prototype.checkProperties=function(e,t,n,i,o){var s=Fie(e,t,n);Kn(s,function(a,l){Dt(function(){return console.warn("AG Grid: invalid "+i+" property '"+a+"' did you mean any of these: "+l.slice(0,8).join(", "))},"invalidProperty"+i+a)}),Object.keys(s).length>0&&Dt(function(){return console.warn("AG Grid: to see all the valid "+i+" properties please check: "+o)},"invalidProperties"+i+o)},r.prototype.checkForDeprecated=function(){var e=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(function(t){var n,i=rc(t,2),o=i[0],s=i[1],a=e[o];a&&(As(s.version,o,s.newProp,s.message),s.copyToNewProp&&s.newProp&&e[s.newProp]==null&&(e[s.newProp]=(n=s.newPropValue)!==null&&n!==void 0?n:a))}),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll=e.serverSideStoreType!=="partial")},r.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},r.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},_E([G("gridOptions")],r.prototype,"gridOptions",void 0),_E([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),_E([ge],r.prototype,"init",null),r=_E([De("gridOptionsValidator")],r),r}();function jL(r,e){var t=["groupRows","multipleColumns","custom","singleColumn"];return t.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+t.join("', '")+"'"),!1):e===r}function H2e(r,e){var t=["auto","custom"];return t.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid treeDataDisplayType value - possible values are: '"+t.join("', '")+"'"),!1):e===r}var k2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oi=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$2e=function(r,e){return function(t,n){e(t,n,r)}},B2e=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t},Zs=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},ea=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},y5=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mie=function(r){k2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.shouldQueueResizeOperations=!1,t.resizeOperationQueue=[],t}return e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var n=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData"],function(){return t.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(i){return t.onSharedColDefChanged(i.source)}),this.addManagedPropertyListener("columnTypes",function(i){return t.onSharedColDefChanged(i.source)})},e.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},e.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},e.prototype.onSharedColDefChanged=function(t){t===void 0&&(t="api"),this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,t)},e.prototype.setColumnDefs=function(t,n){n===void 0&&(n="api");var i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,n)},e.prototype.recreateColumnDefs=function(t){t===void 0&&(t="api"),this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,n){var i={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,function(s){i[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){i[s.getInstanceId()]=null});var o=Object.values(i).filter(function(s){return s!=null});this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,n){var i=this;n===void 0&&(n="api");var o=t?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,a=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,a);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},e.prototype.dispatchNewColumnsLoaded=function(t){var n={type:H.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(n)},e.prototype.dispatchEverythingChanged=function(t){t===void 0&&(t="api");var n={type:H.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(n)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,n=this.primaryColumns;if(n){var i=n.filter(function(s){return t.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return i.indexOf(s)<0});this.gridColumns=ea(ea([],Zs(o)),Zs(i)),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var n=t,i=[];n!=null;)i.push(n),n=this.getDisplayedColAfter(n);return i},e.prototype.checkViewportColumns=function(t){if(t===void 0&&(t=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var i={type:H.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(i)}}},e.prototype.setViewportPosition=function(t,n,i){i===void 0&&(i=!1),(t!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return t&&this.gridOptionsService.is("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},e.prototype.setPivotMode=function(t,n){if(n===void 0&&(n="api"),!(t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var i={type:H.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.getSecondaryPivotColumn=function(t,n){if(rt(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,l=s.getColDef().pivotValueColumn,u=Lc(a,t),c=l===i;u&&c&&(o=s)}),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var n,i;this.gridOptionsService.is("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?gn(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?gn(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,t),o.setFirstRightPinned(o===i,t)})},e.prototype.autoSizeColumns=function(t){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(t)});return}var i=t.columns,o=t.skipHeader,s=t.skipHeaderGroups,a=t.stopAtGroup,l=t.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,h=o??this.gridOptionsService.is("skipHeaderOnAutoSize"),p=s??h;d!==0;)d=0,this.actionOnGridColumns(i,function(f){if(c.indexOf(f)>=0)return!1;var g=n.autoWidthCalculator.getPreferredWidthForColumn(f,h);if(g>0){var v=n.normaliseColumnWidth(f,g);f.setActualWidth(v,u),c.push(f),d++}return!0},u);p||this.autoSizeColumnGroupsByColumns(i,u,a),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,n,i,o){if(o===void 0&&(o=null),t&&t.length){var s={type:H.EVENT_COLUMN_RESIZED,columns:t,column:t.length===1?t[0]:null,flexColumns:o,finished:n,source:i};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnChangedEvent=function(t,n,i){var o={type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var n=t.movedColumns,i=t.source,o=t.toIndex,s=t.finished,a={type:H.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:s,source:i};this.eventService.dispatchEvent(a)},e.prototype.dispatchColumnPinnedEvent=function(t,n){if(t.length){var i=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.getPinned()}),s={type:H.EVENT_COLUMN_PINNED,pinned:o??null,columns:t,column:i,source:n};this.eventService.dispatchEvent(s)}},e.prototype.dispatchColumnVisibleEvent=function(t,n){if(t.length){var i=t.length===1?t[0]:null,o=this.getCommonValue(t,function(a){return a.isVisible()}),s={type:H.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:i,source:n};this.eventService.dispatchEvent(s)}},e.prototype.autoSizeColumn=function(t,n,i){i===void 0&&(i="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:n,skipHeaderGroups:!0,source:i})},e.prototype.autoSizeColumnGroupsByColumns=function(t,n,i){var o,s,a,l,u=new Set,c=this.getGridColumns(t);c.forEach(function(w){for(var S=w.getParent();S&&S!=i;)S.isPadding()||u.add(S),S=S.getParent()});var d,h=[];try{for(var p=y5(u),f=p.next();!f.done;f=p.next()){var g=f.value;try{for(var v=(a=void 0,y5(this.ctrlsService.getHeaderRowContainerCtrls())),y=v.next();!y.done;y=v.next()){var C=y.value;if(d=C.getHeaderCtrlForColumn(g),d)break}}catch(w){a={error:w}}finally{try{y&&!y.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(w){o={error:w}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}return h},e.prototype.autoSizeAllColumns=function(t,n){var i=this;if(n===void 0&&(n="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(t,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:t,source:n})},e.prototype.getColumnsFromTree=function(t){var n=[],i=function(o){for(var s=0;s<o.length;s++){var a=o[s];a instanceof pn?n.push(a):a instanceof or&&i(a.getChildren())}};return i(t),n},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,n,i,o){for(var s=[],a=null,l=function(d){var h=n[d],p=n.length-d,f=Math.min(h.getColSpan(t),p),g=[h];if(f>1){for(var v=f-1,y=1;y<=v;y++)g.push(n[d+y]);d+=v}var C;if(i?(C=!1,g.forEach(function(S){i(S)&&(C=!0)})):C=!0,C){if(s.length===0&&a){var w=o?o(h):!1;w&&s.push(a)}s.push(h)}a=h,u=d},u,c=0;c<n.length;c++)l(c),c=u;return s},e.prototype.getViewportCenterColumnsForRow=function(t){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(s){var a=s.getLeft();return se(a)&&a>n.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,o,i)},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return t.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var n=t.getLeft()||0,i=n+t.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200,a=n<o&&i<o,l=n>s&&i>s;return!a&&!l},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,n,i,o,s,a){var l=this;if(a===void 0&&(a="api"),!(!t||is(t))){var u=!1;if(t.forEach(function(d){var h=l.getPrimaryColumn(d);if(h){if(i){if(n.indexOf(h)>=0)return;n.push(h)}else{if(n.indexOf(h)<0)return;es(n,h)}o(h),u=!0}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a);var c={type:s,columns:n,column:n.length===1?n[0]:null,source:a};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,H.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},e.prototype.setRowGroupActive=function(t,n,i){t!==n.isRowGroupActive()&&(n.setRowGroupActive(t,i),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,i),!t&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,i))},e.prototype.addRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.addRowGroupColumns([t],n)},e.prototype.addRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),H.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumns=function(t,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),H.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},e.prototype.removeRowGroupColumn=function(t,n){n===void 0&&(n="api"),t&&this.removeRowGroupColumns([t],n)},e.prototype.addPivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},H.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.setPivotColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.pivotColumns,H.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,n)},n)},e.prototype.addPivotColumn=function(t,n){n===void 0&&(n="api"),this.addPivotColumns([t],n)},e.prototype.removePivotColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},H.EVENT_COLUMN_PIVOT_CHANGED,n)},e.prototype.removePivotColumn=function(t,n){n===void 0&&(n="api"),this.removePivotColumns([t],n)},e.prototype.setPrimaryColumnList=function(t,n,i,o,s,a){var l=this,u=new Map;n.forEach(function(c,d){return u.set(c,d)}),n.length=0,se(t)&&t.forEach(function(c){var d=l.getPrimaryColumn(c);d&&n.push(d)}),n.forEach(function(c,d){var h=u.get(c);if(h===void 0){u.set(c,0);return}o&&h!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=n.indexOf(c)>=0;s(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(i,ea([],Zs(u.keys())),a)},e.prototype.setValueColumns=function(t,n){n===void 0&&(n="api"),this.setPrimaryColumnList(t,this.valueColumns,H.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},e.prototype.setValueActive=function(t,n,i){if(t!==n.isValueActive()&&(n.setValueActive(t,i),t&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},e.prototype.addValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),H.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.addValueColumn=function(t,n){n===void 0&&(n="api"),t&&this.addValueColumns([t],n)},e.prototype.removeValueColumn=function(t,n){n===void 0&&(n="api"),this.removeValueColumns([t],n)},e.prototype.removeValueColumns=function(t,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),H.EVENT_COLUMN_VALUE_CHANGED,n)},e.prototype.normaliseColumnWidth=function(t,n){var i=t.getMinWidth();se(i)&&n<i&&(n=i);var o=t.getMaxWidth();return se(o)&&t.isGreaterThanMax(n)&&(n=o),n},e.prototype.getPrimaryOrGridColumn=function(t){var n=this.getPrimaryColumn(t);return n||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,n,i,o){var s=this;o===void 0&&(o="api");var a=[];t.forEach(function(l){var u=s.getPrimaryOrGridColumn(l.key);if(u){a.push({width:l.newWidth,ratios:[1],columns:[u]});var c=s.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(n=!n),n){var d=s.getDisplayedColAfter(u);if(!d)return;var h=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;a.push({width:p,ratios:[1],columns:[d]})}}}),a.length!==0&&this.resizeColumnSets({resizeSets:a,finished:i,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var n=t.columns,i=t.width,o=0,s=0,a=!0;n.forEach(function(c){var d=c.getMinWidth();o+=d||0;var h=c.getMaxWidth();se(h)&&h>0?s+=h:a=!1});var l=i>=o,u=!a||i<=s;return l&&u},e.prototype.resizeColumnSets=function(t){var n=this,i=t.resizeSets,o=t.finished,s=t.source,a=!i||i.every(function(f){return n.checkMinAndMaxWidthsForSet(f)});if(!a){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,s)}return}var u=[],c=[];i.forEach(function(f){var g=f.width,v=f.columns,y=f.ratios,C={},w={};v.forEach(function(E){return c.push(E)});for(var S=!0,P=0,F=function(){if(P++,P>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var E=[],T=0,O=g;v.forEach(function(V,M){var N=w[V.getId()];if(N)O-=C[V.getId()];else{E.push(V);var $=y[M];T+=$}});var L=1/T;E.forEach(function(V,M){var N=M===E.length-1,$;N?$=O:($=Math.round(y[M]*g*L),O-=$);var B=V.getMinWidth(),U=V.getMaxWidth();se(B)&&$<B?($=B,w[V.getId()]=!0,S=!0):se(U)&&U>0&&$>U&&($=U,w[V.getId()]=!0,S=!0),C[V.getId()]=$})};S;){var _=F();if(_==="break")break}v.forEach(function(E){var T=C[E.getId()],O=E.getActualWidth();O!==T&&(E.setActualWidth(T,s),u.push(E))})});var d=u.length>0,h=[];d&&(h=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var p=c.concat(h);(d||o)&&this.dispatchColumnResizedEvent(p,o,s,h)},e.prototype.setColumnAggFunc=function(t,n,i){if(i===void 0&&(i="api"),!!t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(H.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},e.prototype.moveRowGroupColumn=function(t,n,i){i===void 0&&(i="api");var o=this.rowGroupColumns[t],s=this.rowGroupColumns.slice(t,n);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(n,0,o);var a={type:H.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:i};this.eventService.dispatchEvent(a)},e.prototype.moveColumns=function(t,n,i,o){if(i===void 0&&(i="api"),o===void 0&&(o=!0),this.columnAnimationService.start(),n>this.gridColumns.length-t.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var s=this.getGridColumns(t),a=!this.doesMovePassRules(s,n);a||(kL(this.gridColumns,s,n),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:s,source:i,toIndex:n,finished:o}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,n){var i=this.getProposedColumnOrder(t,n);return this.doesOrderPassRules(i)},e.prototype.doesOrderPassRules=function(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))},e.prototype.getProposedColumnOrder=function(t,n){var i=this.gridColumns.slice();return kL(i,t,n),i},e.prototype.sortColumnsLikeGridColumns=function(t){var n=this;if(!(!t||t.length<=1)){var i=t.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;i||t.sort(function(o,s){var a=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(s);return a-l})}},e.prototype.doesMovePassLockedPositions=function(t){var n=0,i=!0,o=function(s){return s?s===!0||s==="left"?0:2:1};return t.forEach(function(s){var a=o(s.getColDef().lockPosition);a<n&&(i=!1),n=a}),i},e.prototype.doesMovePassMarryChildren=function(t){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof or){var o=i,s=o.getColGroupDef(),a=s&&s.marryChildren;if(a){var l=[];o.getLeafColumns().forEach(function(p){var f=t.indexOf(p);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,h=o.getLeafColumns().length-1;d>h&&(n=!1)}}}),n},e.prototype.moveColumn=function(t,n,i){i===void 0&&(i="api"),this.moveColumns([t],n,i)},e.prototype.moveColumnByIndex=function(t,n,i){i===void 0&&(i="api");var o=this.gridColumns[t];this.moveColumn(o,n,i)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,o){return t.gridColumns.indexOf(i)-t.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(i,o){return t.lastPrimaryOrder.indexOf(i)-t.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==t;var o=this.bodyWidth!==t||this.leftWidth!==n||this.rightWidth!==i;if(o){this.bodyWidth=t,this.leftWidth=n,this.rightWidth=i;var s={type:H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return is(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return is(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,n,i){i===void 0&&(i="api"),this.setColumnsVisible([t],n,i)},e.prototype.setColumnsVisible=function(t,n,i){n===void 0&&(n=!1),i===void 0&&(i="api"),this.applyColumnState({state:t.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},i)},e.prototype.setColumnPinned=function(t,n,i){i===void 0&&(i="api"),t&&this.setColumnsPinned([t],n,i)},e.prototype.setColumnsPinned=function(t,n,i){if(i===void 0&&(i="api"),this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(t,function(s){return s.getPinned()!==o?(s.setPinned(o),!0):!1},i,function(){var s={type:H.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return s}),this.columnAnimationService.finish()},e.prototype.actionOnGridColumns=function(t,n,i,o){var s=this;if(!is(t)){var a=[];if(t.forEach(function(u){var c=s.getGridColumn(u);if(c){var d=n(c);d!==!1&&a.push(c)}}),!!a.length&&(this.updateDisplayedColumns(i),se(o)&&o)){var l=o();l.columns=a,l.column=a.length===1?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var n=this.getAllDisplayedColumns(),i=n.indexOf(t);return i>0?n[i-1]:null},e.prototype.getDisplayedColAfter=function(t){var n=this.getAllDisplayedColumns(),i=n.indexOf(t);return i<n.length-1?n[i+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,n){for(var i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),s=n==="After"?gn(o):o[0],a="getDisplayedCol"+n;;){var l=this[a](s);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==t)return u}},e.prototype.getColumnGroupAtLevel=function(t,n){for(var i=t.getParent(),o,s;;){var a=i.getProvidedColumnGroup();if(o=a.getLevel(),s=i.getPaddingLevel(),o+s<=n)break;i=i.getParent()}return i},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var n=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,s=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null,u={colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:s,sortIndex:a,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:n,pivot:t.isPivotActive(),pivotIndex:i,flex:l};return u},e.prototype.getColumnState=function(){if(rt(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns(),n=t.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},e.prototype.orderColumnStateList=function(t){var n=Oc(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));t.sort(function(i,o){var s=n.has(i.colId)?n.get(i.colId):-1,a=n.has(o.colId)?n.get(o.colId):-1;return s-a})},e.prototype.resetColumnState=function(t){var n=this;t===void 0&&(t="api");var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=n.getColumnStateFromColDef(u);rt(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=s++),rt(c.pivotIndex)&&c.pivot&&(c.pivotIndex=a++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},t)},e.prototype.getColumnStateFromColDef=function(t){var n=function(v,y){return v??y??null},i=t.getColDef(),o=n(i.sort,i.initialSort),s=n(i.sortIndex,i.initialSortIndex),a=n(i.hide,i.initialHide),l=n(i.pinned,i.initialPinned),u=n(i.width,i.initialWidth),c=n(i.flex,i.initialFlex),d=n(i.rowGroupIndex,i.initialRowGroupIndex),h=n(i.rowGroup,i.initialRowGroup);d==null&&(h==null||h==!1)&&(d=null,h=null);var p=n(i.pivotIndex,i.initialPivotIndex),f=n(i.pivot,i.initialPivot);p==null&&(f==null||f==!1)&&(p=null,f=null);var g=n(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:s,hide:a,pinned:l,width:u,flex:c,rowGroup:h,rowGroupIndex:d,pivot:f,pivotIndex:p,aggFunc:g}},e.prototype.applyColumnState=function(t,n){var i=this;if(is(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var h=i.compareColumnStatesAndDispatchEvents(n);i.autoGroupsNeedBuilding=!0;var p=c.slice(),f={},g={},v=[],y=[],C=0,w=i.rowGroupColumns.slice(),S=i.pivotColumns.slice();u.forEach(function(E){var T=E.colId||"",O=T.startsWith(tp);if(O){v.push(E),y.push(E);return}var L=d(T);L?(i.syncColumnWithStateItem(L,E,t.defaultState,f,g,!1,n),es(p,L)):(y.push(E),C+=1)});var P=function(E){return i.syncColumnWithStateItem(E,null,t.defaultState,f,g,!1,n)};p.forEach(P);var F=function(E,T,O,L){var V=E[O.getId()],M=E[L.getId()],N=V!=null,$=M!=null;if(N&&$)return V-M;if(N)return-1;if($)return 1;var B=T.indexOf(O),U=T.indexOf(L),z=B>=0,j=U>=0;return z&&j?B-U:z?-1:1};i.rowGroupColumns.sort(F.bind(i,f,w)),i.pivotColumns.sort(F.bind(i,g,S)),i.updateGridColumns();var _=i.groupAutoColumns?i.groupAutoColumns.slice():[];return v.forEach(function(E){var T=i.getAutoColumn(E.colId);es(_,T),i.syncColumnWithStateItem(T,E,t.defaultState,null,null,!0,n)}),_.forEach(P),i.applyOrderAfterApplyState(t),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),h(),{unmatchedAndAutoStates:y,unmatchedCount:C}};this.columnAnimationService.start();var s=o(t.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),a=s.unmatchedAndAutoStates,l=s.unmatchedCount;return(a.length>0||se(t.defaultState))&&(l=o(a,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},e.prototype.applyOrderAfterApplyState=function(t){var n=this;if(!(!t.applyOrder||!t.state)){var i=[],o={};t.state.forEach(function(a){if(!(!a.colId||o[a.colId])){var l=n.gridColumnsMap[a.colId];l&&(i.push(l),o[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var l=a.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(tp);c?vC(i,a,s++):i.push(a)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(a){s[a.colId]=a}),function(){var a=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,C,w,S){var P=C.map(S),F=w.map(S),_=Lc(P,F);if(!_){var E=new Set(C);w.forEach(function(L){E.delete(L)||E.add(L)});var T=ea([],Zs(E)),O={type:y,columns:T,column:T.length===1?T[0]:null,source:t};n.eventService.dispatchEvent(O)}},u=function(y){var C=[];return a.forEach(function(w){var S=s[w.getColId()];S&&y(S,w)&&C.push(w)}),C},c=function(y){return y.getColId()};l(H.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,c),l(H.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,c);var d=function(y,C){var w=y.aggFunc!=null,S=w!=C.isValueActive(),P=w&&y.aggFunc!=C.getAggFunc();return S||P},h=u(d);h.length>0&&n.dispatchColumnChangedEvent(H.EVENT_COLUMN_VALUE_CHANGED,h,t);var p=function(y,C){return y.width!=C.getActualWidth()};n.dispatchColumnResizedEvent(u(p),!0,t);var f=function(y,C){return y.pinned!=C.getPinned()};n.dispatchColumnPinnedEvent(u(f),t);var g=function(y,C){return y.hide==C.isVisible()};n.dispatchColumnVisibleEvent(u(g),t);var v=function(y,C){return y.sort!=C.getSort()||y.sortIndex!=C.getSortIndex()};u(v).length>0&&n.sortController.dispatchSortChangedEvents(t),n.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,n){if(!(!t||t.length==0)){for(var i=n(t[0]),o=1;o<t.length;o++)if(i!==n(t[o]))return;return i}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,n){var i=this,o=this.getColumnState(),s={};o.forEach(function(d){return s[d.colId]=d});var a={};t.forEach(function(d){s[d.colId]&&(a[d.colId]=!0)});var l=t.filter(function(d){return a[d.colId]}),u=o.filter(function(d){return a[d.colId]}),c=[];u.forEach(function(d,h){var p=l&&l[h];if(p&&p.colId!==d.colId){var f=i.getGridColumn(p.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:n,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,n,i,o,s,a,l){if(t){var u=function(T,O){var L={value1:void 0,value2:void 0},V=!1;return n&&(n[T]!==void 0&&(L.value1=n[T],V=!0),se(O)&&n[O]!==void 0&&(L.value2=n[O],V=!0)),!V&&i&&(i[T]!==void 0&&(L.value1=i[T]),se(O)&&i[O]!==void 0&&(L.value2=i[O])),L},c=u("hide").value1;c!==void 0&&t.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&t.setPinned(d);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),p=u("flex").value1;p!==void 0&&t.setFlex(p);var f=t.getFlex()<=0;if(f){var g=u("width").value1;g!=null&&h!=null&&g>=h&&t.setActualWidth(g,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?t.setSort(v,l):t.setSort(void 0,l));var y=u("sortIndex").value1;if(y!==void 0&&t.setSortIndex(y),!(a||!t.isPrimary())){var C=u("aggFunc").value1;C!==void 0&&(typeof C=="string"?(t.setAggFunc(C),t.isValueActive()||(t.setValueActive(!0,l),this.valueColumns.push(t))):(se(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,l),es(this.valueColumns,t))));var w=u("rowGroup","rowGroupIndex"),S=w.value1,P=w.value2;(S!==void 0||P!==void 0)&&(typeof P=="number"||S?(t.isRowGroupActive()||(t.setRowGroupActive(!0,l),this.rowGroupColumns.push(t)),o&&typeof P=="number"&&(o[t.getId()]=P)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,l),es(this.rowGroupColumns,t)));var F=u("pivot","pivotIndex"),_=F.value1,E=F.value2;(_!==void 0||E!==void 0)&&(typeof E=="number"||_?(t.isPivotActive()||(t.setPivotActive(!0,l),this.pivotColumns.push(t)),s&&typeof E=="number"&&(s[t.getId()]=E)):t.isPivotActive()&&(t.setPivotActive(!1,l),es(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,n){var i=[];return t&&t.forEach(function(o){var s=n(o);s&&i.push(s)}),i},e.prototype.getColumnWithValidation=function(t){if(t==null)return null;var n=this.getGridColumn(t);return n||console.warn("AG Grid: could not find column "+t),n},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,n,i){if(!t)return null;if(typeof t=="string"&&i[t])return i[t];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],t))return n[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var n=t.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(n);return i?[i]:null},e.prototype.getAutoColumn=function(t){var n=this;return!this.groupAutoColumns||!se(this.groupAutoColumns)||rt(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return n.columnsMatch(i,t)})||null},e.prototype.columnsMatch=function(t,n){var i=t===n,o=t.getColDef()===n,s=t.getColId()==n;return i||o||s},e.prototype.getDisplayNameForColumn=function(t,n,i){if(i===void 0&&(i=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,n);return i?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,n,i){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,t,n,i):null},e.prototype.getDisplayNameForColumnGroup=function(t,n){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),n)},e.prototype.getHeaderName=function(t,n,i,o,s){var a=t.headerValueGetter;if(a){var l={colDef:t,column:n,columnGroup:i,providedColumnGroup:o,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof a=="function"?a(l):typeof a=="string"?this.expressionService.evaluate(a,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return Aie(t.field)}return""},e.prototype.wrapHeaderNameWithAggFunc=function(t,n){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return n;var i=t.getColDef().pivotValueColumn,o=se(i),s=null,a;if(o){var l=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=t.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return n;s=i?i.getAggFunc():null,a=!0}else{var c=t.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(s=t.getAggFunc(),a=!0):a=!1}if(a){var h=typeof s=="string"?s:"func",p=this.localeService.getLocaleTextFunc(),f=p(h,h);return f+"("+n+")"}return n},e.prototype.getColumnGroup=function(t,n){if(!t)return null;if(t instanceof Qr)return t;var i=this.getAllDisplayedTrees(),o=typeof n=="number",s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(a){if(a instanceof Qr){var l=a,u=void 0;o?u=t===l.getGroupId()&&n===l.getPartId():u=t===l.getGroupId(),u&&(s=l)}}),s},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,o){return i.setValueActive(o,t)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},e.prototype.extractRowGroupColumns=function(t,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,t)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},e.prototype.extractColumns=function(t,n,i,o,s,a,l){t===void 0&&(t=[]),n===void 0&&(n=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(p){var f=t.indexOf(p)<0,g=p.getColDef(),v=sl(a(g)),y=sl(l(g)),C=Is(o(g)),w=Is(s(g)),S,P=v!==void 0,F=C!==void 0,_=y!==void 0,E=w!==void 0;if(P?S=v:F?C===null?S=!1:S=C>=0:f?_?S=y:E?S=w!=null&&w>=0:S=!1:S=n.indexOf(p)>=0,S){var T=f?C!=null||w!=null:C!=null;T?u.push(p):c.push(p)}});var d=function(p){var f=o(p.getColDef()),g=s(p.getColDef());return f??g};u.sort(function(p,f){var g=d(p),v=d(f);return g===v?0:g<v?-1:1});var h=[].concat(u);return n.forEach(function(p){c.indexOf(p)>=0&&h.push(p)}),c.forEach(function(p){h.indexOf(p)<0&&h.push(p)}),n.forEach(function(p){h.indexOf(p)<0&&i(p,!1)}),h.forEach(function(p){n.indexOf(p)<0&&i(p,!0)}),h},e.prototype.extractPivotColumns=function(t,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,o){return i.setPivotActive(o,t)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},e.prototype.resetColumnGroupState=function(t){t===void 0&&(t="api");var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof or){var o=i.getColGroupDef(),s={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof or&&t.push({groupId:n.getGroupId(),open:n.isExpanded()})}),t},e.prototype.setColumnGroupState=function(t,n){var i=this;n===void 0&&(n="api"),this.columnAnimationService.start();var o=[];t.forEach(function(s){var a=s.groupId,l=s.open,u=i.getProvidedColumnGroup(a);u&&u.isExpanded()!==l&&(i.logger.log("columnGroupOpened("+u.getGroupId()+","+l+")"),u.setExpanded(l),o.push(u))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.forEach(function(s){var a={type:H.EVENT_COLUMN_GROUP_OPENED,columnGroup:s};i.eventService.dispatchEvent(a)}),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,n,i){i===void 0&&(i="api");var o;t instanceof or?o=t.getId():o=t||"",this.setColumnGroupState([{groupId:o,open:n}],i)},e.prototype.getProvidedColumnGroup=function(t){typeof t!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof or&&i.getId()===t&&(n=i)}),n},e.prototype.calculateColumnsForDisplay=function(){var t=this,n;return this.pivotMode&&rt(this.secondaryColumns)?n=this.gridColumns.filter(function(i){var o=t.groupAutoColumns&&Gs(t.groupAutoColumns,i),s=t.valueColumns&&Gs(t.valueColumns,i);return o||s}):n=this.gridColumns.filter(function(i){var o=t.groupAutoColumns&&Gs(t.groupAutoColumns,i);return o||i.isVisible()}),n},e.prototype.checkColSpanActiveInCols=function(t){var n=!1;return t.forEach(function(i){se(i.getColDef().colSpan)&&(n=!0)}),n},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(i){var o=i.getColDef(),s=o.showRowGroup;o&&se(s)&&(t.groupDisplayColumns.push(i),typeof s=="string"?t.groupDisplayColumnsMap[s]=i:s===!0&&t.getRowGroupColumns().forEach(function(a){t.groupDisplayColumnsMap[a.getId()]=i}))};this.gridColumns.forEach(n)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return se(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,n){var i=this;n===void 0&&(n="api");var o=t&&t.length>0;if(!(!o&&rt(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(t);var s=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return i.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}},e.prototype.processSecondaryColumnDefinitions=function(t){var n=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(!(!n&&!i)){var o=function(s){s.forEach(function(a){var l=se(a.children);if(l){var u=a;i&&i(u),o(u.children)}else{var c=a;n&&n(c)}})};t&&o(t)}},e.prototype.updateGridColumns=function(){var t=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(u){return t.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);var s=this.createGroupAutoColumnsIfNeeded();if(s&&i){var a=Oc(this.groupAutoColumns.map(function(u){return[u,!0]}));i=i.filter(function(u){return!a.has(u)}),i=ea(ea([],Zs(this.groupAutoColumns)),Zs(i))}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return t.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!Lc(n,this.gridBalancedTree)){var l={type:H.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},e.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(i){return i.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var t=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");if(!t){var n="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";Dt(function(){return console.warn(n)},"autoHeightActive.wrongRowModel")}}},e.prototype.orderGridColsLike=function(t){if(!rt(t)){var n=Oc(t.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){n.has(c)&&(i=!1)}),!i){var o=Oc(this.gridColumns.map(function(c){return[c,!0]})),s=t.filter(function(c){return o.has(c)}),a=Oc(s.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!a.has(c)}),u=s.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var h=[];!h.length&&d;){var p=d.getLeafColumns();p.forEach(function(v){var y=u.indexOf(v)>=0,C=h.indexOf(v)<0;y&&C&&h.push(v)}),d=d.getOriginalParent()}if(!h.length){u.push(c);return}var f=h.map(function(v){return u.indexOf(v)}),g=Math.max.apply(Math,ea([],Zs(f)));vC(u,c,g+1)}),this.gridColumns=u}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,n=(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&t!==void 0?t:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?n:n.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},e.prototype.placeLockedColumns=function(t){var n=[],i=[],o=[];return t.forEach(function(s){var a=s.getColDef().lockPosition;a==="right"?o.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),ea(ea(ea([],Zs(n)),Zs(i)),Zs(o))},e.prototype.addAutoGroupToGridColumns=function(){if(rt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:H.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var n=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var a=n.getWidthOfColsInList(s);s.forEach(function(u){a-=u.getActualWidth(),u.setLeft(a,t)})}else{var l=0;s.forEach(function(u){u.setLeft(l,t),l+=u.getActualWidth()})}Eie(i,s)}),i.forEach(function(s){s.setLeft(null,t)})}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(t){t.forEach(function(n){if(n instanceof Qr){var i=n;i.checkLeft()}})})},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,function(i){i instanceof pn&&n.push(i)})},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,n){var i;switch(t){case"left":i=this.viewportRowLeft[n];break;case"right":i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n];break}return rt(i)&&(i=[]),i},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach(function(i){return t[i.getId()]=!0});var n=function(i,o,s){for(var a=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof pn)c=t[u.getId()]===!0;else{var d=u,h=d.getDisplayedChildren();h&&(c=n(h,o,s+1))}c&&(a=!0,o[s]||(o[s]=[]),o[s].push(u))}return a};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){var t=function(o){return o.getId()+"-"+(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(t).join("#"),i=this.viewportColumnsHash!==n;return i&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),i},e.prototype.refreshFlexedColumns=function(t){var n;t===void 0&&(t={});var i=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols){for(var s=new Set(t.resizingCols),a=this.displayedColumnsCenter,l=a.length-1;l>=0;l--)if(s.has(a[l])){o=l;break}}for(var u=0,c=[],d=0,h=0,l=0;l<this.displayedColumnsCenter.length;l++){var p=this.displayedColumnsCenter[l].getFlex()&&l>o;p?(c.push(this.displayedColumnsCenter[l]),h+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(E){var T;return E.setActualWidth((T=E.getMinWidth())!==null&&T!==void 0?T:0,i)}),f=c,c=[]);var g=[],v;e:for(;;){v=this.flexViewportWidth-u;for(var y=v/h,l=0;l<c.length;l++){var C=c[l],w=y*C.getFlex(),S=0,P=C.getMinWidth(),F=C.getMaxWidth();if(se(P)&&w<P?S=P:se(F)&&w>F&&(S=F),S){C.setActualWidth(S,i),W1(c,C),h-=C.getFlex(),f.push(C),u+=C.getActualWidth();continue e}g[l]=Math.round(w)}break}var _=v;return c.forEach(function(E,T){E.setActualWidth(Math.min(g[T],_),i),f.push(E),_-=g[T]}),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,i,c),c},e.prototype.sizeColumnsToFit=function(t,n,i,o){var s=this,a,l,u,c,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(t,n,i,o)});return}var h={};o&&((a=o==null?void 0:o.columnLimits)===null||a===void 0||a.forEach(function(U){var z=U.key,j=B2e(U,["key"]);h[typeof z=="string"?z:z.getColId()]=j}));var p=this.getAllDisplayedColumns(),f=t===this.getWidthOfColsInList(p);if(!(t<=0||!p.length||f)){var g=[],v=[];p.forEach(function(U){U.getColDef().suppressSizeToFit===!0?v.push(U):g.push(U)});var y=g.slice(0),C=!1,w=function(U){es(g,U),v.push(U)};for(g.forEach(function(U){var z,j;U.resetActualWidth(n);var Q=h==null?void 0:h[U.getId()],X=(z=Q==null?void 0:Q.minWidth)!==null&&z!==void 0?z:o==null?void 0:o.defaultMinWidth,Z=(j=Q==null?void 0:Q.maxWidth)!==null&&j!==void 0?j:o==null?void 0:o.defaultMaxWidth,ce=U.getActualWidth();typeof X=="number"&&ce<X?U.setActualWidth(X,n,!0):typeof Z=="number"&&ce>Z&&U.setActualWidth(Z,n,!0)});!C;){C=!0;var S=t-this.getWidthOfColsInList(v);if(S<=0)g.forEach(function(U){var z,j,Q=(j=(z=h==null?void 0:h[U.getId()])===null||z===void 0?void 0:z.minWidth)!==null&&j!==void 0?j:o==null?void 0:o.defaultMinWidth;if(typeof Q=="number"){U.setActualWidth(Q,n,!0);return}U.setMinimum(n)});else for(var P=S/this.getWidthOfColsInList(g),F=S,_=g.length-1;_>=0;_--){var E=g[_],T=h==null?void 0:h[E.getId()],O=(l=T==null?void 0:T.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,L=(u=T==null?void 0:T.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,V=(c=E.getMinWidth())!==null&&c!==void 0?c:0,M=(d=E.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,N=typeof O=="number"&&O>V?O:E.getMinWidth(),$=typeof L=="number"&&L<M?L:E.getMaxWidth(),B=Math.round(E.getActualWidth()*P);se(N)&&B<N?(B=N,w(E),C=!1):se($)&&B>$?(B=$,w(E),C=!1):_===0&&(B=F),E.setActualWidth(B,n,!0),F-=B}}y.forEach(function(U){U.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(y,!0,n)}},e.prototype.buildDisplayedTrees=function(t){var n=[],i=[],o=[];t.forEach(function(a){switch(a.getPinned()){case"left":n.push(a);break;case"right":i.push(a);break;default:o.push(a);break}});var s=new z1;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var n=function(i){t.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},e.prototype.isDisplayed=function(t){var n=this.displayedColumnsAndGroupsMap[t.getUniqueId()];return n===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,function(n){n instanceof Qr&&n.calculateDisplayedColumns()})},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"),s=o&&!i&&!n;if(s){var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(a,this.groupAutoColumns);if(l||t)return this.groupAutoColumns=a,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType"),n=t?jL("custom",t):!1;if(n)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i?H2e("custom",i):!1},e.prototype.autoColsEqual=function(t,n){return Lc(t,n,function(i,o){return i.getColId()===o.getColId()})},e.prototype.getWidthOfColsInList=function(t){return t.reduce(function(n,i){return n+i.getActualWidth()},0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.is("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&n.reverse();for(var i=0;i<n.length;i++){var o=this[n[i]]();if(o.length)return t?gn(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,n){var i=t.setAutoHeaderHeight(n);if(i){var o={type:H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,ea([t],Zs(n)))},e.prototype.getHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("headerHeight"))!==null&&t!==void 0?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return(t=this.gridOptionsService.getNum("floatingFiltersHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("groupHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("pivotHeaderHeight"))!==null&&t!==void 0?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))!==null&&t!==void 0?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(t){return t()}),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t){var n=t.getUserProvidedColDef();if(!n)return!1;var i=this.columnFactory.addColumnDefaultAndTypes(n,t.getColId());return t.setColDef(i,n),!0},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,n){var i=this,o={},s=function(a,l,u,c,d,h){if(!l.length||!i.primaryColumns)return[];for(var p=Object.keys(a),f=new Set(p),g=new Set(p),v=new Set(l.map(function(O){var L=O.getColId();return g.delete(L),L}).concat(p)),y=[],C={},w=0,S=0;S<i.primaryColumns.length;S++){var P=i.primaryColumns[S].getColId();v.has(P)&&(y.push(P),C[P]=w++)}var F=1e3,_=!1,E=0,T=function(O){for(var L=C[O],V=E;V<L;V++){var M=y[V];g.has(M)&&(a[M][d]=F++,g.delete(M))}E=L};l.forEach(function(O){var L=O.getColId();if(f.has(L))T(L),a[L][d]=F++;else{var V=O.getColDef(),M=V[d]===null||V[d]===void 0&&V[h]==null;if(M){if(!_){var N=V[u]||V[u]===void 0&&V[c];N?T(L):(g.forEach(function($){a[$][d]=F+C[$]}),F+=y.length,_=!0)}o[L]||(o[L]={colId:L}),o[L][d]=F++}}})};return s(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},oi([G("expressionService")],e.prototype,"expressionService",void 0),oi([G("columnFactory")],e.prototype,"columnFactory",void 0),oi([G("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),oi([G("ctrlsService")],e.prototype,"ctrlsService",void 0),oi([G("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),oi([G("columnUtils")],e.prototype,"columnUtils",void 0),oi([G("columnAnimationService")],e.prototype,"columnAnimationService",void 0),oi([G("autoGroupColService")],e.prototype,"autoGroupColService",void 0),oi([jt("aggFuncService")],e.prototype,"aggFuncService",void 0),oi([jt("valueCache")],e.prototype,"valueCache",void 0),oi([jt("animationFrameService")],e.prototype,"animationFrameService",void 0),oi([G("sortController")],e.prototype,"sortController",void 0),oi([G("columnDefFactory")],e.prototype,"columnDefFactory",void 0),oi([ge],e.prototype,"init",null),oi([Ur],e.prototype,"destroyColumns",null),oi([$2e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),e=oi([De("columnModel")],e),e}(fe),j2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),W2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Lie=function(r){j2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.calculateColMinWidth=function(t){return t.minWidth!=null?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return t.maxWidth!=null?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var n=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t),o,s=Is(t.width),a=Is(t.initialWidth);return s!=null?o=s:a!=null?o=a:o=200,Math.max(Math.min(o,i),n)},e.prototype.getOriginalPathForColumn=function(t,n){var i=[],o=!1,s=function(a,l){for(var u=0;u<a.length;u++){if(o)return;var c=a[u];if(c instanceof or){var d=c;s(d.getChildren(),l+1),i[l]=c}else c===t&&(o=!0)}};return s(n,0),o?i:null},e.prototype.depthFirstOriginalTreeSearch=function(t,n,i){var o=this;n&&n.forEach(function(s){s instanceof or&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),i),i(s,t)})},e.prototype.depthFirstAllColumnTreeSearch=function(t,n){var i=this;t&&t.forEach(function(o){o instanceof Qr&&i.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,n){var i=this;t&&t.forEach(function(o){o instanceof Qr&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},e=W2e([De("columnUtils")],e),e}(fe),U2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nie=function(r){U2e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createDisplayedGroups=function(t,n,i,o){for(var s=this,a=this.mapOldGroupsById(o),l=[],u=t,c=function(){var d=u;u=[];for(var h=0,p=function(P){var F=h;h=P;var _=d[F],E=_ instanceof Qr?_.getProvidedColumnGroup():_,T=E.getOriginalParent();if(T==null){for(var O=F;O<P;O++)l.push(d[O]);return}for(var L=s.createColumnGroup(T,n,a,i),O=F;O<P;O++)L.addChild(d[O]);u.push(L)},f=1;f<d.length;f++){var g=d[f],v=g instanceof Qr?g.getProvidedColumnGroup():g,y=v.getOriginalParent(),C=d[h],w=C instanceof Qr?C.getProvidedColumnGroup():C,S=w.getOriginalParent();y!==S&&p(f)}h<d.length&&p(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,n,i,o){var s=t.getGroupId(),a=n.getInstanceIdForKey(s),l=Qr.createUniqueId(s,a),u=i[l];return u&&u.getProvidedColumnGroup()!==t&&(u=null),se(u)?u.reset():(u=new Qr(t,s,a,o),this.context.createBean(u)),u},e.prototype.mapOldGroupsById=function(t){var n={},i=function(o){o.forEach(function(s){if(s instanceof Qr){var a=s;n[s.getUniqueId()]=a,i(a.getChildren())}})};return t&&i(t),n},e.prototype.setupParentsIntoColumns=function(t,n){var i=this;t.forEach(function(o){if(o.setParent(n),o instanceof Qr){var s=o;i.setupParentsIntoColumns(s.getChildren(),s)}})},e=z2e([De("displayedGroupCreator")],e),e}(fe),K2e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y2e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Gie=function(r){K2e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.componentsMappedByName={},t}return e.prototype.setupComponents=function(t){var n=this;t&&t.forEach(function(i){return n.addComponent(i)})},e.prototype.addComponent=function(t){var n=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=n.toUpperCase();this.componentsMappedByName[i]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=Y2e([De("agStackComponentsRegistry")],e),e}(fe);function Ia(r,e,t){t==null||t==""?K1(r,e):Qs(r,e,t)}function Qs(r,e,t){r.setAttribute(Vie(e),t.toString())}function K1(r,e){r.removeAttribute(Vie(e))}function Vie(r){return"aria-"+r}function Wr(r,e){e?r.setAttribute("role",e):r.removeAttribute("role")}function Hie(r){var e;return r==="asc"?e="ascending":r==="desc"?e="descending":r==="mixed"?e="other":e="none",e}function kie(r){return parseInt(r.getAttribute("aria-level"),10)}function $ie(r){return parseInt(r.getAttribute("aria-posinset"),10)}function q2e(r){return r.getAttribute("aria-describedby")||""}function Yu(r,e){Ia(r,"label",e)}function AA(r,e){Ia(r,"labelledby",e)}function Bie(r,e){Ia(r,"description",e)}function jie(r,e){Ia(r,"describedby",e)}function Wie(r,e){Ia(r,"live",e)}function Uie(r,e){Ia(r,"level",e)}function Y1(r,e){Ia(r,"disabled",e)}function xA(r,e){Ia(r,"hidden",e)}function q1(r,e){Ia(r,"activedescendant",e)}function ha(r,e){Qs(r,"expanded",e)}function zie(r){K1(r,"expanded")}function Q1(r,e){Qs(r,"setsize",e)}function X1(r,e){Qs(r,"posinset",e)}function Kie(r,e){Qs(r,"multiselectable",e)}function Yie(r,e){Qs(r,"rowcount",e)}function J1(r,e){Qs(r,"rowindex",e)}function qie(r,e){Qs(r,"colcount",e)}function Z1(r,e){Qs(r,"colindex",e)}function Qie(r,e){Qs(r,"colspan",e)}function Xie(r,e){Qs(r,"sort",e)}function Jie(r){K1(r,"sort")}function np(r,e){Ia(r,"selected",e)}function Zie(r,e){Qs(r,"checked",e===void 0?"mixed":e)}function eoe(r,e){Ia(r,"controls",e.id),AA(e,r.id)}function IA(r,e){return e===void 0?r("ariaIndeterminate","indeterminate"):e===!0?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var Q2e=Object.freeze({__proto__:null,setAriaRole:Wr,getAriaSortState:Hie,getAriaLevel:kie,getAriaPosInSet:$ie,getAriaDescribedBy:q2e,setAriaLabel:Yu,setAriaLabelledBy:AA,setAriaDescription:Bie,setAriaDescribedBy:jie,setAriaLive:Wie,setAriaLevel:Uie,setAriaDisabled:Y1,setAriaHidden:xA,setAriaActiveDescendant:q1,setAriaExpanded:ha,removeAriaExpanded:zie,setAriaSetSize:Q1,setAriaPosInSet:X1,setAriaMultiSelectable:Kie,setAriaRowCount:Yie,setAriaRowIndex:J1,setAriaColCount:qie,setAriaColIndex:Z1,setAriaColSpan:Qie,setAriaSort:Xie,removeAriaSort:Jie,setAriaSelected:np,setAriaChecked:Zie,setAriaControls:eoe,getAriaCheckboxStateName:IA}),HI,bE,kI,$I,BI,jI,WL,UL;function Ws(){return HI===void 0&&(HI=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),HI}function eH(){if(bE===void 0)if(Ws()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(bE=r[1]!=null?parseFloat(r[1]):0)}else bE=0;return bE}function FA(){if(kI===void 0){var r=window;kI=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return kI}function tH(){return $I===void 0&&($I=/(firefox)/i.test(navigator.userAgent)),$I}function nH(){return BI===void 0&&(BI=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),BI}function Td(){return jI===void 0&&(jI=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),jI}function MA(){return!Ws()||eH()>=15}function mP(r){if(!r)return null;var e=r.tabIndex,t=r.getAttribute("tabIndex");return e===-1&&(t===null||t===""&&!tH())?null:e.toString()}function toe(){if(!document.body)return-1;var r=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,t=document.createElement("div");for(document.body.appendChild(t);;){var n=r*2;if(t.style.height=n+"px",n>e||t.clientHeight!==n)break;r=n}return document.body.removeChild(t),r}function noe(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientWidth)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientWidth)||-1}function roe(){var r,e,t;return(e=(r=document.body)===null||r===void 0?void 0:r.clientHeight)!==null&&e!==void 0?e:window.innerHeight||((t=document.documentElement)===null||t===void 0?void 0:t.clientHeight)||-1}function ioe(){return UL==null&&ooe(),UL}function ooe(){var r=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",r.appendChild(e);var t=e.offsetWidth-e.clientWidth;t===0&&e.clientWidth===0&&(t=null),e.parentNode&&e.parentNode.removeChild(e),t!=null&&(UL=t,WL=t===0)}function yC(){return WL==null&&ooe(),WL}var X2e=Object.freeze({__proto__:null,isBrowserSafari:Ws,getSafariVersion:eH,isBrowserChrome:FA,isBrowserFirefox:tH,isMacOsUserAgent:nH,isIOSUserAgent:Td,browserSupportsPreventScroll:MA,getTabIndex:mP,getMaxDivHeight:toe,getBodyWidth:noe,getBodyHeight:roe,getScrollbarWidth:ioe,isInvisibleScrollbar:yC});function qf(r,e){return r.toString().padStart(e,"0")}function soe(r,e){for(var t=[],n=r;n<=e;n++)t.push(n);return t}function J2e(r){return typeof r=="string"&&(r=parseInt(r,10)),typeof r=="number"?Math.floor(r):null}function Z2e(r,e){for(var t="",n=0;n<e;n++)t+=String.fromCharCode(r&255),r>>>=8;return t}function e3e(r,e,t){return typeof r!="number"?"":rH(Math.round(r*100)/100,e,t)}function rH(r,e,t){return typeof r!="number"?"":r.toString().replace(".",t).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}function t3e(r){return r==null?null:r.reduce(function(e,t){return e+t},0)}function n3e(r,e){return r>=0?r:e}function r3e(r,e){var t=parseInt(r,10);return!isNaN(t)&&isFinite(t)&&t>0?t:e}var i3e=Object.freeze({__proto__:null,padStartWidthZeros:qf,createArrayOfNumbers:soe,cleanNumber:J2e,decToHex:Z2e,formatNumberTwoDecimalPlacesAndCommas:e3e,formatNumberCommas:rH,sum:t3e,zeroOrGreater:n3e,oneOrGreater:r3e}),WI=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o};function Vs(r,e,t){if(e===void 0&&(e=!0),t===void 0&&(t="-"),!r)return null;var n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(i){return qf(i,2)}).join(t);return e&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(i){return qf(i,2)}).join(":")),n}var UI=function(r){if(r>3&&r<21)return"th";var e=r%10;switch(e){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Qf(r,e){e===void 0&&(e="YYYY-MM-DD");var t=qf(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return t.slice(t.length-4,t.length)},YY:function(){return t.slice(t.length-2,t.length)},Y:function(){return""+r.getFullYear()},MMMM:function(){return n[r.getMonth()]},MMM:function(){return n[r.getMonth()].slice(0,3)},MM:function(){return qf(r.getMonth()+1,2)},Mo:function(){return""+(r.getMonth()+1)+UI(r.getMonth()+1)},M:function(){return""+(r.getMonth()+1)},Do:function(){return""+r.getDate()+UI(r.getDate())},DD:function(){return qf(r.getDate(),2)},D:function(){return""+r.getDate()},dddd:function(){return i[r.getDay()]},ddd:function(){return i[r.getDay()].slice(0,3)},dd:function(){return i[r.getDay()].slice(0,2)},do:function(){return""+r.getDay()+UI(r.getDay())},d:function(){return""+r.getDay()}},s=new RegExp(Object.keys(o).join("|"),"g");return e.replace(s,function(a){return a in o?o[a]():a})}function Eo(r){if(!r)return null;var e=WI(r.split(" "),2),t=e[0],n=e[1];if(!t)return null;var i=t.split("-").map(function(f){return parseInt(f,10)});if(i.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=WI(i,3),s=o[0],a=o[1],l=o[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!n||n==="00:00:00")return u;var c=WI(n.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],h=c[1],p=c[2];return d>=0&&d<24&&u.setHours(d),h>=0&&h<60&&u.setMinutes(h),p>=0&&p<60&&u.setSeconds(p),u}var o3e=Object.freeze({__proto__:null,serialiseDate:Vs,dateToFormattedString:Qf,parseDateTimeFromString:Eo}),s3e=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a3e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},RE;function zL(r,e,t){for(var n=r.parentElement,i=n&&n.firstChild;i;)e&&i.classList.toggle(e,i===r),t&&i.classList.toggle(t,i!==r),i=i.nextSibling}var aoe="[tabindex], input, select, button, textarea, [href]",iH=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function oH(r){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,t="input, select, button, textarea",n=e.call(r,t),i=e.call(r,iH),o=Od(r),s=n&&!i&&o;return s}function Bt(r,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;r.classList.toggle("ag-hidden",!e),n||xA(r,!e)}function loe(r,e,t){t===void 0&&(t={});var n=t.skipAriaHidden;r.classList.toggle("ag-invisible",!e),n||xA(r,!e)}function Fg(r,e){var t="disabled",n=e?function(i){return i.setAttribute(t,"")}:function(i){return i.removeAttribute(t)};n(r),dH(r.querySelectorAll("input"),function(i){return n(i)})}function Ph(r,e,t){for(var n=0;r;){if(r.classList.contains(e))return!0;if(r=r.parentElement,typeof t=="number"){if(++n>t)break}else if(r===t)break}return!1}function Pd(r){var e=window.getComputedStyle(r),t=e.height,n=e.width,i=e.borderTopWidth,o=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,h=e.marginTop,p=e.marginRight,f=e.marginBottom,g=e.marginLeft,v=e.boxSizing;return{height:parseFloat(t),width:parseFloat(n),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(h),marginRight:parseFloat(p),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:v}}function dS(r){var e=Pd(r);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function LA(r){var e=Pd(r);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function sH(r){var e=Pd(r),t=e.marginBottom+e.marginTop;return Math.ceil(r.offsetHeight+t)}function CC(r){var e=Pd(r),t=e.marginLeft+e.marginRight;return Math.ceil(r.offsetWidth+t)}function aH(r){var e=r.getBoundingClientRect(),t=Pd(r),n=t.borderTopWidth,i=t.borderLeftWidth,o=t.borderRightWidth,s=t.borderBottomWidth;return{top:e.top+(n||0),left:e.left+(i||0),right:e.right+(o||0),bottom:e.bottom+(s||0)}}function wC(){if(typeof RE=="boolean")return RE;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(r),r.scrollLeft=1,RE=Math.floor(r.scrollLeft)===0,document.body.removeChild(r),RE}function SC(r,e){var t=r.scrollLeft;return e&&(t=Math.abs(t),FA()&&!wC()&&(t=r.scrollWidth-r.clientWidth-t)),t}function EC(r,e,t){t&&(wC()?e*=-1:(Ws()||FA())&&(e=r.scrollWidth-r.clientWidth-e)),r.scrollLeft=e}function ki(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function l3e(r,e){au(r.querySelector(e))}function au(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Od(r){return r.offsetParent!==null}function fi(r){var e=document.createElement("div");return e.innerHTML=(r||"").trim(),e.firstChild}function u3e(r,e){r.lastChild?r.insertAdjacentHTML("afterbegin",e):r.innerHTML=e}function c3e(r,e){if(r.attributes&&r.attributes[e]){var t=r.attributes[e];return t.value}return null}function KL(r){return r&&r.clientHeight?r.clientHeight:0}function YL(r){return r&&r.clientWidth?r.clientWidth:0}function lH(r,e,t){if(!(t&&t.nextSibling===e)){var n=document.activeElement,i=e.contains(n);t?t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e):r.firstChild&&r.firstChild!==e&&r.insertAdjacentElement("afterbegin",e),i&&n&&MA()&&n.focus({preventScroll:!0})}}function uH(r,e){for(var t=0;t<e.length;t++){var n=e[t],i=r.children[t];i!==n&&r.insertBefore(n,i)}}function uoe(r,e,t){t?t.insertAdjacentElement("afterend",e):r.firstChild?r.insertAdjacentElement("afterbegin",e):r.appendChild(e)}function d3e(r,e){se(r.firstChild)?r.insertBefore(e,r.firstChild):r.appendChild(e)}function cH(r,e){var t,n;if(e)try{for(var i=s3e(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=a3e(o.value,2),a=s[0],l=s[1];if(!(!a||!a.length||l==null)){var u=xie(a),c=l.toString(),d=c.replace(/\s*!important/g,""),h=d.length!=c.length?"important":void 0;r.style.setProperty(u,d,h)}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}function coe(r){return r.clientWidth<r.scrollWidth}function doe(r){return r.clientHeight<r.scrollHeight}function _C(r,e){e==="flex"?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):Hs(r,e)}function Hs(r,e){e=NA(e),r.style.width=e.toString(),r.style.maxWidth=e.toString(),r.style.minWidth=e.toString()}function h3e(r,e){e==="flex"?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):Oh(r,e)}function Oh(r,e){e=NA(e),r.style.height=e.toString(),r.style.maxHeight=e.toString(),r.style.minHeight=e.toString()}function NA(r){return typeof r=="number"?r+"px":r}function hS(r){return r instanceof Node||r instanceof HTMLElement}function hoe(r){if(r==null)return[];var e=[];return dH(r,function(t){return e.push(t)}),e}function poe(r,e){if(r)for(var t=0;t<r.length;t++){var n=r[t];e(n.name,n.value)}}function _l(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t.toString())}function dH(r,e){if(r!=null)for(var t=0;t<r.length;t++)e(r[t])}function hH(r,e){r.then(function(t){var n=t.getGui();n!=null&&(typeof n=="object"?e.appendChild(n):e.innerHTML=n)})}var p3e=Object.freeze({__proto__:null,radioCssClass:zL,FOCUSABLE_SELECTOR:aoe,FOCUSABLE_EXCLUDE:iH,isFocusableFormField:oH,setDisplayed:Bt,setVisible:loe,setDisabled:Fg,isElementChildOfClass:Ph,getElementSize:Pd,getInnerHeight:dS,getInnerWidth:LA,getAbsoluteHeight:sH,getAbsoluteWidth:CC,getElementRectWithOffset:aH,isRtlNegativeScroll:wC,getScrollLeft:SC,setScrollLeft:EC,clearElement:ki,removeElement:l3e,removeFromParent:au,isVisible:Od,loadTemplate:fi,appendHtml:u3e,getElementAttribute:c3e,offsetHeight:KL,offsetWidth:YL,ensureDomOrder:lH,setDomChildOrder:uH,insertWithDomOrder:uoe,prependDC:d3e,addStylesToElement:cH,isHorizontalScrollShowing:coe,isVerticalScrollShowing:doe,setElementWidth:_C,setFixedWidth:Hs,setElementHeight:h3e,setFixedHeight:Oh,formatSize:NA,isNodeOrElement:hS,copyNodeList:hoe,iterateNamedNodeMap:poe,addOrRemoveAttribute:_l,nodeListForEach:dH,bindCellRendererToHtmlElement:hH}),foe={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Os(r,e,t){var n=Cr(r,e,t);if(n){var i=n.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Cr(r,e,t,n){var i=null,o=t&&t.getColDef().icons;if(o&&(i=o[r]),e&&!i){var s=e.get("icons");s&&(i=s[r])}if(i){var a=void 0;if(typeof i=="function")a=i();else if(typeof i=="string")a=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return fi(a);if(hS(a))return a;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=foe[r];return u||(n?u=r:(console.warn("AG Grid: Did not find icon "+r),u="")),l.setAttribute("class","ag-icon ag-icon-"+u),l.setAttribute("unselectable","on"),Wr(l,"presentation"),l}}var f3e=Object.freeze({__proto__:null,iconNameClassMap:foe,createIcon:Os,createIconNoSpan:Cr}),ee=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}(),g3e=65,m3e=67,v3e=86,y3e=68,C3e=90,w3e=89;function GA(r){if(r.altKey||r.ctrlKey||r.metaKey)return!1;var e=r.key.length===1;return e}function vP(r,e,t,n,i){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s={event:e,editing:i,column:n,api:r.api,node:t,data:t.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};if(o){var a=o(s);if(a)return!0}return!1}function goe(r,e,t,n){var i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!se(o))return!1;var s={api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:t,event:e};return!!o(s)}function moe(r){var e=r.keyCode,t;switch(e){case g3e:t=ee.A;break;case m3e:t=ee.C;break;case v3e:t=ee.V;break;case y3e:t=ee.D;break;case C3e:t=ee.Z;break;case w3e:t=ee.Y;break;default:t=r.code}return t}function voe(r,e){return e===void 0&&(e=!1),r===ee.DELETE?!0:!e&&r===ee.BACKSPACE?nH():!1}var S3e=Object.freeze({__proto__:null,isEventFromPrintableCharacter:GA,isUserSuppressingKeyboardEvent:vP,isUserSuppressingHeaderKeyboardEvent:goe,normaliseQwertyAzerty:moe,isDeleteKey:voe});function pH(r,e,t){if(t===0)return!1;var n=Math.abs(r.clientX-e.clientX),i=Math.abs(r.clientY-e.clientY);return Math.max(n,i)<=t}var E3e=Object.freeze({__proto__:null,areEventsNear:pH});function _3e(r,e){if(!r)return!1;for(var t=function(a,l){var u=e[a.id],c=e[l.id],d=u!==void 0,h=c!==void 0,p=d&&h,f=!d&&!h;return p?u-c:f?a.__objectId-l.__objectId:d?1:-1},n,i,o=!1,s=0;s<r.length-1;s++)if(n=r[s],i=r[s+1],t(n,i)>0){o=!0;break}return o?(r.sort(t),!0):!1}function b3e(r,e){var t=[];n(r);function n(i){i&&i.forEach(function(o){if(o.group||o.hasChildren()){t.push(o.key);var s=t.join("|");e(o,s),n(o.childrenAfterGroup),t.pop()}})}}var R3e=Object.freeze({__proto__:null,sortRowNodesByOrder:_3e,traverseNodesWithKey:b3e});function fH(r){var e=new Set;return r.forEach(function(t){return e.add(t)}),e}var T3e=Object.freeze({__proto__:null,convertToSet:fH}),br=function(){return br=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},br.apply(this,arguments)},P3e=br(br(br(br(br(br(br(br(br(br(br(br(br(br(br(br(br(br({},Q2e),C2e),X2e),o3e),p3e),S2e),a2e),G2e),QUe),f3e),S3e),M2e),E3e),i3e),i2e),R3e),T3e),x2e),et=P3e,rp=function(){function r(e,t){e===void 0&&(e=0),t===void 0&&(t=1),this.nextValue=e,this.step=t}return r.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(e){this.nextValue+=e},r}(),hh;(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"})(hh||(hh={}));var ts=function(){function r(e){var t=this;this.status=hh.IN_PROGRESS,this.resolution=null,this.waiters=[],e(function(n){return t.onDone(n)},function(n){return t.onReject(n)})}return r.all=function(e){return new r(function(t){var n=e.length,i=new Array(n);e.forEach(function(o,s){o.then(function(a){i[s]=a,n--,n===0&&t(i)})})})},r.resolve=function(e){return e===void 0&&(e=null),new r(function(t){return t(e)})},r.prototype.then=function(e){var t=this;return new r(function(n){t.status===hh.RESOLVED?n(e(t.resolution)):t.waiters.push(function(i){return n(e(i))})})},r.prototype.resolveNow=function(e,t){return this.status===hh.RESOLVED?t(this.resolution):e},r.prototype.onDone=function(e){this.status=hh.RESOLVED,this.resolution=e,this.waiters.forEach(function(t){return t(e)})},r.prototype.onReject=function(e){console.warn("TBI")},r}(),O3e=function(){function r(){this.timestamp=new Date().getTime()}return r.prototype.print=function(e){var t=new Date().getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=new Date().getTime()},r}(),D3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nh=function(){return nh=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},nh.apply(this,arguments)},zI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ia;(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"})(ia||(ia={}));var Xa;(function(r){r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS"})(Xa||(Xa={}));var VA=function(r){D3e(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parentComp=t,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=i,o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=ia.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return e.prototype.postConstruct=function(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===Xa.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Xa.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var n=this.gridOptionsService.getNum(t);if(se(n))return n<0&&Dt(function(){return console.warn("AG Grid: "+t+" should not be lower than 0")},t+"Warn"),Math.max(200,n)},e.prototype.getTooltipDelay=function(t){var n,i,o,s;return t==="show"?(i=(n=this.getGridOptionsTooltipDelay("tooltipShowDelay"))!==null&&n!==void 0?n:this.tooltipShowDelayOverride)!==null&&i!==void 0?i:this.DEFAULT_SHOW_TOOLTIP_DELAY:(s=(o=this.getGridOptionsTooltipDelay("tooltipHideDelay"))!==null&&o!==void 0?o:this.tooltipHideDelayOverride)!==null&&s!==void 0?s:this.DEFAULT_HIDE_TOOLTIP_DELAY},e.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return!t||t==="hover"?Xa.HOVER:Xa.FOCUS},e.prototype.onMouseEnter=function(t){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Td()&&(e.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===ia.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var n,i=t.relatedTarget,o=this.parentComp.getGui(),s=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&(s!=null&&s.contains(i))||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=ia.NOTHING||e.isLocked)return!1;var n=0;return t&&(n=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=ia.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){var t=new Date().getTime(),n=e.lastTooltipHideTime;return t-n<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===ia.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=ia.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=nh({},this.parentComp.getTooltipParams());if(!se(t.value)){this.setToDoNothing();return}this.state=ia.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(t);i.newAgStackInstance().then(n)},e.prototype.hideTooltip=function(t){if(!(!t&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=new Date().getTime());var n={type:H.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=ia.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,n){var i=this.state!==ia.SHOWING||this.tooltipInstanceCount!==t;if(i){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Xa.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===Xa.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Xa.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:H.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var n,i=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),s=t.relatedTarget;o!=null&&o.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(nh(nh({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(nh(nh({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===Xa.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),t.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(t){t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){t.unlockService(),t.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,zI([G("popupService")],e.prototype,"popupService",void 0),zI([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),zI([ge],e.prototype,"postConstruct",null),e}(fe),yoe=function(){function r(e){this.cssClassStates={},this.getGui=e}return r.prototype.addCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.addCssClass(s)});return}var i=this.cssClassStates[e]!==!0;if(i&&e.length){var o=this.getGui();o&&o.classList.add(e),this.cssClassStates[e]=!0}},r.prototype.removeCssClass=function(e){var t=this,n=(e||"").split(" ");if(n.length>1){n.forEach(function(s){return t.removeCssClass(s)});return}var i=this.cssClassStates[e]!==!1;if(i&&e.length){var o=this.getGui();o&&o.classList.remove(e),this.cssClassStates[e]=!1}},r.prototype.containsCssClass=function(e){var t=this.getGui();return t?t.classList.contains(e):!1},r.prototype.addOrRemoveCssClass=function(e,t){var n=this;if(e){if(e.indexOf(" ")>=0){var i=(e||"").split(" ");if(i.length>1){i.forEach(function(a){return n.addOrRemoveCssClass(a,t)});return}}var o=this.cssClassStates[e]!==t;if(o&&e.length){var s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},r}(),A3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},x3e=new rp,gt=function(r){A3e(e,r);function e(t){var n=r.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=x3e.next(),n.cssClassManager=new yoe(function(){return n.eGui}),t&&n.setTemplate(t),n}return e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,n,i){var o=this,s=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},a=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new VA(o,n,i))};this.tooltipText!=t&&(this.tooltipText&&s(),t!=null&&(this.tooltipText=t,this.tooltipText&&a()))},e.prototype.createChildComponentsFromTags=function(t,n){var i=this,o=hoe(t.childNodes);o.forEach(function(s){if(s instanceof HTMLElement){var a=i.createComponentFromElement(s,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(s,u.getGui())},n);if(a){if(a.addItems&&s.children.length){i.createChildComponentsFromTags(s,n);var l=Array.prototype.slice.call(s.children);a.addItems(l)}i.swapComponentForNode(a,t,s)}else s.childNodes&&i.createChildComponentsFromTags(s,n)}})},e.prototype.createComponentFromElement=function(t,n,i){var o=t.nodeName,s=i?i[t.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(o);if(a){e.elementGettingCreated=t;var l=new a(s);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},e.prototype.copyAttributesFromNode=function(t,n){poe(t.attributes,function(i,o){return n.setAttribute(i,o)})},e.prototype.swapComponentForNode=function(t,n,i){var o=t.getGui();n.replaceChild(o,i),n.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,i)},e.prototype.swapInComponentForQuerySelectors=function(t,n){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===n&&(i[o.attributeName]=t)})},e.prototype.iterateOverQuerySelectors=function(t){for(var n=Object.getPrototypeOf(this);n!=null;){var i=n.__agComponentMetaData,o=OA(n.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(s){return t(s)}),n=Object.getPrototypeOf(n)}},e.prototype.activateTabIndex=function(t){var n=this.gridOptionsService.getNum("tabIndex")||0;t||(t=[]),t.length||t.push(this.getGui()),t.forEach(function(i){return i.setAttribute("tabindex",n.toString())})},e.prototype.setTemplate=function(t,n){var i=fi(t);this.setTemplateFromElement(i,n)},e.prototype.setTemplateFromElement=function(t,n){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return n[i.attributeName]=l},s=i.refSelector&&t.getAttribute("ref")===i.refSelector;if(s)o(t.eGui);else{var a=t.eGui.querySelector(i.querySelector);a&&o(a.__agComponent||a)}})}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,n){if(t!=null)if(n||(n=this.eGui),hS(t))n.appendChild(t);else{var i=t;n.appendChild(i.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,n){if(n===void 0&&(n={}),t!==this.visible){this.visible=t;var i=n.skipAriaHidden;loe(this.eGui,t,{skipAriaHidden:i})}},e.prototype.setDisplayed=function(t,n){if(n===void 0&&(n={}),t!==this.displayed){this.displayed=t;var i=n.skipAriaHidden;Bt(this.eGui,t,{skipAriaHidden:i});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),r.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,n,i){var o=this;this.eGui.addEventListener(t,n,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(t,n)})},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,n){this.cssClassManager.addOrRemoveCssClass(t,n)},e.prototype.getAttribute=function(t){var n=this.eGui;return n?n.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",KI([G("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),KI([HL],e.prototype,"preConstructOnComponent",null),KI([HL],e.prototype,"createChildComponentsPreConstruct",null),e}(fe);function I3e(r){return Coe.bind(this,r,void 0)}function ye(r){return Coe.bind(this,"[ref="+r+"]",r)}function Coe(r,e,t,n,i){if(r===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}F3e(t,"querySelectors",{attributeName:n,querySelector:r,refSelector:e})}function F3e(r,e,t){var n=M3e(r,OA(r.constructor));n[e]||(n[e]=[]),n[e].push(t)}function M3e(r,e){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[e]||(r.__agComponentMetaData[e]={}),r.__agComponentMetaData[e]}var L3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),C5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},N3e=function(r){L3e(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+i("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var n=this;if(!t){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(t);n.eFloatingFilterText.setValue(o)}})},e.prototype.onParamsUpdated=function(t){this.init(t)},C5([ye("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),C5([G("columnModel")],e.prototype,"columnModel",void 0),e}(gt),woe=function(){function r(e,t,n,i){var o=this;this.alive=!0,this.context=e,this.eParent=i;var s=t.getDateCompDetails(n),a=s.newAgStackInstance();a.then(function(l){if(!o.alive){e.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},r.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},r.prototype.setDisplayed=function(e){Bt(this.eParent,e)},r.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},r.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},r.prototype.afterGuiAttached=function(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)},r.prototype.updateParams=function(e){var t;!((t=this.dateComp)===null||t===void 0)&&t.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)},r.prototype.setDateCompDisabled=function(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)},r}(),Soe=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach(function(t){if(typeof t!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(s){return t[s]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+o+"'"),!1)};if(!n.every(i)){e.filterOptions=e.filterOptions.filter(function(o){return o===t})||[];return}e.customFilterOptions[t.displayKey]=t}})},r.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},r}(),Eoe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},G3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qL=function(){return qL=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qL.apply(this,arguments)},w5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qu=function(r){G3e(e,r);function e(t,n){n===void 0&&(n={});var i=r.call(this)||this;return i.eFocusableElement=t,i.callbacks=n,i.callbacks=qL({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);s&&(s.focus(),o.preventDefault())}}},n),i}return e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var n=this;this.addManagedListener(t,"keydown",function(i){if(!(i.defaultPrevented||ga(i))){if(n.callbacks.shouldStopEventPropagation(i)){Fl(i);return}i.key===ee.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},e.FOCUS_MANAGED_CLASS="ag-focus-managed",w5([G("focusService")],e.prototype,"focusService",void 0),w5([ge],e.prototype,"postConstruct",null),e}(fe),V3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_oe="ag-resizer-wrapper",H3e='<div class="'+_oe+`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,gH=function(r){V3e(e,r);function e(t,n){var i=r.call(this)||this;return i.element=t,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return e.prototype.center=function(){var t=this.offsetParent,n=t.clientHeight,i=t.clientWidth,o=i/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,n=t.centered,i=t.forcePopupParentAsOffsetParent,o=t.minWidth,s=t.width,a=t.minHeight,l=t.height,u=t.x,c=t.y;this.offsetParent||this.setOffsetParent();var d=0,h=0,p=!!this.element.offsetParent;if(p){var f=this.findBoundaryElement(),g=window.getComputedStyle(f);if(g.minWidth!=null){var v=f.offsetWidth-this.element.offsetWidth;h=parseInt(g.minWidth,10)-v}if(g.minHeight!=null){var y=f.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-y}}if(this.minHeight=a||d,this.minWidth=o||h,s&&this.setWidth(s),l&&this.setHeight(l),(!s||!l)&&this.refreshSize(),n)this.center();else if(u||c)this.offsetElement(u,c);else if(p&&i){var f=this.boundaryEl,C=!0;if(f||(f=this.findBoundaryElement(),C=!1),f){var w=parseFloat(f.style.top),S=parseFloat(f.style.left);C?this.offsetElement(isNaN(S)?0:S,isNaN(w)?0:w):this.setPosition(S,w)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,n){if(!(!this.config.popup||t===this.movable)){this.movable=t;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var n=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(function(i){var o=t,s=!!o[i],a=n.getResizerElement(i),l={dragStartPixels:0,eElement:a,onDragStart:function(u){return n.onResizeStart(u,i)},onDragging:n.onResize.bind(n),onDragStop:function(u){return n.onResizeEnd(u,i)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(l),n.resizeListeners.push(l),a.style.pointerEvents="all"):a.style.pointerEvents="none",n.resizable[i]=s)})},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,n=t.height,i=t.width;i!==-1&&(this.element.style.width=i+"px"),n!==-1&&(this.element.style.height=n+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var n=this.config.popup,i=this.element,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Oh(i,t),t=sH(i),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var s=this.getAvailableHeight();s&&t>s&&(t=s)}this.getHeight()!==t&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?Oh(i,t):(i.style.height=t+"px",i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,n=t.popup,i=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:s.top,u=n?0:a.top,c=0;if(i){var d=this.element.parentElement;if(d){var h=d.getBoundingClientRect().bottom;c=h-s.bottom}}var p=o+u-l-c;return p},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var n=this.element,i=this.config.popup,o=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Hs(n,t),t=CC(n),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var s=this.offsetParent.clientWidth,a=i?this.position.x:this.element.getBoundingClientRect().left;s&&t+a>s&&(t=s-a)}this.getWidth()!==t&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?Hs(n,t):(n.style.width=t+"px",n.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))},e.prototype.offsetElement=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var n=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height",o+"px")};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n},e.prototype.updateDragStartPosition=function(t,n){this.dragStartPosition={x:t,y:n}},e.prototype.calculateMouseMovement=function(t){var n=t.e,i=t.isLeft,o=t.isTop,s=t.anywhereWithin,a=t.topBuffer,l=n.clientX-this.dragStartPosition.x,u=n.clientY-this.dragStartPosition.y,c=this.shouldSkipX(n,!!i,!!s,l)?0:l,d=this.shouldSkipY(n,!!o,a,u)?0:u;return{movementX:c,movementY:d}},e.prototype.shouldSkipX=function(t,n,i,o){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:s.left,c=u<=0&&a.left>=t.clientX||a.right<=t.clientX&&a.right<=l.right;return c?!0:(n?c=o<0&&t.clientX>u+a.left||o>0&&t.clientX<u+a.left:i?c=o<0&&t.clientX>l.right||o>0&&t.clientX<u+a.left:c=o<0&&t.clientX>l.right||o>0&&t.clientX<l.right,c)},e.prototype.shouldSkipY=function(t,n,i,o){i===void 0&&(i=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:s.top,c=u<=0&&a.top>=t.clientY||a.bottom<=t.clientY&&a.bottom<=l.bottom;return c?!0:(n?c=o<0&&t.clientY>u+a.top+i||o>0&&t.clientY<u+a.top:c=o<0&&t.clientY>l.bottom||o>0&&t.clientY<l.bottom,c)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var n=new DOMParser,i=n.parseFromString(H3e,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+_oe);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config,o=i.popup,s=i.forcePopupParentAsOffsetParent;!o&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element,n=t.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],n=0,i=0,o=0;o<t.length;o++){var s=t[o],a=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(a){var c=window.getComputedStyle(s);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=s.offsetHeight,u=s.offsetWidth;n+=l,i+=u}}return{height:n,width:i}},e.prototype.applySizeToSiblings=function(t){var n=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var s=i[o];s!==n&&(t?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(n=i[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some(function(t){return t})},e.prototype.onResize=function(t){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,l=s.isRight,u=s.isBottom,c=s.isLeft,d=l||c,h=u||a,p=this.calculateMouseMovement({e:t,isLeft:c,isTop:a}),f=p.movementX,g=p.movementY,v=this.position.x,y=this.position.y,C=0,w=0;if(d&&f){var S=c?-1:1,P=this.getWidth(),F=P+f*S,_=!1;c&&(C=P-F,(v+C<=0||F<=this.minWidth)&&(_=!0,C=0)),_||this.setWidth(F)}if(h&&g){var S=a?-1:1,E=this.getHeight(),T=E+g*S,O=!1;a?(w=E-T,(y+w<=0||T<=this.minHeight)&&(O=!0,w=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&E<T&&this.getMinSizeOfSiblings().height+T>this.element.parentElement.offsetHeight&&(O=!0),O||this.setHeight(T)}this.updateDragStartPosition(t.clientX,t.clientY),((i||o)&&C||w)&&this.offsetElement(v+C,y+w)}},e.prototype.onResizeEnd=function(t,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var n=this.position,i=n.x,o=n.y,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s}),l=a.movementX,u=a.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},YI([G("popupService")],e.prototype,"popupService",void 0),YI([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),YI([G("dragService")],e.prototype,"dragService",void 0),e}(fe),k3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bC=function(r){k3e(e,r);function e(t){var n=r.call(this)||this;return n.filterNameKey=t,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n}return e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new qu(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new gH(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`+this.getCssIdentifier()+`-body-wrapper" ref="eFilterBody">
                    `+this.createBodyTemplate()+`
                </div>
            </form>`;this.setTemplate(i,t),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var n=this;this.setParams(t),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,n=this.providedFilterParams.buttons;if(!(!n||n.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel");var o=function(s){var a,l;switch(s){case"apply":a=t.translate("applyFilter"),l=function(d){return t.onBtApply(!1,!1,d)};break;case"clear":a=t.translate("clearFilter"),l=function(){return t.onBtClear()};break;case"reset":a=t.translate("resetFilter"),l=function(){return t.onBtReset()};break;case"cancel":a=t.translate("cancelFilter"),l=function(d){t.onBtCancel(d)};break;default:console.warn("AG Grid: Unknown button type specified");return}var u=s==="apply"?"submit":"button",c=fi(`<button
                    type="`+u+`"
                    ref="`+s+`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`+a+`
                </button>`);i.appendChild(c),t.addManagedListener(c,"click",l)};fH(n).forEach(function(s){return o(s)}),this.getGui().appendChild(i)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=da(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,i()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var n=this,i=t!=null?this.setModelIntoUi(t):this.resetUiToDefaults();return i.then(function(){n.updateUiVisibility(),n.applyModel("api")})},e.prototype.onBtCancel=function(t){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(t)})},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,n){var i=this,o=function(){i.onUiChanged(!1,"prevent"),n==null||n()};t!=null?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then(function(){return t.onUiChanged()})},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,n,i){if(t===void 0&&(t=!1),n===void 0&&(n=!1),i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:n,source:o})}var s=this.providedFilterParams.closeOnApply;s&&this.applyActive&&!t&&!n&&this.close(i)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var n=t,i=n&&n.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},e.prototype.onUiChanged=function(t,n){if(t===void 0&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi());Fg(this.getRefElement("applyFilterButton"),!i)}t&&!n||n==="immediately"?this.onBtApply(t):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(!(!this.positionableFeature||t==="toolPanel")){var n=t==="floatingFilter",i=this,o=i.positionableFeature,s=i.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(s.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),r.prototype.destroy.call(this)},e.prototype.translate=function(t){var n=this.localeService.getLocaleTextFunc();return n(t,Eoe[t])},e.prototype.getCellValue=function(t){var n=this.providedFilterParams,i=n.api,o=n.colDef,s=n.column,a=n.columnApi,l=n.context;return this.providedFilterParams.valueGetter({api:i,colDef:o,column:s,columnApi:a,context:l,data:t.data,getValue:function(u){return t.data[u]},node:t})},e.prototype.getPositionableElement=function(){return this.eFilterBody},qI([G("rowModel")],e.prototype,"rowModel",void 0),qI([ye("eFilterBody")],e.prototype,"eFilterBody",void 0),qI([ge],e.prototype,"postConstruct",null),e}(gt),$3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B3e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mH=function(r){$3e(e,r);function e(t,n){var i=r.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=t||{},i}return e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,n=t.labelSeparator,i=t.label,o=t.labelWidth,s=t.labelAlignment;n!=null&&this.setLabelSeparator(n),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){ki(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Bt(this.eLabel,!1),Wr(this.eLabel,"presentation")):(Bt(this.eLabel,!0),Wr(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)},e.prototype.setLabelAlignment=function(t){var n=this.getGui(),i=n.classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return this.label==null?this:(_C(this.eLabel,t),this)},e.prototype.setDisabled=function(t){t=!!t;var n=this.getGui();return Fg(n,t),n.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},B3e([ge],e.prototype,"postConstruct",null),e}(gt),j3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vH=function(r){j3e(e,r);function e(t,n,i){var o=r.call(this,t,n)||this;return o.className=i,o}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,H.EVENT_FIELD_VALUE_CHANGED,function(){return t(n.getValue())}),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Hs(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t?this:(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:H.EVENT_FIELD_VALUE_CHANGED}),this)},e}(mH),W3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},U3e=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,yH=function(r){W3e(e,r);function e(t){var n=r.call(this,t,(t==null?void 0:t.template)||U3e,t==null?void 0:t.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=t==null?void 0:t.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!t)return n;var i=t.pickerGap,o=t.maxPickerHeight,s=t.variableWidth,a=t.minPickerWidth,l=t.maxPickerWidth;return i!=null&&(n.pickerGap=i),n.variableWidth=!!s,o!=null&&n.setPickerMaxHeight(o),a!=null&&n.setPickerMinWidth(a),l!=null&&n.setPickerMaxWidth(l),n}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var t="ag-"+this.getCompId()+"-display";this.eDisplayField.setAttribute("id",t);var n=this.getAriaElement();jie(n,t),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Cr(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),ha(t,!1),this.ariaRole&&Wr(t,this.ariaRole)},e.prototype.refreshLabel=function(){var t,n=this.getAriaElement();AA(n,(t=this.getLabelId())!==null&&t!==void 0?t:""),r.prototype.refreshLabel.call(this)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t&&(t.preventDefault(),this.getFocusableElement().focus()),this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case ee.UP:case ee.DOWN:case ee.ENTER:case ee.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ee.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,n=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(n.body,"wheel",function(F){i.contains(F.target)||t.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerType,l=s.pickerAriaLabelKey,u=s.pickerAriaLabelValue,c=s.modalPicker,d=c===void 0?!0:c,h={modal:d,eChild:i,closeOnEsc:!0,closedCallback:function(){var F=n.activeElement===n.body;t.beforeHidePicker(),F&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(l,u)},p=this.popupService.addPopup(h),f=this,g=f.maxPickerHeight,v=f.minPickerWidth,y=f.maxPickerWidth,C=f.pickerGap,w=f.variableWidth;w?(v&&(i.style.minWidth=v),i.style.width=NA(CC(this.eWrapper)),y&&(i.style.maxWidth=y)):_C(i,y??CC(this.eWrapper));var S=g??dS(this.popupService.getPopupParent())+"px";i.style.setProperty("max-height",S),i.style.position="absolute";var P=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:a,eventSource:this.eWrapper,ePopup:i,position:"under",alignSide:P,keepWithinBounds:!0,nudgeY:C}),p.hideFunc},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){if(this.isAlive()){var n=this.getAriaElement();ha(n,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setAriaLabel=function(t){return Yu(this.getAriaElement(),t),this},e.prototype.setInputWidth=function(t){return _C(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return typeof t=="number"&&(t=t+"px"),this.minPickerWidth=t??void 0,this},e.prototype.setPickerMaxWidth=function(t){return typeof t=="number"&&(t=t+"px"),this.maxPickerWidth=t??void 0,this},e.prototype.setPickerMaxHeight=function(t){return typeof t=="number"&&(t=t+"px"),this.maxPickerHeight=t??void 0,this},e.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},uv([G("popupService")],e.prototype,"popupService",void 0),uv([ye("eLabel")],e.prototype,"eLabel",void 0),uv([ye("eWrapper")],e.prototype,"eWrapper",void 0),uv([ye("eDisplayField")],e.prototype,"eDisplayField",void 0),uv([ye("eIcon")],e.prototype,"eIcon",void 0),e}(vH),z3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K3e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},S5=function(r){z3e(e,r);function e(t){t===void 0&&(t="default");var n=r.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return n.cssIdentifier=t,n.options=[],n.itemEls=[],n}return e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var n=t.key;switch(n){case ee.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case ee.DOWN:case ee.UP:var o=n===ee.DOWN,s=void 0;if(t.preventDefault(),!this.highlightedEl)s=this.itemEls[o?0:this.itemEls.length-1];else{var a=this.itemEls.indexOf(this.highlightedEl),l=a+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),s=this.itemEls[l]}this.highlightItem(s);break}},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(i){return n.addOption(i)}),this},e.prototype.addOption=function(t){var n=t.value,i=t.text,o=Ir(i||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach(function(n,i){X1(n,i+1),Q1(n,t.length)})},e.prototype.renderOption=function(t,n){var i=this,o=document.createElement("div");Wr(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+n+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(t)}),this.getGui().appendChild(o)},e.prototype.setValue=function(t,n){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(),this;var i=this.options.findIndex(function(s){return s.value===t});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===t.value});n!==-1&&this.highlightItem(this.itemEls[n])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),np(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),np(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:H.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",K3e([ge],e.prototype,"init",null),e}(gt),Y3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QL=function(){return QL=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},QL.apply(this,arguments)},HA=function(r){Y3e(e,r);function e(t){return r.call(this,QL({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},t))||this}return e.prototype.postConstruct=function(){var t;r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=(t=this.gridOptionsService.getNum("tabIndex"))!==null&&t!==void 0?t:0},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new S5("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",function(n){n.key===ee.TAB&&(n.preventDefault(),n.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:n.key,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,S5.EVENT_ITEM_SELECTED,function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,H.EVENT_FIELD_VALUE_CHANGED,function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())})},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var n=this;return t.forEach(function(i){return n.addOption(i)}),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(t,n,i){if(this.value===t||!this.listComponent)return this;i||this.listComponent.setValue(t,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,t,n))},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}(yH),q3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Nc=function(r){q3e(e,r);function e(t,n,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var s=r.call(this,t,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`+o+' ref="eInput" class="ag-input-field-input"></'+o+`>
                </div>
            </div>`,n)||this;return s.inputType=i,s.displayFieldTag=o,s}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,n=t.width,i=t.value;n!=null&&this.setWidth(n),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.refreshLabel=function(){se(this.getLabel())?AA(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),r.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){return t.setValue(n.target.value)})},e.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return _C(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){var n=this.eInput;return n.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return _l(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Yu(this.eInput,t),this},e.prototype.setDisabled=function(t){return Fg(this.eInput,t),r.prototype.setDisabled.call(this,t)},e.prototype.setAutoComplete=function(t){if(t===!0)_l(this.eInput,"autocomplete",null);else{var n=typeof t=="string"?t:"off";_l(this.eInput,"autocomplete",n)}return this},QI([ye("eLabel")],e.prototype,"eLabel",void 0),QI([ye("eWrapper")],e.prototype,"eWrapper",void 0),QI([ye("eInput")],e.prototype,"eInput",void 0),e}(vH),Q3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pS=function(r){Q3e(e,r);function e(t,n,i){n===void 0&&(n="ag-checkbox"),i===void 0&&(i="checkbox");var o=r.call(this,t,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),r.prototype.setDisabled.call(this,t)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,t):this.setValue(n)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,n){return this.refreshSelectedClass(t),this.setSelected(t,n),this},e.prototype.setName=function(t){var n=this.getInputElement();return n.name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,n){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,n||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,i){this.dispatchEvent({type:H.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:n,event:i});var o=this.getInputElement(),s={type:H.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(s)},e.prototype.onCheckboxClick=function(t){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)},e}(Nc),X3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CH=function(r){X3e(e,r);function e(t){return r.call(this,t,"ag-radio-button","radio")||this}return e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,H.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(pS),J3e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Z3e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},eze=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},wH=function(){function r(e,t,n){this.localeService=e,this.optionsFactory=t,this.valueFormatter=n}return r.prototype.getModelAsString=function(e){var t=this;if(!e)return null;var n=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(n){var o=e,s=o.conditions;if(!s){var a=o.condition1,l=o.condition2;s=[a,l]}var u=s.map(function(y){return t.getModelAsString(y)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" "+i(c,Eoe[c])+" ")}else{if(e.type===kn.BLANK||e.type===kn.NOT_BLANK)return i(e.type,e.type);var d=e,h=this.optionsFactory.getCustomOption(d.type),p=h||{},f=p.displayKey,g=p.displayName,v=p.numberOfInputs;return f&&g&&v===0?(i(f,g),g):this.conditionToString(d,h)}},r.prototype.updateParams=function(e){this.optionsFactory=e.optionsFactory},r.prototype.formatValue=function(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!==null&&t!==void 0?t:"":String(e)},r}(),kn=function(r){J3e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.eTypes=[],t.eJoinOperatorPanels=[],t.eJoinOperatorsAnd=[],t.eJoinOperatorsOr=[],t.eConditionBodies=[],t.listener=function(){return t.onUiChanged()},t.lastUiCompletePosition=null,t.joinOperatorId=0,t}return e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var i=n.numberOfInputs;return i??1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,n){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var n=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(t,!0):i.setValue(n.optionsFactory.getDefaultOption(),!0)})},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map(function(t){return t.getValue()})},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},e.prototype.areModelsEqual=function(t,n){var i=this;if(!t&&!n)return!0;if(!t&&n||t&&!n)return!1;var o=!t.operator,s=!n.operator,a=!o&&s||o&&!s;if(a)return!1;var l;if(o){var u=t,c=n;l=this.areSimpleModelsEqual(u,c)}else{var d=t,h=n;l=d.operator===h.operator&&Lc(d.conditions,h.conditions,function(p,f){return i.areSimpleModelsEqual(p,f)})}return l},e.prototype.setModelIntoUi=function(t){var n=this,i=t.operator;if(i){var o=t;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var l=a;l<s;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,h){n.eTypes[h].setValue(d.type,!0),n.setConditionIntoUi(d,h)})}else{var c=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ts.resolve()},e.prototype.validateAndUpdateConditions=function(t){var n=t.length;return n>this.maxNumConditions&&(t.splice(this.maxNumConditions),Dt(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),n=this.maxNumConditions),n},e.prototype.doesFilterPass=function(t){var n=this,i,o=this.getModel();if(o==null)return!0;var s=o.operator,a=[];if(s){var l=o;a.push.apply(a,eze([],Z3e((i=l.conditions)!==null&&i!==void 0?i:[])))}else a.push(o);var u=s&&s==="OR"?"some":"every";return a[u](function(c){return n.individualConditionPasses(t,c)})},e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new Soe,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var n,i;t.suppressAndOrCondition!=null&&Dt(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),t.alwaysShowBothConditions!=null&&Dt(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=(n=t.maxNumConditions)!==null&&n!==void 0?n:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Dt(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=t.numAlwaysVisibleConditions)!==null&&i!==void 0?i:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Dt(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Dt(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,n=this.createManagedBean(new HA);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return t.resetInput(s)}),this.addChangedListeners(n,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(i,o,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,n,i){var o=this.createManagedBean(new CH);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+i),n.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return t==="AND"||t==="OR"?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(i){return typeof i=="string"?t.createBoilerplateListOption(i):t.createCustomListOption(i)})},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach(function(n){t.addOption(n)}),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var n=t.displayKey,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,n=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var s=(t=this.lastUiCompletePosition)!==null&&t!==void 0?t:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var a=n+1,l=s-a;l>0&&this.removeConditionsAndOperators(a,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},e.prototype.updateConditionStatusesAndValues=function(t,n){var i=this;this.eTypes.forEach(function(s,a){var l=i.isConditionDisabled(a,t);s.setDisabled(l||i.filterListOptions.length<=1),a===1&&(Fg(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(s,a){Bt(s,i.isConditionBodyVisible(a))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(o,!0)}),this.forEachInput(function(s,a,l,u){i.setElementDisplayed(s,a<u),i.setElementDisabled(s,i.isConditionDisabled(l,t))}),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,n){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,n),this.removeElements(this.eConditionBodies,t,n),this.removeValueElements(t,n);var i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}},e.prototype.removeElements=function(t,n,i){var o=this.removeItems(t,n,i);o.forEach(function(s){return au(s)})},e.prototype.removeComponents=function(t,n,i){var o=this,s=this.removeItems(t,n,i);s.forEach(function(a){au(a.getGui()),o.destroyBean(a)})},e.prototype.removeItems=function(t,n,i){return i==null?t.splice(n):t.splice(n,i)},e.prototype.afterGuiAttached=function(t){if(r.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof Nc&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var t=this.getModel();(!this.areModelsEqual(t,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(t);for(var n=-1,i=-1,o=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))n===-1&&(n=a,i=a);else{var l=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),u=a<n;(l||u)&&(this.removeConditionsAndOperators(a,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},e.prototype.getPlaceholderText=function(t,n){var i=this.translate(t);if(DA(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue(),a=this.translate(s);i=o({filterOptionKey:s,filterOption:a,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},e.prototype.resetPlaceholder=function(){var t=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,s,a){if(i instanceof Nc){var l=o===0&&a>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&a>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(t.getPlaceholderText(l,s)),i.setInputAriaLabel(u)}})},e.prototype.setElementValue=function(t,n,i){t instanceof Nc&&t.setValue(n!=null?String(n):null,!0)},e.prototype.setElementDisplayed=function(t,n){t instanceof gt&&Bt(t.getGui(),n)},e.prototype.setElementDisabled=function(t,n){t instanceof gt&&Fg(t.getGui(),n)},e.prototype.attachElementOnChange=function(t,n){t instanceof Nc&&t.onValueChange(n)},e.prototype.forEachInput=function(t){var n=this;this.getConditionTypes().forEach(function(i,o){n.forEachPositionTypeInput(o,i,t)})},e.prototype.forEachPositionInput=function(t,n){var i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,n)},e.prototype.forEachPositionTypeInput=function(t,n,i){for(var o=this.getNumberOfInputs(n),s=this.getInputs(t),a=0;a<s.length;a++){var l=s[a];l!=null&&i(l,a,t,o)}},e.prototype.isConditionDisabled=function(t,n){return this.isReadOnly()?!0:t===0?!1:t>n+1},e.prototype.isConditionBodyVisible=function(t){var n=this.getConditionType(t),i=this.getNumberOfInputs(n);return i>0},e.prototype.isConditionUiComplete=function(t){if(t>=this.getNumConditions())return!1;var n=this.getConditionType(t);return!(n===e.EMPTY||this.getValues(t).some(function(i){return i==null}))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&t.push(this.createCondition(n));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return n.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return n.resetJoinOperatorAnd(i,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return n.resetJoinOperatorOr(i,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return n.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),ts.resolve()},e.prototype.resetType=function(t){var n=this.localeService.getLocaleTextFunc(),i=n("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,n,i){this.resetJoinOperator(t,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},e.prototype.resetJoinOperatorOr=function(t,n,i){this.resetJoinOperator(t,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},e.prototype.resetJoinOperator=function(t,n,i,o,s){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+s).setLabel(o),n)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach(function(n,i){return t.updateJoinOperatorDisabled(n,i)}),this.eJoinOperatorsOr.forEach(function(n,i){return t.updateJoinOperatorDisabled(n,i)})},e.prototype.updateJoinOperatorDisabled=function(t,n){t.setDisabled(this.isReadOnly()||n>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,n){var i=this,o=this.mapValuesFromModel(t);this.forEachInput(function(s,a,l,u){l===n&&i.setElementValue(s,o[a]!=null?o[a]:null)})},e.prototype.setValueFromFloatingFilter=function(t){var n=this;this.forEachInput(function(i,o,s,a){n.setElementValue(i,o===0&&s===0?t:null,!0)})},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,n){var i=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(n,function(o){i.attachElementOnChange(o,i.listener)}))},e.prototype.individualConditionPasses=function(t,n){var i=this.getCellValue(t.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type),a=this.evaluateCustomFilter(s,o,i);return a??(i==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,i,n,t))},e.prototype.evaluateCustomFilter=function(t,n,i){if(t!=null){var o=t.predicate;if(o!=null&&!n.some(function(s){return s==null}))return o(n,i)}},e.prototype.isBlank=function(t){return t==null||typeof t=="string"&&t.trim().length===0},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(bC),tze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gr=function(r){tze(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setParams=function(t){r.prototype.setParams.call(this,t),this.scalarFilterParams=t},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,i){var o=this.comparator(),s=t[0]!=null?o(t[0],n):0;switch(i.type){case e.EQUALS:return s===0;case e.NOT_EQUAL:return s!==0;case e.GREATER_THAN:return s>0;case e.GREATER_THAN_OR_EQUAL:return s>=0;case e.LESS_THAN:return s<0;case e.LESS_THAN_OR_EQUAL:return s<=0;case e.IN_RANGE:{var a=o(t[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0}case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(kn),boe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XL=function(){return XL=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},XL.apply(this,arguments)},nze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},E5=1e3,_5=1/0,Roe=function(r){boe(e,r);function e(t,n,i){var o=r.call(this,n,i)||this;return o.dateFilterParams=t,o}return e.prototype.conditionToString=function(t,n){var i=t.type,o=(n||{}).numberOfInputs,s=i==kn.IN_RANGE||o===2,a=Eo(t.dateFrom),l=Eo(t.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var c=a!==null?Qf(a,u):"null",d=l!==null?Qf(l,u):"null";return c+"-"+d}return a!=null?Qf(a,u):""+i},e.prototype.updateParams=function(t){r.prototype.updateParams.call(this,t),this.dateFilterParams=t.dateFilterParams},e}(wH),SH=function(r){boe(e,r);function e(){var t=r.call(this,"dateFilter")||this;return t.eConditionPanelsFrom=[],t.eConditionPanelsTo=[],t.dateConditionFromComps=[],t.dateConditionToComps=[],t.minValidYear=E5,t.maxValidYear=_5,t.minValidDate=null,t.maxValidDate=null,t}return e.prototype.afterGuiAttached=function(t){r.prototype.afterGuiAttached.call(this,t),this.dateConditionFromComps[0].afterGuiAttached(t)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.dateFrom,o=n.dateTo,s=n.type;return[i&&Eo(i)||null,o&&Eo(o)||null].slice(0,this.getNumberOfInputs(s))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,n){var i=n;return n==null||i<t?-1:i>t?1:0},e.prototype.setParams=function(t){this.dateFilterParams=t,r.prototype.setParams.call(this,t);var n=function(i,o){if(t[i]!=null)if(isNaN(t[i]))console.warn("AG Grid: DateFilter "+i+" is not a number");else return t[i]==null?o:Number(t[i]);return o};this.minValidYear=n("minValidYear",E5),this.maxValidYear=n("maxValidYear",_5),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:Eo(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:Eo(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Roe(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var n=this,i=new woe(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc(function(){return i.destroy()}),i},e.prototype.setElementValue=function(t,n){t.setDate(n)},e.prototype.setElementDisplayed=function(t,n){t.setDisplayed(n)},e.prototype.setElementDisabled=function(t,n){t.setDisabled(n)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,n,i,o){var s=document.createElement("div");s.classList.add("ag-filter-"+o),s.classList.add("ag-filter-date-"+o),n.push(s),t.appendChild(s),i.push(this.createDateCompWrapper(s))},e.prototype.removeValueElements=function(t,n){this.removeDateComps(this.dateConditionFromComps,t,n),this.removeDateComps(this.dateConditionToComps,t,n),this.removeItems(this.eConditionPanelsFrom,t,n),this.removeItems(this.eConditionPanelsTo,t,n)},e.prototype.removeDateComps=function(t,n,i){var o=this.removeItems(t,n,i);o.forEach(function(s){return s.destroy()})},e.prototype.isValidDateValue=function(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(t){var n=this;if(!r.prototype.isConditionUiComplete.call(this,t))return!1;var i=!0;return this.forEachInput(function(o,s,a,l){a!==t||!i||s>=l||(i=i&&n.isValidDateValue(o.getDate()))}),i},e.prototype.areSimpleModelsEqual=function(t,n){return t.dateFrom===n.dateFrom&&t.dateTo===n.dateTo&&t.type===n.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={},o=this.getValues(t);return o.length>0&&(i.dateFrom=Vs(o[0])),o.length>1&&(i.dateTo=Vs(o[1])),XL({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(i)})},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var n=[];return this.forEachPositionInput(t,function(i,o,s,a){o<a&&n.push(i.getDate())}),n},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[Gr.EQUALS,Gr.GREATER_THAN,Gr.LESS_THAN,Gr.NOT_EQUAL,Gr.IN_RANGE,Gr.BLANK,Gr.NOT_BLANK],nze([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(Gr),rze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Toe=function(r){rze(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return t==null?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}var n=t.operator,i;if(n){var o=t;i=o.conditions[0]}else i=t;this.lastType=i.type},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);var n=t.operator;if(n)return!1;var i=t;return this.isTypeEditable(i.type)},e.prototype.init=function(t){this.setSimpleParams(t)},e.prototype.setSimpleParams=function(t){this.optionsFactory=new Soe,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var n=this.isTypeEditable(this.lastType);this.setEditable(n)},e.prototype.onParamsUpdated=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var n=this.optionsFactory.getCustomOption(t),i=(n||{}).numberOfInputs;return i==null||i==1},e.prototype.isTypeEditable=function(t){var n=[kn.IN_RANGE,kn.EMPTY,kn.BLANK,kn.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&n.indexOf(t)<0},e}(gt),ize=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),XI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oze=function(r){ize(e,r);function e(){return r.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return e.prototype.getDefaultFilterOptions=function(){return SH.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(t){r.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new Roe(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(t){r.prototype.onParamsUpdated.call(this,t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})},e.prototype.setEditable=function(t){Bt(this.eDateWrapper,t),Bt(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(t,n){if(!(this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n))){r.prototype.setLastTypeFromModel.call(this,t);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(i),i){if(t){var o=t;this.dateComp.setDate(Eo(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,n=this.dateComp.getDate(),i=Vs(n);this.params.parentFilterInstance(function(o){if(o){var s=Eo(i);o.onFloatingFilterChanged(t.getLastType()||null,s)}})},e.prototype.getDateComponentParams=function(){var t=bC.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:da(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new woe(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return t.dateComp.destroy()})},e.prototype.updateDateComponent=function(){var t=this.getDateComponentParams(),n=this.gridOptionsService,i=n.api,o=n.columnApi,s=n.context;t.api=i,t.columnApi=o,t.context=s,this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},XI([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),XI([ye("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),XI([ye("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(Toe),sze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lze=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},uze=function(r){sze(e,r);function e(){return r.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n=this;this.params=t,this.setParams(t);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===i.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},e.prototype.setParams=function(t){var n=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&Ws(),n.type=i?"date":"text";var o=t.filterParams||{},s=o.minValidYear,a=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&s&&Dt(function(){return console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")},"DateFilter.minValidDateAndMinValidYearWarning"),u&&a&&Dt(function(){return console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")},"DateFilter.maxValidDateAndMaxValidYearWarning"),l&&u){var c=lze([l,u].map(function(p){return p instanceof Date?p:Eo(p)}),2),d=c[0],h=c[1];d&&h&&d.getTime()>h.getTime()&&Dt(function(){return console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")},"DateFilter.minValidDateAndMaxValidDateWarning")}l?l instanceof Date?n.min=Qf(l):n.min=l:s&&(n.min=s+"-01-01"),u?u instanceof Date?n.max=Qf(u):n.max=u:a&&(n.max=a+"-12-31")},e.prototype.onParamsUpdated=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return Eo(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Vs(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:FA()||tH()||Ws()&&eH()>=14.1},aze([ye("eDateInput")],e.prototype,"eDateInput",void 0),e}(gt),cze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dd=function(r){cze(e,r);function e(t,n,i){return n===void 0&&(n="ag-text-field"),i===void 0&&(i="text"),r.call(this,t,n,i)||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(t,n){return this.eInput.value!==t&&(this.eInput.value=se(t)?t:""),r.prototype.setValue.call(this,t,n)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]"),n=function(i){GA(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(i){var o,s=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");s&&s.split("").some(function(a){return!t.test(a)})&&i.preventDefault()})},e}(Nc),dze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kA=function(r){dze(e,r);function e(t){return r.call(this,t,"ag-number-field","number")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(t.eInput.value),i=isNaN(n)?"":t.normalizeValue(n.toString());t.value!==i&&t.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));var n=parseFloat(t);return this.min!=null&&n<this.min?t=this.min.toString():this.max!=null&&n>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,n){if(this.precision==null)return t;if(n){var i=parseFloat(t).toFixed(this.precision);return parseFloat(i).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return o[0]+"."+o[1].slice(0,this.precision)}return o[0]},e.prototype.setMin=function(t){return this.min===t?this:(this.min=t,_l(this.eInput,"min",t),this)},e.prototype.setMax=function(t){return this.max===t?this:(this.max=t,_l(this.eInput,"max",t),this)},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,_l(this.eInput,"step",t),this)},e.prototype.setValue=function(t,n){var i=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(i,o,n)},function(){return i},t)},e.prototype.setStartValue=function(t){var n=this;return this.setValueOrInputValue(function(i){return r.prototype.setValue.call(n,i,!0)},function(i){n.eInput.value=i},t)},e.prototype.setValueOrInputValue=function(t,n,i){if(se(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return t(i);if(!o){i=this.adjustPrecision(i);var s=this.normalizeValue(i);o=i!=s}if(o)return n(i)}return t(i)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):r.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return typeof t=="string"&&t.includes("e")},e}(Dd),Poe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ooe=function(r){Poe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var i=(n||{}).numberOfInputs,o=t.type==kn.IN_RANGE||i===2;return o?this.formatValue(t.filter)+"-"+this.formatValue(t.filterTo):t.filter!=null?this.formatValue(t.filter):""+t.type},e}(wH);function JL(r){var e=(r??{}).allowedCharPattern;return e??null}var EH=function(r){Poe(e,r);function e(){var t=r.call(this,"numberFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.filter,o=n.filterTo,s=n.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,n){return t===n?0:t<n?1:-1}},e.prototype.setParams=function(t){this.numberFilterParams=t,r.prototype.setParams.call(this,t),this.filterModelFormatter=new Ooe(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(t,n,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;r.prototype.setElementValue.call(this,t,o)},e.prototype.createValueElement=function(){var t=JL(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),Wr(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",t),this.createFromToElement(n,this.eValuesTo,"to",t),n},e.prototype.createFromToElement=function(t,n,i,o){var s=this.createManagedBean(o?new Dd({allowedCharPattern:o}):new kA);s.addCssClass("ag-filter-"+i),s.addCssClass("ag-filter-filter"),n.push(s),t.appendChild(s.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.getValues=function(t){var n=this,i=[];return this.forEachPositionInput(t,function(o,s,a,l){s<l&&i.push(n.processValue(n.stringToFloat(o.getValue())))}),i},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return t==null||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if(typeof t=="number")return t;var n=El(t);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={filterType:this.getFilterType(),type:n},o=this.getValues(t);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){t=!0;return}}),t},e.DEFAULT_FILTER_OPTIONS=[Gr.EQUALS,Gr.NOT_EQUAL,Gr.LESS_THAN,Gr.LESS_THAN_OR_EQUAL,Gr.GREATER_THAN,Gr.GREATER_THAN_OR_EQUAL,Gr.IN_RANGE,Gr.BLANK,Gr.NOT_BLANK],e}(Gr),Doe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yP=function(){return yP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yP.apply(this,arguments)},Aoe=function(r){Doe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.conditionToString=function(t,n){var i=(n||{}).numberOfInputs,o=t.type==kn.IN_RANGE||i===2;return o?t.filter+"-"+t.filterTo:t.filter!=null?""+t.filter:""+t.type},e}(wH),$A=function(r){Doe(e,r);function e(){var t=r.call(this,"textFilter")||this;return t.eValuesFrom=[],t.eValuesTo=[],t}return e.trimInput=function(t){var n=t&&t.trim();return n===""?t:n},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(t){this.textFilterParams=t,r.prototype.setParams.call(this,t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Aoe(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(et.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(n){var i=n.filterOption,o=n.value,s=n.filterText;return t(i,o,s)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var n=this.getConditionType(t),i={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,n){return t.filter===n.filter&&t.filterTo===n.filterTo&&t.type===n.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,n){var i=this,o=[];return this.forEachPositionInput(t,function(s,a,l,u){var c;if(a<u){var d=El(s.getValue());n&&i.textFilterParams.trimInput&&(d=(c=e.trimInput(d))!==null&&c!==void 0?c:null,s.setValue(d,!0)),o.push(d)}}),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),Wr(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,n,i){var o=this.createManagedBean(new Dd);o.addCssClass("ag-filter-"+i),o.addCssClass("ag-filter-filter"),n.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,n){this.removeComponents(this.eValuesFrom,t,n),this.removeComponents(this.eValuesTo,t,n)},e.prototype.mapValuesFromModel=function(t){var n=t||{},i=n.filter,o=n.filterTo,s=n.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(s))},e.prototype.evaluateNullValue=function(t){var n=[kn.NOT_EQUAL,kn.NOT_CONTAINS,kn.BLANK];return t?n.indexOf(t)>=0:!1},e.prototype.evaluateNonNullValue=function(t,n,i,o){var s=this,a=t.map(function(y){return s.formatter(y)})||[],l=this.formatter(n),u=this.textFilterParams,c=u.api,d=u.colDef,h=u.column,p=u.columnApi,f=u.context,g=u.textFormatter;if(i.type===kn.BLANK)return this.isBlank(n);if(i.type===kn.NOT_BLANK)return!this.isBlank(n);var v={api:c,colDef:d,column:h,columnApi:p,context:f,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:g};return a.some(function(y){return s.matcher(yP(yP({},v),{filterText:y}))})},e.prototype.getModelAsString=function(t){var n;return(n=this.filterModelFormatter.getModelAsString(t))!==null&&n!==void 0?n:""},e.DEFAULT_FILTER_OPTIONS=[kn.CONTAINS,kn.NOT_CONTAINS,kn.EQUALS,kn.NOT_EQUAL,kn.STARTS_WITH,kn.ENDS_WITH,kn.BLANK,kn.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return t==null?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,i=t.value,o=t.filterText;if(o==null)return!1;switch(n){case e.CONTAINS:return i.indexOf(o)>=0;case e.NOT_CONTAINS:return i.indexOf(o)<0;case e.EQUALS:return i===o;case e.NOT_EQUAL:return i!=o;case e.STARTS_WITH:return i.indexOf(o)===0;case e.ENDS_WITH:var s=i.lastIndexOf(o);return s>=0&&s===i.length-o.length;default:return!1}},e}(kn),xoe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),JI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ioe=function(r){xoe(e,r);function e(t){var n=r.call(this)||this;return n.params=t,n.valueChangedListener=function(){},n}return e.prototype.setupGui=function(t){var n=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new Dd((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,n){this.eFloatingFilterTextInput.setValue(t,n)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(fe),Foe=function(r){xoe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(t){this.setupFloatingFilterInputService(t),r.prototype.init.call(this,t),this.setTextInputParams(t)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var n;this.params=t;var i=(n=t.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:i}),this.applyActive=bC.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=bC.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=da(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},e.prototype.onParamsUpdated=function(t){r.prototype.onParamsUpdated.call(this,t),this.setTextInputParams(t)},e.prototype.recreateFloatingFilterInputService=function(t){var n=this.floatingFilterInputService.getValue();ki(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(n,!0)},e.prototype.getAriaLabel=function(t){var n=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return n+" "+i("ariaFilterInput","Filter Input")},e.prototype.syncUpWithParentFilter=function(t){var n=this,i=t.key===ee.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=$A.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},JI([G("columnModel")],e.prototype,"columnModel",void 0),JI([ye("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),JI([ge],e.prototype,"postConstruct",null),e}(Toe),Moe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hze=function(r){Moe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.valueChangedListener=function(){},t.numberInputActive=!0,t}return e.prototype.setupGui=function(t){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new kA),this.eFloatingFilterTextInput=this.createManagedBean(new Dd),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(i),t.appendChild(o),this.setupListeners(i,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,n){this.getActiveInputElement().setValue(t,n)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,n){this.addManagedListener(t,"input",n),this.addManagedListener(t,"keydown",n)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(fe),pze=function(r){Moe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){var n;r.prototype.init.call(this,t),this.filterModelFormatter=new Ooe(this.localeService,this.optionsFactory,(n=t.filterParams)===null||n===void 0?void 0:n.numberFormatter)},e.prototype.onParamsUpdated=function(t){var n=JL(t.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),r.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return EH.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=JL(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Ioe({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new hze)},e}(Foe),fze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Loe=function(r){fze(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t){r.prototype.init.call(this,t),this.filterModelFormatter=new Aoe(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(t){r.prototype.onParamsUpdated.call(this,t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return $A.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Ioe)},e}(Foe),_o=function(){function r(e,t){var n=this;t===void 0&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Ku,this.eElement=e,this.preventMouseClick=t;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return r.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t].identifier===this.touchStart.identifier;if(n)return e[t]}return null},r.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},r.prototype.onTouchStart=function(e){var t=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var i=t.touchStart===n;if(t.touching&&i&&!t.moved){t.moved=!0;var o={type:r.EVENT_LONG_TAP,touchStart:t.touchStart,touchEvent:e};t.eventService.dispatchEvent(o)}},500)}},r.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var n=!pH(t,this.touchStart,4);n&&(this.moved=!0)}}},r.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var t={type:r.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},r.prototype.checkForDoubleTap=function(){var e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var t=e-this.lastTapTime;if(t>r.DOUBLE_TAP_MILLIS){var n={type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(e){return e()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),gze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$d=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},BA=function(r){gze(e,r);function e(t){var n=r.call(this)||this;return t||n.setTemplate(e.TEMPLATE),n}return e.prototype.attachCustomElements=function(t,n,i,o,s){this.eSortOrder=t,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=s},e.prototype.setupSort=function(t,n){var i=this;n===void 0&&(n=!1),this.column=t,this.suppressOrder=n,this.setupMultiSortIndicator();var o=!!this.column.getColDef().sortable;o&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},e.prototype.addInIcon=function(t,n,i){if(n!=null){var o=Cr(t,this.gridOptionsService,i);o&&n.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=t==="asc";Bt(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var i=t==="desc";Bt(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),s=t==null;Bt(this.eSortNone,!o&&s,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&n&&(this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,function(){return t.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return t.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Bt(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t=this,n;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,s=i.some(function(l){var u;return(u=t.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:!1}),a=o>=0&&s;Bt(this.eSortOrder,a,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():ki(this.eSortOrder)}},e.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,$d([ye("eSortOrder")],e.prototype,"eSortOrder",void 0),$d([ye("eSortAsc")],e.prototype,"eSortAsc",void 0),$d([ye("eSortDesc")],e.prototype,"eSortDesc",void 0),$d([ye("eSortMixed")],e.prototype,"eSortMixed",void 0),$d([ye("eSortNone")],e.prototype,"eSortNone",void 0),$d([G("columnModel")],e.prototype,"columnModel",void 0),$d([G("sortController")],e.prototype,"sortController",void 0),e}(gt),mze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ko=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vze=function(r){mze(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort?!1:(this.setDisplayName(t),!0)},e.prototype.workOutTemplate=function(){var t=wie(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t,t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var n=Ir(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,n,i){if(n!=null){var o=Cr(t,this.gridOptionsService,i);o&&n.appendChild(o)}},e.prototype.setupTap=function(){var t=this,n=this.gridOptionsService;if(!n.is("suppressTouch")){var i=new _o(this.getGui(),!0),o=n.is("suppressMenuHide"),s=o&&se(this.eMenu),a=s?new _o(this.eMenu,!0):i;if(this.params.enableMenu){var l=s?"EVENT_TAP":"EVENT_LONG_TAP",u=function(d){n.api.showColumnMenuAfterMouseClick(t.params.column,d.touchStart)};this.addManagedListener(a,_o[l],u)}if(this.params.enableSorting){var c=function(d){var h=d.touchStart.target;o&&t.eMenu.contains(h)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,_o.EVENT_TAP,c)}this.addDestroyFunc(function(){return i.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.is("suppressMenuHide"),n=Td()&&t,i=this.params.enableMenu&&!n;return i},e.prototype.setMenu=function(){var t=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){au(this.eMenu);return}var n=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return t.showMenu(t.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",n)}},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new BA(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){var n=this.gridOptionsService.get("multiSortKey")==="ctrl";this.addManagedListener(this.params.column,pn.EVENT_MOVING_CHANGED,function(){t.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(o){var s=t.params.column.isMoving(),a=new Date().getTime(),l=a-t.lastMovingChanged<50,u=s||l;if(!u){var c=n?o.ctrlKey||o.metaKey:o.shiftKey;t.params.progressSort(c)}});var i=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var o=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),s=o==null?void 0:o.every(function(l){return t.params.column.getSort()==l.getSort()}),a=!s;t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,pn.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();Bt(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,ko([G("sortController")],e.prototype,"sortController",void 0),ko([G("menuFactory")],e.prototype,"menuFactory",void 0),ko([G("columnModel")],e.prototype,"columnModel",void 0),ko([ye("eFilter")],e.prototype,"eFilter",void 0),ko([ye("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ko([ye("eMenu")],e.prototype,"eMenu",void 0),ko([ye("eLabel")],e.prototype,"eLabel",void 0),ko([ye("eText")],e.prototype,"eText",void 0),ko([ye("eSortOrder")],e.prototype,"eSortOrder",void 0),ko([ye("eSortAsc")],e.prototype,"eSortAsc",void 0),ko([ye("eSortDesc")],e.prototype,"eSortDesc",void 0),ko([ye("eSortMixed")],e.prototype,"eSortMixed",void 0),ko([ye("eSortNone")],e.prototype,"eSortNone",void 0),e}(gt),yze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ZI=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cze=function(r){yze(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){var t=this.params;if(t.template){var n="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";Dt(function(){return console.warn(n)},"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!ga(s)){var a=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(s){Fl(s)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,or.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,or.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,n){var i=new _o(t,!0);this.addManagedListener(i,_o.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(t,"click",n)},e.prototype.updateIconVisibility=function(){var t=this.params.columnGroup;if(t.isExpandable()){var n=this.params.columnGroup.isExpanded();Bt(this.eOpenIcon,n),Bt(this.eCloseIcon,!n)}else Bt(this.eOpenIcon,!1),Bt(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,n){var i=Cr(t,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){Bt(this.eOpenIcon,!1),Bt(this.eCloseIcon,!1);return}},e.prototype.setupLabel=function(){var t,n=this.params,i=n.displayName,o=n.columnGroup;if(se(i)){var s=Ir(i);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(!((t=o.getColGroupDef())===null||t===void 0)&&t.suppressStickyLabel))},e.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,ZI([G("columnModel")],e.prototype,"columnModel",void 0),ZI([ye("agOpened")],e.prototype,"eOpenIcon",void 0),ZI([ye("agClosed")],e.prototype,"eCloseIcon",void 0),e}(gt),wze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ad=function(r){wze(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,t)},e.prototype.destroy=function(){var t=this.parentComponent,n=t&&t.isAlive();n&&t.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},e}(gt),Sze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Eze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Noe=function(r){Sze(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),se(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var n=t.key;(n===ee.LEFT||n===ee.UP||n===ee.RIGHT||n===ee.DOWN||t.shiftKey&&n===ee.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return!se(t)&&!se(this.params.value)?this.params.value:this.params.parseValue(t)},e.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,Eze([ye("eTextArea")],e.prototype,"eTextArea",void 0),e}(Ad),_ze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),b5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Goe=function(r){_ze(e,r);function e(){var t=r.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return t.startedByEnter=!1,t}return e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var n=this,i=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,a=t.values,l=t.value,u=t.eventKey;if(rt(a)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===ee.ENTER:!1;var c=!1;a.forEach(function(f){var g={value:f},v=o.formatValue(t.column,null,f),y=v!=null;g.text=y?v:f,i.addOption(g),c=c||l===f}),c?i.setValue(t.value,!0):t.values.length&&i.setValue(t.values[0],!0);var d=t.valueListGap,h=t.valueListMaxWidth,p=t.valueListMaxHeight;d!=null&&i.setPickerGap(d),p!=null&&i.setPickerMaxHeight(p),h!=null&&i.setPickerMaxWidth(h),s.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,HA.EVENT_ITEM_SELECTED,function(){return t.stopEditing()})},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){t.isAlive()&&t.eSelect.showPicker()})},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},b5([G("valueFormatterService")],e.prototype,"valueFormatterService",void 0),b5([ye("eSelect")],e.prototype,"eSelect",void 0),e}(Ad),bze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jA=function(r){bze(e,r);function e(t){var n=r.call(this,`
            <div class="ag-cell-edit-wrapper">
                `+t.getTemplate()+`
            </div>`)||this;return n.cellEditorInput=t,n}return e.prototype.init=function(t){this.params=t;var n=this.eInput;this.cellEditorInput.init(n,t);var i;if(t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===ee.BACKSPACE||t.eventKey===ee.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==ee.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&n.setStartValue(i),this.addManagedListener(n.getGui(),"keydown",function(s){var a=s.key;(a===ee.PAGE_UP||a===ee.PAGE_DOWN)&&s.preventDefault()})},e.prototype.afterGuiAttached=function(){var t,n,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Ws()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():(n=(t=this.cellEditorInput).setCaret)===null||n===void 0||n.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,n=t.getFocusableElement(),i=t.getInputElement();n.focus(),i.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},Rze([ye("eInput")],e.prototype,"eInput",void 0),e}(Ad),Tze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pze=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)},r.prototype.getValue=function(){var e=this.eInput.getValue();return!se(e)&&!se(this.params.value)?this.params.value:this.params.parseValue(e)},r.prototype.getStartValue=function(){var e=this.params.useFormatter||this.params.column.getColDef().refData;return e?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var e=this.eInput.getValue(),t=se(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)},r}(),ZL=function(r){Tze(e,r);function e(){return r.call(this,new Pze)||this}return e}(jA),Oze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Dze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Aze="",xze="",Voe=function(r){Oze(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t}return e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,n){var i=Math.abs(n),o=t.formatValue(i),s=se(o)?o:i,a=n>=0;a?this.eDelta.innerHTML=Aze+s:this.eDelta.innerHTML=xze+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===t.refreshCount&&t.hideDeltaValue()},2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),ki(this.eDelta)},e.prototype.refresh=function(t){var n=t.value;if(n===this.lastValue||(se(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:se(t.value)?this.eValue.innerHTML=n:ki(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){var i=n-this.lastValue;this.showDelta(t,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',Dze([G("filterManager")],e.prototype,"filterManager",void 0),e}(gt),Ize=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Fze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Hoe=function(r){Ize(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.refreshCount=0,t.eCurrent=t.queryForHtmlElement(".ag-value-slide-current"),t}return e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=fi('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)},3e3)},e.prototype.refresh=function(t){var n=t.value;return rt(n)&&(n=""),n===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=n,se(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:se(t.value)?this.eCurrent.innerHTML=n:ki(this.eCurrent),!0)},e.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,Fze([G("filterManager")],e.prototype,"filterManager",void 0),e}(gt),xf=function(){return xf=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xf.apply(this,arguments)},wt=function(){function r(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return r.prototype.setData=function(e){this.setDataCommon(e,!1)},r.prototype.updateData=function(e){this.setDataCommon(e,!0)},r.prototype.setDataCommon=function(e,t){var n=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(e,n,t);this.dispatchLocalEvent(i)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(e,t,n){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:t,newData:e,update:n}},r.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},r.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var e=new r(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},r.prototype.setDataAndId=function(e,t){var n=se(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(e?e(this):!0)},r.prototype.setRowSelectable=function(e){if(this.selectable!==e){this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED));var t=this.beans.gridOptionsService.is("groupSelectsChildren");if(t){var n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:n??!1,source:"selectableChanged"})}}},r.prototype.setId=function(e){var t=this.beans.gridOptionsService.getCallback("getRowId");if(t)if(this.data){var n=this.getGroupKeys(!0);this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+r.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},r.prototype.getGroupKeys=function(e){e===void 0&&(e=!1);var t=[],n=this;for(e&&(n=n.parent);n&&n.level>=0;)t.push(n.key),n=n.parent;return t.reverse(),t},r.prototype.isPixelInRange=function(e){return!se(this.rowTop)||!se(this.rowHeight)?!1:e>=this.rowTop&&e<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(e!==null))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(e){this.hovered!==e&&(this.hovered=e)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(e,t){t===void 0&&(t=!1),this.rowHeight=e,this.rowHeightEstimated=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=da(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var e=this,t=!1,n=!0,i=0,o=this.__autoHeights;if(o!=null){var s=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(s.forEach(function(l){var u=o[l.getId()];if(u==null)if(e.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=e.beans.columnModel.getDisplayedLeftColumnsForRow(e);break;case"right":c=e.beans.columnModel.getDisplayedRightColumnsForRow(e);break;case null:c=e.beans.columnModel.getViewportCenterColumnsForRow(e);break}if(c.includes(l)){t=!0;return}u=-1}else{t=!0;return}else n=!1;u>i&&(i=u)}),!t&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}}},r.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(e,t){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(H.EVENT_ROW_GROUP_OPENED),{expanded:e,event:t||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},r.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},r.prototype.setDataValue=function(e,t,n){var i=this,o=function(){var u;return typeof e!="string"?e:(u=i.beans.columnModel.getGridColumn(e))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(e)},s=o(),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,t,n),!1;var l=this.beans.valueService.setValue(this,s,t,n);return this.dispatchCellChangedEvent(s,t,a),this.checkRowSelectable(),l},r.prototype.getValueFromValueService=function(e){var t=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!t,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),a=n&&o&&!s,l=this.beans.valueService.getValue(e,this,!1,a);return l},r.prototype.dispatchEventForSaveValueReadOnly=function(e,t,n,i){var o={type:H.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(e,t){var n=this.beans.columnModel.getGridColumn(e);rt(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(n,t,o))},r.prototype.setAggData=function(e){var t=this,n=hie([this.aggData,e]),i=this.aggData;this.aggData=e,this.eventService&&n.forEach(function(o){var s=t.aggData?t.aggData[o]:void 0,a=i?i[o]:void 0;if(s!==a){var l=t.beans.columnModel.lookupGridColumn(o);l&&t.dispatchCellChangedEvent(l,s,a)}})},r.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,t=this.beans.gridOptionsService.isRowModelType("serverSide");if(t){var n=this.beans.gridOptionsService.is("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&is(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(e,t,n){var i={type:r.EVENT_CELL_CHANGED,node:this,column:e,newValue:t,oldValue:n};this.dispatchLocalEvent(i)},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(t){return t.depthFirstSearch(e)}),e(this)},r.prototype.calculateSelectedFromChildren=function(){var e,t=!1,n=!1,i=!1;if(!(!((e=this.childrenAfterGroup)===null||e===void 0)&&e.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],a=s.isSelected();if(!s.selectable){var l=s.calculateSelectedFromChildren();if(l===null)continue;a=l}switch(a){case!0:t=!0;break;case!1:n=!0;break;default:i=!0;break}}if(!(i||t&&n))return t?!0:n?!1:this.selectable?this.selected:null},r.prototype.setSelectedInitialValue=function(e){this.selected=e},r.prototype.selectThisNode=function(e,t,n){n===void 0&&(n="api");var i=!this.selectable&&e,o=this.selected===e;if(i||o)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var a=xf(xf({},this.createGlobalRowEvent(H.EVENT_ROW_SELECTED)),{event:t||null,source:n});return this.beans.eventService.dispatchEvent(a),!0},r.prototype.setSelected=function(e,t,n){if(t===void 0&&(t=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:n})},r.prototype.setSelectedParams=function(e){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(xf(xf({},e),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},r.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},r.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new Ku),this.eventService.addEventListener(e,t)},r.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(e){for(var t=this,n=!0,i=!1,o=null;n&&!i;){var s=t.parent,a=se(s)&&t.firstChild;a?s.rowGroupColumn===e&&(i=!0,o=s):n=!1,t=s}return i?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1},r.prototype.getRoute=function(){if(this.key!=null){for(var e=[],t=this;t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}},r.prototype.createFooter=function(){var e=this;if(!this.sibling){var t=new Set(["eventService","__objectId","sticky"]),n=new r(this.beans);Object.keys(this).forEach(function(i){t.has(i)||(n[i]=e[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},r.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),Mze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CP=function(){return CP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},CP.apply(this,arguments)},R5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_H=function(r){Mze(e,r);function e(){return r.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),Wie(this.eCheckbox.getInputElement(),"polite")},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),i=IA(t,n),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},e.prototype.onClicked=function(t,n,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:n,event:i,source:"checkboxSelected"})},e.prototype.init=function(t){var n=this;this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){Fl(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){Fl(a);var l=n.gridOptionsService.is("groupSelectsFiltered"),u=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(u,l)){var c=n.onClicked(!0,l,a||{});c===0&&n.onClicked(!1,l,a)}else u?n.onClicked(!1,l,a):n.onClicked(!0,l,a||{})}),this.addManagedListener(this.rowNode,wt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,n,i,o,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if(typeof a=="function"){var l=(t=this.overrides)===null||t===void 0?void 0:t.callbackParams,u=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=u?a(CP(CP({},l),u)):!1}else s=a??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!s),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(s);return}this.setVisible(s)},e.prototype.getIsVisible=function(){var t,n;return this.overrides?this.overrides.isVisible:(n=(t=this.column)===null||t===void 0?void 0:t.getColDef())===null||n===void 0?void 0:n.checkboxSelection},R5([ye("eCheckbox")],e.prototype,"eCheckbox",void 0),R5([ge],e.prototype,"postConstruct",null),e}(gt),Lze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TE=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$i;(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})($i||($i={}));var ip;(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"})(ip||(ip={}));var oa;(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"})(oa||(oa={}));var Hr=function(r){Lze(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}t=e,e.prototype.init=function(){this.ePinnedIcon=Os("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Os("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Os("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Os("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Os("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Os("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Os("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Os("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Os("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(n,i){i===void 0&&(i=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},e.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});i&&(this.dragService.removeDragSource(i.params),es(this.dragSourceAndParamsList,i))},e.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(n,i){var o=this,s,a,l,u,c=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var h=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(n,g)}),p=this.findCurrentDropTarget(n,h);if(p!==this.lastDropTarget)this.leaveLastTargetIfExists(n,c,d,i),this.lastDropTarget!==null&&p===null&&((a=(s=this.dragSource).onGridExit)===null||a===void 0||a.call(s,this.dragItem)),this.lastDropTarget===null&&p!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(p,n,c,d,i),this.lastDropTarget=p;else if(p&&p.onDragging){var f=this.createDropTargetEvent(p,n,c,d,i);p.onDragging(f)}},e.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return i?o.concat(i):o},e.prototype.allContainersIntersect=function(n,i){var o,s;try{for(var a=TE(i),l=a.next();!l.done;l=a.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=n.clientX>=c.left&&n.clientX<c.right,h=n.clientY>=c.top&&n.clientY<c.bottom;if(!d||!h)return!1}}catch(p){o={error:p}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return!0},e.prototype.isMouseOnDropTarget=function(n,i){var o,s,a=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=TE(a),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(h){o={error:h}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},e.prototype.findCurrentDropTarget=function(n,i){var o,s,a,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(n.clientX,n.clientY);try{for(var h=TE(d),p=h.next();!p.done;p=h.next()){var f=p.value;try{for(var g=(a=void 0,TE(i)),v=g.next();!v.done;v=g.next()){var y=v.value,C=bie(this.getAllContainersFromDropTarget(y));if(C.indexOf(f)!==-1)return y}}catch(w){a={error:w}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(a)throw a.error}}}}catch(w){o={error:w}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}return null},e.prototype.enterDragTargetIfExists=function(n,i,o,s,a){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,i,o,s,a);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(n,i,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,n,i,o,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(n){this.dropTargets.push(n)},e.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},e.prototype.findExternalZone=function(n){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===n.getContainer()})||null},e.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return i===o?null:i>o?oa.Left:oa.Right},e.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return i===o?null:i>o?ip.Up:ip.Down},e.prototype.createDropTargetEvent=function(n,i,o,s,a){var l=n.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,h=c.columnApi,p=c.dragItem,f=c.dragSource,g=i.clientX-u.left,v=i.clientY-u.top;return{event:i,x:g,y:v,vDirection:s,hDirection:o,dragSource:f,fromNudge:a,dragItem:p,api:d,columnApi:h,dropZoneTarget:l}},e.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),s=o.height,a=noe()-2,l=roe()-2,u=aH(i.offsetParent),c=n.clientY,d=n.clientX,h=c-u.top-s/2,p=d-u.left-10,f=this.gridOptionsService.getDocument(),g=f.defaultView||window,v=g.pageYOffset||f.documentElement.scrollTop,y=g.pageXOffset||f.documentElement.scrollLeft;a>0&&p+i.clientWidth>a+y&&(p=a+y-i.clientWidth),p<0&&(p=0),l>0&&h+i.clientHeight>l+v&&(h=l+v-i.clientHeight),h<0&&(h=0),i.style.left=p+"px",i.style.top=h+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=fi(t.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;DA(o)&&(o=o()),i.innerHTML=Ir(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{if(!a){var l=this.gridOptionsService.getRootNode(),u=l.querySelector("body");u?a=u:l instanceof ShadowRoot?a=l:a=l==null?void 0:l.documentElement}}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(n,i){i===void 0&&(i=!1),ki(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():t.ICON_NOT_ALLOWED),n){case t.ICON_PINNED:o=this.ePinnedIcon;break;case t.ICON_MOVE:o=this.eMoveIcon;break;case t.ICON_LEFT:o=this.eLeftIcon;break;case t.ICON_RIGHT:o=this.eRightIcon;break;case t.ICON_GROUP:o=this.eGroupIcon;break;case t.ICON_AGGREGATE:o=this.eAggregateIcon;break;case t.ICON_PIVOT:o=this.ePivotIcon;break;case t.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case t.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var t;return e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Bd([G("dragService")],e.prototype,"dragService",void 0),Bd([G("mouseEventService")],e.prototype,"mouseEventService",void 0),Bd([G("columnApi")],e.prototype,"columnApi",void 0),Bd([G("gridApi")],e.prototype,"gridApi",void 0),Bd([ge],e.prototype,"init",null),Bd([Ur],e.prototype,"clearDragSourceParamsList",null),e=t=Bd([De("dragAndDropService")],e),e}(fe),WA=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ry=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wP=function(r){WA(e,r);function e(t,n,i,o,s,a){var l=r.call(this)||this;return l.cellValueFn=t,l.rowNode=n,l.column=i,l.customGui=o,l.dragStartPixels=s,l.suppressVisibilityChange=a,l.dragSource=null,l}return e.prototype.isCustomGui=function(){return this.customGui!=null},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Cr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.is("rowDragManaged")?new Gze(this,this.beans,this.rowNode,this.column):new Nze(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,n){this.setTemplateFromElement(t),this.addDragSource(n)},e.prototype.getSelectedNodes=function(){var t=this.gridOptionsService.is("rowDragMultiRow");if(!t)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.is("rowDragManaged"),n=this.gridOptionsService.is("treeData");n&&t&&Dt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var n=t.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var n=this;t===void 0&&(t=4),this.dragSource&&this.removeDragSource();var i=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:$i.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=n.getDragItem(),l=((s=a.rowNodes)===null||s===void 0?void 0:s.length)||1;return i?i(a,l):l===1?n.cellValueFn():l+" "+o("rowDragRows","rows")},getDragItem:function(){return n.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ry([G("beans")],e.prototype,"beans",void 0),Ry([ge],e.prototype,"postConstruct",null),Ry([Ur],e.prototype,"removeDragSource",null),e}(gt),koe=function(r){WA(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.rowNode=n,o.column=i,o}return e.prototype.setDisplayedOrVisible=function(t){var n={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,n);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=DA(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(i,n)):(this.parent.setDisplayed(i,n),this.parent.setVisible(!0,n))}},e}(fe),Nze=function(r){WA(e,r);function e(t,n,i,o){var s=r.call(this,t,i,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)},Ry([ge],e.prototype,"postConstruct",null),e}(koe),Gze=function(r){WA(e,r);function e(t,n,i,o){var s=r.call(this,t,i,o)||this;return s.beans=n,s}return e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,H.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl(),n=t.getRowDragFeature(),i=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.is("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),a=i&&!s||o;this.setDisplayedOrVisible(a)},Ry([ge],e.prototype,"postConstruct",null),e}(koe),Vze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SP=function(){return SP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},SP.apply(this,arguments)},cv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$oe=function(r){Vze(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,i,o,s,a,l){this.params=l,this.eGui=n,this.eCheckbox=i,this.eExpanded=o,this.eContracted=s,this.comp=t,this.compClass=a;var u=l.node,c=l.value,d=l.colDef,h=this.isTopLevelFooter();if(!h){var p=this.isEmbeddedRowMismatch();if(p)return;var f=(d==null?void 0:d.showRowGroup)===!0,g=c==null&&!u.master;if(!f&&g)return;if(u.footer&&this.gridOptionsService.is("groupHideOpenParents")){var v=d&&d.showRowGroup,y=u.rowGroupColumn&&u.rowGroupColumn.getColId();if(v!==y)return}}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,n=t.node,i=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){zie(i);return}var o=function(){ha(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,wt.EVENT_EXPANDED_CHANGED,o)||null,o()},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var t=this.params.colDef,n=t==null;if(n||t.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var t=this.params.pinned==="left",n=this.params.pinned==="right",i=!t&&!n;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!t:!i},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;i!=null;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}rt(this.displayedGroupNode)&&(this.displayedGroupNode=n)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,n=this.params.column;if(!this.gridOptionsService.is("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!t.groupData){this.showingValueForOpenedParent=!1;return}var i=t.rowGroupColumn!=null;if(i){var o=t.rowGroupColumn.getId(),s=n.isRowGroupDisplayed(o);if(s){this.showingValueForOpenedParent=!1;return}}var a=t.groupData[n.getId()]!=null;this.showingValueForOpenedParent=a},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(t),i=t.valueFormatted,o=t.value,s=i;if(s==null)if(o===""&&this.params.node.group){var a=this.localeService.getLocaleTextFunc();s=a("blanks","(Blanks)")}else s=o??null;this.comp.setInnerRenderer(n,s)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!t)return this.params;var i=n!=null;if(i){var o=n.isRowGroupDisplayed(t.getId());if(!o)return this.params}var s=this.params,a=this.params,l=a.value,u=a.node,c=this.valueFormatterService.formatValue(t,u,l),d=SP(SP({},s),{valueFormatted:c});return d},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,n="";if(t){var i=B1(this.params);i.value=this.params.value,typeof t=="function"?n=t(i):typeof t=="string"?n=this.expressionService.evaluate(t,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,n)},e.prototype.getInnerCompDetails=function(t){var n=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var i=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(c){return c&&c.componentClass==n.compClass};if(i&&!o(i))return i;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var l=this.userComponentFactory.getCellRendererDetails(a,t);if(l&&!o(l))return l;if(o(l)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,t);return u}}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),i=n&&t!=null&&t>=0,o=i?"("+t+")":"";this.comp.setChildCount(o)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.is("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var n=this.params.column,i=n==null||n.isRowGroupDisplayed(t.getId());return i},e.prototype.addExpandAndContract=function(){var t,n=this.params,i=Cr("groupExpanded",this.gridOptionsService,null),o=Cr("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var s=n.eGridCell,a=((t=this.params.column)===null||t===void 0?void 0:t.isCellEditable(n.node))&&this.gridOptionsService.is("enableGroupEdit");!a&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,wt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,wt.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,wt.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,wt.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,wt.EVENT_HAS_CHILDREN_CHANGED,l)},e.prototype.onExpandClicked=function(t){ga(t)||(Fl(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var n=this.displayedGroupNode,i=!n.expanded;!i&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(i,t)},e.prototype.scrollToStickyNode=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature();i.setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&t.leafGroup,i=t.isExpandable()&&!t.footer&&!n;if(!i)return!1;var o=this.params.column,s=o!=null&&typeof o.getColDef().showRowGroup=="string";if(s){var a=this.isShowRowGroupForThisRow();return a}return!0},e.prototype.showExpandAndContractIcons=function(){var t=this,n=t.params,i=t.displayedGroupNode,o=t.columnModel,s=n.node,a=this.isExpandable();if(a){var l=this.showingValueForOpenedParent?!0:s.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=a&&!c,h=s.footer&&s.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):h||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(t,wt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var t=this.params,n=t.node,i=!!t.colDef,o=this.gridOptionsService.is("treeData"),s=!i||o||t.colDef.showRowGroup===!0,a=s?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new wP(function(){return t.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return typeof t=="function"||t===!0},e.prototype.addCheckboxIfNeeded=function(){var t=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var o=new _H;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return t.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},e.prototype.onKeyDown=function(t){var n=t.key===ee.ENTER;if(!(!n||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(t)}},e.prototype.onCellDblClicked=function(t){if(!ga(t)){var n=gP(this.eExpanded,t)||gP(this.eContracted,t);n||this.onExpandOrContract(t)}},cv([G("expressionService")],e.prototype,"expressionService",void 0),cv([G("valueFormatterService")],e.prototype,"valueFormatterService",void 0),cv([G("columnModel")],e.prototype,"columnModel",void 0),cv([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),cv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(fe),Hze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eN=function(r){Hze(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this,i={setInnerRenderer:function(l,u){return n.setRenderDetails(l,u)},setChildCount:function(l){return n.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,u){return n.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return Bt(n.eContracted,l)},setExpandedDisplayed:function(l){return Bt(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new $oe),s=!t.colDef,a=this.getGui();o.init(i,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&Wr(a,"gridcell")},e.prototype.setRenderDetails=function(t,n){var i=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var a=function(){return i.context.destroyBean(s)};i.isAlive()?(i.eValue.appendChild(s.getGui()),i.addDestroyFunc(a)):a()}})}else this.eValue.innerText=n},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,dv([ye("eExpanded")],e.prototype,"eExpanded",void 0),dv([ye("eContracted")],e.prototype,"eContracted",void 0),dv([ye("eCheckbox")],e.prototype,"eCheckbox",void 0),dv([ye("eValue")],e.prototype,"eValue",void 0),dv([ye("eChildCount")],e.prototype,"eChildCount",void 0),e}(gt),kze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),T5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$ze=function(r){kze(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Cr("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,T5([ye("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),T5([ye("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(gt),Bze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jze=function(r){Bze(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n,i=(n=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&n!==void 0?n:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(s)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(gt),Wze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Uze=function(r){Wze(e,r);function e(){return r.call(this)||this}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(t){var n,i=(n=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&n!==void 0?n:e.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(s)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(gt),zze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Kze=function(r){zze(e,r);function e(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return e.prototype.init=function(t){var n=t.value;this.getGui().innerHTML=Ir(n)},e}(Ad),Yze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qze=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step),t.showStepperButtons&&e.getInputElement().classList.add("ag-number-field-input-stepper")},r.prototype.getValue=function(){var e=this.eInput.getValue();if(!se(e)&&!se(this.params.value))return this.params.value;var t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t},r.prototype.getStartValue=function(){return this.params.value},r}(),Boe=function(r){Yze(e,r);function e(){return r.call(this,new qze)||this}return e}(jA),Qze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xze=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},r.prototype.getValue=function(){var e=this.eInput.getDate();return!se(e)&&!se(this.params.value)?this.params.value:e??null},r.prototype.getStartValue=function(){var e=this.params.value;if(e instanceof Date)return Vs(e,!1)},r}(),joe=function(r){Qze(e,r);function e(){return r.call(this,new Xze)||this}return e}(jA),Jze=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zze=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},e5e=function(){function r(e){this.getDataTypeService=e}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)},r.prototype.getValue=function(){var e=this.formatDate(this.eInput.getDate());return!se(e)&&!se(this.params.value)?this.params.value:this.params.parseValue(e??"")},r.prototype.getStartValue=function(){var e,t;return Vs((t=this.parseDate((e=this.params.value)!==null&&e!==void 0?e:void 0))!==null&&t!==void 0?t:null,!1)},r.prototype.parseDate=function(e){return this.getDataTypeService().getDateParserFunction()(e)},r.prototype.formatDate=function(e){return this.getDataTypeService().getDateFormatterFunction()(e)},r}(),Woe=function(r){Jze(e,r);function e(){var t=r.call(this,new e5e(function(){return t.dataTypeService}))||this;return t}return Zze([G("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(jA),t5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),n5e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Uoe=function(r){t5e(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.init=function(t){var n=this;this.params=t,this.updateCheckbox(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(o){if(Fl(o),!n.eCheckbox.isDisabled()){var s=n.eCheckbox.getValue();n.onCheckboxChanged(s)}}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(o){Fl(o)});var i=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(o){if(o.key===ee.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===i.activeElement&&n.eCheckbox.toggle();var s=n.eCheckbox.getValue();n.onCheckboxChanged(s),o.preventDefault()}})},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var n,i,o,s,a=!0;if(t.node.group&&t.column){var l=t.column.getColId();l.startsWith(tp)?s=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?s=(n=t.value)!==null&&n!==void 0?n:void 0:a=!1}else s=(i=t.value)!==null&&i!==void 0?i:void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(s);var u=t.disabled!=null?t.disabled:!(!((o=t.column)===null||o===void 0)&&o.isCellEditable(t.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=IA(c,s),h=u?d:c("ariaToggleCellValue","Press SPACE to toggle cell value")+" ("+d+")";this.eCheckbox.setInputAriaLabel(h)},e.prototype.onCheckboxChanged=function(t){var n=this.params,i=n.column,o=n.node,s=n.rowIndex,a=n.value,l={type:H.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,t,"edit"),c={type:H.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:a,oldValue:a,newValue:t,valueChanged:u};this.eventService.dispatchEvent(c)},e.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,n5e([ye("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(gt),r5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i5e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zoe=function(r){r5e(e,r);function e(){return r.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return e.prototype.init=function(t){var n=this,i;this.params=t;var o=(i=t.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,H.EVENT_FIELD_VALUE_CHANGED,function(s){return n.setAriaLabel(s.selected)})},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var n=this.localeService.getLocaleTextFunc(),i=IA(n,t),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},i5e([ye("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(Ad),o5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},P5=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},O5=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Koe=function(r){o5e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:uze,agColumnHeader:vze,agColumnGroupHeader:Cze,agSortIndicator:BA,agTextColumnFloatingFilter:Loe,agNumberColumnFloatingFilter:pze,agDateColumnFloatingFilter:oze,agReadOnlyFloatingFilter:N3e,agAnimateShowChangeCellRenderer:Voe,agAnimateSlideCellRenderer:Hoe,agGroupCellRenderer:eN,agGroupRowRenderer:eN,agLoadingCellRenderer:$ze,agCheckboxCellRenderer:Uoe,agCellEditor:ZL,agTextCellEditor:ZL,agNumberCellEditor:Boe,agDateCellEditor:joe,agDateStringCellEditor:Woe,agSelectCellEditor:Goe,agLargeTextCellEditor:Noe,agCheckboxCellEditor:zoe,agTextColumnFilter:$A,agNumberColumnFilter:EH,agDateColumnFilter:SH,agLoadingOverlay:jze,agNoRowsOverlay:Uze,agTooltipComponent:Kze},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:Ae.SetFilterModule,agSetColumnFloatingFilter:Ae.SetFilterModule,agMultiColumnFilter:Ae.MultiFilterModule,agMultiColumnFloatingFilter:Ae.MultiFilterModule,agGroupColumnFilter:Ae.RowGroupingModule,agGroupColumnFloatingFilter:Ae.RowGroupingModule,agRichSelect:Ae.RichSelectModule,agRichSelectCellEditor:Ae.RichSelectModule,agDetailCellRenderer:Ae.MasterDetailModule,agSparklineCellRenderer:Ae.SparklinesModule},t.jsComps={},t}return e.prototype.init=function(){var t=this;this.gridOptions.components!=null&&Kn(this.gridOptions.components,function(n,i){return t.registerJsComponent(n,i)})},e.prototype.registerDefaultComponent=function(t,n){if(this.agGridDefaults[t]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[t]=n},e.prototype.registerJsComponent=function(t,n){this.jsComps[t]=n},e.prototype.retrieve=function(t,n){var i=this,o=function(d,h){return{componentFromFramework:h,component:d}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(s!=null)return o(s,!0);var a=this.jsComps[n];if(a){var l=this.getFrameworkOverrides().isFrameworkComponent(a);return o(a,l)}var u=this.agGridDefaults[n];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[n];return c?nt.__assertRegistered(c,"AG Grid '"+t+"' component: "+n,this.context.getGridId()):Dt(function(){i.warnAboutMissingComponent(t,n)},"MissingComp"+n),null},e.prototype.warnAboutMissingComponent=function(t,n){var i=O5(O5([],P5(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)}))),P5(Object.keys(this.jsComps))),o=cS(n,i,!0,.8).values;console.warn("AG Grid: Could not find '"+n+`' component. It was configured as "`+t+": '"+n+`'" but it wasn't found in the list of registered components.`),o.length>0&&console.warn("         Did you mean: ["+o.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},eF([G("gridOptions")],e.prototype,"gridOptions",void 0),eF([ge],e.prototype,"init",null),e=eF([De("userComponentRegistry")],e),e}(fe),s5e={propertyName:"dateComponent",cellRenderer:!1},a5e={propertyName:"headerComponent",cellRenderer:!1},l5e={propertyName:"headerGroupComponent",cellRenderer:!1},D5={propertyName:"cellRenderer",cellRenderer:!0},u5e={propertyName:"cellEditor",cellRenderer:!1},A5={propertyName:"innerRenderer",cellRenderer:!0},c5e={propertyName:"loadingOverlayComponent",cellRenderer:!1},d5e={propertyName:"noRowsOverlayComponent",cellRenderer:!1},h5e={propertyName:"tooltipComponent",cellRenderer:!1},tN={propertyName:"filter",cellRenderer:!1},p5e={propertyName:"floatingFilterComponent",cellRenderer:!1},f5e={propertyName:"toolPanel",cellRenderer:!1},g5e={propertyName:"statusPanel",cellRenderer:!1},m5e={propertyName:"fullWidthCellRenderer",cellRenderer:!0},v5e={propertyName:"loadingCellRenderer",cellRenderer:!0},y5e={propertyName:"groupRowRenderer",cellRenderer:!0},C5e={propertyName:"detailCellRenderer",cellRenderer:!0},Yoe=function(){function r(){}return r.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),w5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Xp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},qoe=function(r){w5e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getHeaderCompDetails=function(t,n){return this.getCompDetails(t,a5e,"agColumnHeader",n)},e.prototype.getHeaderGroupCompDetails=function(t){var n=t.columnGroup.getColGroupDef();return this.getCompDetails(n,l5e,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,m5e,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,v5e,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,y5e,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,C5e,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,n){return this.getCompDetails(t,A5,null,n)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,n){return this.getCompDetails(t,A5,null,n)},e.prototype.getCellRendererDetails=function(t,n){return this.getCompDetails(t,D5,null,n)},e.prototype.getCellEditorDetails=function(t,n){return this.getCompDetails(t,u5e,"agCellEditor",n,!0)},e.prototype.getFilterDetails=function(t,n,i){return this.getCompDetails(t,tN,i,n,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,s5e,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,c5e,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,d5e,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,h5e,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,n){return this.getCompDetails(t,D5,null,n)},e.prototype.getFloatingFilterCompDetails=function(t,n,i){return this.getCompDetails(t,p5e,i,n)},e.prototype.getToolPanelCompDetails=function(t,n){return this.getCompDetails(t,f5e,null,n,!0)},e.prototype.getStatusPanelCompDetails=function(t,n){return this.getCompDetails(t,g5e,null,n,!0)},e.prototype.getCompDetails=function(t,n,i,o,s){var a=this;s===void 0&&(s=!1);var l=n.propertyName,u=n.cellRenderer,c=this.getCompKeys(t,n,o),d=c.compName,h=c.jsComp,p=c.fwComp,f=c.paramsFromSelector,g=c.popupFromSelector,v=c.popupPositionFromSelector,y=function(P){var F=a.userComponentRegistry.retrieve(l,P);F&&(h=F.componentFromFramework?void 0:F.component,p=F.componentFromFramework?F.component:void 0)};if(d!=null&&y(d),h==null&&p==null&&i!=null&&y(i),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(l,h)),!h&&!p){s&&console.error("AG Grid: Could not find component "+d+", did you forget to configure this component?");return}var C=this.mergeParamsWithApplicationProvidedParams(t,n,o,f),w=h==null,S=h||p;return{componentFromFramework:w,componentClass:S,params:C,type:n,popupFromSelector:g,popupPositionFromSelector:v,newAgStackInstance:function(){return a.newAgStackInstance(S,w,C,n)}}},e.prototype.getCompKeys=function(t,n,i){var o=this,s=n.propertyName,a,l,u,c,d,h;if(t){var p=t,f=p[s+"Selector"],g=f?f(i):null,v=function(y){if(typeof y=="string")a=y;else if(y!=null&&y!==!0){var C=o.getFrameworkOverrides().isFrameworkComponent(y);C?u=y:l=y}};g?(v(g.component),c=g.params,d=g.popup,h=g.popupPosition):v(p[s])}return{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}},e.prototype.newAgStackInstance=function(t,n,i,o){var s=o.propertyName,a=!n,l;if(a)l=new t;else{var u=this.componentMetadataProvider.retrieve(s);l=this.frameworkComponentWrapper.wrap(t,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?ts.resolve(l):c.then(function(){return l})},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,n,i,o){o===void 0&&(o=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};ls(s,i);var a=t,l=a&&a[n.propertyName+"Params"];if(typeof l=="function"){var u=l(i);ls(s,u)}else typeof l=="object"&&ls(s,l);return ls(s,o),s},e.prototype.initComponent=function(t,n){if(this.context.createBean(t),t.init!=null)return t.init(n)},e.prototype.getDefaultFloatingFilterType=function(t,n){if(t==null)return null;var i=null,o=this.getCompKeys(t,tN),s=o.compName,a=o.jsComp,l=o.fwComp;if(s)i=Yoe.getFloatingFilterType(s);else{var u=a==null&&l==null&&t.filter===!0;u&&(i=n())}return i},Xp([G("gridOptions")],e.prototype,"gridOptions",void 0),Xp([G("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Xp([G("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Xp([G("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Xp([jt("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Xp([De("userComponentFactory")],e),e}(fe),RC;(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"})(RC||(RC={}));var S5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qoe=function(r){S5e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var n=t.dragSource.eElement,i=t.mouseDownListener;if(n.removeEventListener("mousedown",i),t.touchEnabled){var o=t.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var n=this.dragSources.find(function(i){return i.dragSource===t});n&&(this.removeListener(n),es(this.dragSources,n))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var n=this,i=this.onMouseDown.bind(this,t),o=t.eElement,s=t.includeTouch,a=t.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.is("suppressTouch");s&&!u&&(l=function(c){oH(c.target)||(c.cancelable&&(c.preventDefault(),a&&c.stopPropagation()),n.onTouchStart(t,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:i,touchStartListener:l,touchEnabled:!!s})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,n){var i=this;this.currentDragParams=t,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var s=function(d){return i.onTouchMove(d,t.eElement)},a=function(d){return i.onTouchUp(d,t.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=n.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:s,options:{passive:!0}},{target:u,type:"touchend",listener:a,options:{passive:!0}},{target:u,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,n){var i=this,o=n;if(!(t.skipMouseEvent&&t.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var s=function(d){return i.onMouseMove(d,t.eElement)},a=function(d){return i.onMouseUp(d,t.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:s},{target:u,type:"mouseup",listener:a},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),t.dragStartPixels===0&&this.onMouseMove(n,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach(function(n){var i=n.target,o=n.type,s=n.listener,a=n.options;i.addEventListener(o,s,a)}),this.dragEndFunctions.push(function(){t.forEach(function(n){var i=n.target,o=n.type,s=n.listener,a=n.options;i.removeEventListener(o,s,a)})})},e.prototype.isEventNearStartEvent=function(t,n){var i=this.currentDragParams.dragStartPixels,o=se(i)?i:4;return pH(t,n,o)},e.prototype.getFirstActiveTouch=function(t){for(var n=0;n<t.length;n++)if(t[n].identifier===this.touchStart.identifier)return t[n];return null},e.prototype.onCommonMove=function(t,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,n))return;this.dragging=!0;var o={type:H.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,n){var i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,n)},e.prototype.onMouseMove=function(t,n){this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,n)},e.prototype.shouldPreventMouseEvent=function(t){var n=this.gridOptionsService.is("enableCellTextSelection"),i=Ws(),o=t.type==="mousemove";return(n&&o||i)&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var n=t.target,i=n==null?void 0:n.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,n){var i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},e.prototype.onMouseUp=function(t,n){this.onUpCommon(t,n)},e.prototype.onUpCommon=function(t,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var i={type:H.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},tF([G("mouseEventService")],e.prototype,"mouseEventService",void 0),tF([Ur],e.prototype,"removeAllListeners",null),e=tF([De("dragService")],e),e}(fe),bH=function(){function r(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(e,t){t===void 0&&(t=!1);var n=t||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=e.clientX<i.left+o,this.tickRight=e.clientX>i.right-o,this.tickUp=e.clientY<i.top+o&&!n,this.tickDown=e.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){this.tickCount++;var e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-e),this.tickRight&&this.setHorizontalPosition(n+e)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),E5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),x5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nF="ag-list-item-hovered",_5e=function(r){E5e(e,r);function e(t,n,i){var o=r.call(this)||this;return o.comp=t,o.virtualList=n,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout(function(){t.currentDragValue=null,t.moveBlocked=!1},10)},e.prototype.createDropTarget=function(){var t=this,n={isInterestedIn:function(i){return i===t.params.dragSourceType},getIconName:function(){return Hr[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(i){return t.onDragging(i)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new bH({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(n){return t.scrollTop=n}})},e.prototype.onDragging=function(t){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(t),i=this.virtualList.getComponentAt(n.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=n,zL(o,nF),zL(o,"ag-item-highlight-"+n.position))}}},e.prototype.getListDragItem=function(t){var n=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(t.y-i+s)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,a)|0;return{rowIndex:u,position:Math.round(a)>a||a>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){var t=this.virtualList.getGui();t.querySelectorAll("."+nF).forEach(function(n){[nF,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){n.classList.remove(i)})}),this.lastHoveredListItem=null},x5([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),x5([ge],e.prototype,"postConstruct",null),e}(fe),bl;(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"})(bl||(bl={}));var qt;(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"})(qt||(qt={}));var Yt=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function ph(r){var e=r,t=e!=null&&e.getFrameworkComponentInstance!=null;return t?e.getFrameworkComponentInstance():r}var Xoe=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},r.prototype.registerSideBarComp=function(e){this.sideBarComp=e},r.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.getSetterMethod=function(e){return"set"+e.charAt(0).toUpperCase()+e.substring(1)},r.prototype.__setPropertyOnly=function(e,t){return this.gos.__setPropertyOnly(e,t)},r.prototype.__updateProperty=function(e,t,n,i){i===void 0&&(i=void 0),this.gos.set(e,t,n,{},i);var o=this.getSetterMethod(e),s=this;s[o]&&s[o](t)},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},r.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},r.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},r.prototype.forEachDetailGridInfo=function(e){var t=0;Kn(this.detailGridInfoMap,function(n,i){se(i)&&(e(i,t),t++)})},r.prototype.getDataAsCsv=function(e){if(nt.__assertRegistered(Ae.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)},r.prototype.exportDataAsCsv=function(e){nt.__assertRegistered(Ae.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)},r.prototype.getExcelExportMode=function(e){var t=this.gos.get("defaultExcelExportParams"),n=Object.assign({exportMode:"xlsx"},t,e);return n.exportMode},r.prototype.assertNotExcelMultiSheet=function(e,t){if(!nt.__assertRegistered(Ae.ExcelExportModule,"api."+e,this.context.getGridId()))return!1;var n=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(n)===RC.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0},r.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},r.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},r.prototype.getSheetDataForExcel=function(e){if(nt.__assertRegistered(Ae.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId())){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(RC.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},r.prototype.getMultipleSheetsAsExcel=function(e){if(nt.__assertRegistered(Ae.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)},r.prototype.exportMultipleSheetsAsExcel=function(e){if(nt.__assertRegistered(Ae.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(e)},r.prototype.setTreeData=function(e){this.gos.set("treeData",e)},r.prototype.setGridAriaProperty=function(e,t){if(e){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+e;t===null?n.removeAttribute(i):n.setAttribute(i,t)}},r.prototype.logMissingRowModel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.error("AG Grid: api."+e+" can only be called when gridOptions.rowModelType is "+t.join(" or "))},r.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.setCacheBlockSize=function(e){this.serverSideRowModel?(this.gos.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},r.prototype.setDatasource=function(e){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")},r.prototype.setViewportDatasource=function(e){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")},r.prototype.setRowData=function(e){var t=this.immutableService==null;if(t){this.logMissingRowModel("setRowData","clientSide");return}this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},r.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},r.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},r.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},r.prototype.setColumnDefs=function(e,t){t===void 0&&(t="api"),this.columnModel.setColumnDefs(e,t),this.gos.set("columnDefs",e,!0,{source:t})},r.prototype.setAutoGroupColumnDef=function(e,t){t===void 0&&(t="api"),this.gos.set("autoGroupColumnDef",e,!0,{source:t})},r.prototype.setDefaultColDef=function(e,t){t===void 0&&(t="api"),this.gos.set("defaultColDef",e,!0,{source:t})},r.prototype.setColumnTypes=function(e,t){t===void 0&&(t="api"),this.gos.set("columnTypes",e,!0,{source:t})},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.setAlwaysShowHorizontalScroll=function(e){this.gos.set("alwaysShowHorizontalScroll",e)},r.prototype.setAlwaysShowVerticalScroll=function(e){this.gos.set("alwaysShowVerticalScroll",e)},r.prototype.refreshCells=function(e){e===void 0&&(e={}),this.rowRenderer.refreshCells(e)},r.prototype.flashCells=function(e){e===void 0&&(e={}),this.rowRenderer.flashCells(e)},r.prototype.redrawRows=function(e){e===void 0&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},r.prototype.setFunctionsReadOnly=function(e){this.gos.set("functionsReadOnly",e)},r.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return this.rowModel},r.prototype.setRowNodeExpanded=function(e,t,n){e&&(n&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,n),e.setExpanded(t))},r.prototype.onGroupExpandedOrCollapsed=function(){if(rt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.clientSideRowModel.refreshModel({step:qt.MAP})},r.prototype.refreshClientSideRowModel=function(e){if(rt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(e,t,n){this.rowRenderer.addRenderedRowListener(e,t,n)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.setQuickFilter=function(e){this.gos.set("quickFilterText",e)},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){As("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!e)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(e){this.gos.set("includeHiddenColumnsInQuickFilter",e)},r.prototype.setQuickFilterParser=function(e){this.gos.set("quickFilterParser",e)},r.prototype.setQuickFilterMatcher=function(e){this.gos.set("quickFilterMatcher",e)},r.prototype.getAdvancedFilterModel=function(){return nt.__assertRegistered(Ae.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(e){this.gos.set("advancedFilterModel",e)},r.prototype.setEnableAdvancedFilter=function(e){this.gos.set("enableAdvancedFilter",e)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(e){this.gos.set("includeHiddenColumnsInAdvancedFilter",e)},r.prototype.setAdvancedFilterParent=function(e){this.gos.set("advancedFilterParent",e)},r.prototype.setAdvancedFilterBuilderParams=function(e){this.gos.set("advancedFilterBuilderParams",e)},r.prototype.showAdvancedFilterBuilder=function(){nt.__assertRegistered(Ae.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(e){var t=e.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):a.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(t){var n=e.nodes,i=e.source,o=e.newValue,s=n;this.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:o})}},r.prototype.selectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},r.prototype.deselectAll=function(e){e===void 0&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},r.prototype.selectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},r.prototype.deselectAllFiltered=function(e){e===void 0&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return rt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},r.prototype.setServerSideSelectionState=function(e){if(rt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setServerSideSelectionState(e)},r.prototype.selectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(e){e===void 0&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},r.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},r.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(rt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(e,t){t===void 0&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},r.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},r.prototype.ensureNodeVisible=function(e,t){t===void 0&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},r.prototype.forEachLeafNode=function(e){if(rt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)},r.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},r.prototype.forEachNodeAfterFilter=function(e){if(rt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)},r.prototype.forEachNodeAfterFilterAndSort=function(e){if(rt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},r.prototype.getFilterInstance=function(e,t){return this.filterManager.getFilterInstance(e,t)},r.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")},r.prototype.getStatusPanel=function(e){if(nt.__assertRegistered(Ae.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var t=this.statusBarService.getStatusPanel(e);return ph(t)}},r.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(e){e===void 0&&(e="api"),this.filterManager.onFilterChanged({source:e})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(e,t,n){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:n,forceBrowserFocus:!0})},r.prototype.setSuppressRowDrag=function(e){this.gos.set("suppressRowDrag",e)},r.prototype.setSuppressMoveWhenRowDragging=function(e){this.gos.set("suppressMoveWhenRowDragging",e)},r.prototype.setSuppressRowClickSelection=function(e){this.gos.set("suppressRowClickSelection",e)},r.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},r.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},r.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},r.prototype.setHeaderHeight=function(e){this.gos.set("headerHeight",e)},r.prototype.setDomLayout=function(e){this.gos.set("domLayout",e)},r.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},r.prototype.setFillHandleDirection=function(e){this.gos.set("fillHandleDirection",e)},r.prototype.setGroupHeaderHeight=function(e){this.gos.set("groupHeaderHeight",e)},r.prototype.setFloatingFiltersHeight=function(e){this.gos.set("floatingFiltersHeight",e)},r.prototype.setPivotHeaderHeight=function(e){this.gos.set("pivotHeaderHeight",e)},r.prototype.setPivotGroupHeaderHeight=function(e){this.gos.set("pivotGroupHeaderHeight",e)},r.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},r.prototype.setAnimateRows=function(e){this.gos.set("animateRows",e)},r.prototype.setIsExternalFilterPresent=function(e){this.gos.set("isExternalFilterPresent",e)},r.prototype.setDoesExternalFilterPass=function(e){this.gos.set("doesExternalFilterPass",e)},r.prototype.setNavigateToNextCell=function(e){this.gos.set("navigateToNextCell",e)},r.prototype.setTabToNextCell=function(e){this.gos.set("tabToNextCell",e)},r.prototype.setTabToNextHeader=function(e){this.gos.set("tabToNextHeader",e)},r.prototype.setNavigateToNextHeader=function(e){this.gos.set("navigateToNextHeader",e)},r.prototype.setRowGroupPanelShow=function(e){this.gos.set("rowGroupPanelShow",e)},r.prototype.setGetGroupRowAgg=function(e){this.gos.set("getGroupRowAgg",e)},r.prototype.setGetBusinessKeyForNode=function(e){this.gos.set("getBusinessKeyForNode",e)},r.prototype.setGetChildCount=function(e){this.gos.set("getChildCount",e)},r.prototype.setProcessRowPostCreate=function(e){this.gos.set("processRowPostCreate",e)},r.prototype.setGetRowId=function(e){this.gos.set("getRowId",e)},r.prototype.setGetRowClass=function(e){this.gos.set("getRowClass",e)},r.prototype.setIsFullWidthRow=function(e){this.gos.set("isFullWidthRow",e)},r.prototype.setIsRowSelectable=function(e){this.gos.set("isRowSelectable",e)},r.prototype.setIsRowMaster=function(e){this.gos.set("isRowMaster",e)},r.prototype.setPostSortRows=function(e){this.gos.set("postSortRows",e)},r.prototype.setGetDocument=function(e){this.gos.set("getDocument",e)},r.prototype.setGetContextMenuItems=function(e){this.gos.set("getContextMenuItems",e)},r.prototype.setGetMainMenuItems=function(e){this.gos.set("getMainMenuItems",e)},r.prototype.setProcessCellForClipboard=function(e){this.gos.set("processCellForClipboard",e)},r.prototype.setSendToClipboard=function(e){this.gos.set("sendToClipboard",e)},r.prototype.setProcessCellFromClipboard=function(e){this.gos.set("processCellFromClipboard",e)},r.prototype.setProcessSecondaryColDef=function(e){As("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)},r.prototype.setProcessSecondaryColGroupDef=function(e){As("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)},r.prototype.setProcessPivotResultColDef=function(e){this.gos.set("processPivotResultColDef",e)},r.prototype.setProcessPivotResultColGroupDef=function(e){this.gos.set("processPivotResultColGroupDef",e)},r.prototype.setPostProcessPopup=function(e){this.gos.set("postProcessPopup",e)},r.prototype.setInitialGroupOrderComparator=function(e){this.gos.set("initialGroupOrderComparator",e)},r.prototype.setGetChartToolbarItems=function(e){this.gos.set("getChartToolbarItems",e)},r.prototype.setPaginationNumberFormatter=function(e){this.gos.set("paginationNumberFormatter",e)},r.prototype.setGetServerSideStoreParams=function(e){As("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)},r.prototype.setGetServerSideGroupLevelParams=function(e){this.gos.set("getServerSideGroupLevelParams",e)},r.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gos.set("isServerSideGroupOpenByDefault",e)},r.prototype.setIsApplyServerSideTransaction=function(e){this.gos.set("isApplyServerSideTransaction",e)},r.prototype.setIsServerSideGroup=function(e){this.gos.set("isServerSideGroup",e)},r.prototype.setGetServerSideGroupKey=function(e){this.gos.set("getServerSideGroupKey",e)},r.prototype.setGetRowStyle=function(e){this.gos.set("getRowStyle",e)},r.prototype.setGetRowHeight=function(e){this.gos.set("getRowHeight",e)},r.prototype.assertSideBarLoaded=function(e){return nt.__assertRegistered(Ae.SideBarModule,"api."+e,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},r.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)},r.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)},r.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},r.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarComp.getToolPanelInstance(e);return ph(t)}},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},r.prototype.setSideBar=function(e){this.gos.set("sideBar",e)},r.prototype.setSuppressClipboardPaste=function(e){this.gos.set("suppressClipboardPaste",e)},r.prototype.resetRowHeights=function(){if(se(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},r.prototype.setGroupRemoveSingleChildren=function(e){this.gos.set("groupRemoveSingleChildren",e)},r.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gos.set("groupRemoveLowestSingleChildren",e)},r.prototype.setGroupDisplayType=function(e){this.gos.set("groupDisplayType",e)},r.prototype.setGroupIncludeFooter=function(e){this.gos.set("groupIncludeFooter",e)},r.prototype.setGroupIncludeTotalFooter=function(e){this.gos.set("groupIncludeTotalFooter",e)},r.prototype.setRowClass=function(e){this.gos.set("rowClass",e)},r.prototype.setDeltaSort=function(e){this.gos.set("deltaSort",e)},r.prototype.setRowCount=function(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(e,t){var n=this.columnModel.getPrimaryColumn(e);return rt(n)&&(n=this.columnModel.getGridColumn(e)),rt(n)?null:this.valueService.getValue(n,t)},r.prototype.addEventListener=function(e,t){var n=this.gos.useAsyncEvents();this.eventService.addEventListener(e,t,n)},r.prototype.addGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.addGlobalListener(e,t)},r.prototype.removeEventListener=function(e,t){var n=this.gos.useAsyncEvents();this.eventService.removeEventListener(e,t,n)},r.prototype.removeGlobalListener=function(e){var t=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},r.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},r.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0,this.dispatchEvent({type:H.EVENT_GRID_PRE_DESTROYED});var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(pie.bind(window,this,"Grid API"),100)},r.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},r.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(nt.__assertRegistered(Ae.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(e){if(this.rangeService){this.rangeService.addCellRange(e);return}nt.__assertRegistered(Ae.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),nt.__assertRegistered(Ae.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.getChartModels=function(){if(nt.__assertRegistered(Ae.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},r.prototype.getChartRef=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(e)},r.prototype.getChartImageDataURL=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(e)},r.prototype.downloadChart=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(e)},r.prototype.openChartToolPanel=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(e)},r.prototype.closeChartToolPanel=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(e.chartId)},r.prototype.createRangeChart=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(e)},r.prototype.createPivotChart=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(e)},r.prototype.createCrossFilterChart=function(e){if(nt.__assertRegistered(Ae.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(e)},r.prototype.updateChart=function(e){nt.__assertRegistered(Ae.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(e)},r.prototype.restoreChart=function(e,t){if(nt.__assertRegistered(Ae.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(e,t)},r.prototype.copyToClipboard=function(e){nt.__assertRegistered(Ae.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(e)},r.prototype.cutToClipboard=function(e){nt.__assertRegistered(Ae.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(e,"api")},r.prototype.copySelectedRowsToClipboard=function(e){nt.__assertRegistered(Ae.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(e)},r.prototype.copySelectedRangeToClipboard=function(e){nt.__assertRegistered(Ae.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(e)},r.prototype.copySelectedRangeDown=function(){nt.__assertRegistered(Ae.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},r.prototype.pasteFromClipboard=function(){nt.__assertRegistered(Ae.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},r.prototype.showColumnMenuAfterButtonClick=function(e,t){var n=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(n,t,"columnMenu")},r.prototype.showColumnMenuAfterMouseClick=function(e,t){var n=this.columnModel.getGridColumn(e);if(n||(n=this.columnModel.getPrimaryColumn(e)),!n){console.error("AG Grid: column '"+e+"' not found");return}this.menuFactory.showMenuAfterMouseEvent(n,t)},r.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},r.prototype.setPopupParent=function(e){this.gos.set("popupParent",e)},r.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},r.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},r.prototype.getCellRendererInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),n=t.map(ph);return n},r.prototype.getCellEditorInstances=function(e){e===void 0&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),n=t.map(ph);return n},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.rowRenderer.stopEditing(e)},r.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn("AG Grid: no column found for "+e.colKey);return}var n={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},i=e.rowPinned==null;i&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(e.key))},r.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},r.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)},r.prototype.applyServerSideTransactionAsync=function(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)},r.prototype.applyServerSideRowData=function(e){var t,n,i=(t=e.startRow)!==null&&t!==void 0?t:0,o=(n=e.route)!==null&&n!==void 0?n:[];if(i<0){console.warn("AG Grid: invalid value "+e.startRow+" for startRow, the value should be >= 0");return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},r.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},r.prototype.applyTransaction=function(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(e)},r.prototype.applyTransactionAsync=function(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(e,t)},r.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.gos.set("suppressModelUpdateAfterUpdateTransaction",e)},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)},r.prototype.refreshServerSideStore=function(e){return As("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)},r.prototype.getServerSideStoreState=function(){return As("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.setDataTypeDefinitions=function(e){this.gos.set("dataTypeDefinitions",e)},r.prototype.setPagination=function(e){this.gos.set("pagination",e)},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationSetPageSize=function(e){this.gos.set("paginationPageSize",e)},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},Yt([jt("immutableService")],r.prototype,"immutableService",void 0),Yt([jt("csvCreator")],r.prototype,"csvCreator",void 0),Yt([jt("excelCreator")],r.prototype,"excelCreator",void 0),Yt([G("rowRenderer")],r.prototype,"rowRenderer",void 0),Yt([G("navigationService")],r.prototype,"navigationService",void 0),Yt([G("filterManager")],r.prototype,"filterManager",void 0),Yt([G("columnModel")],r.prototype,"columnModel",void 0),Yt([G("selectionService")],r.prototype,"selectionService",void 0),Yt([G("gridOptionsService")],r.prototype,"gos",void 0),Yt([G("valueService")],r.prototype,"valueService",void 0),Yt([G("alignedGridsService")],r.prototype,"alignedGridsService",void 0),Yt([G("eventService")],r.prototype,"eventService",void 0),Yt([G("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),Yt([G("context")],r.prototype,"context",void 0),Yt([G("rowModel")],r.prototype,"rowModel",void 0),Yt([G("sortController")],r.prototype,"sortController",void 0),Yt([G("paginationProxy")],r.prototype,"paginationProxy",void 0),Yt([G("focusService")],r.prototype,"focusService",void 0),Yt([G("dragAndDropService")],r.prototype,"dragAndDropService",void 0),Yt([jt("rangeService")],r.prototype,"rangeService",void 0),Yt([jt("clipboardService")],r.prototype,"clipboardService",void 0),Yt([jt("aggFuncService")],r.prototype,"aggFuncService",void 0),Yt([G("menuFactory")],r.prototype,"menuFactory",void 0),Yt([jt("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),Yt([G("valueCache")],r.prototype,"valueCache",void 0),Yt([G("animationFrameService")],r.prototype,"animationFrameService",void 0),Yt([jt("statusBarService")],r.prototype,"statusBarService",void 0),Yt([jt("chartService")],r.prototype,"chartService",void 0),Yt([jt("undoRedoService")],r.prototype,"undoRedoService",void 0),Yt([jt("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),Yt([jt("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),Yt([G("ctrlsService")],r.prototype,"ctrlsService",void 0),Yt([ge],r.prototype,"init",null),Yt([Ur],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),r=Yt([De("gridApi")],r),r}(),b5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Joe=function(r){b5e(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}t=e,e.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return n.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},e.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},e.prototype.doesRowPassQuickFilter=function(n){var i=this,o=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?i.doesRowPassQuickFilterCache(n,s):i.doesRowPassQuickFilterNoCache(n,s)})},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},e.prototype.setQuickFilterParts=function(){var n=this,i=n.quickFilter,o=n.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},e.prototype.parseQuickFilter=function(n){return se(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof n);return}var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||i!==this.matcher;this.parser=n,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:t.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(n,i){var o=this,s=this.columnModel.getAllColumnsForQuickFilter();return s.some(function(a){var l=o.getQuickFilterTextForColumn(a,n);return se(l)&&l.indexOf(i)>=0})},e.prototype.doesRowPassQuickFilterCache=function(n,i){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(i)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(n,i){var o;n?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var s=this,a=s.quickFilterParts,l=s.matcher;return l(a,o)},e.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},e.prototype.getQuickFilterTextForColumn=function(n,i){var o=this.valueService.getValue(n,i,!0),s=n.getColDef();if(s.getQuickFilterText){var a={value:o,node:i,data:i.data,column:n,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=s.getQuickFilterText(a)}return se(o)?o.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(n){var i=this,o=[],s=this.columnModel.getAllColumnsForQuickFilter();return s.forEach(function(a){var l=i.getQuickFilterTextForColumn(a,n);se(l)&&o.push(l)}),o.join(t.QUICK_FILTER_SEPARATOR)};var t;return e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR=`
`,hv([G("valueService")],e.prototype,"valueService",void 0),hv([G("columnModel")],e.prototype,"columnModel",void 0),hv([G("rowModel")],e.prototype,"rowModel",void 0),hv([ge],e.prototype,"postConstruct",null),e=t=hv([De("quickFilterService")],e),e}(fe),R5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),EP=function(){return EP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},EP.apply(this,arguments)},ka=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zoe=function(r){R5e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.allColumnListeners=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.processingFilterChange=!1,t.filterModelUpdateQueue=[],t}return e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,function(){return t.onColumnsChanged()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VALUE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return t.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,function(){return t.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,function(){return t.updateAdvancedFilterColumns()}),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){return t.updateAggFiltering()}),this.addManagedPropertyListener("advancedFilterModel",function(n){return t.setAdvancedFilterModel(n.currentValue)}),this.addManagedListener(this.eventService,H.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(n){var i=n.enabled;return t.onAdvancedFilterEnabledChanged(i)}),this.addManagedListener(this.eventService,H.EVENT_DATA_TYPES_INFERRED,function(){return t.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,Joe.EVENT_QUICK_FILTER_CHANGED,function(){return t.onFilterChanged({source:"quickFilter"})})},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1},e.prototype.doesExternalFilterPass=function(t){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(t):!1},e.prototype.setFilterModel=function(t){var n=this;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push(t);return}var i=[],o=this.getFilterModel();if(t){var s=fH(Object.keys(t));this.allColumnFilters.forEach(function(a,l){var u=t[l];i.push(n.setModelOnFilterWrapper(a.filterPromise,u)),s.delete(l)}),s.forEach(function(a){var l=n.columnModel.getPrimaryColumn(a)||n.columnModel.getGridColumn(a);if(!l){console.warn("AG Grid: setFilterModel() - no column found for colId: "+a);return}if(!l.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);return}var u=n.getOrCreateFilterWrapper(l,"NO_UI");if(!u){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a);return}i.push(n.setModelOnFilterWrapper(u.filterPromise,t[a]))})}else this.allColumnFilters.forEach(function(a){i.push(n.setModelOnFilterWrapper(a.filterPromise,null))});ts.all(i).then(function(){var a=n.getFilterModel(),l=[];n.allColumnFilters.forEach(function(u,c){var d=o?o[c]:null,h=a?a[c]:null;et.jsonEquals(d,h)||l.push(u.column)}),l.length>0&&n.onFilterChanged({columns:l,source:"api"})})},e.prototype.setModelOnFilterWrapper=function(t,n){return new ts(function(i){t.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(n)||ts.resolve()).then(function(){return i()})})})},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach(function(n,i){var o=n.filterPromise,s=o.resolveNow(null,function(l){return l});if(s==null)return null;if(typeof s.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var a=s.getModel();se(a)&&(t[i]=a)}),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var n=this,i;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return(t=this.advancedFilterService)===null||t===void 0?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,n){return this.doColumnFiltersPass(t,n,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return s?s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(s){var a=!s.isPrimary();if(a)return!0;var l=!t.columnModel.isPivotActive(),u=s.isValueActive();return!u||!l?!1:t.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var a=s.filterPromise.resolveNow(null,function(l){return l});o(s.column)?t.activeAggregateFilters.push(a):t.activeColumnFilters.push(a)}})},e.prototype.updateFilterFlagInColumns=function(t,n){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});i.column.setFilterActive(o,t,n)})},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,n,i){for(var o=t.data,s=t.aggData,a=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?s:o,u=0;u<a.length;u++){var c=a[u];if(!(c==null||c===n)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:t,data:l}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){var t=this.gridOptionsService.getGroupAggFiltering();t&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var n=this,i=function(){return n.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},e.prototype.onFilterChanged=function(t){t===void 0&&(t={});var n=t.source,i=t.filterInstance,o=t.additionalEventAttributes,s=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var a={source:n,type:H.EVENT_FILTER_CHANGED,columns:s||[]};o&&ls(a,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var n=this;return function(i){var o=i.node;return n.valueService.getValue(t,o,!0)}},e.prototype.getFilterComponent=function(t,n,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(t,n))===null||o===void 0?void 0:o.filterPromise)||null;var s=this.cachedFilter(t);return s?s.filterPromise:null},e.prototype.isFilterActive=function(t){var n=this.cachedFilter(t);return!!n&&n.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},e.prototype.getOrCreateFilterWrapper=function(t,n){var i=this;if(!t.isFilterAllowed())return null;var o=this.cachedFilter(t);if(o)n!=="NO_UI"&&this.putIntoGui(o,n);else{o=this.createFilterWrapper(t,n);var s=t.getColId();this.allColumnFilters.set(s,o),this.allColumnListeners.set(s,this.addManagedListener(t,pn.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(s)}))}return o},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var n;if(nt.__isRegistered(Ae.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var i=t.getColDef().cellDataType;i==="number"?n="agNumberColumnFilter":i==="date"||i==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},e.prototype.getDefaultFloatingFilter=function(t){var n;if(nt.__isRegistered(Ae.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var i=t.getColDef().cellDataType;i==="number"?n="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},e.prototype.createFilterInstance=function(t){var n=this,i=this.getDefaultFilter(t),o=t.getColDef(),s,a=EP(EP({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){var u={type:H.EVENT_FILTER_MODIFIED,column:t,filterInstance:s};n.eventService.dispatchEvent(u)},filterChangedCallback:function(u){var c,d=(c=u==null?void 0:u.source)!==null&&c!==void 0?c:"api",h={filterInstance:s,additionalEventAttributes:u,columns:[t],source:d};n.callOnFilterChangedOutsideRenderCycle(h)},doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(s,u)}}),l=this.userComponentFactory.getFilterDetails(o,a,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return s=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,n){var i={column:t,colDef:B1(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return i},e.prototype.createFilterWrapper=function(t,n){var i,o={column:t,filterPromise:null,compiledElement:null,guiPromise:ts.resolve(null),compDetails:null},s=this.createFilterInstance(t),a=s.filterPromise,l=s.compDetails;return o.filterPromise=(i=a==null?void 0:a())!==null&&i!==void 0?i:null,o.compDetails=l,a&&this.putIntoGui(o,n),o},e.prototype.putIntoGui=function(t,n){var i=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new ts(function(s){t.filterPromise.then(function(a){var l=a.getGui();se(l)||console.warn("AG Grid: getGui method from filter returned "+l+", it should be a DOM element or an HTML template string."),typeof l=="string"&&(l=fi(l)),o.appendChild(l),s(o);var u={type:H.EVENT_FILTER_OPENED,column:t.column,source:n,eGui:o};i.eventService.dispatchEvent(u)})})},e.prototype.onColumnsChanged=function(){var t=this,n=[];this.allColumnFilters.forEach(function(i,o){var s;i.column.isPrimary()?s=t.columnModel.getPrimaryColumn(o):s=t.columnModel.getGridColumn(o),!s&&(n.push(i.column),t.disposeFilterWrapper(i,"columnChanged"),t.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,n=this.columnModel.getGroupAutoColumns();n==null||n.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&t.getOrCreateFilterWrapper(i,"NO_UI")})},e.prototype.isFilterAllowed=function(t){var n,i;if(this.isAdvancedFilterEnabled())return!1;var o=t.isFilterAllowed();if(!o)return!1;var s=this.allColumnFilters.get(t.getColId());return(i=(n=s==null?void 0:s.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(a){var l,u;return typeof((l=a)===null||l===void 0?void 0:l.isFilterAllowed)=="function"?(u=a)===null||u===void 0?void 0:u.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},e.prototype.getFloatingFilterCompDetails=function(t,n){var i=this,o=t.getColDef(),s=this.createFilterParams(t,o),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,tN,s),l=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return i.getDefaultFloatingFilter(t)});l==null&&(l="agReadOnlyFloatingFilter");var u=function(d){var h=i.getFilterComponent(t,"NO_UI");h!=null&&h.then(function(p){d(ph(p))})},c={column:t,filterParams:a,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:u,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,c,l)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var n=this.getFilterComponent(t,"NO_UI",!1);return n?n.resolveNow(null,function(i){return i&&i.getModel()}):null},e.prototype.destroyFilter=function(t,n){n===void 0&&(n="api");var i=t.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var n=this.allColumnListeners.get(t);n&&(this.allColumnListeners.delete(t),n())},e.prototype.disposeFilterWrapper=function(t,n){var i=this;t.filterPromise.then(function(o){(o.setModel(null)||ts.resolve()).then(function(){i.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(t.column.getColId());var s={type:H.EVENT_FILTER_DESTROYED,source:n,column:t.column};i.eventService.dispatchEvent(s)})})},e.prototype.checkDestroyFilter=function(t){var n=this.allColumnFilters.get(t);if(n){var i=n.column,o=(i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null}).compDetails;this.areFilterCompsDifferent(n.compDetails,o)&&this.destroyFilter(i,"columnChanged")}},e.prototype.areFilterCompsDifferent=function(t,n){if(!n||!t)return!0;var i=t.componentClass,o=n.componentClass,s=i===o||(i==null?void 0:i.render)&&(o==null?void 0:o.render)&&i.render===o.render;return!s},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var t=this.columnModel.getAllGridColumns();return t?t.some(function(n){return n.getColDef().floatingFilter}):!1},e.prototype.getFilterInstance=function(t,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(t,function(s){if(n){var a=ph(s);n(a)}}),o=ph(i);return o},e.prototype.getFilterInstanceImpl=function(t,n){var i=this.columnModel.getPrimaryColumn(t);if(i){var o=this.getFilterComponent(i,"NO_UI"),s=o&&o.resolveNow(null,function(a){return a});return s?setTimeout(n,0,s):o&&o.then(function(a){n(a)}),s}},e.prototype.warnAdvancedFilters=function(){Dt(function(){console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach(function(n){return t.setFilterModel(n)}),this.filterModelUpdateQueue=[]},e.prototype.destroy=function(){var t=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return t.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},ka([G("valueService")],e.prototype,"valueService",void 0),ka([G("columnModel")],e.prototype,"columnModel",void 0),ka([G("rowModel")],e.prototype,"rowModel",void 0),ka([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),ka([G("rowRenderer")],e.prototype,"rowRenderer",void 0),ka([G("dataTypeService")],e.prototype,"dataTypeService",void 0),ka([G("quickFilterService")],e.prototype,"quickFilterService",void 0),ka([jt("advancedFilterService")],e.prototype,"advancedFilterService",void 0),ka([ge],e.prototype,"init",null),e=ka([De("filterManager")],e),e}(fe),T5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RH=function(r){T5e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.ctrl=n,i}return e.prototype.getCtrl=function(){return this.ctrl},e}(gt),P5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ese=function(r){P5e(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i={addOrRemoveCssClass:function(o,s){return t.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return t.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return Bt(t.eButtonWrapper,o)},setCompDetails:function(o){return t.setCompDetails(o)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return t.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var n=this;if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}},e.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,pv([ye("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),pv([ye("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),pv([ye("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),pv([ge],e.prototype,"postConstruct",null),pv([Ur],e.prototype,"destroyFloatingFilterComp",null),e}(RH),O5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),D5e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},pr;(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"})(pr||(pr={}));var TH=function(r){O5e(e,r);function e(t){var n=r.call(this)||this;return n.view=t,n}return e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),n={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=n.autoHeight?pr.AUTO_HEIGHT:n.print?pr.PRINT:pr.NORMAL;this.view.updateLayoutClasses(i,n)},e.prototype.getDomLayout=function(){var t,n=(t=this.gridOptionsService.get("domLayout"))!==null&&t!==void 0?t:"normal",i=["normal","print","autoHeight"];return i.indexOf(n)===-1?(Dt(function(){return console.warn("AG Grid: "+n+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):n},D5e([ge],e.prototype,"postConstruct",null),e}(fe),A5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),_P=function(){return _P=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},_P.apply(this,arguments)},oc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ai;(function(r){r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal"})(Ai||(Ai={}));var Ki;(function(r){r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer"})(Ki||(Ki={}));var x5e=function(r){A5e(e,r);function e(t){var n=r.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=t,n.resetLastHScrollDebounced=da(function(){return n.lastScrollSource[Ai.Horizontal]=null},500),n.resetLastVScrollDebounced=da(function(){return n.lastScrollSource[Ai.Vertical]=null},500),n}return e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()})},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.is("debounceVerticalScrollbar"),o=i?da(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=i?da(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){var n=this.centerRowContainerCtrl==null;if(!n){t===void 0&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?t:-t,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),a.setContainerTranslateX(i),o.setContainerTranslateX(i),s.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[Ai.Horizontal]===Ki.Container;t=Math.abs(t),d?l.setScrollPosition(t):EC(c,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=t,!0):this.lastScrollSource[n]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(Ki.FakeContainer,Ai.Horizontal)&&this.onHScrollCommon(Ki.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(Ki.Container,Ai.Horizontal)&&this.onHScrollCommon(Ki.Container)},e.prototype.onHScrollCommon=function(t){var n=this.centerRowContainerCtrl.getViewportElement(),i=n.scrollLeft;if(!this.shouldBlockScrollUpdate(Ai.Horizontal,i,!0)){var o;t===Ki.Container?o=SC(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},e.prototype.onFakeVScroll=function(){this.isControllingScroll(Ki.FakeContainer,Ai.Vertical)&&this.onVScrollCommon(Ki.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(Ki.Container,Ai.Vertical)&&this.onVScrollCommon(Ki.Container)},e.prototype.onVScrollCommon=function(t){var n;t===Ki.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Ai.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,t===Ki.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===n||(this.scrollLeft=t,this.fireScrollEvent(Ai.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var n=this,i={type:H.EVENT_BODY_SCROLL,direction:t===Ai.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=_P(_P({},i),{type:H.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},e.prototype.shouldBlockScrollUpdate=function(t,n,i){return i===void 0&&(i=!1),i&&!Td()?!1:t===Ai.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},e.prototype.shouldBlockVerticalScroll=function(t){var n=dS(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return t<0||t+n>i},e.prototype.shouldBlockHorizontalScroll=function(t){var n=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&wC()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+n>i},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(Ai.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Ki.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,n){n===void 0&&(n=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(Ai.Horizontal,t)&&(this.enableRtl&&wC()?t=t>0?0:o:t=Math.min(Math.max(t,i),o)),EC(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){var t={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return t},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,n){n===void 0&&(n=null);for(var i=this.rowModel.getRowCount(),o=-1,s=0;s<i;s++){var a=this.rowModel.getRow(s);if(typeof t=="function"){var l=t;if(a&&l(a)){o=s;break}}else if(t===a||t===a.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},e.prototype.ensureIndexVisible=function(t,n){if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if(typeof t!="number"||t<0||t>=i){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);return}var o=this.gridOptionsService.is("pagination"),s=o&&!this.gridOptionsService.is("suppressPaginationPanel");s||this.paginationProxy.goToPageWithIndex(t);var a=this.ctrlsService.getGridBodyCtrl(),l=a.getStickyTopHeight(),u=this.paginationProxy.getRow(t),c;do{var d=u.rowTop,h=u.rowHeight,p=this.paginationProxy.getPixelOffset(),f=u.rowTop-p,g=f+u.rowHeight,v=this.getVScrollPosition(),y=this.heightScaler.getDivStretchOffset(),C=v.top+y,w=v.bottom+y,S=w-C,P=this.heightScaler.getScrollPositionForPixel(f),F=this.heightScaler.getScrollPositionForPixel(g-S),_=Math.min((P+F)/2,f),E=C+l>f,T=w<g,O=null;n==="top"?O=P:n==="bottom"?O=F:n==="middle"?O=_:E?O=P-l:T&&(O=F),O!==null&&(this.setVerticalScrollPosition(O),this.rowRenderer.redraw({afterScroll:!0})),c=d!==u.rowTop||h!==u.rowHeight}while(c);this.animationFrameService.flushAllFrames()}},e.prototype.ensureColumnVisible=function(t,n){n===void 0&&(n="auto");var i=this.columnModel.getGridColumn(t);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,n);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,n){var i=this.isColumnOutsideViewport(t),o=i.columnBeforeStart,s=i.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:s)||a,d=u?s:o;n!=="auto"&&(c=n==="start",d=n==="end");var h=n==="middle";if(c||d||h){var p=this.getColumnBounds(t),f=p.colLeft,g=p.colMiddle,v=p.colRight;return h?g-l/2:c?u?v:f:u?f-l:v-l}return null},e.prototype.isColumnOutsideViewport=function(t){var n=this.getViewportBounds(),i=n.start,o=n.end,s=this.getColumnBounds(t),a=s.colLeft,l=s.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<a:i>a;return{columnBeforeStart:c,columnAfterEnd:d}},e.prototype.getColumnBounds=function(t){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),s=t.getLeft(),a=n?-1:1,l=n?i-s:s,u=l+o*a,c=l+o/2*a;return{colLeft:l,colMiddle:c,colRight:u}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=n,o=t+n;return{start:i,end:o,width:t}},oc([G("ctrlsService")],e.prototype,"ctrlsService",void 0),oc([G("animationFrameService")],e.prototype,"animationFrameService",void 0),oc([G("paginationProxy")],e.prototype,"paginationProxy",void 0),oc([G("rowModel")],e.prototype,"rowModel",void 0),oc([G("rowContainerHeightService")],e.prototype,"heightScaler",void 0),oc([G("rowRenderer")],e.prototype,"rowRenderer",void 0),oc([G("columnModel")],e.prototype,"columnModel",void 0),oc([ge],e.prototype,"postConstruct",null),e}(fe),I5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nN=function(){return nN=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},nN.apply(this,arguments)},bs=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},F5e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},M5e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},L5e=function(r){I5e(e,r);function e(t){var n=r.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var n=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var i=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new bH({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})})},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!is(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===$i.RowDrag},e.prototype.getIconName=function(){var t=this.gridOptionsService.is("rowDragManaged");return t&&this.shouldPreventRowMove()?Hr.ICON_NOT_ALLOWED:Hr.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var n=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var i=this.gridOptionsService.is("rowDragMultiRow"),o=M5e([],F5e(this.selectionService.getSelectedNodes())).sort(function(a,l){return a.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(a)-n.getRowIndexNumber(l)}),s=t.dragItem.rowNode;return i&&o.indexOf(s)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(H.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){var n=t.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getGui(),o=t.dropZoneTarget;return!i.contains(o)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(H.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var n=this.mouseEventService.getNormalisedPosition(t).y,i=this.gridOptionsService.is("rowDragManaged");i&&this.doManagedDrag(t,n),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,n){var i=this.isFromThisGrid(t),o=this.gridOptionsService.is("rowDragManaged"),s=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},e.prototype.getRowIndexNumber=function(t){return parseInt(gn(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===bl.Below,s=this.mouseEventService.getNormalisedPosition(t).y,a=t.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(t))a.forEach(function(d){d.rowTop<s&&(l-=1)}),this.moveRows(a,s,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===bl.Above&&c--,this.clientSideRowModel.updateRowData({add:a.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,n,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(t,n,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var n=this;if(!t.getContainer()){Dt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target");return}if(this.dragAndDropService.findExternalZone(t)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,i=t):(t.onDragEnter&&(i.onDragEnter=function(o){t.onDragEnter(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_ENTER,o))}),t.onDragLeave&&(i.onDragLeave=function(o){t.onDragLeave(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_LEAVE,o))}),t.onDragging&&(i.onDragging=function(o){t.onDragging(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_MOVE,o))}),t.onDragStop&&(i.onDragStop=function(o){t.onDragStop(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(nN({isInterestedIn:function(o){return o===$i.RowDrag},getIconName:function(){return Hr.ICON_MOVE},external:!0},i))},e.prototype.getRowDropZone=function(t){var n=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),l=this.onDragStop.bind(this);return t?{getContainer:i,onDragEnter:t.onDragEnter?function(u){o(u),t.onDragEnter(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:t.onDragLeave?function(u){s(u),t.onDragLeave(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_LEAVE,u))}:s,onDragging:t.onDragging?function(u){a(u),t.onDragging(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_MOVE,u))}:a,onDragStop:t.onDragStop?function(u){l(u),t.onDragStop(n.draggingToRowDragEvent(H.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:s,onDragging:a,onDragStop:l,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,n){var i=this.mouseEventService.getNormalisedPosition(n).y,o=i>this.paginationProxy.getCurrentPageHeight(),s=-1,a;o||(s=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(s));var l;switch(n.vDirection){case ip.Down:l="down";break;case ip.Up:l="up";break;default:l=null;break}var u={type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:a,y:i,vDirection:l};return u},e.prototype.dispatchGridEvent=function(t,n){var i=this.draggingToRowDragEvent(t,n);this.eventService.dispatchEvent(i)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(H.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(H.EVENT_ROW_DRAG_END,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&!this.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(function(n){n.setDragging(!1)})},bs([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),bs([G("rowModel")],e.prototype,"rowModel",void 0),bs([G("paginationProxy")],e.prototype,"paginationProxy",void 0),bs([G("columnModel")],e.prototype,"columnModel",void 0),bs([G("focusService")],e.prototype,"focusService",void 0),bs([G("sortController")],e.prototype,"sortController",void 0),bs([G("filterManager")],e.prototype,"filterManager",void 0),bs([G("selectionService")],e.prototype,"selectionService",void 0),bs([G("mouseEventService")],e.prototype,"mouseEventService",void 0),bs([G("ctrlsService")],e.prototype,"ctrlsService",void 0),bs([jt("rangeService")],e.prototype,"rangeService",void 0),bs([ge],e.prototype,"postConstruct",null),e}(fe),N5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},op;(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"})(op||(op={}));var tse="ag-force-vertical-scroll",G5e="ag-selectable",V5e="ag-column-moving",nse=function(r){N5e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,n,i,o,s,a){this.comp=t,this.eGridBody=n,this.eBodyViewport=i,this.eTop=o,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new TH(this.comp)),this.bodyScrollFeature=this.createManagedBean(new x5e(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var n=this;t.forEach(function(i){n.addManagedListener(i,"focusin",function(o){var s=o.target,a=Ph(s,"ag-root",i);i.classList.toggle("ag-has-focus",!a)}),n.addManagedListener(i,"focusout",function(o){var s=o.target,a=o.relatedTarget,l=i.contains(a),u=Ph(a,"ag-root",i),c=Ph(s,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss(V5e,t)},e.prototype.setCellTextSelection=function(t){t===void 0&&(t=!1),this.comp.setCellSelectableCss(G5e,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var i=n&&this.gridOptionsService.getScrollbarWidth()||0,o=yC()?16:0,s="calc(100% + "+(i+o)+"px)";this.animationFrameService.requestAnimationFrame(function(){return t.comp.setBodyViewportWidth(s)})},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1})},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(mP(s)===null){t.rowRenderer.stopEditing();return}var a=i.some(function(u){return u.contains(s)})&&t.mouseEventService.isElementInThisGrid(s);if(!a){var l=t.popupService;a=l.getActivePopups().some(function(u){return u.contains(s)})||l.isElementWithinCustomPopup(s)}a||t.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return t.addManagedListener(o,"focusout",n)})}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=n===-1?-1:t+n;this.comp.setRowCount(i)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var n=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowVerticalScroll"),n=t?tse:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,t),t||i&&doe(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,n=function(){var i=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),o=i?op.ANIMATION_ON:op.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(o,i)};n(),this.addManagedListener(this.eventService,H.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&i&&this.addManagedListener(n,"wheel",function(o){return t.onFullWidthContainerWheel(o,i)})},e.prototype.onFullWidthContainerWheel=function(t,n){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),n.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,n,i){if(!(!t&&!i)){if(this.gridOptionsService.is("preventDefaultOnContextMenu")){var o=t||i;o.preventDefault()}var s=(t||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(Td()){var n=new _o(this.eBodyViewport),i=function(o){t(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,_o.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+t),this.eBodyViewport.scrollTop-n},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new L5e(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,n=t.getPinnedTopTotalHeight();n&&(n+=1);var i=t.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){t===void 0&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(!t)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+n+"px)")}},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl(),n=t.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),i>0&&(o+=i+1),this.comp.setStickyTopTop(o+"px")},e.prototype.sizeColumnsToFit=function(t,n){var i=this,o=this.isVerticalScrollShowing(),s=o?this.gridOptionsService.getScrollbarWidth():0,a=LA(this.eGridBody),l=a-s;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,t);return}n===void 0?window.setTimeout(function(){i.sizeColumnsToFit(t,100)},0):n===100?window.setTimeout(function(){i.sizeColumnsToFit(t,500)},100):n===500?window.setTimeout(function(){i.sizeColumnsToFit(t,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},lo([G("animationFrameService")],e.prototype,"animationFrameService",void 0),lo([G("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),lo([G("ctrlsService")],e.prototype,"ctrlsService",void 0),lo([G("columnModel")],e.prototype,"columnModel",void 0),lo([G("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),lo([jt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),lo([G("headerNavigationService")],e.prototype,"headerNavigationService",void 0),lo([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),lo([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),lo([G("rowRenderer")],e.prototype,"rowRenderer",void 0),lo([G("popupService")],e.prototype,"popupService",void 0),lo([G("mouseEventService")],e.prototype,"mouseEventService",void 0),lo([G("rowModel")],e.prototype,"rowModel",void 0),lo([G("filterManager")],e.prototype,"filterManager",void 0),e}(fe),TC;(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"})(TC||(TC={}));var fh;(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"})(fh||(fh={}));var fv="ag-cell-range-selected",H5e="ag-cell-range-chart",k5e="ag-cell-range-single-cell",$5e="ag-cell-range-chart-category",B5e="ag-cell-range-handle",j5e="ag-cell-range-top",W5e="ag-cell-range-right",U5e="ag-cell-range-bottom",z5e="ag-cell-range-left",K5e=function(){function r(e,t){this.beans=e,this.cellCtrl=t}return r.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(fv,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(fv+"-1",this.rangeCount===1),this.cellComp.addOrRemoveCssClass(fv+"-2",this.rangeCount===2),this.cellComp.addOrRemoveCssClass(fv+"-3",this.rangeCount===3),this.cellComp.addOrRemoveCssClass(fv+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(H5e,this.hasChartRange),np(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(k5e,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),n=!t&&e.top,i=!t&&e.right,o=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(j5e,n),this.cellComp.addOrRemoveCssClass(W5e,i),this.cellComp.addOrRemoveCssClass(U5e,o),this.cellComp.addOrRemoveCssClass(z5e,s)},r.prototype.isSingleCell=function(){var e=this.beans.rangeService;return this.rangeCount===1&&e&&!e.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every(function(n){return Gs([fh.DIMENSION,fh.VALUE],n.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var e=this,t=this.beans.gridOptionsService.is("enableRtl"),n=!1,i=!1,o=!1,s=!1,a=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,h;t?(d=c.getDisplayedColAfter(a),h=c.getDisplayedColBefore(a)):(d=c.getDisplayedColBefore(a),h=c.getDisplayedColAfter(a));var p=u.getCellRanges().filter(function(C){return u.isCellInSpecificRange(e.cellCtrl.getCellPosition(),C)});d||(s=!0),h||(i=!0);for(var f=0;f<p.length&&!(n&&i&&o&&s);f++){var g=p[f],v=u.getRangeStartRow(g),y=u.getRangeEndRow(g);!n&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(o=!0),!s&&d&&g.columns.indexOf(d)<0&&(s=!0),!i&&h&&g.columns.indexOf(h)<0&&(i=!0)}return{top:n,right:i,bottom:o,left:s}},r.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(B5e,!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var s=gn(i),a=this.cellCtrl.getCellPosition(),l=t.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=t.is("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===fh.DIMENSION,h=d&&n.isCellInSpecificRange(a,i[0]);this.cellComp.addOrRemoveCssClass($5e,h),c=s.type===fh.VALUE}return c&&s.endRow!=null&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},r.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,n=e.rangeService,i=gn(n.getCellRanges()).type,o=t.is("enableFillHandle")&&rt(i),s=o?TC.FILL:TC.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),Y5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),q5e=function(r){Y5e(e,r);function e(t,n){var i=r.call(this)||this;return i.cellCtrl=t,i.beans=n,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();Lc(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(t,n){return t+n.getActualWidth()},0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),n=[];if(t===1)n.push(this.column);else for(var i=this.column,o=this.column.getPinned(),s=0;i&&s<t&&(n.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||rt(i)||o!==i.getPinned()));s++);return n},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){var t;return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?t=gn(this.colsSpanning):t=this.column,t.getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return n+i+(t||0)}return n+(t||0)},e.prototype.applyRowSpan=function(){if(this.rowSpan!==1){var t=this.beans.gridOptionsService.getRowHeightAsNumber(),n=t*this.rowSpan;this.eGui.style.height=n+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(fe),Q5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),X5e=function(r){Q5e(e,r);function e(t,n){var i=r.call(this)||this;return i.staticClasses=[],i.cellCtrl=t,i.beans=n,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i}return e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(n.cellClassRules,i,function(o){return t.cellComp.addOrRemoveCssClass(o,!0)},function(o){return t.cellComp.addOrRemoveCssClass(o,!1)})},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var n;if(typeof t.cellStyle=="function"){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=t.cellStyle;n=o(i)}else n=t.cellStyle;n&&this.cellComp.setUserStyles(n)}},e.prototype.applyClassesFromColDef=function(){var t=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return t.cellComp.addOrRemoveCssClass(o,!0)})},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(fe),J5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UA=function(r){J5e(e,r);function e(t,n){var i=r.call(this)||this;return i.ctrl=t,i.beans=n,i}return e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var n="title";t!=null&&t!=""?this.eGui.setAttribute(n,t):this.eGui.removeAttribute(n)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this,n,i,o,s;if(this.genericTooltipFeature==null){var a={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new VA(a,(i=(n=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(n),(s=(o=this.ctrl).getTooltipHideDelayOverride)===null||s===void 0?void 0:s.call(o)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,n=this.ctrl,i=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:i,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(fe),ft=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},PH=function(){function r(){}return r.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},ft([G("resizeObserverService")],r.prototype,"resizeObserverService",void 0),ft([G("paginationProxy")],r.prototype,"paginationProxy",void 0),ft([G("context")],r.prototype,"context",void 0),ft([G("columnApi")],r.prototype,"columnApi",void 0),ft([G("gridApi")],r.prototype,"gridApi",void 0),ft([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),ft([G("expressionService")],r.prototype,"expressionService",void 0),ft([G("environment")],r.prototype,"environment",void 0),ft([G("rowRenderer")],r.prototype,"rowRenderer",void 0),ft([G("templateService")],r.prototype,"templateService",void 0),ft([G("valueService")],r.prototype,"valueService",void 0),ft([G("eventService")],r.prototype,"eventService",void 0),ft([G("columnModel")],r.prototype,"columnModel",void 0),ft([G("headerNavigationService")],r.prototype,"headerNavigationService",void 0),ft([G("navigationService")],r.prototype,"navigationService",void 0),ft([G("columnAnimationService")],r.prototype,"columnAnimationService",void 0),ft([jt("rangeService")],r.prototype,"rangeService",void 0),ft([G("focusService")],r.prototype,"focusService",void 0),ft([jt("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),ft([G("popupService")],r.prototype,"popupService",void 0),ft([G("valueFormatterService")],r.prototype,"valueFormatterService",void 0),ft([G("stylingService")],r.prototype,"stylingService",void 0),ft([G("columnHoverService")],r.prototype,"columnHoverService",void 0),ft([G("userComponentFactory")],r.prototype,"userComponentFactory",void 0),ft([G("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),ft([G("animationFrameService")],r.prototype,"animationFrameService",void 0),ft([G("dragService")],r.prototype,"dragService",void 0),ft([G("dragAndDropService")],r.prototype,"dragAndDropService",void 0),ft([G("sortController")],r.prototype,"sortController",void 0),ft([G("filterManager")],r.prototype,"filterManager",void 0),ft([G("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),ft([G("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),ft([G("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),ft([G("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),ft([G("selectionService")],r.prototype,"selectionService",void 0),ft([jt("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),ft([G("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),ft([G("rowModel")],r.prototype,"rowModel",void 0),ft([G("ctrlsService")],r.prototype,"ctrlsService",void 0),ft([G("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),ft([G("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),ft([G("valueCache")],r.prototype,"valueCache",void 0),ft([G("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),ft([G("localeService")],r.prototype,"localeService",void 0),ft([G("valueParserService")],r.prototype,"valueParserService",void 0),ft([ge],r.prototype,"postConstruct",null),r=ft([De("beans")],r),r}(),Z5e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eKe=function(r){Z5e(e,r);function e(t,n,i){var o=r.call(this)||this;return o.cellCtrl=t,o.beans=n,o.column=i,o}return e.prototype.onMouseEvent=function(t,n){if(!ga(n))switch(t){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}var n=this.beans,i=n.eventService,o=n.rangeService,s=n.gridOptionsService,a=t.ctrlKey||t.metaKey;o&&a&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(t,H.EVENT_CELL_CLICKED);i.dispatchEvent(l);var u=this.column.getColDef();u.onCellClicked&&window.setTimeout(function(){return u.onCellClicked(l)},0);var c=(s.is("singleClickEdit")||u.singleClickEdit)&&!s.is("suppressClickEdit");c&&!(t.shiftKey&&(o==null?void 0:o.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Td()||U1("dblclick"))return!1;var t=new Date().getTime(),n=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,n},e.prototype.onCellDoubleClicked=function(t){var n=this.column.getColDef(),i=this.cellCtrl.createEvent(t,H.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),typeof n.onCellDoubleClicked=="function"&&window.setTimeout(function(){return n.onCellDoubleClicked(i)},0);var o=!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var n=t.ctrlKey,i=t.metaKey,o=t.shiftKey,s=t.target,a=this,l=a.cellCtrl,u=a.beans,c=u.eventService,d=u.rangeService,h=u.focusService;if(!this.isRightClickInExistingRange(t)){var p=d&&d.getCellRanges().length!=0;if(!o||!p){var f=Ws()&&!l.isEditing()&&!oH(s);l.focusCell(f)}if(o&&p&&!h.isCellFocused(l.getCellPosition())){t.preventDefault();var g=h.getFocusedCell();if(g){var v=g.column,y=g.rowIndex,C=g.rowPinned,w=u.rowRenderer.getRowByPosition({rowIndex:y,rowPinned:C}),S=w==null?void 0:w.getCellCtrl(v);S!=null&&S.isEditing()&&S.stopEditing(),h.setFocusedCell({column:v,rowIndex:y,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(d){var P=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(P);else{var F=n||i;d.setRangeToCell(P,F)}}c.dispatchEvent(this.cellCtrl.createEvent(t,H.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var n=this.beans.rangeService;if(n){var i=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=t.button===2||t.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},e.prototype.containsWidget=function(t){return Ph(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,H.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var n=this.cellCtrl.createEvent(t,H.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(t.target),o=n.contains(t.relatedTarget);return i&&o},e.prototype.destroy=function(){},e}(PH),tKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),nKe=function(r){tKe(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;return a.cellCtrl=t,a.beans=n,a.rowNode=o,a.rowCtrl=s,a}return e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var n=t.key;switch(n){case ee.ENTER:this.onEnterKeyDown(t);break;case ee.F2:this.onF2KeyDown(t);break;case ee.ESCAPE:this.onEscapeKeyDown(t);break;case ee.TAB:this.onTabKeyDown(t);break;case ee.BACKSPACE:case ee.DELETE:this.onBackspaceOrDeleteKeyDown(n,t);break;case ee.DOWN:case ee.UP:case ee.RIGHT:case ee.LEFT:this.onNavigationKeyDown(t,n);break}},e.prototype.onNavigationKeyDown=function(t,n){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,n,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(t);n&&this.beans.navigationService.ensureCellVisible(n)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,n){var i=this,o=i.cellCtrl,s=i.beans,a=i.rowNode,l=s.gridOptionsService,u=s.rangeService,c=s.eventService;o.isEditing()||(c.dispatchEvent({type:H.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),voe(t,l.is("enableCellEditingOnBackspace"))?u&&l.is("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&a.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,n),c.dispatchEvent({type:H.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.is("enterNavigatesVertically")){var n=t.shiftKey?ee.UP:ee.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ee.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ee.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){var n=t.target,i=n!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=t.key;o===" "?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(o,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!n.is("suppressRowDeselection")){var s=this.beans.gridOptionsService.is("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"});i===void 0&&a===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:s,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){r.prototype.destroy.call(this)},e}(fe),rKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oKe=function(r){rKe(e,r);function e(t,n,i){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=t,o.column=n,o.eCell=i,o}return e.prototype.postConstruct=function(){var t=this.getGui();t.appendChild(Cr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var a=JSON.stringify(n.rowNode.data);t.dataTransfer.setData("application/json",a),t.dataTransfer.setData("text/plain",a)}catch{}};if(i){var s={rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};i(s)}else o()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},iKe([ge],e.prototype,"postConstruct",null),e}(gt),sKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bP=function(){return bP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},bP.apply(this,arguments)},aKe="ag-cell",lKe="ag-cell-auto-height",uKe="ag-cell-normal-height",cKe="ag-cell-focus",dKe="ag-cell-first-right-pinned",hKe="ag-cell-last-left-pinned",pKe="ag-cell-not-inline-editing",fKe="ag-column-hover",gKe="ag-cell-wrap-text",mKe=0,qc=function(r){sKe(e,r);function e(t,n,i,o){var s=r.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=t,s.rowNode=n,s.beans=i,s.rowCtrl=o,s.instanceId=t.getId()+"-"+mKe++;var a=s.column.getColDef();return s.colIdSanitised=Ir(s.column.getId()),s.beans.gridOptionsService.is("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=a.cellRenderer!=null||a.cellRendererSelector!=null,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!0),s}return e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new q5e(this,this.beans),this.addDestroyFunc(function(){var i;(i=t.cellPositionFeature)===null||i===void 0||i.destroy(),t.cellPositionFeature=null}),this.cellCustomStyleFeature=new X5e(this,this.beans),this.addDestroyFunc(function(){var i;(i=t.cellCustomStyleFeature)===null||i===void 0||i.destroy(),t.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new eKe(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=t.cellMouseListenerFeature)===null||i===void 0||i.destroy(),t.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new nKe(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=t.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),t.cellKeyboardListenerFeature=null});var n=this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection");n&&(this.cellRangeFeature=new K5e(this.beans,this),this.addDestroyFunc(function(){var i;(i=t.cellRangeFeature)===null||i===void 0||i.destroy(),t.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,n=function(){var o=t.column.getColDef(),s=t.rowNode.data;if(o.tooltipField&&se(s))return Yf(s,o.tooltipField,t.column.isTooltipFieldContainsDots());var a=o.tooltipValueGetter;return a?a({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},i={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new UA(i,this.beans),this.addDestroyFunc(function(){var o;(o=t.tooltipFeature)===null||o===void 0||o.destroy(),t.tooltipFeature=null})},e.prototype.setComp=function(t,n,i,o,s){var a,l,u,c;this.cellComp=t,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),i&&this.setupAutoHeight(i),this.setAriaColIndex(),(a=this.cellPositionFeature)===null||a===void 0||a.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(t),(u=this.tooltipFeature)===null||u===void 0||u.setComp(n),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var n=this;if(this.column.isAutoHeight()){var i=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(u){if(!n.editing&&n.isAlive()){var c=Pd(i),d=c.paddingTop,h=c.paddingBottom,p=c.borderBottomWidth,f=c.borderTopWidth,g=d+h+p+f,v=t.offsetHeight,y=v+g;if(u<5){var C=n.beans.gridOptionsService.getDocument(),w=!C||!C.contains(t),S=y==0;if(w||S){n.beans.frameworkOverrides.setTimeout(function(){return s(u+1)},0);return}}var P=Math.max(y,o);n.rowNode.setRowAutoHeight(P,n.column)}},a=function(){return s(0)};a();var l=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.getIsCellRenderer=function(){return this.isCellRenderer},e.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},e.prototype.showValue=function(t){t===void 0&&(t=!1);var n=this.getValueToDisplay(),i;if(this.isCellRenderer){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,n,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){var t=this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight();return t},e.prototype.isIncludeControl=function(t){var n=this.rowNode.rowPinned!=null,i=typeof t=="function",o=n?!1:i||t===!0;return o},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return n||i||o},e.prototype.startEditing=function(t,n,i){var o=this;if(t===void 0&&(t=null),n===void 0&&(n=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(t,n,i)});return}var s=this.createCellEditorParams(t,n),a=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(a,s),u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!a.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c);var d=this.createEvent(i,H.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){t===void 0&&(t=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var n={newValueExists:!1};if(t)return n;var i=this.cellComp.getCellEditor();if(!i)return n;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return n;var s=i.getValue();return{newValue:s,newValueExists:!0}},e.prototype.saveNewValue=function(t,n){if(n===t)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i},e.prototype.stopEditing=function(t){if(t===void 0&&(t=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(t),i=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return o&&(a=this.saveNewValue(s,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,i,!t&&!!a),a},e.prototype.dispatchEditingStoppedEvent=function(t,n,i){var o=bP(bP({},this.createEvent(null,H.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this,n={value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(i){return t.beans.valueService.setValue(t.rowNode,t.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,s,a){return t.registerRowDragger(i,o,a)}};return n},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){if(this.cellComp){var n=t.column===this.column;n&&this.refreshCell({})}},e.prototype.refreshCell=function(t){var n,i,o;if(!(this.suppressRefreshCell||this.editing)&&this.cellComp){var s=this.column.getColDef(),a=t!=null&&!!t.newData,l=t!=null&&!!t.suppressFlash||!!s.suppressCellFlash,u=s.field==null&&s.valueGetter==null&&s.showRowGroup==null,c=t&&t.forceRefresh||u||a,d=this.updateAndFormatValue(),h=c||d;if(h){this.showValue(a);var p=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),f=!l&&!p&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash);f&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(n)},e.prototype.navigateAfterEdit=function(t){var n=this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit");if(n){var i=t?ee.UP:ee.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var n=t&&t.flashDelay,i=t&&t.fadeDelay;this.animateCell("data-changed",n,i)},e.prototype.animateCell=function(t,n,i){var o=this,s,a;if(this.cellComp){var l="ag-cell-"+t,u="ag-cell-"+t+"-animation",c=this.beans.gridOptionsService;n||(n=(s=c.getNum("cellFlashDelay"))!==null&&s!==void 0?s:500),se(i)||(i=(a=c.getNum("cellFadeDelay"))!==null&&a!==void 0?a:1e3),this.cellComp.addOrRemoveCssClass(l,!0),this.cellComp.addOrRemoveCssClass(u,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(l,!1),o.cellComp.addOrRemoveCssClass(u,!0),o.eGui.style.transition="background-color "+i+"ms",window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(u,!1),o.eGui.style.transition="")},i))},n)}},e.prototype.onFlashCells=function(t){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=t.cells[n];i&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var n;return(n=this.callValueFormatter(t))!==null&&n!==void 0?n:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){t===void 0&&(t=!1);var n=this.value,i=this.valueFormatted;this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value);var o=t?!0:!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i;return o},e.prototype.valuesAreEqual=function(t,n){var i=this.column.getColDef();return i.equals?i.equals(t,n):t===n},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)})},e.prototype.createEvent=function(t,n){var i={type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex};return i},e.prototype.processCharacter=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(t)},e.prototype.onKeyDown=function(t){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(t)},e.prototype.onMouseEvent=function(t,n){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(t,n)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;(t=this.tooltipFeature)===null||t===void 0||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&((t=this.cellPositionFeature)===null||t===void 0||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);Z1(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return(t=this.cellPositionFeature)===null||t===void 0?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},e.prototype.focusCell=function(t){t===void 0&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(dKe,t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(hKe,t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.is("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(cKe,n),n&&t&&t.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:El(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(aKe,!0),this.cellComp.addOrRemoveCssClass(pKe,!0);var t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(lKe,t),this.cellComp.addOrRemoveCssClass(uKe,!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(fKe,t)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(gKe,t)},e.prototype.dispatchCellContextMenuEvent=function(t){var n=this.column.getColDef(),i=this.createEvent(t,H.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(i)},0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new _H;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new oKe(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,n,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,n);return}var s=this.createRowDragComp(t,n,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))},e.prototype.createRowDragComp=function(t,n,i){var o=this,s=this.beans.gridOptionsService.is("pagination"),a=this.beans.gridOptionsService.is("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!l){Dt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");return}if(s){Dt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging");return}}var u=new wP(function(){return o.value},this.rowNode,this.column,t,n,i);return this.beans.context.createBean(u),u},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(fe),vKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yKe=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rF=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},iF=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},fo;(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"})(fo||(fo={}));var CKe=0,Qc=function(r){vKe(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=n,a.gridOptionsService=n.gridOptionsService,a.rowNode=t,a.paginationPage=n.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=o,a.printLayout=s,a.instanceId=t.id+"-"+CKe++,a.rowId=Ir(t.id),a.initRowBusinessKey(),a.rowFocused=n.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=n.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(i),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.is("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Ir(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n,i){var o={rowComp:t,element:n,containerType:i};this.allRowGuis.push(o),i===Pr.LEFT?this.leftGui=o:i===Pr.RIGHT?this.rightGui=o:i===Pr.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==t}),t){case Pr.LEFT:this.leftGui=void 0;break;case Pr.RIGHT:this.rightGui=void 0;break;case Pr.FULL_WIDTH:this.fullWidthGui=void 0;break;case Pr.CENTER:this.centerGui=void 0;break}},e.prototype.isCacheable=function(){return this.rowType===fo.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")},e.prototype.setCached=function(t){var n=t?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},e.prototype.initialiseRowComp=function(t){var n=this,i=this.gridOptionsService;this.listenOnDomOrder(t),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp,s=this.getInitialRowClasses(t.containerType);s.forEach(function(a){return o.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&ha(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=Ir(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var n=this,i=t.containerType,o=this.slideInAnimation[i];o&&(GL(function(){n.onTopChanged()}),this.slideInAnimation[i]=!1);var s=this.fadeInAnimation[i];s&&(GL(function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.is("enableRangeSelection")){Dt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");return}var n=this.beans.localeService.getLocaleTextFunc(),i=new wP(function(){return"1 "+n("rowDragRow","row")},this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(i,this.beans.context)},e.prototype.setupFullWidth=function(t){var n=this.getPinnedForContainer(t.containerType),i=this.createFullWidthParams(t.element,n);if(!(this.rowType==fo.FullWidthDetail&&!nt.__assertRegistered(Ae.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case fo.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case fo.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case fo.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,n;return(n=(t=this.fullWidthGui)===null||t===void 0?void 0:t.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var n=this.getCellCtrl(t);return n?n.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!t||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(n)}},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&n&&i},e.prototype.setRowType=function(){var t=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer,a=s&&this.gridOptionsService.isGroupUseEntireRow(o);t?this.rowType=fo.FullWidthLoading:i?this.rowType=fo.FullWidthDetail:n?this.rowType=fo.FullWidth:a?this.rowType=fo.FullWidthGroup:this.rowType=fo.Normal},e.prototype.updateColumnLists=function(t,n){var i=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=t||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},e.prototype.createCellCtrls=function(t,n,i){var o=this;i===void 0&&(i=null);var s={list:[],map:{}},a=function(l,u){s.list.push(u),s.map[l]=u};return n.forEach(function(l){var u=l.getInstanceId(),c=t.map[u];c||(c=new qc(l,o.rowNode,o.beans,o)),a(u,c)}),t.list.forEach(function(l){var u=s.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){a(l.getColumn().getInstanceId(),l);return}l.destroy()}}),s},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var n=this;this.allRowGuis.forEach(function(i){var o=n.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,t)})},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case Pr.LEFT:return this.leftCellCtrls.list;case Pr.RIGHT:return this.rightCellCtrls.list;case Pr.FULL_WIDTH:return[];case Pr.CENTER:return this.centerCellCtrls.list;default:var n=t;throw new Error("Unhandled case: "+n)}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,n){var i=!0,o=!1,s=t.getColumn();if(s.getPinned()!=n)return i;var a=t.isEditing(),l=this.beans.focusService.isCellFocused(t.getCellPosition()),u=a||l;if(u){var c=t.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),h=d.indexOf(c)>=0;return h?o:i}return i},e.prototype.getDomOrder=function(){var t=this.gridOptionsService.is("ensureDomOrder");return t||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var n=this,i=function(){t.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},e.prototype.setAnimateFlags=function(t){if(!(this.isSticky()||!t)){var n=se(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==fo.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,n=function(u,c){if(!u)return!0;var d=u.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;var h=t.createFullWidthParams(u.element,c),p=d.refresh(h);return p},i=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),a=n(this.rightGui,"right"),l=i&&o&&s&&a;return l},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,wt.EVENT_HEIGHT_CHANGED,function(){return t.onRowHeightChanged()}),this.addManagedListener(this.rowNode,wt.EVENT_ROW_SELECTED,function(){return t.onRowSelected()}),this.addManagedListener(this.rowNode,wt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,wt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,H.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,H.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,H.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,H.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(n,H.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(n,H.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,H.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,H.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,wt.EVENT_ROW_INDEX_CHANGED,function(){t.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,wt.EVENT_CELL_CHANGED,function(n){t.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},e.prototype.onRowNodeDataChanged=function(t){var n=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!t.update,newData:!t.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var i=t===bl.Above,o=t===bl.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",t)})},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",t),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!n),ha(i.element,t&&n)})},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:El(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var n=this.allRowGuis.find(function(u){return u.element.contains(t.target)}),i=n?n.element:null,o=i===t.target;if(o){var s=this.rowNode,a=this.beans.focusService.getFocusedCell(),l={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column};this.beans.navigationService.navigateToNextCell(t,t.key,l,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!(t.defaultPrevented||ga(t))){var n=this.allRowGuis.find(function(a){return a.element.contains(t.target)}),i=n?n.element:null,o=i===t.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(i,!1,t.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var n,i=this.rowNode,o=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,s=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;s&&(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,n){var i={list:[],map:{}};return t.list.forEach(function(o){o!==n&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},e.prototype.onMouseEvent=function(t,n){switch(t){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},e.prototype.createRowEvent=function(t,n){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:n}},e.prototype.createRowEventWithSource=function(t,n){var i=this.createRowEvent(t,n);return i.source=this,i},e.prototype.onRowDblClick=function(t){if(!ga(t)){var n=this.createRowEventWithSource(H.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(n)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=Ph(t.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){var n=ga(t)||this.lastMouseDownOnDragger;if(!n){var i=this.createRowEventWithSource(H.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(i);var o=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.gridOptionsService.is("groupSelectsChildren");if(!(a&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))){var l=this.gridOptionsService.is("rowMultiSelectWithClick"),u=!this.gridOptionsService.is("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:s,event:t,source:c})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var n=this;if(this.rowType===fo.FullWidthDetail&&this.gridOptionsService.is("detailRowAutoHeight")){var i=function(){var s=t.clientHeight;if(s!=null&&s>0){var a=function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};n.beans.frameworkOverrides.setTimeout(a,0)}},o=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(o),i()}},e.prototype.createFullWidthParams=function(t,n){var i=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,l,u){return i.addFullWidthRowDragging(s,a,l,u)}};return o},e.prototype.addFullWidthRowDragging=function(t,n,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var s=new wP(function(){return i},this.rowNode,void 0,t,n,o);this.createManagedBean(s,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var n="ag-row-level-"+t,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",t)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},e.prototype.stopEditing=function(t){var n,i;if(t===void 0&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var l=yKe(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(t);s&&!t&&!a&&d&&(a=!0)}}catch(p){n={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}if(a){var h=this.createRowEvent(H.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(h)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",t)});var n=t?this.createRowEvent(H.EVENT_ROW_EDITING_STARTED):this.createRowEvent(H.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},e.prototype.startRowEditing=function(t,n,i){if(t===void 0&&(t=null),n===void 0&&(n=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(s,a){var l=a===n;return l?a.startEditing(t,l,i):a.startEditing(null,l,i),s?!0:a.isEditing()},!1);o&&this.setEditingRow(!0)}},e.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var t=iF(iF(iF([],rF(this.centerCellCtrls.list)),rF(this.leftCellCtrls.list)),rF(this.rightCellCtrls.list));return t},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){t.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){t.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},e.prototype.setStylesFromGridOptions=function(t,n){var i=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},e.prototype.getPinnedForContainer=function(t){var n=t===Pr.LEFT?"left":t===Pr.RIGHT?"right":null;return n},e.prototype.getInitialRowClasses=function(t){var n=this.getPinnedForContainer(t),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),i;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=n(o)}return i||t?Object.assign({},t,i):this.emptyStyle},e.prototype.onRowSelected=function(t){var n=this,i=!!this.rowNode.isSelected();this.forEachGui(t,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",i),np(o.element,i?!0:void 0);var s=n.createAriaLabel();Yu(o.element,s??"")})},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!(t&&this.gridOptionsService.is("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),i=n(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.");return i}},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var n=this;this.active&&(this.addManagedListener(t,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(t,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,wt.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.is("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,wt.EVENT_MOUSE_LEAVE,function(){t.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},e.prototype.roundRowTopToBounds=function(t){var n=this.beans.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,s=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,t),s)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,n){t?n(t):this.allRowGuis.forEach(n)},e.prototype.onRowHeightChanged=function(t){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),s=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(i,s)-2+"px":void 0;this.forEachGui(t,function(l){l.element.style.height=n+"px",a&&l.element.style.setProperty("--ag-line-height",a)})}},e.prototype.addEventListener=function(t,n){r.prototype.addEventListener.call(this,t,n)},e.prototype.removeEventListener=function(t,n){r.prototype.removeEventListener.call(this,t,n)},e.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var t=this.createRowEvent(H.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),r.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var t=this.rowNode.rowTop!=null;if(t){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var n=this;this.forEachGui(t,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return t;var i=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return t+i*o},e.prototype.setRowTop=function(t){if(!this.printLayout&&se(t)){var n=this.applyPaginationOffset(t),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),s=o+"px";this.setRowTopStyle(s)}},e.prototype.getInitialRowTop=function(t){var n=this.gridOptionsService.is("suppressRowTransform");return n?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){var n=this.gridOptionsService.is("suppressRowTransform");return n?void 0:"translateY("+this.getInitialRowTopShared(t)+")"},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},e.prototype.setRowTopStyle=function(t){var n=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(i){return n?i.rowComp.setTop(t):i.rowComp.setTransform("translateY("+t+")")})},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==t&&(n=i)}),n!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(t)>=0&&(n=i)}),n},e.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,s=i+this.rowNode.rowIndex+1;this.forEachGui(t,function(a){a.rowComp.setRowIndex(n),a.rowComp.addOrRemoveCssClass("ag-row-even",o),a.rowComp.addOrRemoveCssClass("ag-row-odd",!o),J1(a.element,s)})},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(fe),wKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$o=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},SKe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},EKe=function(r){wKe(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",n=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,n)},e.prototype.addMouseListeners=function(){var t=this,n=U1("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",n];i.forEach(function(o){var s=t.processMouseEvent.bind(t,o);t.addManagedListener(t.element,o,s)})},e.prototype.processMouseEvent=function(t,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||ga(n))){var i=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);t==="contextmenu"?this.handleContextMenuMouseEvent(n,null,i,o):(o&&o.onMouseEvent(t,n),i&&i.onMouseEvent(t,n))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Td()){var n=new _o(this.element),i=function(o){var s=t.getRowForEvent(o.touchEvent),a=t.mouseEventService.getRenderedCellForEvent(o.touchEvent);t.handleContextMenuMouseEvent(null,o.touchEvent,s,a)};this.addManagedListener(n,_o.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return n.destroy()})}},e.prototype.getRowForEvent=function(t){for(var n=t.target;n;){var i=this.gridOptionsService.getDomData(n,Qc.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,n,i,o){var s=i?i.getRowNode():null,a=o?o.getColumn():null,l=null;if(a){var u=t||n;o.dispatchCellContextMenuEvent(u),l=this.valueService.getValue(a,s)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,n,s,a,l,d)},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:fP(this.gridOptionsService,t,qc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:fP(this.gridOptionsService,t,Qc.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,n){var i=this.getControlsForEventTarget(n.target),o=i.cellCtrl,s=i.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,t,n))},e.prototype.processCellKeyboardEvent=function(t,n,i){var o=t.getRowNode(),s=t.getColumn(),a=t.isEditing(),l=!vP(this.gridOptionsService,i,o,s,a);if(l&&n==="keydown"){var u=!a&&this.navigationService.handlePageScrollingKey(i);u||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),GA(i)&&t.processCharacter(i)}if(n==="keydown"){var c=t.createEvent(i,H.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,n,i){var o=t.getRowNode(),s=this.focusService.getFocusedCell(),a=s&&s.column,l=!vP(this.gridOptionsService,i,o,a,!1);if(l){var u=i.key;if(n==="keydown")switch(u){case ee.PAGE_HOME:case ee.PAGE_END:case ee.PAGE_UP:case ee.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case ee.UP:case ee.DOWN:t.onKeyboardNavigate(i);break;case ee.TAB:t.onTabKeyDown(i);break}}if(n==="keydown"){var c=t.createRowEvent(H.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},e.prototype.doGridOperations=function(t,n){if(!(!t.ctrlKey&&!t.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(t)){var i=moe(t);if(i===ee.A)return this.onCtrlAndA(t);if(i===ee.C)return this.onCtrlAndC(t);if(i===ee.D)return this.onCtrlAndD(t);if(i===ee.V)return this.onCtrlAndV(t);if(i===ee.X)return this.onCtrlAndX(t);if(i===ee.Y)return this.onCtrlAndY();if(i===ee.Z)return this.onCtrlAndZ(t)}},e.prototype.onCtrlAndA=function(t){var n=this,i=n.pinnedRowModel,o=n.paginationProxy,s=n.rangeService;if(s&&o.isRowsToRender()){var a=SKe([i.isEmpty("top"),i.isEmpty("bottom")],2),l=a[0],u=a[1],c=l?null:"top",d=void 0,h=void 0;u?(d=null,h=this.paginationProxy.getRowCount()-1):(d="bottom",h=i.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(is(p))return;s.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:h,rowEndPinned:d,columnStart:p[0],columnEnd:gn(p)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(!(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection"))){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(!(!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var n=this.getControlsForEventTarget(t.target),i=n.cellCtrl,o=n.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.is("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},$o([G("mouseEventService")],e.prototype,"mouseEventService",void 0),$o([G("valueService")],e.prototype,"valueService",void 0),$o([jt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),$o([G("ctrlsService")],e.prototype,"ctrlsService",void 0),$o([G("navigationService")],e.prototype,"navigationService",void 0),$o([G("focusService")],e.prototype,"focusService",void 0),$o([G("undoRedoService")],e.prototype,"undoRedoService",void 0),$o([G("columnModel")],e.prototype,"columnModel",void 0),$o([G("paginationProxy")],e.prototype,"paginationProxy",void 0),$o([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),$o([jt("rangeService")],e.prototype,"rangeService",void 0),$o([jt("clipboardService")],e.prototype,"clipboardService",void 0),$o([ge],e.prototype,"postConstruct",null),e}(fe),_Ke=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bKe=function(r){_Ke(e,r);function e(t){var n=r.call(this)||this;return n.centerContainerCtrl=t,n}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()}),this.addManagedListener(this.eventService,H.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,n=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=this.gridBodyCtrl.getBodyViewportElement(),n=dS(t);if(this.bodyHeight!==n){this.bodyHeight=n;var i={type:H.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,n)},PE([G("ctrlsService")],e.prototype,"ctrlsService",void 0),PE([G("columnModel")],e.prototype,"columnModel",void 0),PE([G("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),PE([ge],e.prototype,"postConstruct",null),e}(fe),RKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),I5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TKe=function(r){RKe(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),n=t>0;Bt(this.element,n),Hs(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},I5([G("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),I5([ge],e.prototype,"postConstruct",null),e}(fe),PKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),F5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},OKe=function(r){PKe(e,r);function e(t){var n=r.call(this)||this;return n.element=t,n}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),n=t>0;Bt(this.element,n),Hs(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},F5([G("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),F5([ge],e.prototype,"postConstruct",null),e}(fe),DKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},rse=function(r){DKe(e,r);function e(t,n){var i=r.call(this)||this;return i.eContainer=t,i.eViewport=n,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),n=t!=null?t+"px":"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},M5([G("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),M5([ge],e.prototype,"postConstruct",null),e}(fe),AKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xKe=function(r){AKe(e,r);function e(t){var n=r.call(this)||this;return n.eContainer=t,n}return e.prototype.postConstruct=function(){var t=this;if(!(!this.gridOptionsService.is("enableRangeSelection")||rt(this.rangeService))){var n={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(n),this.addDestroyFunc(function(){return t.dragService.removeDragSource(n)})}},oF([jt("rangeService")],e.prototype,"rangeService",void 0),oF([G("dragService")],e.prototype,"dragService",void 0),oF([ge],e.prototype,"postConstruct",null),e}(fe),IKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},OH=function(r){IKe(e,r);function e(t,n){n===void 0&&(n=!1);var i=r.call(this)||this;return i.callback=t,i.addSpacer=n,i}return e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=t.getBodyContainerWidth(),o=t.getDisplayedColumnsLeftWidth(),s=t.getDisplayedColumnsRightWidth(),a;if(n)a=i+o+s;else if(a=i,this.addSpacer){var l=this.gridOptionsService.is("enableRtl")?o:s;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())}this.callback(a)},sF([G("columnModel")],e.prototype,"columnModel",void 0),sF([G("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),sF([ge],e.prototype,"postConstruct",null),e}(fe),FKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),sc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},OE=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},DE=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},te;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"})(te||(te={}));var Pr;(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"})(Pr||(Pr={}));function ise(r){switch(r){case te.CENTER:case te.TOP_CENTER:case te.STICKY_TOP_CENTER:case te.BOTTOM_CENTER:return Pr.CENTER;case te.LEFT:case te.TOP_LEFT:case te.STICKY_TOP_LEFT:case te.BOTTOM_LEFT:return Pr.LEFT;case te.RIGHT:case te.TOP_RIGHT:case te.STICKY_TOP_RIGHT:case te.BOTTOM_RIGHT:return Pr.RIGHT;case te.FULL_WIDTH:case te.TOP_FULL_WIDTH:case te.STICKY_TOP_FULL_WIDTH:case te.BOTTOM_FULL_WIDTH:return Pr.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var MKe=Oc([[te.CENTER,"ag-center-cols-container"],[te.LEFT,"ag-pinned-left-cols-container"],[te.RIGHT,"ag-pinned-right-cols-container"],[te.FULL_WIDTH,"ag-full-width-container"],[te.TOP_CENTER,"ag-floating-top-container"],[te.TOP_LEFT,"ag-pinned-left-floating-top"],[te.TOP_RIGHT,"ag-pinned-right-floating-top"],[te.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[te.STICKY_TOP_CENTER,"ag-sticky-top-container"],[te.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[te.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[te.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[te.BOTTOM_CENTER,"ag-floating-bottom-container"],[te.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[te.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[te.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),LKe=Oc([[te.CENTER,"ag-center-cols-viewport"],[te.TOP_CENTER,"ag-floating-top-viewport"],[te.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[te.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),DH=function(r){FKe(e,r);function e(t){var n=r.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=t,n.isFullWithContainer=n.name===te.TOP_FULL_WIDTH||n.name===te.STICKY_TOP_FULL_WIDTH||n.name===te.BOTTOM_FULL_WIDTH||n.name===te.FULL_WIDTH,n}return e.getRowContainerCssClasses=function(t){var n=MKe.get(t),i=LKe.get(t);return{container:n,viewport:i}},e.getPinned=function(t){switch(t){case te.BOTTOM_LEFT:case te.TOP_LEFT:case te.STICKY_TOP_LEFT:case te.LEFT:return"left";case te.BOTTOM_RIGHT:case te.TOP_RIGHT:case te.STICKY_TOP_RIGHT:case te.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([te.CENTER],function(){return t.viewportSizeFeature=t.createManagedBean(new bKe(t))})},e.prototype.registerWithCtrlsService=function(){switch(this.name){case te.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case te.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case te.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case te.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case te.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case te.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case te.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case te.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case te.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case te.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case te.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case te.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},e.prototype.forContainers=function(t,n){t.indexOf(this.name)>=0&&n()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,n,i){var o=this;this.comp=t,this.eContainer=n,this.eViewport=i,this.createManagedBean(new EKe(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var s=[te.TOP_CENTER,te.TOP_LEFT,te.TOP_RIGHT],a=[te.STICKY_TOP_CENTER,te.STICKY_TOP_LEFT,te.STICKY_TOP_RIGHT],l=[te.BOTTOM_CENTER,te.BOTTOM_LEFT,te.BOTTOM_RIGHT],u=[te.CENTER,te.LEFT,te.RIGHT],c=DE(DE(DE(DE([],OE(s)),OE(l)),OE(u)),OE(a)),d=[te.CENTER,te.LEFT,te.RIGHT,te.FULL_WIDTH],h=[te.CENTER,te.TOP_CENTER,te.STICKY_TOP_CENTER,te.BOTTOM_CENTER],p=[te.LEFT,te.BOTTOM_LEFT,te.TOP_LEFT,te.STICKY_TOP_LEFT],f=[te.RIGHT,te.BOTTOM_RIGHT,te.TOP_RIGHT,te.STICKY_TOP_RIGHT];this.forContainers(p,function(){o.pinnedWidthFeature=o.createManagedBean(new TKe(o.eContainer)),o.addManagedListener(o.eventService,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new OKe(o.eContainer)),o.addManagedListener(o.eventService,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new rse(o.eContainer,o.name===te.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new xKe(o.eContainer))}),this.forContainers(h,function(){return o.createManagedBean(new OH(function(g){return o.comp.setContainerWidth(g+"px")}))}),yC()&&(this.forContainers([te.CENTER],function(){var g=o.enableRtl?H.EVENT_LEFT_PINNED_WIDTH_CHANGED:H.EVENT_RIGHT_PINNED_WIDTH_CHANGED;o.addManagedListener(o.eventService,g,function(){return o.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},e.prototype.refreshPaddingForFakeScrollbar=function(){var t=this,n=t.enableRtl,i=t.columnModel,o=t.eContainer,s=n?te.LEFT:te.RIGHT;this.forContainers([te.CENTER,s],function(){var a=i.getContainerWidth(s),l=n?"marginLeft":"marginRight";o.style[l]=a?"16px":"0px"})},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return t.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return t.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return t.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this,n=[te.STICKY_TOP_CENTER,te.STICKY_TOP_LEFT,te.STICKY_TOP_RIGHT,te.STICKY_TOP_FULL_WIDTH],i=n.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var s=t.gridOptionsService.is("ensureDomOrder"),a=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",o),o()},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([te.TOP_CENTER,te.STICKY_TOP_CENTER,te.BOTTOM_CENTER],function(){var n=function(){return t.eViewport.scrollLeft=0};t.addManagedListener(t.eViewport,"scroll",n)})},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([te.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([te.CENTER],function(){return t.onHorizontalViewportChanged()})},e.prototype.addPreventScrollWhileDragging=function(){var t=this,n=function(i){t.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return t.eContainer.removeEventListener("touchmove",n)})},e.prototype.onHorizontalViewportChanged=function(t){t===void 0&&(t=!1);var n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,t)},e.prototype.getCenterWidth=function(){return LA(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return SC(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var n=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(function(){return n()})},e.prototype.isViewportVisible=function(){return Od(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return SC(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowHorizontalScroll");return t||coe(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){var t={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return t},e.prototype.setCenterViewportScrollLeft=function(t){EC(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){var t=e.getPinned(this.name);return!t||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),yC()&&this.refreshPaddingForFakeScrollbar()},e.prototype.onDisplayedRowsChanged=function(t){var n=this;if(t===void 0&&(t=!1),this.visible){var i=this.gridOptionsService.isDomLayout("print"),o=function(a){var l=a.isFullWidth(),u=n.embedFullWidthRows||i,c=n.isFullWithContainer?!u&&l:u||!l;return c},s=this.getRowCtrls().filter(o);this.comp.setRowCtrls(s,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case te.TOP_CENTER:case te.TOP_LEFT:case te.TOP_RIGHT:case te.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case te.STICKY_TOP_CENTER:case te.STICKY_TOP_LEFT:case te.STICKY_TOP_RIGHT:case te.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case te.BOTTOM_CENTER:case te.BOTTOM_LEFT:case te.BOTTOM_RIGHT:case te.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},sc([G("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),sc([G("dragService")],e.prototype,"dragService",void 0),sc([G("ctrlsService")],e.prototype,"ctrlsService",void 0),sc([G("columnModel")],e.prototype,"columnModel",void 0),sc([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),sc([G("animationFrameService")],e.prototype,"animationFrameService",void 0),sc([G("rowRenderer")],e.prototype,"rowRenderer",void 0),sc([ge],e.prototype,"postConstruct",null),e}(fe),NKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yl=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},GKe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`+te.TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`+te.TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`+te.TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`+te.TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`+te.LEFT+`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`+te.CENTER+`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`+te.RIGHT+`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`+te.FULL_WIDTH+`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`+te.STICKY_TOP_LEFT+`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`+te.STICKY_TOP_CENTER+`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`+te.STICKY_TOP_RIGHT+`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`+te.STICKY_TOP_FULL_WIDTH+`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`+te.BOTTOM_LEFT+`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`+te.BOTTOM_CENTER+`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`+te.BOTTOM_RIGHT+`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`+te.BOTTOM_FULL_WIDTH+`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,ose=function(r){NKe(e,r);function e(){return r.call(this,GKe)||this}return e.prototype.init=function(){var t=this,n=function(o,s){var a=o+"px";s.style.minHeight=a,s.style.height=a},i={setRowAnimationCssOnBodyViewport:function(o,s){return t.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return qie(t.getGui(),o)},setRowCount:function(o){return Yie(t.getGui(),o)},setTopHeight:function(o){return n(o,t.eTop)},setBottomHeight:function(o){return n(o,t.eBottom)},setTopDisplay:function(o){return t.eTop.style.display=o},setBottomDisplay:function(o){return t.eBottom.style.display=o},setStickyTopHeight:function(o){return t.eStickyTop.style.height=o},setStickyTopTop:function(o){return t.eStickyTop.style.top=o},setStickyTopWidth:function(o){return t.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return t.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){var a=[t.eBodyViewport.classList,t.eBody.classList];a.forEach(function(l){l.toggle(pr.AUTO_HEIGHT,s.autoHeight),l.toggle(pr.NORMAL,s.normal),l.toggle(pr.PRINT,s.print)}),t.addOrRemoveCssClass(pr.AUTO_HEIGHT,s.autoHeight),t.addOrRemoveCssClass(pr.NORMAL,s.normal),t.addOrRemoveCssClass(pr.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return t.eBodyViewport.classList.toggle(tse,s)},registerBodyViewportResizeListener:function(o){var s=t.resizeObserverService.observeResize(t.eBodyViewport,o);t.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return t.eTop.style.overflowY=t.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[t.eTop,t.eBodyViewport,t.eBottom].forEach(function(a){return a.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return t.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new nse),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||this.gridOptionsService.get("rowSelection")==="multiple")&&Kie(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,n){var i=this.eBodyViewport.classList;i.toggle(op.ANIMATION_ON,n),i.toggle(op.ANIMATION_OFF,!n)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Yl([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Yl([jt("rangeService")],e.prototype,"rangeService",void 0),Yl([ye("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Yl([ye("eStickyTop")],e.prototype,"eStickyTop",void 0),Yl([ye("eTop")],e.prototype,"eTop",void 0),Yl([ye("eBottom")],e.prototype,"eBottom",void 0),Yl([ye("gridHeader")],e.prototype,"headerRootComp",void 0),Yl([ye("eBody")],e.prototype,"eBody",void 0),Yl([ge],e.prototype,"init",null),e}(gt),VKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sse=function(r){VKe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var n={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},e.prototype.setScrollsVisible=function(t){var n=this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing;if(n){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var i={type:H.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},aF([G("ctrlsService")],e.prototype,"ctrlsService",void 0),aF([ge],e.prototype,"postConstruct",null),e=aF([De("scrollVisibleService")],e),e}(fe),HKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),L5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ase=function(r){HKe(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.gridInstanceId=t.gridInstanceSequence.next(),n}t=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[t.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(n){return fP(this.gridOptionsService,n.target,qc.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(n){var i=this.isElementInThisGrid(n.target);return i},e.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var o=i[t.GRID_DOM_KEY];if(se(o)){var s=o===this.gridInstanceId;return s}i=i.parentElement}return!1},e.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},e.prototype.getNormalisedPosition=function(n){var i=this.gridOptionsService.isDomLayout("normal"),o=n,s,a;if(o.clientX!=null||o.clientY!=null?(s=o.clientX,a=o.clientY):(s=o.x,a=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();s+=c.left,a+=u.top}return{x:s,y:a}};var t;return e.gridInstanceSequence=new rp,e.GRID_DOM_KEY="__ag_grid_instance",L5([G("ctrlsService")],e.prototype,"ctrlsService",void 0),e=t=L5([De("mouseEventService")],e),e}(fe),kKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),RP=function(){return RP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},RP.apply(this,arguments)},uo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lse=function(r){kKe(e,r);function e(){var t=r.call(this)||this;return t.onPageDown=VL(t.onPageDown,100),t.onPageUp=VL(t.onPageUp,100),t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.handlePageScrollingKey=function(t,n){n===void 0&&(n=!1);var i=t.key,o=t.altKey,s=t.ctrlKey||t.metaKey,a=!!this.rangeService&&t.shiftKey,l=this.mouseEventService.getCellPositionForEvent(t),u=!1;switch(i){case ee.PAGE_HOME:case ee.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case ee.LEFT:case ee.RIGHT:case ee.UP:case ee.DOWN:if(!l)return!1;s&&!o&&!a&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case ee.PAGE_DOWN:case ee.PAGE_UP:!s&&!o&&(u=this.handlePageUpDown(i,l,n));break}return u&&t.preventDefault(),u},e.prototype.handlePageUpDown=function(t,n,i){return i&&(n=this.focusService.getFocusedCell()),n?(t===ee.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},e.prototype.navigateTo=function(t){var n=t.scrollIndex,i=t.scrollType,o=t.scrollColumn,s=t.focusIndex,a=t.focusColumn;if(se(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),se(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:s,rowPinned:null,column:a};this.rangeService.setRangeToCell(l)}},e.prototype.onPageDown=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),a=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(a+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,l):this.navigateToNextPage(t,l)},e.prototype.onPageUp=function(t){var n=this.ctrlsService.getGridBodyCtrl(),i=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),s=i.top,a=this.paginationProxy.getRowIndexAtPixel(s+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,a,!0):this.navigateToNextPage(t,a,!0)},e.prototype.navigateToNextPage=function(t,n,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(t.rowIndex),c=i?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,h=this.paginationProxy.getRowIndexAtPixel(d+l);if(h===t.rowIndex){var p=i?-1:1;n=h=t.rowIndex+p}var f;i?(f="bottom",h<s&&(h=s),n<s&&(n=s)):(f="top",h>a&&(h=a),n>a&&(n=a)),this.isRowTallerThanView(h)&&(n=h,f="top"),this.navigateTo({scrollIndex:n,scrollType:f,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,n,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(t,i);o.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,n){var i;n===void 0&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),l=0,u=t.rowIndex;u>=0&&u<=a;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>s)break;l+=d}u+=o}return Math.max(0,Math.min(u,a))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},e.prototype.isRowTallerThanView=function(t){var n=this.paginationProxy.getRow(t);if(!n)return!1;var i=n.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,n){var i=this.cellNavigationService.getNextCellToFocus(t,n,!0),o=i.rowIndex,s=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},e.prototype.onHomeOrEndKey=function(t){var n=t===ee.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=n?i[0]:gn(i),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},e.prototype.onTabKeyDown=function(t,n){var i=n.shiftKey,o=this.tabToNextCellCommon(t,i,n);if(o){n.preventDefault();return}if(i){var s=t.getRowPosition(),a=s.rowIndex,l=s.rowPinned,u=l?a===0:a===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else t instanceof qc&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},e.prototype.tabToNextCell=function(t,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,t,n)},e.prototype.tabToNextCellCommon=function(t,n,i){var o=t.isEditing();if(!o&&t instanceof qc){var s=t,a=s.getRowCtrl();a&&(o=a.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(t,n,i):l=this.moveToNextEditingCell(t,n,i):l=this.moveToNextCellNotEditing(t,n),l||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,n,i){i===void 0&&(i=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return s==null?!1:(s.startEditing(null,!0,i),s.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,n,i){i===void 0&&(i=null);var o=t.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(s==null)return!1;var a=s.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(a),c=a&&o.rowIndex===a.rowIndex&&o.rowPinned===a.rowPinned;if(l&&t.setFocusOutOnEditor(),!c){var d=t.getRowCtrl();d.stopEditing();var h=s.getRowCtrl();h.startRowEditing(void 0,void 0,i)}return u?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,n){var i=this.columnModel.getAllDisplayedColumns(),o;t instanceof Qc?o=RP(RP({},t.getRowPosition()),{column:n?i[0]:gn(i)}):o=t.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof qc)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return se(s)},e.prototype.findNextCellToFocusOn=function(t,n,i){for(var o=t;;){t!==o&&(t=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(se(s)){var a={backwards:n,editing:i,previousCellPosition:t,nextCellPosition:o||null},l=s(a);se(l)?(l.floating&&(Dt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var h=this.getCellByPosition(o);if(!h){var p=this.rowRenderer.getRowByPosition(o);if(!p||!p.isFullWidth()||i)continue;return p}if(!h.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),h}},e.prototype.isCellEditable=function(t){var n=this.lookupRowNodeForCell(t);return n?t.column.isCellEditable(n):!1},e.prototype.getCellByPosition=function(t){var n=this.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,n,i,o){for(var s=i,a=!1;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?n===ee.LEFT&&(s=this.getLastCellOfColSpan(s)):n===ee.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(n,s),a=rt(s);if(a&&t&&t.key===ee.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(se(l)){var u={key:n,previousCellPosition:i,nextCellPosition:s||null,event:t},c=l(u);se(c)?(c.floating&&(Dt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s){if(s.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}var h=this.getNormalisedPosition(s);h?this.focusPosition(h):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var n=this.getCellByPosition(t);return n?(t=n.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,n){n===void 0&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(n?gn(i):i[0])};this.focusPosition(a);var l=s!=null?this.rowPositionUtils.before(a,s):!1,u={type:H.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){var n=this.rowPositionUtils.getRowNode(t);return!!n},e.prototype.getLastCellOfColSpan=function(t){var n=this.getCellByPosition(t);if(!n)return t;var i=n.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:gn(i),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var n=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(t.rowIndex),o=n&&(i==null?void 0:i.sticky);!o&&rt(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},uo([G("mouseEventService")],e.prototype,"mouseEventService",void 0),uo([G("paginationProxy")],e.prototype,"paginationProxy",void 0),uo([G("focusService")],e.prototype,"focusService",void 0),uo([jt("rangeService")],e.prototype,"rangeService",void 0),uo([G("columnModel")],e.prototype,"columnModel",void 0),uo([G("rowModel")],e.prototype,"rowModel",void 0),uo([G("ctrlsService")],e.prototype,"ctrlsService",void 0),uo([G("rowRenderer")],e.prototype,"rowRenderer",void 0),uo([G("headerNavigationService")],e.prototype,"headerNavigationService",void 0),uo([G("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),uo([G("cellNavigationService")],e.prototype,"cellNavigationService",void 0),uo([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),uo([ge],e.prototype,"postConstruct",null),e=uo([De("navigationService")],e),e}(fe),$Ke=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BKe=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},use=function(r){$Ke(e,r);function e(t){var n=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=t,n}return e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,n=this.getGui(),i=this.params,o=function(s){vP(t.gridOptionsService,s,i.node,i.column,!0)||i.onKeyDown(s)};this.addManagedListener(n,"keydown",o)},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",BKe([ge],e.prototype,"postConstruct",null),e}(Ad),jKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cse=function(r){jKe(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=t,a.column=n.getColumn(),a.rowNode=n.getRowNode(),a.rowCtrl=n.getRowCtrl(),a.eRow=o,a.cellCtrl=n,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var l=a.getGui();a.forceWrapper=n.isForceWrapper(),a.refreshWrapper(!1);var u=function(h,p){p!=null&&p!=""?l.setAttribute(h,p):l.removeAttribute(h)};Wr(l,"gridcell"),u("col-id",n.getColumnIdSanitised());var c=n.getTabIndex();c!==void 0&&u("tabindex",c.toString());var d={addOrRemoveCssClass:function(h,p){return a.addOrRemoveCssClass(h,p)},setUserStyles:function(h){return cH(l,h)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(h){return a.includeSelection=h},setIncludeRowDrag:function(h){return a.includeRowDrag=h},setIncludeDndSource:function(h){return a.includeDndSource=h},setRenderDetails:function(h,p,f){return a.setRenderDetails(h,p,f)},setEditDetails:function(h,p,f){return a.setEditDetails(h,p,f)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}};return n.setComp(d,a.getGui(),a.eCellWrapper,i,s),a}return e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,n,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var s=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t){var a=i||s,l=a?!1:this.refreshCellRenderer(t);l||(this.destroyRenderer(),this.createCellRendererInstance(t))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},e.prototype.setEditDetails=function(t,n,i){t?this.createCellEditorInstance(t,n,i):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,o=i&&this.eCellWrapper==null;o&&(this.eCellWrapper=fi('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!i&&this.eCellWrapper!=null;s&&(au(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var a=!t&&i,l=a&&this.eCellValue==null;l&&(this.eCellValue=fi('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var u=!a&&this.eCellValue!=null;u&&(au(this.eCellValue),this.eCellValue=void 0);var c=o||s||l||u;return c&&this.removeControls(),t||n&&this.addControls(),c},e.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,n,i){var o=this,s=this.editorVersion,a=t.newAgStackInstance();if(a){var l=t.params;a.then(function(c){return o.afterCellEditorCreated(s,c,l,n,i)});var u=rt(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var n=this.getParentOfValue();ki(n);var i=t!=null?Ir(t):null;i!=null&&(n.innerHTML=i)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),au(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),au(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;var n=this.cellRenderer.refresh(t.params);return n===!0||n===void 0},e.prototype.createCellRendererInstance=function(t){var n=this,i=this.beans.gridOptionsService.is("suppressAnimationFrame"),o=!i,s=this.rendererVersion,a=t.componentClass,l=function(){var u=n.rendererVersion!==s||!n.isAlive();if(!u){var c=t.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,s,a);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,n,i){var o=!this.isAlive()||t!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var s=this.getParentOfValue();ki(s),s.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,n,i,o,s){var a=t!==this.editorVersion;if(a){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var u=o||n.isPopup!==void 0&&n.isPopup();u?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,u),n.afterGuiAttached&&n.afterGuiAttached()},e.prototype.refreshEditStyles=function(t,n){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!n),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(t.contains(n.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},e.prototype.addPopupCellEditor=function(t,n){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new use(t));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,l=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),u=n??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.is("enableRtl"),d={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},h=a.positionPopupByComponent.bind(a,d),p=this.beans.localeService.getLocaleTextFunc(),f=a.addPopup({modal:l,eChild:s,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:h,ariaLabel:p("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),n=this.beans.gridOptionsService.getDocument();t.contains(n.activeElement)&&MA()&&t.focus({preventScroll:!0}),ki(this.getParentOfValue())},e}(gt),WKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UKe=function(r){WKe(e,r);function e(t,n,i){var o=r.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=t,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle(i)+'"/>');var s=o.getGui(),a=s.style;o.domOrder=o.rowCtrl.getDomOrder(),Wr(s,"row");var l=o.rowCtrl.getTabIndex();l!=null&&s.setAttribute("tabindex",l.toString());var u={setDomOrder:function(c){return o.domOrder=c},setCellCtrls:function(c){return o.setCellCtrls(c)},showFullWidth:function(c){return o.showFullWidth(c)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(c,d){return o.addOrRemoveCssClass(c,d)},setUserStyles:function(c){return cH(s,c)},setTop:function(c){return a.top=c},setTransform:function(c){return a.transform=c},setRowIndex:function(c){return s.setAttribute("row-index",c)},setRowId:function(c){return s.setAttribute("row-id",c)},setRowBusinessKey:function(c){return s.setAttribute("row-business-key",c)}};return t.setComp(u,o.getGui(),i),o.addDestroyFunc(function(){t.unsetComp(i)}),o}return e.prototype.getInitialStyle=function(t){var n=this.rowCtrl.getInitialTransform(t),i=this.rowCtrl.getInitialRowTop(t);return n?"transform: "+n:"top: "+i},e.prototype.showFullWidth=function(t){var n=this,i=function(s){if(n.isAlive()){var a=s.getGui();n.getGui().appendChild(a),n.rowCtrl.setupDetailRowAutoHeight(a),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)},o=t.newAgStackInstance();o&&o.then(i)},e.prototype.setCellCtrls=function(t){var n=this,i=Object.assign({},this.cellComps);t.forEach(function(s){var a=s.getInstanceId(),l=n.cellComps[a];l==null?n.newCellComp(s):i[a]=null});var o=Il(i).filter(function(s){return s!=null});this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var n=this;if(this.domOrder){var i=[];t.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&i.push(s.getGui())}),uH(this.getGui(),i)}},e.prototype.newCellComp=function(t){var n=new cse(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=Il(this.cellComps).filter(function(n){return n!=null});this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var n=this;t.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();n.cellComps[o]===i&&(i.detach(),i.destroy(),n.cellComps[o]=null)}})},e}(gt),zKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rN=function(){return rN=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},rN.apply(this,arguments)},gv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};function KKe(){var r=gt.elementGettingCreated.getAttribute("name"),e=DH.getRowContainerCssClasses(r),t,n=r===te.CENTER||r===te.TOP_CENTER||r===te.STICKY_TOP_CENTER||r===te.BOTTOM_CENTER;return n?t='<div class="'+e.viewport+`" ref="eViewport" role="presentation">
                <div class="`+e.container+`" ref="eContainer"></div>
            </div>`:t='<div class="'+e.container+'" ref="eContainer"></div>',t}var dse=function(r){zKe(e,r);function e(){var t=r.call(this,KKe())||this;return t.rowComps={},t.name=gt.elementGettingCreated.getAttribute("name"),t.type=ise(t.name),t}return e.prototype.postConstruct=function(){var t=this,n={setViewportHeight:function(o){return t.eViewport.style.height=o},setRowCtrls:function(o){return t.setRowCtrls(o)},setDomOrder:function(o){t.domOrder=o},setContainerWidth:function(o){return t.eContainer.style.width=o}},i=this.createManagedBean(new DH(this.name));i.setComp(n,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var n=this,i=rN({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(s){var a=s.getInstanceId(),l=i[a];if(l)n.rowComps[a]=l,delete i[a],n.ensureDomOrder(l.getGui());else{if(!s.getRowNode().displayed)return;var u=new UKe(s,n.beans,n.type);n.rowComps[a]=u,n.appendRow(u.getGui())}};t.forEach(o),Il(i).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),Wr(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?uoe(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(lH(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},gv([G("beans")],e.prototype,"beans",void 0),gv([ye("eViewport")],e.prototype,"eViewport",void 0),gv([ye("eContainer")],e.prototype,"eContainer",void 0),gv([ge],e.prototype,"postConstruct",null),gv([Ur],e.prototype,"preDestroy",null),e}(gt),N5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hse=function(){function r(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return r.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var n=e.dragItem.columns;n&&n.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?t.columnsToAggregate.push(i):i.isAllowRowGroup()?t.columnsToGroup.push(i):i.isAllowPivot()&&t.columnsToPivot.push(i)))})}},r.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?Hr.ICON_PINNED:Hr.ICON_MOVE:null},r.prototype.onDragLeave=function(e){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(e){},r.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},N5([G("columnModel")],r.prototype,"columnModel",void 0),N5([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),mv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},YKe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},pse=function(){function r(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!se(e)}return r.prototype.init=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?Hr.ICON_PINNED:Hr.ICON_MOVE},r.prototype.onDragEnter=function(e){var t=e.dragItem.columns,n=e.dragSource.type===$i.ToolPanel;if(n)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var i=e.dragItem.visibleState,o=(t||[]).filter(function(s){return i[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(e,t,n){if(n===void 0&&(n="api"),e){var i=e.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,t,n)}},r.prototype.setColumnsPinned=function(e,t,n){if(n===void 0&&(n="api"),e){var i=e.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,t,n)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.normaliseX=function(e){if(this.gridOptionsService.is("enableRtl")){var t=this.eContainer.clientWidth;e=t-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},r.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(e,t,n,i){var o=this,s;if(e===void 0&&(e=this.lastDraggingEvent),t===void 0&&(t=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;this.moveColumns(l,u,"uiColumnMoved",!0)}return}if(this.lastDraggingEvent=e,!rt(e.hDirection)){var c=this.normaliseX(e.x);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),h=e.dragSource.type,p=((s=e.dragSource.getDragItem().columns)===null||s===void 0?void 0:s.filter(function(f){return f.getColDef().lockPinned?f.getPinned()==o.pinned:!0}))||[];this.attemptMoveColumns({dragSourceType:h,allMovingColumns:p,hDirection:d,mouseX:c,fromEnter:t,fakeEvent:n})}},r.prototype.normaliseDirection=function(e){if(this.gridOptionsService.is("enableRtl"))switch(e){case oa.Left:return oa.Right;case oa.Right:return oa.Left;default:console.error("AG Grid: Unknown direction "+e)}else return e},r.prototype.attemptMoveColumns=function(e){var t=e.dragSourceType,n=e.hDirection,i=e.mouseX,o=e.fromEnter,s=e.fakeEvent,a=n===oa.Left,l=n===oa.Right,u=e.allMovingColumns;if(t===$i.HeaderCell){var c=[];u.forEach(function(E){for(var T,O=null,L=E.getParent();L!=null&&L.getDisplayedLeafColumns().length===1;)O=L,L=L.getParent();if(O!=null){var V=!!(!((T=O.getColGroupDef())===null||T===void 0)&&T.marryChildren),M=V?O.getProvidedColumnGroup().getLeafColumns():O.getLeafColumns();M.forEach(function(N){c.includes(N)||c.push(N)})}else c.includes(E)||c.push(E)}),u=c}var d=u.slice();this.columnModel.sortColumnsLikeGridColumns(d);var h=this.calculateValidMoves(d,l,i),p=this.calculateOldIndex(d);if(h.length!==0){var f=h[0],g=p!==null&&!o;if(t==$i.HeaderCell&&(g=p!==null),!(g&&!s&&(a&&f>=p||l&&f<=p))){for(var v=this.columnModel.getAllDisplayedColumns(),y=[],C=null,w=0;w<h.length;w++){var S=h[w],P=this.columnModel.getProposedColumnOrder(d,S);if(this.columnModel.doesOrderPassRules(P)){var F=P.filter(function(E){return v.includes(E)});if(C===null)C=F;else if(!et.areEqual(F,C))break;var _=this.groupFragCount(P);y.push({move:S,fragCount:_})}}y.length!==0&&(y.sort(function(E,T){return E.fragCount-T.fragCount}),this.moveColumns(u,y[0].move,"uiColumnMoved",!1))}}},r.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),n=Sie(e.map(function(l){return t.indexOf(l)})),i=n[0],o=gn(n),s=o-i,a=s!==n.length-1;return a?null:i},r.prototype.moveColumns=function(e,t,n,i){this.columnModel.moveColumns(e,t,n,i),this.lastMovedInfo=i?null:{columns:e,toIndex:t}},r.prototype.groupFragCount=function(e){function t(s){for(var a=[],l=s.getOriginalParent();l!=null;)a.push(l),l=l.getOriginalParent();return a}for(var n=0,i=function(s){var a,l=t(e[s]),u=t(e[s+1]);a=YKe(l.length>u.length?[l,u]:[u,l],2),l=a[0],u=a[1],l.forEach(function(c){u.indexOf(c)===-1&&n++})},o=0;o<e.length-1;o++)i(o);return n},r.prototype.calculateValidMoves=function(e,t,n){var i=this.gridOptionsService.is("suppressMovableColumns")||e.some(function(_){return _.getColDef().suppressMovable});if(i)return[];var o=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=o.filter(function(_){return Gs(e,_)}),l=o.filter(function(_){return!Gs(e,_)}),u=s.filter(function(_){return!Gs(e,_)}),c=0,d=n;if(t){var h=0;a.forEach(function(_){return h+=_.getActualWidth()}),d-=h}if(d>0){for(var p=0;p<l.length;p++){var f=l[p];if(d-=f.getActualWidth(),d<0)break;c++}t&&c++}var g;if(c>0){var v=l[c-1];g=u.indexOf(v)+1}else g=u.indexOf(l[0]),g===-1&&(g=0);var y=[g],C=function(_,E){return _-E};if(t){for(var w=g+1,S=s.length-1;w<=S;)y.push(w),w++;y.sort(C)}else{for(var w=g,S=s.length-1,P=s[w];w<=S&&this.isColumnHidden(o,P);)w++,y.push(w),P=s[w];w=g-1;for(var F=0;w>=F;)y.push(w),w--;y.sort(C).reverse()}return y},r.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Hr.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Hr.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Hr.ICON_MOVE))},r.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);var t=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(a){return!a.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(Hr.ICON_PINNED),this.failedMoveAttempts>7)){var s=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,s,"uiColumnDragged"),this.dragAndDropService.nudge()}}},mv([G("columnModel")],r.prototype,"columnModel",void 0),mv([G("dragAndDropService")],r.prototype,"dragAndDropService",void 0),mv([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),mv([G("ctrlsService")],r.prototype,"ctrlsService",void 0),mv([ge],r.prototype,"init",null),r}(),qKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),vv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fse=function(r){qKe(e,r);function e(t,n){var i=r.call(this)||this;return i.pinned=t,i.eContainer=n,i}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){switch(t.pinned){case"left":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},e.prototype.isInterestedIn=function(t){return t===$i.HeaderCell||t===$i.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new pse(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new hse(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===$i.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},vv([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),vv([G("columnModel")],e.prototype,"columnModel",void 0),vv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),vv([ge],e.prototype,"postConstruct",null),vv([ge],e.prototype,"init",null),e}(fe),QKe=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},XKe=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},AH=function(){function r(){}return r.getHeaderClassesFromColDef=function(e,t,n,i){return rt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,n,i)},r.getToolPanelClassesFromColDef=function(e,t,n,i){return rt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,n,i)},r.getClassParams=function(e,t,n,i){return{colDef:e,column:n,columnGroup:i,api:t.api,columnApi:t.columnApi,context:t.context}},r.getColumnClassesFromCollDef=function(e,t,n,i,o){if(rt(e))return[];var s;if(typeof e=="function"){var a=this.getClassParams(t,n,i,o);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?XKe([],QKe(s)):[]},r}(),JKe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ZKe=function(r){JKe(e,r);function e(t){var n=r.call(this,e.TEMPLATE,t)||this;return n.headerCompVersion=0,n.column=t.getColumnGroupChild(),n.pinned=t.getPinned(),n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=function(a,l){l!=null&&l!=""?n.setAttribute(a,l):n.removeAttribute(a)};i("col-id",this.column.getColId());var o={setWidth:function(a){return n.style.width=a},addOrRemoveCssClass:function(a,l){return t.addOrRemoveCssClass(a,l)},setAriaDescription:function(a){return Bie(n,a)},setAriaSort:function(a){return a?Xie(n,a):Jie(n)},setUserCompDetails:function(a){return t.setUserCompDetails(a)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;t.newAgStackInstance().then(function(o){return n.afterCompCreated(i,o)})},e.prototype.afterCompCreated=function(t,n){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},e.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,AE([ye("eResize")],e.prototype,"eResize",void 0),AE([ye("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),AE([ge],e.prototype,"postConstruct",null),AE([Ur],e.prototype,"destroyHeaderComp",null),e}(RH),e4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),lF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},t4e=function(r){e4e(e,r);function e(t){return r.call(this,e.TEMPLATE,t)||this}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=function(s,a){return a!=null?n.setAttribute(s,a):n.removeAttribute(s)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return Bt(t.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return i("aria-expanded",s)},setUserCompDetails:function(s){return t.setUserCompDetails(s)}};this.ctrl.setComp(o,n,this.eResize)},e.prototype.setUserCompDetails=function(t){var n=this;t.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},e.prototype.afterHeaderCompCreated=function(t){var n=this,i=function(){return n.destroyBean(t)};if(!this.isAlive()){i();return}var o=this.getGui(),s=t.getGui();o.appendChild(s),this.addDestroyFunc(i),this.ctrl.setDragSource(o)},e.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,lF([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),lF([ye("eResize")],e.prototype,"eResize",void 0),lF([ge],e.prototype,"postConstruct",null),e}(RH),n4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),G5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Xr;(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"})(Xr||(Xr={}));var gse=function(r){n4e(e,r);function e(t){var n=r.call(this)||this;return n.headerComps={},n.ctrl=t,n.setTemplate('<div class="'+n.ctrl.getHeaderRowClass()+'" role="row"></div>'),n}return e.prototype.init=function(){var t=this;this.getGui().style.transform=this.ctrl.getTransform(),J1(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(i){return t.getGui().style.height=i},setTop:function(i){return t.getGui().style.top=i},setHeaderCtrls:function(i,o){return t.setHeaderCtrls(i,o)},setWidth:function(i){return t.getGui().style.width=i}};this.ctrl.setComp(n)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,n){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),Kn(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),n){var s=Il(this.headerComps);s.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var a=s.map(function(l){return l.getGui()});uH(this.getGui(),a)}}},e.prototype.createHeaderComp=function(t){var n;switch(this.ctrl.getType()){case Xr.COLUMN_GROUP:n=new t4e(t);break;case Xr.FLOATING_FILTER:n=new ese(t);break;default:n=new ZKe(t);break}return this.createBean(n),n.setParentComponent(this),n},G5([ge],e.prototype,"init",null),G5([Ur],e.prototype,"destroyHeaderCtrls",null),e}(gt),r4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},i4e=0,fS=function(r){r4e(e,r);function e(t,n){var i=r.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=t,i.parentRowCtrl=n,i.instanceId=t.getUniqueId()+"-"+i4e++,i}return e.prototype.shouldStopEventPropagation=function(t){var n=this.focusService.getFocusedHeader(),i=n.headerRowIndex,o=n.column;return goe(this.gridOptionsService,t,i,o)},e.prototype.getWrapperHasFocus=function(){var t=this.gridOptionsService.getDocument(),n=t.activeElement;return n===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var n=this.getWrapperHasFocus();switch(t.key){case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAGE_HOME:case ee.PAGE_END:n&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return t.gridOptionsService.setDomData(t.eGui,n,null)})},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",uF([G("focusService")],e.prototype,"focusService",void 0),uF([G("beans")],e.prototype,"beans",void 0),uF([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(fe),o4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),s4e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zA=function(r){o4e(e,r);function e(t,n,i,o){var s=r.call(this)||this;return s.columnOrGroup=t,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=i,s}return e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?gn(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,pn.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),n=se(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&n&&!t;i?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,n=this.getColumnOrGroup(),i=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),a=this.modifyLeftForPrintLayout(n,i);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===a&&t.setLeft(a)})},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),n=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,n),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,n){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||t.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(t.getPinned()==="right"){var s=this.beans.columnModel.getBodyContainerWidth();return o+s+n}return o+n},e.prototype.setLeft=function(t){se(t)&&(this.eCell.style.left=t+"px");var n;if(this.columnOrGroup instanceof pn)n=this.columnOrGroup;else{var i=this.columnOrGroup,o=i.getLeafColumns();if(!o.length)return;o.length>1&&Qie(this.ariaEl,o.length),n=o[0]}var s=this.beans.columnModel.getAriaColumnIndex(n);Z1(this.ariaEl,s)},s4e([ge],e.prototype,"postConstruct",null),e}(fe),a4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),V5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xH=function(r){a4e(e,r);function e(t,n){var i=r.call(this)||this;return i.columns=t,i.element=n,i}return e.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},V5([G("columnHoverService")],e.prototype,"columnHoverService",void 0),V5([ge],e.prototype,"postConstruct",null),e}(fe),l4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mse=function(r){l4e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.iconCreated=!1,i.column=t,i}return e.prototype.setComp=function(t,n,i,o){r.prototype.setGui.call(this,n),this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,pn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.setupActive=function(){var t=this.column.getColDef(),n=!!t.filter,i=!!t.floatingFilter;this.active=n&&i},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var t=Cr("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new qu(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();Yu(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.getDocument(),i=n.activeElement,o=i===this.eGui;if(!o){var s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}var a=this.findNextColumnWithFloatingFilter(t.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var n=this.beans.columnModel,i=this.column;do if(i=t?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();switch(t.key){case ee.UP:case ee.DOWN:n||t.preventDefault();case ee.LEFT:case ee.RIGHT:if(n)return;t.stopPropagation();case ee.ENTER:n&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case ee.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){var n=this.eGui.contains(t.relatedTarget);if(!n){var i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),o=!!t.relatedTarget&&Ph(t.relatedTarget,"ag-floating-filter");if(i&&o&&t.target===this.eGui){var s=this.lastFocusEvent,a=!!(s&&s.key===ee.TAB);if(s&&a){var l=s.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new xH([this.column],this.eGui));var n=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var i=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,H.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupLeft=function(){var t=new zA(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){var t=this.column.getColDef();this.suppressFilterButton=t.floatingFilterComponentParams?!!t.floatingFilterComponentParams.suppressFilterButton:!1},e.prototype.setupUserComp=function(){var t=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()});n&&this.setCompDetails(n)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var n=function(i){var o=t.comp.getFloatingFilterComp();o&&o.then(function(s){if(s){var a=t.filterManager.getCurrentFloatingFilterParentModel(t.column);s.onParentModelChanged(a,i)}})};this.destroySyncListener=this.addManagedListener(this.column,pn.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},e.prototype.setupWidth=function(){var t=this,n=function(){var i=t.column.getActualWidth()+"px";t.comp.setWidth(i)};this.addManagedListener(this.column,pn.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,pn.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},e.prototype.onColDefChanged=function(){var t=this,n,i,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return t.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!a?this.updateCompDetails(a,s):l.then(function(u){var c;!u||t.filterManager.areFilterCompsDifferent((c=t.userCompDetails)!==null&&c!==void 0?c:null,a)?t.updateCompDetails(a,s):t.updateFloatingFilterParams(a)})},e.prototype.updateCompDetails=function(t,n){this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},e.prototype.updateFloatingFilterParams=function(t){var n;if(t){var i=t.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){o!=null&&o.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(i)})}},cF([G("filterManager")],e.prototype,"filterManager",void 0),cF([G("columnHoverService")],e.prototype,"columnHoverService",void 0),cF([G("menuFactory")],e.prototype,"menuFactory",void 0),e}(fS),u4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},c4e=function(r){u4e(e,r);function e(t,n,i,o,s){var a=r.call(this)||this;return a.pinned=t,a.column=n,a.eResize=i,a.comp=o,a.ctrl=s,a}return e.prototype.postConstruct=function(){var t=this,n=this.column.getColDef(),i=[],o,s,a=function(){if(Bt(t.eResize,o),!!o){var c=t.horizontalResizeService.addResizeBar({eResizeBar:t.eResize,onResizeStart:t.onResizeStart.bind(t),onResizing:t.onResizing.bind(t,!1),onResizeEnd:t.onResizing.bind(t,!0)});if(i.push(c),s){var d=t.gridOptionsService.is("skipHeaderOnAutoSize"),h=function(){t.columnModel.autoSizeColumn(t.column,d,"uiColumnResized")};t.eResize.addEventListener("dblclick",h);var p=new _o(t.eResize);p.addEventListener(_o.EVENT_DOUBLE_TAP,h),t.addDestroyFunc(function(){t.eResize.removeEventListener("dblclick",h),p.removeEventListener(_o.EVENT_DOUBLE_TAP,h),p.destroy()})}}},l=function(){i.forEach(function(c){return c()}),i.length=0},u=function(){var c=t.column.isResizable(),d=!t.gridOptionsService.is("suppressAutoSize")&&!n.suppressAutoSize,h=c!==o||d!==s;h&&(o=c,s=d,l(),a())};u(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(u)},e.prototype.onResizing=function(t,n){var i=this.normaliseResizeAmount(n),o=[{key:this.column,newWidth:this.resizeStartWidth+i}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var n=t,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.is("enableRtl")?i&&(n*=-1):o&&(n*=-1),n},dF([G("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),dF([G("columnModel")],e.prototype,"columnModel",void 0),dF([ge],e.prototype,"postConstruct",null),e}(fe),d4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),xE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},h4e=function(r){d4e(e,r);function e(t){var n=r.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=t;var i=t.getColDef();return n.filteredOnly=!!(i!=null&&i.headerCheckboxSelectionFilteredOnly),n.currentPageOnly=!!(i!=null&&i.headerCheckboxSelectionCurrentPageOnly),n}return e.prototype.onSpaceKeyDown=function(t){var n=this.cbSelectAll,i=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(t.preventDefault(),n.setValue(!n.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new pS),this.cbSelectAll.addCssClass("ag-header-select-all"),Wr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,H.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),xA(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),i=n?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",o+" ("+i+")"):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(o+" ("+i+")"),this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkSelectionType=function(t){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: "+t+" is only available if using 'multiple' rowSelection."),!1)},e.prototype.checkRightRowModelType=function(t){var n=this.rowModel.getType(),i=n==="clientSide"||n==="serverSide";return i?!0:(console.warn("AG Grid: "+t+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+n+"."),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),n="uiSelectAll";this.currentPageOnly?n="uiSelectAllCurrentPage":this.filteredOnly&&(n="uiSelectAllFiltered");var i={source:n,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;if(typeof t=="function"){var n=t,i={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};t=n(i)}return t?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},xE([G("gridApi")],e.prototype,"gridApi",void 0),xE([G("columnApi")],e.prototype,"columnApi",void 0),xE([G("rowModel")],e.prototype,"rowModel",void 0),xE([G("selectionService")],e.prototype,"selectionService",void 0),e}(fe),p4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),H5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Dh;(function(r){r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Dh||(Dh={}));var vse=function(r){p4e(e,r);function e(t){var n=r.call(this)||this;n.skipTabGuardFocus=!1;var i=t.comp,o=t.eTopGuard,s=t.eBottomGuard,a=t.focusInnerElement,l=t.onFocusIn,u=t.onFocusOut,c=t.shouldStopEventPropagation,d=t.onTabKeyDown,h=t.handleKeyDown,p=t.eFocusableElement;return n.comp=i,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=a,n.eFocusableElement=p,n.providedFocusIn=l,n.providedFocusOut=u,n.providedShouldStopEventPropagation=c,n.providedOnTabKeyDown=d,n.providedHandleKeyDown=h,n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new qu(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)},onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return t.addManagedListener(n,"focus",t.onFocus.bind(t))})},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},e.prototype.activateTabGuards=function(){var t=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(t.toString())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var n=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(!t.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){t===void 0&&(t=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[t?n.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1);var n=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},H5([G("focusService")],e.prototype,"focusService",void 0),H5([ge],e.prototype,"postConstruct",null),e}(fe),f4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ty=function(){return Ty=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ty.apply(this,arguments)},Bo=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},g4e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},m4e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Ah=function(r){f4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.addKeyboardModeEvents=function(n,i){var o=t.instancesMonitored.get(n);o&&o.length>0?o.indexOf(i)===-1&&o.push(i):(t.instancesMonitored.set(n,[i]),n.addEventListener("keydown",t.toggleKeyboardMode),n.addEventListener("mousedown",t.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(n,i){var o=t.instancesMonitored.get(n),s=[];o&&o.length&&(s=m4e([],g4e(o)).filter(function(a){return a!==i}),t.instancesMonitored.set(n,s)),s.length===0&&(n.removeEventListener("keydown",t.toggleKeyboardMode),n.removeEventListener("mousedown",t.toggleKeyboardMode))},e.toggleKeyboardMode=function(n){var i=t.keyboardModeActive,o=n.type==="keydown";if(!(o&&(n.ctrlKey||n.metaKey||n.altKey))&&!(i&&o||!i&&!o)){t.keyboardModeActive=o;var s=n.target.ownerDocument;if(s){var a=t.instancesMonitored.get(s);a&&a.forEach(function(l){l.dispatchEvent({type:o?H.EVENT_KEYBOARD_FOCUS:H.EVENT_MOUSE_FOCUS})})}}},e.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl;var s=n.gridOptionsService.getDocument();t.addKeyboardModeEvents(s,n.gridCtrl),n.addDestroyFunc(function(){return n.unregisterGridCompController(n.gridCtrl)})})},e.prototype.unregisterGridCompController=function(n){var i=this.gridOptionsService.getDocument();t.removeKeyboardModeEvents(i,n)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return t.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,Qc.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,fS.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(n,i){for(var o=n;o;){var s=this.gridOptionsService.getDomData(o,i);if(s)return!1;o=o.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(n){var i=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},e.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},e.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,i=n.rowIndex,o=n.rowPinned,s=n.column,a={rowIndex:i,rowPinned:o,column:s,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(a.isFullWidthCell=l.isFullWidth()),a},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=Ty({type:H.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},e.prototype.setFocusedCell=function(n){var i=n.column,o=n.rowIndex,s=n.rowPinned,a=n.forceBrowserFocus,l=a===void 0?!1:a,u=n.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:El(s),column:d}:null;var h=Ty(Ty({type:H.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(h)},e.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},e.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var i=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),a=this.focusedHeaderPosition,l=a.column,u=a.headerRowIndex;return i===l&&o===u&&s==l.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},e.prototype.focusHeaderPosition=function(n){var i=n.direction,o=n.fromTab,s=n.allowUserOverride,a=n.event,l=n.fromCell,u=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(u);if(s){var c=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var p={backwards:i==="Before",previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d};u=h(p)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&a){var f={key:a.key,previousHeaderPosition:c,nextHeaderPosition:u,headerRowCount:d,event:a};u=h(f)}}}if(!u)return!1;if(u.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(u):this.focusGridView(u.column);this.headerNavigationService.scrollToColumn(u.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(u.column.getPinned()),v=g.focusHeader(u.headerRowIndex,u.column,a);return v},e.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return n?(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}})):!1},e.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,o=gn(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:n})},e.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(n,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===El(i)},e.prototype.findFocusableElements=function(n,i,o){o===void 0&&(o=!1);var s=aoe,a=iH;i&&(a+=", "+i),o&&(a+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(s)),u=Array.prototype.slice.apply(n.querySelectorAll(a));if(!u.length)return l;var c=function(d,h){return d.filter(function(p){return h.indexOf(p)===-1})};return c(l,u)},e.prototype.focusInto=function(n,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var s=this.findFocusableElements(n,null,o),a=i?gn(s):s[0];return a?(a.focus({preventScroll:!0}),!0):!1},e.prototype.findFocusableElementBeforeTabGuard=function(n,i){if(!i)return null;var o=this.findFocusableElements(n),s=o.indexOf(i);if(s===-1)return null;for(var a=-1,l=s-1;l>=0;l--)if(o[l].classList.contains(Dh.TAB_GUARD_TOP)){a=l;break}return a<=0?null:o[a-1]},e.prototype.findNextFocusableElement=function(n,i,o){n===void 0&&(n=this.eGridDiv);var s=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),a=this.gridOptionsService.getDocument(),l=a.activeElement,u;i?u=s.findIndex(function(d){return d.contains(l)}):u=s.indexOf(l);var c=u+(o?-1:1);return c<0||c>=s.length?null:s[c]},e.prototype.isTargetUnderManagedComponent=function(n,i){if(!i)return!1;var o=n.querySelectorAll("."+qu.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1},e.prototype.findTabbableParent=function(n,i){i===void 0&&(i=5);for(var o=0;n&&mP(n)===null&&++o<=i;)n=n.parentElement;return mP(n)===null?null:n},e.prototype.focusGridView=function(n,i){if(this.gridOptionsService.is("suppressCellFocus"))return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,a=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),s==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:El(a),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:s,rowPinned:a,column:n};this.rangeService.setRangeToCell(u)}return!0},e.prototype.focusNextGridCoreContainer=function(n,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(n)?!0:((i||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},e.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n==null?void 0:n.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(n,i){var o,s,a=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(s=this.columnModel.getAllDisplayedColumns())===null||s===void 0?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var t;return e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,Bo([G("eGridDiv")],e.prototype,"eGridDiv",void 0),Bo([G("columnModel")],e.prototype,"columnModel",void 0),Bo([G("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Bo([G("rowRenderer")],e.prototype,"rowRenderer",void 0),Bo([G("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Bo([G("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Bo([jt("rangeService")],e.prototype,"rangeService",void 0),Bo([G("navigationService")],e.prototype,"navigationService",void 0),Bo([G("ctrlsService")],e.prototype,"ctrlsService",void 0),Bo([G("filterManager")],e.prototype,"filterManager",void 0),Bo([jt("advancedFilterService")],e.prototype,"advancedFilterService",void 0),Bo([ge],e.prototype,"init",null),e=t=Bo([De("focusService")],e),e}(fe),v4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ql=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},yse=function(r){v4e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=t,i}return e.prototype.setComp=function(t,n,i,o){var s=this;r.prototype.setGui.call(this,n),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new c4e(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new xH([this.column],n)),this.createManagedBean(new zA(this.column,n,this.beans)),this.createManagedBean(new qu(n,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(n),this.addManagedListener(this.column,pn.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addMouseDownListenerIfNeeded=function(t){var n=this;if(Ws()){var i=["mousedown","touchstart"],o=this.gridOptionsService.getDocument();i.forEach(function(s){n.addManagedListener(t,s,function(a){var l=o.activeElement;l!==t&&!t.contains(l)&&(t.focus(),Ah.toggleKeyboardMode(a))})})}},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,t)},e.prototype.createParams=function(){var t=this,n=this.column.getColDef(),i={column:this.column,displayName:this.displayName,enableSorting:n.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(o){t.gridApi.showColumnMenuAfterButtonClick(t.column,o)},progressSort:function(o){t.sortController.progressSort(t.column,!!o,"uiColumnSorted")},setSort:function(o,s){t.sortController.setSortForColumn(t.column,o,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return i},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new h4e(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t),t.key===ee.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===ee.ENTER&&this.onEnterKeyDown(t)},e.prototype.onEnterKeyDown=function(t){var n=this.comp.getUserCompInstance();if(n){if(t.ctrlKey||t.metaKey)this.menuEnabled&&n.showMenu&&(t.preventDefault(),n.showMenu());else if(this.sortable){var i=t.shiftKey;this.sortController.progressSort(this.column,i,"uiColumnSorted")}}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,n={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=t.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new UA(n,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},e.prototype.setupClassesFromColDef=function(){var t=this,n=function(){var i=t.column.getColDef(),o=AH.getHeaderClassesFromColDef(i,t.gridOptionsService,t.column,null),s=t.userHeaderClasses;t.userHeaderClasses=new Set(o),o.forEach(function(a){s.has(a)?s.delete(a):t.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return t.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(n),n()},e.prototype.setDragSource=function(t){var n=this;if(this.dragSourceElement=t,this.removeDragSource(),!!t&&this.draggable){var i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:$i.HeaderCell,eElement:t,getDefaultIconName:function(){return i?Hr.ICON_HIDE:Hr.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){i=!n.gridOptionsService.is("suppressDragLeaveHidesColumns"),n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return n.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(o){var s;if(i){var a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:function(o){var s;if(i){var a=((s=o==null?void 0:o.columns)===null||s===void 0?void 0:s.filter(function(l){return!l.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(t){return t()})},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),i=n!=null&&this.userCompDetails.componentClass==t.componentClass,o=i?this.attemptHeaderCompRefresh(t.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var i=n.refresh(t);return i},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef(),n=this.gridOptionsService.is("suppressMovableColumns"),i=!n&&!t.suppressMovable&&!t.lockPosition;return!!i||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,n=function(){var i=t.column.getActualWidth();t.comp.setWidth(i+"px")};this.addManagedListener(this.column,pn.EVENT_WIDTH_CHANGED,n),n()},e.prototype.setupMovingCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,pn.EVENT_MOVING_CHANGED,n),n()},e.prototype.setupMenuClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,pn.EVENT_MENU_VISIBLE_CHANGED,n),n()},e.prototype.setupSortableClass=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,pn.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,n=function(){var i=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};n(),this.addRefreshFunction(n)},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,n=t.eGui,i=t.column,o=t.comp,s=t.columnModel,a=t.gridOptionsService;if(i.isSpanHeaderHeight()){var l=this.getColumnGroupPaddingInfo(),u=l.numberOfParents,c=l.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",u>0);var d=s.getColumnHeaderRowHeight();if(u===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height",d+"px");return}o.addOrRemoveCssClass("ag-header-span-total",c);var h=a.is("pivotMode"),p=h?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight(),f=u*p;n.style.setProperty("top",-f+"px"),n.style.setProperty("height",d+f+"px")}},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=t.getPaddingLevel()+1,i=!0;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:n,isSpanningTotal:i}},e.prototype.setupAutoHeight=function(t){var n=this,i=function(c){if(n.isAlive()){var d=Pd(n.getGui()),h=d.paddingTop,p=d.paddingBottom,f=d.borderBottomWidth,g=d.borderTopWidth,v=h+p+f+g,y=t.offsetHeight,C=y+v;if(c<5){var w=n.beans.gridOptionsService.getDocument(),S=!w||!w.contains(t),P=C==0;if(S||P){n.beans.frameworkOverrides.setTimeout(function(){return i(c+1)},0);return}}n.columnModel.setColumnHeaderHeight(n.column,C)}},o=!1,s,a=function(){var c=n.column.isAutoHeaderHeight();c&&!o&&l(),!c&&o&&u()},l=function(){o=!0,i(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(t,function(){return i(0)})},u=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return u()}),this.addManagedListener(this.column,pn.EVENT_WIDTH_CHANGED,function(){return o&&i(0)}),this.addManagedListener(this.eventService,pn.EVENT_SORT_CHANGED,function(){o&&n.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(a)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Hie(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,n){n!=null?this.ariaDescriptionProperties.set(t,n):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,n=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var i=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,H.EVENT_COLUMN_HOVER_CHANGED,n),n()},e.prototype.setupFilterCss=function(){var t=this,n=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,pn.EVENT_FILTER_ACTIVE_CHANGED,n),n()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,n=function(i){return t.setActiveHeader(i.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},ql([G("columnModel")],e.prototype,"columnModel",void 0),ql([G("columnHoverService")],e.prototype,"columnHoverService",void 0),ql([G("sortController")],e.prototype,"sortController",void 0),ql([G("menuFactory")],e.prototype,"menuFactory",void 0),ql([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ql([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ql([G("gridApi")],e.prototype,"gridApi",void 0),ql([G("columnApi")],e.prototype,"columnApi",void 0),ql([Ur],e.prototype,"removeDragSource",null),e}(fS),y4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},C4e=function(r){y4e(e,r);function e(t,n,i,o){var s=r.call(this)||this;return s.eResize=n,s.comp=t,s.pinned=i,s.columnGroup=o,s}return e.prototype.postConstruct=function(){var t=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.is("suppressAutoSize")){var i=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],s=t.columnGroup.getDisplayedLeafColumns();s.forEach(function(a){a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&t.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")})}},e.prototype.onResizeStart=function(t){var n=this;this.calculateInitialValues();var i=null;if(t&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return n.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return n.resizeTakeFromRatios.push(s.getActualWidth()/n.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,n,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(n),s=this.resizeStartWidth+o;this.resizeColumns(s,i,t)},e.prototype.resizeLeafColumnsToFit=function(t){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),n>this.resizeStartWidth&&this.resizeColumns(n,t,!0)},e.prototype.resizeColumns=function(t,n,i){i===void 0&&(i=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var s=t-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-s})}this.columnModel.resizeColumnSets({resizeSets:o,finished:i,source:n}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,n=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=n.filter(function(i){return i.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(i){return t.resizeStartWidth+=i.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(i){return t.resizeRatios.push(i.getActualWidth()/t.resizeStartWidth)})},e.prototype.normaliseDragChange=function(t){var n=t;return this.gridOptionsService.is("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},IE([G("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),IE([G("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),IE([G("columnModel")],e.prototype,"columnModel",void 0),IE([ge],e.prototype,"postConstruct",null),e}(fe),w4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),S4e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},E4e=function(r){w4e(e,r);function e(t,n){var i=r.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=t,i}return e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Qr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",n),i.addEventListener("visibleChanged",n),t.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",n),i.removeEventListener("visibleChanged",n)})})},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(t){return t()}),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth(t+"px"),this.comp.addOrRemoveCssClass("ag-hidden",t===0)},S4e([ge],e.prototype,"postConstruct",null),e}(fe),_4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),FE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Cse=function(r){_4e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.columnGroup=t,i}return e.prototype.setComp=function(t,n,i){r.prototype.setGui.call(this,n),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new xH(s,n)),this.createManagedBean(new zA(this.columnGroup,n,this.beans)),this.createManagedBean(new E4e(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new C4e(t,i,o,this.columnGroup)),this.createManagedBean(new qu(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(t){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,n=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(u){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),u,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!n){for(var o=this.columnGroup,s=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===s.length;)o=o.getParent();var a=o.getColGroupDef();a&&(n=a.headerName),n||(n=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var l=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(l)},e.prototype.setupTooltip=function(){var t=this,n=this.columnGroup.getColGroupDef(),i={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n});var o=this.createManagedBean(new UA(i,this.beans));o.setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,or.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,or.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var n=t.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.columnGroup.getUniqueId()},e.prototype.addClasses=function(){var t=this,n=this.columnGroup.getColGroupDef(),i=AH.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.columnGroup);if(this.columnGroup.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.columnGroup.getLeafColumns();o.every(function(s){return s.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(s){return t.comp.addOrRemoveCssClass(s,!0)})},e.prototype.setupMovingCss=function(){var t=this,n=this.columnGroup.getProvidedColumnGroup(),i=n.getLeafColumns(),o=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};i.forEach(function(s){t.addManagedListener(s,pn.EVENT_MOVING_CHANGED,o)}),o()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.columnGroup)}},e.prototype.handleKeyDown=function(t){r.prototype.handleKeyDown.call(this,t);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&t.key===ee.ENTER){var i=this.columnGroup,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var n=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:$i.HeaderCell,eElement:t,getDefaultIconName:function(){return o?Hr.ICON_HIDE:Hr.ICON_NOT_ALLOWED},dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){o=!n.gridOptionsService.is("suppressDragLeaveHidesColumns"),i.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return i.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var l;if(o){var u=((l=a==null?void 0:a.columns)===null||l===void 0?void 0:l.filter(function(c){return!c.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(u,!0,"uiColumnMoved")}},onGridExit:function(a){var l;if(o){var u=((l=a==null?void 0:a.columns)===null||l===void 0?void 0:l.filter(function(c){return!c.getColDef().lockVisible}))||[];n.columnModel.setColumnsVisible(u,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return n.dragAndDropService.removeDragSource(s)})}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n={};t.forEach(function(o){return n[o.getId()]=o.isVisible()});var i=[];return this.columnModel.getAllDisplayedColumns().forEach(function(o){t.indexOf(o)>=0&&(i.push(o),es(t,o))}),t.forEach(function(o){return i.push(o)}),{columns:i,visibleState:n}},e.prototype.isSuppressMoving=function(){var t=!1;this.columnGroup.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)});var n=t||this.gridOptionsService.is("suppressMovableColumns");return n},FE([G("columnModel")],e.prototype,"columnModel",void 0),FE([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),FE([G("gridApi")],e.prototype,"gridApi",void 0),FE([G("columnApi")],e.prototype,"columnApi",void 0),e}(fS),b4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ME=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},R4e=0,X_=function(r){b4e(e,r);function e(t,n,i){var o=r.call(this)||this;o.instanceId=R4e++,o.headerCellCtrls={},o.rowIndex=t,o.pinned=n,o.type=i;var s=i==Xr.COLUMN_GROUP?"ag-header-row-column-group":i==Xr.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row "+s,o}return e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,n){n===void 0&&(n=!0),this.comp=t,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.getTransform=function(){if(Ws())return"translateZ(0)"},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return t.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return t.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return Th(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===t})},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){if(this.isPrintLayout){var t=this.pinned!=null;return t?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),n=t.topOffset,i=t.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(i+"px")},e.prototype.getTopAndHeight=function(){var t=this.columnModel.getHeaderRowCount(),n=[],i=0;this.filterManager.hasFloatingFilters()&&(t++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+i,l=t-a,u=0;u<l;u++)n.push(o);n.push(s);for(var u=0;u<i;u++)n.push(this.columnModel.getFloatingFiltersHeight());for(var c=0,u=0;u<this.rowIndex;u++)c+=n[u];var d=n[this.rowIndex];return{topOffset:c,rowHeight:d}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){t===void 0&&(t=!1);var n=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,i,t)},e.prototype.getHeaderCtrls=function(){var t=this,n=this.headerCellCtrls;this.headerCellCtrls={};var i=this.getColumnsInViewport();i.forEach(function(a){if(!a.isEmptyGroup()){var l=a.getUniqueId(),u=n[l];delete n[l];var c=u&&u.getColumnGroupChild()!=a;if(c&&(t.destroyBean(u),u=void 0),u==null)switch(t.type){case Xr.FLOATING_FILTER:u=t.createBean(new mse(a,t));break;case Xr.COLUMN_GROUP:u=t.createBean(new Cse(a,t));break;default:u=t.createBean(new yse(a,t));break}t.headerCellCtrls[l]=u}});var o=function(a){var l=t.focusService.isHeaderWrapperFocused(a);if(!l)return!1;var u=t.columnModel.isDisplayed(a.getColumnGroupChild());return u};Kn(n,function(a,l){var u=o(l);u?t.headerCellCtrls[a]=l:t.destroyBean(l)});var s=Il(this.headerCellCtrls);return s},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(this.pinned!=null)return[];var n=[],i=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=t.columnModel.getVirtualHeaderGroupRow(o,i);n=n.concat(s)}),n},e.prototype.getActualDepth=function(){return this.type==Xr.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,n){var i=Il(this.headerCellCtrls),o=i.find(function(s){return s.getColumnGroupChild()==t});return o?(o.focus(n),!0):!1},e.prototype.destroy=function(){var t=this;Kn(this.headerCellCtrls,function(n,i){t.destroyBean(i)}),this.headerCellCtrls={},r.prototype.destroy.call(this)},ME([G("columnModel")],e.prototype,"columnModel",void 0),ME([G("focusService")],e.prototype,"focusService",void 0),ME([G("filterManager")],e.prototype,"filterManager",void 0),ME([ge],e.prototype,"postConstruct",null),e}(fe),T4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Jp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},P4e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},O4e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},wse=function(r){T4e(e,r);function e(t){var n=r.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=t,n}return e.prototype.setComp=function(t,n){this.comp=t,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var n=new fse(this.pinned,t);this.createManagedBean(n)},e.prototype.refresh=function(t){var n=this;t===void 0&&(t=!1);var i=new rp,o=this.focusService.getFocusHeaderToUseAfterRefresh(),s=function(){var c=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<c;d++){var h=n.createBean(new X_(i.next(),n.pinned,Xr.COLUMN_GROUP));n.groupsRowCtrls.push(h)}},a=function(){var c=i.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!t||n.columnsRowCtrl.getRowIndex()!==c),h=d||n.hidden;h&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new X_(c,n.pinned,Xr.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var c=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){c();return}var d=i.next();if(n.filtersRowCtrl){var h=n.filtersRowCtrl.getRowIndex()!==d;(!t||h)&&c()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new X_(d,n.pinned,Xr.FLOATING_FILTER)))};s(),a(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){t==null||t.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=O4e([],P4e(this.groupsRowCtrls));return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;this.pinned==null&&this.createManagedBean(new OH(function(n){return t.comp.setCenterWidth(n+"px")},!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(this.pinned!=null){var n=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var s=n?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(s!=null){var a=s==0,l=t.hidden!==a,u=t.gridOptionsService.is("enableRtl"),c=t.gridOptionsService.getScrollbarWidth(),d=t.scrollVisibleService.isVerticalScrollShowing()&&(u&&n||!u&&i),h=d?s+c:s;t.comp.setPinnedContainerWidth(h+"px"),t.comp.setDisplayed(!a),l&&(t.hidden=a,t.refresh())}};this.addManagedListener(this.eventService,H.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,H.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,H.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof pn)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(t):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(t);if(i)return i}},e.prototype.getHtmlElementForColumnHeader=function(t){var n=this.getHeaderCtrlForColumn(t);return n?n.getGui():null},e.prototype.getRowType=function(t){var n=this.getAllCtrls(),i=n[t];return i?i.getType():void 0},e.prototype.focusHeader=function(t,n,i){var o=this.getAllCtrls(),s=o[t];return s?s.focusHeader(n,i):!1},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},Jp([G("ctrlsService")],e.prototype,"ctrlsService",void 0),Jp([G("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Jp([G("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Jp([G("columnModel")],e.prototype,"columnModel",void 0),Jp([G("focusService")],e.prototype,"focusService",void 0),Jp([G("filterManager")],e.prototype,"filterManager",void 0),e}(fe),D4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},J_=function(r){D4e(e,r);function e(t){var n=r.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=t,n}return e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return t.setDisplayed(o)},setCtrls:function(o){return t.setCtrls(o)},setCenterWidth:function(o){return t.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return t.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=t.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}},i=this.createManagedBean(new wse(this.pinned));i.setComp(n,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t=this.pinned=="left",n=this.pinned=="right",i=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,s=function(a){var l=a.getGui(),u=l.parentElement!=n.eRowContainer;u&&n.eRowContainer.appendChild(l),o&&lH(n.eRowContainer,l,o),o=l};t.forEach(function(a){var l=a.getInstanceId(),u=i[l];delete i[l];var c=u||n.createBean(new gse(a));n.headerRowComps[l]=c,n.rowCompsList.push(c),s(c)}),Il(i).forEach(function(a){return n.destroyRowComp(a)})},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,hF([ye("eCenterContainer")],e.prototype,"eCenterContainer",void 0),hF([ge],e.prototype,"init",null),hF([Ur],e.prototype,"destroyRowComps",null),e}(gt),A4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sa;(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"})(sa||(sa={}));var Sse=function(r){A4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.gridBodyCon=n.gridBodyCtrl})},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,a=this.getHeaderRowCount(),l=t===sa.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),c=u.nextRow,d=u.nextFocusColumn,h=!1;return c<0&&(c=0,d=s,h=!0),c>=a&&(c=-1),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},e.prototype.navigateHorizontally=function(t,n,i){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),s=t===sa.LEFT,a=this.gridOptionsService.is("enableRtl"),l,u;return s!==a?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:n,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},e.prototype.focusNextHeaderRow=function(t,n,i){var o=t.headerRowIndex,s=null,a;return n==="Before"?o>0&&(a=o-1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"end")):(a=o+1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(a,"start")),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:i})},e.prototype.scrollToColumn=function(t,n){if(n===void 0&&(n="After"),!t.getPinned()){var i;if(t instanceof Qr){var o=t.getDisplayedLeafColumns();i=n==="Before"?gn(o):o[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},yv([G("focusService")],e.prototype,"focusService",void 0),yv([G("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),yv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),yv([ge],e.prototype,"postConstruct",null),e=yv([De("headerNavigationService")],e),e}(fe),x4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Cv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ese=function(r){x4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,i){this.comp=t,this.eGui=n,this.createManagedBean(new qu(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t=this.columnModel,n=0,i=t.getHeaderRowCount(),o,s=this.filterManager.hasFloatingFilters();s&&(i++,n=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+n,c=i-u;if(o=n*t.getFloatingFiltersHeight(),o+=c*a,o+=l,this.headerHeight!==o){this.headerHeight=o;var d=o+1+"px";this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:H.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns(),n=t.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},e.prototype.onTabKeyDown=function(t){var n=this.gridOptionsService.is("enableRtl"),i=t.shiftKey!==n?sa.LEFT:sa.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var n=null;switch(t.key){case ee.LEFT:n=sa.LEFT;case ee.RIGHT:se(n)||(n=sa.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,t);break;case ee.UP:n=sa.UP;case ee.DOWN:se(n)||(n=sa.DOWN),this.headerNavigationService.navigateVertically(n,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var n=this.gridOptionsService.getDocument(),i=t.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},Cv([G("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Cv([G("focusService")],e.prototype,"focusService",void 0),Cv([G("columnModel")],e.prototype,"columnModel",void 0),Cv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),Cv([G("filterManager")],e.prototype,"filterManager",void 0),e}(fe),I4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),F4e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_se=function(r){I4e(e,r);function e(){return r.call(this,e.TEMPLATE)||this}return e.prototype.postConstruct=function(){var t=this,n={addOrRemoveCssClass:function(s,a){return t.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){t.getGui().style.height=s,t.getGui().style.minHeight=s}},i=this.createManagedBean(new Ese);i.setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){t.createManagedBean(s),t.appendChild(s)};o(new J_("left")),o(new J_(null)),o(new J_("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',F4e([ge],e.prototype,"postConstruct",null),e}(gt),M4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},bse=function(r){M4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.addResizeBar=function(t){var n=this,i={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return n.dragService.removeDragSource(i)};return o},e.prototype.onDragStart=function(t,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&n.shiftKey===!0;t.onResizeStart(i)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,n){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,n){this.resizeAmount=n.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},pF([G("dragService")],e.prototype,"dragService",void 0),pF([G("ctrlsService")],e.prototype,"ctrlsService",void 0),e=pF([De("horizontalResizeService")],e),e}(fe),L4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Rse=function(r){L4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,n){var i=this;this.showPopup(t,function(o){i.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},e.prototype.showMenuAfterButtonClick=function(t,n,i){var o=this;this.showPopup(t,function(s){o.popupService.positionPopupByComponent({type:i,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:t})},i,n)},e.prototype.showPopup=function(t,n,i,o){var s=this,a=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");Wr(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return s.trapFocusWithin(g,l)}),a.guiPromise.then(function(g){return l.appendChild(g)});var u,c=function(){var g;return(g=a.filterPromise)===null||g===void 0?void 0:g.then(function(v){var y;return(y=v==null?void 0:v.afterGuiDetached)===null||y===void 0?void 0:y.call(v)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),h=function(g){t.setMenuVisible(!1,"contextMenu");var v=g instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),v&&o&&Od(o)){var y=s.focusService.findTabbableParent(o);y&&y.focus()}c()},p=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return n(l)},anchorToElement:d,ariaLabel:p("ariaLabelColumnMenu","Column Menu")});f&&(this.hidePopup=u=f.hideFunc),a.filterPromise.then(function(g){n(l),g.afterGuiAttached&&g.afterGuiAttached({container:i,hidePopup:u})}),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,n){t.key!==ee.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(n,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},wv([G("filterManager")],e.prototype,"filterManager",void 0),wv([G("popupService")],e.prototype,"popupService",void 0),wv([G("focusService")],e.prototype,"focusService",void 0),wv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),e=wv([De("menuFactory")],e),e}(fe),N4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),LE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},G4e=function(r){N4e(e,r);function e(t){var n=r.call(this,e.getTemplate(t.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=t,t.items&&t.items.forEach(function(i){return n.addItem(i)}),n}return e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new qu(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var n,i,o;return(o=(i=(n=t.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},e.getTemplate=function(t){return'<div class="ag-tabs '+t+`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `+(t?t+"-header":"")+`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `+(t?t+"-body":"")+`"></div>
        </div>`},e.prototype.handleKeyDown=function(t){var n=this.gridOptionsService.getDocument();switch(t.key){case ee.RIGHT:case ee.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=t.key===ee.RIGHT,o=this.gridOptionsService.is("enableRtl"),s=this.items.indexOf(this.activeItem),a=i!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;t.preventDefault();var l=this.items[a];this.showItemWrapper(l),l.eHeaderButton.focus();break;case ee.UP:case ee.DOWN:t.stopPropagation();break}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var n=this,i=n.focusService,o=n.eHeader,s=n.eBody,a=n.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=t.target;if(t.preventDefault(),o.contains(u)){i.focusInto(s,t.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(s,c)&&(t.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(s,c)),d||(d=a.eHeaderButton)),!d&&s.contains(u)&&(d=i.findNextFocusableElement(s,!1,t.shiftKey),d||(d=a.eHeaderButton)),d&&d.focus()}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var n=document.createElement("span");Wr(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(t.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),Yu(n,t.titleLabel);var i={tabbedItem:t,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},e.prototype.showItem=function(t){var n=this.items.find(function(i){return i.tabbedItem===t});n&&this.showItemWrapper(n)},e.prototype.showItemWrapper=function(t){var n=this,i,o,s=t.tabbedItem,a=t.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem===t){mie(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ki(this.eBody),s.bodyPromise.then(function(l){n.eBody.appendChild(l);var u=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,u),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var c=s.getScrollableContainer&&s.getScrollableContainer()||l;n.lastScrollListener=n.addManagedListener(c,"scroll",function(){n.tabbedItemScrollMap.set(s.name,c.scrollTop)});var d=n.tabbedItemScrollMap.get(s.name);d!==void 0&&setTimeout(function(){c.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(i=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(i)),a.classList.add("ag-tab-selected"),this.activeItem=t},LE([G("focusService")],e.prototype,"focusService",void 0),LE([ye("eHeader")],e.prototype,"eHeader",void 0),LE([ye("eBody")],e.prototype,"eBody",void 0),LE([ge],e.prototype,"postConstruct",null),e}(gt);function V4e(r){return Dt(function(){return console.warn("AG Grid: Since v29 simpleHttpRequest has been deprecated as it was only meant for use in internal AG Grid documentation examples. Please use the browser fetch api directly.")},"simpleHttpRequest"),new ts(function(e){var t=new XMLHttpRequest;t.open("GET",r.url),t.send(),t.onreadystatechange=function(){t.readyState===4&&t.status===200&&e(JSON.parse(t.responseText))}})}var H4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k4e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$4e=50,Tse=function(r){H4e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return e.prototype.observeResize=function(t,n){var i=this,o=this.gridOptionsService.getWindow(),s=function(){var c=new o.ResizeObserver(n);return c.observe(t),function(){return c.disconnect()}},a=function(){var c=YL(t),d=KL(t),h=!0,p=function(){if(h){var f=YL(t),g=KL(t),v=f!==c||g!==d;v&&(c=f,d=g,n()),i.doNextPolyfillTurn(p)}};return p(),function(){return h=!1}},l=this.gridOptionsService.is("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?s():a()},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){var n=function(){var i=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(n,$4e)}},e=k4e([De("resizeObserverService")],e),e}(fe),B4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),NE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Pse=function(r){B4e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastPage=0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return e.prototype.setScrollTop=function(t){var n=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,n&&t===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,n,i){this.verifyAnimationFrameOn(i);var o={task:t,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,n){t.list.push(n),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var n=this.scrollGoingDown?1:-1;t.list.sort(function(i,o){return i.index!==o.index?n*(o.index-i.index):o.createOrder-i.createOrder}),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,o=this.createTasksP2,s=o.list,a=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=t<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<t;){var h=d.getScrollFeature().scrollGridIfNeeded();if(!h){var p=void 0;if(i.length)this.sortTaskList(n),p=i.pop().task;else if(s.length)this.sortTaskList(o),p=s.pop().task;else if(a.length)p=a.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}u=new Date().getTime()-l}i.length||s.length||a.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var n=this,i=!1;return function(){if(!n.isOn()){n.getFrameworkOverrides().setTimeout(t,0);return}i||(i=!0,n.addDestroyTask(function(){i=!1,t()}))}},NE([G("ctrlsService")],e.prototype,"ctrlsService",void 0),NE([G("paginationProxy")],e.prototype,"paginationProxy",void 0),NE([ge],e.prototype,"init",null),e=NE([De("animationFrameService")],e),e}(fe),j4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ose=function(r){j4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCtrl=n.centerRowContainerCtrl})},e.prototype.getPreferredWidthForColumn=function(t,n){var i=this.getHeaderCellForColumn(t);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return n||o.push(i),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var n=this.getHeaderCellForColumn(t);return n?this.addElementsToContainerAndGetWidth([n]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var n=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach(function(l){return n.cloneItemIntoDummy(l,i)}),o.appendChild(i);var s=i.offsetWidth;o.removeChild(i);var a=this.getAutoSizePadding();return s+a},e.prototype.getAutoSizePadding=function(){var t=this.gridOptionsService.getNum("autoSizePadding");return t!=null&&t>=0?t:20},e.prototype.getHeaderCellForColumn=function(t){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(t);o!=null&&(n=o)}),n},e.prototype.cloneItemIntoDummy=function(t,n){var i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),s=o.classList,a=["ag-header-cell","ag-header-group-cell"].some(function(h){return i.classList.contains(h)});a?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var l=t.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(h){return l.classList.contains(h)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&s.add(d)}break}l=l.parentElement}o.appendChild(i),n.appendChild(o)},Sv([G("rowRenderer")],e.prototype,"rowRenderer",void 0),Sv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),Sv([G("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Sv([ge],e.prototype,"postConstruct",null),e=Sv([De("autoWidthCalculator")],e),e}(fe),W4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),GE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},U4e=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z4e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},K4e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Y4e=function(r){W4e(e,r);function e(t,n){var i=r.call(this)||this;return i.createRowCon=t,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return e.prototype.postConstruct=function(){var t=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(p){var f,g,v;i.push(p);var y;if(t.isClientSide){for(var C=p;C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=gn(C.childrenAfterSort)}y=C.rowTop+C.rowHeight}else if(p.master)y=p.detailNode.rowTop+p.detailNode.rowHeight;else{var w=(f=p.childStore)===null||f===void 0?void 0:f.getStoreBounds();y=((g=w==null?void 0:w.heightPx)!==null&&g!==void 0?g:0)+((v=w==null?void 0:w.topPx)!==null&&v!==void 0?v:0)}var S=o+n+p.rowHeight;y<S?p.stickyRowTop=n+(y-S):p.stickyRowTop=n,n=0,i.forEach(function(P){var F=P.stickyRowTop+P.rowHeight;n<F&&(n=F)})};;){var a=o+n,l=this.rowModel.getRowIndexAtPixel(a),u=this.rowModel.getRow(l);if(u==null||u.level<0)break;for(var c=[],d=u.parent;d.level>=0;)c.push(d),d=d.parent;var h=c.reverse().find(function(p){return i.indexOf(p)<0&&p.displayed});if(h){s(h);continue}if(u.isExpandable()&&u.expanded&&u.rowTop<a){s(u);continue}break}return this.refreshNodesAndContainerHeight(i,n)},e.prototype.refreshStickyNode=function(t){for(var n=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==t&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,n){var i,o,s,a=this,l=!1,u=this.stickyRowCtrls.filter(function(v){return t.indexOf(v.getRowNode())===-1}),c=t.filter(function(v){return a.stickyRowCtrls.findIndex(function(y){return y.getRowNode()===v})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(v){d[v.getRowNode().id]=v,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(y){return y!==v})});try{for(var h=U4e(Object.values(d)),p=h.next();!p.done;p=h.next()){var f=p.value;f.getRowNode().sticky=!1}}catch(v){i={error:v}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var g=c.map(function(v){return v.sticky=!0,a.createRowCon(v,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,K4e([],z4e(g))),this.stickyRowCtrls.forEach(function(v){return v.setRowTop(v.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(v,y){return y.getRowNode().rowIndex-v.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},GE([G("rowModel")],e.prototype,"rowModel",void 0),GE([G("rowRenderer")],e.prototype,"rowRenderer",void 0),GE([G("ctrlsService")],e.prototype,"ctrlsService",void 0),GE([ge],e.prototype,"postConstruct",null),e}(fe),q4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ta=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ac=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},lc=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Q4e=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X4e=10,Dse=function(r){q4e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()})},e.prototype.initialise=function(){if(this.addManagedListener(this.eventService,H.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,H.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,H.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){var t=this.rowModel.getType();(t==="clientSide"||t==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Y4e(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var t=this.getKeepDetailRowsCount(),n=t??3;this.cachedRowCtrls=new J4e(n)}},e.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptionsService.getNum("keepDetailRowsCount");return se(t)&&t>0?t:X4e},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=Il(this.rowCtrlsByRowIndex),n=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(n||i)&&t.sort(function(a,l){return a.getRowNode().rowIndex-l.getRowNode.rowIndex});var o=Il(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||s.length>0?this.allRowCtrls=lc(lc(lc([],ac(t)),ac(o)),ac(s)):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(t)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(t)})},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_CELL_FOCUSED,function(i){t.onCellFocusChanged(i)}),this.addManagedListener(this.eventService,H.EVENT_CELL_FOCUS_CLEARED,function(){t.onCellFocusChanged()}),this.addManagedListener(this.eventService,H.EVENT_FLASH_CELLS,function(i){t.getAllCellCtrls().forEach(function(o){return o.onFlashCells(i)})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_HOVER_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onColumnHover()})}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){t.printLayout&&t.getAllCellCtrls().forEach(function(i){return i.onLeftChanged()})});var n=this.gridOptionsService.is("enableRangeSelection");n&&(this.addManagedListener(this.eventService,H.EVENT_RANGE_SELECTION_CHANGED,function(){t.getAllCellCtrls().forEach(function(i){return i.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,function(){t.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PINNED,function(){t.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,function(){t.getAllCellCtrls().forEach(function(i){return i.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,H.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(t){return t()}),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n&&n.forEach(function(i){var o=function(d){t.getAllCellCtrls().forEach(function(h){h.getColumn()===i&&d(h)})},s=function(){o(function(d){return d.onLeftChanged()})},a=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",s),i.addEventListener("widthChanged",a),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),t.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",s),i.removeEventListener("widthChanged",a),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t||this.gridOptionsService.is("embedFullWidthRows"),i=n!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var n={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},e.prototype.getAllCellsForColumn=function(t){var n=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(t);o&&n.push(o)}),n},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,n){var i=this;t.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),t.length=0,n&&n.forEach(function(o){var s=new Qc(o,i.beans,!1,!1,i.printLayout);t.push(s)})},e.prototype.onPinnedRowDataChanged=function(){var t={recycleRows:!0};this.redrawAfterModelUpdate(t)},e.prototype.redrawRow=function(t,n){var i=this;if(n===void 0&&(n=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{var o=function(s){var a=s[t.rowIndex];a&&a.getRowNode()===t&&(a.destroyFirstPass(),a.destroySecondPass(),s[t.rowIndex]=i.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var n=this,i=t!=null;if(i){t==null||t.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var n=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,s=this.gridOptionsService.getDomData(o,qc.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(o,Qc.DOM_DATA_KEY_ROW_CTRL),l=s||a;return l?n:null},e.prototype.redrawAfterModelUpdate=function(t){t===void 0&&(t={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var i=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var n=t.newData||t.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var t=this.paginationProxy.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t)},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},e.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(t)})},e.prototype.getAllCellCtrls=function(){for(var t=[],n=this.getAllRowCtrls(),i=n.length,o=0;o<i;o++)for(var s=n[o].getAllCellCtrls(),a=s.length,l=0;l<a;l++)t.push(s[l]);return t},e.prototype.getAllRowCtrls=function(){var t,n,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=lc(lc(lc([],ac(this.topRowCtrls)),ac(this.bottomRowCtrls)),ac(i));try{for(var s=Q4e(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next()){var l=a.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,n,i){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(t,i)},e.prototype.flashCells=function(t){t===void 0&&(t={});var n=t.flashDelay,i=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:i})})},e.prototype.refreshCells=function(t){var n=this;t===void 0&&(t={});var i={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach(function(o){if(o.refreshShouldDestroy()){var s=o.getRowCtrl();s&&s.refreshCell(o)}else o.refreshCell(i)}),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach(function(o){if(o.isFullWidth()){var s=o.refreshFullWidth();s||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var n=this,i,o=this.getCellCtrls(t.rowNodes,t.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=t.columns)===null||i===void 0)&&i.length)return o;var s=[],a=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(a&&!n.isRowInMap(l.getRowNode(),a))&&l.isFullWidth()){var u=l.getFullWidthCellRenderer();u&&s.push(u)}}),lc(lc([],ac(s)),ac(o))},e.prototype.getCellEditorInstances=function(t){var n=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(function(i){var o=i.getCellEditor();o&&n.push(o)}),n},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();t.push(i)}}),t},e.prototype.mapRowNodes=function(t){if(t){var n={top:{},bottom:{},normal:{}};return t.forEach(function(i){var o=i.id;i.rowPinned==="top"?n.top[o]=i:i.rowPinned==="bottom"?n.bottom[o]=i:n.normal[o]=i}),n}},e.prototype.isRowInMap=function(t,n){var i=t.id,o=t.rowPinned;return o==="bottom"?n.bottom[i]!=null:o==="top"?n.top[i]!=null:n.normal[i]!=null},e.prototype.getRowCtrls=function(t){var n=this,i=this.mapRowNodes(t),o=this.getAllRowCtrls();return!t||!i?o:o.filter(function(s){var a=s.getRowNode();return n.isRowInMap(a,i)})},e.prototype.getCellCtrls=function(t,n){var i=this,o;se(n)&&(o={},n.forEach(function(a){var l=i.columnModel.getGridColumn(a);se(l)&&(o[l.getId()]=!0)}));var s=[];return this.getRowCtrls(t).forEach(function(a){a.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||s.push(l)})}),s},e.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];Kn(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode().id==null;s&&t.push(i)}),this.removeRowCtrls(t);var n={};return Kn(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},e.prototype.removeRowCtrls=function(t){var n=this;t.forEach(function(i){var o=n.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete n.rowCtrlsByRowIndex[i]})},e.prototype.onBodyScroll=function(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){t===void 0&&(t={});var n=t.afterScroll,i;this.stickyRowFeature&&MA()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==s;if(!(n&&!a&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},e.prototype.removeRowCompsNotToDraw=function(t){var n={};t.forEach(function(s){return n[s]=!0});var i=Object.keys(this.rowCtrlsByRowIndex),o=i.filter(function(s){return!n[s]});this.removeRowCtrls(o)},e.prototype.calculateIndexesToDraw=function(t){var n=this,i=soe(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var h=d.getRowNode().rowIndex;h!=null&&(h<n.firstRenderedRow||h>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&i.push(h)};Kn(this.rowCtrlsByRowIndex,o),Kn(t,o),i.sort(function(c,d){return c-d});for(var s=[],a=0;a<i.length;a++){var l=i[a],u=this.paginationProxy.getRow(l);u&&!u.sticky&&s.push(l)}return s},e.prototype.recycleRows=function(t,n,i){var o=this;n===void 0&&(n=!1),i===void 0&&(i=!1);var s=this.calculateIndexesToDraw(t);if(this.removeRowCompsNotToDraw(s),this.printLayout&&(n=!1),s.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,t,n,i);se(u)}),t){var a=i&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout;a?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(t,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,n)}this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){t===void 0&&(t=!1);var n={type:H.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(n)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),i=this.pinningLeft!==t||n!==this.pinningRight;i&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var n=this,i=this.mapRowNodes(t);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(i!=null&&!n.isRowInMap(s,i))})},e.prototype.createOrUpdateRowCtrl=function(t,n,i,o){var s,a=this.rowCtrlsByRowIndex[t];a||(s=this.paginationProxy.getRow(t),se(s)&&se(n)&&n[s.id]&&s.alreadyRendered&&(a=n[s.id],n[s.id]=null));var l=!a;if(l)if(s||(s=this.paginationProxy.getRow(t)),se(s))a=this.createRowCon(s,i,o);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=a,a},e.prototype.destroyRowCtrls=function(t,n){var i=this,o=[];Kn(t,function(s,a){if(a){if(i.cachedRowCtrls&&a.isCacheable()){i.cachedRowCtrls.addRow(a);return}a.destroyFirstPass(),n?(i.zombieRowCtrls[a.getInstanceId()]=a,o.push(function(){a.destroySecondPass(),delete i.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),n&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),fie(o))},e.prototype.getRowBuffer=function(){var t=this.gridOptionsService.getNum("rowBuffer");return typeof t=="number"?t<0&&(Dt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t},e.prototype.getRowBufferInPixels=function(){var t=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return t*n},e.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var t,n;if(!this.paginationProxy.isRowsToRender())t=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.is("suppressRowVirtualisation"),a=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),h=d.pageFirstPixel,p=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),v=g.top,y=g.bottom;s?(l=h+f,u=p+f):(l=Math.max(v+c-i,h)+f,u=Math.min(y+c+i,p)+f),this.firstVisibleVPixel=Math.max(v+c,h)+f,a=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(a);var C=this.paginationProxy.getRowIndexAtPixel(l),w=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),P=this.paginationProxy.getPageLastRow();C<S&&(C=S),w>P&&(w=P),t=C,n=w}var F=this.gridOptionsService.isDomLayout("normal"),_=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),E=Math.max(this.getRowBuffer(),500);F&&!_&&n-t>E&&(n=t+E);var T=t!==this.firstRenderedRow,O=n!==this.lastRenderedRow;if(T||O){this.firstRenderedRow=t,this.lastRenderedRow=n;var L={type:H.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:n};this.eventService.dispatchEvent(L)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:H.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){t.beans.eventService.dispatchEvent(n)})}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,n){var i=this.paginationProxy.ensureRowHeightsValid(t,n,-1,-1);return i&&this.updateContainerHeights(),i},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var n=!1,i=!0,o=t.getRowNode(),s=this.focusService.isRowNodeFocused(o),a=t.isEditing(),l=o.detail,u=s||a||l;if(!u)return n;var c=this.paginationProxy.isRowPresent(o);return c?i:n},e.prototype.createRowCon=function(t,n,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var s=this.gridOptionsService.is("suppressAnimationFrame"),a=i&&!s&&!this.printLayout,l=new Qc(t,this.beans,n,a,this.printLayout);return l},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map(function(n){return t[n].getRowNode()})},e.prototype.getRowByPosition=function(t){var n,i=t.rowIndex;switch(t.rowPinned){case"top":n=this.topRowCtrls[i];break;case"bottom":n=this.bottomRowCtrls[i];break;default:n=this.rowCtrlsByRowIndex[i],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return n},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,n){var i=t==null||n==null;if(i)return!1;var o=t>this.lastRenderedRow,s=n<this.firstRenderedRow,a=!s&&!o;return a},ta([G("animationFrameService")],e.prototype,"animationFrameService",void 0),ta([G("paginationProxy")],e.prototype,"paginationProxy",void 0),ta([G("columnModel")],e.prototype,"columnModel",void 0),ta([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),ta([G("rowModel")],e.prototype,"rowModel",void 0),ta([G("focusService")],e.prototype,"focusService",void 0),ta([G("beans")],e.prototype,"beans",void 0),ta([G("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),ta([G("ctrlsService")],e.prototype,"ctrlsService",void 0),ta([ge],e.prototype,"postConstruct",null),e=ta([De("rowRenderer")],e),e}(fe),J4e=function(){function r(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return r.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},r.prototype.getRow=function(e){if(e==null||e.id==null)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var n=t.getRowNode()!=e;return n?null:t},r.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],es(this.entriesList,e)},r.prototype.getEntries=function(){return this.entriesList},r}(),Z4e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),k5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ase=function(r){Z4e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.formatValue=function(t,n,i,o,s){s===void 0&&(s=!0);var a=null,l,u=t.getColDef();if(o?l=o:s&&(l=u.valueFormatter),l){var c={value:i,node:n,data:n?n.data:null,colDef:u,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof l=="function"?a=l(c):a=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return a==null&&Array.isArray(i)&&(a=i.join(", ")),a},k5([G("expressionService")],e.prototype,"expressionService",void 0),e=k5([De("valueFormatterService")],e),e}(fe),e6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},xse=function(r){e6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},e.prototype.isEmpty=function(t){var n=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;return is(n)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,n){var i=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(is(i))return 0;for(var o=0;o<i.length;o++){var s=i[o],a=s.rowTop+s.rowHeight-1;if(a>=t)return o}return i.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var n={type:H.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var n={type:H.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.createNodesFromData=function(t,n){var i=this,o=[];if(t){var s=0;t.forEach(function(a,l){var u=new wt(i.beans);u.data=a;var c=n?wt.ID_PREFIX_TOP_PINNED:wt.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=n?"top":"bottom",u.setRowTop(s),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),s+=u.rowHeight,o.push(u)})}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){is(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){is(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||t.length===0)return 0;var n=gn(t);return n.rowTop+n.rowHeight},fF([G("beans")],e.prototype,"beans",void 0),fF([ge],e.prototype,"init",null),e=fF([De("pinnedRowModel")],e),e}(fe),iN;(function(r){r.Applied="Applied",r.StoreNotFound="StoreNotFound",r.StoreLoading="StoreLoading",r.StoreWaitingToLoad="StoreWaitingToLoad",r.StoreLoadingFailed="StoreLoadingFailed",r.StoreWrongType="StoreWrongType",r.Cancelled="Cancelled"})(iN||(iN={}));var KA=function(){function r(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)this.depthFirstSearchChangedPath(e.children[n],t);t(e.rowNode)},r.prototype.depthFirstSearchEverything=function(e,t,n){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var o=e.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,n):n&&t(o)}t(e)},r.prototype.forEachChangedNodeDepthFirst=function(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},r.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},r.prototype.createPathItems=function(e){for(var t=e,n=0;!this.mapToItems[t.id];){var i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n},r.prototype.populateColumnsMap=function(e,t){var n=this;if(!(!this.keepingColumns||!t))for(var i=e;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(function(o){return n.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},r.prototype.linkPathItems=function(e,t){for(var n=e,i=0;i<t;i++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},r.prototype.addParentNode=function(e,t){if(!(!e||e.isRowPinned())){var n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}},r.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},r.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var n=this.nodeIdsToColumns[e.id],i=t.filter(function(o){return n[o.getId()]});return i},r.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[e.id],i=t.filter(function(o){return!n[o.getId()]});return i},r}(),t6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TP=function(r){t6e(e,r);function e(t){var n=r.call(this)||this;return n.state=e.STATE_WAITING_TO_LOAD,n.version=0,n.id=t,n}return e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){var n=this.isRequestMostRecentAndLive(t);n&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,n){this.successCommon(t,n)},e.prototype.pageLoaded=function(t,n,i){this.successCommon(t,{rowData:n,rowCount:i})},e.prototype.isRequestMostRecentAndLive=function(t){var n=t===this.version,i=this.isAlive();return n&&i},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(t);i&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){t===void 0&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(fe),n6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),VE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},r6e=function(r,e){return function(t,n){e(t,n,r)}},Ise=function(r){n6e(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}t=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.getNum("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=et.debounce(this.performCheckBlocksToLoad.bind(this),n))},e.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},e.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(TP.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(n){et.removeFromArray(this.blocks,n)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:t.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:t.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===TP.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var i={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson(),a=s.id,l=s.state;i[a]=l}),i},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+","+(" blocks = "+JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},e.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var t;return e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",VE([G("rowModel")],e.prototype,"rowModel",void 0),VE([ge],e.prototype,"postConstruct",null),VE([r6e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),e=t=VE([De("rowNodeBlockLoader")],e),e}(fe),i6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),gF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Fse=function(r){i6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return e.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,n,i,o){var s=this.rowModel.ensureRowHeightsValid(t,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},e.prototype.isPaginateChildRows=function(){var t=this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren");return t?!0:this.gridOptionsService.is("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var n={type:H.EVENT_PAGINATION_CHANGED,animate:t?t.animate:!1,newData:t?t.newData:!1,newPage:t?t.newPage:!1,keepRenderedRows:t?t.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},e.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var t={type:H.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(!(!this.active||this.currentPage===t||typeof this.currentPage!="number")){this.currentPage=t;var n={type:H.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(n)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return rt(this.topRowBounds)||rt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){var t=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:n}},e.prototype.isRowPresent=function(t){if(!this.rowModel.isRowPresent(t))return!1;var n=t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex;return n},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var n=this.getPageFirstRow(),i=this.getPageLastRow(),o=n;o<=i;o++){var s=this.getRow(o);s&&t(s)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var n=this.rowModel.getRowBounds(t);return n.rowIndex=t,n},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var n=this.getPageForIndex(t);this.goToPage(n)}},e.prototype.isRowInPage=function(t){if(!this.active)return!0;var n=this.getPageForIndex(t.rowIndex);return n===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),n=Math.floor(t/this.pageSize);this.goToPage(n)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(this.pageSize==null||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(se(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:H.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},gF([G("rowModel")],e.prototype,"rowModel",void 0),gF([ge],e.prototype,"postConstruct",null),e=gF([De("paginationProxy")],e),e}(fe),o6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Mse=function(r){o6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.processAllCellClasses=function(t,n,i,o){this.processClassRules(t.cellClassRules,n,i,o),this.processStaticCellClasses(t,n,i)},e.prototype.processClassRules=function(t,n,i,o){if(t!=null){for(var s=Object.keys(t),a={},l={},u=function(h){var p=s[h],f=t[p],g;typeof f=="string"?g=c.expressionService.evaluate(f,n):typeof f=="function"&&(g=f(n)),p.split(" ").forEach(function(v){v==null||v.trim()==""||(g?a[v]=!0:l[v]=!0)})},c=this,d=0;d<s.length;d++)u(d);o&&Object.keys(l).forEach(o),Object.keys(a).forEach(i)}},e.prototype.getStaticCellClasses=function(t,n){var i=t.cellClass;if(!i)return[];var o;if(typeof i=="function"){var s=i;o=s(n)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},e.prototype.processStaticCellClasses=function(t,n,i){var o=this.getStaticCellClasses(t,n);o.forEach(function(s){i(s)})},$5([G("expressionService")],e.prototype,"expressionService",void 0),e=$5([De("stylingService")],e),e}(fe),s6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Lse=function(r){s6e(e,r);function e(t){return r.call(this,t,"ag-toggle-button")||this}return e.prototype.setValue=function(t,n){return r.prototype.setValue.call(this,t,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(pS),a6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Nse=function(r){a6e(e,r);function e(t){return r.call(this,t,"ag-text-area",null,"textarea")||this}return e.prototype.setValue=function(t,n){var i=r.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Nc),l6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Gse=function(r){l6e(e,r);function e(t){return r.call(this,t,"ag-date-field","date")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Ws();this.addManagedListener(this.eInput,"mousedown",function(){t.isDisabled()||n||t.eInput.focus()}),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var n,i=t instanceof Date?(n=Vs(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.min===i?this:(this.min=i,_l(this.eInput,"min",i),this)},e.prototype.setMax=function(t){var n,i=t instanceof Date?(n=Vs(t??null,!1))!==null&&n!==void 0?n:void 0:t;return this.max===i?this:(this.max=i,_l(this.eInput,"max",i),this)},e.prototype.setStep=function(t){return this.step===t?this:(this.step=t,_l(this.eInput,"step",t),this)},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return(t=Eo(this.getValue()))!==null&&t!==void 0?t:void 0},e.prototype.setDate=function(t,n){this.setValue(Vs(t??null,!1),n)},e}(Dd),u6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Vse=function(r){u6e(e,r);function e(t){return r.call(this,t,"ag-range-field","range")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var t=this.config,n=t.min,i=t.max,o=t.step;n!=null&&this.setMinValue(n),i!=null&&this.setMaxValue(i),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",function(n){var i=n.target.value;t.setValue(i)})},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(t,n){this.min!=null&&(t=Math.max(parseFloat(t),this.min).toString()),this.max!=null&&(t=Math.min(parseFloat(t),this.max).toString());var i=r.prototype.setValue.call(this,t,n);return this.eInput.value=t,i},e}(Nc),c6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),B5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},d6e=function(r){c6e(e,r);function e(t,n){var i=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=t,i.wrapperEl=n,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},e.prototype.setState=function(t){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(t));var i=this.populateWithRenderer(t,n);i||this.populateWithoutRenderer(t,n),this.value=t},e.prototype.highlightString=function(t){var n=this.parsedValue;if(!(this.params.cellRenderer||!se(n)))if(se(t)){var i=n==null?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(i>=0){var o=i+t.length,s=Ir(n.slice(0,i),!0),a=Ir(n.slice(i,o),!0),l=Ir(n.slice(o));this.renderValueWithoutRenderer(s+'<span class="ag-rich-select-row-text-highlight">'+a+"</span>"+l)}}else this.renderValueWithoutRenderer(n)},e.prototype.updateHighlighted=function(t){var n,i=this.getGui(),o="ag-rich-select-row-"+this.getCompId();if((n=i.parentElement)===null||n===void 0||n.setAttribute("id",o),t){var s=this.getParentComponent().getAriaElement();q1(s,o),this.wrapperEl.setAttribute("data-active-option",o)}np(i.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,n){var i=this.gridOptionsService.getDocument(),o=this.getGui(),s=i.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=Ir(se(n)?n:t,!0);this.parsedValue=se(a)?a:null,o.appendChild(s),this.renderValueWithoutRenderer(a)},e.prototype.renderValueWithoutRenderer=function(t){var n=this.getGui().querySelector("span");n&&(n.innerHTML=se(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,n){var i=this,o,s;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:n,api:this.gridOptionsService.api})),s&&(o=s.newAgStackInstance()),o&&hH(o,this.getGui()),o?(o.then(function(a){i.addDestroyFunc(function(){i.getContext().destroyBean(a)})}),!0):!1},e.prototype.onMouseUp=function(){var t=this.getParentComponent(),n={type:H.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};t==null||t.dispatchEvent(n)},B5([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),B5([ge],e.prototype,"postConstruct",null),e}(gt),h6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p6e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},f6e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},gS=function(r){h6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){n.forEach(function(s){return o!=null?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new vse({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var n=document.createElement("div"),i=t==="top"?Dh.TAB_GUARD_TOP:Dh.TAB_GUARD_BOTTOM;return n.classList.add(Dh.TAB_GUARD,i),Wr(n,"presentation"),n},e.prototype.addTabGuards=function(t,n){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",n)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];ki(this.getFocusableElement()),this.addTabGuards.apply(this,f6e([],p6e(t)))},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(t,n){hS(t)||(t=t.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",t):r.prototype.appendChild.call(this,t,n)},e}(gt),g6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),HE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},IH=function(r){g6e(e,r);function e(t){var n=r.call(this,e.getTemplate((t==null?void 0:t.cssIdentifier)||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var i=t||{},o=i.cssIdentifier,s=o===void 0?"default":o,a=i.ariaRole,l=a===void 0?"listbox":a,u=i.listName;return n.cssIdentifier=s,n.ariaRole=l,n.listName=u,n}return e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return t.onFocusIn(n)},onFocusOut:function(n){return t.onFocusOut(n)},focusInnerElement:function(n){return t.focusInnerElement(n)},onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,H.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc(),n=t("ariaDefaultListName",this.listName||"List"),i=this.eContainer;Wr(i,this.ariaRole),Yu(i,n)},e.prototype.addResizeObserver=function(){var t=this,n=function(){return t.animationFrameService.requestAnimationFrame(function(){return t.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(i)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var n=t.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=$ie(n)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case ee.UP:case ee.DOWN:this.navigate(t.key===ee.UP)&&t.preventDefault();break}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(Fl(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(t?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var n=this;this.ensureIndexVisible(t),window.setTimeout(function(){if(n.isAlive()){var i=n.renderedRows.get(t);i&&i.eDiv.focus()}},10)},e.prototype.getComponentAt=function(t){var n=this.renderedRows.get(t);return n&&n.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach(function(n,i){return t(n.rowComponent,i)})},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'+t+`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`+t+`-virtual-list-container" ref="eContainer"></div>
            </div>`},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,n){n===void 0&&(n=!0);var i=this.model.getRowCount();if(typeof t!="number"||t<0||t>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,s=o+this.rowHeight,a=this.getGui(),l=a.scrollTop,u=a.offsetHeight,c=l+u,d=n?0:this.rowHeight,h=l>o+d,p=c<s-d;if(h)return a.scrollTop=o,!0;if(p){var f=s-u;return a.scrollTop=f,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var n=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",j1(function(){return n.eContainer.clientHeight>=i*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(t)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach(function(n,i){return t.removeRow(i)})},e.prototype.drawVirtualRows=function(t){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),i=n.scrollTop,o=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),a=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,a,t)}},e.prototype.ensureRowsRendered=function(t,n,i){var o=this;this.renderedRows.forEach(function(a,l){(l<t||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var s=t;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},e.prototype.insertRow=function(t){var n=this,i=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Wr(o,this.ariaRole==="tree"?"treeitem":"option"),Q1(o,this.model.getRowCount()),X1(o,t+1),o.setAttribute("tabindex","-1"),typeof this.model.isRowSelected=="function"){var s=this.model.isRowSelected(t);np(o,!!s),Zie(o,s)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=t}),o.appendChild(a.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:a,eDiv:o,value:i})},e.prototype.removeRow=function(t){var n=this.renderedRows.get(t);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,n=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var s,a;if(o>=n)t.removeRow(o);else{var l=t.model.getRow(o);!((a=(s=t.model).areRowsEqual)===null||a===void 0)&&a.call(s,i.value,l)?t.componentUpdater(l,i.rowComponent):t.removeRow(o)}})},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",function(){return t.drawVirtualRows()},{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),r.prototype.destroy.call(this))},HE([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),HE([G("animationFrameService")],e.prototype,"animationFrameService",void 0),HE([ye("eContainer")],e.prototype,"eContainer",void 0),HE([ge],e.prototype,"postConstruct",null),e}(gS),m6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),PP=function(){return PP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},PP.apply(this,arguments)},j5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},v6e=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Hse=function(r){m6e(e,r);function e(t){var n,i,o=r.call(this,PP(PP({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(n=t==null?void 0:t.template)!==null&&n!==void 0?n:v6e,modalPicker:!1},t),{maxPickerHeight:(i=t==null?void 0:t.maxPickerHeight)!==null&&i!==void 0?i:"calc(var(--ag-row-height) * 6.5)"}))||this;o.searchString="",o.highlightedItem=-1,o.lastRowHovered=-1,o.searchStringCreator=null;var s=t||{},a=s.cellRowHeight,l=s.value,u=s.valueList,c=s.searchStringCreator;return a!=null&&(o.cellRowHeight=a),l!==void 0&&(o.value=l),u!=null&&(o.values=u),c&&(o.searchStringCreator=c),o}return e.prototype.postConstruct=function(){var t=this,n;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var i=this.config,o=i.allowTyping,s=i.placeholder;o?(this.eInput.setAutoComplete(!1).setInputPlaceholder(s),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=(n=this.gridOptionsService.getNum("tabIndex"))!==null&&n!==void 0?n:0;var a=this.config.searchDebounceDelay,l=a===void 0?300:a;this.clearSearchString=da(this.clearSearchString,l),this.renderSelectedValue(),o&&(this.eInput.onValueChange(function(u){return t.searchTextFromString(u)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),i=t.createElement("div");i.classList.add("ag-loading-text"),i.innerText=n("loadingOoo","Loading..."),this.eLoading=i},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new IH({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,H.EVENT_FIELD_PICKER_VALUE_SELECTED,function(u){t.onListValueSelected(u.value,u.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var i=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(u){return u.preventDefault()}),i.classList.add("ag-rich-select-list");var s="ag-rich-select-list-"+this.listComponent.getCompId();o.setAttribute("id",s);var a=this.localeService.getLocaleTextFunc(),l=a(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Yu(o,l),eoe(this.eWrapper,o)},e.prototype.renderSelectedValue=function(){var t=this,n=this,i=n.value,o=n.eDisplayField,s=n.config,a=this.config.valueFormatter?this.config.valueFormatter(i):i;if(s.allowTyping){this.eInput.setValue(a);return}var l;s.cellRenderer&&(l=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:a,api:this.gridOptionsService.api}));var u;if(l&&(u=l.newAgStackInstance()),u)ki(o),hH(u,o),u.then(function(d){t.addDestroyFunc(function(){return t.getContext().destroyBean(d)})});else if(se(this.value))o.innerText=a,o.classList.remove("ag-display-as-placeholder");else{var c=s.placeholder;se(c)?(o.innerHTML=""+Ir(c),o.classList.add("ag-display-as-placeholder")):ki(o)}},e.prototype.getCurrentValueIndex=function(){var t=this,n=t.currentList,i=t.value;if(i==null)return-1;for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1},e.prototype.highlightFilterMatch=function(){var t=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(i,o){i.highlightString(t.searchString)})},e.prototype.highlightSelectedValue=function(t){var n=this,i;t==null&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,s){var a=t===-1?!1:n.highlightedItem===s;o.updateHighlighted(a)})},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var n=t.valueList,i=t.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]}}),i&&(this.values?this.listComponent.refresh():(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker()},e.prototype.showCurrentValueInPicker=function(){var t,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((t=this.eLoading)===null||t===void 0)&&t.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(t){this.eInput&&this.eInput.getFocusableElement().focus()},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var n=t.key;if(n===ee.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!GA(t))return;t.preventDefault(),this.searchTextFromCharacter(n)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){t==null&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var n=this.config.valueFormatter,i=n===void 0?function(s){return s}:n,o;return typeof t[0]=="number"||typeof t[0]=="string"?o=t.map(function(s){return i(s)}):typeof t[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(t)),o},e.prototype.getSuggestionsAndFilteredValues=function(t,n){var i=this,o=[],s=[];if(!t.length)return{suggestions:o,filteredValues:s};var a=this.config,l=a.allowTyping,u=a.searchType,c=u===void 0?"fuzzy":u,d=a.filterList,h=d&&l;if(c==="fuzzy"){var p=cS(this.searchString,n,!0);o=p.values;var f=p.indices;if(h&&f.length)for(var g=0;g<f.length;g++)s.push(this.values[f[g]])}else o=n.filter(function(v,y){var C=v.toLocaleLowerCase(),w=i.searchString.toLocaleLowerCase(),S=c==="match"?C.startsWith(w):C.indexOf(w)!==-1;return h&&S&&s.push(i.values[y]),S});return{suggestions:o,filteredValues:s}},e.prototype.filterListModel=function(t){var n=this.config,i=n.allowTyping,o=n.filterList;!i||!o||this.setValueList({valueList:t,refresh:!0})},e.prototype.runSearch=function(){var t,n,i,o=this.values,s=this.buildSearchStrings(o);if(!s){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,s),l=a.suggestions,u=a.filteredValues,c=this.config,d=c.allowTyping,h=c.filterList,p=c.highlightMatch,f=c.searchType,g=f===void 0?"fuzzy":f,v=u.length,y=!!(d&&h&&this.searchString!=="");if(y&&this.filterListModel(y?u:o),l.length){var C=y?0:s.indexOf(l[0]);this.selectListItem(C),p&&g!=="fuzzy"&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!y||v)(t=this.listComponent)===null||t===void 0||t.ensureIndexVisible(0);else if(y){this.getAriaElement().removeAttribute("data-active-option");var w=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();w&&q1(w,null)}var S=(i=this.listComponent)===null||i===void 0?void 0:i.getGui();S==null||S.classList.toggle("ag-hidden",y&&!v)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,n,i){if(!(!this.isPickerDisplayed||!this.listComponent||t<0||t>=this.currentList.length)){var o=this.listComponent.ensureIndexVisible(t,!n);o&&!i&&this.listComponent.refresh(!0),this.highlightSelectedValue(t)}},e.prototype.setValue=function(t,n,i){var o=this.currentList.indexOf(t);return o===-1?this:(this.value=t,i||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,t,n))},e.prototype.createRowComponent=function(t){var n=new d6e(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(t);var i=this.config,o=i.highlightMatch,s=i.searchType,a=s===void 0?"fuzzy":s;return o&&a!=="fuzzy"&&n.highlightString(this.searchString),n},e.prototype.getRowForMouseEvent=function(t){var n=this.listComponent;if(!n)return-1;var i=n==null?void 0:n.getGui(),o=i.getBoundingClientRect(),s=n.getScrollTop(),a=t.clientY-o.top+s;return Math.floor(a/n.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var n=this.getRowForMouseEvent(t);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0,!0))}},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var i=n===ee.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,s=i?1:-1,a=o===-1?0:o+s;this.selectListItem(a,!1,!0)},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,n){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,n),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,n){var i={type:H.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:t};this.dispatchEvent(i)},e.prototype.getFocusableElement=function(){var t=this.config.allowTyping;return t?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var n=t.key,i=this.config.allowTyping;switch(n){case ee.LEFT:case ee.RIGHT:case ee.PAGE_HOME:case ee.PAGE_END:i||t.preventDefault();break;case ee.PAGE_UP:case ee.PAGE_DOWN:t.preventDefault();break;case ee.DOWN:case ee.UP:this.onNavigationKeyDown(t,n);break;case ee.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),Fl(t),this.hidePicker());break;case ee.ENTER:this.onEnterKeyDown(t);break;case ee.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},j5([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),j5([ye("eInput")],e.prototype,"eInput",void 0),e}(yH),y6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),kE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},kse=function(r){y6e(e,r);function e(t){var n=r.call(this,t,e.TEMPLATE)||this;return n.labelAlignment="top",n}return e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var n=this,i=H.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),t(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),t(parseFloat(o))}),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:H.EVENT_FIELD_VALUE_CHANGED}),this)},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,kE([ye("eLabel")],e.prototype,"eLabel",void 0),kE([ye("eSlider")],e.prototype,"eSlider",void 0),kE([ye("eText")],e.prototype,"eText",void 0),kE([ge],e.prototype,"init",null),e}(mH),C6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),uc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$se=function(r){C6e(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,e.getTemplate(t))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=t.title,o=t.enabled,s=t.items,a=t.suppressEnabledCheckbox,l=t.suppressOpenCloseIcons;return n.title=i,n.cssIdentifier=t.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=t.alignItems||"center",a!=null&&(n.suppressEnabledCheckbox=a),l!=null&&(n.suppressOpenCloseIcons=l),n}return e.getTemplate=function(t){var n=t.cssIdentifier||"default",i=t.direction||"vertical";return'<div class="ag-group ag-'+n+`-group" role="presentation">
            <div class="ag-group-title-bar ag-`+n+`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`+n+`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`+n+`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`+n+`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`+n+`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`+i+" ag-"+n+`-group-container"></div>
        </div>`},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Os("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Os("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return t.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case ee.ENTER:case ee.SPACE:n.preventDefault(),t.toggleGroupExpand();break;case ee.RIGHT:case ee.LEFT:n.preventDefault(),t.toggleGroupExpand(n.key===ee.RIGHT);break}})},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||ha(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;Bt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Bt(this.eGroupOpenedIcon,t&&this.expanded),Bt(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var n="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(n),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Bt(this.eContainer,!0),this):(t=t??!this.expanded,this.expanded===t?this:(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),Bt(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED}),this))},e.prototype.addItems=function(t){var n=this;t.forEach(function(i){return n.addItem(i)})},e.prototype.addItem=function(t){var n=this.eContainer,i=t instanceof gt?t.getGui():t;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),n.appendChild(i),this.items.push(i)},e.prototype.hideItem=function(t,n){var i=this.items[n];Bt(i,!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,n){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),n||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),t(i)}),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",uc([ye("eTitleBar")],e.prototype,"eTitleBar",void 0),uc([ye("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),uc([ye("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),uc([ye("eToolbar")],e.prototype,"eToolbar",void 0),uc([ye("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),uc([ye("eTitle")],e.prototype,"eTitle",void 0),uc([ye("eContainer")],e.prototype,"eContainer",void 0),uc([ge],e.prototype,"postConstruct",null),e}(gt),w6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OP=function(){return OP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},OP.apply(this,arguments)},W5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Bse=function(r){w6e(e,r);function e(t){t===void 0&&(t=1);var n=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=t,n.menuItems=[],n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.onTabKeyDown=function(t){var n=this.getParentComponent(),i=n&&n.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case ee.UP:case ee.RIGHT:case ee.DOWN:case ee.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case ee.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui());break}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var n=this;t!=null&&t.forEach(function(i){i==="separator"?n.addSeparator():typeof i=="string"?console.warn("AG Grid: unrecognised menu item "+i):n.addItem(i)})},e.prototype.addItem=function(t){var n=this,i=this.createManagedBean(new Sf(OP(OP({},t),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),Uie(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,Sf.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(i,Sf.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter(function(n){return!n.isDisabled()})[0];t&&t.activate()},e.prototype.addSeparator=function(){var t=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(fi(t))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof Sf))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case ee.UP:case ee.DOWN:var n=this.findNextItem(t===ee.UP);n&&n!==this.activeMenuItem&&n.activate();return}var i=this.gridOptionsService.is("enableRtl")?ee.RIGHT:ee.LEFT;t===i?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var n=this.getParentComponent();n&&n instanceof Sf&&(t&&t.preventDefault(),n.closeSubMenu(),n.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return t?gn(n):n[0];t&&n.reverse();for(var i,o=!1,s=0;s<n.length;s++){var a=n[s];if(!o){a===this.activeMenuItem&&(o=!0);continue}i=a;break}return i||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},W5([G("focusService")],e.prototype,"focusService",void 0),W5([ge],e.prototype,"postConstruct",null),e}(gS),S6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),E6e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jse=function(r){S6e(e,r);function e(t){var n=r.call(this)||this;return n.wrappedComponent=t,n.setTemplateFromElement(t.getGui()),n}return e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(n){return t.onTabKeyDown(n)},handleKeyDown:function(n){return t.handleKeyDown(n)}})},e.prototype.handleKeyDown=function(t){t.key===ee.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout(function(){return t.getGui().focus()},0)},E6e([ge],e.prototype,"postConstruct",null),e}(gS),_6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),U5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Sf=function(r){_6e(e,r);function e(t){var n=r.call(this)||this;return n.params=t,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Y1(n,!0)):(this.addGuiEventListener("click",function(i){return t.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===ee.ENTER||i.key===ee.SPACE)&&(i.preventDefault(),t.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return t.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return t.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return t.addCssClass(i)})},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(t===void 0&&(t=!1),this.closeSubMenu(),!!this.params.subMenu){var i=fi('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var s=kie(this.getGui()),a=isNaN(s)?1:s+1,l=this.createBean(new Bse(a));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),i.appendChild(l.getGui()),this.addManagedListener(l,e.EVENT_MENU_ITEM_SELECTED,function(C){return n.dispatchEvent(C)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(l)},t&&setTimeout(function(){return l.activateFirstItem()},0)}else{var u=this.params.subMenu,c=this.createBean(new jse(u));c.setParentComponent(this);var d=c.getGui(),h="mouseenter",p=function(){return n.cancelDeactivate()};d.addEventListener(h,p),o=function(){return d.removeEventListener(h,p)},i.appendChild(d),u.afterGuiAttached&&setTimeout(function(){return u.afterGuiAttached()},0)}var f=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:f,ePopup:i}),v=this.localeService.getLocaleTextFunc(),y=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:g,anchorToElement:f,ariaLabel:v("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,ha(f,!0),this.hideSubMenu=function(){y&&y.hideFunc(),n.subMenuIsOpen=!1,ha(f,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,ha(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var t=fi('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(Cr("check",this.gridOptionsService)):this.params.icon&&(hS(this.params.icon)?t.appendChild(this.params.icon):typeof this.params.icon=="string"?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var t=fi('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new VA(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var t=fi('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var t=fi('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";ha(n,!1),t.appendChild(Cr(i,this.gridOptionsService))}n.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return t.activate(!0)},e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return t.deactivate()},e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?n+"-"+t:n},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,U5([G("popupService")],e.prototype,"popupService",void 0),U5([ge],e.prototype,"init",null),e}(gt),b6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ev=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},FH=function(r){b6e(e,r);function e(t){var n=r.call(this,e.getTemplate(t))||this;return n.closable=!0,n.config=t,n}return e.getTemplate=function(t){var n=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+n+`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`+n+`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`+n+`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`+n+`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`+n+`-panel-content-wrapper"></div>
        </div>`},e.prototype.postConstruct=function(){var t=this,n=this.config,i=n.component,o=n.closable,s=n.hideTitleBar,a=n.title,l=n.minWidth,u=l===void 0?250:l,c=n.width,d=n.minHeight,h=d===void 0?250:d,p=n.height,f=n.centered,g=n.popup,v=n.x,y=n.y;this.positionableFeature=new gH(this.getGui(),{minWidth:u,width:c,minHeight:h,height:p,centered:f,x:v,y,popup:g,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var C=this.getGui();i&&this.setBodyComponent(i),s?Bt(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(w){var S=t.gridOptionsService.getDocument();if(C.contains(w.relatedTarget)||C.contains(S.activeElement)||t.eTitleBarButtons.contains(w.target)){w.preventDefault();return}var P=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");P&&P.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new gt(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=Cr("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,n){var i=this.eTitleBarButtons,o=i.children,s=o.length;n==null&&(n=s),n=Math.max(0,Math.min(n,s)),t.addCssClass("ag-panel-title-bar-button");var a=t.getGui();n===0?i.insertAdjacentElement("afterbegin",a):n===s?i.insertAdjacentElement("beforeend",a):o[n-1].insertAdjacentElement("afterend",a),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return dS(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return LA(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),r.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Ev([ye("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Ev([ye("eTitleBar")],e.prototype,"eTitleBar",void 0),Ev([ye("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Ev([ye("eTitle")],e.prototype,"eTitle",void 0),Ev([ge],e.prototype,"postConstruct",null),e}(gt),R6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DP=function(){return DP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},DP.apply(this,arguments)},T6e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Wse=function(r){R6e(e,r);function e(t){var n=r.call(this,DP(DP({},t),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return e.prototype.postConstruct=function(){var t=this,n=this.getGui(),i=this.config,o=i.movable,s=i.resizable,a=i.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||t.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),a&&this.setMaximizable(a),s&&this.setResizable(s)},e.prototype.renderComponent=function(){var t=this.getGui(),n=this.config,i=n.alwaysOnTop,o=n.modal,s=n.title,a=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:s||l("ariaLabelDialog","Dialog"),afterGuiAttached:a});u&&(this.close=u.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,o=n.y,s=n.width,a=n.height;this.setWidth(s),this.setHeight(a),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){Bt(this.maximizeIcon,!this.isMaximized),Bt(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(t){return t()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var n=this;if(!t){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||t===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new gt('<div class="ag-dialog-button"></span>')),n=t.getGui();return this.maximizeIcon=Cr("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Cr("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},T6e([G("popupService")],e.prototype,"popupService",void 0),e}(FH),P6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AP=function(){return AP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},AP.apply(this,arguments)},_v=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},O6e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},D6e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Sc;(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"})(Sc||(Sc={}));var A6e=0,Use=function(r){P6e(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.popupList=[],n}t=e,e.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(i){n.gridCtrl=i.gridCtrl,n.addManagedListener(n.gridCtrl,H.EVENT_KEYBOARD_FOCUS,function(){n.popupList.forEach(function(o){return o.element.classList.add(Ah.AG_KEYBOARD_FOCUS)})}),n.addManagedListener(n.gridCtrl,H.EVENT_MOUSE_FOCUS,function(){n.popupList.forEach(function(o){return o.element.classList.remove(Ah.AG_KEYBOARD_FOCUS)})})})},e.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(n){var i=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);if(s!==-1){var a=this.popupList[s];a.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,Sc.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth=d+"px";var h=u.right-u.left,p=h-d,f;this.gridOptionsService.is("enableRtl")?(f=v(),f<0&&(f=g(),this.setAlignedStyles(o,"left")),f>p&&(f=0,this.setAlignedStyles(o,"right"))):(f=g(),f>p&&(f=v(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left=f+"px",o.style.top=c+"px";function g(){return l.right-u.left-2}function v(){return l.left-u.left-d}},e.prototype.positionPopupUnderMouseEvent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},e.prototype.calculatePointerAlign=function(n){var i=this.getParentRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},e.prototype.positionPopupByComponent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,a=n.nudgeY,l=n.keepWithinBounds,u=n.eventSource,c=n.alignSide,d=c===void 0?"left":c,h=n.position,p=h===void 0?"over":h,f=n.column,g=n.rowNode,v=n.type,y=u.getBoundingClientRect(),C=this.getParentRect(),w=this.getPopupIndex(o);if(w!==-1){var S=this.popupList[w];S.alignedToElement=u}var P=function(){var F=y.left-C.left;d==="right"&&(F-=o.offsetWidth-y.width);var _;if(p==="over")_=y.top-C.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var E=i.shouldRenderUnderOrAbove(o,y,C,n.nudgeY||0);E==="under"?_=y.top-C.top+y.height:_=y.top-o.offsetHeight-(a||0)*2-C.top}return{x:F,y:_}};this.positionPopup({ePopup:o,nudgeX:s,nudgeY:a,keepWithinBounds:l,updatePosition:P,postProcessCallback:function(){return i.callPostProcessPopup(v,o,u,null,f,g)}})},e.prototype.shouldRenderUnderOrAbove=function(n,i,o,s){var a=o.bottom-i.bottom,l=i.top-o.top,u=n.offsetHeight+s;return a>u?"under":l>u||l>a?"above":"under"},e.prototype.setAlignedStyles=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o],a=s.alignedToElement;if(a){var l=["right","left","over","above","under"];l.forEach(function(u){a.classList.remove("ag-has-popup-positioned-"+u),n.classList.remove("ag-popup-positioned-"+u)}),i&&(a.classList.add("ag-has-popup-positioned-"+i),n.classList.add("ag-popup-positioned-"+i))}}},e.prototype.callPostProcessPopup=function(n,i,o,s,a,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:a,rowNode:l,ePopup:i,type:n,eventSource:o,mouseEvent:s};u(c)}},e.prototype.positionPopup=function(n){var i=this,o=n.ePopup,s=n.keepWithinBounds,a=n.nudgeX,l=n.nudgeY,u=n.skipObserver,c=n.updatePosition,d={width:0,height:0},h=function(f){f===void 0&&(f=!1);var g=c(),v=g.x,y=g.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,a&&(v+=a),l&&(y+=l),s&&(v=i.keepXYWithinBounds(o,v,Sc.horizontal),y=i.keepXYWithinBounds(o,y,Sc.vertical)),o.style.left=v+"px",o.style.top=y+"px",n.postProcessCallback&&n.postProcessCallback())};if(h(),!u){var p=this.resizeObserverService.observeResize(o,function(){return h(!0)});setTimeout(function(){return p()},t.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===n.body?i=n.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),aH(i)},e.prototype.keepXYWithinBounds=function(n,i,o){var s=o===Sc.vertical,a=s?"clientHeight":"clientWidth",l=s?"top":"left",u=s?"offsetHeight":"offsetWidth",c=s?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),h=d.documentElement,p=this.getPopupParent(),f=p.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),v=p===d.body,y=n[u],C=s?sH:CC,w=v?C(h)+h[c]:p[a];v&&(w-=Math.abs(g[l]-f[l]));var S=w-y;return Math.min(Math.max(i,0),Math.abs(S))},e.prototype.addPopup=function(n){var i=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,a=n.alwaysOnTop,l=n.positionCallback,u=n.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var h=this.createPopupWrapper(o,s,!!a),p=this.addEventListenersToPopup(AP(AP({},n),{wrapperEl:h}));return l&&l(),this.addPopupToPopupList(o,h,p,u),{hideFunc:p}},e.prototype.initialisePopupPosition=function(n){var i=this.getPopupParent(),o=i.getBoundingClientRect();se(n.style.top)||(n.style.top=o.top*-1+"px"),se(n.style.left)||(n.style.left=o.left*-1+"px")},e.prototype.createPopupWrapper=function(n,i,o){var s,a=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(s=l.classList).add.apply(s,D6e([],O6e(u))),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||Wr(n,"dialog"),Yu(n,i),this.focusService.isKeyboardMode()&&n.classList.add(Ah.AG_KEYBOARD_FOCUS),l.appendChild(n),a.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},e.prototype.addEventListenersToPopup=function(n){var i=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=n.wrapperEl,l=n.eChild;n.click;var u=n.closedCallback,c=n.afterGuiAttached,d=n.closeOnEsc,h=n.modal,p=!1,f=function(C){if(a.contains(o.activeElement)){var w=C.key;w===ee.ESCAPE&&!ga(C)&&y({keyboardEvent:C})}},g=function(C){return y({mouseEvent:C})},v=function(C){return y({touchEvent:C})},y=function(C){C===void 0&&(C={});var w=C.mouseEvent,S=C.touchEvent,P=C.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:w,touchEvent:S},l)||p||(p=!0,s.removeChild(a),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",v),o.removeEventListener("contextmenu",g),i.eventService.removeEventListener(H.EVENT_DRAG_STARTED,g),u&&u(w||S||P),i.removePopupFromPopupList(l))};return c&&c({hidePopup:y}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),h&&(o.addEventListener("mousedown",g),i.eventService.addEventListener(H.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",v),o.addEventListener("contextmenu",g))},0),y},e.prototype.addPopupToPopupList=function(n,i,o,s){this.popupList.push({element:n,wrapper:i,hideFunc:o,instanceId:A6e++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},e.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(i){return i.element===n})},e.prototype.setPopupPositionRelatedToElement=function(n,i){var o=this.getPopupIndex(n);if(o!==-1){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(l){return l&&l()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!!i){var a=this.keepPopupPositionedRelativeTo({element:i,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},e.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(i){return i.element!==n})},e.prototype.keepPopupPositionedRelativeTo=function(n){var i=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),a=n.element,l=n.ePopup,u=a.getBoundingClientRect(),c=s.top-u.top,d=s.left-u.left,h=c,p=d,f=l.style.top,g=parseInt(f.substring(0,f.length-1),10),v=l.style.left,y=parseInt(v.substring(0,v.length-1),10);return new ts(function(C){i.getFrameworkOverrides().setInterval(function(){var w=o.getBoundingClientRect(),S=a.getBoundingClientRect(),P=S.top==0&&S.left==0&&S.height==0&&S.width==0;if(P){n.hidePopup();return}var F=w.top-S.top;if(F!=h){var _=i.keepXYWithinBounds(l,g+c-F,Sc.vertical);l.style.top=_+"px"}h=F;var E=w.left-S.left;if(E!=p){var T=i.keepXYWithinBounds(l,y+d-E,Sc.horizontal);l.style.left=T+"px"}p=E},200).then(function(w){var S=function(){w!=null&&window.clearInterval(w)};C(S)})})},e.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},e.prototype.isEventFromCurrentPopup=function(n,i){var o=n.mouseEvent,s=n.touchEvent,a=o||s;if(!a)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(gP(c.element,a))return!0}return this.isElementWithinCustomPopup(a.target)},e.prototype.isElementWithinCustomPopup=function(n){for(var i=this.gridOptionsService.getDocument();n&&n!==i.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},e.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},e.prototype.setAlwaysOnTop=function(n,i){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},e.prototype.bringPopupToFront=function(n){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),s=o.length,a=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=a.length,u=this.getWrapper(n);if(!(!u||s<=1||!i.contains(n))){var c=o.indexOf(u),d=u.querySelectorAll("div"),h=[];if(d.forEach(function(v){v.scrollTop!==0&&h.push([v,v.scrollTop])}),l){var p=u.classList.contains("ag-always-on-top");p?c!==s-1&&gn(a).insertAdjacentElement("afterend",u):c!==s-l-1&&a[0].insertAdjacentElement("beforebegin",u)}else c!==s-1&&gn(o).insertAdjacentElement("afterend",u);for(;h.length;){var f=h.pop();f[0].scrollTop=f[1]}var g={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:u};this.eventService.dispatchEvent(g)}};var t;return e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,_v([G("focusService")],e.prototype,"focusService",void 0),_v([G("ctrlsService")],e.prototype,"ctrlsService",void 0),_v([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),_v([ge],e.prototype,"postConstruct",null),e=t=_v([De("popupService")],e),e}(fe),x6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),I6e=function(r){x6e(e,r);function e(){var t=r.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return t.hasHighlighting=!1,t}return e.prototype.setState=function(t,n){this.value=t,this.render(),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var n,i=!1;if(se(t)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var s=o+t.length,a=Ir(this.value.slice(0,o)),l=Ir(this.value.slice(o,s)),u=Ir(this.value.slice(s));this.getGui().lastElementChild.innerHTML=a+"<b>"+l+"</b>"+u}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=(t=Ir(this.value))!==null&&t!==void 0?t:"&nbsp;"},e}(gt),F6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},M6e=function(r){F6e(e,r);function e(t){var n=r.call(this,e.TEMPLATE)||this;return n.params=t,n.searchString="",n}return e.prototype.destroy=function(){r.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new IH({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(i){return t.autocompleteEntries[i]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return t.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,n){t.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=n===ee.UP?i-1:i+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,se(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,n){var i,o=!1,s=t.toLocaleLowerCase(),a=n.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(s),d=c===0,h=c>=0;return h&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),h});return!i&&a.length&&(i=a[0]),{topMatch:i,allMatches:a}},e.prototype.runSearch=function(){var t,n,i=this.params.autocompleteEntries,o=i.map(function(d){var h;return(h=d.displayValue)!==null&&h!==void 0?h:d.key}),s,a;if(this.params.useFuzzySearch)s=cS(this.searchString,o,!0).values,a=s.length?s[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);s=l.allMatches,a=l.topMatch}var u=i.filter(function(d){var h=d.key,p=d.displayValue;return s.includes(p??h)});if(!u.length&&this.selectedValue&&(!((n=(t=this.params)===null||t===void 0?void 0:t.forceLastSelection)===null||n===void 0)&&n.call(t,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!a){var c=s.indexOf(a);this.checkSetSelectedValue(c)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(t.searchString)})},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var n=this.autocompleteEntries[t];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(t===o)}))},e.prototype.createRowComponent=function(t){var n,i=new I6e;return this.getContext().createBean(i),i.setState((n=t.displayValue)!==null&&n!==void 0?n:t.key,t===this.selectedValue),i},e.prototype.onMouseMove=function(t){var n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=t.clientY-n.top+i,s=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!==null&&t!==void 0?t:null},e.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,z5([ye("eList")],e.prototype,"eList",void 0),z5([ge],e.prototype,"init",null),e}(Ad),L6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),mF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},zse=function(r){L6e(e,r);function e(){var t=r.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return t.isListOpen=!1,t.lastPosition=0,t.valid=!0,t}return e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange(function(n){return t.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){t.destroyBean(t.autocompleteList)}),this.addGuiEventListener("focusout",function(){return t.onFocusOut()})},e.prototype.onValueChanged=function(t){var n=El(t);this.updateValue(n),this.updateAutocompleteList(n)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var n,i,o,s,a=(i=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,t,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!a.type||a.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,!((s=this.autocompleteListParams)===null||s===void 0)&&s.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var n=this,i=t.key;switch(this.updateLastPosition(),i){case ee.ENTER:this.onEnterKeyDown(t);break;case ee.TAB:this.onTabKeyDown(t);break;case ee.DOWN:case ee.UP:this.onUpDownKeyDown(t,i);break;case ee.LEFT:case ee.RIGHT:case ee.PAGE_HOME:case ee.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case ee.ESCAPE:this.onEscapeKeyDown(t);break;case ee.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}},e.prototype.confirmSelection=function(){var t,n=(t=this.autocompleteList)===null||t===void 0?void 0:t.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,n){var i;t.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(t,n):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!==null&&t!==void 0?t:null)},e.prototype.setCaret=function(t,n){var i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(t,t)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&t!==void 0?t:0},e.prototype.validate=function(t){var n;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new M6e({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),i={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return El(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var n=t.value,i=t.position,o=t.silent,s=t.updateListOnlyIfOpen,a=t.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,a),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",mF([G("popupService")],e.prototype,"popupService",void 0),mF([ye("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),mF([ge],e.prototype,"postConstruct",null),e}(gt),N6e=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],G6e=["touchstart","touchend","touchmove","touchcancel"],Kse=function(){function r(){this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return Gs(N6e,e)}}return r.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},r.prototype.setInterval=function(e,t){return new ts(function(n){n(window.setInterval(e,t))})},r.prototype.addEventListener=function(e,t,n,i){var o=Gs(G6e,t);e.addEventListener(t,n,{capture:!!i,passive:o})},r.prototype.dispatchEvent=function(e,t,n){t()},r.prototype.frameworkComponent=function(e){return null},r.prototype.isFrameworkComponent=function(e){return!1},r}(),V6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Zp=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},H6e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},k6e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Yse=function(r){V6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getNextCellToFocus=function(t,n,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(t,n):this.getNextCellToFocusWithoutCtrlPressed(t,n)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,n){var i=t===ee.UP,o=t===ee.DOWN,s=t===ee.LEFT,a,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=n.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.is("enableRtl");l=n.rowIndex,a=s!==c?u[0]:gn(u)}return{rowIndex:l,rowPinned:null,column:a}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,n){for(var i=n,o=!1;!o;){switch(t){case ee.UP:i=this.getCellAbove(i);break;case ee.DOWN:i=this.getCellBelow(i);break;case ee.RIGHT:this.gridOptionsService.is("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case ee.LEFT:this.gridOptionsService.is("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},e.prototype.isCellGoodToFocusOn=function(t){var n=t.column,i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}if(!i)return!1;var o=n.isSuppressNavigable(i);return!o},e.prototype.getCellToLeft=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColBefore(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var n=this.columnModel.getDisplayedColAfter(t.column);return n?{rowIndex:t.rowIndex,column:n,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var n=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),s=this.getNextStickyPosition(o);return s||{rowIndex:n+1,rowPinned:i}},e.prototype.getNextStickyPosition=function(t,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!t||!t.sticky)){var i=k6e([],H6e(this.rowRenderer.getStickyTopRowCtrls())).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=n?-1:1,s=i.findIndex(function(l){return l.getRowNode().rowIndex===t.rowIndex}),a=i[s+o];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},e.prototype.getCellBelow=function(t){if(!t)return null;var n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var n=t.rowPinned,i=t.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(n==="bottom"){var s=this.pinnedRowModel.getPinnedBottomRowData().length-1;return s<=i}var a=this.paginationProxy.getPageLastRow();return a<=i},e.prototype.getRowAbove=function(t){var n=t.rowIndex,i=t.rowPinned,o=i?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(t.rowIndex),a=this.getNextStickyPosition(s,!0);return a||{rowIndex:n-1,rowPinned:i}},e.prototype.getCellAbove=function(t){if(!t)return null;var n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:t.column,rowPinned:n.rowPinned}:null},e.prototype.getLastBodyCell=function(){var t=this.paginationProxy.getPageLastRow();return{rowIndex:t,rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){var t=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:t,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,n){return n?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColAfter(t.column);if(!s){s=n[0];var a=this.getRowBelow(t);if(rt(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var n=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,s=this.columnModel.getDisplayedColBefore(t.column);if(!s){s=gn(n);var a=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(rt(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;i=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},Zp([G("columnModel")],e.prototype,"columnModel",void 0),Zp([G("rowModel")],e.prototype,"rowModel",void 0),Zp([G("rowRenderer")],e.prototype,"rowRenderer",void 0),Zp([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Zp([G("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Zp([De("cellNavigationService")],e),e}(fe),$6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},B6e=function(r,e){return function(t,n){e(t,n,r)}},qse=function(r){$6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.consuming=!1,t}return e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var n=this.gridOptionsService.get("alignedGrids");n&&n.forEach(function(i){if(i.api){var o=i.api.__getAlignedGridService();t(o)}})}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent(function(n){n.onColumnEvent(t)})},e.prototype.fireScrollEvent=function(t){t.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(t)})},e.prototype.onScrollEvent=function(t){var n=this;this.onEvent(function(){var i=n.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(t.left,!0)})},e.prototype.getMasterColumns=function(t){var n=[];return t.columns?t.columns.forEach(function(i){n.push(i)}):t.column&&n.push(t.column),n},e.prototype.getColumnIds=function(t){var n=[];return t.columns?t.columns.forEach(function(i){n.push(i.getColId())}):t.column&&n.push(t.column.getColId()),n},e.prototype.onColumnEvent=function(t){var n=this;this.onEvent(function(){switch(t.type){case H.EVENT_COLUMN_MOVED:case H.EVENT_COLUMN_VISIBLE:case H.EVENT_COLUMN_PINNED:case H.EVENT_COLUMN_RESIZED:var i=t;n.processColumnEvent(i);break;case H.EVENT_COLUMN_GROUP_OPENED:var o=t;n.processGroupOpenedEvent(o);break;case H.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},e.prototype.processGroupOpenedEvent=function(t){var n=t.columnGroup,i=null;if(n){var o=n.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}n&&!i||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+n.isExpanded()),this.columnModel.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var n=this,i,o=t.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!s)){var a=this.getMasterColumns(t);switch(t.type){case H.EVENT_COLUMN_MOVED:{var l=t,u=t.columnApi.getColumnState(),c=u.map(function(C){return{colId:C.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+l.toIndex)}break;case H.EVENT_COLUMN_VISIBLE:{var d=t,u=t.columnApi.getColumnState(),c=u.map(function(S){return{colId:S.colId,hide:S.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+d.visible)}break;case H.EVENT_COLUMN_PINNED:{var h=t,u=t.columnApi.getColumnState(),c=u.map(function(S){return{colId:S.colId,pinned:S.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+h.pinned)}break;case H.EVENT_COLUMN_RESIZED:var p=t,f={};a.forEach(function(C){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+C.getActualWidth()),f[C.getId()]={key:C.getColId(),newWidth:C.getActualWidth()}}),(i=p.flexColumns)===null||i===void 0||i.forEach(function(C){f[C.getId()]&&delete f[C.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,p.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),v=g.isVerticalScrollShowing(),y=this.gridOptionsService.get("alignedGrids");y&&y.forEach(function(C){C.api&&C.api.setAlwaysShowVerticalScroll(v)})}},bv([G("columnModel")],e.prototype,"columnModel",void 0),bv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),bv([B6e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),bv([ge],e.prototype,"init",null),e=bv([De("alignedGridsService")],e),e}(fe),j6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},W6e=function(r,e){return function(t,n){e(t,n,r)}},U6e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},z6e=function(r){j6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){var t=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(n){return t.groupSelectsChildren=n.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(n){return t.rowSelection=n.currentValue}),this.addManagedListener(this.eventService,H.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},e.prototype.setNodesSelected=function(t){var n;if(t.nodes.length===0)return 0;var i=t.newValue,o=t.clearSelection,s=t.suppressFinishActions,a=t.rangeSelect;t.event;var l=t.source,u=l===void 0?"api":l;if(t.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var c=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,d=t.nodes.map(function(F){return F.footer?F.sibling:F});if(a){if(t.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var h=this.getLastSelectedNode();if(h){var p=d[0],f=h!==p;if(f&&this.isMultiselect()){var g=this.selectRange(p,h,t.newValue,u);return this.setLastSelectedNode(p),g}}}for(var v=0,y=0;y<d.length;y++){var p=d[y],C=c&&p.group;if(!C){var w=p.selectThisNode(i,t.event,u);w&&v++}this.groupSelectsChildren&&(!((n=p.childrenAfterGroup)===null||n===void 0)&&n.length)&&(v+=this.selectChildren(p,i,c,u))}if(!s){var S=i&&(o||!this.isMultiselect());if(S&&(v+=this.clearOtherNodes(d[0],u)),v>0){this.updateGroupsFromChildrenSelections(u);var P={type:H.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(P)}i&&this.setLastSelectedNode(d[d.length-1])}return v},e.prototype.selectRange=function(t,n,i,o){var s=this;i===void 0&&(i=!0);var a=this.rowModel.getNodesInRangeForSelection(t,n),l=0;a.forEach(function(c){if(!(c.group&&s.groupSelectsChildren||i===!1&&t===c)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:H.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},e.prototype.selectChildren=function(t,n,i,o){var s=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return et.missing(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:s})},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return Kn(this.selectedNodes,function(n,i){i&&t.push(i)}),t},e.prototype.getSelectedRows=function(){var t=[];return Kn(this.selectedNodes,function(n,i){i&&i.data&&t.push(i.data)}),t},e.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},e.prototype.filterFromSelection=function(t){var n={};Object.entries(this.selectedNodes).forEach(function(i){var o=U6e(i,2),s=o[0],a=o[1],l=a&&t(a);l&&(n[s]=a)}),this.selectedNodes=n},e.prototype.updateGroupsFromChildrenSelections=function(t,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();n||(n=new KA(!0,o),n.setInactive());var s=!1;return n.forEachChangedNodeDepthFirst(function(a){if(a!==o){var l=a.calculateSelectedFromChildren();s=a.selectThisNode(l===null?!1:l,void 0,t)||s}}),s},e.prototype.clearOtherNodes=function(t,n){var i=this,o={},s=0;return Kn(this.selectedNodes,function(a,l){if(l&&l.id!==t.id){var u=i.selectedNodes[l.id];s+=u.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),i.groupSelectsChildren&&l.parent&&(o[l.parent.id]=l.parent)}}),Kn(o,function(a,l){var u=l.calculateSelectedFromChildren();l.selectThisNode(u===null?!1:u,void 0,n)}),s},e.prototype.onRowSelected=function(t){var n=t.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes[n.id]=n:delete this.selectedNodes[n.id])},e.prototype.syncInRowNode=function(t,n){this.syncInOldRowNode(t,n),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,n){var i=se(n)&&t.id!==n.id;if(i&&n){var o=n.id,s=this.selectedNodes[o]==t;s&&(this.selectedNodes[n.id]=n)}},e.prototype.syncInNewRowNode=function(t){se(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var t=this.rowModel,n=t.getTopLevelNodes();if(n===null)return;var i=[];function o(s){for(var a=0,l=s.length;a<l;a++){var u=s[a];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(n),i},e.prototype.isEmpty=function(){var t=0;return Kn(this.selectedNodes,function(n,i){i&&t++}),t===0},e.prototype.deselectAllRowNodes=function(t){var n=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=t.source,s=t.justFiltered,a=t.justCurrentPage;if(a||s){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,a).forEach(n)}else Kn(this.selectedNodes,function(u,c){c&&n(c)}),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:H.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},e.prototype.getSelectAllState=function(t,n){var i=this,o=0,s=0,a=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&s++)};return this.getNodesToSelect(t,n).forEach(a),o===0&&s===0?!1:o>0&&s>0?null:o>0},e.prototype.getNodesToSelect=function(t,n){var i=this;if(t===void 0&&(t=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(a){if(!a.group){o.push(a);return}if(!a.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(a);return}i.groupSelectsChildren||o.push(a)}),o;var s=this.rowModel;return t?(s.forEachNodeAfterFilter(function(a){o.push(a)}),o):(s.forEachNode(function(a){o.push(a)}),o)},e.prototype.selectAllRowNodes=function(t){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var n=t.source,i=t.justFiltered,o=t.justCurrentPage,s=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(i,o).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var a={type:H.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(a)},e.prototype.getServerSideSelectionState=function(){return null},e.prototype.setServerSideSelectionState=function(t){},Rv([G("rowModel")],e.prototype,"rowModel",void 0),Rv([G("paginationProxy")],e.prototype,"paginationProxy",void 0),Rv([W6e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),Rv([ge],e.prototype,"init",null),e=Rv([De("selectionService")],e),e}(fe),vF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Qse=function(){function r(){}return r.prototype.sizeColumnsToFit=function(e){typeof e>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},r.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},r.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},r.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},r.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},r.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},r.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},r.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},r.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},r.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},r.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},r.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},r.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},r.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},r.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},r.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},r.prototype.setColumnWidth=function(e,t,n,i){n===void 0&&(n=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,n,i)},r.prototype.setColumnWidths=function(e,t,n){t===void 0&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,n)},r.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},r.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},r.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},r.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},r.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},r.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},r.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},r.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},r.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},r.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},r.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},r.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},r.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},r.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},r.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},r.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},r.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(et.removeAllReferences.bind(window,this,"Column API"),100)},r.prototype.getAllColumns=function(){return As("28.0","getAllColumns","getColumns"),this.getColumns()},r.prototype.getPrimaryColumns=function(){return As("28.0","getPrimaryColumns","getColumns"),this.getColumns()},r.prototype.getSecondaryColumns=function(){return As("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},r.prototype.setSecondaryColumns=function(e){As("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)},r.prototype.getSecondaryPivotColumn=function(e,t){return As("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)},vF([G("columnModel")],r.prototype,"columnModel",void 0),vF([Ur],r.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),r=vF([De("columnApi")],r),r}(),K6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ef=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Xse=function(r){K6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.initialised=!1,t.isSsrm=!1,t}return e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(H.EVENT_CELL_VALUE_CHANGED,function(n){return t.callColumnCellValueChangedHandler(n)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(n){return t.isTreeData=n.currentValue})},e.prototype.getValue=function(t,n,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var s=t.getColDef(),a=s.field,l=t.getColId(),u=n.data,c,d=n.groupData&&n.groupData[l]!==void 0,h=!o&&n.aggData&&n.aggData[l]!==void 0,p=this.isSsrm&&o&&!!t.getColDef().aggFunc,f=this.isSsrm&&n.footer&&n.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===n.field);if(i&&s.filterValueGetter?c=this.executeFilterValueGetter(s.filterValueGetter,u,t,n):this.isTreeData&&h?c=n.aggData[l]:this.isTreeData&&s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):this.isTreeData&&a&&u?c=Yf(u,a,t.isFieldContainsDots()):d?c=n.groupData[l]:h?c=n.aggData[l]:s.valueGetter?c=this.executeValueGetter(s.valueGetter,u,t,n):f?c=Yf(u,n.field,t.isFieldContainsDots()):a&&u&&!p&&(c=Yf(u,a,t.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var g=c.substring(1);c=this.executeValueGetter(g,u,t,n)}if(c==null){var v=this.getOpenedGroup(n,t);if(v!=null)return v}return c}},e.prototype.getOpenedGroup=function(t,n){if(this.gridOptionsService.is("showOpenedGroup")){var i=n.getColDef();if(i.showRowGroup)for(var o=n.getColDef().showRowGroup,s=t.parent;s!=null;){if(s.rowGroupColumn&&(o===!0||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}},e.prototype.setValue=function(t,n,i,o){var s=this.columnModel.getPrimaryColumn(n);if(!t||!s)return!1;rt(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(rt(l)&&rt(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:i,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};c.newValue=i;var d;if(se(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(t.data,l,i,s.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(s,t);var h={type:H.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:t.data,node:t,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(h),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var n=t.colDef.onCellValueChanged;typeof n=="function"&&n({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,n,i,o){if(!n)return!1;var s=!1;if(!o)s=t[n]===i,s||(t[n]=i);else for(var a=n.split("."),l=t;a.length>0&&l;){var u=a.shift();a.length===0?(s=l[u]===i,s||(l[u]=i)):l=l[u]}return!s},e.prototype.executeFilterValueGetter=function(t,n,i,o){var s={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return typeof t=="function"?t(s):this.expressionService.evaluate(t,s)},e.prototype.executeValueGetter=function(t,n,i,o){var s=i.getColId(),a=this.valueCache.getValue(o,s);if(a!==void 0)return a;var l={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)},u;return typeof t=="function"?u=t(l):u=this.expressionService.evaluate(t,l),this.valueCache.setValue(o,s,u),u},e.prototype.getValueCallback=function(t,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,t):null},e.prototype.getKeyForNode=function(t,n){var i=this.getValue(t,n),o=t.getColDef().keyCreator,s=i;if(o){var a={value:i,colDef:t.getColDef(),column:t,node:n,data:n.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s=o(a)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&Dt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]")),s},ef([G("expressionService")],e.prototype,"expressionService",void 0),ef([G("columnModel")],e.prototype,"columnModel",void 0),ef([G("valueCache")],e.prototype,"valueCache",void 0),ef([G("dataTypeService")],e.prototype,"dataTypeService",void 0),ef([ge],e.prototype,"init",null),e=ef([De("valueService")],e),e}(fe),Y6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),K5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},q6e=function(r,e){return function(t,n){e(t,n,r)}},Jse=function(r){Y6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,n){if(typeof t=="string")return this.evaluateExpression(t,n);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,n){try{var i=this.createExpressionFunction(t),o=i(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",n),console.log("Exception = "+s),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var n=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[t]=i,i},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},K5([q6e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),e=K5([De("expressionService")],e),e}(fe),Q6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),X6e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Zse=function(r){Q6e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return e.prototype.getTemplate=function(t,n){var i=this.templateCache[t];if(i)return i;var o=this.waitingCallbacks[t],s=this;if(!o){o=[],this.waitingCallbacks[t]=o;var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,t)},a.open("GET",t),a.send()}return n&&o.push(n),null},e.prototype.handleHttpResult=function(t,n){if(t.status!==200||t.response===null){console.warn("AG Grid: Unable to get template error "+t.status+" - "+n);return}this.templateCache[n]=t.response||t.responseText;for(var i=this.waitingCallbacks[n],o=0;o<i.length;o++){var s=i[o];s()}},e=X6e([De("templateService")],e),e}(fe),J6e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Z6e=function(r,e){return function(t,n){e(t,n,r)}},eae=function(r){J6e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setBeans=function(t){this.logging=t.is("debug")},e.prototype.create=function(t){return new xP(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Y5([Z6e(0,pi("gridOptionsService"))],e.prototype,"setBeans",null),e=Y5([De("loggerFactory")],e),e}(fe),xP=function(){function r(e,t){this.name=e,this.isLoggingFunc=t}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},r}(),e9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),tf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},tae=function(r){e9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setComp=function(t,n,i){var o=this;this.view=t,this.eGridHostDiv=n,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(a){return a===$i.HeaderCell||a===$i.ToolPanel},getIconName:function(){return Hr.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new TH(this.view)),this.addRtlSupport(),this.addManagedListener(this,H.EVENT_KEYBOARD_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,H.EVENT_MOUSE_FOCUS,function(){o.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,n=this.focusService.findTabbableParent(this.getGui());return((t=n==null?void 0:n.getAttribute("row-id"))===null||t===void 0?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return nt.__isRegistered(Ae.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return nt.__isRegistered(Ae.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return nt.__isRegistered(Ae.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return nt.__isRegistered(Ae.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:H.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var n=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(a){return a.contains(n.activeElement)}),s=o+(t?-1:1);return s<=0||s>=i.length?!1:this.focusService.focusInto(i[s])},e.prototype.focusInnerElement=function(t){var n=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(n.length>1)return this.focusService.focusInto(gn(n),!0);var o=gn(i);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.getNum("headerHeight")===0?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){t===void 0&&(t=!1),this.view.forceFocusOutOfContainer(t)},tf([G("focusService")],e.prototype,"focusService",void 0),tf([G("resizeObserverService")],e.prototype,"resizeObserverService",void 0),tf([G("columnModel")],e.prototype,"columnModel",void 0),tf([G("ctrlsService")],e.prototype,"ctrlsService",void 0),tf([G("mouseEventService")],e.prototype,"mouseEventService",void 0),tf([G("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(fe),t9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Tv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nae=function(r){t9e(e,r);function e(t){var n=r.call(this)||this;return n.eGridDiv=t,n}return e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(o){return t.addCssClass(o)},addOrRemoveKeyboardFocusClass:function(o){return t.addOrRemoveCssClass(Ah.AG_KEYBOARD_FOCUS,o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){t.getGui().style.userSelect=o??"",t.getGui().style.webkitUserSelect=o??""},setCursor:function(o){t.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new tae);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return t.ctrl.focusInnerElement(o)}})},e.prototype.insertGridIntoDom=function(){var t=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){t.eGridDiv.removeChild(n),t.logger.log("Grid removed from DOM")})},e.prototype.updateLayoutClasses=function(t,n){var i=this.eRootWrapperBody.classList;i.toggle(pr.AUTO_HEIGHT,n.autoHeight),i.toggle(pr.NORMAL,n.normal),i.toggle(pr.PRINT,n.print),this.addOrRemoveCssClass(pr.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(pr.NORMAL,n.normal),this.addOrRemoveCssClass(pr.PRINT,n.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",s=`<div class="ag-root-wrapper" role="presentation">
                `+t+`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `+n+`
                </div>
                `+i+`
                <ag-pagination></ag-pagination>
                `+o+`
            </div>`;return s},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(function(n){return Od(n)})},Tv([G("loggerFactory")],e.prototype,"loggerFactory",void 0),Tv([ye("gridBody")],e.prototype,"gridBodyComp",void 0),Tv([ye("sideBar")],e.prototype,"sideBarComp",void 0),Tv([ye("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),Tv([ge],e.prototype,"postConstruct",null),e}(gS),n9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),q5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cc=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},nf=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},rae=function(r){n9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}t=e,e.prototype.progressSort=function(n,i,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,i,o)},e.prototype.setSortForColumn=function(n,i,o,s){i!=="asc"&&i!=="desc"&&(i=null);var a=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(a&&n.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(n),c=u==null?void 0:u.filter(function(h){return h.getColDef().sortable});c&&(l=nf([n],cc(c)))}l.forEach(function(h){return h.setSort(i,s)});var d=(o||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort");d||this.clearSortBarTheseColumns(l,s),this.updateSortIndex(n),this.dispatchSortChangedEvents(s)},e.prototype.updateSortIndex=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=i&&o||n,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=a.filter(function(c){return c!==s}),u=s.getSort()?nf(nf([],cc(l)),[s]):l;u.forEach(function(c,d){return c.setSortIndex(d)})},e.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},e.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=n.filter(function(o){return!!o.getSort()});return i&&i.length>0},e.prototype.dispatchSortChangedEvents=function(n){var i={type:H.EVENT_SORT_CHANGED,source:n};this.eventService.dispatchEvent(i)},e.prototype.clearSortBarTheseColumns=function(n,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){n.includes(o)||o.setSort(void 0,i)})},e.prototype.getNextSortDirection=function(n){var i;if(n.getColDef().sortingOrder?i=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=t.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+i),null;var o=i.indexOf(n.getSort()),s=o<0,a=o==i.length-1,l;return s||a?l=i[0]:l=i[o+1],t.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},e.prototype.getIndexedSortMap=function(){var n=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),h=!c.isPrimary(),p=o?n.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||h||p})}var s=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(i=nf([],cc(new Set(i.map(function(c){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c})))));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var h=c.getSortIndex(),p=d.getSortIndex();if(h!=null&&p!=null)return h-p;if(h==null&&p==null){var f=l[c.getId()],g=l[d.getId()];return f>g?1:-1}else return p==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),a&&s.forEach(function(c){var d=n.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},e.prototype.getColumnsWithSortingOrdered=function(){return nf([],cc(this.getIndexedSortMap().entries())).sort(function(n,i){var o=cc(n,2);o[0];var s=o[1],a=cc(i,2);a[0];var l=a[1];return s-l}).map(function(n){var i=cc(n,1),o=i[0];return o})},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},e.prototype.canColumnDisplayMixedSort=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return i&&o},e.prototype.getDisplaySortForColumn=function(n){var i=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!(i!=null&&i.length))return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,s=o?nf([n],cc(i)):i,a=s[0].getSort(),l=s.every(function(u){return u.getSort()==a});return l?a:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var t;return e.DEFAULT_SORTING_ORDER=["asc","desc",null],q5([G("columnModel")],e.prototype,"columnModel",void 0),e=t=q5([De("sortController")],e),e}(fe),r9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),i9e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},o9e=function(r){r9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setMouseOver=function(t){this.selectedColumns=t;var n={type:H.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:H.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=i9e([De("columnHoverService")],e),e}(fe),s9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),yF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},a9e=function(r){s9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){return t.gridBodyCtrl=n.gridBodyCtrl})},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){t.animationThreadCount===n&&t.gridBodyCtrl.setColumnMovingCss(!1)})},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],!(t.length===0&&n.length===0)&&(window.setTimeout(function(){return t.forEach(function(i){return i()})},0),window.setTimeout(function(){return n.forEach(function(i){return i()})},300))},yF([G("ctrlsService")],e.prototype,"ctrlsService",void 0),yF([ge],e.prototype,"postConstruct",null),e=yF([De("columnAnimationService")],e),e}(fe),l9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),CF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},u9e=function(r){l9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady(function(n){t.centerRowContainerCon=n.centerRowContainerCtrl,t.addManagedListener(t.eventService,H.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.checkPageSize()})},e.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||this.centerRowContainerCon==null},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=function(){var o=t.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);t.gridOptionsService.set("paginationPageSize",s)};this.isBodyRendered?da(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},CF([G("ctrlsService")],e.prototype,"ctrlsService",void 0),CF([ge],e.prototype,"postConstruct",null),e=CF([De("paginationAutoPageSizeService")],e),e}(fe),c9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Q5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},iae=function(r){c9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cacheVersion=0,t}return e.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,n,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[n]=i)},e.prototype.getValue=function(t,n){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[n]},Q5([ge],e.prototype,"init",null),e=Q5([De("valueCache")],e),e}(fe),d9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$E=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},h9e="paste",p9e=function(r){d9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,H.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){t.source!==h9e&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,n){if(!this.gridOptionsService.is("suppressChangeDetection")){var i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.is("aggregateOnlyChangedColumns"),s=new KA(o,this.clientSideRowModel.getRootNode());s.addParentNode(t.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){i.push(a)})}this.rowRenderer.refreshCells({rowNodes:i})}},$E([G("rowModel")],e.prototype,"rowModel",void 0),$E([G("rowRenderer")],e.prototype,"rowRenderer",void 0),$E([ge],e.prototype,"init",null),e=$E([De("changeDetectionService")],e),e}(fe),f9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),X5=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},g9e=function(r){f9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.adaptFunction=function(t,n){var i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(n):null},e.prototype.adaptCellRendererFunction=function(t){var n=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var s=t(o),a=typeof s;if(a==="string"||a==="number"||a==="boolean"){this.eGui=fi("<span>"+s+"</span>");return}if(s==null){this.eGui=fi("<span></span>");return}this.eGui=s},i}();return n},e.prototype.doesImplementIComponent=function(t){return t?t.prototype&&"getGui"in t.prototype:!1},X5([G("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=X5([De("agComponentUtils")],e),e}(fe),m9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),wF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},v9e=function(r){m9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},wF([G("agComponentUtils")],e.prototype,"agComponentUtils",void 0),wF([ge],e.prototype,"postConstruct",null),e=wF([De("componentMetadataProvider")],e),e}(fe),y9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),SF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},C9e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},w9e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},S9e=25,J5=10,EF=8,E9e=4,_F=4,bF=6,_9e={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:E9e*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:EF*7,headerCellMinWidth:48,listItemHeight:EF*4,rowHeight:EF*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:_F*8,headerCellMinWidth:24,listItemHeight:_F*6,rowHeight:_F*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:bF*8,headerCellMinWidth:36,listItemHeight:bF*4,rowHeight:bF*7,chartMenuPanelWidth:240}},Z5={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},oae=function(r){y9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.calculatedSizes={},t}return e.prototype.postConstruct=function(){var t=this,n,i=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:H.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var n=this.getTheme(),i=n.themeFamily,o=n.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var s=this.calculatedSizes[i][t];return s??(this.calculatedSizes[i][t]=this.calculateValueForSassProperty(t,i,o),this.calculatedSizes[i][t])}},e.prototype.calculateValueForSassProperty=function(t,n,i){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),a=_9e[s][t],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!Z5[t])return a;var u=Z5[t],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,w9e([n],C9e(d))),c.style.position="absolute";var h=u.reduce(function(g,v){var y=l.createElement("div");return y.style.position="static",y.classList.add(v),g.appendChild(y),y},c),p=0;if(l.body){l.body.appendChild(c);var f=t.toLowerCase().indexOf("height")!==-1?"height":"width";p=parseInt(window.getComputedStyle(h)[f],10),l.body.removeChild(c)}return p||a},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,i=null,o=[];n;)if(i=t.exec(n.className),!i)n=n.parentElement||void 0;else{var s=n.className.match(t);s&&(o=s);break}if(!i)return{allThemes:o};var a=i[0];return{theme:a,el:n,themeFamily:a.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,n){var i;return(i=this.getSassVariable(n))!==null&&i!==void 0?i:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(S9e,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.getNum("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return-1;var i=n+"px";return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return se(t)?Math.max(t,J5):J5},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},SF([G("eGridDiv")],e.prototype,"eGridDiv",void 0),SF([ge],e.prototype,"postConstruct",null),e=SF([De("environment")],e),e}(fe),b9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),BE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},R9e=function(r,e){return function(t,n){e(t,n,r)}},T9e=function(r){b9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=toe(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=n!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,n=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+n+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(n)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var n=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:H.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getScrollFeature().getVScrollPosition();return n.bottom-n.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var n=this.modelHeight-this.getUiBodyHeight(),i=t/n,o=this.maxScrollY*i;return o},BE([G("ctrlsService")],e.prototype,"ctrlsService",void 0),BE([R9e(0,pi("loggerFactory"))],e.prototype,"agWire",null),BE([ge],e.prototype,"postConstruct",null),e=BE([De("rowContainerHeightService")],e),e}(fe),P9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),eK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},sae=function(r){P9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){var n=function(i){return i.childrenAfterGroup};this.recurseDown(t.childrenAfterGroup,n)}},e.prototype.recurseDown=function(t,n){var i=this;t&&t.forEach(function(o){if(o.group){o.hasChildren()&&i.recurseDown(n(o),n);var s;if(i.groupSelectsChildren){var a=(n(o)||[]).find(function(l){return l.selectable===!0});s=se(a)}else s=i.isRowSelectableFunc?i.isRowSelectableFunc(o):!1;o.setRowSelectable(s)}})},eK([ge],e.prototype,"init",null),e=eK([De("selectableService")],e),e}(fe),O9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Rs=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},D9e=function(r){O9e(e,r);function e(){var t=r.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return e.prototype.postConstruct=function(){var t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());var n=this,i=n.btFirst,o=n.btPrevious,s=n.btNext,a=n.btLast;this.activateTabIndex([i,o,s,a]),i.insertAdjacentElement("afterbegin",Cr(t?"last":"first",this.gridOptionsService)),o.insertAdjacentElement("afterbegin",Cr(t?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Cr(t?"previous":"next",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Cr(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.is("pagination"),n=t&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,H.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var i=n.el,o=n.fn;t.addManagedListener(i,"click",o),t.addManagedListener(i,"keydown",function(s){(s.key===ee.ENTER||s.key===ee.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),i=t?n+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)},e.prototype.formatNumber=function(t){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var i={value:t};return n(i)}var o=this.localeService.getLocaleTextFunc(),s=o("thousandSeparator",","),a=o("decimalSeparator",".");return rH(t,s,a)},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),n=t("page","Page"),i=t("to","to"),o=t("of","of"),s=t("firstPage","First Page"),a=t("previousPage","Previous Page"),l=t("nextPage","Next Page"),u=t("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+c+`">
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`+c+`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-to">'+i+`</span>
                    <span id="ag-`+c+`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`+c+'-of">'+o+`</span>
                    <span id="ag-`+c+`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`+s+`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`+a+`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`+c+'-start-page">'+n+`</span>
                        <span id="ag-`+c+`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`+c+'-of-page">'+o+`</span>
                        <span id="ag-`+c+`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`+l+`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`+u+`"></div>
                </span>
            </div>`},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),s=n&&t===i-1;this.nextButtonDisabled=s||o,this.lastButtonDisabled=!n||o||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,n){Y1(t,n),t.classList.toggle("ag-disabled",n)},e.prototype.updateRowLabels=function(){var t=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,s,a;if(this.isZeroPagesToDisplay()?s=a=0:(s=n*t+1,a=s+n-1,i&&a>o&&(a=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return t&&n===0},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),s=o&&o.group&&!(o.groupData||o.aggData);if(s){this.setTotalLabelsToZero();return}}if(t)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Rs([G("paginationProxy")],e.prototype,"paginationProxy",void 0),Rs([G("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Rs([ye("btFirst")],e.prototype,"btFirst",void 0),Rs([ye("btPrevious")],e.prototype,"btPrevious",void 0),Rs([ye("btNext")],e.prototype,"btNext",void 0),Rs([ye("btLast")],e.prototype,"btLast",void 0),Rs([ye("lbRecordCount")],e.prototype,"lbRecordCount",void 0),Rs([ye("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),Rs([ye("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),Rs([ye("lbCurrent")],e.prototype,"lbCurrent",void 0),Rs([ye("lbTotal")],e.prototype,"lbTotal",void 0),Rs([ge],e.prototype,"postConstruct",null),e}(gt),A9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),rf=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},If;(function(r){r[r.Loading=0]="Loading",r[r.NoRows=1]="NoRows"})(If||(If={}));var x9e=function(r){A9e(e,r);function e(){var t=r.call(this,e.TEMPLATE)||this;return t.inProgress=!1,t.destroyRequested=!1,t.manuallyDisplayed=!1,t}return e.prototype.updateLayoutClasses=function(t,n){var i=this.eOverlayWrapper.classList;i.toggle(pr.AUTO_HEIGHT,n.autoHeight),i.toggle(pr.NORMAL,n.normal),i.toggle(pr.PRINT,n.print)},e.prototype.postConstruct=function(){this.createManagedBean(new TH(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,H.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var n=this.eOverlayWrapper.classList;n.toggle("ag-overlay-loading-wrapper",t===If.Loading),n.toggle("ag-overlay-no-rows-wrapper",t===If.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var t={},n=this.userComponentFactory.getLoadingOverlayCompDetails(t),i=n.newAgStackInstance();this.showOverlay(i,If.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var t={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(t),i=n.newAgStackInstance();this.showOverlay(i,If.NoRows)}},e.prototype.showOverlay=function(t,n){var i=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),ki(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),n=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!n?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},e.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,rf([G("userComponentFactory")],e.prototype,"userComponentFactory",void 0),rf([G("paginationProxy")],e.prototype,"paginationProxy",void 0),rf([G("gridApi")],e.prototype,"gridApi",void 0),rf([G("columnModel")],e.prototype,"columnModel",void 0),rf([ye("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),rf([ge],e.prototype,"postConstruct",null),e}(gt),I9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},aae=function(r){I9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getFirstRow=function(){var t=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getLastRow=function(){var t,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(n="bottom",t=i-1):this.rowModel.getRowCount()?(n=null,t=this.paginationProxy.getPageLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,n){return!t&&!n?!0:t&&!n||!t&&n?!1:t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned},e.prototype.before=function(t,n){switch(t.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(se(n.rowPinned))return n.rowPinned!=="top";break}return t.rowIndex<n.rowIndex},e.prototype.rowMax=function(t){var n=this,i;return t.forEach(function(o){(i===void 0||n.before(i,o))&&(i=o)}),i},e.prototype.rowMin=function(t){var n=this,i;return t.forEach(function(o){(i===void 0||n.before(o,i))&&(i=o)}),i},jE([G("rowModel")],e.prototype,"rowModel",void 0),jE([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),jE([G("paginationProxy")],e.prototype,"paginationProxy",void 0),e=jE([De("rowPositionUtils")],e),e}(fe),F9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),M9e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},lae=function(r){F9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.createId=function(t){var n=t.rowIndex,i=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:i})},e.prototype.createIdFromValues=function(t){var n=t.rowIndex,i=t.rowPinned,o=t.column;return n+"."+(i??"null")+"."+o.getId()},e.prototype.equals=function(t,n){var i=t.column===n.column,o=t.rowPinned===n.rowPinned,s=t.rowIndex===n.rowIndex;return i&&o&&s},e=M9e([De("cellPositionUtils")],e),e}(fe),L9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),iy=function(){function r(e){this.cellValueChanges=e}return r}(),RF=function(r){L9e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.initialRange=n,s.finalRange=i,s.ranges=o,s}return e}(iy),tK=function(){function r(e){this.actionStack=[],this.maxStackSize=e||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),N9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),IP=function(){return IP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},IP.apply(this,arguments)},$a=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},G9e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},V9e=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},H9e=function(r){N9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=t.activeCellEdit!==null&&t.cellPositionUtils.equals(t.activeCellEdit,i),s=t.activeRowEdit!==null&&t.rowPositionUtils.sameRow(t.activeRowEdit,i),a=o||s||t.isPasting||t.isRangeInAction;if(a){var l=n.rowPinned,u=n.rowIndex,c=n.column,d=n.oldValue,h=n.value,p={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:h,oldValue:d};t.cellValueChanges.push(p)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return e.prototype.init=function(){var t=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var n=this.gridOptionsService.getNum("undoRedoCellEditingLimit");n<=0||(this.undoStack=new tK(n),this.redoStack=new tK(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,H.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,H.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||t.clearStacks()}),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,H.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var n={type:H.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:H.EVENT_UNDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var n={type:H.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(n);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:H.EVENT_REDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,n,i,o,s){if(!t)return!1;var a=t.pop();return!a||!a.cellValueChanges?!1:(this.processAction(a,function(l){return l[o]},s),a instanceof RF?this.processRange(a.ranges||[a[i]]):this.processCell(a.cellValueChanges),n.push(a),!0)},e.prototype.processAction=function(t,n,i){var o=this;t.cellValueChanges.forEach(function(s){var a=s.rowIndex,l=s.rowPinned,u=s.columnId,c={rowIndex:a,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,n(s),i)})},e.prototype.processRange=function(t){var n=this,i;this.rangeService.removeAllCellRanges(!0),t.forEach(function(o,s){if(o){var a=o.startRow,l=o.endRow;s===t.length-1&&(i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(i));var u={rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(u)}})},e.prototype.processCell=function(t){var n=t[0],i=n.rowIndex,o=n.rowPinned,s={rowIndex:i,rowPinned:o},a=this.getRowNode(s),l={rowPinned:n.rowPinned,rowIndex:a.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,n){var i=t.rowIndex,o=t.columnId,s=t.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){a.ensureIndexVisible(i),a.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:s};this.focusService.setFocusedCell(IP(IP({},u),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(u)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_ROW_EDITING_STARTED,function(n){t.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,H.EVENT_ROW_EDITING_STOPPED,function(){var n=new iy(t.cellValueChanges);t.pushActionsToUndoStack(n),t.activeRowEdit=null})},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_CELL_EDITING_STARTED,function(n){t.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,H.EVENT_CELL_EDITING_STOPPED,function(n){t.activeCellEdit=null;var i=n.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction;if(i){var o=new iy(t.cellValueChanges);t.pushActionsToUndoStack(o)}})},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_PASTE_START,function(){t.isPasting=!0}),this.addManagedListener(this.eventService,H.EVENT_PASTE_END,function(){var n=new iy(t.cellValueChanges);t.pushActionsToUndoStack(n),t.isPasting=!1})},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_FILL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,H.EVENT_FILL_END,function(n){var i=new RF(t.cellValueChanges,n.initialRange,n.finalRange);t.pushActionsToUndoStack(i),t.isRangeInAction=!1})},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){t.isRangeInAction=!0}),this.addManagedListener(this.eventService,H.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;t.rangeService&&t.gridOptionsService.is("enableRangeSelection")?n=new RF(t.cellValueChanges,void 0,void 0,V9e([],G9e(t.rangeService.getCellRanges()))):n=new iy(t.cellValueChanges),t.pushActionsToUndoStack(n),t.isRangeInAction=!1})},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},$a([G("focusService")],e.prototype,"focusService",void 0),$a([G("ctrlsService")],e.prototype,"ctrlsService",void 0),$a([G("rowModel")],e.prototype,"rowModel",void 0),$a([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),$a([G("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),$a([G("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),$a([G("columnModel")],e.prototype,"columnModel",void 0),$a([jt("rangeService")],e.prototype,"rangeService",void 0),$a([ge],e.prototype,"init",null),e=$a([De("undoRedoService")],e),e}(fe),k9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),TF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},uae=function(r){k9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.findHeader=function(t,n){var i,o,s;if(t.column instanceof Qr?(o="getDisplayedGroup"+n,i=this.columnModel[o](t.column)):(s="getDisplayedCol"+n,i=this.columnModel[s](t.column)),!!i){var a=t.headerRowIndex,l=this.getHeaderRowType(a);if(l===Xr.COLUMN_GROUP){var u=i;if(u.isPadding()&&this.isAnyChildSpanningHeaderHeight(u)){var c=this.getColumnVisibleChild(u,a,n),d=c.nextFocusColumn,h=c.nextRow;d&&(i=d,a=h)}}return{column:i,headerRowIndex:a}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return t?t.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},e.prototype.getColumnVisibleParent=function(t,n){var i=this.getHeaderRowType(n),o=i===Xr.FLOATING_FILTER,s=i===Xr.COLUMN,a=o?t:t.getParent(),l=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;a&&a.isPadding();)a=a.getParent(),l--;l<0&&(a=t,l=n)}return{nextFocusColumn:a,nextRow:l}},e.prototype.getColumnVisibleChild=function(t,n,i){i===void 0&&(i="After");var o=this.getHeaderRowType(n),s=t,a=n+1;if(o===Xr.COLUMN_GROUP){var l=t.getLeafColumns(),u=i==="After"?l[0]:gn(l);if(this.isAnyChildSpanningHeaderHeight(u.getParent())){s=u;for(var c=u.getParent();c&&c!==t;)c=c.getParent(),a++}else s=t.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},e.prototype.getHeaderRowType=function(t){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,n){var i=this.columnModel.getAllDisplayedColumns(),o=i[n==="start"?0:i.length-1];if(o){var s=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),a=s.getRowType(t);if(a==Xr.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,t);return{headerRowIndex:t,column:l}}return{headerRowIndex:a==null?-1:t,column:o}}},TF([G("columnModel")],e.prototype,"columnModel",void 0),TF([G("ctrlsService")],e.prototype,"ctrlsService",void 0),e=TF([De("headerPositionUtils")],e),e}(fe),$9e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},B9e=function(){function r(){}return r.prototype.buildColumnDefs=function(e,t,n){var i=this,o=[],s={};return e.forEach(function(a){for(var l=i.createDefFromColumn(a,t,n),u=!0,c=l,d=a.getOriginalParent(),h=null;d;){var p=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=s[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(p=i.createDefFromGroup(d),p&&(p.children=[c],s[p.groupId]=p,c=p,d=d.getOriginalParent()),d!=null&&h===d){u=!1;break}h=d}u&&o.push(c)}),o},r.prototype.createDefFromGroup=function(e){var t=hP(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},r.prototype.createDefFromColumn=function(e,t,n){var i=hP(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i},r=$9e([De("columnDefFactory")],r),r}(),PF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},j9e=function(){function r(){}return r.prototype.getInitialRowClasses=function(e){var t=[];return se(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),$L(t,this.processClassesFromGridOptions(e.rowNode)),$L(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t},r.prototype.processClassesFromGridOptions=function(e){var t=[],n=function(l){typeof l=="string"?t.push(l):Array.isArray(l)&&l.forEach(function(u){return t.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var s={data:e.data,node:e,rowIndex:e.rowIndex},a=o(s);n(a)}return t},r.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,function(n){t.push(n)},function(n){}),t},r.prototype.processRowClassRules=function(e,t,n){var i={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,t,n)},r.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},PF([G("stylingService")],r.prototype,"stylingService",void 0),PF([G("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r=PF([De("rowCssClassCalculator")],r),r}(),W9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cae=function(r){W9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return t.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()})},e.prototype.doFullSort=function(t,n){var i=function(s,a){return{currentPos:a,rowNode:s}},o=t.map(i);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},e.prototype.compareRowNodes=function(t,n,i){for(var o=n.rowNode,s=i.rowNode,a=0,l=t.length;a<l;a++){var u=t[a],c=u.sort==="desc",d=this.getValue(o,u.column),h=this.getValue(s,u.column),p=void 0,f=this.getComparator(u,o);f?p=f(d,h,o,s,c):p=et.defaultComparator(d,h,this.isAccentedSort);var g=!isNaN(p);if(g&&p!==0)return u.sort==="asc"?p:p*-1}return n.currentPos-i.currentPos},e.prototype.getComparator=function(t,n){var i=t.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var s=!n.group&&i.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},e.prototype.getValue=function(t,n){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,t,!1,!1);var s=t.rowGroupColumn===n;if(s){var a=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(a){var l=n.getColDef().keyCreator;if(l)return t.key;var u=(i=t.allLeafChildren)===null||i===void 0?void 0:i[0];return u?this.valueService.getValue(n,u,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return c?(o=t.groupData)===null||o===void 0?void 0:o[c.getId()]:void 0}if(!(t.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,t,!1,!1)},WE([G("valueService")],e.prototype,"valueService",void 0),WE([G("columnModel")],e.prototype,"columnModel",void 0),WE([ge],e.prototype,"init",null),e=WE([De("rowNodeSorter")],e),e}(fe),U9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),z9e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},dae=function(r){U9e(e,r);function e(){var n=r!==null&&r.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}t=e,e.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},e.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},e.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},e.prototype.registerHeaderContainer=function(n,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},e.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},e.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var t;return e.NAME="ctrlsService",e=t=z9e([De(t.NAME)],e),e}(fe),K9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Y9e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},q9e=function(r){K9e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.registry={},t}return e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var n=this.registry[t];if(n!=null)return new n},e=Y9e([De("ctrlsFactory")],e),e}(fe),Q9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Pv=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hae=function(r){Q9e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.direction=n,i.hideTimeout=null,i}return e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,H.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",nH()||Td())},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=yC(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,n=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();n.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(s){return t.addManagedListener(o,s,function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},e.prototype.onScrollVisibilityChanged=function(){var t=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return t.setScrollVisible()})},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL,function(n){n.direction===t.direction&&(t.hideTimeout!==null&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,H.EVENT_BODY_SCROLL_END,function(){t.hideTimeout=window.setTimeout(function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null},400)})},e.prototype.attemptSettingScrollPosition=function(t){var n=this,i=this.getViewport();j1(function(){return Od(i)},function(){return n.setScrollPosition(t)},100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},Pv([ye("eViewport")],e.prototype,"eViewport",void 0),Pv([ye("eContainer")],e.prototype,"eContainer",void 0),Pv([G("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Pv([G("ctrlsService")],e.prototype,"ctrlsService",void 0),Pv([G("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(gt),X9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ov=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},J9e=function(r){X9e(e,r);function e(){return r.call(this,e.TEMPLATE,"horizontal")||this}return e.prototype.postConstruct=function(){var t=this;r.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,H.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new OH(function(i){return t.eContainer.style.width=i+"px"}))},e.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=t+"px"}},e.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();i&&(n+=o),Hs(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth(),a=this.enableRtl&&t;a&&(s+=o),Hs(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.is("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,s=o===0&&n?16:o,a=i?0:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Oh(this.getGui(),a),Oh(this.eViewport,a),Oh(this.eContainer,a),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return SC(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){Od(this.getViewport())||this.attemptSettingScrollPosition(t),EC(this.getViewport(),t,this.enableRtl)},e.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,Ov([ye("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Ov([ye("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Ov([G("columnModel")],e.prototype,"columnModel",void 0),Ov([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ov([ge],e.prototype,"postConstruct",null),e}(hae),Z9e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),OF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},e7e=function(r){Z9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,H.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),n=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:H.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:H.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},OF([G("columnModel")],e.prototype,"columnModel",void 0),OF([ge],e.prototype,"postConstruct",null),e=OF([De("pinnedWidthService")],e),e}(fe),t7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),UE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},n7e=function(r){t7e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.events=[],t}return e.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);var i=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},UE([G("animationFrameService")],e.prototype,"animationFrameService",void 0),UE([G("rowModel")],e.prototype,"rowModel",void 0),UE([ge],e.prototype,"postConstruct",null),e=UE([De("rowNodeEventThrottle")],e),e}(fe),oN=function(){return oN=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},oN.apply(this,arguments)},dc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nK=function(r,e){return function(t,n){e(t,n,r)}},rK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},iK=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};function r7e(r){if(typeof r=="number")return r;if(typeof r=="string")return parseInt(r,10)}function zE(r){return r===!0||r==="true"}var pae=function(){function r(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Ku,this.globalEventHandlerFactory=function(n){return function(i,o){if(!t.destroyed){var s=e.alwaysSyncGlobalEvents.has(i);if(!(s&&!n||!s&&n)){var a=by.getCallbackForEvent(i);typeof t.gridOptions[a]=="function"&&t.gridOptions[a](o)}}}}}e=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.agWire=function(t,n){this.gridOptions.api=t,this.gridOptions.columnApi=n,this.api=t,this.columnApi=n},r.prototype.init=function(){this.gridOptionLookup=new Set(iK(iK([],rK(by.ALL_PROPERTIES)),rK(by.EVENT_CALLBACKS)));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},r.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},r.prototype.is=function(t){return zE(this.gridOptions[t])},r.prototype.get=function(t){return this.gridOptions[t]},r.prototype.getNum=function(t){return r7e(this.gridOptions[t])},r.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},r.prototype.exists=function(t){return se(this.gridOptions[t])},r.prototype.mergeGridCommonParams=function(t){var n=this;if(t){var i=function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,t(s)};return i}return t},r.prototype.__setPropertyOnly=function(t,n){var i=this.gridOptions[t];return this.gridOptionLookup.has(t)&&(this.gridOptions[t]=n),i!==n},r.prototype.set=function(t,n,i,o,s){if(i===void 0&&(i=!1),o===void 0&&(o={}),s===void 0&&(s=void 0),this.gridOptionLookup.has(t)){var a=this.gridOptions[t];if(i||a!==n){this.gridOptions[t]=n;var l=oN({type:t,currentValue:n,previousValue:a,changeSet:s},o);this.propertyEventService.dispatchEvent(l)}}},r.prototype.addEventListener=function(t,n){this.propertyEventService.addEventListener(t,n)},r.prototype.removeEventListener=function(t,n){this.propertyEventService.removeEventListener(t,n)},r.prototype.getGridId=function(){return this.api.getGridId()},r.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=t?this.gridOptions.scrollbarWidth:ioe();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:H.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||t==="clientSide"&&rt(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(t){var n,i=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return i===t},r.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},r.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},r.prototype.getRowHeightForNode=function(t,n,i){if(n===void 0&&(n=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var o={node:t,data:t.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return s===0&&Dt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}if(t.detail&&this.is("masterDetail"))return this.getMasterDetailRowHeight();var a=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:a,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||rt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return t!==-1?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(t,n){var i=t[this.getDomDataKey()];return i?i[n]:void 0},r.prototype.setDomData=function(t,n,i){var o=this.getDomDataKey(),s=t[o];rt(s)&&(s={},t[o]=s),s[n]=i},r.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&se(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&se(t)?t:document},r.prototype.getWindow=function(){var t=this.getDocument();return t.defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return se(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return this.is("ensureDomOrder")?!1:this.is("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))},r.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef,n=this.isRowModelType("clientSide");return n&&!(t!=null&&t.comparator)&&!this.is("treeData")},r.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;if(typeof t=="function")return this.getCallback("groupAggFiltering");if(zE(t))return function(){return!0}},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return zE(t)||typeof t=="function"},r.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return typeof t=="function"?this.getCallback("groupIncludeFooter"):zE(t)?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?jL("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(t){return t?!1:this.gridOptions.groupDisplayType?jL("groupRows",this.gridOptions.groupDisplayType):!1};var e;return r.alwaysSyncGlobalEvents=new Set([H.EVENT_GRID_PRE_DESTROYED]),dc([G("gridOptions")],r.prototype,"gridOptions",void 0),dc([G("eventService")],r.prototype,"eventService",void 0),dc([G("environment")],r.prototype,"environment",void 0),dc([G("eGridDiv")],r.prototype,"eGridDiv",void 0),dc([nK(0,pi("gridApi")),nK(1,pi("columnApi"))],r.prototype,"agWire",null),dc([ge],r.prototype,"init",null),dc([Ur],r.prototype,"destroy",null),r=e=dc([De("gridOptionsService")],r),r}(),i7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),o7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},fae=function(r){i7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(i,o,s){var a={key:i,defaultValue:o,variableValues:s};return t(a)};var n=this.gridOptionsService.get("localeText");return function(i,o,s){var a=n&&n[i];if(a&&s&&s.length)for(var l=0;!(l>=s.length);){var u=a.indexOf("${variable}");if(u===-1)break;a=a.replace("${variable}",s[l++])}return a??o}},e=o7e([De("localeService")],e),e}(fe),s7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),a7e=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},l7e=function(r){s7e(e,r);function e(){return r.call(this,e.TEMPLATE,"vertical")||this}return e.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new rse(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,H.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=t&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Hs(this.getGui(),o),Hs(this.eViewport,o),Hs(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService.getGridBodyCtrl(),n=t.getBodyViewportElement();this.eViewport.scrollTop!=n.scrollTop&&(this.eViewport.scrollTop=n.scrollTop)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t){Od(this.getViewport())||this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,a7e([ge],e.prototype,"postConstruct",null),e}(hae),u7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),go=function(){return go=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},go.apply(this,arguments)},jd=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ba=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Dv=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},oK={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},sK=["january","february","march","april","may","june","july","august","september","october","november","december"],gae=function(r){u7e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dataTypeDefinitions={},t.isWaitingForRowData=!1,t.isColumnTypeOverrideInDataTypeDefinitions=!1,t.columnStateUpdatesPendingInference={},t.columnStateUpdateListenerDestroyFuncs=[],t}return e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){t.groupHideOpenParents=t.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs("gridOptionsChanged")})},e.prototype.processDataTypeDefinitions=function(){var t=this,n,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(s){var a=Ba(s,2),l=a[0],u=a[1];t.dataTypeDefinitions[l]=go(go({},u),{groupSafeValueFormatter:t.createGroupSafeValueFormatter(u)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var a=Ba(s,2),l=a[0],u=a[1],c=t.processDataTypeDefinition(u,o,[l],i);c&&(t.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(t.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(s){var a=t.dataTypeMatchers[s];a&&delete t.dataTypeMatchers[s],t.dataTypeMatchers[s]=a??i[s].dataTypeMatcher})},e.prototype.mergeDataTypeDefinitions=function(t,n){var i=go(go({},t),n);return t.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(i.columnTypes=Dv(Dv([],Ba(this.convertColumnTypes(t.columnTypes))),Ba(this.convertColumnTypes(n.columnTypes)))),i},e.prototype.processDataTypeDefinition=function(t,n,i,o){var s,a=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var l=o[a];if(!this.validateDataTypeDefinition(t,l,a))return;s=this.mergeDataTypeDefinitions(l,t)}else{if(i.includes(a)){Dt(function(){return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')},"dataTypeExtendsCircularRef");return}var u=n[a];if(!this.validateDataTypeDefinition(t,u,a))return;var c=this.processDataTypeDefinition(u,n,Dv(Dv([],Ba(i)),[a]),o);if(!c)return;s=this.mergeDataTypeDefinitions(c,t)}return go(go({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},e.prototype.validateDataTypeDefinition=function(t,n,i){return n?n.baseDataType!==t.baseDataType?(Dt(function(){return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')},"dataTypeBaseTypesMatch"),!1):!0:(Dt(function(){return console.warn("AG Grid: The data type definition "+i+" does not exist.")},"dataTypeDefMissing"+i),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var n=this;if(t.valueFormatter)return function(i){var o,s;if(!((o=i.node)===null||o===void 0)&&o.group){var a=i.column.getAggFunc();if(a){if(a==="first"||a==="last")return t.valueFormatter(i);if(t.baseDataType==="number"&&a!=="count"){if(typeof i.value=="number")return t.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return t.valueFormatter(go(go({},i),{value:i.value.toNumber()}));if("value"in i.value)return t.valueFormatter(go(go({},i),{value:i.value.value}))}}}return}else if(n.groupHideOpenParents&&i.column.isRowGroupActive())return typeof i.value!="string"||!((s=t.dataTypeMatcher)===null||s===void 0)&&s.call(t,i.value)?t.valueFormatter(i):void 0;return t.valueFormatter(i)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,n,i){var o=n.cellDataType,s=n.field;if(o===void 0&&(o=t.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(t,n)?this.inferCellDataType(s,i):!1),!o){t.cellDataType=!1;return}var a=this.dataTypeDefinitions[o];if(!a){Dt(function(){return console.warn('AG Grid: Missing data type definition - "'+o+'"')},"dataTypeMissing"+o);return}return t.cellDataType=o,a.groupSafeValueFormatter&&(t.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(t.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,a,i),a.columnTypes},e.prototype.updateColDefAndGetColumnType=function(t,n,i){var o,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(t,n,i),l=(s=(o=n.type)!==null&&o!==void 0?o:a)!==null&&s!==void 0?s:t.type;return t.type=l,l?this.convertColumnTypes(l):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[t.getColId()];if(n){var i=function(o){n.add(o.key)};t.addEventListener(pn.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return t.removeEventListener(pn.EVENT_STATE_UPDATED,i)})}}},e.prototype.canInferCellDataType=function(t,n){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var a=n.type===null?t.type:n.type;if(a){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(a).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,s)});if(u)return!1}return!this.doColDefPropsPreventInference(t,s)},e.prototype.doColDefPropsPreventInference=function(t,n){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=Ba(o,2),a=s[0],l=s[1];return i.doesColDefPropPreventInference(t,n,a,l)})},e.prototype.doesColDefPropPreventInference=function(t,n,i,o){if(!n[i])return!1;var s=t[i];return s===null?(n[i]=!1,!1):o===void 0?!!s:s===o},e.prototype.inferCellDataType=function(t,n){var i;if(t){var o,s=this.getInitialData();if(s){var a=t.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");o=Yf(s,t,a)}else this.initWaitForRowData(n);if(o!=null){var l=Ba((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=Ba(c,2);d[0];var h=d[1];return h(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n!=null&&n.length?n[0].data:null},e.prototype.initWaitForRowData=function(t){var n=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,H.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;if(a){o==null||o(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(a,i),n.columnStateUpdatesPendingInference={},i&&n.columnModel.processResizeOperations();var l={type:H.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,n){var i=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=Ba(l,2),c=u[0],d=u[1],h=i.columnModel.getGridColumn(c);if(h){var p=h.getColDef();if(i.columnModel.resetColumnDefIntoColumn(h)){var f=h.getColDef();if(n&&f.type&&f.type!==p.type){var g=i.getUpdatedColumnState(h,d);g.rowGroup&&g.rowGroupIndex==null&&(s[c]=g),g.pivot&&g.pivotIndex==null&&(a[c]=g),o.push(g)}}}}),n&&o.push.apply(o,Dv([],Ba(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)))),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,n){var i=this.columnModel.getColumnStateFromColDef(t);return n.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},e.prototype.checkObjectValueHandlers=function(t){var n=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=n.valueParser!==i.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==i.valueFormatter},e.prototype.convertColumnTypes=function(t){var n=[];if(t instanceof Array){var i=t.some(function(o){return typeof o!="string"});i?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else typeof t=="string"?n=t.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");return n},e.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},e.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},e.prototype.getDataTypeDefinition=function(t){var n=t.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},e.prototype.getBaseDataType=function(t){var n;return(n=this.getDataTypeDefinition(t))===null||n===void 0?void 0:n.baseDataType},e.prototype.checkType=function(t,n){var i;if(n==null)return!0;var o=(i=this.getDataTypeDefinition(t))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(n):!0},e.prototype.validateColDef=function(t){t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Dt(function(){return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')},"dataTypeObjectValueFormatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Dt(function(){return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')},"dataTypeObjectValueParser"))},e.prototype.setColDefPropertiesForBaseDataType=function(t,n,i){var o=this,s=function(d,h,p){var f=d.getColDef().valueFormatter;return f===n.groupSafeValueFormatter&&(f=n.valueFormatter),o.valueFormatterService.formatValue(d,h,p,f)},a=nt.__isRegistered(Ae.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var h=t.filterParams;t.filterParams=typeof h=="object"?go(go({},h),d):d};switch(t.useValueFormatterForExport=!0,t.useValueParserForImport=!0,n.baseDataType){case"number":{t.cellEditor="agNumberCellEditor",a&&u({comparator:function(d,h){var p=d==null?0:parseInt(d),f=h==null?0:parseInt(h);return p===f?0:p>f?1:-1}});break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===ee.SPACE},u(a?{valueFormatter:function(d){return se(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,h){return h},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,h){return h===!1},numberOfInputs:0}]});break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)},a&&u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return se(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,h){if(h===1&&d!=null){var p=sK[Number(d)-1];return l(p,oK[p])}return d??l("blanks","(Blanks)")}});break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=function(d){return s(d.column,d.node,d.value)};var c=this.getDateParserFunction();u(a?{valueFormatter:function(d){var h=s(d.column,d.node,d.value);return se(h)?h:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var h=c(d??void 0);return h?[String(h.getFullYear()),String(h.getMonth()+1),String(h.getDate())]:null},treeListFormatter:function(d,h){if(h===1&&d!=null){var p=sK[Number(d)-1];return l(p,oK[p])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,h){var p=c(h);return h==null||p<d?-1:p>d?1:0}});break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=function(d,h){var p=o.columnModel.getPrimaryColumn(i),f=p==null?void 0:p.getColDef();if(!p||!f)return 0;var g=d==null?"":s(p,null,d),v=h==null?"":s(p,null,h);return g===v?0:g>v?1:-1},t.keyCreator=function(d){return s(d.column,d.node,d.value)},a?u({valueFormatter:function(d){var h=s(d.column,d.node,d.value);return se(h)?h:l("blanks","(Blanks)")}}):t.filterValueGetter=function(d){return s(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},e.prototype.getDefaultDataTypes=function(){var t=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){return i.newValue===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?n("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:mC(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){return i.newValue===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return Eo(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?n("invalidDate","Invalid Date"):(o=Vs(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=Eo(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=Vs(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return t(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return t(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&t(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=mC(i.value))!==null&&o!==void 0?o:""}}}},jd([G("rowModel")],e.prototype,"rowModel",void 0),jd([G("columnModel")],e.prototype,"columnModel",void 0),jd([G("columnUtils")],e.prototype,"columnUtils",void 0),jd([G("valueService")],e.prototype,"valueService",void 0),jd([G("valueFormatterService")],e.prototype,"valueFormatterService",void 0),jd([ge],e.prototype,"init",null),e=jd([De("dataTypeService")],e),e}(fe),c7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),aK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mae=function(r){c7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.parseValue=function(t,n,i,o){var s=t.getColDef(),a={node:n,data:n==null?void 0:n.data,oldValue:o,newValue:i,colDef:s,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},l=s.valueParser;return se(l)?typeof l=="function"?l(a):this.expressionService.evaluate(l,a):i},aK([G("expressionService")],e.prototype,"expressionService",void 0),e=aK([De("valueParserService")],e),e}(fe),lK=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},uK=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},d7e=function(){function r(e,t,n){if(!t){console.error("AG Grid: no gridOptions provided to the grid");return}this.gridOptions=t,new vae().create(e,t,function(i){var o=new nae(e);i.createBean(o)},void 0,n)}return r.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},r}(),h7e=1,vae=function(){function r(){}return r.prototype.create=function(e,t,n,i,o){var s=this,a,l=!!t.debug,u=(a=t.gridId)!==null&&a!==void 0?a:String(h7e++),c=this.getRegisteredModules(o,u),d=this.createBeansList(t.rowModelType,c,u),h=this.createProvidedBeans(e,t,o);if(d){var p={providedBeanInstances:h,beanClasses:d,debug:l,gridId:u},f=new xP("AG Grid",function(){return t.debug}),g=new xP("Context",function(){return p.debug}),v=new vie(p,g),y=v.getBean("beans");this.registerModuleUserComponents(y,c),this.registerStackComponents(y,c),this.registerControllers(y,c),n(v),y.ctrlsService.whenReady(function(){s.setColumnsAndData(y),s.dispatchGridReadyEvent(y);var C=nt.__isRegistered(Ae.EnterpriseCoreModule,u);f.log("initialised successfully, enterprise = "+C)}),i&&i(v)}},r.prototype.registerControllers=function(e,t){t.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return e.ctrlsFactory.register(i)})})},r.prototype.registerStackComponents=function(e,t){var n=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(n)},r.prototype.getRegisteredModules=function(e,t){var n=e?e.modules:null,i=nt.__getRegisteredModules(t),o=[],s={},a=function(l,u,c){var d=function(h){s[h.moduleName]||(s[h.moduleName]=!0,o.push(h),nt.__register(h,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(h){return a(l,h,c)})};return n&&n.forEach(function(l){return a(!0,l,t)}),i&&i.forEach(function(l){return a(!nt.__isPackageBased(),l,void 0)}),o},r.prototype.registerModuleUserComponents=function(e,t){var n=this.extractModuleEntity(t,function(i){return i.userComponents?i.userComponents:[]});n.forEach(function(i){e.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},r.prototype.createProvidedBeans=function(e,t,n){var i=n?n.frameworkOverrides:null;rt(i)&&(i=new Kse);var o={gridOptions:t,eGridDiv:e,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:pS},{componentName:"AgRadioButton",componentClass:CH},{componentName:"AgToggleButton",componentClass:Lse},{componentName:"AgInputTextField",componentClass:Dd},{componentName:"AgInputTextArea",componentClass:Nse},{componentName:"AgInputNumberField",componentClass:kA},{componentName:"AgInputDateField",componentClass:Gse},{componentName:"AgInputRange",componentClass:Vse},{componentName:"AgRichSelect",componentClass:Hse},{componentName:"AgSelect",componentClass:HA},{componentName:"AgSlider",componentClass:kse},{componentName:"AgGridBody",componentClass:ose},{componentName:"AgHeaderRoot",componentClass:_se},{componentName:"AgSortIndicator",componentClass:BA},{componentName:"AgPagination",componentClass:D9e},{componentName:"AgOverlayWrapper",componentClass:x9e},{componentName:"AgGroupComponent",componentClass:$se},{componentName:"AgPanel",componentClass:FH},{componentName:"AgDialog",componentClass:Wse},{componentName:"AgRowContainer",componentClass:dse},{componentName:"AgFakeHorizontalScroll",componentClass:J9e},{componentName:"AgFakeVerticalScroll",componentClass:l7e},{componentName:"AgAutocomplete",componentClass:zse}],n=this.extractModuleEntity(e,function(i){return i.agStackComponents?i.agStackComponents:[]});return t=t.concat(n),t},r.prototype.createBeansList=function(e,t,n){e===void 0&&(e="clientSide");var i=t.filter(function(u){return!u.rowModel||u.rowModel===e}),o={clientSide:Ae.ClientSideRowModelModule,infinite:Ae.InfiniteRowModelModule,serverSide:Ae.ServerSideRowModelModule,viewport:Ae.ViewportRowModelModule};if(!o[e]){console.error("AG Grid: could not find row model for rowModelType = "+e);return}if(nt.__assertRegistered(o[e],"rowModelType = '"+e+"'",n)){var s=[PH,aae,lae,uae,u9e,Xoe,Koe,g9e,v9e,Tse,qoe,T9e,bse,fae,V2e,xse,Qoe,Nie,Ku,pae,Use,z6e,Zoe,Mie,Sse,Fse,Dse,Jse,Die,Zse,qse,lse,iae,Xse,eae,Lie,Ose,Rse,Hr,Qse,Ah,ase,oae,Yse,Ase,Mse,sse,rae,o9e,a9e,sae,T2e,p9e,Pse,H9e,Gie,B9e,j9e,Ise,cae,dae,e7e,n7e,q9e,gae,mae,Joe],a=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});s.push.apply(s,uK([],lK(a)));var l=[];return s.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},r.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],uK([],lK(e.map(t))))},r.prototype.setColumnsAndData=function(e){var t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},r.prototype.dispatchGridReadyEvent=function(e){var t={type:H.EVENT_GRID_READY};e.eventService.dispatchEvent(t)},r}(),p7e=function(){function r(){}return r.prototype.wrap=function(e,t,n,i){var o=this;n===void 0&&(n=[]);var s=this.createWrapper(e,i);return t.forEach(function(a){o.createMethod(s,a,!0)}),n.forEach(function(a){o.createMethod(s,a,!1)}),s},r.prototype.unwrap=function(e){return e},r.prototype.createMethod=function(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))},r.prototype.createMethodProxy=function(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},r}(),f7e={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},g7e=["chartSettings","chartData","chartFormat"],m7e=["chartUnlink","chartLink","chartDownload"],v7e={settings:"chartSettings",data:"chartData",format:"chartFormat"},y7e=0,sN;(function(r){r.InsideBase="insideBase",r.InsideEnd="insideEnd",r.Center="center",r.OutsideEnd="outsideEnd"})(sN||(sN={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v30.2.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var bm=typeof global>"u"?{}:global;bm.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;bm.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;bm.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;bm.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;bm.Node=typeof Node>"u"?{}:Node;bm.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Av=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},xv=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},C7e=function(){function r(e,t,n,i,o,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=t,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return r.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")},r.prototype.getCopyOfNodesMap=function(){return et.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(e){return this.allNodesMap[e]},r.prototype.setRowData=function(e){var t=this;if(typeof e=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dispatchRowDataUpdateStartedEvent(e);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?n.allLeafChildren=e.map(function(o){return t.createNode(o,t.rootNode,r.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)},r.prototype.updateRowData=function(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,n,i),this.executeUpdate(e,n,i),this.executeAdd(e,n),this.updateSelection(i,"rowDataChanged"),t&&et.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),n},r.prototype.dispatchRowDataUpdateStartedEvent=function(e){var t={type:H.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:e!=null&&e.length?e[0]:null};this.eventService.dispatchEvent(t)},r.prototype.updateSelection=function(e,t){var n=e.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),n){var i={type:H.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}},r.prototype.executeAdd=function(e,t){var n=this,i,o=e.add,s=e.addIndex;if(!et.missingOrEmpty(o)){var a=o.map(function(g){return n.createNode(g,n.rootNode,r.TOP_LEVEL)});if(typeof s=="number"&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s,d=this.gridOptionsService.is("treeData");if(d&&s>0&&u>0){for(var h=0;h<u;h++)if(((i=l[h])===null||i===void 0?void 0:i.rowIndex)==s-1){c=h+1;break}}var p=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=xv(xv(xv([],Av(p)),Av(a)),Av(f))}else this.rootNode.allLeafChildren=xv(xv([],Av(this.rootNode.allLeafChildren)),Av(a));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),t.add=a}},r.prototype.executeRemove=function(e,t,n){var i=this,o=e.remove;if(!et.missingOrEmpty(o)){var s={};o.forEach(function(a){var l=i.lookupRowNode(a);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),s[l.id]=!0,delete i.allNodesMap[l.id],t.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(e,t,n){var i=this,o=e.update;et.missingOrEmpty(o)||o.forEach(function(s){var a=i.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&n.push(a),i.setMasterForRow(a,s,r.TOP_LEVEL,!1),t.update.push(a))})},r.prototype.lookupRowNode=function(e){var t=this.gridOptionsService.getCallback("getRowId"),n;if(t){var i=t({data:e,level:0});if(n=this.allNodesMap[i],!n)return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===e}),!n)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},r.prototype.createNode=function(e,t,n){var i=new wt(this.beans);return i.group=!1,this.setMasterForRow(i,e,n,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=n,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},r.prototype.setMasterForRow=function(e,t,n,i){var o=this.gridOptionsService.is("treeData");if(o)e.setMaster(!1),i&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),i){var s=this.columnModel.getRowGroupColumns(),a=s?s.length:0,l=n+a;e.expanded=e.master?this.isExpanded(l):!1}},r.prototype.isExpanded=function(e){var t=this.gridOptionsService.getNum("groupDefaultExpanded");return t===-1?!0:e<t},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),w7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),co=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Iv=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},Fv=function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Ja;(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"})(Ja||(Ja={}));var S7e=function(r){w7e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=et.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t}return e.prototype.init=function(){var t=this,n=this.refreshModel.bind(this,{step:qt.EVERYTHING}),i=!this.gridOptionsService.is("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:qt.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,H.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,H.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:qt.PIVOT})),this.addManagedListener(this.eventService,H.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,H.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var s=this.refreshModel.bind(this,{step:qt.MAP,keepRenderedRows:!0,animate:i});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],s);var a=this.refreshModel.bind(this,{step:qt.AGGREGATE,keepRenderedRows:!0,animate:i});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],a),this.rootNode=new wt(this.beans),this.nodeManager=new C7e(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",function(){t.setRowData(t.rootNode.allLeafChildren.map(function(l){return l.data}))})},e.prototype.start=function(){var t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,n,i,o){var s,a=!1;do{s=!1;for(var l=this.getRowIndexAtPixel(t),u=this.getRowIndexAtPixel(n),c=Math.max(l,i),d=Math.min(u,o),h=c;h<=d;h++){var p=this.getRow(h);if(p.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(p);p.setRowHeight(f.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),n=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(a.id!=null&&i.add(a.id),a.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(a,o,t);a.setRowHeight(l.height,l.estimated)}a.setRowTop(n),a.setRowIndex(s),n+=a.rowHeight}return i},e.prototype.clearRowTopAndRowIndex=function(t,n){var i=t.isActive(),o=function(a){a&&a.id!=null&&!n.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){if(o(a),o(a.detailNode),o(a.sibling),a.hasChildren()&&a.childrenAfterGroup){var l=a.level==-1,u=i&&!l&&!a.expanded;u||a.childrenAfterGroup.forEach(s)}};s(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,n,i){var o=this;i===void 0&&(i=0);var s=this.getRowIndexAtPixel(n),a=this.getRow(s),l=!this.gridOptionsService.is("suppressAnimationFrame");return a===t[0]?!1:(t.forEach(function(u){et.removeFromArray(o.rootNode.allLeafChildren,u)}),t.forEach(function(u,c){et.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(s+i,0)+c)}),this.refreshModel({step:qt.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},e.prototype.highlightRowAtPixel=function(t,n){var i=n!=null?this.getRowIndexAtPixel(n):null,o=i!=null?this.getRow(i):null;if(!o||!t||o===t||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o},e.prototype.getHighlightPosition=function(t,n){if(!n){var i=this.getRowIndexAtPixel(t);if(n=this.getRow(i||0),!n)return bl.Below}var o=n.rowTop,s=n.rowHeight;return t-o<s/2?bl.Above:bl.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return t;var i=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},e.prototype.getRowBounds=function(t){if(et.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[t];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:qt.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),i=t.columns.length===0||t.columns.some(function(s){return s.isPrimary()}),o=i?qt.FILTER:qt.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:qt.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:qt.PIVOT}):this.refreshModel({step:qt.AGGREGATE})},e.prototype.createChangePath=function(t){var n=et.missingOrEmpty(t),i=new KA(!1,this.rootNode);return(n||this.gridOptionsService.is("treeData"))&&i.setInactive(),i},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;var n=t.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=n==null||n.length==0;return i},e.prototype.buildRefreshModelParams=function(t){var n=qt.EVERYTHING,i={everything:qt.EVERYTHING,group:qt.EVERYTHING,filter:qt.FILTER,map:qt.MAP,aggregate:qt.AGGREGATE,sort:qt.SORT,pivot:qt.PIVOT};if(et.exists(t)&&(n=i[t]),et.missing(n)){console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(i).join(", "));return}var o=!this.gridOptionsService.is("suppressAnimationFrame"),s={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return s},e.prototype.refreshModel=function(t){var n=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var i=this.createChangePath(n.rowNodeTransactions);switch(n.step){case qt.EVERYTHING:this.doRowGrouping(n.groupState,n.rowNodeTransactions,n.rowNodeOrder,i,!!n.afterColumnsChanged);case qt.FILTER:this.doFilter(i);case qt.PIVOT:this.doPivot(i);case qt.AGGREGATE:this.doAggregate(i);case qt.FILTER_AGGREGATES:this.doFilterAggregates(i);case qt.SORT:this.doSort(n.rowNodeTransactions,i);case qt.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o);var s={type:H.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(s)}},e.prototype.isEmpty=function(){var t=et.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return et.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return et.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,n){var i=!n,o=!1,s=[],a=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===n||l===t)&&(o=!0,l.group&&a)){s.push.apply(s,Fv([],Iv(l.allLeafChildren)));return}if(!i){if(l!==n&&l!==t)return;i=!0}var u=!l.group||!a;if(u){s.push(l);return}}}),s},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;var o=et.last(this.rowsToDisplay);if(o.rowTop<=t)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var l=Math.floor((n+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,t))return l;u.rowTop<t?n=l+1:u.rowTop>t&&(i=l-1);var c=s===n&&a===i;if(c)return l;s=n,a=i}},e.prototype.isRowInPixel=function(t,n){var i=t.rowTop,o=t.rowTop+t.rowHeight,s=i<=n&&o>n;return s},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return t(n,i)})},e.prototype.forEachNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Fv([],Iv(this.rootNode.childrenAfterGroup||[])),callback:t,recursionType:Ja.Normal,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilter=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Fv([],Iv(this.rootNode.childrenAfterAggFilter||[])),callback:t,recursionType:Ja.AfterFilter,index:0,includeFooterNodes:n})},e.prototype.forEachNodeAfterFilterAndSort=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Fv([],Iv(this.rootNode.childrenAfterSort||[])),callback:t,recursionType:Ja.AfterFilterAndSort,index:0,includeFooterNodes:n})},e.prototype.forEachPivotNode=function(t,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:Ja.PivotNodes,index:0,includeFooterNodes:n})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var n,i=t.nodes,o=t.callback,s=t.recursionType,a=t.includeFooterNodes,l=t.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(s){case Ja.Normal:d=c.childrenAfterGroup;break;case Ja.AfterFilter:d=c.childrenAfterAggFilter;break;case Ja.AfterFilterAndSort:d=c.childrenAfterSort;break;case Ja.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Fv([],Iv(d)),callback:o,recursionType:s,index:l,includeFooterNodes:a}))}}var h=(n=i[0])===null||n===void 0?void 0:n.parent;if(!a||!h)return l;var p=h===this.rootNode;if(p){var f=this.gridOptionsService.is("groupIncludeTotalFooter");if(!f)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:h}))return l}return h.createFooter(),o(h.sibling,l++),l},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var n=this.gridOptionsService.is("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=t,o(u.childrenAfterGroup)};if(n){var d=et.exists(u.childrenAfterGroup);d&&c();return}if(i){var h=!u.leafGroup;h&&c();return}var p=u.group;p&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:qt.MAP});var s=t?"expandAll":"collapseAll",a={type:H.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(a)},e.prototype.doSort=function(t,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:n})},e.prototype.doRowGrouping=function(t,n,i,o,s){if(this.groupStage){if(n?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:n,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:s}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o);if(a){var l={type:H.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(l)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},e.prototype.restoreGroupState=function(t){t&&et.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){typeof t[i]=="boolean"&&(n.expanded=t[i])})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var t={};return et.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(n,i){return t[i]=n.expanded}),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){var n=typeof t=="string"&&t.indexOf(wt.ID_PREFIX_ROW_GROUP)==0;if(n){var i=void 0;return this.forEachNode(function(o){o.id===t&&(i=o)}),i}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var n=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var i={type:H.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(i),this.refreshModel({step:qt.EVERYTHING,groupState:n,newData:!0})},e.prototype.batchUpdateRowData=function(t,n){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:n})},e.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var n=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var l=t.nodeManager.updateRowData(a.rowDataTransaction,void 0);i.push(l),a.callback&&n.push(a.callback.bind(null,l)),typeof a.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(a){return a()})},0),i.length>0){var s={type:H.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(t,n),o=typeof t.addIndex=="number";return this.commonUpdateRowData([i],n,o),i},e.prototype.createRowNodeOrder=function(){var t=this.gridOptionsService.is("suppressMaintainUnsortedOrder");if(!t){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];n[o.id]=i}return n}},e.prototype.commonUpdateRowData=function(t,n,i){var o=!this.gridOptionsService.is("suppressAnimationFrame");i&&(n=this.createRowNodeOrder()),this.refreshModel({step:qt.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var s={type:H.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:qt.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),t=!0}),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},co([G("columnModel")],e.prototype,"columnModel",void 0),co([G("selectionService")],e.prototype,"selectionService",void 0),co([G("filterManager")],e.prototype,"filterManager",void 0),co([G("valueCache")],e.prototype,"valueCache",void 0),co([G("beans")],e.prototype,"beans",void 0),co([G("filterStage")],e.prototype,"filterStage",void 0),co([G("sortStage")],e.prototype,"sortStage",void 0),co([G("flattenStage")],e.prototype,"flattenStage",void 0),co([jt("groupStage")],e.prototype,"groupStage",void 0),co([jt("aggregationStage")],e.prototype,"aggregationStage",void 0),co([jt("pivotStage")],e.prototype,"pivotStage",void 0),co([jt("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),co([ge],e.prototype,"init",null),e=co([De("rowModel")],e),e}(fe),E7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),cK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_7e=function(r){E7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.changedPath;this.filterService.filter(n)},cK([G("filterService")],e.prototype,"filterService",void 0),e=cK([De("filterStage")],e),e}(fe),b7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},R7e=function(r){b7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=this,i=this.sortController.getSortOptions(),o=et.exists(i)&&i.length>0,s=o&&et.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),a=i.some(function(l){var u=n.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,s,t.rowNodeTransactions,t.changedPath,a)},KE([G("sortService")],e.prototype,"sortService",void 0),KE([G("sortController")],e.prototype,"sortController",void 0),KE([G("columnModel")],e.prototype,"columnModel",void 0),e=KE([De("sortStage")],e),e}(fe),T7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),DF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},P7e=function(r){T7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(t){var n=t.rowNode,i=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,a=s?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,a,i,o,0);var u=i.length>0,c=!s&&u&&l.groupIncludeTotalFooter;return c&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,i,0)),i},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.is("groupRemoveSingleChildren"),n=!t&&this.gridOptionsService.is("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,n,i,o,s){if(!et.missingOrEmpty(n))for(var a=0;a<n.length;a++){var l=n[a],u=l.hasChildren(),c=o&&!u,d=t.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,h=t.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,p=o&&l.leafGroup,f=t.hideOpenParents&&l.expanded&&!l.master&&!p,g=!c&&!f&&!d&&!h;if(g&&this.addRowNodeToRowsToDisplay(t,l,i,s),!(o&&l.leafGroup)){if(u){var v=d||h;if(l.expanded||v){var y=v?s:s+1;this.recursivelyAddToRowsToDisplay(t,l.childrenAfterSort,i,o,y);var C=t.getGroupIncludeFooter({node:l});C?(l.createFooter(),this.addRowNodeToRowsToDisplay(t,l.sibling,i,y)):l.destroyFooter()}}else if(l.master&&l.expanded){var w=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(t,w,i,s)}}}},e.prototype.addRowNodeToRowsToDisplay=function(t,n,i,o){i.push(n),n.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(et.exists(t.detailNode))return t.detailNode;var n=new wt(this.beans);return n.detail=!0,n.selectable=!1,n.parent=t,et.exists(t.id)&&(n.id="detail_"+t.id),n.data=t.data,n.level=t.level+1,t.detailNode=n,n},DF([G("columnModel")],e.prototype,"columnModel",void 0),DF([G("beans")],e.prototype,"beans",void 0),e=DF([De("flattenStage")],e),e}(fe),O7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),YE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},D7e=function(r){O7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")},e.prototype.sort=function(t,n,i,o,s,a){var l=this,u=this.gridOptionsService.is("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(f){return f.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var h=this.columnModel.isPivotMode(),p=function(f){l.pullDownGroupDataForHideOpenParents(f.childrenAfterAggFilter,!0);var g=h&&f.leafGroup,v=u&&c&&!f.leafGroup&&!a;if(v){var y=f.childrenAfterAggFilter.slice(0);if(f.childrenAfterSort){var C={};f.childrenAfterSort.forEach(function(S,P){C[S.id]=P}),y.sort(function(S,P){var F,_;return((F=C[S.id])!==null&&F!==void 0?F:0)-((_=C[P.id])!==null&&_!==void 0?_:0)})}f.childrenAfterSort=y}else!n||g?f.childrenAfterSort=f.childrenAfterAggFilter.slice(0):i?f.childrenAfterSort=l.doDeltaSort(f,d,s,t):f.childrenAfterSort=l.rowNodeSorter.doFullSort(f.childrenAfterAggFilter,t);if(f.sibling&&(f.sibling.childrenAfterSort=f.childrenAfterSort),l.updateChildIndexes(f),l.postSortFunc){var w={nodes:f.childrenAfterSort};l.postSortFunc(w)}};s&&s.forEachChangedNodeDepthFirst(p),this.updateGroupDataForHideOpenParents(s)},e.prototype.calculateDirtyNodes=function(t){var n={},i=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return t&&t.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),n},e.prototype.doDeltaSort=function(t,n,i,o){var s=this,a=t.childrenAfterAggFilter,l=t.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(a,o);var u={},c=[];a.forEach(function(f){n[f.id]||!i.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),h=function(f,g){return{currentPos:g,rowNode:f}},p=c.map(h).sort(function(f,g){return s.rowNodeSorter.compareRowNodes(o,f,g)});return this.mergeSortedArrays(o,p,d.map(h)).map(function(f){var g=f.rowNode;return g})},e.prototype.mergeSortedArrays=function(t,n,i){for(var o=[],s=0,a=0;s<n.length&&a<i.length;){var l=this.rowNodeSorter.compareRowNodes(t,n[s],i[a]);l<0?o.push(n[s++]):o.push(i[a++])}for(;s<n.length;)o.push(n[s++]);for(;a<i.length;)o.push(i[a++]);return o},e.prototype.updateChildIndexes=function(t){if(!et.missing(t.childrenAfterSort))for(var n=t.childrenAfterSort,i=0;i<n.length;i++){var o=n[i],s=i===0,a=i===t.childrenAfterSort.length-1;o.setFirstChild(s),o.setLastChild(a),o.setChildIndex(i)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var n=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.is("treeData")){var i="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return et.doOnce(function(){return console.warn(i)},"sortService.hideOpenParentsWithTreeData"),!1}var o=function(s){n.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(function(a){a.hasChildren()&&o(a)})};t&&t.executeFromRootNode(function(s){return o(s)})}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,n){var i=this;!this.gridOptionsService.is("groupHideOpenParents")||et.missing(t)||t.forEach(function(o){var s=i.columnModel.getGroupDisplayColumns();s.forEach(function(a){var l=a.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(a.getId(),void 0);else{var h=o.getFirstChildOfFirstChild(c);h&&o.setGroupValue(a.getId(),h.key)}})})},YE([G("columnModel")],e.prototype,"columnModel",void 0),YE([G("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),YE([ge],e.prototype,"init",null),e=YE([De("sortService")],e),e}(fe),A7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),dK=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},x7e=function(r){A7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(t){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,t)},e.prototype.filterNodes=function(t,n){var i=this,o=function(u,c){u.hasChildren()&&t&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var h=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,p=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return h||p}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var h=u.childrenAfterGroup[d],p=c||i.filterManager.doesRowPassFilter({rowNode:h});h.childrenAfterGroup?s(u.childrenAfterGroup[d],p):o(h,p)}o(u,c)},a=function(u){return s(u,!1)};n.executeFromRootNode(a)}else{var l=function(u){return o(u,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},dK([G("filterManager")],e.prototype,"filterManager",void 0),e=dK([De("filterService")],e),e}(fe),I7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},F7e=function(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o},M7e=function(r){I7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.is("resetRowDataOnUpdate");return n?!1:t},e.prototype.setRowData=function(t){var n=this.createTransactionForRowData(t);if(n){var i=F7e(n,2),o=i[0],s=i[1];this.clientSideRowModel.updateRowData(o,s)}},e.prototype.createTransactionForRowData=function(t){if(et.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),s=this.gridOptionsService.is("suppressMaintainUnsortedOrder"),a=s?void 0:{};return et.exists(t)&&t.forEach(function(l,u){var c=n({data:l,level:0}),d=o[c];if(a&&(a[c]=u),d){var h=d.data!==l;h&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),et.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,a]},qE([G("rowModel")],e.prototype,"rowModel",void 0),qE([G("rowRenderer")],e.prototype,"rowRenderer",void 0),qE([ge],e.prototype,"postConstruct",null),e=qE([De("immutableService")],e),e}(fe),L7e="30.2.1",yae={version:L7e,moduleName:Ae.ClientSideRowModelModule,rowModel:"clientSide",beans:[S7e,_7e,R7e,P7e,D7e,x7e,M7e]},N7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AF=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hK=function(r){N7e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parentCache=n,o.params=i,o.startRow=t*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,n,i){et.exists(n)?t.setDataAndId(n,i.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,n=this.createLoadParams();if(et.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){t.params.datasource.getRows(n)},0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){var t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return t},e.prototype.forEachNode=function(t,n,i){var o=this;this.rowNodes.forEach(function(s,a){var l=o.startRow+a;l<i&&t(s,n.next())})},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=t-this.startRow;return this.rowNodes[i]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var n=this.startRow+t,i=new wt(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},e.prototype.processServerResult=function(t){var n=this;this.rowNodes.forEach(function(o,s){var a=t.rowData?t.rowData[s]:void 0;!o.id&&o.alreadyRendered&&a&&(n.rowNodes[s]=new wt(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],a,n.startRow+s)});var i=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,i)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(t){t.clearRowTopAndRowIndex()})},AF([G("beans")],e.prototype,"beans",void 0),AF([ge],e.prototype,"postConstruct",null),AF([Ur],e.prototype,"destroyRowNodes",null),e}(TP),G7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QE=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},V7e=function(r,e){return function(t,n){e(t,n,r)}},H7e=function(r){G7e(e,r);function e(t){var n=r.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=t.initialRowCount,n.params=t,n}return e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,n){n===void 0&&(n=!1);var i=Math.floor(t/this.params.blockSize),o=this.blocks[i];if(!o){if(n)return;o=this.createBlock(i)}return o.getRow(t)},e.prototype.createBlock=function(t){var n=this.createBean(new hK(t,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},e.prototype.refreshCache=function(){var t=this.blockCount==0;if(t){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.destroyBlock(n)})},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+n),this.checkRowCount(t,n),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,i=this.getBlocksInOrder().filter(function(u){return u!=t}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,l=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===hK.STATE_WAITING_TO_LOAD&&c>=l,h=s?c>=a:!1;if(d||h){if(n.isBlockCurrentlyDisplayed(u)||n.isBlockFocused(u))return;n.removeBlockFromCache(u)}})},e.prototype.isBlockFocused=function(t){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var i=t.getStartRow(),o=t.getEndRow(),s=n.rowIndex>=i&&n.rowIndex<o;return s},e.prototype.isBlockCurrentlyDisplayed=function(t){var n=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(t.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},e.prototype.setRowCount=function(t,n){this.rowCount=t,et.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var n=this,i=new rp;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(t,i,n.rowCount)})},e.prototype.getBlocksInOrder=function(){var t=function(i,o){return i.getId()-o.getId()},n=et.getAllValuesInObject(this.blocks).sort(t);return n},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:H.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,n=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*t.params.blockSize;o>=t.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return t.destroyBlock(i)})},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach(function(n){return t.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,n){var i=this,o=[],s=-1,a=!1,l=new rp;et.missing(t)&&(a=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(a&&s+1!==d.getId()){u=!0;return}s=d.getId(),d.forEachNode(function(h){var p=h===t||h===n;(a||p)&&o.push(h),p&&(a=!a)},l,i.rowCount)}});var c=u||a;return c?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,QE([G("rowRenderer")],e.prototype,"rowRenderer",void 0),QE([G("focusService")],e.prototype,"focusService",void 0),QE([V7e(0,pi("loggerFactory"))],e.prototype,"setBeans",null),QE([Ur],e.prototype,"destroyAllBlocks",null),e}(fe),k7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),hc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},$7e=function(r){k7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,n,i,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return t.destroyCache()}),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")){var t="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";et.doOnce(function(){return console.warn(t)},"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,H.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,H.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,H.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){var t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()},e.prototype.isSortModelDifferent=function(){return!et.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,n):[]},e.prototype.reset=function(){if(this.datasource){var t=this.gridOptionsService.getCallback("getRowId"),n=t!=null;n||this.selectionService.reset(),this.resetCache();var i=this.createModelUpdatedEvent();this.eventService.dispatchEvent(i)}},e.prototype.createModelUpdatedEvent=function(){return{type:H.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new rp},this.infiniteCache=this.createBean(new H7e(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,n){return t>0?t:n},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var n;return this.forEachNode(function(i){i.id===t&&(n=i)}),n},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(this.rowHeight!==0){var n=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){var n=this.getRowNode(t.id);return!!n},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},e.prototype.setRowCount=function(t,n){this.infiniteCache&&this.infiniteCache.setRowCount(t,n)},hc([G("filterManager")],e.prototype,"filterManager",void 0),hc([G("sortController")],e.prototype,"sortController",void 0),hc([G("selectionService")],e.prototype,"selectionService",void 0),hc([G("rowRenderer")],e.prototype,"rowRenderer",void 0),hc([G("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),hc([ge],e.prototype,"init",null),hc([Ur],e.prototype,"destroyDatasource",null),e=hc([De("rowModel")],e),e}(fe),B7e="30.2.1",Cae={version:B7e,moduleName:Ae.InfiniteRowModelModule,rowModel:"infinite",beans:[$7e]},wae=function(){function r(){}return r.prototype.setBeans=function(e){this.beans=e},r.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?e+"."+t:e},r.prototype.getData=function(e){var t=this.createSerializingSession(e),n=this.beans.gridSerializer.serialize(t,e);return n},r}(),Sae=function(){function r(e){this.groupColumns=[];var t=e.columnModel,n=e.valueService,i=e.gridOptionsService,o=e.valueFormatterService,s=e.valueParserService,a=e.processCellCallback,l=e.processHeaderCallback,u=e.processGroupHeaderCallback,c=e.processRowGroupCallback;this.columnModel=t,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return r.prototype.prepare=function(e){this.groupColumns=e.filter(function(t){return!!t.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return t??""},r.prototype.extractRowCellValue=function(e,t,n,i,o){var s=this.gridOptionsService.is("groupHideOpenParents"),a=(!s||o.footer)&&this.shouldRenderGroupSummaryCell(o,e,t)?this.createValueForGroupNode(o):this.valueService.getValue(e,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:e,value:a,processCellCallback:this.processCellCallback,type:i});return l},r.prototype.shouldRenderGroupSummaryCell=function(e,t,n){var i,o=e&&e.group;if(!o)return!1;var s=this.groupColumns.indexOf(t);if(s!==-1){if(((i=e.groupData)===null||i===void 0?void 0:i[t.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){var a=t.getColDef(),l=a==null||a.showRowGroup===!0;return l||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&u},r.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},r.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var t=e.footer,n=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,n.push(e.key);var i=n.reverse().join(" -> ");return t?"Total "+i:i},r.prototype.processCell=function(e){var t=this,n,i=e.accumulatedRowIndex,o=e.rowNode,s=e.column,a=e.value,l=e.processCellCallback,u=e.type;return l?{value:(n=l({accumulatedRowIndex:i,column:s,node:o,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:u,parseValue:function(c){return t.valueParserService.parseValue(s,o,c,t.valueService.getValue(s,o))},formatValue:function(c){var d;return(d=t.valueFormatterService.formatValue(s,o,c))!==null&&d!==void 0?d:c}}))!==null&&n!==void 0?n:""}:s.getColDef().useValueFormatterForExport?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,o,a)}:{value:a??""}},r}(),Eae=function(){function r(){}return r.download=function(e,t){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=n.URL.createObjectURL(t);i.setAttribute("href",o),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},r}(),j7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pK=`\r
`,W7e=function(r){j7e(e,r);function e(t){var n=r.call(this,t)||this;n.isFirstLine=!0,n.result="";var i=t.suppressQuotes,o=t.columnSeparator;return n.suppressQuotes=i,n.columnSeparator=o,n}return e.prototype.addCustomContent=function(t){var n=this;t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,pK),this.result+=t):t.forEach(function(i){n.beginNewLine(),i.forEach(function(o,s){s!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,n,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var n=1;n<=t;n++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,n,i){var o;n!=0&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(t,n,n,"csv",i);this.result+=this.putInQuotes((o=s.valueFormatted)!==null&&o!==void 0?o:s.value)},e.prototype.putInQuotes=function(t){if(this.suppressQuotes)return t;if(t==null)return'""';var n;typeof t=="string"?n=t:typeof t.toString=="function"?n=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var i=n.replace(/"/g,'""');return'"'+i+'"'},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=pK),this.isFirstLine=!1},e}(Sae),U7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_ae=function(r){U7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(t),i=this.getData(n),o=new Blob(["\uFEFF",i],{type:"text/plain"});return Eae.download(this.getFileName(n.fileName),o),i},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,n){n===void 0&&(n=!1);var i=n?Object.assign({},t):this.getMergedParams(t);return this.getData(i)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var n=this,i=n.columnModel,o=n.valueService,s=n.gridOptionsService,a=n.valueFormatterService,l=n.valueParserService,u=t,c=u.processCellCallback,d=u.processHeaderCallback,h=u.processGroupHeaderCallback,p=u.processRowGroupCallback,f=u.suppressQuotes,g=u.columnSeparator;return new W7e({columnModel:i,valueService:o,gridOptionsService:s,valueFormatterService:a,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:h||void 0,processRowGroupCallback:p||void 0,suppressQuotes:f||!1,columnSeparator:g||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},pc([G("columnModel")],e.prototype,"columnModel",void 0),pc([G("valueService")],e.prototype,"valueService",void 0),pc([G("gridSerializer")],e.prototype,"gridSerializer",void 0),pc([G("gridOptionsService")],e.prototype,"gridOptionsService",void 0),pc([G("valueFormatterService")],e.prototype,"valueFormatterService",void 0),pc([G("valueParserService")],e.prototype,"valueParserService",void 0),pc([ge],e.prototype,"postConstruct",null),e=pc([De("csvCreator")],e),e}(wae),z7e=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),fc=function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},aN;(function(r){r[r.HEADER_GROUPING=0]="HEADER_GROUPING",r[r.HEADER=1]="HEADER",r[r.BODY=2]="BODY"})(aN||(aN={}));var bae=function(r){z7e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.serialize=function(t,n){n===void 0&&(n={});var i=this.getColumnsToExport(n.allColumns,n.columnKeys),o=et.compose(this.prepareSession(i),this.prependContent(n),this.exportColumnGroups(n,i),this.exportHeaders(n,i),this.processPinnedTopRows(n,i),this.processRows(n,i),this.processPinnedBottomRows(n,i),this.appendContent(n));return o(t).parse()},e.prototype.processRow=function(t,n,i,o){var s=n.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.context,l=this.gridOptionsService.api,u=this.gridOptionsService.columnApi,c=this.gridOptionsService.is("groupRemoveSingleChildren"),d=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),h=n.rowPositions!=null,p=h||!!n.onlySelected,f=this.gridOptionsService.is("groupHideOpenParents")&&!p,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,v=!!o.footer,y=n.skipGroups||n.skipRowGroups,C=d&&o.leafGroup,w=o.allChildrenCount===1&&(c||C);if(y&&n.skipGroups&&et.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!g&&!v&&(n.skipRowGroups||w||f)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var S=o.level===-1;if(!(S&&!g&&!v)){var P=s({node:o,api:l,columnApi:u,context:a});if(!P){var F=t.onNewBodyRow(o);if(i.forEach(function(E,T){F.onColumn(E,T,o)}),n.getCustomContentBelowRow){var _=n.getCustomContentBelowRow({node:o,api:l,columnApi:u,context:a});_&&t.addCustomContent(_)}}}}},e.prototype.appendContent=function(t){return function(n){var i=t.customFooter||t.appendContent;return i&&(t.customFooter&&et.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),n.addCustomContent(i)),n}},e.prototype.prependContent=function(t){return function(n){var i=t.customHeader||t.prependContent;return i&&(t.customHeader&&et.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),n.addCustomContent(i)),n}},e.prototype.prepareSession=function(t){return function(n){return n.prepare(t),n}},e.prototype.exportColumnGroups=function(t,n){var i=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&et.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var s=new z1,a=i.displayedGroupCreator.createDisplayedGroups(n,s,null);i.recursivelyAddHeaderGroups(a,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,n){return function(i){if(!t.skipHeader&&!t.skipColumnHeaders){var o=i.onNewHeaderRow();n.forEach(function(s,a){o.onColumn(s,a,void 0)})}else t.skipHeader&&et.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");return i}},e.prototype.processPinnedTopRows=function(t,n){var i=this;return function(o){var s=i.processRow.bind(i,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="top"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedTopRow(s),o}},e.prototype.processRows=function(t,n){var i=this;return function(o){var s=i.rowModel,a=s.getType(),l=a==="clientSide",u=a==="serverSide",c=!l&&t.onlySelected,d=i.processRow.bind(i,o,t,n),h=t.exportedRows,p=h===void 0?"filteredAndSorted":h;if(t.rowPositions)t.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,v){return g.rowIndex-v.rowIndex}).map(function(g){return s.getRow(g.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?s.forEachPivotNode(d,!0):u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);else if(t.onlySelectedAllPages||c){var f=i.selectionService.getSelectedNodes();i.replicateSortedOrder(f),f.forEach(d)}else p==="all"?s.forEachNode(d):l||u?s.forEachNodeAfterFilterAndSort(d,!0):s.forEachNode(d);return o}},e.prototype.replicateSortedOrder=function(t){var n=this,i=this.sortController.getSortOptions(),o=function(s,a){var l,u,c,d;return s.rowIndex!=null&&a.rowIndex!=null?s.rowIndex-a.rowIndex:s.level===a.level?((l=s.parent)===null||l===void 0?void 0:l.id)===((u=a.parent)===null||u===void 0?void 0:u.id)?n.rowNodeSorter.compareRowNodes(i,{rowNode:s,currentPos:(c=s.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:a,currentPos:(d=a.rowIndex)!==null&&d!==void 0?d:-1}):o(s.parent,a.parent):s.level>a.level?o(s.parent,a):o(s,a.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,n){var i=this;return function(o){var s=i.processRow.bind(i,o,t,n);return t.rowPositions?t.rowPositions.filter(function(a){return a.rowPinned==="bottom"}).sort(function(a,l){return a.rowIndex-l.rowIndex}).map(function(a){return i.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedBottomRow(s),o}},e.prototype.getColumnsToExport=function(t,n){t===void 0&&(t=!1);var i=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getGridColumns(n);if(t&&!i){var o=this.gridOptionsService.is("treeData")?this.columnModel.getGridColumns([tp]):[];return o.concat(this.columnModel.getAllGridColumns()||[])}return this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,n,i){var o=[];t.forEach(function(s){var a=s;a.getChildren&&a.getChildren().forEach(function(l){return o.push(l)})}),t.length>0&&t[0]instanceof Qr&&this.doAddHeaderHeader(n,t,i),o.length>0&&this.recursivelyAddHeaderGroups(o,n,i)},e.prototype.doAddHeaderHeader=function(t,n,i){var o=this,s=t.onNewHeaderGroupingRow(),a=0;n.forEach(function(l){var u=l,c;i?c=i({columnGroup:u,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(h,p,f,g){var v=et.last(h),y=p.getColumnGroupShow()==="open";return y?(!v||v[1]!=null)&&(v=[f],h.push(v)):v&&v[1]==null&&(v[1]=f-1),f===g.length-1&&v&&v[1]==null&&(v[1]=f),h},[]);s.onColumn(u,c||"",a++,u.getLeafColumns().length-1,d)})},fc([G("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),fc([G("columnModel")],e.prototype,"columnModel",void 0),fc([G("rowModel")],e.prototype,"rowModel",void 0),fc([G("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),fc([G("selectionService")],e.prototype,"selectionService",void 0),fc([G("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),fc([G("sortController")],e.prototype,"sortController",void 0),e=fc([De("gridSerializer")],e),e}(fe),K7e="30.2.1",Rae={version:K7e,moduleName:Ae.CsvExportModule,beans:[_ae,bae]},XE=`\r
`,Y7e=function(){function r(){}return r.createHeader=function(e){e===void 0&&(e={});var t="<?",n="?>",i=["version"];e.version||(e.version="1.0"),e.encoding&&i.push("encoding"),e.standalone&&i.push("standalone");var o=i.map(function(s){return s+'="'+e[s]+'"'}).join(" ");return t+"xml "+o+" "+n},r.createXml=function(e,t){var n=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){i+=n.returnAttributeIfPopulated(s.prefix+a,s.map[a],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(function(s){i+=n.returnAttributeIfPopulated(s,e.properties.rawMap[s],t)}));var o="<"+e.name+i;return!e.children&&e.textNode==null?o+"/>"+XE:e.textNode!=null?o+">"+e.textNode+"</"+e.name+">"+XE:(o+=">"+XE,e.children&&e.children.forEach(function(s){o+=n.createXml(s,t)}),o+"</"+e.name+">"+XE)},r.returnAttributeIfPopulated=function(e,t,n){if(!t&&t!==""&&t!==0)return"";var i=t;return typeof t=="boolean"&&n&&(i=n(t))," "+e+'="'+i+'"'},r}(),q7e=function(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Q7e=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),X7e=function(){function r(){}return r.addFolders=function(e){e.forEach(this.addFolder.bind(this))},r.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},r.addFile=function(e,t,n){n===void 0&&(n=!1),this.files.push({path:e,created:new Date,content:t,isBase64:n})},r.getContent=function(e){e===void 0&&(e="application/zip");var t=this.buildFileStream(),n=this.buildUint8Array(t);return this.clearStream(),new Blob([n],{type:e})},r.clearStream=function(){this.folders=[],this.files=[]},r.buildFileStream=function(e){var t,n;e===void 0&&(e="");var i=this.folders.concat(this.files),o=i.length,s="",a=0,l=0;try{for(var u=q7e(i),c=u.next();!c.done;c=u.next()){var d=c.value,h=this.getHeader(d,a),p=h.fileHeader,f=h.folderHeader,g=h.content;a+=p.length+g.length,l+=f.length,e+=p+g,s+=f}}catch(y){t={error:y}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var v=this.buildFolderEnd(o,l,a);return e+s+v},r.getHeader=function(e,t){var n=e.content,i=e.path,o=e.created,s=e.isBase64,a=et.utf8_encode,l=et.decToHex,u=a(i),c=u!==i,d=this.convertTime(o),h=this.convertDate(o),p="";if(c){var f=l(1,1)+l(this.getFromCrc32Table(u),4)+u;p="up"+l(f.length,2)+f}var g=n?this.getConvertedContent(n,s):{size:0,content:""},v=g.size,y=g.content,C=`
\0`+(c?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(h,2)+l(v?this.getFromCrc32Table(y):0,4)+l(v,4)+l(v,4)+l(u.length,2)+l(p.length,2),w="PK"+C+u+p,S="PK\0"+C+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+l(t,4)+u+p;return{fileHeader:w,folderHeader:S,content:y||""}},r.getConvertedContent=function(e,t){return t===void 0&&(t=!1),t&&(e=e.split(";base64,")[1]),e=t?atob(e):e,{size:e.length,content:e}},r.buildFolderEnd=function(e,t,n){var i=et.decToHex;return"PK\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+"\0\0"},r.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t},r.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);for(var o=-1,s=0,a=0,l=0,i=0;i<t;i++)s=n[i],a=(o^s)&255,l=Q7e[a],o=o>>>8^l;return o^-1},r.convertTime=function(e){var t=e.getHours();return t<<=6,t=t|e.getMinutes(),t<<=5,t=t|e.getSeconds()/2,t},r.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t=t|e.getMonth()+1,t<<=5,t=t|e.getDate(),t},r.folders=[],r.files=[],r}(),Tae=[yae,Cae,Rae];nt.registerModules(Tae);const J7e=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl:fS,AgAbstractField:vH,AgAbstractLabel:mH,AgAutocomplete:zse,AgCheckbox:pS,AgDialog:Wse,AgGroupComponent:$se,AgInputDateField:Gse,AgInputNumberField:kA,AgInputRange:Vse,AgInputTextArea:Nse,AgInputTextField:Dd,AgMenuItemComponent:Sf,AgMenuList:Bse,AgMenuPanel:jse,AgPanel:FH,AgPickerField:yH,AgPromise:ts,get AgPromiseStatus(){return hh},AgRadioButton:CH,AgRichSelect:Hse,AgSelect:HA,AgSlider:kse,AgStackComponentsRegistry:Gie,AgToggleButton:Lse,AlignedGridsService:qse,AllCommunityModules:Tae,AnimateShowChangeCellRenderer:Voe,AnimateSlideCellRenderer:Hoe,AnimationFrameService:Pse,AutoScrollService:bH,AutoWidthCalculator:Ose,Autowired:G,get BarColumnLabelPlacement(){return sN},BaseComponentWrapper:p7e,BaseCreator:wae,BaseGridSerializingSession:Sae,Bean:De,BeanStub:fe,Beans:PH,BodyDropPivotTarget:hse,BodyDropTarget:fse,CHART_TOOLBAR_ALLOW_LIST:m7e,CHART_TOOL_PANEL_ALLOW_LIST:g7e,CHART_TOOL_PANEL_MENU_OPTIONS:v7e,CellComp:cse,CellCtrl:qc,CellNavigationService:Yse,CellPositionUtils:lae,get CellRangeType(){return fh},ChangedPath:KA,CheckboxCellEditor:zoe,CheckboxCellRenderer:Uoe,CheckboxSelectionComponent:_H,ClientSideRowModelModule:yae,get ClientSideRowModelSteps(){return qt},ColDefUtil:Iie,Column:pn,ColumnApi:Qse,ColumnFactory:Die,ColumnGroup:Qr,ColumnKeyCreator:lie,ColumnModel:Mie,ColumnUtils:Lie,Component:gt,ComponentUtil:by,Context:vie,CssClassApplier:AH,CssClassManager:yoe,CsvCreator:_ae,CsvExportModule:Rae,CtrlsService:dae,CustomTooltipFeature:VA,DEFAULT_CHART_GROUPS:f7e,DataTypeService:gae,DateCellEditor:joe,DateFilter:SH,DateStringCellEditor:Woe,DisplayedGroupCreator:Nie,Downloader:Eae,DragAndDropService:Hr,DragService:Qoe,get DragSourceType(){return $i},Environment:oae,EventService:Ku,Events:H,get ExcelFactoryMode(){return RC},ExpressionService:Jse,FilterManager:Zoe,FloatingFilterMapper:Yoe,FocusService:Ah,GROUP_AUTO_COLUMN_ID:tp,Grid:d7e,GridApi:Xoe,GridBodyComp:ose,GridBodyCtrl:nse,GridComp:nae,GridCoreCreator:vae,GridCtrl:tae,GridHeaderComp:_se,GridHeaderCtrl:Ese,GridOptionsService:pae,GridSerializer:bae,GroupCellRenderer:eN,GroupCellRendererCtrl:$oe,GroupInstanceIdCreator:z1,HeaderCellCtrl:yse,HeaderFilterCellComp:ese,HeaderFilterCellCtrl:mse,HeaderGroupCellCtrl:Cse,get HeaderNavigationDirection(){return sa},HeaderNavigationService:Sse,HeaderPositionUtils:uae,HeaderRowComp:gse,HeaderRowContainerComp:J_,HeaderRowContainerCtrl:wse,HeaderRowCtrl:X_,get HeaderRowType(){return Xr},get HorizontalDirection(){return oa},HorizontalResizeService:bse,InfiniteRowModelModule:Cae,KeyCode:ee,LargeTextCellEditor:Noe,get LayoutCssClasses(){return pr},LocaleService:fae,Logger:xP,LoggerFactory:eae,ManagedFocusFeature:qu,get ModuleNames(){return Ae},ModuleRegistry:nt,MouseEventService:ase,MoveColumnFeature:pse,NavigationService:lse,NumberCellEditor:Boe,NumberFilter:EH,NumberSequence:rp,Optional:jt,PaginationProxy:Fse,PinnedRowModel:xse,PopupComponent:Ad,PopupEditorWrapper:use,PopupService:Use,PositionableFeature:gH,PostConstruct:ge,PreConstruct:HL,PreDestroy:Ur,PropertyKeys:Qa,ProvidedColumnGroup:or,ProvidedFilter:bC,Qualifier:pi,QuerySelector:I3e,RefSelector:ye,ResizeObserverService:Tse,get RowAnimationCssClasses(){return op},RowContainerComp:dse,RowContainerCtrl:DH,get RowContainerName(){return te},get RowContainerType(){return Pr},RowCtrl:Qc,get RowHighlightPosition(){return bl},RowNode:wt,RowNodeBlock:TP,RowNodeBlockLoader:Ise,RowNodeSorter:cae,RowPositionUtils:aae,RowRenderer:Dse,get RowType(){return aN},ScalarFilter:Gr,ScrollVisibleService:sse,SelectCellEditor:Goe,SelectableService:sae,get SelectionHandleType(){return TC},get ServerSideTransactionResultStatus(){return iN},SetLeftFeature:zA,SimpleFilter:kn,SortController:rae,SortIndicatorComp:BA,StandardMenuFactory:Rse,StylingService:Mse,get TabGuardClassNames(){return Dh},TabGuardComp:gS,TabGuardCtrl:vse,TabbedLayout:G4e,TemplateService:Zse,TextCellEditor:ZL,TextFilter:$A,TextFloatingFilter:Loe,Timer:O3e,TooltipFeature:UA,TouchListener:_o,UserComponentFactory:qoe,UserComponentRegistry:Koe,ValueCache:iae,ValueFormatterService:Ase,ValueParserService:mae,ValueService:Xse,VanillaFrameworkOverrides:Kse,get VerticalDirection(){return ip},VirtualList:IH,VirtualListDragFeature:_5e,XmlFactory:Y7e,ZipContainer:X7e,_:et,__FORCE_MODULE_DETECTION:y7e,getRowContainerTypeForName:ise,simpleHttpRequest:V4e},Symbol.toStringTag,{value:"Module"})),zr=jce(J7e);var YA={},mS={},Z7e=q&&q.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mS,"__esModule",{value:!0});mS.ReactComponent=void 0;var e8e=function(){function r(){}return r}(),t8e=function(r){Z7e(e,r);function e(t,n,i){var o=r.call(this)||this;return o.portal=null,o.reactComponent=t,o.portalManager=n,o.componentType=i,o.statelessComponent=o.isStateless(o.reactComponent),o}return e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},e.prototype.createParentElement=function(t){var n=this.portalManager.getComponentWrappingElement(),i=document.createElement(n||"div");return i.classList.add("ag-react-container"),t.reactContainer=i,i},e.prototype.addParentContainerStyleAndClasses=function(){var t=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){var n=this.componentInstance.getReactContainerClasses();n.forEach(function(i){return t.eParentElement.classList.add(i)})}},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},e.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},e.prototype.isStateless=function(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()},e.prototype.hasMethod=function(t){var n=this.getFrameworkComponentInstance();return!!n&&n[t]!==null||this.fallbackMethodAvailable(t)},e.prototype.callMethod=function(t,n){var i=this,o=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,n&&n[0]?n[0]:{});if(!o){setTimeout(function(){return i.callMethod(t,n)});return}var s=o[t];if(s)return s.apply(o,n);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,n&&n[0]?n[0]:{})},e.prototype.addMethod=function(t,n){this[t]=n},e}(e8e);mS.ReactComponent=t8e;var xd={},Rm={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pae=x;function Tt(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mo=Object.prototype.hasOwnProperty,n8e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fK={},gK={};function Oae(r){return mo.call(gK,r)?!0:mo.call(fK,r)?!1:n8e.test(r)?gK[r]=!0:(fK[r]=!0,!1)}function oo(r,e,t,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Ci[r]=new oo(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];Ci[e]=new oo(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Ci[r]=new oo(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Ci[r]=new oo(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Ci[r]=new oo(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Ci[r]=new oo(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Ci[r]=new oo(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Ci[r]=new oo(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Ci[r]=new oo(r,5,!1,r.toLowerCase(),null,!1,!1)});var MH=/[\-:]([a-z])/g;function LH(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(MH,LH);Ci[e]=new oo(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(MH,LH);Ci[e]=new oo(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(MH,LH);Ci[e]=new oo(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Ci[r]=new oo(r,1,!1,r.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new oo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Ci[r]=new oo(r,1,!1,r.toLowerCase(),null,!0,!0)});var Z_={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r8e=["Webkit","ms","Moz","O"];Object.keys(Z_).forEach(function(r){r8e.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Z_[e]=Z_[r]})});var i8e=/["'&<>]/;function Zi(r){if(typeof r=="boolean"||typeof r=="number")return""+r;r=""+r;var e=i8e.exec(r);if(e){var t="",n,i=0;for(n=e.index;n<r.length;n++){switch(r.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(t+=r.substring(i,n)),i=n+1,t+=e}r=i!==n?t+r.substring(i,n):t}return r}var o8e=/([A-Z])/g,s8e=/^ms-/,lN=Array.isArray;function Ql(r,e){return{insertionMode:r,selectedValue:e}}function a8e(r,e,t){switch(e){case"select":return Ql(1,t.value!=null?t.value:t.defaultValue);case"svg":return Ql(2,null);case"math":return Ql(3,null);case"foreignObject":return Ql(1,null);case"table":return Ql(4,null);case"thead":case"tbody":case"tfoot":return Ql(5,null);case"colgroup":return Ql(7,null);case"tr":return Ql(6,null)}return 4<=r.insertionMode||r.insertionMode===0?Ql(1,null):r}var mK=new Map;function Dae(r,e,t){if(typeof t!="object")throw Error(Tt(62));e=!0;for(var n in t)if(mo.call(t,n)){var i=t[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var o=Zi(n);i=Zi((""+i).trim())}else{o=n;var s=mK.get(o);s!==void 0||(s=Zi(o.replace(o8e,"-$1").toLowerCase().replace(s8e,"-ms-")),mK.set(o,s)),o=s,i=typeof i=="number"?i===0||mo.call(Z_,n)?""+i:i+"px":Zi((""+i).trim())}e?(e=!1,r.push(' style="',o,":",i)):r.push(";",o,":",i)}}e||r.push('"')}function Wo(r,e,t,n){switch(t){case"style":Dae(r,e,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=Ci.hasOwnProperty(t)?Ci[t]:null,e!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=e.attributeName,e.type){case 3:n&&r.push(" ",t,'=""');break;case 4:n===!0?r.push(" ",t,'=""'):n!==!1&&r.push(" ",t,'="',Zi(n),'"');break;case 5:isNaN(n)||r.push(" ",t,'="',Zi(n),'"');break;case 6:!isNaN(n)&&1<=n&&r.push(" ",t,'="',Zi(n),'"');break;default:e.sanitizeURL&&(n=""+n),r.push(" ",t,'="',Zi(n),'"')}}else if(Oae(t)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}r.push(" ",t,'="',Zi(n),'"')}}}function eb(r,e,t){if(e!=null){if(t!=null)throw Error(Tt(60));if(typeof e!="object"||!("__html"in e))throw Error(Tt(61));e=e.__html,e!=null&&r.push(""+e)}}function l8e(r){var e="";return Pae.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}function xF(r,e,t,n){r.push(Ua(t));var i=t=null,o;for(o in e)if(mo.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":t=s;break;case"dangerouslySetInnerHTML":i=s;break;default:Wo(r,n,o,s)}}return r.push(">"),eb(r,i,t),typeof t=="string"?(r.push(Zi(t)),null):t}var u8e=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,vK=new Map;function Ua(r){var e=vK.get(r);if(e===void 0){if(!u8e.test(r))throw Error(Tt(65,r));e="<"+r,vK.set(r,e)}return e}function c8e(r,e,t,n,i){switch(e){case"select":r.push(Ua("select"));var o=null,s=null;for(c in t)if(mo.call(t,c)){var a=t[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Wo(r,n,c,a)}}return r.push(">"),eb(r,s,o),o;case"option":s=i.selectedValue,r.push(Ua("option"));var l=a=null,u=null,c=null;for(o in t)if(mo.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Wo(r,n,o,d)}}if(s!=null)if(t=l!==null?""+l:l8e(a),lN(s)){for(n=0;n<s.length;n++)if(""+s[n]===t){r.push(' selected=""');break}}else""+s===t&&r.push(' selected=""');else u&&r.push(' selected=""');return r.push(">"),eb(r,c,a),a;case"textarea":r.push(Ua("textarea")),c=s=o=null;for(a in t)if(mo.call(t,a)&&(l=t[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Tt(91));default:Wo(r,n,a,l)}if(o===null&&s!==null&&(o=s),r.push(">"),c!=null){if(o!=null)throw Error(Tt(92));if(lN(c)&&1<c.length)throw Error(Tt(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&r.push(`
`),o!==null&&r.push(Zi(""+o)),null;case"input":r.push(Ua("input")),l=c=a=o=null;for(s in t)if(mo.call(t,s)&&(u=t[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Tt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:Wo(r,n,s,u)}return c!==null?Wo(r,n,"checked",c):l!==null&&Wo(r,n,"checked",l),o!==null?Wo(r,n,"value",o):a!==null&&Wo(r,n,"value",a),r.push("/>"),null;case"menuitem":r.push(Ua("menuitem"));for(var h in t)if(mo.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Tt(400));default:Wo(r,n,h,o)}return r.push(">"),null;case"title":r.push(Ua("title")),o=null;for(d in t)if(mo.call(t,d)&&(s=t[d],s!=null))switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Tt(434));default:Wo(r,n,d,s)}return r.push(">"),o;case"listing":case"pre":r.push(Ua(e)),s=o=null;for(l in t)if(mo.call(t,l)&&(a=t[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Wo(r,n,l,a)}if(r.push(">"),s!=null){if(o!=null)throw Error(Tt(60));if(typeof s!="object"||!("__html"in s))throw Error(Tt(61));t=s.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?r.push(`
`,t):r.push(""+t))}return typeof o=="string"&&o[0]===`
`&&r.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":r.push(Ua(e));for(var p in t)if(mo.call(t,p)&&(o=t[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Tt(399,e));default:Wo(r,n,p,o)}return r.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return xF(r,t,e,n);case"html":return i.insertionMode===0&&r.push("<!DOCTYPE html>"),xF(r,t,e,n);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return xF(r,t,e,n);r.push(Ua(e)),s=o=null;for(u in t)if(mo.call(t,u)&&(a=t[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":Dae(r,n,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Oae(u)&&typeof a!="function"&&typeof a!="symbol"&&r.push(" ",u,'="',Zi(a),'"')}return r.push(">"),eb(r,s,o),o}}function yK(r,e,t){if(r.push('<!--$?--><template id="'),t===null)throw Error(Tt(395));return r.push(t),r.push('"></template>')}function d8e(r,e,t,n){switch(t.insertionMode){case 0:case 1:return r.push('<div hidden id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 2:return r.push('<svg aria-hidden="true" style="display:none" id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 3:return r.push('<math aria-hidden="true" style="display:none" id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 4:return r.push('<table hidden id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 5:return r.push('<table hidden><tbody id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 6:return r.push('<table hidden><tr id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');case 7:return r.push('<table hidden><colgroup id="'),r.push(e.segmentPrefix),e=n.toString(16),r.push(e),r.push('">');default:throw Error(Tt(397))}}function h8e(r,e){switch(e.insertionMode){case 0:case 1:return r.push("</div>");case 2:return r.push("</svg>");case 3:return r.push("</math>");case 4:return r.push("</table>");case 5:return r.push("</tbody></table>");case 6:return r.push("</tr></table>");case 7:return r.push("</colgroup></table>");default:throw Error(Tt(397))}}var p8e=/[<\u2028\u2029]/g;function IF(r){return JSON.stringify(r).replace(p8e,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function f8e(r,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:r}}function CK(r,e,t,n){return t.generateStaticMarkup?(r.push(Zi(e)),!1):(e===""?r=n:(n&&r.push("<!-- -->"),r.push(Zi(e)),r=!0),r)}var Py=Object.assign,g8e=Symbol.for("react.element"),Aae=Symbol.for("react.portal"),xae=Symbol.for("react.fragment"),Iae=Symbol.for("react.strict_mode"),Fae=Symbol.for("react.profiler"),Mae=Symbol.for("react.provider"),Lae=Symbol.for("react.context"),Nae=Symbol.for("react.forward_ref"),Gae=Symbol.for("react.suspense"),Vae=Symbol.for("react.suspense_list"),Hae=Symbol.for("react.memo"),NH=Symbol.for("react.lazy"),m8e=Symbol.for("react.scope"),v8e=Symbol.for("react.debug_trace_mode"),y8e=Symbol.for("react.legacy_hidden"),C8e=Symbol.for("react.default_value"),wK=Symbol.iterator;function uN(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case xae:return"Fragment";case Aae:return"Portal";case Fae:return"Profiler";case Iae:return"StrictMode";case Gae:return"Suspense";case Vae:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Lae:return(r.displayName||"Context")+".Consumer";case Mae:return(r._context.displayName||"Context")+".Provider";case Nae:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Hae:return e=r.displayName||null,e!==null?e:uN(r.type)||"Memo";case NH:e=r._payload,r=r._init;try{return uN(r(e))}catch{}}return null}var kae={};function SK(r,e){if(r=r.contextTypes,!r)return kae;var t={},n;for(n in r)t[n]=e[n];return t}var gh=null;function qA(r,e){if(r!==e){r.context._currentValue2=r.parentValue,r=r.parent;var t=e.parent;if(r===null){if(t!==null)throw Error(Tt(401))}else{if(t===null)throw Error(Tt(401));qA(r,t)}e.context._currentValue2=e.value}}function $ae(r){r.context._currentValue2=r.parentValue,r=r.parent,r!==null&&$ae(r)}function Bae(r){var e=r.parent;e!==null&&Bae(e),r.context._currentValue2=r.value}function jae(r,e){if(r.context._currentValue2=r.parentValue,r=r.parent,r===null)throw Error(Tt(402));r.depth===e.depth?qA(r,e):jae(r,e)}function Wae(r,e){var t=e.parent;if(t===null)throw Error(Tt(402));r.depth===t.depth?qA(r,t):Wae(r,t),e.context._currentValue2=e.value}function FP(r){var e=gh;e!==r&&(e===null?Bae(r):r===null?$ae(e):e.depth===r.depth?qA(e,r):e.depth>r.depth?jae(e,r):Wae(e,r),gh=r)}var EK={isMounted:function(){return!1},enqueueSetState:function(r,e){r=r._reactInternals,r.queue!==null&&r.queue.push(e)},enqueueReplaceState:function(r,e){r=r._reactInternals,r.replace=!0,r.queue=[e]},enqueueForceUpdate:function(){}};function _K(r,e,t,n){var i=r.state!==void 0?r.state:null;r.updater=EK,r.props=t,r.state=i;var o={queue:[],replace:!1};r._reactInternals=o;var s=e.contextType;if(r.context=typeof s=="object"&&s!==null?s._currentValue2:n,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(t,i),i=s==null?i:Py({},i,s),r.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function"))if(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&EK.enqueueReplaceState(r,r.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)r.state=e[0];else{for(o=s?e[0]:r.state,i=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(r,o,t,n):a,a!=null&&(i?(i=!1,o=Py({},o,a)):Py(o,a))}r.state=o}else o.queue=null}var w8e={id:1,overflow:""};function cN(r,e,t){var n=r.id;r=r.overflow;var i=32-tb(n)-1;n&=~(1<<i),t+=1;var o=32-tb(e)+i;if(30<o){var s=i-i%5;return o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,{id:1<<32-tb(e)+i|t<<i|n,overflow:o+r}}return{id:1<<o|t<<i|n,overflow:r}}var tb=Math.clz32?Math.clz32:_8e,S8e=Math.log,E8e=Math.LN2;function _8e(r){return r>>>=0,r===0?32:31-(S8e(r)/E8e|0)|0}function b8e(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var R8e=typeof Object.is=="function"?Object.is:b8e,Pu=null,GH=null,nb=null,xn=null,oy=!1,MP=!1,PC=0,Gc=null,QA=0;function rh(){if(Pu===null)throw Error(Tt(321));return Pu}function bK(){if(0<QA)throw Error(Tt(312));return{memoizedState:null,queue:null,next:null}}function VH(){return xn===null?nb===null?(oy=!1,nb=xn=bK()):(oy=!0,xn=nb):xn.next===null?(oy=!1,xn=xn.next=bK()):(oy=!0,xn=xn.next),xn}function HH(){GH=Pu=null,MP=!1,nb=null,QA=0,xn=Gc=null}function Uae(r,e){return typeof e=="function"?e(r):e}function RK(r,e,t){if(Pu=rh(),xn=VH(),oy){var n=xn.queue;if(e=n.dispatch,Gc!==null&&(t=Gc.get(n),t!==void 0)){Gc.delete(n),n=xn.memoizedState;do n=r(n,t.action),t=t.next;while(t!==null);return xn.memoizedState=n,[n,e]}return[xn.memoizedState,e]}return r=r===Uae?typeof e=="function"?e():e:t!==void 0?t(e):e,xn.memoizedState=r,r=xn.queue={last:null,dispatch:null},r=r.dispatch=T8e.bind(null,Pu,r),[xn.memoizedState,r]}function TK(r,e){if(Pu=rh(),xn=VH(),e=e===void 0?null:e,xn!==null){var t=xn.memoizedState;if(t!==null&&e!==null){var n=t[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<e.length;i++)if(!R8e(e[i],n[i])){n=!1;break e}n=!0}if(n)return t[0]}}return r=r(),xn.memoizedState=[r,e],r}function T8e(r,e,t){if(25<=QA)throw Error(Tt(301));if(r===Pu)if(MP=!0,r={action:t,next:null},Gc===null&&(Gc=new Map),t=Gc.get(e),t===void 0)Gc.set(e,r);else{for(e=t;e.next!==null;)e=e.next;e.next=r}}function P8e(){throw Error(Tt(394))}function JE(){}var PK={readContext:function(r){return r._currentValue2},useContext:function(r){return rh(),r._currentValue2},useMemo:TK,useReducer:RK,useRef:function(r){Pu=rh(),xn=VH();var e=xn.memoizedState;return e===null?(r={current:r},xn.memoizedState=r):e},useState:function(r){return RK(Uae,r)},useInsertionEffect:JE,useLayoutEffect:function(){},useCallback:function(r,e){return TK(function(){return r},e)},useImperativeHandle:JE,useEffect:JE,useDebugValue:JE,useDeferredValue:function(r){return rh(),r},useTransition:function(){return rh(),[!1,P8e]},useId:function(){var r=GH.treeContext,e=r.overflow;r=r.id,r=(r&~(1<<32-tb(r)-1)).toString(32)+e;var t=rb;if(t===null)throw Error(Tt(404));return e=PC++,r=":"+t.idPrefix+"R"+r,0<e&&(r+="H"+e.toString(32)),r+":"},useMutableSource:function(r,e){return rh(),e(r._source)},useSyncExternalStore:function(r,e,t){if(t===void 0)throw Error(Tt(407));return t()}},rb=null,FF=Pae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function O8e(r){return console.error(r),null}function sy(){}function D8e(r,e,t,n,i,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?O8e:i,onAllReady:sy,onShellReady:s===void 0?sy:s,onShellError:sy,onFatalError:sy},t=LP(e,0,null,t,!1,!1),t.parentFlushed=!0,r=kH(e,r,null,t,c,kae,null,w8e),u.push(r),e}function kH(r,e,t,n,i,o,s,a){r.allPendingTasks++,t===null?r.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=r.pingedTasks;u.push(l),u.length===1&&Yae(r)},blockedBoundary:t,blockedSegment:n,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function LP(r,e,t,n,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:t,lastPushedText:i,textEmbedded:o}}function OC(r,e){if(r=r.onError(e),r!=null&&typeof r!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof r+'" instead');return r}function NP(r,e){var t=r.onShellError;t(e),t=r.onFatalError,t(e),r.destination!==null?(r.status=2,r.destination.destroy(e)):(r.status=1,r.fatalError=e)}function OK(r,e,t,n,i){for(Pu={},GH=e,PC=0,r=t(n,i);MP;)MP=!1,PC=0,QA+=1,xn=null,r=t(n,i);return HH(),r}function DK(r,e,t,n){var i=t.render(),o=n.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof t.getChildContext!="function")n=s;else{t=t.getChildContext();for(var a in t)if(!(a in o))throw Error(Tt(108,uN(n)||"Unknown",a));n=Py({},s,t)}e.legacyContext=n,qo(r,e,i),e.legacyContext=s}else qo(r,e,i)}function AK(r,e){if(r&&r.defaultProps){e=Py({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function dN(r,e,t,n,i){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){i=SK(t,e.legacyContext);var o=t.contextType;o=new t(n,typeof o=="object"&&o!==null?o._currentValue2:i),_K(o,t,n,i),DK(r,e,o,t)}else{o=SK(t,e.legacyContext),i=OK(r,e,t,n,o);var s=PC!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)_K(i,t,n,o),DK(r,e,i,t);else if(s){n=e.treeContext,e.treeContext=cN(n,1,0);try{qo(r,e,i)}finally{e.treeContext=n}}else qo(r,e,i)}else if(typeof t=="string"){switch(i=e.blockedSegment,o=c8e(i.chunks,t,n,r.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=a8e(s,t,n),hN(r,e,o),i.formatContext=s,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",t,">")}i.lastPushedText=!1}else{switch(t){case y8e:case v8e:case Iae:case Fae:case xae:qo(r,e,n.children);return;case Vae:qo(r,e,n.children);return;case m8e:throw Error(Tt(343));case Gae:e:{t=e.blockedBoundary,i=e.blockedSegment,o=n.fallback,n=n.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=LP(r,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=LP(r,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(hN(r,e,n),r.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,GP(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=OC(r,c)}finally{e.blockedBoundary=t,e.blockedSegment=i}e=kH(r,o,t,l,s,e.legacyContext,e.context,e.treeContext),r.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nae:if(n=OK(r,e,t.render,n,i),PC!==0){t=e.treeContext,e.treeContext=cN(t,1,0);try{qo(r,e,n)}finally{e.treeContext=t}}else qo(r,e,n);return;case Hae:t=t.type,n=AK(t,n),dN(r,e,t,n,i);return;case Mae:if(i=n.children,t=t._context,n=n.value,o=t._currentValue2,t._currentValue2=n,s=gh,gh=n={parent:s,depth:s===null?0:s.depth+1,context:t,parentValue:o,value:n},e.context=n,qo(r,e,i),r=gh,r===null)throw Error(Tt(403));n=r.parentValue,r.context._currentValue2=n===C8e?r.context._defaultValue:n,r=gh=r.parent,e.context=r;return;case Lae:n=n.children,n=n(t._currentValue2),qo(r,e,n);return;case NH:i=t._init,t=i(t._payload),n=AK(t,n),dN(r,e,t,n,void 0);return}throw Error(Tt(130,t==null?t:typeof t,""))}}function qo(r,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case g8e:dN(r,e,t.type,t.props,t.ref);return;case Aae:throw Error(Tt(257));case NH:var n=t._init;t=n(t._payload),qo(r,e,t);return}if(lN(t)){xK(r,e,t);return}if(t===null||typeof t!="object"?n=null:(n=wK&&t[wK]||t["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(t))){if(t=n.next(),!t.done){var i=[];do i.push(t.value),t=n.next();while(!t.done);xK(r,e,i)}return}throw r=Object.prototype.toString.call(t),Error(Tt(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}typeof t=="string"?(n=e.blockedSegment,n.lastPushedText=CK(e.blockedSegment.chunks,t,r.responseState,n.lastPushedText)):typeof t=="number"&&(n=e.blockedSegment,n.lastPushedText=CK(e.blockedSegment.chunks,""+t,r.responseState,n.lastPushedText))}function xK(r,e,t){for(var n=t.length,i=0;i<n;i++){var o=e.treeContext;e.treeContext=cN(o,n,i);try{hN(r,e,t[i])}finally{e.treeContext=o}}}function hN(r,e,t){var n=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return qo(r,e,t)}catch(l){if(HH(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var s=e.blockedSegment,a=LP(r,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,r=kH(r,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(r,r),e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,FP(o)}else throw e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,FP(o),l}}function A8e(r){var e=r.blockedBoundary;r=r.blockedSegment,r.status=3,Kae(this,e,r)}function zae(r,e,t){var n=r.blockedBoundary;r.blockedSegment.status=3,n===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,r=t===void 0?Error(Tt(432)):t,n.errorDigest=e.onError(r),n.parentFlushed&&e.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return zae(i,e,t)}),n.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(n=e.onAllReady,n()))}function GP(r,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&GP(r,t)}else r.completedSegments.push(e)}function Kae(r,e,t){if(e===null){if(t.parentFlushed){if(r.completedRootSegment!==null)throw Error(Tt(389));r.completedRootSegment=t}r.pendingRootTasks--,r.pendingRootTasks===0&&(r.onShellError=sy,e=r.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&GP(e,t),e.parentFlushed&&r.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(A8e,r),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(GP(e,t),e.completedSegments.length===1&&e.parentFlushed&&r.partialBoundaries.push(e)));r.allPendingTasks--,r.allPendingTasks===0&&(r=r.onAllReady,r())}function Yae(r){if(r.status!==2){var e=gh,t=FF.current;FF.current=PK;var n=rb;rb=r.responseState;try{var i=r.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=r,l=s.blockedSegment;if(l.status===0){FP(s.context);try{qo(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),s.abortSet.delete(s),l.status=1,Kae(a,s.blockedBoundary,l)}catch(f){if(HH(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=s.ping;f.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=f,h=OC(a,d);if(c===null?NP(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}i.splice(0,o),r.destination!==null&&$H(r,r.destination)}catch(f){OC(r,f),NP(r,f)}finally{rb=n,FF.current=t,t===PK&&FP(e)}}}function ZE(r,e,t){switch(t.parentFlushed=!0,t.status){case 0:var n=t.id=r.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,r=r.responseState,e.push('<template id="'),e.push(r.placeholderPrefix),r=n.toString(16),e.push(r),e.push('"></template>');case 1:t.status=2;var i=!0;n=t.chunks;var o=0;t=t.children;for(var s=0;s<t.length;s++){for(i=t[s];o<i.index;o++)e.push(n[o]);i=XA(r,e,i)}for(;o<n.length-1;o++)e.push(n[o]);return o<n.length&&(i=e.push(n[o])),i;default:throw Error(Tt(390))}}function XA(r,e,t){var n=t.boundary;if(n===null)return ZE(r,e,t);if(n.parentFlushed=!0,n.forceClientRender)return r.responseState.generateStaticMarkup||(n=n.errorDigest,e.push("<!--$!-->"),e.push("<template"),n&&(e.push(' data-dgst="'),n=Zi(n),e.push(n),e.push('"')),e.push("></template>")),ZE(r,e,t),r=r.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),r;if(0<n.pendingTasks){n.rootSegmentID=r.nextSegmentId++,0<n.completedSegments.length&&r.partialBoundaries.push(n);var i=r.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),n=n.id=i,yK(e,r.responseState,n),ZE(r,e,t),e.push("<!--/$-->")}if(n.byteSize>r.progressiveChunkSize)return n.rootSegmentID=r.nextSegmentId++,r.completedBoundaries.push(n),yK(e,r.responseState,n.id),ZE(r,e,t),e.push("<!--/$-->");if(r.responseState.generateStaticMarkup||e.push("<!--$-->"),t=n.completedSegments,t.length!==1)throw Error(Tt(391));return XA(r,e,t[0]),r=r.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),r}function IK(r,e,t){return d8e(e,r.responseState,t.formatContext,t.id),XA(r,e,t),h8e(e,t.formatContext)}function FK(r,e,t){for(var n=t.completedSegments,i=0;i<n.length;i++)qae(r,e,t,n[i]);if(n.length=0,r=r.responseState,n=t.id,t=t.rootSegmentID,e.push(r.startInlineScript),r.sentCompleteBoundaryFunction?e.push('$RC("'):(r.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),n===null)throw Error(Tt(395));return t=t.toString(16),e.push(n),e.push('","'),e.push(r.segmentPrefix),e.push(t),e.push('")<\/script>')}function qae(r,e,t,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=t.rootSegmentID)===-1)throw Error(Tt(392));return IK(r,e,n)}return IK(r,e,n),r=r.responseState,e.push(r.startInlineScript),r.sentCompleteSegmentFunction?e.push('$RS("'):(r.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(r.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(r.placeholderPrefix),e.push(i),e.push('")<\/script>')}function $H(r,e){try{var t=r.completedRootSegment;if(t!==null&&r.pendingRootTasks===0){XA(r,e,t),r.completedRootSegment=null;var n=r.responseState.bootstrapChunks;for(t=0;t<n.length-1;t++)e.push(n[t]);t<n.length&&e.push(n[t])}var i=r.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];n=e;var a=r.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,d=s.errorComponentStack;if(n.push(a.startInlineScript),a.sentClientRenderFunction?n.push('$RX("'):(a.sentClientRenderFunction=!0,n.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Tt(395));if(n.push(l),n.push('"'),u||c||d){n.push(",");var h=IF(u||"");n.push(h)}if(c||d){n.push(",");var p=IF(c||"");n.push(p)}if(d){n.push(",");var f=IF(d);n.push(f)}if(!n.push(")<\/script>")){r.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var g=r.completedBoundaries;for(o=0;o<g.length;o++)if(!FK(r,e,g[o])){r.destination=null,o++,g.splice(0,o);return}g.splice(0,o);var v=r.partialBoundaries;for(o=0;o<v.length;o++){var y=v[o];e:{i=r,s=e;var C=y.completedSegments;for(a=0;a<C.length;a++)if(!qae(i,s,y,C[a])){a++,C.splice(0,a);var w=!1;break e}C.splice(0,a),w=!0}if(!w){r.destination=null,o++,v.splice(0,o);return}}v.splice(0,o);var S=r.completedBoundaries;for(o=0;o<S.length;o++)if(!FK(r,e,S[o])){r.destination=null,o++,S.splice(0,o);return}S.splice(0,o)}finally{r.allPendingTasks===0&&r.pingedTasks.length===0&&r.clientRenderedBoundaries.length===0&&r.completedBoundaries.length===0&&e.push(null)}}function x8e(r,e){try{var t=r.abortableTasks;t.forEach(function(n){return zae(n,r,e)}),t.clear(),r.destination!==null&&$H(r,r.destination)}catch(n){OC(r,n),NP(r,n)}}function I8e(){}function Qae(r,e,t,n){var i=!1,o=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(r=D8e(r,f8e(t,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,I8e,void 0,function(){l=!0}),Yae(r),x8e(r,n),r.status===1)r.status=2,a.destroy(r.fatalError);else if(r.status!==2&&r.destination===null){r.destination=a;try{$H(r,a)}catch(u){OC(r,u),NP(r,u)}}if(i)throw o;if(!l)throw Error(Tt(426));return s}Rm.renderToNodeStream=function(){throw Error(Tt(207))};Rm.renderToStaticMarkup=function(r,e){return Qae(r,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Rm.renderToStaticNodeStream=function(){throw Error(Tt(208))};Rm.renderToString=function(r,e){return Qae(r,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Rm.version="18.3.1";var BH={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xae=x;function Ft(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qo=null,Xo=0;function Qe(r,e){if(e.length!==0)if(512<e.length)0<Xo&&(r.enqueue(new Uint8Array(Qo.buffer,0,Xo)),Qo=new Uint8Array(512),Xo=0),r.enqueue(e);else{var t=Qo.length-Xo;t<e.length&&(t===0?r.enqueue(Qo):(Qo.set(e.subarray(0,t),Xo),r.enqueue(Qo),e=e.subarray(t)),Qo=new Uint8Array(512),Xo=0),Qo.set(e,Xo),Xo+=e.length}}function $n(r,e){return Qe(r,e),!0}function MK(r){Qo&&0<Xo&&(r.enqueue(new Uint8Array(Qo.buffer,0,Xo)),Qo=null,Xo=0)}var Jae=new TextEncoder;function Ht(r){return Jae.encode(r)}function He(r){return Jae.encode(r)}function Zae(r,e){typeof r.error=="function"?r.error(e):r.close()}var vo=Object.prototype.hasOwnProperty,F8e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LK={},NK={};function ele(r){return vo.call(NK,r)?!0:vo.call(LK,r)?!1:F8e.test(r)?NK[r]=!0:(LK[r]=!0,!1)}function so(r,e,t,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){wi[r]=new so(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];wi[e]=new so(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){wi[r]=new so(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){wi[r]=new so(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){wi[r]=new so(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){wi[r]=new so(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){wi[r]=new so(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){wi[r]=new so(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){wi[r]=new so(r,5,!1,r.toLowerCase(),null,!1,!1)});var jH=/[\-:]([a-z])/g;function WH(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(jH,WH);wi[e]=new so(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(jH,WH);wi[e]=new so(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(jH,WH);wi[e]=new so(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){wi[r]=new so(r,1,!1,r.toLowerCase(),null,!1,!1)});wi.xlinkHref=new so("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){wi[r]=new so(r,1,!1,r.toLowerCase(),null,!0,!0)});var ib={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M8e=["Webkit","ms","Moz","O"];Object.keys(ib).forEach(function(r){M8e.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),ib[e]=ib[r]})});var L8e=/["'&<>]/;function gi(r){if(typeof r=="boolean"||typeof r=="number")return""+r;r=""+r;var e=L8e.exec(r);if(e){var t="",n,i=0;for(n=e.index;n<r.length;n++){switch(r.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==n&&(t+=r.substring(i,n)),i=n+1,t+=e}r=i!==n?t+r.substring(i,n):t}return r}var N8e=/([A-Z])/g,G8e=/^ms-/,pN=Array.isArray,V8e=He("<script>"),H8e=He("<\/script>"),k8e=He('<script src="'),$8e=He('<script type="module" src="'),GK=He('" async=""><\/script>'),B8e=/(<\/|<)(s)(cript)/gi;function j8e(r,e,t,n){return""+e+(t==="s"?"\\u0073":"\\u0053")+n}function W8e(r,e,t,n,i){r=r===void 0?"":r,e=e===void 0?V8e:He('<script nonce="'+gi(e)+'">');var o=[];if(t!==void 0&&o.push(e,Ht((""+t).replace(B8e,j8e)),H8e),n!==void 0)for(t=0;t<n.length;t++)o.push(k8e,Ht(gi(n[t])),GK);if(i!==void 0)for(n=0;n<i.length;n++)o.push($8e,Ht(gi(i[n])),GK);return{bootstrapChunks:o,startInlineScript:e,placeholderPrefix:He(r+"P:"),segmentPrefix:He(r+"S:"),boundaryPrefix:r+"B:",idPrefix:r,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function za(r,e){return{insertionMode:r,selectedValue:e}}function U8e(r){return za(r==="http://www.w3.org/2000/svg"?2:r==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function z8e(r,e,t){switch(e){case"select":return za(1,t.value!=null?t.value:t.defaultValue);case"svg":return za(2,null);case"math":return za(3,null);case"foreignObject":return za(1,null);case"table":return za(4,null);case"thead":case"tbody":case"tfoot":return za(5,null);case"colgroup":return za(7,null);case"tr":return za(6,null)}return 4<=r.insertionMode||r.insertionMode===0?za(1,null):r}var UH=He("<!-- -->");function VK(r,e,t,n){return e===""?n:(n&&r.push(UH),r.push(Ht(gi(e))),!0)}var HK=new Map,K8e=He(' style="'),kK=He(":"),Y8e=He(";");function tle(r,e,t){if(typeof t!="object")throw Error(Ft(62));e=!0;for(var n in t)if(vo.call(t,n)){var i=t[n];if(i!=null&&typeof i!="boolean"&&i!==""){if(n.indexOf("--")===0){var o=Ht(gi(n));i=Ht(gi((""+i).trim()))}else{o=n;var s=HK.get(o);s!==void 0||(s=He(gi(o.replace(N8e,"-$1").toLowerCase().replace(G8e,"-ms-"))),HK.set(o,s)),o=s,i=typeof i=="number"?i===0||vo.call(ib,n)?Ht(""+i):Ht(i+"px"):Ht(gi((""+i).trim()))}e?(e=!1,r.push(K8e,o,kK,i)):r.push(Y8e,o,kK,i)}}e||r.push(ih)}var vc=He(" "),Ef=He('="'),ih=He('"'),$K=He('=""');function Uo(r,e,t,n){switch(t){case"style":tle(r,e,n);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N"){if(e=wi.hasOwnProperty(t)?wi[t]:null,e!==null){switch(typeof n){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(t=Ht(e.attributeName),e.type){case 3:n&&r.push(vc,t,$K);break;case 4:n===!0?r.push(vc,t,$K):n!==!1&&r.push(vc,t,Ef,Ht(gi(n)),ih);break;case 5:isNaN(n)||r.push(vc,t,Ef,Ht(gi(n)),ih);break;case 6:!isNaN(n)&&1<=n&&r.push(vc,t,Ef,Ht(gi(n)),ih);break;default:e.sanitizeURL&&(n=""+n),r.push(vc,t,Ef,Ht(gi(n)),ih)}}else if(ele(t)){switch(typeof n){case"function":case"symbol":return;case"boolean":if(e=t.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}r.push(vc,Ht(t),Ef,Ht(gi(n)),ih)}}}var yc=He(">"),BK=He("/>");function ob(r,e,t){if(e!=null){if(t!=null)throw Error(Ft(60));if(typeof e!="object"||!("__html"in e))throw Error(Ft(61));e=e.__html,e!=null&&r.push(Ht(""+e))}}function q8e(r){var e="";return Xae.Children.forEach(r,function(t){t!=null&&(e+=t)}),e}var MF=He(' selected=""');function LF(r,e,t,n){r.push(Ka(t));var i=t=null,o;for(o in e)if(vo.call(e,o)){var s=e[o];if(s!=null)switch(o){case"children":t=s;break;case"dangerouslySetInnerHTML":i=s;break;default:Uo(r,n,o,s)}}return r.push(yc),ob(r,i,t),typeof t=="string"?(r.push(Ht(gi(t))),null):t}var NF=He(`
`),Q8e=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,jK=new Map;function Ka(r){var e=jK.get(r);if(e===void 0){if(!Q8e.test(r))throw Error(Ft(65,r));e=He("<"+r),jK.set(r,e)}return e}var X8e=He("<!DOCTYPE html>");function J8e(r,e,t,n,i){switch(e){case"select":r.push(Ka("select"));var o=null,s=null;for(c in t)if(vo.call(t,c)){var a=t[c];if(a!=null)switch(c){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Uo(r,n,c,a)}}return r.push(yc),ob(r,s,o),o;case"option":s=i.selectedValue,r.push(Ka("option"));var l=a=null,u=null,c=null;for(o in t)if(vo.call(t,o)){var d=t[o];if(d!=null)switch(o){case"children":a=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Uo(r,n,o,d)}}if(s!=null)if(t=l!==null?""+l:q8e(a),pN(s)){for(n=0;n<s.length;n++)if(""+s[n]===t){r.push(MF);break}}else""+s===t&&r.push(MF);else u&&r.push(MF);return r.push(yc),ob(r,c,a),a;case"textarea":r.push(Ka("textarea")),c=s=o=null;for(a in t)if(vo.call(t,a)&&(l=t[a],l!=null))switch(a){case"children":c=l;break;case"value":o=l;break;case"defaultValue":s=l;break;case"dangerouslySetInnerHTML":throw Error(Ft(91));default:Uo(r,n,a,l)}if(o===null&&s!==null&&(o=s),r.push(yc),c!=null){if(o!=null)throw Error(Ft(92));if(pN(c)&&1<c.length)throw Error(Ft(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&r.push(NF),o!==null&&r.push(Ht(gi(""+o))),null;case"input":r.push(Ka("input")),l=c=a=o=null;for(s in t)if(vo.call(t,s)&&(u=t[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ft(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":a=u;break;case"checked":c=u;break;case"value":o=u;break;default:Uo(r,n,s,u)}return c!==null?Uo(r,n,"checked",c):l!==null&&Uo(r,n,"checked",l),o!==null?Uo(r,n,"value",o):a!==null&&Uo(r,n,"value",a),r.push(BK),null;case"menuitem":r.push(Ka("menuitem"));for(var h in t)if(vo.call(t,h)&&(o=t[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Ft(400));default:Uo(r,n,h,o)}return r.push(yc),null;case"title":r.push(Ka("title")),o=null;for(d in t)if(vo.call(t,d)&&(s=t[d],s!=null))switch(d){case"children":o=s;break;case"dangerouslySetInnerHTML":throw Error(Ft(434));default:Uo(r,n,d,s)}return r.push(yc),o;case"listing":case"pre":r.push(Ka(e)),s=o=null;for(l in t)if(vo.call(t,l)&&(a=t[l],a!=null))switch(l){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Uo(r,n,l,a)}if(r.push(yc),s!=null){if(o!=null)throw Error(Ft(60));if(typeof s!="object"||!("__html"in s))throw Error(Ft(61));t=s.__html,t!=null&&(typeof t=="string"&&0<t.length&&t[0]===`
`?r.push(NF,Ht(t)):r.push(Ht(""+t)))}return typeof o=="string"&&o[0]===`
`&&r.push(NF),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":r.push(Ka(e));for(var p in t)if(vo.call(t,p)&&(o=t[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ft(399,e));default:Uo(r,n,p,o)}return r.push(BK),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return LF(r,t,e,n);case"html":return i.insertionMode===0&&r.push(X8e),LF(r,t,e,n);default:if(e.indexOf("-")===-1&&typeof t.is!="string")return LF(r,t,e,n);r.push(Ka(e)),s=o=null;for(u in t)if(vo.call(t,u)&&(a=t[u],a!=null))switch(u){case"children":o=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":tle(r,n,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ele(u)&&typeof a!="function"&&typeof a!="symbol"&&r.push(vc,Ht(u),Ef,Ht(gi(a)),ih)}return r.push(yc),ob(r,s,o),o}}var Z8e=He("</"),eYe=He(">"),tYe=He('<template id="'),nYe=He('"></template>'),rYe=He("<!--$-->"),iYe=He('<!--$?--><template id="'),oYe=He('"></template>'),sYe=He("<!--$!-->"),aYe=He("<!--/$-->"),lYe=He("<template"),uYe=He('"'),cYe=He(' data-dgst="');He(' data-msg="');He(' data-stck="');var dYe=He("></template>");function WK(r,e,t){if(Qe(r,iYe),t===null)throw Error(Ft(395));return Qe(r,t),$n(r,oYe)}var hYe=He('<div hidden id="'),pYe=He('">'),fYe=He("</div>"),gYe=He('<svg aria-hidden="true" style="display:none" id="'),mYe=He('">'),vYe=He("</svg>"),yYe=He('<math aria-hidden="true" style="display:none" id="'),CYe=He('">'),wYe=He("</math>"),SYe=He('<table hidden id="'),EYe=He('">'),_Ye=He("</table>"),bYe=He('<table hidden><tbody id="'),RYe=He('">'),TYe=He("</tbody></table>"),PYe=He('<table hidden><tr id="'),OYe=He('">'),DYe=He("</tr></table>"),AYe=He('<table hidden><colgroup id="'),xYe=He('">'),IYe=He("</colgroup></table>");function FYe(r,e,t,n){switch(t.insertionMode){case 0:case 1:return Qe(r,hYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,pYe);case 2:return Qe(r,gYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,mYe);case 3:return Qe(r,yYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,CYe);case 4:return Qe(r,SYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,EYe);case 5:return Qe(r,bYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,RYe);case 6:return Qe(r,PYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,OYe);case 7:return Qe(r,AYe),Qe(r,e.segmentPrefix),Qe(r,Ht(n.toString(16))),$n(r,xYe);default:throw Error(Ft(397))}}function MYe(r,e){switch(e.insertionMode){case 0:case 1:return $n(r,fYe);case 2:return $n(r,vYe);case 3:return $n(r,wYe);case 4:return $n(r,_Ye);case 5:return $n(r,TYe);case 6:return $n(r,DYe);case 7:return $n(r,IYe);default:throw Error(Ft(397))}}var LYe=He('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),NYe=He('$RS("'),GYe=He('","'),VYe=He('")<\/script>'),HYe=He('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),kYe=He('$RC("'),$Ye=He('","'),BYe=He('")<\/script>'),jYe=He('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),WYe=He('$RX("'),UYe=He('"'),zYe=He(")<\/script>"),GF=He(","),KYe=/[<\u2028\u2029]/g;function VF(r){return JSON.stringify(r).replace(KYe,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Oy=Object.assign,YYe=Symbol.for("react.element"),nle=Symbol.for("react.portal"),rle=Symbol.for("react.fragment"),ile=Symbol.for("react.strict_mode"),ole=Symbol.for("react.profiler"),sle=Symbol.for("react.provider"),ale=Symbol.for("react.context"),lle=Symbol.for("react.forward_ref"),ule=Symbol.for("react.suspense"),cle=Symbol.for("react.suspense_list"),dle=Symbol.for("react.memo"),zH=Symbol.for("react.lazy"),qYe=Symbol.for("react.scope"),QYe=Symbol.for("react.debug_trace_mode"),XYe=Symbol.for("react.legacy_hidden"),JYe=Symbol.for("react.default_value"),UK=Symbol.iterator;function fN(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case rle:return"Fragment";case nle:return"Portal";case ole:return"Profiler";case ile:return"StrictMode";case ule:return"Suspense";case cle:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ale:return(r.displayName||"Context")+".Consumer";case sle:return(r._context.displayName||"Context")+".Provider";case lle:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dle:return e=r.displayName||null,e!==null?e:fN(r.type)||"Memo";case zH:e=r._payload,r=r._init;try{return fN(r(e))}catch{}}return null}var hle={};function zK(r,e){if(r=r.contextTypes,!r)return hle;var t={},n;for(n in r)t[n]=e[n];return t}var mh=null;function JA(r,e){if(r!==e){r.context._currentValue=r.parentValue,r=r.parent;var t=e.parent;if(r===null){if(t!==null)throw Error(Ft(401))}else{if(t===null)throw Error(Ft(401));JA(r,t)}e.context._currentValue=e.value}}function ple(r){r.context._currentValue=r.parentValue,r=r.parent,r!==null&&ple(r)}function fle(r){var e=r.parent;e!==null&&fle(e),r.context._currentValue=r.value}function gle(r,e){if(r.context._currentValue=r.parentValue,r=r.parent,r===null)throw Error(Ft(402));r.depth===e.depth?JA(r,e):gle(r,e)}function mle(r,e){var t=e.parent;if(t===null)throw Error(Ft(402));r.depth===t.depth?JA(r,t):mle(r,t),e.context._currentValue=e.value}function VP(r){var e=mh;e!==r&&(e===null?fle(r):r===null?ple(e):e.depth===r.depth?JA(e,r):e.depth>r.depth?gle(e,r):mle(e,r),mh=r)}var KK={isMounted:function(){return!1},enqueueSetState:function(r,e){r=r._reactInternals,r.queue!==null&&r.queue.push(e)},enqueueReplaceState:function(r,e){r=r._reactInternals,r.replace=!0,r.queue=[e]},enqueueForceUpdate:function(){}};function YK(r,e,t,n){var i=r.state!==void 0?r.state:null;r.updater=KK,r.props=t,r.state=i;var o={queue:[],replace:!1};r._reactInternals=o;var s=e.contextType;if(r.context=typeof s=="object"&&s!==null?s._currentValue:n,s=e.getDerivedStateFromProps,typeof s=="function"&&(s=s(t,i),i=s==null?i:Oy({},i,s),r.state=i),typeof e.getDerivedStateFromProps!="function"&&typeof r.getSnapshotBeforeUpdate!="function"&&(typeof r.UNSAFE_componentWillMount=="function"||typeof r.componentWillMount=="function"))if(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&KK.enqueueReplaceState(r,r.state,null),o.queue!==null&&0<o.queue.length)if(e=o.queue,s=o.replace,o.queue=null,o.replace=!1,s&&e.length===1)r.state=e[0];else{for(o=s?e[0]:r.state,i=!0,s=s?1:0;s<e.length;s++){var a=e[s];a=typeof a=="function"?a.call(r,o,t,n):a,a!=null&&(i?(i=!1,o=Oy({},o,a)):Oy(o,a))}r.state=o}else o.queue=null}var ZYe={id:1,overflow:""};function gN(r,e,t){var n=r.id;r=r.overflow;var i=32-sb(n)-1;n&=~(1<<i),t+=1;var o=32-sb(e)+i;if(30<o){var s=i-i%5;return o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,{id:1<<32-sb(e)+i|t<<i|n,overflow:o+r}}return{id:1<<o|t<<i|n,overflow:r}}var sb=Math.clz32?Math.clz32:nqe,eqe=Math.log,tqe=Math.LN2;function nqe(r){return r>>>=0,r===0?32:31-(eqe(r)/tqe|0)|0}function rqe(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var iqe=typeof Object.is=="function"?Object.is:rqe,Ou=null,KH=null,ab=null,In=null,ay=!1,HP=!1,DC=0,Vc=null,ZA=0;function oh(){if(Ou===null)throw Error(Ft(321));return Ou}function qK(){if(0<ZA)throw Error(Ft(312));return{memoizedState:null,queue:null,next:null}}function YH(){return In===null?ab===null?(ay=!1,ab=In=qK()):(ay=!0,In=ab):In.next===null?(ay=!1,In=In.next=qK()):(ay=!0,In=In.next),In}function qH(){KH=Ou=null,HP=!1,ab=null,ZA=0,In=Vc=null}function vle(r,e){return typeof e=="function"?e(r):e}function QK(r,e,t){if(Ou=oh(),In=YH(),ay){var n=In.queue;if(e=n.dispatch,Vc!==null&&(t=Vc.get(n),t!==void 0)){Vc.delete(n),n=In.memoizedState;do n=r(n,t.action),t=t.next;while(t!==null);return In.memoizedState=n,[n,e]}return[In.memoizedState,e]}return r=r===vle?typeof e=="function"?e():e:t!==void 0?t(e):e,In.memoizedState=r,r=In.queue={last:null,dispatch:null},r=r.dispatch=oqe.bind(null,Ou,r),[In.memoizedState,r]}function XK(r,e){if(Ou=oh(),In=YH(),e=e===void 0?null:e,In!==null){var t=In.memoizedState;if(t!==null&&e!==null){var n=t[1];e:if(n===null)n=!1;else{for(var i=0;i<n.length&&i<e.length;i++)if(!iqe(e[i],n[i])){n=!1;break e}n=!0}if(n)return t[0]}}return r=r(),In.memoizedState=[r,e],r}function oqe(r,e,t){if(25<=ZA)throw Error(Ft(301));if(r===Ou)if(HP=!0,r={action:t,next:null},Vc===null&&(Vc=new Map),t=Vc.get(e),t===void 0)Vc.set(e,r);else{for(e=t;e.next!==null;)e=e.next;e.next=r}}function sqe(){throw Error(Ft(394))}function e_(){}var JK={readContext:function(r){return r._currentValue},useContext:function(r){return oh(),r._currentValue},useMemo:XK,useReducer:QK,useRef:function(r){Ou=oh(),In=YH();var e=In.memoizedState;return e===null?(r={current:r},In.memoizedState=r):e},useState:function(r){return QK(vle,r)},useInsertionEffect:e_,useLayoutEffect:function(){},useCallback:function(r,e){return XK(function(){return r},e)},useImperativeHandle:e_,useEffect:e_,useDebugValue:e_,useDeferredValue:function(r){return oh(),r},useTransition:function(){return oh(),[!1,sqe]},useId:function(){var r=KH.treeContext,e=r.overflow;r=r.id,r=(r&~(1<<32-sb(r)-1)).toString(32)+e;var t=lb;if(t===null)throw Error(Ft(404));return e=DC++,r=":"+t.idPrefix+"R"+r,0<e&&(r+="H"+e.toString(32)),r+":"},useMutableSource:function(r,e){return oh(),e(r._source)},useSyncExternalStore:function(r,e,t){if(t===void 0)throw Error(Ft(407));return t()}},lb=null,HF=Xae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function aqe(r){return console.error(r),null}function ly(){}function lqe(r,e,t,n,i,o,s,a,l){var u=[],c=new Set;return e={destination:null,responseState:e,progressiveChunkSize:n===void 0?12800:n,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?aqe:i,onAllReady:o===void 0?ly:o,onShellReady:s===void 0?ly:s,onShellError:a===void 0?ly:a,onFatalError:l===void 0?ly:l},t=kP(e,0,null,t,!1,!1),t.parentFlushed=!0,r=QH(e,r,null,t,c,hle,null,ZYe),u.push(r),e}function QH(r,e,t,n,i,o,s,a){r.allPendingTasks++,t===null?r.pendingRootTasks++:t.pendingTasks++;var l={node:e,ping:function(){var u=r.pingedTasks;u.push(l),u.length===1&&wle(r)},blockedBoundary:t,blockedSegment:n,abortSet:i,legacyContext:o,context:s,treeContext:a};return i.add(l),l}function kP(r,e,t,n,i,o){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:n,boundary:t,lastPushedText:i,textEmbedded:o}}function AC(r,e){if(r=r.onError(e),r!=null&&typeof r!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof r+'" instead');return r}function $P(r,e){var t=r.onShellError;t(e),t=r.onFatalError,t(e),r.destination!==null?(r.status=2,Zae(r.destination,e)):(r.status=1,r.fatalError=e)}function ZK(r,e,t,n,i){for(Ou={},KH=e,DC=0,r=t(n,i);HP;)HP=!1,DC=0,ZA+=1,In=null,r=t(n,i);return qH(),r}function e4(r,e,t,n){var i=t.render(),o=n.childContextTypes;if(o!=null){var s=e.legacyContext;if(typeof t.getChildContext!="function")n=s;else{t=t.getChildContext();for(var a in t)if(!(a in o))throw Error(Ft(108,fN(n)||"Unknown",a));n=Oy({},s,t)}e.legacyContext=n,Jo(r,e,i),e.legacyContext=s}else Jo(r,e,i)}function t4(r,e){if(r&&r.defaultProps){e=Oy({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function mN(r,e,t,n,i){if(typeof t=="function")if(t.prototype&&t.prototype.isReactComponent){i=zK(t,e.legacyContext);var o=t.contextType;o=new t(n,typeof o=="object"&&o!==null?o._currentValue:i),YK(o,t,n,i),e4(r,e,o,t)}else{o=zK(t,e.legacyContext),i=ZK(r,e,t,n,o);var s=DC!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)YK(i,t,n,o),e4(r,e,i,t);else if(s){n=e.treeContext,e.treeContext=gN(n,1,0);try{Jo(r,e,i)}finally{e.treeContext=n}}else Jo(r,e,i)}else if(typeof t=="string"){switch(i=e.blockedSegment,o=J8e(i.chunks,t,n,r.responseState,i.formatContext),i.lastPushedText=!1,s=i.formatContext,i.formatContext=z8e(s,t,n),vN(r,e,o),i.formatContext=s,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(Z8e,Ht(t),eYe)}i.lastPushedText=!1}else{switch(t){case XYe:case QYe:case ile:case ole:case rle:Jo(r,e,n.children);return;case cle:Jo(r,e,n.children);return;case qYe:throw Error(Ft(343));case ule:e:{t=e.blockedBoundary,i=e.blockedSegment,o=n.fallback,n=n.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},l=kP(r,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=kP(r,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=a,e.blockedSegment=u;try{if(vN(r,e,n),u.lastPushedText&&u.textEmbedded&&u.chunks.push(UH),u.status=1,BP(a,u),a.pendingTasks===0)break e}catch(c){u.status=4,a.forceClientRender=!0,a.errorDigest=AC(r,c)}finally{e.blockedBoundary=t,e.blockedSegment=i}e=QH(r,o,t,l,s,e.legacyContext,e.context,e.treeContext),r.pingedTasks.push(e)}return}if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lle:if(n=ZK(r,e,t.render,n,i),DC!==0){t=e.treeContext,e.treeContext=gN(t,1,0);try{Jo(r,e,n)}finally{e.treeContext=t}}else Jo(r,e,n);return;case dle:t=t.type,n=t4(t,n),mN(r,e,t,n,i);return;case sle:if(i=n.children,t=t._context,n=n.value,o=t._currentValue,t._currentValue=n,s=mh,mh=n={parent:s,depth:s===null?0:s.depth+1,context:t,parentValue:o,value:n},e.context=n,Jo(r,e,i),r=mh,r===null)throw Error(Ft(403));n=r.parentValue,r.context._currentValue=n===JYe?r.context._defaultValue:n,r=mh=r.parent,e.context=r;return;case ale:n=n.children,n=n(t._currentValue),Jo(r,e,n);return;case zH:i=t._init,t=i(t._payload),n=t4(t,n),mN(r,e,t,n,void 0);return}throw Error(Ft(130,t==null?t:typeof t,""))}}function Jo(r,e,t){if(e.node=t,typeof t=="object"&&t!==null){switch(t.$$typeof){case YYe:mN(r,e,t.type,t.props,t.ref);return;case nle:throw Error(Ft(257));case zH:var n=t._init;t=n(t._payload),Jo(r,e,t);return}if(pN(t)){n4(r,e,t);return}if(t===null||typeof t!="object"?n=null:(n=UK&&t[UK]||t["@@iterator"],n=typeof n=="function"?n:null),n&&(n=n.call(t))){if(t=n.next(),!t.done){var i=[];do i.push(t.value),t=n.next();while(!t.done);n4(r,e,i)}return}throw r=Object.prototype.toString.call(t),Error(Ft(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}typeof t=="string"?(n=e.blockedSegment,n.lastPushedText=VK(e.blockedSegment.chunks,t,r.responseState,n.lastPushedText)):typeof t=="number"&&(n=e.blockedSegment,n.lastPushedText=VK(e.blockedSegment.chunks,""+t,r.responseState,n.lastPushedText))}function n4(r,e,t){for(var n=t.length,i=0;i<n;i++){var o=e.treeContext;e.treeContext=gN(o,n,i);try{vN(r,e,t[i])}finally{e.treeContext=o}}}function vN(r,e,t){var n=e.blockedSegment.formatContext,i=e.legacyContext,o=e.context;try{return Jo(r,e,t)}catch(l){if(qH(),typeof l=="object"&&l!==null&&typeof l.then=="function"){t=l;var s=e.blockedSegment,a=kP(r,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,r=QH(r,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,t.then(r,r),e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,VP(o)}else throw e.blockedSegment.formatContext=n,e.legacyContext=i,e.context=o,VP(o),l}}function uqe(r){var e=r.blockedBoundary;r=r.blockedSegment,r.status=3,Cle(this,e,r)}function yle(r,e,t){var n=r.blockedBoundary;r.blockedSegment.status=3,n===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,r=t===void 0?Error(Ft(432)):t,n.errorDigest=e.onError(r),n.parentFlushed&&e.clientRenderedBoundaries.push(n)),n.fallbackAbortableTasks.forEach(function(i){return yle(i,e,t)}),n.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(n=e.onAllReady,n()))}function BP(r,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var t=e.children[0];t.id=e.id,t.parentFlushed=!0,t.status===1&&BP(r,t)}else r.completedSegments.push(e)}function Cle(r,e,t){if(e===null){if(t.parentFlushed){if(r.completedRootSegment!==null)throw Error(Ft(389));r.completedRootSegment=t}r.pendingRootTasks--,r.pendingRootTasks===0&&(r.onShellError=ly,e=r.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(t.parentFlushed&&t.status===1&&BP(e,t),e.parentFlushed&&r.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(uqe,r),e.fallbackAbortableTasks.clear()):t.parentFlushed&&t.status===1&&(BP(e,t),e.completedSegments.length===1&&e.parentFlushed&&r.partialBoundaries.push(e)));r.allPendingTasks--,r.allPendingTasks===0&&(r=r.onAllReady,r())}function wle(r){if(r.status!==2){var e=mh,t=HF.current;HF.current=JK;var n=lb;lb=r.responseState;try{var i=r.pingedTasks,o;for(o=0;o<i.length;o++){var s=i[o],a=r,l=s.blockedSegment;if(l.status===0){VP(s.context);try{Jo(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(UH),s.abortSet.delete(s),l.status=1,Cle(a,s.blockedBoundary,l)}catch(f){if(qH(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=s.ping;f.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=f,h=AC(a,d);if(c===null?$P(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=h,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}i.splice(0,o),r.destination!==null&&XH(r,r.destination)}catch(f){AC(r,f),$P(r,f)}finally{lb=n,HF.current=t,t===JK&&VP(e)}}}function t_(r,e,t){switch(t.parentFlushed=!0,t.status){case 0:var n=t.id=r.nextSegmentId++;return t.lastPushedText=!1,t.textEmbedded=!1,r=r.responseState,Qe(e,tYe),Qe(e,r.placeholderPrefix),r=Ht(n.toString(16)),Qe(e,r),$n(e,nYe);case 1:t.status=2;var i=!0;n=t.chunks;var o=0;t=t.children;for(var s=0;s<t.length;s++){for(i=t[s];o<i.index;o++)Qe(e,n[o]);i=ex(r,e,i)}for(;o<n.length-1;o++)Qe(e,n[o]);return o<n.length&&(i=$n(e,n[o])),i;default:throw Error(Ft(390))}}function ex(r,e,t){var n=t.boundary;if(n===null)return t_(r,e,t);if(n.parentFlushed=!0,n.forceClientRender)n=n.errorDigest,$n(e,sYe),Qe(e,lYe),n&&(Qe(e,cYe),Qe(e,Ht(gi(n))),Qe(e,uYe)),$n(e,dYe),t_(r,e,t);else if(0<n.pendingTasks){n.rootSegmentID=r.nextSegmentId++,0<n.completedSegments.length&&r.partialBoundaries.push(n);var i=r.responseState,o=i.nextSuspenseID++;i=He(i.boundaryPrefix+o.toString(16)),n=n.id=i,WK(e,r.responseState,n),t_(r,e,t)}else if(n.byteSize>r.progressiveChunkSize)n.rootSegmentID=r.nextSegmentId++,r.completedBoundaries.push(n),WK(e,r.responseState,n.id),t_(r,e,t);else{if($n(e,rYe),t=n.completedSegments,t.length!==1)throw Error(Ft(391));ex(r,e,t[0])}return $n(e,aYe)}function r4(r,e,t){return FYe(e,r.responseState,t.formatContext,t.id),ex(r,e,t),MYe(e,t.formatContext)}function i4(r,e,t){for(var n=t.completedSegments,i=0;i<n.length;i++)Sle(r,e,t,n[i]);if(n.length=0,r=r.responseState,n=t.id,t=t.rootSegmentID,Qe(e,r.startInlineScript),r.sentCompleteBoundaryFunction?Qe(e,kYe):(r.sentCompleteBoundaryFunction=!0,Qe(e,HYe)),n===null)throw Error(Ft(395));return t=Ht(t.toString(16)),Qe(e,n),Qe(e,$Ye),Qe(e,r.segmentPrefix),Qe(e,t),$n(e,BYe)}function Sle(r,e,t,n){if(n.status===2)return!0;var i=n.id;if(i===-1){if((n.id=t.rootSegmentID)===-1)throw Error(Ft(392));return r4(r,e,n)}return r4(r,e,n),r=r.responseState,Qe(e,r.startInlineScript),r.sentCompleteSegmentFunction?Qe(e,NYe):(r.sentCompleteSegmentFunction=!0,Qe(e,LYe)),Qe(e,r.segmentPrefix),i=Ht(i.toString(16)),Qe(e,i),Qe(e,GYe),Qe(e,r.placeholderPrefix),Qe(e,i),$n(e,VYe)}function XH(r,e){Qo=new Uint8Array(512),Xo=0;try{var t=r.completedRootSegment;if(t!==null&&r.pendingRootTasks===0){ex(r,e,t),r.completedRootSegment=null;var n=r.responseState.bootstrapChunks;for(t=0;t<n.length-1;t++)Qe(e,n[t]);t<n.length&&$n(e,n[t])}var i=r.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var s=i[o];n=e;var a=r.responseState,l=s.id,u=s.errorDigest,c=s.errorMessage,d=s.errorComponentStack;if(Qe(n,a.startInlineScript),a.sentClientRenderFunction?Qe(n,WYe):(a.sentClientRenderFunction=!0,Qe(n,jYe)),l===null)throw Error(Ft(395));Qe(n,l),Qe(n,UYe),(u||c||d)&&(Qe(n,GF),Qe(n,Ht(VF(u||"")))),(c||d)&&(Qe(n,GF),Qe(n,Ht(VF(c||"")))),d&&(Qe(n,GF),Qe(n,Ht(VF(d)))),$n(n,zYe)}i.splice(0,o);var h=r.completedBoundaries;for(o=0;o<h.length;o++)i4(r,e,h[o]);h.splice(0,o),MK(e),Qo=new Uint8Array(512),Xo=0;var p=r.partialBoundaries;for(o=0;o<p.length;o++){var f=p[o];e:{i=r,s=e;var g=f.completedSegments;for(a=0;a<g.length;a++)if(!Sle(i,s,f,g[a])){a++,g.splice(0,a);var v=!1;break e}g.splice(0,a),v=!0}if(!v){r.destination=null,o++,p.splice(0,o);return}}p.splice(0,o);var y=r.completedBoundaries;for(o=0;o<y.length;o++)i4(r,e,y[o]);y.splice(0,o)}finally{MK(e),r.allPendingTasks===0&&r.pingedTasks.length===0&&r.clientRenderedBoundaries.length===0&&r.completedBoundaries.length===0&&e.close()}}function o4(r,e){try{var t=r.abortableTasks;t.forEach(function(n){return yle(n,r,e)}),t.clear(),r.destination!==null&&XH(r,r.destination)}catch(n){AC(r,n),$P(r,n)}}BH.renderToReadableStream=function(r,e){return new Promise(function(t,n){var i,o,s=new Promise(function(c,d){o=c,i=d}),a=lqe(r,W8e(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),U8e(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(a.status===1)a.status=2,Zae(d,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=d;try{XH(a,d)}catch(h){AC(a,h),$P(a,h)}}},cancel:function(){o4(a)}},{highWaterMark:0});c.allReady=s,t(c)},function(c){s.catch(function(){}),n(c)},i);if(e&&e.signal){var l=e.signal,u=function(){o4(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}wle(a)})};BH.version="18.3.1";var Tm,Ele;Tm=Rm,Ele=BH;xd.version=Tm.version;xd.renderToString=Tm.renderToString;xd.renderToStaticMarkup=Tm.renderToStaticMarkup;xd.renderToNodeStream=Tm.renderToNodeStream;xd.renderToStaticNodeStream=Tm.renderToStaticNodeStream;xd.renderToReadableStream=Ele.renderToReadableStream;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});var cqe=0;function dqe(){return"agPortalKey_"+ ++cqe}tx.default=dqe;var hqe=q&&q.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),pqe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(YA,"__esModule",{value:!0});YA.LegacyReactComponent=void 0;var s4=x,fqe=kc,gqe=zr,mqe=mS,vqe=xd,yqe=pqe(tx),Cqe=function(r){hqe(e,r);function e(t,n,i,o){var s=r.call(this,t,i,o)||this;return s.staticMarkup=null,s.staticRenderTime=0,s.parentComponent=n,s}return e.prototype.init=function(t){var n=this;return this.eParentElement=this.createParentElement(t),this.renderStaticMarkup(t),new gqe.AgPromise(function(i){return n.createReactComponent(t,i)})},e.prototype.createReactComponent=function(t,n){var i=this;this.isStatelessComponent()||(t.ref=function(a){i.componentInstance=a,i.addParentContainerStyleAndClasses(),i.removeStaticMarkup()});var o=s4.createElement(this.reactComponent,t),s=fqe.createPortal(o,this.eParentElement,yqe.default());this.portal=s,this.portalManager.mountReactPortal(s,this,function(a){n(a),i.isStatelessComponent()&&(i.isSlowRenderer()&&i.removeStaticMarkup(),setTimeout(function(){i.removeStaticMarkup()}))})},e.prototype.fallbackMethodAvailable=function(t){return!1},e.prototype.fallbackMethod=function(t,n){},e.prototype.isSlowRenderer=function(){return this.staticRenderTime>=e.SLOW_RENDERING_THRESHOLD},e.prototype.isNullValue=function(){return this.staticMarkup===""},e.prototype.renderStaticMarkup=function(t){if(!(this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer)){var n=console.error,i=s4.createElement(this.reactComponent,t);try{console.error=function(){};var o=Date.now(),s=vqe.renderToStaticMarkup(i);this.staticRenderTime=Date.now()-o,console.error=n,s===""?this.staticMarkup=s:s&&(this.staticMarkup=document.createElement("span"),this.staticMarkup.innerHTML=s,this.eParentElement.appendChild(this.staticMarkup))}catch{}finally{console.error=n}}},e.prototype.removeStaticMarkup=function(){this.parentComponent.isDisableStaticMarkup()||!this.componentType.cellRenderer||this.staticMarkup&&(this.staticMarkup.remove?(this.staticMarkup.remove(),this.staticMarkup=null):this.eParentElement.removeChild&&(this.eParentElement.removeChild(this.staticMarkup),this.staticMarkup=null))},e.prototype.rendered=function(){return this.isNullValue()||!!this.staticMarkup||this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},e.SLOW_RENDERING_THRESHOLD=3,e}(mqe.ReactComponent);YA.LegacyReactComponent=Cqe;var vS={},wqe=q&&q.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),jP=q&&q.__assign||function(){return jP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},jP.apply(this,arguments)},Sqe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vS,"__esModule",{value:!0});vS.NewReactComponent=void 0;var a4=x,Eqe=kc,_qe=zr,bqe=mS,Rqe=xd,l4=Sqe(tx),Tqe=function(r){wqe(e,r);function e(t,n,i){var o=r.call(this,t,n,i)||this;return o.oldPortal=null,o.key=l4.default(),o.portalKey=l4.default(),o}return e.prototype.init=function(t){var n=this;return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new _qe.AgPromise(function(i){return n.createReactComponent(i)})},e.prototype.createOrUpdatePortal=function(t){var n=this;this.isStatelessComponent()||(t.ref=function(i){n.componentInstance=i,n.addParentContainerStyleAndClasses()}),this.reactElement=a4.createElement(this.reactComponent,jP(jP({},t),{key:this.key})),this.portal=Eqe.createPortal(this.reactElement,this.eParentElement,this.portalKey)},e.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,function(n){t(n)})},e.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},e.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},e.prototype.valueRenderedIsNull=function(t){if(!this.componentType.cellRenderer)return!1;var n=console.error;try{console.error=function(){};var i=Rqe.renderToStaticMarkup(a4.createElement(this.reactComponent,t));return i===""}catch{}finally{console.error=n}return!1},e.prototype.refreshComponent=function(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},e.prototype.fallbackMethod=function(t,n){var i=this[t+"Component"];if(i)return i.bind(this)(n)},e.prototype.fallbackMethodAvailable=function(t){var n=this[t+"Component"];return!!n},e}(bqe.ReactComponent);vS.NewReactComponent=Tqe;var sp={},WP=q&&q.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r};Object.defineProperty(sp,"__esModule",{value:!0});sp.PortalManager=sp.LegacyPortalManager=void 0;var Pqe=function(){function r(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.parent=e,this.maxComponentCreationTimeMs=n||r.MAX_COMPONENT_CREATION_TIME_IN_MS}return r.prototype.getPortals=function(){return this.portals},r.prototype.destroy=function(){this.destroyed=!0},r.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},r.prototype.getComponentWrappingElement=function(){return this.wrappingElement},r.prototype.mountReactPortal=function(e,t,n){this.portals=WP(WP([],this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()},r.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},r.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||e.parent.forceUpdate(function(){e.hasPendingPortalUpdate=!1})}),this.hasPendingPortalUpdate=!0)},r.prototype.waitForInstance=function(e,t,n){var i=this;if(n===void 0&&(n=Date.now()),this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){t(e);return}console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");return}window.setTimeout(function(){i.waitForInstance(e,t,n)})}},r.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,r}();sp.LegacyPortalManager=Pqe;var Oqe=function(){function r(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||r.MAX_COMPONENT_CREATION_TIME_IN_MS}return r.prototype.getPortals=function(){return this.portals},r.prototype.destroy=function(){this.destroyed=!0},r.prototype.destroyPortal=function(e){this.portals=this.portals.filter(function(t){return t!==e}),this.batchUpdate()},r.prototype.getComponentWrappingElement=function(){return this.wrappingElement},r.prototype.mountReactPortal=function(e,t,n){this.portals=WP(WP([],this.portals),[e]),this.waitForInstance(t,n),this.batchUpdate()},r.prototype.updateReactPortal=function(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()},r.prototype.batchUpdate=function(){var e=this;this.hasPendingPortalUpdate||(setTimeout(function(){e.destroyed||(e.refresher(),e.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},r.prototype.waitForInstance=function(e,t,n){var i=this;if(n===void 0&&(n=Date.now()),this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(e.isNullValue()){t(e);return}console.error("AG Grid: React Component '"+e.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");return}window.setTimeout(function(){i.waitForInstance(e,t,n)})}},r.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,r}();sp.PortalManager=Oqe;var Mv={},JH={},ei={},Dqe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ei,"__esModule",{value:!0});ei.BeansContext=void 0;var Aqe=Dqe(x);ei.BeansContext=Aqe.default.createContext({});var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.createSyncJsComp=Oa.showJsComp=void 0;var xqe=function(r,e,t,n){var i=!r||r.componentFromFramework||e.isDestroyed();if(!i){var o=r.newAgStackInstance();if(o){var s,a,l=!1;return o.then(function(u){if(l){e.destroyBean(u);return}s=u,a=s.getGui(),t.appendChild(a),u4(n,s)}),function(){l=!0,s&&(a&&a.parentElement&&a.parentElement.removeChild(a),e.destroyBean(s),n&&u4(n,void 0))}}}};Oa.showJsComp=xqe;var u4=function(r,e){if(r)if(r instanceof Function){var t=r;t(e)}else{var n=r;n.current=e}},Iqe=function(r){var e=r.newAgStackInstance();if(e)return e.resolveNow(null,function(t){return t})};Oa.createSyncJsComp=Iqe;var Jn={},yN=q&&q.__assign||function(){return yN=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},yN.apply(this,arguments)},c4=q&&q.__spreadArray||function(r,e){for(var t=0,n=e.length,i=r.length;t<n;t++,i++)r[i]=e[t];return r},Fqe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.getNextValueIfDifferent=Jn.agFlushSync=Jn.isComponentStateless=Jn.CssClasses=Jn.classesList=void 0;var CN=Fqe(kc),Mqe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(function(n){return n!=null&&n!==""});return t.join(" ")};Jn.classesList=Mqe;var Lqe=function(){function r(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.classesMap={},t.forEach(function(i){e.classesMap[i]=!0})}return r.prototype.setClass=function(e,t){var n=!!this.classesMap[e]==t;if(n)return this;var i=new r;return i.classesMap=yN({},this.classesMap),i.classesMap[e]=t,i},r.prototype.toString=function(){var e=this,t=Object.keys(this.classesMap).filter(function(n){return e.classesMap[n]}).join(" ");return t},r}();Jn.CssClasses=Lqe;var Nqe=function(r){var e=function(){return typeof Symbol=="function"&&Symbol.for},t=function(){return e()?Symbol.for("react.memo"):60115};return typeof r=="function"&&!(r.prototype&&r.prototype.isReactComponent)||typeof r=="object"&&r.$$typeof===t()};Jn.isComponentStateless=Nqe;var Gqe=CN.default.createRoot!=null&&CN.default.flushSync!=null,Vqe=function(r,e){Gqe&&r?CN.default.flushSync(e):e()};Jn.agFlushSync=Vqe;function Hqe(r,e,t){if(e==null||r==null)return e;if(r===e||e.length===0&&r.length===0)return r;if(t||r.length===0&&e.length>0||r.length>0&&e.length===0)return e;for(var n=[],i=[],o=new Map,s=new Map,a=0;a<e.length;a++){var l=e[a];s.set(l.getInstanceId(),l)}for(var a=0;a<r.length;a++){var l=r[a];o.set(l.getInstanceId(),l),s.has(l.getInstanceId())&&n.push(l)}for(var a=0;a<e.length;a++){var l=e[a],u=l.getInstanceId();o.has(u)||i.push(l)}return n.length===r.length&&i.length===0?r:n.length===0&&i.length===e.length?e:c4(c4([],n),i)}Jn.getNextValueIfDifferent=Hqe;var UP=q&&q.__assign||function(){return UP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},UP.apply(this,arguments)},kqe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$qe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Bqe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&kqe(e,r,t);return $qe(e,r),e};Object.defineProperty(JH,"__esModule",{value:!0});var d4=zr,un=Bqe(x),jqe=ei,Wqe=Oa,n_=Jn,_le=un.forwardRef(function(r,e){var t=un.useContext(jqe.BeansContext).context,n=un.useRef(null),i=un.useRef(null),o=un.useRef(null),s=un.useRef(null),a=un.useRef(null),l=un.useRef(),u=un.useState(),c=u[0],d=u[1],h=un.useState(),p=h[0],f=h[1],g=un.useState(),v=g[0],y=g[1],C=un.useState(function(){return new n_.CssClasses}),w=C[0],S=C[1],P=un.useState(function(){return new n_.CssClasses("ag-hidden")}),F=P[0],_=P[1],E=un.useState(function(){return new n_.CssClasses("ag-hidden")}),T=E[0],O=E[1],L=un.useState(function(){return new n_.CssClasses("ag-invisible")}),V=L[0],M=L[1];un.useImperativeHandle(e,function(){return{refresh:function(){return!1}}}),un.useLayoutEffect(function(){return Wqe.showJsComp(c,t,i.current)},[c]);var N=un.useCallback(function(ce){if(n.current=ce,!n.current){t.destroyBean(l.current),l.current=null;return}var oe={setInnerRenderer:function(de,Ee){d(de),y(Ee)},setChildCount:function(de){return f(de)},addOrRemoveCssClass:function(de,Ee){return S(function(Pe){return Pe.setClass(de,Ee)})},setContractedDisplayed:function(de){return O(function(Ee){return Ee.setClass("ag-hidden",!de)})},setExpandedDisplayed:function(de){return _(function(Ee){return Ee.setClass("ag-hidden",!de)})},setCheckboxVisible:function(de){return M(function(Ee){return Ee.setClass("ag-invisible",!de)})}};l.current=t.createBean(new d4.GroupCellRendererCtrl),l.current.init(oe,n.current,o.current,s.current,a.current,_le,r)},[]),$=un.useMemo(function(){return"ag-cell-wrapper "+w.toString()},[w]),B=un.useMemo(function(){return"ag-group-expanded "+F.toString()},[F]),U=un.useMemo(function(){return"ag-group-contracted "+T.toString()},[T]),z=un.useMemo(function(){return"ag-group-checkbox "+V.toString()},[V]),j=c&&c.componentFromFramework,Q=j?c.componentClass:void 0,X=c==null&&v!=null,Z=d4._.escapeString(v,!0);return un.default.createElement("span",UP({className:$,ref:N},r.colDef?{}:{role:"gridcell"}),un.default.createElement("span",{className:B,ref:s}),un.default.createElement("span",{className:U,ref:a}),un.default.createElement("span",{className:z,ref:o}),un.default.createElement("span",{className:"ag-group-value",ref:i},X&&un.default.createElement(un.default.Fragment,null,Z),j&&un.default.createElement(Q,UP({},c.params))),un.default.createElement("span",{className:"ag-group-child-count"},p))});JH.default=_le;var r_={},Lv={},ZH={},ek={},tk={},nk={},rk={},ik={},zP=q&&q.__assign||function(){return zP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},zP.apply(this,arguments)},Uqe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zqe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kqe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Uqe(e,r,t);return zqe(e,r),e};Object.defineProperty(ik,"__esModule",{value:!0});var si=Kqe(x),Yqe=ei,i_=zr,qqe=Jn,Qqe=Oa,Xqe=function(r){var e=r.ctrl,t=si.useContext(Yqe.BeansContext).context,n=e.getColId(),i=si.useState(),o=i[0],s=i[1],a=si.useRef(null),l=si.useRef(null),u=si.useRef(null),c=si.useRef(),d=si.useRef();d.current||(d.current=new i_.CssClassManager(function(){return a.current}));var h=si.useCallback(function(v){var y;if(a.current=v,!!a.current){var C={setWidth:function(S){a.current&&(a.current.style.width=S)},addOrRemoveCssClass:function(S,P){return d.current.addOrRemoveCssClass(S,P)},setAriaDescription:function(S){a.current&&i_._.setAriaDescription(a.current,S)},setAriaSort:function(S){a.current&&(S?i_._.setAriaSort(a.current,S):i_._.removeAriaSort(a.current))},setUserCompDetails:function(S){return s(S)},getUserCompInstance:function(){return c.current||void 0}};e.setComp(C,a.current,l.current,u.current);var w=e.getSelectAllGui();(y=l.current)===null||y===void 0||y.insertAdjacentElement("afterend",w)}},[]);si.useLayoutEffect(function(){return Qqe.showJsComp(o,t,u.current,c)},[o]),si.useEffect(function(){e.setDragSource(a.current)},[o]);var p=si.useMemo(function(){var v=(o==null?void 0:o.componentFromFramework)&&qqe.isComponentStateless(o.componentClass);return!!v},[o]),f=o&&o.componentFromFramework,g=o&&o.componentClass;return si.default.createElement("div",{ref:h,className:"ag-header-cell","col-id":n,role:"columnheader",tabIndex:-1},si.default.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),si.default.createElement("div",{ref:u,className:"ag-header-cell-comp-wrapper",role:"presentation"},f&&p&&si.default.createElement(g,zP({},o.params)),f&&!p&&si.default.createElement(g,zP({},o.params,{ref:c}))))};ik.default=si.memo(Xqe);var ok={},wN=q&&q.__assign||function(){return wN=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},wN.apply(this,arguments)},Jqe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zqe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jqe(e,r,t);return Zqe(e,r),e};Object.defineProperty(ok,"__esModule",{value:!0});var Kr=eQe(x),tQe=ei,nQe=Oa,h4=Jn,rQe=function(r){var e=Kr.useContext(tQe.BeansContext).context,t=r.ctrl,n=Kr.useState(function(){return new h4.CssClasses}),i=n[0],o=n[1],s=Kr.useState(function(){return new h4.CssClasses}),a=s[0],l=s[1],u=Kr.useState("false"),c=u[0],d=u[1],h=Kr.useState(),p=h[0],f=h[1],g=Kr.useState(),v=g[0],y=g[1],C=Kr.useMemo(function(){return t.getColId()},[]),w=Kr.useRef(null),S=Kr.useRef(null),P=Kr.useCallback(function(O){if(w.current=O,!!w.current){var L={setWidth:function(V){w.current&&(w.current.style.width=V)},addOrRemoveCssClass:function(V,M){return o(function(N){return N.setClass(V,M)})},setUserCompDetails:function(V){return y(V)},setResizableDisplayed:function(V){l(function(M){return M.setClass("ag-hidden",!V)}),d(V?"false":"true")},setAriaExpanded:function(V){return f(V)}};t.setComp(L,w.current,S.current)}},[]);Kr.useLayoutEffect(function(){return nQe.showJsComp(v,e,w.current)},[v]),Kr.useEffect(function(){w.current&&t.setDragSource(w.current)},[v]);var F=Kr.useMemo(function(){return"ag-header-group-cell "+i.toString()},[i]),_=Kr.useMemo(function(){return"ag-header-cell-resize "+a.toString()},[a]),E=v&&v.componentFromFramework,T=v&&v.componentClass;return Kr.default.createElement("div",{ref:P,className:F,"col-id":C,role:"columnheader",tabIndex:-1,"aria-expanded":p},E&&Kr.default.createElement(T,wN({},v.params)),Kr.default.createElement("div",{ref:S,"aria-hidden":c,className:_}))};ok.default=Kr.memo(rQe);var sk={},KP=q&&q.__assign||function(){return KP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},KP.apply(this,arguments)},iQe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oQe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&iQe(e,r,t);return oQe(e,r),e};Object.defineProperty(sk,"__esModule",{value:!0});var Hn=sQe(x),aQe=ei,lQe=zr,o_=Jn,uQe=Oa,cQe=function(r){var e=Hn.useContext(aQe.BeansContext).context,t=Hn.useState(function(){return new o_.CssClasses("ag-header-cell","ag-floating-filter")}),n=t[0],i=t[1],o=Hn.useState(function(){return new o_.CssClasses}),s=o[0],a=o[1],l=Hn.useState(function(){return new o_.CssClasses("ag-floating-filter-button","ag-hidden")}),u=l[0],c=l[1],d=Hn.useState("false"),h=d[0],p=d[1],f=Hn.useState(),g=f[0],v=f[1],y=Hn.useRef(null),C=Hn.useRef(null),w=Hn.useRef(null),S=Hn.useRef(null),P=Hn.useRef(),F=Hn.useRef(),_=function(B){B!=null&&P.current&&P.current(B)},E=r.ctrl,T=Hn.useCallback(function(B){if(y.current=B,!!y.current){F.current=new lQe.AgPromise(function(z){P.current=z});var U={addOrRemoveCssClass:function(z,j){return i(function(Q){return Q.setClass(z,j)})},addOrRemoveBodyCssClass:function(z,j){return a(function(Q){return Q.setClass(z,j)})},setButtonWrapperDisplayed:function(z){c(function(j){return j.setClass("ag-hidden",!z)}),p(z?"false":"true")},setWidth:function(z){y.current&&(y.current.style.width=z)},setCompDetails:function(z){return v(z)},getFloatingFilterComp:function(){return F.current?F.current:null},setMenuIcon:function(z){var j;return(j=S.current)===null||j===void 0?void 0:j.appendChild(z)}};E.setComp(U,y.current,S.current,C.current)}},[]);Hn.useLayoutEffect(function(){return uQe.showJsComp(g,e,C.current,_)},[g]);var O=Hn.useMemo(function(){return n.toString()},[n]),L=Hn.useMemo(function(){return s.toString()},[s]),V=Hn.useMemo(function(){return u.toString()},[u]),M=Hn.useMemo(function(){var B=g&&g.componentFromFramework&&o_.isComponentStateless(g.componentClass);return!!B},[g]),N=g&&g.componentFromFramework,$=g&&g.componentClass;return Hn.default.createElement("div",{ref:T,className:O,role:"gridcell",tabIndex:-1},Hn.default.createElement("div",{ref:C,className:L,role:"presentation"},N&&M&&Hn.default.createElement($,KP({},g.params)),N&&!M&&Hn.default.createElement($,KP({},g.params,{ref:_}))),Hn.default.createElement("div",{ref:w,"aria-hidden":h,className:V,role:"presentation"},Hn.default.createElement("button",{ref:S,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};sk.default=Hn.memo(cQe);var dQe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hQe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dQe(e,r,t);return hQe(e,r),e},ak=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rk,"__esModule",{value:!0});var p4=zr,ho=pQe(x),fQe=ak(ik),gQe=ak(ok),mQe=ak(sk),f4=Jn,vQe=function(r){var e=r.ctrl,t=ho.useMemo(function(){return e.getTopAndHeight()},[]),n=t.topOffset,i=t.rowHeight,o=e.getAriaRowIndex(),s=e.getHeaderRowClass(),a=ho.useMemo(function(){return e.getTransform()},[]),l=ho.useState(function(){return i+"px"}),u=l[0],c=l[1],d=ho.useState(function(){return n+"px"}),h=d[0],p=d[1],f=ho.useState(function(){return e.getHeaderCtrls()}),g=f[0],v=f[1],y=ho.useRef(null),C=ho.useCallback(function(P){if(y.current=P,!!P){var F={setHeight:function(_){return c(_)},setTop:function(_){return p(_)},setHeaderCtrls:function(_,E,T){f4.agFlushSync(T,function(){v(function(O){return f4.getNextValueIfDifferent(O,_,E)})})},setWidth:function(_){y.current&&(y.current.style.width=_)}};e.setComp(F,!1)}},[]),w=ho.useMemo(function(){return{transform:a,height:u,top:h}},[a,u,h]),S=ho.useCallback(function(P){switch(e.getType()){case p4.HeaderRowType.COLUMN_GROUP:return ho.default.createElement(gQe.default,{ctrl:P,key:P.getInstanceId()});case p4.HeaderRowType.FLOATING_FILTER:return ho.default.createElement(mQe.default,{ctrl:P,key:P.getInstanceId()});default:return ho.default.createElement(fQe.default,{ctrl:P,key:P.getInstanceId()})}},[]);return ho.default.createElement("div",{ref:C,className:s,role:"row",style:w,"aria-rowindex":o},g.map(S))};rk.default=ho.memo(vQe);var yQe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),CQe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yQe(e,r,t);return CQe(e,r),e},SQe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nk,"__esModule",{value:!0});var Ui=wQe(x),EQe=ei,_Qe=zr,bQe=SQe(rk),RQe=function(r){var e=Ui.useState(!0),t=e[0],n=e[1],i=Ui.useState([]),o=i[0],s=i[1],a=Ui.useContext(EQe.BeansContext).context,l=Ui.useRef(null),u=Ui.useRef(null),c=Ui.useRef(null),d=r.pinned==="left",h=r.pinned==="right",p=!d&&!h,f=Ui.useCallback(function(y){if(l.current=y,!l.current){a.destroyBean(c.current),c.current=null;return}var C={setDisplayed:n,setCtrls:function(w){return s(w)},setCenterWidth:function(w){u.current&&(u.current.style.width=w)},setViewportScrollLeft:function(w){l.current&&(l.current.scrollLeft=w)},setPinnedContainerWidth:function(w){l.current&&(l.current.style.width=w,l.current.style.minWidth=w,l.current.style.maxWidth=w)}};c.current=a.createBean(new _Qe.HeaderRowContainerCtrl(r.pinned)),c.current.setComp(C,l.current)},[]),g=t?"":"ag-hidden",v=function(){return o.map(function(y){return Ui.default.createElement(bQe.default,{ctrl:y,key:y.getInstanceId()})})};return Ui.default.createElement(Ui.default.Fragment,null,d&&Ui.default.createElement("div",{ref:f,className:"ag-pinned-left-header "+g,"aria-hidden":!t,role:"presentation"},v()),h&&Ui.default.createElement("div",{ref:f,className:"ag-pinned-right-header "+g,"aria-hidden":!t,role:"presentation"},v()),p&&Ui.default.createElement("div",{ref:f,className:"ag-header-viewport "+g,role:"presentation"},Ui.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},v())))};nk.default=Ui.memo(RQe);var TQe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PQe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),OQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&TQe(e,r,t);return PQe(e,r),e},DQe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tk,"__esModule",{value:!0});var zo=OQe(x),AQe=ei,xQe=zr,IQe=Jn,kF=DQe(nk),FQe=function(){var r=zo.useState(function(){return new IQe.CssClasses}),e=r[0],t=r[1],n=zo.useState(),i=n[0],o=n[1],s=zo.useContext(AQe.BeansContext).context,a=zo.useRef(null),l=zo.useRef(null),u=zo.useCallback(function(h){if(a.current=h,!h){s.destroyBean(l.current),l.current=null;return}var p={addOrRemoveCssClass:function(f,g){return t(function(v){return v.setClass(f,g)})},setHeightAndMinHeight:function(f){return o(f)}};l.current=s.createBean(new xQe.GridHeaderCtrl),l.current.setComp(p,a.current,a.current)},[]),c=zo.useMemo(function(){var h=e.toString();return"ag-header "+h},[e]),d=zo.useMemo(function(){return{height:i,minHeight:i}},[i]);return zo.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},zo.default.createElement(kF.default,{pinned:"left"}),zo.default.createElement(kF.default,{pinned:null}),zo.default.createElement(kF.default,{pinned:"right"}))};tk.default=zo.memo(FQe);var yS={};Object.defineProperty(yS,"__esModule",{value:!0});var MQe=x,LQe=function(r,e){MQe.useEffect(function(){var t=e.current;if(t){var n=t.parentElement;if(n){var i=document.createComment(r);return n.insertBefore(i,t),function(){n.removeChild(i)}}}},[r])};yS.default=LQe;var lk={},uk={},ble={},ck={},nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.useEffectOnce=void 0;var of=x,NQe=function(r){var e=of.useRef(r),t=of.useRef(),n=of.useRef(!1),i=of.useRef(!1),o=of.useState(0),s=o[1];n.current&&(i.current=!0),of.useEffect(function(){return n.current||(t.current=e.current(),n.current=!0),s(function(a){return a+1}),function(){i.current&&t.current&&t.current()}},[])};nx.useEffectOnce=NQe;var GQe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),VQe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),HQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&GQe(e,r,t);return VQe(e,r),e};Object.defineProperty(ck,"__esModule",{value:!0});var kQe=zr,uy=HQe(x),$Qe=kc,BQe=ei,jQe=nx,WQe=function(r){var e=uy.useState(),t=e[0],n=e[1],i=uy.useContext(BQe.BeansContext),o=i.context,s=i.popupService,a=i.localeService,l=i.gridOptionsService;return jQe.useEffectOnce(function(){var u=r.editDetails,c=r.cellCtrl,d=r.eParentCell,h=u.compDetails,p=l.is("stopEditingWhenCellsLoseFocus"),f=o.createBean(new kQe.PopupEditorWrapper(h.params)),g=f.getGui();if(r.jsChildComp){var v=r.jsChildComp.getGui();v&&g.appendChild(v)}var y={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:g,position:u.popupPosition,keepWithinBounds:!0},C=s.positionPopupByComponent.bind(s,y),w=a.getLocaleTextFunc(),S=s.addPopup({modal:p,eChild:g,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:C,ariaLabel:w("ariaLabelCellEditor","Cell Editor")}),P=S?S.hideFunc:void 0;return n(f),r.jsChildComp&&r.jsChildComp.afterGuiAttached&&r.jsChildComp.afterGuiAttached(),function(){P!=null&&P(),o.destroyBean(f)}}),uy.default.createElement(uy.default.Fragment,null,t&&r.wrappedContent&&$Qe.createPortal(r.wrappedContent,t.getGui()))};ck.default=uy.memo(WQe);var dk={};Object.defineProperty(dk,"__esModule",{value:!0});var s_=x,UQe=ei,zQe=function(r,e,t,n,i,o){var s=s_.useContext(UQe.BeansContext).context,a=s_.useCallback(function(){var l=i.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),s.destroyBean(l),i.current=void 0}},[]);s_.useEffect(function(){var l=r!=null,u=r&&r.compDetails&&!r.compDetails.componentFromFramework,c=e&&t==null,d=l&&u&&!c;if(!d){a();return}var h=r.compDetails;if(i.current){var p=i.current,f=p.refresh!=null&&r.force==!1,g=f?p.refresh(h.params):!1,v=g===!0||g===void 0;if(v)return;a()}var y=h.newAgStackInstance();if(y){var C=y.resolveNow(null,function(P){return P});if(C){var w=C.getGui();if(w){var S=e?t:o.current;S.appendChild(w),i.current=C}}}},[r,e,n]),s_.useEffect(function(){return a},[])};dk.default=zQe;(function(r){var e=q&&q.__assign||function(){return e=Object.assign||function(y){for(var C,w=1,S=arguments.length;w<S;w++){C=arguments[w];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(y[P]=C[P])}return y},e.apply(this,arguments)},t=q&&q.__createBinding||(Object.create?function(y,C,w,S){S===void 0&&(S=w),Object.defineProperty(y,S,{enumerable:!0,get:function(){return C[w]}})}:function(y,C,w,S){S===void 0&&(S=w),y[S]=C[w]}),n=q&&q.__setModuleDefault||(Object.create?function(y,C){Object.defineProperty(y,"default",{enumerable:!0,value:C})}:function(y,C){y.default=C}),i=q&&q.__importStar||function(y){if(y&&y.__esModule)return y;var C={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&t(C,y,w);return n(C,y),C},o=q&&q.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(r,"__esModule",{value:!0}),r.CellCompState=void 0;var s=zr,a=i(x),l=Jn,u=o(ck),c=o(dk),d=ei,h=Oa;(function(y){y[y.ShowValue=0]="ShowValue",y[y.EditValue=1]="EditValue"})(r.CellCompState||(r.CellCompState={}));var p=function(y,C,w){var S=w.getColumn();if(!y&&C.isPopup&&C.isPopup()){var P="AG Grid: Found an issue in column "+S.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";s._.doOnce(function(){return console.warn(P)},"jsEditorComp-isPopup-"+w.getColumn().getColId())}if(y&&C.getPopupPosition&&C.getPopupPosition()!=null){var F="AG Grid: Found an issue in column "+S.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";s._.doOnce(function(){return console.warn(F)},"jsEditorComp-getPopupPosition-"+w.getColumn().getColId())}},f=function(y,C,w,S,P,F){var _=y.compDetails,E=_.componentClass,T=_.componentFromFramework&&!y.popup,O=_.componentFromFramework&&y.popup,L=!_.componentFromFramework&&y.popup;return a.default.createElement(a.default.Fragment,null,T&&a.default.createElement(E,e({},y.compDetails.params,{ref:C})),O&&a.default.createElement(u.default,{editDetails:y,cellCtrl:P,eParentCell:S,wrappedContent:a.default.createElement(E,e({},y.compDetails.params,{ref:w}))}),L&&F&&a.default.createElement(u.default,{editDetails:y,cellCtrl:P,eParentCell:S,jsChildComp:F}))},g=function(y,C,w,S,P,F,_){var E=y.compDetails,T=y.value,O=!E,L=E&&E.componentFromFramework,V=E&&E.componentClass,M=T!=null&&T.toString?T.toString():T,N=function(){return a.default.createElement(a.default.Fragment,null,O&&a.default.createElement(a.default.Fragment,null,M),L&&!F&&a.default.createElement(V,e({},E.params,{key:C,ref:S})),L&&F&&a.default.createElement(V,e({},E.params,{key:C})))};return a.default.createElement(a.default.Fragment,null,P?a.default.createElement("span",{role:"presentation",id:"cell-"+w,className:"ag-cell-value",ref:_},N()):N())},v=function(y){var C=a.useContext(d.BeansContext).context,w=y.cellCtrl,S=y.printLayout,P=y.editingRow,F=w.getTabIndex(),_=w.getColumnIdSanitised(),E=w.getInstanceId(),T=a.useState(function(){return w.getIsCellRenderer()?void 0:{compDetails:void 0,value:w.getValueToDisplay(),force:!1}}),O=T[0],L=T[1],V=a.useState(),M=V[0],N=V[1],$=a.useState(1),B=$[0],U=$[1],z=a.useState(),j=z[0],Q=z[1],X=a.useState(!1),Z=X[0],ce=X[1],oe=a.useState(!1),de=oe[0],Ee=oe[1],Pe=a.useState(!1),$e=Pe[0],Ne=Pe[1],xe=a.useState(),st=xe[0],Ue=xe[1],_t=a.useMemo(function(){return w.isForceWrapper()},[w]),Rt=a.useRef(null),Ct=a.useRef(null),Sn=a.useRef(),qe=a.useRef(),Ie=a.useRef(),sn=a.useRef([]),bt=a.useRef(),ni=a.useState(0),jn=ni[0],nn=ni[1],we=a.useCallback(function(Pt){bt.current=Pt,nn(function(Ot){return Ot+1})},[]),Le=O!=null&&(Z||$e||de),Je=_t||Le,Ze=a.useCallback(function(Pt,Ot){if(qe.current=Ot,Ot){p(Pt,Ot,w);var kt=Ot.isCancelBeforeStart&&Ot.isCancelBeforeStart();kt&&setTimeout(function(){w.stopEditing(!0),w.focusCell(!0)})}},[w]),It=a.useCallback(function(Pt){return Ze(!0,Pt)},[Ze]),En=a.useCallback(function(Pt){return Ze(!1,Pt)},[Ze]),vt=a.useRef();vt.current||(vt.current=new s.CssClassManager(function(){return Rt.current})),c.default(O,Je,bt.current,jn,Sn,Rt);var Lt=a.useRef();a.useLayoutEffect(function(){var Pt=Lt.current,Ot=O;if(Lt.current=O,!(Pt==null||Pt.compDetails==null||Ot==null||Ot.compDetails==null)){var kt=Pt.compDetails,lt=Ot.compDetails;if(kt.componentClass==lt.componentClass&&!(Ct.current==null||Ct.current.refresh==null)){var an=Ct.current.refresh(lt.params);an!=!0&&U(function(tn){return tn+1})}}},[O]),a.useLayoutEffect(function(){var Pt=M&&!M.compDetails.componentFromFramework;if(Pt){var Ot=M.compDetails,kt=M.popup===!0,lt=h.createSyncJsComp(Ot);if(lt){var an=lt.getGui();if(Ze(kt,lt),!kt){var tn=(_t?Ie:Rt).current;tn==null||tn.appendChild(an),lt.afterGuiAttached&&lt.afterGuiAttached()}return Ue(lt),function(){C.destroyBean(lt),Ze(kt,void 0),Ue(void 0),an&&an.parentElement&&an.parentElement.removeChild(an)}}}},[M]);var _n=a.useCallback(function(Pt){if(Ie.current=Pt,!Ie.current){sn.current.forEach(function(lt){return lt()}),sn.current=[];return}var Ot=function(lt){var an;if(lt){var tn=lt.getGui();(an=Ie.current)===null||an===void 0||an.insertAdjacentElement("afterbegin",tn),sn.current.push(function(){C.destroyBean(lt),s._.removeFromParent(tn)})}return lt};if(Z){var kt=w.createSelectionCheckbox();Ot(kt)}$e&&Ot(w.createDndSource()),de&&Ot(w.createRowDragComp())},[w,C,$e,de,Z]),mn=a.useCallback(function(Pt){if(Rt.current=Pt,!!Rt.current&&w){var Ot={addOrRemoveCssClass:function(lt,an){return vt.current.addOrRemoveCssClass(lt,an)},setUserStyles:function(lt){return Q(lt)},getFocusableElement:function(){return Rt.current},setIncludeSelection:function(lt){return ce(lt)},setIncludeRowDrag:function(lt){return Ee(lt)},setIncludeDndSource:function(lt){return Ne(lt)},getCellEditor:function(){return qe.current||null},getCellRenderer:function(){return Ct.current?Ct.current:Sn.current},getParentOfValue:function(){return bt.current?bt.current:Ie.current?Ie.current:Rt.current},setRenderDetails:function(lt,an,tn){L(function(Tn){return(Tn==null?void 0:Tn.compDetails)!==lt||(Tn==null?void 0:Tn.value)!==an||(Tn==null?void 0:Tn.force)!==tn?{value:an,compDetails:lt,force:tn}:Tn})},setEditDetails:function(lt,an,tn){lt?(N({compDetails:lt,popup:an,popupPosition:tn}),an||L(void 0)):N(void 0)}},kt=Ie.current||void 0;w.setComp(Ot,Rt.current,kt,S,P)}},[]),cr=a.useMemo(function(){var Pt=O&&O.compDetails&&O.compDetails.componentFromFramework&&l.isComponentStateless(O.compDetails.componentClass);return!!Pt},[O]);a.useLayoutEffect(function(){var Pt;Rt.current&&(vt.current.addOrRemoveCssClass("ag-cell-value",!Je),vt.current.addOrRemoveCssClass("ag-cell-inline-editing",!!M&&!M.popup),vt.current.addOrRemoveCssClass("ag-cell-popup-editing",!!M&&!!M.popup),vt.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!M||!!M.popup),(Pt=w.getRowCtrl())===null||Pt===void 0||Pt.setInlineEditingCss(!!M),w.shouldRestoreFocus()&&!w.isEditing()&&Rt.current.focus({preventScroll:!0}))});var nr=function(){return a.default.createElement(a.default.Fragment,null,O!=null&&g(O,B,E,Ct,Je,cr,we),M!=null&&f(M,En,It,Rt.current,w,st))};return a.default.createElement("div",{ref:mn,style:j,tabIndex:F,role:"gridcell","col-id":_},Je?a.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:_n},nr()):nr())};r.default=a.memo(v)})(ble);var YP=q&&q.__assign||function(){return YP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},YP.apply(this,arguments)},KQe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YQe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qQe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&KQe(e,r,t);return YQe(e,r),e},QQe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uk,"__esModule",{value:!0});var On=qQe(x),XQe=zr,JQe=Oa,$F=Jn,ZQe=ei,eXe=QQe(ble),tXe=function(r){var e=On.useContext(ZQe.BeansContext).context,t=r.rowCtrl,n=r.containerType,i=t.getTabIndex(),o=On.useRef(t.getDomOrder()),s=t.isFullWidth(),a=t.getRowNode().displayed,l=On.useState(function(){return a?t.getRowIndex():null}),u=l[0],c=l[1],d=On.useState(function(){return t.getRowId()}),h=d[0],p=d[1],f=On.useState(function(){return t.getBusinessKey()}),g=f[0],v=f[1],y=On.useState(function(){return t.getRowStyles()}),C=y[0],w=y[1],S=On.useState(function(){return null}),P=S[0],F=S[1],_=On.useState(),E=_[0],T=_[1],O=On.useState(function(){return a?t.getInitialRowTop(n):void 0}),L=O[0],V=O[1],M=On.useState(function(){return a?t.getInitialTransform(n):void 0}),N=M[0],$=M[1],B=On.useRef(null),U=On.useRef(),z=On.useRef(!1),j=On.useState(0),Q=j[0],X=j[1];On.useEffect(function(){var xe;if(!z.current&&E&&!(Q>10)){var st=(xe=B.current)===null||xe===void 0?void 0:xe.firstChild;st?(t.setupDetailRowAutoHeight(st),z.current=!0):X(function(Ue){return Ue+1})}},[E,Q]);var Z=On.useRef();Z.current||(Z.current=new XQe.CssClassManager(function(){return B.current}));var ce=On.useCallback(function(xe){if(B.current=xe,!B.current){t.unsetComp(n);return}if(t.isAlive()){var st={setTop:V,setTransform:$,addOrRemoveCssClass:function(Ue,_t){return Z.current.addOrRemoveCssClass(Ue,_t)},setDomOrder:function(Ue){return o.current=Ue},setRowIndex:c,setRowId:p,setRowBusinessKey:v,setUserStyles:w,setCellCtrls:function(Ue,_t){$F.agFlushSync(_t,function(){F(function(Rt){return $F.getNextValueIfDifferent(Rt,Ue,o.current)})})},showFullWidth:function(Ue){return T(Ue)},getFullWidthCellRenderer:function(){return U.current}};t.setComp(st,B.current,n)}},[]);On.useLayoutEffect(function(){return JQe.showJsComp(E,e,B.current,U)},[E]);var oe=On.useMemo(function(){var xe={top:L,transform:N};return Object.assign(xe,C),xe},[L,N,C]),de=s&&E&&E.componentFromFramework,Ee=!s&&P!=null,Pe=On.useMemo(function(){var xe=(E==null?void 0:E.componentFromFramework)&&$F.isComponentStateless(E.componentClass);return!!xe},[E]),$e=function(){return P==null?void 0:P.map(function(xe){return On.default.createElement(eXe.default,{cellCtrl:xe,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:xe.getInstanceId()})})},Ne=function(){var xe=E.componentClass;return On.default.createElement(On.default.Fragment,null,Pe&&On.default.createElement(xe,YP({},E.params)),!Pe&&On.default.createElement(xe,YP({},E.params,{ref:U})))};return On.default.createElement("div",{ref:ce,role:"row",style:oe,"row-index":u,"row-id":h,"row-business-key":g,tabIndex:i},Ee&&$e(),de&&Ne())};uk.default=On.memo(tXe);var nXe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rXe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iXe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nXe(e,r,t);return rXe(e,r),e},Rle=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lk,"__esModule",{value:!0});var Wd=zr,ir=iXe(x),a_=Jn,oXe=Rle(yS),sXe=Rle(uk),aXe=ei,lXe=function(r){var e=ir.useContext(aXe.BeansContext).context,t=r.name,n=ir.useMemo(function(){return Wd.getRowContainerTypeForName(t)},[t]),i=ir.useRef(null),o=ir.useRef(null),s=ir.useRef([]),a=ir.useState(function(){return[]}),l=a[0],u=a[1],c=ir.useRef(!1),d=ir.useRef(),h=ir.useMemo(function(){return Wd.RowContainerCtrl.getRowContainerCssClasses(t)},[t]),p=ir.useMemo(function(){return a_.classesList(h.viewport)},[h]),f=ir.useMemo(function(){return a_.classesList(h.container)},[h]),g=t===Wd.RowContainerName.CENTER||t===Wd.RowContainerName.TOP_CENTER||t===Wd.RowContainerName.BOTTOM_CENTER||t===Wd.RowContainerName.STICKY_TOP_CENTER,v=g?i:o;oXe.default(" AG Row Container "+t+" ",v);var y=ir.useCallback(function(){return g?i.current!=null&&o.current!=null:o.current!=null},[]),C=ir.useCallback(function(){return g?i.current==null&&o.current==null:o.current==null},[]),w=ir.useCallback(function(){if(C()&&(e.destroyBean(d.current),d.current=null),y()){var _=function(T){a_.agFlushSync(T,function(){u(function(O){return a_.getNextValueIfDifferent(O,s.current,c.current)})})},E={setViewportHeight:function(T){i.current&&(i.current.style.height=T)},setRowCtrls:function(T,O){var L=O&&s.current.length>0&&T.length>0;s.current=T,_(L)},setDomOrder:function(T){c.current!=T&&(c.current=T,_(!1))},setContainerWidth:function(T){o.current&&(o.current.style.width=T)}};d.current=e.createBean(new Wd.RowContainerCtrl(t)),d.current.setComp(E,o.current,i.current)}},[y,C]),S=ir.useCallback(function(_){o.current=_,w()},[w]),P=ir.useCallback(function(_){i.current=_,w()},[w]),F=function(){return ir.default.createElement("div",{className:f,ref:S,role:l.length?"rowgroup":"presentation"},l.map(function(_){return ir.default.createElement(sXe.default,{rowCtrl:_,containerType:n,key:_.getInstanceId()})}))};return ir.default.createElement(ir.default.Fragment,null,g?ir.default.createElement("div",{className:p,ref:P,role:"presentation"},F()):F())};lk.default=ir.memo(lXe);var uXe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cXe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dXe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&uXe(e,r,t);return cXe(e,r),e},hk=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ek,"__esModule",{value:!0});var _r=zr,Gt=dXe(x),hXe=ei,pXe=hk(tk),Nv=hk(yS),fXe=hk(lk),sf=Jn,gXe=function(){var r=Gt.useContext(hXe.BeansContext),e=r.context,t=r.agStackComponentsRegistry,n=r.resizeObserverService,i=Gt.useState(""),o=i[0],s=i[1],a=Gt.useState(0),l=a[0],u=a[1],c=Gt.useState(0),d=c[0],h=c[1],p=Gt.useState("0px"),f=p[0],g=p[1],v=Gt.useState("0px"),y=v[0],C=v[1],w=Gt.useState("100%"),S=w[0],P=w[1],F=Gt.useState(""),_=F[0],E=F[1],T=Gt.useState(""),O=T[0],L=T[1],V=Gt.useState(null),M=V[0],N=V[1],$=Gt.useState(""),B=$[0],U=$[1],z=Gt.useState(null),j=z[0],Q=z[1],X=Gt.useState("ag-layout-normal"),Z=X[0],ce=X[1],oe=Gt.useRef();oe.current||(oe.current=new _r.CssClassManager(function(){return de.current}));var de=Gt.useRef(null),Ee=Gt.useRef(null),Pe=Gt.useRef(null),$e=Gt.useRef(null),Ne=Gt.useRef(null),xe=Gt.useRef(null),st=Gt.useRef([]),Ue=Gt.useRef([]);Nv.default(" AG Grid Body ",de),Nv.default(" AG Pinned Top ",Ee),Nv.default(" AG Sticky Top ",Pe),Nv.default(" AG Middle ",Ne),Nv.default(" AG Pinned Bottom ",xe);var _t=Gt.useCallback(function(Le){if(de.current=Le,!de.current){e.destroyBeans(st.current),Ue.current.forEach(function(vt){return vt()}),st.current=[],Ue.current=[];return}if(e){var Je=function(vt){var Lt=t.getComponentClass(vt),_n=e.createBean(new Lt);return st.current.push(_n),_n},Ze=function(vt,Lt){vt.appendChild(Lt),Ue.current.push(function(){return vt.removeChild(Lt)})};Ze(de.current,document.createComment(" AG Fake Horizontal Scroll ")),Ze(de.current,Je("AG-FAKE-HORIZONTAL-SCROLL").getGui()),Ze(de.current,document.createComment(" AG Overlay Wrapper ")),Ze(de.current,Je("AG-OVERLAY-WRAPPER").getGui()),$e.current&&(Ze($e.current,document.createComment(" AG Fake Vertical Scroll ")),Ze($e.current,Je("AG-FAKE-VERTICAL-SCROLL").getGui()));var It={setRowAnimationCssOnBodyViewport:s,setColumnCount:function(vt){de.current&&_r._.setAriaColCount(de.current,vt)},setRowCount:function(vt){de.current&&_r._.setAriaRowCount(de.current,vt)},setTopHeight:u,setBottomHeight:h,setStickyTopHeight:g,setStickyTopTop:C,setStickyTopWidth:P,setTopDisplay:E,setBottomDisplay:L,setColumnMovingCss:function(vt,Lt){return oe.current.addOrRemoveCssClass(vt,Lt)},updateLayoutClasses:ce,setAlwaysVerticalScrollClass:N,setPinnedTopBottomOverflowY:U,setCellSelectableCss:function(vt,Lt){return Q(Lt?vt:null)},setBodyViewportWidth:function(vt){Ne.current&&(Ne.current.style.width=vt)},registerBodyViewportResizeListener:function(vt){if(Ne.current){var Lt=n.observeResize(Ne.current,vt);Ue.current.push(function(){return Lt()})}}},En=e.createBean(new _r.GridBodyCtrl);st.current.push(En),En.setComp(It,de.current,Ne.current,Ee.current,xe.current,Pe.current)}},[]),Rt=Gt.useMemo(function(){return sf.classesList("ag-root","ag-unselectable",Z)},[Z]),Ct=Gt.useMemo(function(){return sf.classesList("ag-body-viewport",o,Z,M,j)},[o,Z,M,j]),Sn=Gt.useMemo(function(){return sf.classesList("ag-body",Z)},[Z]),qe=Gt.useMemo(function(){return sf.classesList("ag-floating-top",j)},[j]),Ie=Gt.useMemo(function(){return sf.classesList("ag-sticky-top",j)},[j]),sn=Gt.useMemo(function(){return sf.classesList("ag-floating-bottom",j)},[j]),bt=Gt.useMemo(function(){return{height:l,minHeight:l,display:_,overflowY:B}},[l,_,B]),ni=Gt.useMemo(function(){return{height:f,top:y,width:S}},[f,y,S]),jn=Gt.useMemo(function(){return{height:d,minHeight:d,display:O,overflowY:B}},[d,O,B]),nn=function(Le){return Gt.default.createElement(fXe.default,{name:Le,key:Le+"-container"})},we=function(Le){var Je=Le.section,Ze=Le.children,It=Le.className,En=Le.style;return Gt.default.createElement("div",{ref:Je,className:It,role:"presentation",style:En},Ze.map(nn))};return Gt.default.createElement("div",{ref:_t,className:Rt,role:"treegrid"},Gt.default.createElement(pXe.default,null),we({section:Ee,className:qe,style:bt,children:[_r.RowContainerName.TOP_LEFT,_r.RowContainerName.TOP_CENTER,_r.RowContainerName.TOP_RIGHT,_r.RowContainerName.TOP_FULL_WIDTH]}),Gt.default.createElement("div",{className:Sn,ref:$e,role:"presentation"},we({section:Ne,className:Ct,children:[_r.RowContainerName.LEFT,_r.RowContainerName.CENTER,_r.RowContainerName.RIGHT,_r.RowContainerName.FULL_WIDTH]})),we({section:Pe,className:Ie,style:ni,children:[_r.RowContainerName.STICKY_TOP_LEFT,_r.RowContainerName.STICKY_TOP_CENTER,_r.RowContainerName.STICKY_TOP_RIGHT,_r.RowContainerName.STICKY_TOP_FULL_WIDTH]}),we({section:xe,className:sn,style:jn,children:[_r.RowContainerName.BOTTOM_LEFT,_r.RowContainerName.BOTTOM_CENTER,_r.RowContainerName.BOTTOM_RIGHT,_r.RowContainerName.BOTTOM_FULL_WIDTH]}))};ek.default=Gt.memo(gXe);var pk={},mXe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vXe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yXe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mXe(e,r,t);return vXe(e,r),e};Object.defineProperty(pk,"__esModule",{value:!0});var Ko=yXe(x),l_=zr,CXe=ei,wXe=function(r,e){var t=r.children,n=r.eFocusableElement,i=r.onTabKeyDown,o=r.gridCtrl,s=Ko.useContext(CXe.BeansContext).context,a=Ko.useRef(null),l=Ko.useRef(null),u=Ko.useRef(),c=function(g){var v=g==null?void 0:parseInt(g,10).toString();[a,l].forEach(function(y){var C,w;v===void 0?(C=y.current)===null||C===void 0||C.removeAttribute("tabindex"):(w=y.current)===null||w===void 0||w.setAttribute("tabindex",v)})};Ko.useImperativeHandle(e,function(){return{forceFocusOutOfContainer:function(){var g;(g=u.current)===null||g===void 0||g.forceFocusOutOfContainer()}}});var d=Ko.useCallback(function(){if(!a.current&&!l.current){s.destroyBean(u.current),u.current=null;return}if(a.current&&l.current){var g={setTabIndex:c};u.current=s.createBean(new l_.TabGuardCtrl({comp:g,eTopGuard:a.current,eBottomGuard:l.current,eFocusableElement:n,onTabKeyDown:i,focusInnerElement:function(v){return o.focusInnerElement(v)}}))}},[]),h=Ko.useCallback(function(g){a.current=g,d()},[d]),p=Ko.useCallback(function(g){l.current=g,d()},[d]),f=function(g){var v=g==="top"?l_.TabGuardClassNames.TAB_GUARD_TOP:l_.TabGuardClassNames.TAB_GUARD_BOTTOM;return Ko.default.createElement("div",{className:l_.TabGuardClassNames.TAB_GUARD+" "+v,role:"presentation",ref:g==="top"?h:p})};return Ko.default.createElement(Ko.default.Fragment,null,f("top"),t,f("bottom"))},SXe=Ko.forwardRef(wXe);pk.default=Ko.memo(SXe);var EXe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_Xe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bXe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&EXe(e,r,t);return _Xe(e,r),e},fk=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ZH,"__esModule",{value:!0});var g4=zr,An=bXe(x),RXe=ei,TXe=fk(ek),PXe=fk(yS),OXe=fk(pk),m4=Jn,DXe=function(r){var e=r.context,t=An.useState(""),n=t[0],i=t[1],o=An.useState(""),s=o[0],a=o[1],l=An.useState(""),u=l[0],c=l[1],d=An.useState(null),h=d[0],p=d[1],f=An.useState(null),g=f[0],v=f[1],y=An.useState(!1),C=y[0],w=y[1],S=An.useState(),P=S[0],F=S[1],_=An.useRef(null),E=An.useRef(null),T=An.useRef(),O=An.useState(null),L=O[0],V=O[1],M=An.useRef(function(){}),N=An.useCallback(function(){},[]),$=An.useMemo(function(){return e.isDestroyed()?null:e.getBean("beans")},[e]);PXe.default(" AG Grid ",E);var B=An.useCallback(function(X){if(E.current=X,!E.current){e.destroyBean(_.current),_.current=null;return}if(!e.isDestroyed()){_.current=e.createBean(new g4.GridCtrl);var Z=_.current;M.current=Z.focusInnerElement.bind(Z);var ce={destroyGridUi:function(){},setRtlClass:i,addOrRemoveKeyboardFocusClass:function(oe){return a(oe?g4.FocusService.AG_KEYBOARD_FOCUS:"")},forceFocusOutOfContainer:function(){var oe;(oe=T.current)===null||oe===void 0||oe.forceFocusOutOfContainer()},updateLayoutClasses:c,getFocusableContainers:function(){var oe,de,Ee=[],Pe=(oe=E.current)===null||oe===void 0?void 0:oe.querySelector(".ag-root"),$e=(de=E.current)===null||de===void 0?void 0:de.querySelector(".ag-side-bar:not(.ag-hidden)");return Pe&&Ee.push(Pe),$e&&Ee.push($e),Ee},setCursor:p,setUserSelect:v};Z.setComp(ce,E.current,E.current),w(!0)}},[]);An.useEffect(function(){if(!(!P||!$||!_.current||!L||!E.current)){var X=_.current,Z=[],ce=$.agStackComponentsRegistry,oe=ce.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),de=ce.getComponentClass("AG-SIDE-BAR"),Ee=ce.getComponentClass("AG-STATUS-BAR"),Pe=ce.getComponentClass("AG-WATERMARK"),$e=ce.getComponentClass("AG-PAGINATION"),Ne=[],xe=E.current;if(X.showDropZones()&&oe){var st=e.createBean(new oe),Ue=st.getGui();xe.insertAdjacentElement("afterbegin",Ue),Ne.push(Ue),Z.push(st)}if(X.showSideBar()&&de){var _t=e.createBean(new de),Ue=_t.getGui(),Rt=L.querySelector(".ag-tab-guard-bottom");Rt&&(Rt.insertAdjacentElement("beforebegin",Ue),Ne.push(Ue)),Z.push(_t)}if(X.showStatusBar()&&Ee){var Ct=e.createBean(new Ee),Ue=Ct.getGui();xe.insertAdjacentElement("beforeend",Ue),Ne.push(Ue),Z.push(Ct)}if($e){var Sn=e.createBean(new $e),Ue=Sn.getGui();xe.insertAdjacentElement("beforeend",Ue),Ne.push(Ue),Z.push(Sn)}if(X.showWatermark()&&Pe){var qe=e.createBean(new Pe),Ue=qe.getGui();xe.insertAdjacentElement("beforeend",Ue),Ne.push(Ue),Z.push(qe)}return function(){e.destroyBeans(Z),Ne.forEach(function(Ie){Ie.parentElement&&Ie.parentElement.removeChild(Ie)})}}},[P,L,$]);var U=An.useMemo(function(){return m4.classesList("ag-root-wrapper",n,s,u)},[n,s,u]),z=An.useMemo(function(){return m4.classesList("ag-root-wrapper-body","ag-focus-managed",u)},[u]),j=An.useMemo(function(){return{userSelect:g??"",WebkitUserSelect:g??"",cursor:h??""}},[g,h]),Q=An.useCallback(function(X){T.current=X,F(X!==null)},[]);return An.default.createElement("div",{ref:B,className:U,style:j,role:"presentation"},An.default.createElement("div",{className:z,ref:V,role:"presentation"},C&&L&&$&&An.default.createElement(RXe.BeansContext.Provider,{value:$},An.default.createElement(OXe.default,{ref:Q,eFocusableElement:L,onTabKeyDown:N,gridCtrl:_.current},An.default.createElement(TXe.default,null)))))};ZH.default=An.memo(DXe);var v4;function gk(){if(v4)return Lv;v4=1;var r=q&&q.__extends||function(){var g=function(v,y){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(C[S]=w[S])},g(v,y)};return function(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");g(v,y);function C(){this.constructor=v}v.prototype=y===null?Object.create(y):(C.prototype=y.prototype,new C)}}(),e=q&&q.__assign||function(){return e=Object.assign||function(g){for(var v,y=1,C=arguments.length;y<C;y++){v=arguments[y];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(g[w]=v[w])}return g},e.apply(this,arguments)},t=q&&q.__createBinding||(Object.create?function(g,v,y,C){C===void 0&&(C=y),Object.defineProperty(g,C,{enumerable:!0,get:function(){return v[y]}})}:function(g,v,y,C){C===void 0&&(C=y),g[C]=v[y]}),n=q&&q.__setModuleDefault||(Object.create?function(g,v){Object.defineProperty(g,"default",{enumerable:!0,value:v})}:function(g,v){g.default=v}),i=q&&q.__importStar||function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var y in g)y!=="default"&&Object.prototype.hasOwnProperty.call(g,y)&&t(v,g,y);return n(v,g),v},o=q&&q.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.AgGridReactUi=void 0;var s=zr,a=i(x),l=vS,u=sp,c=Tle(),d=o(ZH),h=function(g){var v,y,C=a.useRef(null),w=a.useRef(null),S=a.useRef(null),P=a.useRef([]),F=a.useRef([]),_=a.useRef(g),E=a.useRef(!1),T=a.useState(void 0),O=T[0],L=T[1],V=a.useCallback(function(z){z.rowDataChangeDetectionStrategy&&s._.doOnce(function(){return console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/")},"rowDataChangeDetectionStrategy_Deprecation")},[]),M=a.useState(0),N=M[1],$=a.useCallback(function(z){if(w.current=z,!w.current){P.current.forEach(function(oe){return oe()}),P.current.length=0;return}var j=g.modules||[];S.current||(S.current=new u.PortalManager(function(){return N(function(oe){return oe+1})},g.componentWrappingElement,g.maxComponentCreationTimeMs),P.current.push(function(){var oe;(oe=S.current)===null||oe===void 0||oe.destroy(),S.current=null}));var Q={providedBeanInstances:{frameworkComponentWrapper:new p(S.current)},modules:j,frameworkOverrides:new c.ReactFrameworkOverrides(!0)};C.current=g.gridOptions||{},C.current=s.ComponentUtil.copyAttributesToGridOptions(C.current,g),V(g);var X=function(oe){L(oe),P.current.push(function(){oe.destroy()});var de=oe.getBean(s.CtrlsService.NAME);de.whenReady(function(){if(!oe.isDestroyed()&&C.current){var Ee=C.current.api;Ee&&g.setGridApi&&g.setGridApi(Ee,C.current.columnApi)}})},Z=function(oe){var de=oe.getBean(s.CtrlsService.NAME);de.whenReady(function(){F.current.forEach(function(Ee){return Ee()}),F.current.length=0,E.current=!0})},ce=new s.GridCoreCreator;ce.create(w.current,C.current,X,Z,Q)},[]),B=a.useMemo(function(){return e({height:"100%"},g.containerStyle||{})},[g.containerStyle]),U=a.useCallback(function(z){E.current?z():F.current.push(z)},[]);return a.useEffect(function(){var z={};f(_.current,g,z),_.current=g,U(function(){var j;!((j=C.current)===null||j===void 0)&&j.api&&s.ComponentUtil.processOnChange(z,C.current.api)})},[g]),a.default.createElement("div",{style:B,className:g.className,ref:$},O&&!O.isDestroyed()?a.default.createElement(d.default,{context:O}):null,(y=(v=S.current)===null||v===void 0?void 0:v.getPortals())!==null&&y!==void 0?y:null)};Lv.AgGridReactUi=h;var p=function(g){r(v,g);function v(y){var C=g.call(this)||this;return C.parent=y,C}return v.prototype.createWrapper=function(y,C){return new l.NewReactComponent(y,this.parent,C)},v}(s.BaseComponentWrapper);function f(g,v,y){var C=!!v.debug;Object.keys(v).forEach(function(w){s.ComponentUtil.ALL_PROPERTIES_SET.has(w)&&g[w]!==v[w]&&(C&&console.log(" agGridReact: ["+w+"] property changed"),y[w]={previousValue:g[w],currentValue:v[w]})}),s.ComponentUtil.EVENT_CALLBACKS.forEach(function(w){g[w]!==v[w]&&(C&&console.log("agGridReact: ["+w+"] event callback changed"),y[w]={previousValue:g[w],currentValue:v[w]})})}return Lv}var y4;function AXe(){if(y4)return r_;y4=1;var r=q&&q.__assign||function(){return r=Object.assign||function(c){for(var d,h=1,p=arguments.length;h<p;h++){d=arguments[h];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},r.apply(this,arguments)},e=q&&q.__createBinding||(Object.create?function(c,d,h,p){p===void 0&&(p=h),Object.defineProperty(c,p,{enumerable:!0,get:function(){return d[h]}})}:function(c,d,h,p){p===void 0&&(p=h),c[p]=d[h]}),t=q&&q.__setModuleDefault||(Object.create?function(c,d){Object.defineProperty(c,"default",{enumerable:!0,value:d})}:function(c,d){c.default=d}),n=q&&q.__importStar||function(c){if(c&&c.__esModule)return c;var d={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&e(d,c,h);return t(d,c),d};Object.defineProperty(r_,"__esModule",{value:!0});var i=n(x),o=Jn,s=zr,a=ei,l=gk(),u=function(c,d){var h=i.useContext(a.BeansContext),p=h.ctrlsFactory,f=h.context,g=h.gridOptionsService,v=h.resizeObserverService,y=h.clientSideRowModel,C=h.serverSideRowModel,w=i.useState(function(){return new o.CssClasses}),S=w[0],P=w[1],F=i.useState(function(){return new o.CssClasses}),_=F[0],E=F[1],T=i.useState(),O=T[0],L=T[1],V=i.useState(),M=V[0],N=V[1],$=i.useRef(),B=i.useRef(null),U=i.useRef(),z=i.useMemo(function(){return s.ModuleRegistry.__getGridRegisteredModules(c.api.getGridId())},[c]),j=i.useMemo(function(){return S.toString()+" ag-details-row"},[S]),Q=i.useMemo(function(){return _.toString()+" ag-details-grid"},[_]);d&&i.useImperativeHandle(d,function(){return{refresh:function(){var ce,oe;return(oe=(ce=$.current)===null||ce===void 0?void 0:ce.refresh())!==null&&oe!==void 0?oe:!1}}}),c.template&&s._.doOnce(function(){return console.warn("AG Grid: detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/")},"React_detailCellRenderer.template");var X=i.useCallback(function(ce){if(B.current=ce,!B.current){f.destroyBean($.current),U.current&&U.current();return}var oe={addOrRemoveCssClass:function(Pe,$e){return P(function(Ne){return Ne.setClass(Pe,$e)})},addOrRemoveDetailGridCssClass:function(Pe,$e){return E(function(Ne){return Ne.setClass(Pe,$e)})},setDetailGrid:function(Pe){return L(Pe)},setRowData:function(Pe){return N(Pe)},getGui:function(){return B.current}},de=p.getInstance("detailCellRenderer");if(de&&(f.createBean(de),de.init(oe,c),$.current=de,g.is("detailRowAutoHeight"))){var Ee=function(){if(B.current!=null){var Pe=B.current.clientHeight;if(Pe!=null&&Pe>0){var $e=function(){c.node.setRowHeight(Pe),y?y.onRowHeightChanged():C&&C.onRowHeightChanged()};setTimeout($e,0)}}};U.current=v.observeResize(B.current,Ee),Ee()}},[]),Z=i.useCallback(function(ce,oe){var de;(de=$.current)===null||de===void 0||de.registerDetailWithMaster(ce,oe)},[]);return i.default.createElement("div",{className:j,ref:X},O&&i.default.createElement(l.AgGridReactUi,r({className:Q},O,{modules:z,rowData:M,setGridApi:Z})))};return r_.default=i.forwardRef(u),r_}var C4;function Tle(){if(C4)return Mv;C4=1;var r=q&&q.__extends||function(){var s=function(a,l){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(u[d]=c[d])},s(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");s(a,l);function u(){this.constructor=a}a.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),e=q&&q.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.ReactFrameworkOverrides=void 0;var t=zr,n=e(JH),i=e(AXe()),o=function(s){r(a,s);function a(l){var u=s.call(this)||this;return u.frameworkComponents={agGroupCellRenderer:n.default,agGroupRowRenderer:n.default,agDetailCellRenderer:i.default},u.reactUi=l,u.renderingEngine=l?"react":"vanilla",u}return a.prototype.frameworkComponent=function(l){if(this.reactUi)return this.frameworkComponents[l]},a.prototype.isFrameworkComponent=function(l){if(!l)return!1;var u=l.prototype,c=u&&"getGui"in u;return!c},a}(t.VanillaFrameworkOverrides);return Mv.ReactFrameworkOverrides=o,Mv}var Ple=q&&q.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qP=q&&q.__assign||function(){return qP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},qP.apply(this,arguments)},xXe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),IXe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FXe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xXe(e,r,t);return IXe(e,r),e},MXe=q&&q.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uS,"__esModule",{value:!0});uS.AgGridReactLegacy=void 0;var Xi=zr,Id=MXe(aZ),w4=FXe(x),LXe=YA,NXe=vS,GXe=sp,VXe=Tle(),mk=function(r){Ple(e,r);function e(t){var n=r.call(this,t)||this;return n.props=t,n.api=null,n.destroyed=!1,n.SYNCHRONOUS_CHANGE_PROPERTIES=["context"],n.portalManager=new GXe.LegacyPortalManager(n,t.componentWrappingElement,t.maxComponentCreationTimeMs),n}return e.prototype.render=function(){var t=this;return w4.default.createElement("div",{style:this.createStyleForDiv(),className:this.props.className,ref:function(n){t.eGridDiv=n}},this.portalManager.getPortals())},e.prototype.createStyleForDiv=function(){return qP({height:"100%"},this.props.containerStyle||{})},e.prototype.componentDidMount=function(){var t=this.props.modules||[],n={providedBeanInstances:{agGridReact:this,frameworkComponentWrapper:new HXe(this,this.portalManager)},modules:t,frameworkOverrides:new VXe.ReactFrameworkOverrides(!1)},i=this.props.gridOptions||{};this.gridOptions=Xi.ComponentUtil.copyAttributesToGridOptions(i,this.props),this.checkForDeprecations(this.props),new Xi.Grid(this.eGridDiv,this.gridOptions,n),this.api=this.gridOptions.api,this.columnApi=this.gridOptions.columnApi,this.props.setGridApi(this.api,this.columnApi)},e.prototype.checkForDeprecations=function(t){t.rowDataChangeDetectionStrategy&&Xi._.doOnce(function(){return console.warn("AG Grid: Since v29 rowDataChangeDetectionStrategy has been deprecated. Row data property changes will be compared by reference via triple equals ===. See https://ag-grid.com/react-data-grid/react-hooks/")},"rowDataChangeDetectionStrategy_Deprecation")},e.prototype.shouldComponentUpdate=function(t){return this.processPropsChanges(this.props,t),!1},e.prototype.componentDidUpdate=function(t){this.processPropsChanges(t,this.props)},e.prototype.processPropsChanges=function(t,n){var i={};this.extractGridPropertyChanges(t,n,i),this.processSynchronousChanges(i),this.processAsynchronousChanges(i)},e.prototype.extractGridPropertyChanges=function(t,n,i){var o=!!n.debug;Object.keys(n).forEach(function(s){Xi.ComponentUtil.ALL_PROPERTIES_SET.has(s)&&t[s]!==n[s]&&(o&&console.log("agGridReact: ["+s+"] property changed"),i[s]={previousValue:t[s],currentValue:n[s]})}),Xi.ComponentUtil.EVENT_CALLBACKS.forEach(function(s){t[s]!==n[s]&&(o&&console.log("agGridReact: ["+s+"] event callback changed"),i[s]={previousValue:t[s],currentValue:n[s]})})},e.prototype.componentWillUnmount=function(){this.api&&(this.api.destroy(),this.api=null),this.destroyed=!0,this.portalManager.destroy()},e.prototype.isDisableStaticMarkup=function(){return this.props.disableStaticMarkup===!0},e.prototype.isLegacyComponentRendering=function(){return this.props.legacyComponentRendering===!0},e.prototype.processSynchronousChanges=function(t){var n=qP({},t);if(Object.keys(n).length>0){var i={};this.SYNCHRONOUS_CHANGE_PROPERTIES.forEach(function(o){n[o]&&(i[o]=n[o],delete n[o])}),Object.keys(i).length>0&&this.api&&Xi.ComponentUtil.processOnChange(i,this.api)}return n},e.prototype.processAsynchronousChanges=function(t){var n=this;Object.keys(t).length>0&&window.setTimeout(function(){n.api&&Xi.ComponentUtil.processOnChange(t,n.api)})},e.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,e.defaultProps={legacyComponentRendering:!1,disableStaticMarkup:!1,maxComponentCreationTimeMs:e.MAX_COMPONENT_CREATION_TIME_IN_MS},e}(w4.Component);uS.AgGridReactLegacy=mk;mk.propTypes={gridOptions:Id.default.object};Gp(Xi.ComponentUtil.EVENT_CALLBACKS,Id.default.func);Gp(Xi.ComponentUtil.BOOLEAN_PROPERTIES,Id.default.bool);Gp(Xi.ComponentUtil.STRING_PROPERTIES,Id.default.string);Gp(Xi.ComponentUtil.OBJECT_PROPERTIES,Id.default.object);Gp(Xi.ComponentUtil.ARRAY_PROPERTIES,Id.default.array);Gp(Xi.ComponentUtil.NUMBER_PROPERTIES,Id.default.number);Gp(Xi.ComponentUtil.FUNCTION_PROPERTIES,Id.default.func);function Gp(r,e){r.forEach(function(t){mk[t]=e})}var HXe=function(r){Ple(e,r);function e(t,n){var i=r.call(this)||this;return i.agGridReact=t,i.portalManager=n,i}return e.prototype.createWrapper=function(t,n){return this.agGridReact.isLegacyComponentRendering()?new LXe.LegacyReactComponent(t,this.agGridReact,this.portalManager,n):new NXe.NewReactComponent(t,this.portalManager,n)},e}(Xi.BaseComponentWrapper),kXe=q&&q.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),QP=q&&q.__assign||function(){return QP=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},QP.apply(this,arguments)},$Xe=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BXe=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jXe=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$Xe(e,r,t);return BXe(e,r),e};Object.defineProperty(PA,"__esModule",{value:!0});PA.AgGridReact=void 0;var BF=jXe(x),WXe=uS,UXe=gk(),zXe=function(r){kXe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.setGridApi=function(n,i){t.api=n,t.columnApi=i},t}return e.prototype.render=function(){var t=this.props.suppressReactUi?BF.default.createElement(WXe.AgGridReactLegacy,QP({},this.props,{setGridApi:this.setGridApi})):BF.default.createElement(UXe.AgGridReactUi,QP({},this.props,{setGridApi:this.setGridApi}));return t},e}(BF.Component);PA.AgGridReact=zXe;var Ole={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ChangeDetectionStrategyType=void 0,function(e){e.IdentityCheck="IdentityCheck",e.DeepValueCheck="DeepValueCheck",e.NoCheck="NoCheck"}(r.ChangeDetectionStrategyType||(r.ChangeDetectionStrategyType={}))})(Ole);(function(r){var e=q&&q.__createBinding||(Object.create?function(s,a,l,u){u===void 0&&(u=l),Object.defineProperty(s,u,{enumerable:!0,get:function(){return a[l]}})}:function(s,a,l,u){u===void 0&&(u=l),s[u]=a[l]}),t=q&&q.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,s,l)};Object.defineProperty(r,"__esModule",{value:!0}),r.AgGridReactFire=r.AgGridReactLegacy=r.AgGridReact=void 0;var n=PA;Object.defineProperty(r,"AgGridReact",{enumerable:!0,get:function(){return n.AgGridReact}});var i=uS;Object.defineProperty(r,"AgGridReactLegacy",{enumerable:!0,get:function(){return i.AgGridReactLegacy}});var o=gk();Object.defineProperty(r,"AgGridReactFire",{enumerable:!0,get:function(){return o.AgGridReactUi}}),t(Ole,r)})(aie);const KXe=(r,e)=>{try{localStorage.setItem(`gridState_${r}`,JSON.stringify(e))}catch(t){console.error("Error saving grid state:",t)}},YXe=r=>{try{const e=localStorage.getItem(`gridState_${r}`);return e?JSON.parse(e):null}catch(e){return console.error("Error loading grid state:",e),null}};Be.registerModules([pUe,RUe,UUe,kUe,oie]);const qXe={".ag-theme-material":{"--ag-font-family":"var(--mantine-font-family)","--ag-font-size":"14px","--ag-header-height":"48px","--ag-header-background-color":"var(--mantine-color-gray-0)","--ag-header-foreground-color":"var(--mantine-color-dark-9)","--ag-header-column-separator-display":"block","--ag-header-column-separator-color":"var(--mantine-color-gray-3)","--ag-row-hover-color":"var(--mantine-color-gray-0)","--ag-selected-row-background-color":"var(--mantine-color-blue-0)","--ag-odd-row-background-color":"transparent","--ag-row-border-color":"var(--mantine-color-gray-2)","--ag-cell-horizontal-padding":"16px","--ag-borders":"none",border:"1px solid var(--mantine-color-gray-3)",borderRadius:"var(--mantine-radius-md)"},".ag-theme-material .ag-header-cell":{fontWeight:600},".ag-theme-material .ag-header-cell-text":{color:"var(--mantine-color-dark-9)"},".ag-theme-material .ag-cell":{display:"flex",alignItems:"center"},".ag-theme-material .ag-row":{borderBottom:"1px solid var(--mantine-color-gray-2)",cursor:"pointer"},".ag-theme-material .ag-row-selected":{backgroundColor:"var(--mantine-color-blue-0)"}};function Dle(){const{patients:r,loading:e}=lV(),t=ve(null),[n,i]=Te([]),o=up(),[s]=Vce(),a=s.get("view"),l=ve(!1);console.log("PatientList render:",{patients:r,patientsLoading:e,rowData:n}),Fe(()=>{if(r!=null&&r.length){console.log("Raw patients data:",r);const g=r.map(v=>{var y;return{name:`${v.firstName} ${v.lastName}`,age:v.dateOfBirth?QXe(v.dateOfBirth):"",riskLevel:v.riskLevel||"low",lastVisit:v.lastVisit||"",careGaps:((y=v.careGaps)==null?void 0:y.length)||0,provider:v.provider||"",id:v.id}});console.log("Formatted grid data:",g),i(g)}else console.log("No patients data available:",r)},[r]);const[u]=Te([{field:"name",headerName:"Patient Name",filter:!0,checkboxSelection:!0,headerCheckboxSelection:!0,flex:2,minWidth:200,cellStyle:{fontWeight:500}},{field:"age",headerName:"Age",filter:"agNumberColumnFilter",width:100,type:"numericColumn",cellStyle:{justifyContent:"center"}},{field:"riskLevel",headerName:"Risk Level",filter:!0,cellRenderer:XXe,width:130,cellStyle:{display:"flex",alignItems:"center"},filterParams:{values:["low","medium","high"]}},{field:"lastVisit",headerName:"Last Visit",filter:"agDateColumnFilter",width:150,valueFormatter:g=>g.value?new Date(g.value).toLocaleDateString():""},{field:"careGaps",headerName:"Care Gaps",filter:"agNumberColumnFilter",width:120,type:"numericColumn",cellStyle:g=>({color:g.value>0?"#fa5252":"inherit",fontWeight:g.value>0?500:400,justifyContent:"center"})},{field:"provider",headerName:"Provider",filter:!0,flex:1,minWidth:150}]),c=Rn(()=>({sortable:!0,resizable:!0,filter:!0,floatingFilter:!0,suppressMovable:!0,suppressMenu:!0}),[]),d=at(g=>{console.log("Grid ready:",g);const v=YXe("patientsGrid");if(v&&t.current.columnApi.applyColumnState({state:v}),a&&!l.current){const y=Hz(a);g.api.setFilterModel(y),l.current=!0}g.api.sizeColumnsToFit()},[a]),h=()=>{const g=t.current.columnApi.getColumnState();KXe("patientsGrid",g)},p=at(g=>{var v;if((v=t.current)!=null&&v.api){const y=Hz(g);t.current.api.setFilterModel(y)}},[]),f=at(g=>{o(`/patients/${g.data.id}`)},[o]);return e?b.jsx(Nn,{p:"md",radius:"md",style:{height:"calc(100vh - 180px)"},children:b.jsx(Ke,{position:"center",style:{height:"100%"},children:b.jsx(dd,{size:"xl"})})}):b.jsxs(Nn,{p:"xl",radius:"md",style:{height:"calc(100vh - 180px)"},children:[b.jsxs(Ke,{position:"apart",mb:"xl",children:[b.jsxs(Se,{size:"xl",weight:700,color:"dark.9",children:["Patient List (",n.length,")"]}),b.jsxs(Ke,{spacing:"sm",children:[b.jsxs(Un,{position:"bottom-end",shadow:"md",children:[b.jsx(Un.Target,{children:b.jsx(mr,{variant:"light",leftIcon:b.jsx($0e,{size:16}),size:"sm",children:"Filters"})}),b.jsxs(Un.Dropdown,{children:[b.jsx(Un.Label,{children:"Preset Filters"}),b.jsx(Un.Item,{onClick:()=>p("highRisk"),children:"High Risk Patients"}),b.jsx(Un.Item,{onClick:()=>p("recentVisits"),children:"Recent Visits"})]})]}),b.jsx(mr,{variant:"light",leftIcon:b.jsx(N0e,{size:16}),onClick:()=>t.current.api.showToolPanel(),size:"sm",children:"Columns"}),b.jsx(mr,{variant:"subtle",onClick:h,size:"sm",children:"Save View"})]})]}),b.jsx(Ge,{className:"ag-theme-material",sx:{height:"calc(100% - 60px)",width:"100%",...qXe},children:b.jsx(aie.AgGridReact,{ref:t,rowData:n,columnDefs:u,defaultColDef:c,rowSelection:"multiple",suppressRowClickSelection:!1,onGridReady:d,onRowClicked:f,sideBar:{toolPanels:["columns"],defaultToolPanel:""},domLayout:"autoHeight",enableBrowserTooltips:!0,rowHeight:48,headerHeight:48,pagination:!0,paginationPageSize:20,animateRows:!0,suppressCellFocus:!0})})]})}function QXe(r){const e=new Date,t=new Date(r);let n=e.getFullYear()-t.getFullYear();const i=e.getMonth()-t.getMonth();return(i<0||i===0&&e.getDate()<t.getDate())&&n--,n}const XXe=({value:r})=>{const e=()=>{switch(r==null?void 0:r.toLowerCase()){case"high":return{backgroundColor:"#ff6b6b",color:"white",border:"1px solid #fa5252"};case"medium":return{backgroundColor:"#ffd43b",color:"#212529",border:"1px solid #fab005"};case"low":return{backgroundColor:"#51cf66",color:"white",border:"1px solid #40c057"};default:return{backgroundColor:"#868e96",color:"white",border:"1px solid #495057"}}};return r?b.jsx(Ge,{sx:t=>({...e(),padding:"4px 12px",borderRadius:t.radius.sm,fontSize:t.fontSizes.sm,fontWeight:500,display:"inline-block",textTransform:"capitalize"}),children:r}):null},Ale=()=>{const{user:r}=nm(),{colorScheme:e,toggleColorScheme:t}=Lpe(),[n,i]=Te({fhirServerUrl:"",debugMode:!1,notifications:!0,theme:e,language:"en",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,dashboardLayout:"default",emailNotifications:{careGaps:!0,appointments:!0,riskScores:!0},displayPreferences:{compactView:!1,showMetricLabels:!0,defaultDateRange:"30days"}}),[o,s]=Te((r==null?void 0:r.displayName)||""),[a,l]=Te(!0),[u,c]=Te(!1),[d,h]=Te(!1),[p,f]=Te(null);Fe(()=>{g()},[r]);const g=async()=>{try{const C=ns(wo,"userSettings",r.uid),w=await _G(C);if(w.exists()){const S=w.data();i(P=>({...P,...S,theme:e}))}else await Hf(C,{...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}catch(C){console.error("Error loading settings:",C),f("Failed to load settings")}finally{l(!1)}},v=async()=>{try{c(!0);const C=ns(wo,"users",r.uid);await Hf(C,{displayName:o,updatedAt:new Date().toISOString()}),h(!0),setTimeout(()=>h(!1),3e3)}catch(C){f(C.message)}finally{c(!1)}},y=async()=>{try{c(!0);const C=ns(wo,"userSettings",r.uid);await Hf(C,{...n,theme:e,updatedAt:new Date().toISOString()}),FT({title:"Settings Saved",message:"Your preferences have been updated successfully",color:"green"}),h(!0),setTimeout(()=>h(!1),3e3)}catch(C){console.error("Error saving settings:",C),f("Failed to save settings"),FT({title:"Error",message:"Failed to save settings",color:"red"})}finally{c(!1)}};return b.jsx(Gi,{size:"md",py:"xl",children:b.jsxs(Fn,{defaultValue:"profile",children:[b.jsxs(Fn.List,{mb:"xl",children:[b.jsx(Fn.Tab,{value:"profile",icon:b.jsx(CZ,{size:14}),children:"Profile"}),b.jsx(Fn.Tab,{value:"settings",icon:b.jsx(GG,{size:14}),children:"Application Settings"}),b.jsx(Fn.Tab,{value:"notifications",icon:b.jsx(dZ,{size:14}),children:"Notifications"})]}),p&&b.jsx(Fh,{icon:b.jsx(tm,{size:16}),title:"Error",color:"red",mb:"md",children:p}),d&&b.jsx(Fh,{icon:b.jsx(M0e,{size:16}),title:"Success",color:"green",mb:"md",children:"Changes saved successfully"}),b.jsx(Fn.Panel,{value:"profile",children:b.jsx(Nn,{p:"xl",radius:"md",withBorder:!0,children:b.jsxs(Dn,{spacing:"xl",children:[b.jsxs(Ke,{children:[b.jsx(b0,{src:r==null?void 0:r.photoURL,size:"xl",radius:"xl"}),b.jsxs("div",{children:[b.jsx(Iy,{label:"Display Name",value:o,onChange:C=>s(C.target.value),size:"md"}),b.jsx(Se,{size:"sm",color:"dimmed",mt:4,children:r==null?void 0:r.email})]})]}),b.jsx(Oo,{}),b.jsx(Ke,{position:"right",children:b.jsx(mr,{onClick:v,loading:u,children:"Save Profile"})})]})})}),b.jsx(Fn.Panel,{value:"settings",children:b.jsx(Nn,{p:"xl",radius:"md",withBorder:!0,children:b.jsxs(Dn,{spacing:"md",children:[b.jsx(Iy,{label:"FHIR Server URL",description:"The URL of your FHIR server",value:n.fhirServerUrl,onChange:C=>i({...n,fhirServerUrl:C.target.value})}),b.jsx(th,{label:"Debug Mode",description:"Enable detailed logging",checked:n.debugMode,onChange:C=>i({...n,debugMode:C.target.checked})}),b.jsxs(Ke,{position:"apart",children:[b.jsx(Se,{children:"Theme Mode"}),b.jsx(th,{checked:e==="dark",onChange:()=>t(),size:"lg",onLabel:b.jsx(q0e,{size:16,stroke:2.5}),offLabel:b.jsx(z0e,{size:16,stroke:2.5})})]}),b.jsx(Oo,{label:"Display Preferences"}),b.jsx(th,{label:"Compact View",checked:n.displayPreferences.compactView,onChange:C=>i(w=>({...w,displayPreferences:{...w.displayPreferences,compactView:C.currentTarget.checked}}))}),b.jsx(th,{label:"Show Metric Labels",checked:n.displayPreferences.showMetricLabels,onChange:C=>i(w=>({...w,displayPreferences:{...w.displayPreferences,showMetricLabels:C.currentTarget.checked}}))}),b.jsx($O,{label:"Default Date Range",value:n.displayPreferences.defaultDateRange,onChange:C=>i(w=>({...w,displayPreferences:{...w.displayPreferences,defaultDateRange:C}})),data:[{value:"7days",label:"Last 7 Days"},{value:"30days",label:"Last 30 Days"},{value:"90days",label:"Last 90 Days"},{value:"ytd",label:"Year to Date"}]}),b.jsx(Ke,{position:"right",mt:"xl",children:b.jsx(mr,{onClick:y,loading:u,children:"Save Settings"})})]})})}),b.jsx(Fn.Panel,{value:"notifications",children:b.jsx(Nn,{p:"xl",radius:"md",withBorder:!0,children:b.jsxs(Dn,{spacing:"md",children:[b.jsx(th,{label:"Enable Notifications",description:"Receive system notifications",checked:n.notifications,onChange:C=>i({...n,notifications:C.target.checked})}),b.jsx(Ke,{position:"right",mt:"xl",children:b.jsx(mr,{onClick:y,loading:u,children:"Save Notification Settings"})})]})})})]})})},S4=[{value:"all",label:"All Contracts"},{value:"cigna-ma",label:"Cigna Medicare Advantage"},{value:"humana-ma",label:"Humana Medicare Advantage"},{value:"aetna-ma",label:"Aetna Medicare Advantage"},{value:"uhc-ma",label:"UnitedHealthcare Medicare Advantage"}],JXe=({title:r,value:e,trend:t,description:n,icon:i,color:o})=>{const s=()=>t==="up"?b.jsx(vZ,{size:16,color:"#40c057"}):t==="down"?b.jsx(X0e,{size:16,color:"#fa5252"}):b.jsx(U0e,{size:16});return b.jsxs(Nn,{p:"md",radius:"md",withBorder:!0,h:"100%",children:[b.jsxs(Ke,{position:"apart",mb:"xs",children:[b.jsx(hs,{size:"xl",radius:"md",color:o,variant:"light",children:b.jsx(i,{size:24})}),b.jsxs(Ke,{spacing:"xs",children:[s(),b.jsxs(Se,{size:"sm",color:t==="up"?"green":t==="down"?"red":"gray",children:[t==="up"?"+":t==="down"?"-":"",Math.abs(t),"%"]})]})]}),b.jsx(Se,{size:"xl",weight:700,mb:"xs",children:e}),b.jsx(Se,{size:"sm",weight:500,mb:"xs",children:r}),b.jsx(Se,{size:"xs",color:"dimmed",children:n})]})},ZXe=({contract:r,score:e,metrics:t})=>b.jsxs(Nn,{p:"xl",radius:"md",withBorder:!0,children:[b.jsxs(Ke,{position:"apart",mb:"lg",children:[b.jsxs(Dn,{spacing:0,children:[b.jsx(Se,{size:"lg",weight:500,children:r}),b.jsx(Se,{size:"sm",color:"dimmed",children:"VBC Success Score"})]}),b.jsx(A0,{size:80,thickness:8,sections:[{value:e,color:e>=75?"green":e>=50?"yellow":"red"}],label:b.jsxs(Se,{size:"lg",weight:700,align:"center",children:[e,"%"]})})]}),b.jsx(sr,{children:t.map((n,i)=>b.jsx(sr.Col,{span:6,children:b.jsxs(Ke,{spacing:"xs",children:[b.jsxs(Se,{size:"sm",color:"dimmed",children:[n.label,":"]}),b.jsx(Se,{size:"sm",weight:500,children:n.value})]})},i))})]}),xle=()=>{const[r,e]=Te("all"),t={"cigna-ma":{score:82,metrics:[{label:"Quality Score",value:"85%"},{label:"RAF Score",value:"1.25"},{label:"Cost of Care",value:"$842 PMPM"},{label:"Member Satisfaction",value:"4.2/5"}]},"humana-ma":{score:75,metrics:[{label:"Quality Score",value:"78%"},{label:"RAF Score",value:"1.15"},{label:"Cost of Care",value:"$891 PMPM"},{label:"Member Satisfaction",value:"4.0/5"}]}},n=[{title:"Total Patients",value:"2,547",trend:12,description:"Active patients across all contracts",icon:VG,color:"blue"},{title:"Quality Score",value:"83%",trend:5,description:"Average across all contracts",icon:dw,color:"green"},{title:"RAF Score",value:"1.21",trend:8,description:"Risk adjustment factor",icon:mZ,color:"violet"},{title:"Shared Savings",value:"$1.2M",trend:15,description:"Projected annual savings",icon:L0e,color:"yellow"}];return b.jsxs(Gi,{size:"xl",py:"xl",children:[b.jsxs(Ke,{position:"apart",mb:"xl",children:[b.jsx($r,{order:2,children:"Performance Dashboard"}),b.jsx($O,{value:r,onChange:e,data:S4,w:300})]}),b.jsx(sr,{mb:"xl",children:n.map((i,o)=>b.jsx(sr.Col,{span:3,children:b.jsx(JXe,{...i})},o))}),b.jsx($r,{order:3,mb:"lg",children:"Contract Performance"}),b.jsx(sr,{children:Object.entries(t).map(([i,o],s)=>{var a;return b.jsx(sr.Col,{span:6,children:b.jsx(ZXe,{contract:(a=S4.find(l=>l.value===i))==null?void 0:a.label,score:o.score,metrics:o.metrics})},i)})})]})},eJe=[{value:"epic",label:"Epic"},{value:"cerner",label:"Cerner"},{value:"athena",label:"Athena Health"},{value:"allscripts",label:"Allscripts"}],tJe=({hcc:r,icdCode:e,description:t,rafValue:n,evidence:i=[]})=>{const[o,s]=Te(!1),[a,l]=Te(!1),[u,c]=Te(!1);return b.jsxs(Nn,{p:"md",radius:"md",withBorder:!0,mb:"sm",sx:d=>({minHeight:160,display:"flex",flexDirection:"column",justifyContent:"space-between"}),children:[b.jsxs(Ge,{children:[b.jsxs(Ke,{position:"apart",noWrap:!0,align:"flex-start",children:[b.jsxs(Ge,{children:[b.jsxs(Ke,{spacing:"xs",children:[b.jsx(Se,{weight:500,children:r}),b.jsxs(to,{color:"blue",children:["RAF ",n]}),b.jsx(HO,{label:"View ICD details",children:b.jsx(UC,{variant:"subtle",onClick:()=>c(!u),children:b.jsx(gZ,{size:16})})})]}),b.jsx(Se,{size:"sm",color:"dimmed",mt:4,children:t})]}),b.jsxs(Ke,{spacing:"xs",children:[b.jsx(mr,{size:"xs",color:"green",variant:o?"filled":"light",leftIcon:b.jsx(ET,{size:16}),onClick:()=>s(!o),disabled:a,children:"Confirm"}),b.jsx(mr,{size:"xs",color:"red",variant:a?"filled":"light",leftIcon:b.jsx(wZ,{size:16}),onClick:()=>l(!a),disabled:o,children:"Deny"})]})]}),i.length>0&&b.jsxs(Ge,{mt:"md",children:[b.jsx(Se,{size:"sm",weight:500,color:"dimmed",children:"Evidence:"}),b.jsx(xc,{size:"sm",spacing:"xs",mt:4,children:i.map((d,h)=>b.jsxs(xc.Item,{icon:b.jsx(hs,{color:"blue",size:16,radius:"xl",children:b.jsx(ET,{size:12})}),children:[b.jsx(Se,{size:"sm",children:d.source}),b.jsx(Se,{size:"xs",color:"dimmed",children:d.detail})]},h))})]})]}),b.jsx(L9,{in:u,children:b.jsxs(Ge,{mt:"md",p:"xs",bg:"gray.0",sx:{borderRadius:4},children:[b.jsx(Se,{size:"sm",weight:500,color:"dimmed",children:"ICD-10 Codes:"}),b.jsx(Ke,{spacing:"xs",mt:4,children:e.map((d,h)=>b.jsx(to,{variant:"outline",children:d},h))})]})})]})},nJe=({patient:r,hccGaps:e,qualityGaps:t})=>b.jsx(yY,{shadow:"sm",p:"md",radius:"md",withBorder:!0,mb:"md",children:b.jsxs(Dn,{spacing:"xs",children:[b.jsxs(Ke,{position:"apart",children:[b.jsxs(Ke,{children:[b.jsx($r,{order:4,children:r.name}),b.jsxs(Se,{size:"sm",color:"dimmed",children:["DOB: ",r.dob]})]}),b.jsxs(to,{color:r.riskLevel==="high"?"red":"yellow",variant:"light",children:[r.riskLevel.toUpperCase()," Risk"]})]}),b.jsx(Oo,{my:"xs"}),b.jsx(Se,{weight:500,size:"sm",children:"HCC Opportunities:"}),b.jsx(xc,{spacing:"xs",size:"sm",children:e.map((n,i)=>b.jsx(xc.Item,{icon:b.jsx(hs,{color:"blue",size:20,radius:"xl",children:b.jsx(mZ,{size:12})}),children:b.jsx(tJe,{hcc:n.hcc,icdCode:n.icdCodes,description:n.description,rafValue:n.rafValue,evidence:n.evidence})},i))}),b.jsx(Se,{weight:500,size:"sm",mt:"sm",children:"Quality Gaps:"}),b.jsx(xc,{spacing:"xs",size:"sm",children:t.map((n,i)=>b.jsxs(xc.Item,{icon:b.jsx(hs,{color:"violet",size:20,radius:"xl",children:b.jsx(ET,{size:12})}),children:[b.jsxs(Ke,{position:"apart",children:[b.jsx(Se,{children:n.measure}),b.jsx(to,{color:"violet",variant:"light",children:n.type})]}),b.jsxs(Se,{size:"xs",color:"dimmed",children:["Due by: ",n.dueDate]})]},i))}),b.jsx(Oo,{my:"xs"}),b.jsxs(Ke,{position:"apart",children:[b.jsxs(Se,{size:"sm",color:"dimmed",children:["Next Visit: ",r.nextVisit]}),b.jsx(mr,{variant:"light",size:"xs",rightIcon:b.jsx(cD,{size:16}),children:"View Patient Details"})]})]})}),Ile=()=>{var o;const[r,e]=Te("epic"),[t,n]=Te("active"),i=[{name:"John Smith",dob:"05/15/1955",riskLevel:"high",nextVisit:"Today @ 2:30 PM",hccGaps:[{hcc:"HCC 108 - COPD",icdCodes:["J44.9","J44.1"],description:"Chronic Obstructive Pulmonary Disease",rafValue:"0.325",evidence:[{source:"Spirometry Results (01/15/2024)",detail:"FEV1/FVC ratio < 0.70, consistent with COPD"},{source:"Current Medications",detail:"Active prescription for Symbicort and Spiriva"},{source:"Progress Notes (12/10/2023)",detail:"Patient reports chronic cough and dyspnea on exertion"}]},{hcc:"HCC 18 - Diabetes with Chronic Complications",icdCodes:["E11.22","E11.51"],description:"Type 2 Diabetes with Multiple Complications",rafValue:"0.302",evidence:[{source:"Ophthalmology Consult (11/30/2023)",detail:"Mild diabetic retinopathy documented with fundus photos"},{source:"Lab Results (01/05/2024)",detail:"HbA1c: 8.2%, Microalbumin elevated"},{source:"Medication History",detail:"Multiple oral diabetes medications plus insulin"}]}],qualityGaps:[{measure:"Diabetes Eye Exam",type:"HEDIS",dueDate:"12/31/2024",evidence:"Last exam 11/30/2023 - Due annually"},{measure:"Annual Wellness Visit",type:"Medicare",dueDate:"03/15/2024",evidence:"Last AWV 03/15/2023"}]},{name:"Mary Johnson",dob:"08/22/1948",riskLevel:"high",nextVisit:"Today @ 3:45 PM",hccGaps:[{hcc:"HCC 85 - Congestive Heart Failure",icdCodes:["I50.22","I50.32"],description:"Systolic Heart Failure",rafValue:"0.368",evidence:[{source:"Echocardiogram (02/01/2024)",detail:"EF 35%, consistent with reduced ejection fraction"},{source:"Current Medications",detail:"Active prescriptions for Lasix and Lisinopril"},{source:"Recent ED Visit (01/15/2024)",detail:"Presented with dyspnea and peripheral edema"}]}],qualityGaps:[{measure:"Colorectal Cancer Screening",type:"HEDIS",dueDate:"12/31/2023",evidence:"Last colonoscopy > 10 years ago"},{measure:"Fall Risk Assessment",type:"Medicare",dueDate:"12/31/2023",evidence:"No documented assessment in past 12 months"}]}];return b.jsx(Gi,{size:"xl",py:"xl",children:b.jsxs(Dn,{spacing:"xl",children:[b.jsxs(Ke,{position:"apart",children:[b.jsxs(Ke,{children:[b.jsx(hs,{size:"xl",radius:"md",color:"blue",children:b.jsx(fZ,{size:24})}),b.jsx($r,{order:2,children:"EHR Integration Alerts"})]}),b.jsx($O,{value:r,onChange:e,data:[{value:"epic",label:"Epic"},{value:"cerner",label:"Cerner"},{value:"athena",label:"Athena Health"},{value:"allscripts",label:"Allscripts"}],style:{width:200}})]}),b.jsxs(Nn,{p:"md",withBorder:!0,children:[b.jsxs(Ke,{mb:"md",children:[b.jsx(tm,{size:20}),b.jsxs(Se,{children:["Showing alerts for patients currently open in ",(o=eJe.find(s=>s.value===r))==null?void 0:o.label]})]}),b.jsxs(Fn,{value:t,onTabChange:n,children:[b.jsxs(Fn.List,{children:[b.jsx(Fn.Tab,{value:"active",icon:b.jsx(dw,{size:14}),children:"Active Patients"}),b.jsx(Fn.Tab,{value:"upcoming",icon:b.jsx(hZ,{size:14}),children:"Upcoming Visits"})]}),b.jsx(Fn.Panel,{value:"active",pt:"md",children:i.map((s,a)=>b.jsx(nJe,{patient:s,hccGaps:s.hccGaps,qualityGaps:s.qualityGaps},a))}),b.jsx(Fn.Panel,{value:"upcoming",pt:"md",children:b.jsx(Se,{color:"dimmed",children:"No upcoming visits today"})})]})]})]})})},rJe={async getCohortMetrics(){try{if(!Wy.currentUser)throw new Error("User must be authenticated");console.log("Fetching cohort metrics...");const r=Vf(wo,"cohortMetrics");return(await L_(r)).docs.map(n=>({id:n.id,...n.data()}))}catch(r){throw console.error("Error fetching cohort metrics:",r),r}},async getCohortRecommendations(r){try{return(await L_(Vf(wo,`cohortMetrics/${r}/recommendations`))).docs.map(t=>({id:t.id,...t.data()}))}catch(e){return console.error("Error fetching recommendations:",e),[]}},async getPatientCarePathways(r){try{return(await L_(yG(Vf(wo,"patientCarePathways"),yJ("patientId","==",r)))).docs.map(t=>({id:t.id,...t.data()}))}catch(e){return console.error("Error fetching care pathways:",e),[]}},async getPatientCareGaps(r){try{return(await this.getPatientCarePathways(r)).reduce((t,n)=>[...t,...n.careGaps],[])}catch(e){return console.error("Error fetching care gaps:",e),[]}},async updatePatientRiskLevel(r,e){try{const t=ns(wo,"patientCarePathways",r),n=await _G(t);if(!n.exists())throw new Error("Pathway not found");const i=n.data();await Hf(t,{riskLevel:e,riskHistory:[...i.riskHistory||[],{level:e,timestamp:new Date().toISOString()}],updatedAt:new Date().toISOString()})}catch(t){throw console.error("Error updating risk level:",t),t}},subscribeToUpdates(r,e){return _J(ns(wo,"cohortMetrics",r),t=>{t.exists()&&e(t.data())})}},iJe=({cohort:r})=>b.jsx(yY,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,children:b.jsxs(Dn,{spacing:"md",children:[b.jsxs(Ke,{position:"apart",children:[b.jsxs(Ke,{children:[b.jsx(hs,{size:"xl",radius:"md",variant:"light",children:b.jsx(r.icon,{size:24})}),b.jsxs("div",{children:[b.jsx($r,{order:4,children:r.name}),b.jsxs(Se,{size:"sm",color:"dimmed",children:[r.patientCount," Patients"]})]})]}),b.jsx(HO,{label:"View cohort details",children:b.jsx(UC,{variant:"light",size:"lg",children:b.jsx(gZ,{size:20})})})]}),b.jsxs("div",{children:[b.jsxs(Ke,{position:"apart",mb:5,children:[b.jsx(Se,{size:"sm",children:"Risk Profile"}),b.jsxs(Se,{size:"xs",color:"dimmed",children:[r.riskProfile.high," High Risk"]})]}),b.jsx(kO,{size:"lg",sections:[{value:r.riskProfile.high/r.patientCount*100,color:"red"},{value:r.riskProfile.medium/r.patientCount*100,color:"yellow"},{value:r.riskProfile.low/r.patientCount*100,color:"green"}]})]}),b.jsxs(Ke,{grow:!0,children:[b.jsxs("div",{children:[b.jsx(Se,{size:"sm",children:"Care Gaps"}),b.jsx(Se,{weight:700,size:"xl",color:"red",children:r.careGaps})]}),b.jsxs("div",{children:[b.jsx(Se,{size:"sm",children:"Adherence"}),b.jsxs(Se,{weight:700,size:"xl",color:r.adherence>=80?"green":"yellow",children:[r.adherence,"%"]})]})]}),b.jsx(Oo,{}),b.jsxs(Dn,{spacing:"xs",children:[b.jsx(Se,{weight:500,children:"AI Recommendations:"}),r.recommendations.map((e,t)=>b.jsxs(Nn,{p:"xs",radius:"md",withBorder:!0,children:[b.jsxs(Ke,{position:"apart",mb:4,children:[b.jsx(Se,{size:"sm",weight:500,children:e.title}),b.jsx(to,{color:e.priority==="high"?"red":"yellow",variant:"light",children:e.priority})]}),b.jsx(Se,{size:"xs",color:"dimmed",mb:4,children:e.description}),b.jsx(Se,{size:"xs",color:"blue",weight:500,children:e.impact})]},t))]}),b.jsx(mr,{variant:"light",rightIcon:b.jsx(cD,{size:16}),fullWidth:!0,children:"View Care Pathways"})]})}),Fle=()=>{const{user:r,loading:e}=nm(),[t,n]=Te("cohorts"),[i,o]=Te([]),[s,a]=Te(!0),[l,u]=Te(null);return Fe(()=>{!e&&r&&(async()=>{try{if(a(!0),r){const d=await rJe.getCohortMetrics();o(d)}}catch(d){console.error("Error loading cohort data:",d),u(d.message)}finally{a(!1)}})()},[r,e]),e?b.jsx(Gi,{size:"xl",py:"xl",children:b.jsx(wT,{message:"Checking authentication..."})}):r?s?b.jsx(Gi,{size:"xl",py:"xl",children:b.jsx(wT,{message:"Loading cohort data..."})}):l?b.jsx(Gi,{size:"xl",py:"xl",children:b.jsx(Fh,{color:"red",title:"Error loading data",children:l})}):b.jsx(Gi,{size:"xl",py:"xl",children:b.jsxs(Dn,{spacing:"xl",children:[b.jsxs(Ke,{position:"apart",children:[b.jsxs(Ke,{children:[b.jsx(hs,{size:"xl",radius:"md",variant:"light",color:"violet",children:b.jsx(x0e,{size:24})}),b.jsx($r,{order:2,children:"AI Care Recommendations"})]}),b.jsx(to,{variant:"dot",color:"green",size:"lg",children:"Updated 5 minutes ago"})]}),b.jsxs(Fn,{value:t,onTabChange:n,children:[b.jsxs(Fn.List,{children:[b.jsx(Fn.Tab,{value:"cohorts",icon:b.jsx(VG,{size:14}),children:"Condition Cohorts"}),b.jsx(Fn.Tab,{value:"pathways",icon:b.jsx(dw,{size:14}),children:"Care Pathways"}),b.jsx(Fn.Tab,{value:"metrics",icon:b.jsx(pZ,{size:14}),children:"Quality Metrics"})]}),b.jsx(Fn.Panel,{value:"cohorts",pt:"xl",children:b.jsx(sr,{children:i.map(c=>b.jsx(sr.Col,{md:6,children:b.jsx(iJe,{cohort:c})},c.id))})}),b.jsx(Fn.Panel,{value:"pathways",pt:"xl"}),b.jsx(Fn.Panel,{value:"metrics",pt:"xl"})]})]})}):b.jsx(Gi,{size:"xl",py:"xl",children:b.jsx(Fh,{color:"red",title:"Authentication Required",children:"Please log in to view this page."})})},Mle=()=>{const r=up(),{notifications:e,loading:t,error:n}=Yy(a=>({notifications:a.notifications,loading:a.loading,error:a.error}));console.log("PatientContextHistory render:",{notifications:e,loading:t,error:n});const i=a=>new Date(a).toLocaleString(),o=a=>a==="browser"?b.jsx(F0e,{size:16}):b.jsx(G0e,{size:16}),s=a=>{const{source:l="browser",appName:u}=a;return b.jsx(to,{leftSection:o(l),color:l==="browser"?"blue":"green",children:u||"Web Browser"})};return b.jsx(Gi,{size:"xl",py:"xl",children:b.jsxs(Nn,{p:"md",radius:"md",children:[b.jsxs(Ke,{position:"apart",mb:"xl",children:[b.jsx($r,{order:2,children:"Patient Context History"}),b.jsxs(Ke,{children:[!1,b.jsxs(to,{size:"lg",children:[e.length," Matches"]})]})]}),b.jsxs(PQ,{striped:!0,highlightOnHover:!0,children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Patient Name"}),b.jsx("th",{children:"MRN"}),b.jsx("th",{children:"Source"}),b.jsx("th",{children:"Detected At"}),b.jsx("th",{children:"Actions"})]})}),b.jsxs("tbody",{children:[e.map(a=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(Se,{weight:500,children:a.patientInfo.name})}),b.jsx("td",{children:b.jsx(Se,{color:"dimmed",children:a.patientInfo.mrn||"N/A"})}),b.jsx("td",{children:s(a)}),b.jsx("td",{children:b.jsx(Se,{size:"sm",color:"dimmed",children:i(a.timestamp)})}),b.jsx("td",{children:b.jsxs(Un,{position:"bottom-end",children:[b.jsx(Un.Target,{children:b.jsx(UC,{children:b.jsx(V0e,{size:16})})}),b.jsxs(Un.Dropdown,{children:[b.jsx(Un.Item,{icon:b.jsx(k0e,{size:16}),onClick:()=>r(`/patients/${a.patientId}`),children:"View Patient"}),b.jsx(Un.Item,{icon:b.jsx(Q0e,{size:16}),color:"red",onClick:()=>Yy.getState().clearNotifications(),children:"Clear History"})]})]})})]},a.id)),e.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:5,children:b.jsx(Se,{align:"center",color:"dimmed",py:"xl",children:"No patient context history found"})})})]})]})]})})};Yn();const oJe=({children:r})=>{const[e,t]=Te(localStorage.getItem("theme")||"light"),n=i=>{const o=i||(e==="dark"?"light":"dark");t(o),localStorage.setItem("theme",o)};return b.jsx(g9,{colorScheme:e,toggleColorScheme:n,children:b.jsx(e0,{theme:{colorScheme:e,colors:{brand:["#6E2B81","#8A3A9B","#B82C5D","#8A2147"]}},withGlobalStyles:!0,withNormalizeCSS:!0,children:r})})},sJe=()=>{const r=up(),{notifications:e,markAsRead:t,clearNotifications:n,getUnreadCount:i}=Yy(),o=i(),s=a=>{t(a.id),a.patientId&&r(`/patients/${a.patientId}`)};return b.jsxs(Ms,{width:400,position:"bottom-end",children:[b.jsx(Ms.Target,{children:b.jsxs("div",{style:{position:"relative"},children:[b.jsx(UC,{size:"lg",children:b.jsx(dZ,{size:20})}),o>0&&b.jsx(to,{size:"sm",variant:"filled",style:{position:"absolute",top:-5,right:-5},children:o})]})}),b.jsx(Ms.Dropdown,{children:b.jsxs(Dn,{spacing:"md",children:[b.jsxs(Ke,{position:"apart",children:[b.jsx(Se,{weight:500,size:"lg",children:"Notifications"}),e.length>0&&b.jsx(mr,{variant:"subtle",size:"xs",onClick:()=>n(),children:"Clear All"})]}),b.jsx(Ge,{sx:{maxHeight:"400px",overflow:"auto"},children:b.jsx(Dn,{spacing:"md",children:e.length===0?b.jsx(Se,{color:"dimmed",size:"sm",align:"center",py:"md",children:"No notifications"}):e.map(a=>b.jsx(mr,{variant:a.read?"subtle":"light",color:a.read?"gray":"blue",fullWidth:!0,onClick:()=>s(a),styles:{root:{padding:"16px",height:"auto",textAlign:"left"},inner:{justifyContent:"flex-start"}},children:b.jsxs(Dn,{spacing:"xs",align:"flex-start",children:[b.jsx(Se,{size:"sm",weight:500,lineClamp:2,children:a.title}),b.jsx(Se,{size:"xs",color:"dimmed",lineClamp:2,children:a.message}),b.jsx(Se,{size:"xs",color:"dimmed",children:new Date(a.timestamp).toLocaleString()})]})},a.id))})})]})})]})},aJe={initial:{opacity:0,x:-20},in:{opacity:1,x:0},exit:{opacity:0,x:20}},lJe={type:"tween",ease:"anticipate",duration:.5},Hc=({children:r})=>b.jsx(jee.div,{initial:"initial",animate:"in",exit:"exit",variants:aJe,transition:lJe,children:r}),uJe=({patient:r})=>{const e=[{name:"Chronic Conditions",score:3.2},{name:"Utilization History",score:2.1},{name:"Medication Adherence",score:1.8},{name:"Social Determinants",score:1.3}];return b.jsxs(Nn,{p:"md",radius:"md",children:[b.jsx($r,{order:3,mb:"md",children:"Risk Profile"}),b.jsxs(Dn,{spacing:"md",children:[b.jsxs(Ke,{position:"apart",children:[b.jsx(Se,{size:"xl",weight:700,children:"8.4"}),b.jsx(to,{color:"red",children:"High Risk"})]}),b.jsxs(Ke,{spacing:"xs",children:[b.jsx(hs,{color:"red",variant:"light",children:b.jsx(vZ,{size:16})}),b.jsx(Se,{size:"sm",children:"+2.1 from last month"})]}),b.jsx(Dn,{spacing:"xs",children:e.map(t=>b.jsxs("div",{children:[b.jsxs(Ke,{position:"apart",mb:4,children:[b.jsx(Se,{size:"sm",children:t.name}),b.jsx(Se,{size:"sm",weight:500,children:t.score})]}),b.jsx(kO,{value:t.score*10,color:"red",size:"sm"})]},t.name))}),b.jsxs(Ke,{spacing:"xs",children:[b.jsx(hs,{color:"yellow",variant:"light",children:b.jsx(cZ,{size:16})}),b.jsx(Se,{size:"sm",children:"Intervention recommended"})]})]})]})},cJe=({patient:r,detailed:e=!1})=>{const t=[{name:"HEDIS Measures",completed:12,total:15,color:"blue"},{name:"Care Gaps",completed:3,total:5,color:"orange"},{name:"Screenings",completed:8,total:10,color:"green"},{name:"Immunizations",completed:6,total:8,color:"violet"}];return b.jsxs(Nn,{p:"md",radius:"md",children:[b.jsx($r,{order:3,mb:"md",children:"Quality Metrics"}),b.jsx(sr,{children:t.map(n=>b.jsx(sr.Col,{span:e?6:3,children:b.jsxs(Ke,{noWrap:!0,align:"flex-start",children:[b.jsx(A0,{size:80,roundCaps:!0,thickness:8,sections:[{value:n.completed/n.total*100,color:n.color}],label:b.jsxs(Se,{align:"center",size:"xs",weight:700,children:[Math.round(n.completed/n.total*100),"%"]})}),b.jsxs(Dn,{spacing:4,children:[b.jsx(Se,{weight:500,children:n.name}),b.jsxs(Se,{size:"sm",color:"dimmed",children:[n.completed," of ",n.total," complete"]}),e&&b.jsxs(Se,{size:"xs",color:"dimmed",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})},n.name))})]})};var dJe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function CS(r,e){var t=hJe(r);if(typeof t.path!="string"){var n=r.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:r.name,writable:!1,configurable:!1,enumerable:!0})}return t}function hJe(r){var e=r.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!r.type){var n=e.split(".").pop().toLowerCase(),i=dJe.get(n);i&&Object.defineProperty(r,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return r}var pJe=[".DS_Store","Thumbs.db"];function fJe(r){return Hg(this,void 0,void 0,function(){return kg(this,function(e){return XP(r)&&gJe(r.dataTransfer)?[2,CJe(r.dataTransfer,r.type)]:mJe(r)?[2,vJe(r)]:Array.isArray(r)&&r.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,yJe(r)]:[2,[]]})})}function gJe(r){return XP(r)}function mJe(r){return XP(r)&&XP(r.target)}function XP(r){return typeof r=="object"&&r!==null}function vJe(r){return SN(r.target.files).map(function(e){return CS(e)})}function yJe(r){return Hg(this,void 0,void 0,function(){var e;return kg(this,function(t){switch(t.label){case 0:return[4,Promise.all(r.map(function(n){return n.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(n){return CS(n)})]}})})}function CJe(r,e){return Hg(this,void 0,void 0,function(){var t,n;return kg(this,function(i){switch(i.label){case 0:return r.items?(t=SN(r.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(wJe))]):[3,2];case 1:return n=i.sent(),[2,E4(Lle(n))];case 2:return[2,E4(SN(r.files).map(function(o){return CS(o)}))]}})})}function E4(r){return r.filter(function(e){return pJe.indexOf(e.name)===-1})}function SN(r){if(r===null)return[];for(var e=[],t=0;t<r.length;t++){var n=r[t];e.push(n)}return e}function wJe(r){if(typeof r.webkitGetAsEntry!="function")return _4(r);var e=r.webkitGetAsEntry();return e&&e.isDirectory?Nle(e):_4(r)}function Lle(r){return r.reduce(function(e,t){return rM(rM([],f$(e),!1),f$(Array.isArray(t)?Lle(t):[t]),!1)},[])}function _4(r){var e=r.getAsFile();if(!e)return Promise.reject("".concat(r," is not a File"));var t=CS(e);return Promise.resolve(t)}function SJe(r){return Hg(this,void 0,void 0,function(){return kg(this,function(e){return[2,r.isDirectory?Nle(r):EJe(r)]})})}function Nle(r){var e=r.createReader();return new Promise(function(t,n){var i=[];function o(){var s=this;e.readEntries(function(a){return Hg(s,void 0,void 0,function(){var l,u,c;return kg(this,function(d){switch(d.label){case 0:if(a.length)return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=d.sent(),t(l),[3,4];case 3:return u=d.sent(),n(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(SJe)),i.push(c),o(),d.label=6;case 6:return[2]}})})},function(a){n(a)})}o()})}function EJe(r){return Hg(this,void 0,void 0,function(){return kg(this,function(e){return[2,new Promise(function(t,n){r.file(function(i){var o=CS(i,r.fullPath);t(o)},function(i){n(i)})})]})})}var _Je=function(r,e){if(r&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var n=r.name||"",i=(r.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return t.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?n.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function b4(r){return TJe(r)||RJe(r)||Vle(r)||bJe()}function bJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function TJe(r){if(Array.isArray(r))return EN(r)}function R4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function T4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(t),!0).forEach(function(n){Gle(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):R4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Gle(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xC(r,e){return DJe(r)||OJe(r,e)||Vle(r,e)||PJe()}function PJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vle(r,e){if(r){if(typeof r=="string")return EN(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return EN(r,e)}}function EN(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function OJe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,a;try{for(t=t.call(r);!(i=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return n}}function DJe(r){if(Array.isArray(r))return r}var AJe="file-invalid-type",xJe="file-too-large",IJe="file-too-small",FJe="too-many-files",MJe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:AJe,message:"File type must be ".concat(t)}},P4=function(e){return{code:xJe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},O4=function(e){return{code:IJe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},LJe={code:FJe,message:"Too many files"};function Hle(r,e){var t=r.type==="application/x-moz-file"||_Je(r,e);return[t,t?null:MJe(e)]}function kle(r,e,t){if(sh(r.size))if(sh(e)&&sh(t)){if(r.size>t)return[!1,P4(t)];if(r.size<e)return[!1,O4(e)]}else{if(sh(e)&&r.size<e)return[!1,O4(e)];if(sh(t)&&r.size>t)return[!1,P4(t)]}return[!0,null]}function sh(r){return r!=null}function NJe(r){var e=r.files,t=r.accept,n=r.minSize,i=r.maxSize,o=r.multiple,s=r.maxFiles,a=r.validator;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(l){var u=Hle(l,t),c=xC(u,1),d=c[0],h=kle(l,n,i),p=xC(h,1),f=p[0],g=a?a(l):null;return d&&f&&!g})}function JP(r){return typeof r.isPropagationStopped=="function"?r.isPropagationStopped():typeof r.cancelBubble<"u"?r.cancelBubble:!1}function u_(r){return r.dataTransfer?Array.prototype.some.call(r.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!r.target&&!!r.target.files}function D4(r){r.preventDefault()}function GJe(r){return r.indexOf("MSIE")!==-1||r.indexOf("Trident/")!==-1}function VJe(r){return r.indexOf("Edge/")!==-1}function HJe(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return GJe(r)||VJe(r)}function ja(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!JP(n)&&a&&a.apply(void 0,[n].concat(o)),JP(n)})}}function kJe(){return"showOpenFilePicker"in window}function $Je(r){if(sh(r)){var e=Object.entries(r).filter(function(t){var n=xC(t,2),i=n[0],o=n[1],s=!0;return $le(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(Ble))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(t,n){var i=xC(n,2),o=i[0],s=i[1];return T4(T4({},t),{},Gle({},o,s))},{});return[{description:"Files",accept:e}]}return r}function BJe(r){if(sh(r))return Object.entries(r).reduce(function(e,t){var n=xC(t,2),i=n[0],o=n[1];return[].concat(b4(e),[i],b4(o))},[]).filter(function(e){return $le(e)||Ble(e)}).join(",")}function jJe(r){return r instanceof DOMException&&(r.name==="AbortError"||r.code===r.ABORT_ERR)}function WJe(r){return r instanceof DOMException&&(r.name==="SecurityError"||r.code===r.SECURITY_ERR)}function $le(r){return r==="audio/*"||r==="video/*"||r==="image/*"||r==="text/*"||/\w+\/[-+.\w]+/g.test(r)}function Ble(r){return/^.*\.[\w]+$/.test(r)}var UJe=["children"],zJe=["open"],KJe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],YJe=["refKey","onChange","onClick"];function qJe(r){return JJe(r)||XJe(r)||jle(r)||QJe()}function QJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJe(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function JJe(r){if(Array.isArray(r))return _N(r)}function jF(r,e){return tZe(r)||eZe(r,e)||jle(r,e)||ZJe()}function ZJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jle(r,e){if(r){if(typeof r=="string")return _N(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _N(r,e)}}function _N(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function eZe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n=[],i=!0,o=!1,s,a;try{for(t=t.call(r);!(i=(s=t.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return n}}function tZe(r){if(Array.isArray(r))return r}function A4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Qn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(t),!0).forEach(function(n){bN(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):A4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function bN(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ZP(r,e){if(r==null)return{};var t=nZe(r,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function nZe(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}var vk=Ce(function(r,e){var t=r.children,n=ZP(r,UJe),i=Ule(n),o=i.open,s=ZP(i,zJe);return Lce(e,function(){return{open:o}},[o]),x.createElement(dO,null,t(Qn(Qn({},s),{},{open:o})))});vk.displayName="Dropzone";var Wle={disabled:!1,getFilesFromEvent:fJe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};vk.defaultProps=Wle;vk.propTypes={children:en.func,accept:en.objectOf(en.arrayOf(en.string)),multiple:en.bool,preventDropOnDocument:en.bool,noClick:en.bool,noKeyboard:en.bool,noDrag:en.bool,noDragEventsBubbling:en.bool,minSize:en.number,maxSize:en.number,maxFiles:en.number,disabled:en.bool,getFilesFromEvent:en.func,onFileDialogCancel:en.func,onFileDialogOpen:en.func,useFsAccessApi:en.bool,autoFocus:en.bool,onDragEnter:en.func,onDragLeave:en.func,onDragOver:en.func,onDrop:en.func,onDropAccepted:en.func,onDropRejected:en.func,onError:en.func,validator:en.func};var RN={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Ule(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Qn(Qn({},Wle),r),t=e.accept,n=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,d=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,f=e.onDropRejected,g=e.onFileDialogCancel,v=e.onFileDialogOpen,y=e.useFsAccessApi,C=e.autoFocus,w=e.preventDropOnDocument,S=e.noClick,P=e.noKeyboard,F=e.noDrag,_=e.noDragEventsBubbling,E=e.onError,T=e.validator,O=Rn(function(){return BJe(t)},[t]),L=Rn(function(){return $Je(t)},[t]),V=Rn(function(){return typeof v=="function"?v:x4},[v]),M=Rn(function(){return typeof g=="function"?g:x4},[g]),N=ve(null),$=ve(null),B=cO(rZe,RN),U=jF(B,2),z=U[0],j=U[1],Q=z.isFocused,X=z.isFileDialogActive,Z=ve(typeof window<"u"&&window.isSecureContext&&y&&kJe()),ce=function(){!Z.current&&X&&setTimeout(function(){if($.current){var Le=$.current.files;Le.length||(j({type:"closeDialog"}),M())}},300)};Fe(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[$,X,M,Z]);var oe=ve([]),de=function(Le){N.current&&N.current.contains(Le.target)||(Le.preventDefault(),oe.current=[])};Fe(function(){return w&&(document.addEventListener("dragover",D4,!1),document.addEventListener("drop",de,!1)),function(){w&&(document.removeEventListener("dragover",D4),document.removeEventListener("drop",de))}},[N,w]),Fe(function(){return!n&&C&&N.current&&N.current.focus(),function(){}},[N,C,n]);var Ee=at(function(we){E?E(we):console.error(we)},[E]),Pe=at(function(we){we.preventDefault(),we.persist(),bt(we),oe.current=[].concat(qJe(oe.current),[we.target]),u_(we)&&Promise.resolve(i(we)).then(function(Le){if(!(JP(we)&&!_)){var Je=Le.length,Ze=Je>0&&NJe({files:Le,accept:O,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:T}),It=Je>0&&!Ze;j({isDragAccept:Ze,isDragReject:It,isDragActive:!0,type:"setDraggedFiles"}),u&&u(we)}}).catch(function(Le){return Ee(Le)})},[i,u,Ee,_,O,s,o,a,l,T]),$e=at(function(we){we.preventDefault(),we.persist(),bt(we);var Le=u_(we);if(Le&&we.dataTransfer)try{we.dataTransfer.dropEffect="copy"}catch{}return Le&&d&&d(we),!1},[d,_]),Ne=at(function(we){we.preventDefault(),we.persist(),bt(we);var Le=oe.current.filter(function(Ze){return N.current&&N.current.contains(Ze)}),Je=Le.indexOf(we.target);Je!==-1&&Le.splice(Je,1),oe.current=Le,!(Le.length>0)&&(j({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),u_(we)&&c&&c(we))},[N,c,_]),xe=at(function(we,Le){var Je=[],Ze=[];we.forEach(function(It){var En=Hle(It,O),vt=jF(En,2),Lt=vt[0],_n=vt[1],mn=kle(It,s,o),cr=jF(mn,2),nr=cr[0],Pt=cr[1],Ot=T?T(It):null;if(Lt&&nr&&!Ot)Je.push(It);else{var kt=[_n,Pt];Ot&&(kt=kt.concat(Ot)),Ze.push({file:It,errors:kt.filter(function(lt){return lt})})}}),(!a&&Je.length>1||a&&l>=1&&Je.length>l)&&(Je.forEach(function(It){Ze.push({file:It,errors:[LJe]})}),Je.splice(0)),j({acceptedFiles:Je,fileRejections:Ze,type:"setFiles"}),h&&h(Je,Ze,Le),Ze.length>0&&f&&f(Ze,Le),Je.length>0&&p&&p(Je,Le)},[j,a,O,s,o,l,h,p,f,T]),st=at(function(we){we.preventDefault(),we.persist(),bt(we),oe.current=[],u_(we)&&Promise.resolve(i(we)).then(function(Le){JP(we)&&!_||xe(Le,we)}).catch(function(Le){return Ee(Le)}),j({type:"reset"})},[i,xe,Ee,_]),Ue=at(function(){if(Z.current){j({type:"openDialog"}),V();var we={multiple:a,types:L};window.showOpenFilePicker(we).then(function(Le){return i(Le)}).then(function(Le){xe(Le,null),j({type:"closeDialog"})}).catch(function(Le){jJe(Le)?(M(Le),j({type:"closeDialog"})):WJe(Le)?(Z.current=!1,$.current?($.current.value=null,$.current.click()):Ee(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ee(Le)});return}$.current&&(j({type:"openDialog"}),V(),$.current.value=null,$.current.click())},[j,V,M,y,xe,Ee,L,a]),_t=at(function(we){!N.current||!N.current.isEqualNode(we.target)||(we.key===" "||we.key==="Enter"||we.keyCode===32||we.keyCode===13)&&(we.preventDefault(),Ue())},[N,Ue]),Rt=at(function(){j({type:"focus"})},[]),Ct=at(function(){j({type:"blur"})},[]),Sn=at(function(){S||(HJe()?setTimeout(Ue,0):Ue())},[S,Ue]),qe=function(Le){return n?null:Le},Ie=function(Le){return P?null:qe(Le)},sn=function(Le){return F?null:qe(Le)},bt=function(Le){_&&Le.stopPropagation()},ni=Rn(function(){return function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Le=we.refKey,Je=Le===void 0?"ref":Le,Ze=we.role,It=we.onKeyDown,En=we.onFocus,vt=we.onBlur,Lt=we.onClick,_n=we.onDragEnter,mn=we.onDragOver,cr=we.onDragLeave,nr=we.onDrop,Pt=ZP(we,KJe);return Qn(Qn(bN({onKeyDown:Ie(ja(It,_t)),onFocus:Ie(ja(En,Rt)),onBlur:Ie(ja(vt,Ct)),onClick:qe(ja(Lt,Sn)),onDragEnter:sn(ja(_n,Pe)),onDragOver:sn(ja(mn,$e)),onDragLeave:sn(ja(cr,Ne)),onDrop:sn(ja(nr,st)),role:typeof Ze=="string"&&Ze!==""?Ze:"presentation"},Je,N),!n&&!P?{tabIndex:0}:{}),Pt)}},[N,_t,Rt,Ct,Sn,Pe,$e,Ne,st,P,F,n]),jn=at(function(we){we.stopPropagation()},[]),nn=Rn(function(){return function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Le=we.refKey,Je=Le===void 0?"ref":Le,Ze=we.onChange,It=we.onClick,En=ZP(we,YJe),vt=bN({accept:O,multiple:a,type:"file",style:{display:"none"},onChange:qe(ja(Ze,st)),onClick:qe(ja(It,jn)),tabIndex:-1},Je,$);return Qn(Qn({},vt),En)}},[$,t,a,st,n]);return Qn(Qn({},z),{},{isFocused:Q&&!n,getRootProps:ni,getInputProps:nn,rootRef:N,inputRef:$,open:qe(Ue)})}function rZe(r,e){switch(e.type){case"focus":return Qn(Qn({},r),{},{isFocused:!0});case"blur":return Qn(Qn({},r),{},{isFocused:!1});case"openDialog":return Qn(Qn({},RN),{},{isFileDialogActive:!0});case"closeDialog":return Qn(Qn({},r),{},{isFileDialogActive:!1});case"setDraggedFiles":return Qn(Qn({},r),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Qn(Qn({},r),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Qn({},RN);default:return r}}function x4(){}function iZe(r){const e=Yn(null);return[({children:i,value:o})=>x.createElement(e.Provider,{value:o},i),()=>{const i=Ut(e);if(i===null)throw new Error(r);return i}]}function oZe(r){return Array.isArray(r)||r===null?!1:typeof r=="object"?r.type!==x.Fragment:!1}const[sZe,aZe]=iZe("Dropzone component was not found in tree");var I4=Object.getOwnPropertySymbols,lZe=Object.prototype.hasOwnProperty,uZe=Object.prototype.propertyIsEnumerable,cZe=(r,e)=>{var t={};for(var n in r)lZe.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&I4)for(var n of I4(r))e.indexOf(n)<0&&uZe.call(r,n)&&(t[n]=r[n]);return t};function yk(r){const e=t=>{const n=Me(`Dropzone${Y$(r)}`,{},t),{children:i}=n,o=cZe(n,["children"]),s=aZe(),a=oZe(i)?i:x.createElement("span",null,i);return s[r]?eo(a,o):null};return e.displayName=`@mantine/dropzone/${Y$(r)}`,e}const dZe=yk("accept"),hZe=yk("reject"),pZe=yk("idle");var fZe=Object.defineProperty,gZe=Object.defineProperties,mZe=Object.getOwnPropertyDescriptors,F4=Object.getOwnPropertySymbols,vZe=Object.prototype.hasOwnProperty,yZe=Object.prototype.propertyIsEnumerable,M4=(r,e,t)=>e in r?fZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,L4=(r,e)=>{for(var t in e||(e={}))vZe.call(e,t)&&M4(r,t,e[t]);if(F4)for(var t of F4(e))yZe.call(e,t)&&M4(r,t,e[t]);return r},CZe=(r,e)=>gZe(r,mZe(e)),wZe=We((r,{padding:e,radius:t})=>{const n=r.fn.variant({color:"red",variant:"light"}),i=r.fn.variant({color:r.primaryColor,variant:"light"});return{root:CZe(L4(L4({},r.fn.fontStyles()),r.fn.focusStyles()),{boxSizing:"border-box",backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white,border:`${W(2)} dashed ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[4]}`,padding:be({size:e,sizes:r.spacing}),borderRadius:r.fn.radius(t),cursor:"pointer",userSelect:"none",transition:"background-color 150ms ease",position:"relative","&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[5]:r.colors.gray[0]},"&[data-loading]":{cursor:"default","&:hover":{backgroundColor:r.colorScheme==="dark"?r.colors.dark[6]:r.white}},"&[data-accept]":{backgroundColor:r.colorScheme==="dark"?i.background:r.colors[r.primaryColor][0],borderColor:r.colorScheme==="dark"?i.border:r.colors[r.primaryColor][4],"&:hover":{backgroundColor:r.colorScheme==="dark"?i.background:r.colors[r.primaryColor][0]}},"&[data-reject]":{backgroundColor:r.colorScheme==="dark"?n.background:r.colors.red[0],borderColor:r.colorScheme==="dark"?n.border:r.colors.red[4],"&:hover":{backgroundColor:r.colorScheme==="dark"?n.background:r.colors.red[0]}}}),inner:{pointerEvents:"none",userSelect:"none"}}}),SZe=Object.defineProperty,EZe=Object.defineProperties,_Ze=Object.getOwnPropertyDescriptors,eO=Object.getOwnPropertySymbols,zle=Object.prototype.hasOwnProperty,Kle=Object.prototype.propertyIsEnumerable,N4=(r,e,t)=>e in r?SZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gv=(r,e)=>{for(var t in e||(e={}))zle.call(e,t)&&N4(r,t,e[t]);if(eO)for(var t of eO(e))Kle.call(e,t)&&N4(r,t,e[t]);return r},WF=(r,e)=>EZe(r,_Ze(e)),bZe=(r,e)=>{var t={};for(var n in r)zle.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&eO)for(var n of eO(r))e.indexOf(n)<0&&Kle.call(r,n)&&(t[n]=r[n]);return t};const RZe={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0};function Pm(r){const e=Me("Dropzone",RZe,r),{className:t,padding:n,radius:i,disabled:o,classNames:s,styles:a,loading:l,multiple:u,maxSize:c,accept:d,children:h,onDropAny:p,onDrop:f,onReject:g,openRef:v,name:y,unstyled:C,maxFiles:w,autoFocus:S,activateOnClick:P,activateOnDrag:F,dragEventsBubbling:_,activateOnKeyboard:E,onDragEnter:T,onDragLeave:O,onDragOver:L,onFileDialogCancel:V,onFileDialogOpen:M,preventDropOnDocument:N,useFsAccessApi:$,getFilesFromEvent:B,validator:U,variant:z}=e,j=bZe(e,["className","padding","radius","disabled","classNames","styles","loading","multiple","maxSize","accept","children","onDropAny","onDrop","onReject","openRef","name","unstyled","maxFiles","autoFocus","activateOnClick","activateOnDrag","dragEventsBubbling","activateOnKeyboard","onDragEnter","onDragLeave","onDragOver","onFileDialogCancel","onFileDialogOpen","preventDropOnDocument","useFsAccessApi","getFilesFromEvent","validator","variant"]),{classes:Q,cx:X}=wZe({radius:i,padding:n},{name:"Dropzone",classNames:s,styles:a,unstyled:C,variant:z}),{getRootProps:Z,getInputProps:ce,isDragAccept:oe,isDragReject:de,open:Ee}=Ule(Gv({onDrop:p,onDropAccepted:f,onDropRejected:g,disabled:o||l,accept:Array.isArray(d)?d.reduce(($e,Ne)=>WF(Gv({},$e),{[Ne]:[]}),{}):d,multiple:u,maxSize:c,maxFiles:w,autoFocus:S,noClick:!P,noDrag:!F,noDragEventsBubbling:!_,noKeyboard:!E,onDragEnter:T,onDragLeave:O,onDragOver:L,onFileDialogCancel:V,onFileDialogOpen:M,preventDropOnDocument:N,useFsAccessApi:$,validator:U},B?{getFilesFromEvent:B}:null));_9(v,Ee);const Pe=!oe&&!de;return x.createElement(sZe,{value:{accept:oe,reject:de,idle:Pe}},x.createElement(Ge,WF(Gv(Gv({},j),Z()),{"data-accept":oe||void 0,"data-reject":de||void 0,"data-idle":Pe||void 0,"data-loading":l||void 0,className:X(Q.root,t)}),x.createElement(fq,{visible:l,radius:i,unstyled:C}),x.createElement("input",WF(Gv({},ce()),{name:y})),x.createElement("div",{className:Q.inner},h)))}Pm.displayName="@mantine/dropzone/Dropzone";Pm.Accept=dZe;Pm.Reject=hZe;Pm.Idle=pZe;const Yle=Pm;var TZe=Object.defineProperty,PZe=Object.defineProperties,OZe=Object.getOwnPropertyDescriptors,G4=Object.getOwnPropertySymbols,DZe=Object.prototype.hasOwnProperty,AZe=Object.prototype.propertyIsEnumerable,V4=(r,e,t)=>e in r?TZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xZe=(r,e)=>{for(var t in e||(e={}))DZe.call(e,t)&&V4(r,t,e[t]);if(G4)for(var t of G4(e))AZe.call(e,t)&&V4(r,t,e[t]);return r},IZe=(r,e)=>PZe(r,OZe(e)),FZe=We(r=>({wrapper:IZe(xZe({},r.fn.cover(0)),{position:"fixed",backgroundColor:r.colorScheme==="dark"?r.colors.dark[7]:r.white,display:"flex",padding:r.spacing.xs,transition:"opacity 100ms ease"}),dropzone:{flex:1}})),MZe=Object.defineProperty,LZe=Object.defineProperties,NZe=Object.getOwnPropertyDescriptors,tO=Object.getOwnPropertySymbols,qle=Object.prototype.hasOwnProperty,Qle=Object.prototype.propertyIsEnumerable,H4=(r,e,t)=>e in r?MZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,UF=(r,e)=>{for(var t in e||(e={}))qle.call(e,t)&&H4(r,t,e[t]);if(tO)for(var t of tO(e))Qle.call(e,t)&&H4(r,t,e[t]);return r},zF=(r,e)=>LZe(r,NZe(e)),GZe=(r,e)=>{var t={};for(var n in r)qle.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&tO)for(var n of tO(r))e.indexOf(n)<0&&Qle.call(r,n)&&(t[n]=r[n]);return t};const VZe={padding:"md",loading:!1,multiple:!0,maxSize:1/0,autoFocus:!1,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:Da("max"),withinPortal:!0};function Xle(r){const e=Me("DropzoneFullScreen",VZe,r),{classNames:t,styles:n,sx:i,className:o,style:s,unstyled:a,active:l,onDrop:u,onReject:c,zIndex:d,withinPortal:h,portalProps:p}=e,f=GZe(e,["classNames","styles","sx","className","style","unstyled","active","onDrop","onReject","zIndex","withinPortal","portalProps"]),[g,v]=x.useState(0),[y,{open:C,close:w}]=_fe(!1),{classes:S,cx:P}=FZe(null,{name:"DropzoneFullScreen",classNames:t,styles:n,unstyled:a}),F=E=>{E.dataTransfer.types.includes("Files")&&(v(T=>T+1),C())},_=()=>{v(E=>E-1)};return Fe(()=>{g===0&&w()},[g]),Fe(()=>{if(l)return document.addEventListener("dragenter",F,!1),document.addEventListener("dragleave",_,!1),()=>{document.removeEventListener("dragenter",F,!1),document.removeEventListener("dragleave",_,!1)}},[l]),x.createElement(Wg,zF(UF({},p),{withinPortal:h}),x.createElement(Ge,{className:P(S.wrapper,o),sx:i,style:zF(UF({},s),{opacity:y?1:0,pointerEvents:y?"all":"none",zIndex:d})},x.createElement(Pm,zF(UF({},f),{classNames:t,styles:n,unstyled:a,className:S.dropzone,onDrop:E=>{u==null||u(E),w()},onReject:E=>{c==null||c(E),w()}}))))}Xle.displayName="@mantine/dropzone/DropzoneFullScreen";Yle.FullScreen=Xle;const c_=Yle,HZe=({patient:r})=>{const[e,t]=Te(!1),[n,i]=Te(null),[o,s]=Te(0),[a,l]=Te(""),u=[{id:1,title:"Annual Wellness Visit",priority:"high",dueDate:"2024-03-15",status:"overdue",description:"Patient has not completed annual wellness visit for 2024",attachments:[{name:"Previous_Visit_Summary.pdf",date:"2023-03-10"}]},{id:2,title:"Diabetes A1C Test",priority:"medium",dueDate:"2024-02-28",status:"pending",description:"Regular A1C monitoring required",attachments:[{name:"Lab_Results_2023.pdf",date:"2023-12-15"},{name:"Care_Plan.pdf",date:"2024-01-10"}]}],c=h=>{let p=0;const f=setInterval(()=>{p+=10,s(p),p>=100&&(clearInterval(f),h[0].name,new Date().toISOString().split("T")[0],setTimeout(()=>{s(0),t(!1),l("")},500))},200)},d=h=>{switch(h){case"high":return"red";case"medium":return"orange";case"low":return"blue";default:return"gray"}};return b.jsxs(b.Fragment,{children:[b.jsxs(Nn,{p:"md",radius:"md",children:[b.jsxs(Ke,{position:"apart",mb:"md",children:[b.jsx($r,{order:3,children:"Care Gaps"}),b.jsxs(to,{size:"lg",children:[u.length," Open"]})]}),b.jsx(Dn,{spacing:"md",children:u.map(h=>b.jsxs(Nn,{p:"md",radius:"md",withBorder:!0,children:[b.jsxs(Ke,{position:"apart",mb:"xs",children:[b.jsxs(Ke,{children:[b.jsx(hs,{color:d(h.priority),variant:"light",size:"lg",children:b.jsx(tm,{size:20})}),b.jsxs("div",{children:[b.jsx(Se,{weight:500,children:h.title}),b.jsxs(Se,{size:"sm",color:"dimmed",children:["Due: ",h.dueDate]})]})]}),b.jsx(to,{color:d(h.priority),children:h.priority.toUpperCase()})]}),b.jsx(Se,{size:"sm",mb:"md",children:h.description}),b.jsxs(Ke,{position:"apart",children:[b.jsx(Ke,{spacing:"xs",children:h.attachments.map((p,f)=>b.jsx(mr,{variant:"light",size:"xs",leftIcon:b.jsx(K0e,{size:14}),rightIcon:b.jsx(H0e,{size:14}),children:p.name},f))}),b.jsx(mr,{size:"xs",leftIcon:b.jsx(oI,{size:14}),onClick:()=>{i(h),t(!0)},children:"Upload"})]})]},h.id))})]}),b.jsx(Fu,{opened:e,onClose:()=>t(!1),title:"Upload Documentation",size:"lg",children:b.jsxs(Dn,{spacing:"md",children:[b.jsxs(Se,{weight:500,children:["Uploading for: ",n==null?void 0:n.title]}),b.jsx(c_,{onDrop:c,maxSize:5*1024**2,accept:["application/pdf","image/*"],children:b.jsxs(Ke,{position:"center",spacing:"xl",style:{minHeight:120,pointerEvents:"none"},children:[b.jsx(c_.Accept,{children:b.jsx(oI,{size:50,stroke:1.5})}),b.jsx(c_.Reject,{children:b.jsx(wZ,{size:50,stroke:1.5})}),b.jsx(c_.Idle,{children:b.jsx(oI,{size:50,stroke:1.5})}),b.jsxs("div",{children:[b.jsx(Se,{size:"xl",inline:!0,children:"Drag files here or click to select"}),b.jsx(Se,{size:"sm",color:"dimmed",inline:!0,mt:7,children:"Files should not exceed 5MB"})]})]})}),o>0&&b.jsx(kO,{value:o,label:`${o}%`,size:"xl",radius:"xl"}),b.jsx(Oo,{}),b.jsx(sq,{label:"Additional Notes",placeholder:"Add any relevant notes about this documentation",value:a,onChange:h=>l(h.currentTarget.value),minRows:3}),b.jsxs(Ke,{position:"right",children:[b.jsx(mr,{variant:"default",onClick:()=>t(!1),children:"Cancel"}),b.jsx(mr,{children:"Upload"})]})]})})]})};function ao(r){if(typeof r=="string"||typeof r=="number")return""+r;let e="";if(Array.isArray(r))for(let t=0,n;t<r.length;t++)(n=ao(r[t]))!==""&&(e+=(e&&" ")+n);else for(let t in r)r[t]&&(e+=(e&&" ")+t);return e}const{useDebugValue:kZe}=x,{useSyncExternalStoreWithSelector:$Ze}=ite,BZe=r=>r;function Jle(r,e=BZe,t){const n=$Ze(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return kZe(n),n}const k4=(r,e)=>{const t=Zee(r),n=(i,o=e)=>Jle(t,i,o);return Object.assign(n,t),n},jZe=(r,e)=>r?k4(r,e):k4;function Wi(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[n,i]of r)if(!Object.is(i,e.get(n)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const n of r)if(!e.has(n))return!1;return!0}const t=Object.keys(r);if(t.length!==Object.keys(e).length)return!1;for(const n of t)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(r[n],e[n]))return!1;return!0}var WZe={value:()=>{}};function rx(){for(var r=0,e=arguments.length,t={},n;r<e;++r){if(!(n=arguments[r]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new ub(t)}function ub(r){this._=r}function UZe(r,e){return r.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}ub.prototype=rx.prototype={constructor:ub,on:function(r,e){var t=this._,n=UZe(r+"",t),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(r=n[o]).type)&&(i=zZe(t[i],r.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(r=n[o]).type)t[i]=$4(t[i],r.name,e);else if(e==null)for(i in t)t[i]=$4(t[i],r.name,null);return this},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new ub(r)},call:function(r,e){if((i=arguments.length-2)>0)for(var t=new Array(i),n=0,i,o;n<i;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,i=o.length;n<i;++n)o[n].value.apply(e,t)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,o=n.length;i<o;++i)n[i].value.apply(e,t)}};function zZe(r,e){for(var t=0,n=r.length,i;t<n;++t)if((i=r[t]).name===e)return i.value}function $4(r,e,t){for(var n=0,i=r.length;n<i;++n)if(r[n].name===e){r[n]=WZe,r=r.slice(0,n).concat(r.slice(n+1));break}return t!=null&&r.push({name:e,value:t}),r}var TN="http://www.w3.org/1999/xhtml";const B4={svg:"http://www.w3.org/2000/svg",xhtml:TN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ix(r){var e=r+="",t=e.indexOf(":");return t>=0&&(e=r.slice(0,t))!=="xmlns"&&(r=r.slice(t+1)),B4.hasOwnProperty(e)?{space:B4[e],local:r}:r}function KZe(r){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===TN&&e.documentElement.namespaceURI===TN?e.createElement(r):e.createElementNS(t,r)}}function YZe(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function Zle(r){var e=ix(r);return(e.local?YZe:KZe)(e)}function qZe(){}function Ck(r){return r==null?qZe:function(){return this.querySelector(r)}}function QZe(r){typeof r!="function"&&(r=Ck(r));for(var e=this._groups,t=e.length,n=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=n[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=r.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new gs(n,this._parents)}function XZe(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function JZe(){return[]}function eue(r){return r==null?JZe:function(){return this.querySelectorAll(r)}}function ZZe(r){return function(){return XZe(r.apply(this,arguments))}}function eet(r){typeof r=="function"?r=ZZe(r):r=eue(r);for(var e=this._groups,t=e.length,n=[],i=[],o=0;o<t;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(n.push(r.call(l,l.__data__,u,s)),i.push(l));return new gs(n,i)}function tue(r){return function(){return this.matches(r)}}function nue(r){return function(e){return e.matches(r)}}var tet=Array.prototype.find;function net(r){return function(){return tet.call(this.children,r)}}function ret(){return this.firstElementChild}function iet(r){return this.select(r==null?ret:net(typeof r=="function"?r:nue(r)))}var oet=Array.prototype.filter;function set(){return Array.from(this.children)}function aet(r){return function(){return oet.call(this.children,r)}}function uet(r){return this.selectAll(r==null?set:aet(typeof r=="function"?r:nue(r)))}function cet(r){typeof r!="function"&&(r=tue(r));for(var e=this._groups,t=e.length,n=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=n[i]=[],l,u=0;u<s;++u)(l=o[u])&&r.call(l,l.__data__,u,o)&&a.push(l);return new gs(n,this._parents)}function rue(r){return new Array(r.length)}function det(){return new gs(this._enter||this._groups.map(rue),this._parents)}function nO(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}nO.prototype={constructor:nO,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function het(r){return function(){return r}}function pet(r,e,t,n,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],n[s]=a):t[s]=new nO(r,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function fet(r,e,t,n,i,o,s){var a,l,u=new Map,c=e.length,d=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(h[a]=p=s.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=s.call(r,o[a],a,o)+"",(l=u.get(p))?(n[a]=l,l.__data__=o[a],u.delete(p)):t[a]=new nO(r,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function get(r){return r.__data__}function met(r,e){if(!arguments.length)return Array.from(this,get);var t=e?fet:pet,n=this._parents,i=this._groups;typeof r!="function"&&(r=het(r));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=n[u],d=i[u],h=d.length,p=vet(r.call(c,c&&c.__data__,u,n)),f=p.length,g=a[u]=new Array(f),v=s[u]=new Array(f),y=l[u]=new Array(h);t(c,d,g,v,y,p,e);for(var C=0,w=0,S,P;C<f;++C)if(S=g[C]){for(C>=w&&(w=C+1);!(P=v[w])&&++w<f;);S._next=P||null}}return s=new gs(s,n),s._enter=a,s._exit=l,s}function vet(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function yet(){return new gs(this._exit||this._groups.map(rue),this._parents)}function Cet(r,e,t){var n=this.enter(),i=this,o=this.exit();return typeof r=="function"?(n=r(n),n&&(n=n.selection())):n=n.append(r+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?o.remove():t(o),n&&i?n.merge(i).order():i}function wet(r){for(var e=r.selection?r.selection():r,t=this._groups,n=e._groups,i=t.length,o=n.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=t[l],c=n[l],d=u.length,h=a[l]=new Array(d),p,f=0;f<d;++f)(p=u[f]||c[f])&&(h[f]=p);for(;l<i;++l)a[l]=t[l];return new gs(a,this._parents)}function Eet(){for(var r=this._groups,e=-1,t=r.length;++e<t;)for(var n=r[e],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function _et(r){r||(r=bet);function e(d,h){return d&&h?r(d.__data__,h.__data__):!d-!h}for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o){for(var s=t[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new gs(i,this._parents).order()}function bet(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function Ret(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function Tet(){return Array.from(this)}function Pet(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var n=r[e],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function Oet(){let r=0;for(const e of this)++r;return r}function Det(){return!this.node()}function Aet(r){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,s=i.length,a;o<s;++o)(a=i[o])&&r.call(a,a.__data__,o,i);return this}function xet(r){return function(){this.removeAttribute(r)}}function Iet(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Fet(r,e){return function(){this.setAttribute(r,e)}}function Met(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function Let(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(r):this.setAttribute(r,t)}}function Net(r,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,t)}}function Get(r,e){var t=ix(r);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((e==null?t.local?Iet:xet:typeof e=="function"?t.local?Net:Let:t.local?Met:Fet)(t,e))}function iue(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function Vet(r){return function(){this.style.removeProperty(r)}}function Het(r,e,t){return function(){this.style.setProperty(r,e,t)}}function ket(r,e,t){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(r):this.style.setProperty(r,n,t)}}function $et(r,e,t){return arguments.length>1?this.each((e==null?Vet:typeof e=="function"?ket:Het)(r,e,t??"")):Mg(this.node(),r)}function Mg(r,e){return r.style.getPropertyValue(e)||iue(r).getComputedStyle(r,null).getPropertyValue(e)}function Bet(r){return function(){delete this[r]}}function jet(r,e){return function(){this[r]=e}}function Wet(r,e){return function(){var t=e.apply(this,arguments);t==null?delete this[r]:this[r]=t}}function Uet(r,e){return arguments.length>1?this.each((e==null?Bet:typeof e=="function"?Wet:jet)(r,e)):this.node()[r]}function oue(r){return r.trim().split(/^|\s+/)}function wk(r){return r.classList||new sue(r)}function sue(r){this._node=r,this._names=oue(r.getAttribute("class")||"")}sue.prototype={add:function(r){var e=this._names.indexOf(r);e<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function aue(r,e){for(var t=wk(r),n=-1,i=e.length;++n<i;)t.add(e[n])}function lue(r,e){for(var t=wk(r),n=-1,i=e.length;++n<i;)t.remove(e[n])}function zet(r){return function(){aue(this,r)}}function Ket(r){return function(){lue(this,r)}}function Yet(r,e){return function(){(e.apply(this,arguments)?aue:lue)(this,r)}}function qet(r,e){var t=oue(r+"");if(arguments.length<2){for(var n=wk(this.node()),i=-1,o=t.length;++i<o;)if(!n.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?Yet:e?zet:Ket)(t,e))}function Qet(){this.textContent=""}function Xet(r){return function(){this.textContent=r}}function Jet(r){return function(){var e=r.apply(this,arguments);this.textContent=e??""}}function Zet(r){return arguments.length?this.each(r==null?Qet:(typeof r=="function"?Jet:Xet)(r)):this.node().textContent}function ett(){this.innerHTML=""}function ttt(r){return function(){this.innerHTML=r}}function ntt(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e??""}}function rtt(r){return arguments.length?this.each(r==null?ett:(typeof r=="function"?ntt:ttt)(r)):this.node().innerHTML}function itt(){this.nextSibling&&this.parentNode.appendChild(this)}function ott(){return this.each(itt)}function stt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function att(){return this.each(stt)}function ltt(r){var e=typeof r=="function"?r:Zle(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function utt(){return null}function ctt(r,e){var t=typeof r=="function"?r:Zle(r),n=e==null?utt:typeof e=="function"?e:Ck(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function dtt(){var r=this.parentNode;r&&r.removeChild(this)}function htt(){return this.each(dtt)}function ptt(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function ftt(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function gtt(r){return this.select(r?ftt:ptt)}function mtt(r){return arguments.length?this.property("__data__",r):this.node().__data__}function vtt(r){return function(e){r.call(this,e,this.__data__)}}function ytt(r){return r.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function Ctt(r){return function(){var e=this.__on;if(e){for(var t=0,n=-1,i=e.length,o;t<i;++t)o=e[t],(!r.type||o.type===r.type)&&o.name===r.name?this.removeEventListener(o.type,o.listener,o.options):e[++n]=o;++n?e.length=n:delete this.__on}}}function wtt(r,e,t){return function(){var n=this.__on,i,o=vtt(e);if(n){for(var s=0,a=n.length;s<a;++s)if((i=n[s]).type===r.type&&i.name===r.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=t),i.value=e;return}}this.addEventListener(r.type,o,t),i={type:r.type,name:r.name,value:e,listener:o,options:t},n?n.push(i):this.__on=[i]}}function Stt(r,e,t){var n=ytt(r+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=n[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?wtt:Ctt,i=0;i<o;++i)this.each(a(n[i],e,t));return this}function uue(r,e,t){var n=iue(r),i=n.CustomEvent;typeof i=="function"?i=new i(e,t):(i=n.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),r.dispatchEvent(i)}function Ett(r,e){return function(){return uue(this,r,e)}}function _tt(r,e){return function(){return uue(this,r,e.apply(this,arguments))}}function btt(r,e){return this.each((typeof e=="function"?_tt:Ett)(r,e))}function*Rtt(){for(var r=this._groups,e=0,t=r.length;e<t;++e)for(var n=r[e],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var cue=[null];function gs(r,e){this._groups=r,this._parents=e}function wS(){return new gs([[document.documentElement]],cue)}function Ttt(){return this}gs.prototype=wS.prototype={constructor:gs,select:QZe,selectAll:eet,selectChild:iet,selectChildren:uet,filter:cet,data:met,enter:det,exit:yet,join:Cet,merge:wet,selection:Ttt,order:Eet,sort:_et,call:Ret,nodes:Tet,node:Pet,size:Oet,empty:Det,each:Aet,attr:Get,style:$et,property:Uet,classed:qet,text:Zet,html:rtt,raise:ott,lower:att,append:ltt,insert:ctt,remove:htt,clone:gtt,datum:mtt,on:Stt,dispatch:btt,[Symbol.iterator]:Rtt};function aa(r){return typeof r=="string"?new gs([[document.querySelector(r)]],[document.documentElement]):new gs([[r]],cue)}function Ptt(r){let e;for(;e=r.sourceEvent;)r=e;return r}function el(r,e){if(r=Ptt(r),e===void 0&&(e=r.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var n=t.createSVGPoint();return n.x=r.clientX,n.y=r.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[r.clientX-i.left-e.clientLeft,r.clientY-i.top-e.clientTop]}}return[r.pageX,r.pageY]}const Ott={passive:!1},IC={capture:!0,passive:!1};function KF(r){r.stopImmediatePropagation()}function Xf(r){r.preventDefault(),r.stopImmediatePropagation()}function due(r){var e=r.document.documentElement,t=aa(r).on("dragstart.drag",Xf,IC);"onselectstart"in e?t.on("selectstart.drag",Xf,IC):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function hue(r,e){var t=r.document.documentElement,n=aa(r).on("dragstart.drag",null);e&&(n.on("click.drag",Xf,IC),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in t?n.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const d_=r=>()=>r;function PN(r,{sourceEvent:e,subject:t,target:n,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}PN.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function Dtt(r){return!r.ctrlKey&&!r.button}function Att(){return this.parentNode}function xtt(r,e){return e??{x:r.x,y:r.y}}function Itt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ftt(){var r=Dtt,e=Att,t=xtt,n=Itt,i={},o=rx("start","drag","end"),s=0,a,l,u,c,d=0;function h(S){S.on("mousedown.drag",p).filter(n).on("touchstart.drag",v).on("touchmove.drag",y,Ott).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(S,P){if(!(c||!r.call(this,S,P))){var F=w(this,e.call(this,S,P),S,P,"mouse");F&&(aa(S.view).on("mousemove.drag",f,IC).on("mouseup.drag",g,IC),due(S.view),KF(S),u=!1,a=S.clientX,l=S.clientY,F("start",S))}}function f(S){if(Xf(S),!u){var P=S.clientX-a,F=S.clientY-l;u=P*P+F*F>d}i.mouse("drag",S)}function g(S){aa(S.view).on("mousemove.drag mouseup.drag",null),hue(S.view,u),Xf(S),i.mouse("end",S)}function v(S,P){if(r.call(this,S,P)){var F=S.changedTouches,_=e.call(this,S,P),E=F.length,T,O;for(T=0;T<E;++T)(O=w(this,_,S,P,F[T].identifier,F[T]))&&(KF(S),O("start",S,F[T]))}}function y(S){var P=S.changedTouches,F=P.length,_,E;for(_=0;_<F;++_)(E=i[P[_].identifier])&&(Xf(S),E("drag",S,P[_]))}function C(S){var P=S.changedTouches,F=P.length,_,E;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),_=0;_<F;++_)(E=i[P[_].identifier])&&(KF(S),E("end",S,P[_]))}function w(S,P,F,_,E,T){var O=o.copy(),L=el(T||F,P),V,M,N;if((N=t.call(S,new PN("beforestart",{sourceEvent:F,target:h,identifier:E,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:O}),_))!=null)return V=N.x-L[0]||0,M=N.y-L[1]||0,function $(B,U,z){var j=L,Q;switch(B){case"start":i[E]=$,Q=s++;break;case"end":delete i[E],--s;case"drag":L=el(z||U,P),Q=s;break}O.call(B,S,new PN(B,{sourceEvent:U,subject:N,target:h,identifier:E,active:Q,x:L[0]+V,y:L[1]+M,dx:L[0]-j[0],dy:L[1]-j[1],dispatch:O}),_)}}return h.filter=function(S){return arguments.length?(r=typeof S=="function"?S:d_(!!S),h):r},h.container=function(S){return arguments.length?(e=typeof S=="function"?S:d_(S),h):e},h.subject=function(S){return arguments.length?(t=typeof S=="function"?S:d_(S),h):t},h.touchable=function(S){return arguments.length?(n=typeof S=="function"?S:d_(!!S),h):n},h.on=function(){var S=o.on.apply(o,arguments);return S===o?h:S},h.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,h):Math.sqrt(d)},h}function Sk(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function pue(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function SS(){}var FC=.7,rO=1/FC,Jf="\\s*([+-]?\\d+)\\s*",MC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mtt=/^#([0-9a-f]{3,8})$/,Ltt=new RegExp(`^rgb\\(${Jf},${Jf},${Jf}\\)$`),Ntt=new RegExp(`^rgb\\(${Rl},${Rl},${Rl}\\)$`),Gtt=new RegExp(`^rgba\\(${Jf},${Jf},${Jf},${MC}\\)$`),Vtt=new RegExp(`^rgba\\(${Rl},${Rl},${Rl},${MC}\\)$`),Htt=new RegExp(`^hsl\\(${MC},${Rl},${Rl}\\)$`),ktt=new RegExp(`^hsla\\(${MC},${Rl},${Rl},${MC}\\)$`),j4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sk(SS,LC,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:W4,formatHex:W4,formatHex8:$tt,formatHsl:Btt,formatRgb:U4,toString:U4});function W4(){return this.rgb().formatHex()}function $tt(){return this.rgb().formatHex8()}function Btt(){return fue(this).formatHsl()}function U4(){return this.rgb().formatRgb()}function LC(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=Mtt.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?z4(e):t===3?new bo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?h_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?h_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ltt.exec(r))?new bo(e[1],e[2],e[3],1):(e=Ntt.exec(r))?new bo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Gtt.exec(r))?h_(e[1],e[2],e[3],e[4]):(e=Vtt.exec(r))?h_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Htt.exec(r))?q4(e[1],e[2]/100,e[3]/100,1):(e=ktt.exec(r))?q4(e[1],e[2]/100,e[3]/100,e[4]):j4.hasOwnProperty(r)?z4(j4[r]):r==="transparent"?new bo(NaN,NaN,NaN,0):null}function z4(r){return new bo(r>>16&255,r>>8&255,r&255,1)}function h_(r,e,t,n){return n<=0&&(r=e=t=NaN),new bo(r,e,t,n)}function jtt(r){return r instanceof SS||(r=LC(r)),r?(r=r.rgb(),new bo(r.r,r.g,r.b,r.opacity)):new bo}function ON(r,e,t,n){return arguments.length===1?jtt(r):new bo(r,e,t,n??1)}function bo(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}Sk(bo,ON,pue(SS,{brighter(r){return r=r==null?rO:Math.pow(rO,r),new bo(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?FC:Math.pow(FC,r),new bo(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new bo(xh(this.r),xh(this.g),xh(this.b),iO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K4,formatHex:K4,formatHex8:Wtt,formatRgb:Y4,toString:Y4}));function K4(){return`#${vh(this.r)}${vh(this.g)}${vh(this.b)}`}function Wtt(){return`#${vh(this.r)}${vh(this.g)}${vh(this.b)}${vh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y4(){const r=iO(this.opacity);return`${r===1?"rgb(":"rgba("}${xh(this.r)}, ${xh(this.g)}, ${xh(this.b)}${r===1?")":`, ${r})`}`}function iO(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function xh(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function vh(r){return r=xh(r),(r<16?"0":"")+r.toString(16)}function q4(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new la(r,e,t,n)}function fue(r){if(r instanceof la)return new la(r.h,r.s,r.l,r.opacity);if(r instanceof SS||(r=LC(r)),!r)return new la;if(r instanceof la)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),o=Math.max(e,t,n),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(t-n)/a+(t<n)*6:t===o?s=(n-e)/a+2:s=(e-t)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new la(s,a,l,r.opacity)}function Utt(r,e,t,n){return arguments.length===1?fue(r):new la(r,e,t,n??1)}function la(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}Sk(la,Utt,pue(SS,{brighter(r){return r=r==null?rO:Math.pow(rO,r),new la(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?FC:Math.pow(FC,r),new la(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new bo(YF(r>=240?r-240:r+120,i,n),YF(r,i,n),YF(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new la(Q4(this.h),p_(this.s),p_(this.l),iO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=iO(this.opacity);return`${r===1?"hsl(":"hsla("}${Q4(this.h)}, ${p_(this.s)*100}%, ${p_(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Q4(r){return r=(r||0)%360,r<0?r+360:r}function p_(r){return Math.max(0,Math.min(1,r||0))}function YF(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const gue=r=>()=>r;function ztt(r,e){return function(t){return r+t*e}}function Ktt(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function Ytt(r){return(r=+r)==1?mue:function(e,t){return t-e?Ktt(e,t,r):gue(isNaN(e)?t:e)}}function mue(r,e){var t=e-r;return t?ztt(r,t):gue(isNaN(r)?e:r)}const X4=function r(e){var t=Ytt(e);function n(i,o){var s=t((i=ON(i)).r,(o=ON(o)).r),a=t(i.g,o.g),l=t(i.b,o.b),u=mue(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=r,n}(1);function Ec(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}var DN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qF=new RegExp(DN.source,"g");function qtt(r){return function(){return r}}function Qtt(r){return function(e){return r(e)+""}}function Xtt(r,e){var t=DN.lastIndex=qF.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(r=r+"",e=e+"";(n=DN.exec(r))&&(i=qF.exec(e));)(o=i.index)>t&&(o=e.slice(t,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ec(n,i)})),t=qF.lastIndex;return t<e.length&&(o=e.slice(t),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Qtt(l[0].x):qtt(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var J4=180/Math.PI,AN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vue(r,e,t,n,i,o){var s,a,l;return(s=Math.sqrt(r*r+e*e))&&(r/=s,e/=s),(l=r*t+e*n)&&(t-=r*l,n-=e*l),(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a,l/=a),r*n<e*t&&(r=-r,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,r)*J4,skewX:Math.atan(l)*J4,scaleX:s,scaleY:a}}var f_;function Jtt(r){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?AN:vue(e.a,e.b,e.c,e.d,e.e,e.f)}function Ztt(r){return r==null||(f_||(f_=document.createElementNS("http://www.w3.org/2000/svg","g")),f_.setAttribute("transform",r),!(r=f_.transform.baseVal.consolidate()))?AN:(r=r.matrix,vue(r.a,r.b,r.c,r.d,r.e,r.f))}function yue(r,e,t,n){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,h,p,f){if(u!==d||c!==h){var g=p.push("translate(",null,e,null,t);f.push({i:g-4,x:Ec(u,d)},{i:g-2,x:Ec(c,h)})}else(d||h)&&p.push("translate("+d+e+h+t)}function s(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Ec(u,c)})):c&&d.push(i(d)+"rotate("+c+n)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Ec(u,c)}):c&&d.push(i(d)+"skewX("+c+n)}function l(u,c,d,h,p,f){if(u!==d||c!==h){var g=p.push(i(p)+"scale(",null,",",null,")");f.push({i:g-4,x:Ec(u,d)},{i:g-2,x:Ec(c,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=r(u),c=r(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,h),s(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(p){for(var f=-1,g=h.length,v;++f<g;)d[(v=h[f]).i]=v.x(p);return d.join("")}}}var ent=yue(Jtt,"px, ","px)","deg)"),tnt=yue(Ztt,", ",")",")"),nnt=1e-12;function Z4(r){return((r=Math.exp(r))+1/r)/2}function rnt(r){return((r=Math.exp(r))-1/r)/2}function int(r){return((r=Math.exp(2*r))-1)/(r+1)}const ont=function r(e,t,n){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],h=s[2],p=c-a,f=d-l,g=p*p+f*f,v,y;if(g<nnt)y=Math.log(h/u)/e,v=function(_){return[a+_*p,l+_*f,u*Math.exp(e*_*y)]};else{var C=Math.sqrt(g),w=(h*h-u*u+n*g)/(2*u*t*C),S=(h*h-u*u-n*g)/(2*h*t*C),P=Math.log(Math.sqrt(w*w+1)-w),F=Math.log(Math.sqrt(S*S+1)-S);y=(F-P)/e,v=function(_){var E=_*y,T=Z4(P),O=u/(t*C)*(T*int(e*E+P)-rnt(P));return[a+O*p,l+O*f,u*T/Z4(e*E+P)]}}return v.duration=y*1e3*e/Math.SQRT2,v}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return r(s,a,l)},i}(Math.SQRT2,2,4);var Lg=0,cy=0,Vv=0,Cue=1e3,oO,dy,sO=0,ap=0,ox=0,NC=typeof performance=="object"&&performance.now?performance:Date,wue=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function Ek(){return ap||(wue(snt),ap=NC.now()+ox)}function snt(){ap=0}function aO(){this._call=this._time=this._next=null}aO.prototype=Sue.prototype={constructor:aO,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?Ek():+t)+(e==null?0:+e),!this._next&&dy!==this&&(dy?dy._next=this:oO=this,dy=this),this._call=r,this._time=t,xN()},stop:function(){this._call&&(this._call=null,this._time=1/0,xN())}};function Sue(r,e,t){var n=new aO;return n.restart(r,e,t),n}function ant(){Ek(),++Lg;for(var r=oO,e;r;)(e=ap-r._time)>=0&&r._call.call(void 0,e),r=r._next;--Lg}function e6(){ap=(sO=NC.now())+ox,Lg=cy=0;try{ant()}finally{Lg=0,unt(),ap=0}}function lnt(){var r=NC.now(),e=r-sO;e>Cue&&(ox-=e,sO=r)}function unt(){for(var r,e=oO,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:oO=t);dy=r,xN(n)}function xN(r){if(!Lg){cy&&(cy=clearTimeout(cy));var e=r-ap;e>24?(r<1/0&&(cy=setTimeout(e6,r-NC.now()-ox)),Vv&&(Vv=clearInterval(Vv))):(Vv||(sO=NC.now(),Vv=setInterval(lnt,Cue)),Lg=1,wue(e6))}}function t6(r,e,t){var n=new aO;return e=e==null?0:+e,n.restart(i=>{n.stop(),r(i+e)},e,t),n}var cnt=rx("start","end","cancel","interrupt"),dnt=[],Eue=0,n6=1,IN=2,cb=3,r6=4,FN=5,db=6;function sx(r,e,t,n,i,o){var s=r.__transition;if(!s)r.__transition={};else if(t in s)return;hnt(r,t,{name:e,index:n,group:i,on:cnt,tween:dnt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Eue})}function _k(r,e){var t=Fa(r,e);if(t.state>Eue)throw new Error("too late; already scheduled");return t}function jl(r,e){var t=Fa(r,e);if(t.state>cb)throw new Error("too late; already running");return t}function Fa(r,e){var t=r.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function hnt(r,e,t){var n=r.__transition,i;n[e]=t,t.timer=Sue(o,0,t.time);function o(u){t.state=n6,t.timer.restart(s,t.delay,t.time),t.delay<=u&&s(u-t.delay)}function s(u){var c,d,h,p;if(t.state!==n6)return l();for(c in n)if(p=n[c],p.name===t.name){if(p.state===cb)return t6(s);p.state===r6?(p.state=db,p.timer.stop(),p.on.call("interrupt",r,r.__data__,p.index,p.group),delete n[c]):+c<e&&(p.state=db,p.timer.stop(),p.on.call("cancel",r,r.__data__,p.index,p.group),delete n[c])}if(t6(function(){t.state===cb&&(t.state=r6,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=IN,t.on.call("start",r,r.__data__,t.index,t.group),t.state===IN){for(t.state=cb,i=new Array(h=t.tween.length),c=0,d=-1;c<h;++c)(p=t.tween[c].value.call(r,r.__data__,t.index,t.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=FN,1),d=-1,h=i.length;++d<h;)i[d].call(r,c);t.state===FN&&(t.on.call("end",r,r.__data__,t.index,t.group),l())}function l(){t.state=db,t.timer.stop(),delete n[e];for(var u in n)return;delete r.__transition}}function hb(r,e){var t=r.__transition,n,i,o=!0,s;if(t){e=e==null?null:e+"";for(s in t){if((n=t[s]).name!==e){o=!1;continue}i=n.state>IN&&n.state<FN,n.state=db,n.timer.stop(),n.on.call(i?"interrupt":"cancel",r,r.__data__,n.index,n.group),delete t[s]}o&&delete r.__transition}}function pnt(r){return this.each(function(){hb(this,r)})}function fnt(r,e){var t,n;return function(){var i=jl(this,r),o=i.tween;if(o!==t){n=t=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function gnt(r,e,t){var n,i;if(typeof t!="function")throw new Error;return function(){var o=jl(this,r),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:e,value:t},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function mnt(r,e){var t=this._id;if(r+="",arguments.length<2){for(var n=Fa(this.node(),t).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===r)return s.value;return null}return this.each((e==null?fnt:gnt)(t,r,e))}function bk(r,e,t){var n=r._id;return r.each(function(){var i=jl(this,n);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Fa(i,n).value[e]}}function _ue(r,e){var t;return(typeof e=="number"?Ec:e instanceof LC?X4:(t=LC(e))?(e=t,X4):Xtt)(r,e)}function vnt(r){return function(){this.removeAttribute(r)}}function ynt(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Cnt(r,e,t){var n,i=t+"",o;return function(){var s=this.getAttribute(r);return s===i?null:s===n?o:o=e(n=s,t)}}function wnt(r,e,t){var n,i=t+"",o;return function(){var s=this.getAttributeNS(r.space,r.local);return s===i?null:s===n?o:o=e(n=s,t)}}function Snt(r,e,t){var n,i,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttribute(r):(s=this.getAttribute(r),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=e(n=s,a)))}}function Ent(r,e,t){var n,i,o;return function(){var s,a=t(this),l;return a==null?void this.removeAttributeNS(r.space,r.local):(s=this.getAttributeNS(r.space,r.local),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=e(n=s,a)))}}function _nt(r,e){var t=ix(r),n=t==="transform"?tnt:_ue;return this.attrTween(r,typeof e=="function"?(t.local?Ent:Snt)(t,n,bk(this,"attr."+r,e)):e==null?(t.local?ynt:vnt)(t):(t.local?wnt:Cnt)(t,n,e))}function bnt(r,e){return function(t){this.setAttribute(r,e.call(this,t))}}function Rnt(r,e){return function(t){this.setAttributeNS(r.space,r.local,e.call(this,t))}}function Tnt(r,e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Rnt(r,o)),t}return i._value=e,i}function Pnt(r,e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&bnt(r,o)),t}return i._value=e,i}function Ont(r,e){var t="attr."+r;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var n=ix(r);return this.tween(t,(n.local?Tnt:Pnt)(n,e))}function Dnt(r,e){return function(){_k(this,r).delay=+e.apply(this,arguments)}}function Ant(r,e){return e=+e,function(){_k(this,r).delay=e}}function xnt(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?Dnt:Ant)(e,r)):Fa(this.node(),e).delay}function Int(r,e){return function(){jl(this,r).duration=+e.apply(this,arguments)}}function Fnt(r,e){return e=+e,function(){jl(this,r).duration=e}}function Mnt(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?Int:Fnt)(e,r)):Fa(this.node(),e).duration}function Lnt(r,e){if(typeof e!="function")throw new Error;return function(){jl(this,r).ease=e}}function Nnt(r){var e=this._id;return arguments.length?this.each(Lnt(e,r)):Fa(this.node(),e).ease}function Gnt(r,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;jl(this,r).ease=t}}function Vnt(r){if(typeof r!="function")throw new Error;return this.each(Gnt(this._id,r))}function Hnt(r){typeof r!="function"&&(r=tue(r));for(var e=this._groups,t=e.length,n=new Array(t),i=0;i<t;++i)for(var o=e[i],s=o.length,a=n[i]=[],l,u=0;u<s;++u)(l=o[u])&&r.call(l,l.__data__,u,o)&&a.push(l);return new Du(n,this._parents,this._name,this._id)}function knt(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,t=r._groups,n=e.length,i=t.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=e[a],u=t[a],c=l.length,d=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(d[p]=h);for(;a<n;++a)s[a]=e[a];return new Du(s,this._parents,this._name,this._id)}function $nt(r){return(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function Bnt(r,e,t){var n,i,o=$nt(e)?_k:jl;return function(){var s=o(this,r),a=s.on;a!==n&&(i=(n=a).copy()).on(e,t),s.on=i}}function jnt(r,e){var t=this._id;return arguments.length<2?Fa(this.node(),t).on.on(r):this.each(Bnt(t,r,e))}function Wnt(r){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==r)return;e&&e.removeChild(this)}}function Unt(){return this.on("end.remove",Wnt(this._id))}function znt(r){var e=this._name,t=this._id;typeof r!="function"&&(r=Ck(r));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var a=n[s],l=a.length,u=o[s]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=r.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,sx(u[h],e,t,h,u,Fa(c,t)));return new Du(o,this._parents,e,t)}function Knt(r){var e=this._name,t=this._id;typeof r!="function"&&(r=eue(r));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var l=n[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=r.call(c,c.__data__,d,l),p,f=Fa(c,t),g=0,v=h.length;g<v;++g)(p=h[g])&&sx(p,e,t,g,h,f);o.push(h),s.push(c)}return new Du(o,s,e,t)}var Ynt=wS.prototype.constructor;function qnt(){return new Ynt(this._groups,this._parents)}function Qnt(r,e){var t,n,i;return function(){var o=Mg(this,r),s=(this.style.removeProperty(r),Mg(this,r));return o===s?null:o===t&&s===n?i:i=e(t=o,n=s)}}function bue(r){return function(){this.style.removeProperty(r)}}function Xnt(r,e,t){var n,i=t+"",o;return function(){var s=Mg(this,r);return s===i?null:s===n?o:o=e(n=s,t)}}function Jnt(r,e,t){var n,i,o;return function(){var s=Mg(this,r),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(r),Mg(this,r))),s===l?null:s===n&&l===i?o:(i=l,o=e(n=s,a))}}function Znt(r,e){var t,n,i,o="style."+e,s="end."+o,a;return function(){var l=jl(this,r),u=l.on,c=l.value[o]==null?a||(a=bue(e)):void 0;(u!==t||i!==c)&&(n=(t=u).copy()).on(s,i=c),l.on=n}}function ert(r,e,t){var n=(r+="")=="transform"?ent:_ue;return e==null?this.styleTween(r,Qnt(r,n)).on("end.style."+r,bue(r)):typeof e=="function"?this.styleTween(r,Jnt(r,n,bk(this,"style."+r,e))).each(Znt(this._id,r)):this.styleTween(r,Xnt(r,n,e),t).on("end.style."+r,null)}function trt(r,e,t){return function(n){this.style.setProperty(r,e.call(this,n),t)}}function nrt(r,e,t){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&trt(r,s,t)),n}return o._value=e,o}function rrt(r,e,t){var n="style."+(r+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,nrt(r,e,t??""))}function irt(r){return function(){this.textContent=r}}function ort(r){return function(){var e=r(this);this.textContent=e??""}}function srt(r){return this.tween("text",typeof r=="function"?ort(bk(this,"text",r)):irt(r==null?"":r+""))}function art(r){return function(e){this.textContent=r.call(this,e)}}function lrt(r){var e,t;function n(){var i=r.apply(this,arguments);return i!==t&&(e=(t=i)&&art(i)),e}return n._value=r,n}function urt(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;return this.tween(e,lrt(r))}function crt(){for(var r=this._name,e=this._id,t=Rue(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=Fa(l,e);sx(l,r,t,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Du(n,this._parents,r,t)}function drt(){var r,e,t=this,n=t._id,i=t.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};t.each(function(){var u=jl(this,n),c=u.on;c!==r&&(e=(r=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var hrt=0;function Du(r,e,t,n){this._groups=r,this._parents=e,this._name=t,this._id=n}function Rue(){return++hrt}var Xl=wS.prototype;Du.prototype={constructor:Du,select:znt,selectAll:Knt,selectChild:Xl.selectChild,selectChildren:Xl.selectChildren,filter:Hnt,merge:knt,selection:qnt,transition:crt,call:Xl.call,nodes:Xl.nodes,node:Xl.node,size:Xl.size,empty:Xl.empty,each:Xl.each,on:jnt,attr:_nt,attrTween:Ont,style:ert,styleTween:rrt,text:srt,textTween:urt,remove:Unt,tween:mnt,delay:xnt,duration:Mnt,ease:Nnt,easeVarying:Vnt,end:drt,[Symbol.iterator]:Xl[Symbol.iterator]};function prt(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var frt={time:null,delay:0,duration:250,ease:prt};function grt(r,e){for(var t;!(t=r.__transition)||!(t=t[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return t}function mrt(r){var e,t;r instanceof Du?(e=r._id,r=r._name):(e=Rue(),(t=frt).time=Ek(),r=r==null?null:r+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&sx(l,r,e,u,s,t||grt(l,e));return new Du(n,this._parents,r,e)}wS.prototype.interrupt=pnt;wS.prototype.transition=mrt;const g_=r=>()=>r;function vrt(r,{sourceEvent:e,target:t,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function lu(r,e,t){this.k=r,this.x=e,this.y=t}lu.prototype={constructor:lu,scale:function(r){return r===1?this:new lu(this.k*r,this.x,this.y)},translate:function(r,e){return r===0&e===0?this:new lu(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xc=new lu(1,0,0);lu.prototype;function QF(r){r.stopImmediatePropagation()}function Hv(r){r.preventDefault(),r.stopImmediatePropagation()}function yrt(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function Crt(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function i6(){return this.__zoom||Xc}function wrt(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function Srt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ert(r,e,t){var n=r.invertX(e[0][0])-t[0][0],i=r.invertX(e[1][0])-t[1][0],o=r.invertY(e[0][1])-t[0][1],s=r.invertY(e[1][1])-t[1][1];return r.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function _rt(){var r=yrt,e=Crt,t=Ert,n=wrt,i=Srt,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=ont,u=rx("start","zoom","end"),c,d,h,p=500,f=150,g=0,v=10;function y(N){N.property("__zoom",i6).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(N,$,B,U){var z=N.selection?N.selection():N;z.property("__zoom",i6),N!==z?P(N,$,B,U):z.interrupt().each(function(){F(this,arguments).event(U).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},y.scaleBy=function(N,$,B,U){y.scaleTo(N,function(){var z=this.__zoom.k,j=typeof $=="function"?$.apply(this,arguments):$;return z*j},B,U)},y.scaleTo=function(N,$,B,U){y.transform(N,function(){var z=e.apply(this,arguments),j=this.__zoom,Q=B==null?S(z):typeof B=="function"?B.apply(this,arguments):B,X=j.invert(Q),Z=typeof $=="function"?$.apply(this,arguments):$;return t(w(C(j,Z),Q,X),z,s)},B,U)},y.translateBy=function(N,$,B,U){y.transform(N,function(){return t(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof B=="function"?B.apply(this,arguments):B),e.apply(this,arguments),s)},null,U)},y.translateTo=function(N,$,B,U,z){y.transform(N,function(){var j=e.apply(this,arguments),Q=this.__zoom,X=U==null?S(j):typeof U=="function"?U.apply(this,arguments):U;return t(Xc.translate(X[0],X[1]).scale(Q.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof B=="function"?-B.apply(this,arguments):-B),j,s)},U,z)};function C(N,$){return $=Math.max(o[0],Math.min(o[1],$)),$===N.k?N:new lu($,N.x,N.y)}function w(N,$,B){var U=$[0]-B[0]*N.k,z=$[1]-B[1]*N.k;return U===N.x&&z===N.y?N:new lu(N.k,U,z)}function S(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function P(N,$,B,U){N.on("start.zoom",function(){F(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(U).end()}).tween("zoom",function(){var z=this,j=arguments,Q=F(z,j).event(U),X=e.apply(z,j),Z=B==null?S(X):typeof B=="function"?B.apply(z,j):B,ce=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),oe=z.__zoom,de=typeof $=="function"?$.apply(z,j):$,Ee=l(oe.invert(Z).concat(ce/oe.k),de.invert(Z).concat(ce/de.k));return function(Pe){if(Pe===1)Pe=de;else{var $e=Ee(Pe),Ne=ce/$e[2];Pe=new lu(Ne,Z[0]-$e[0]*Ne,Z[1]-$e[1]*Ne)}Q.zoom(null,Pe)}})}function F(N,$,B){return!B&&N.__zooming||new _(N,$)}function _(N,$){this.that=N,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(N,$),this.taps=0}_.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,$){return this.mouse&&N!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var $=aa(this.that).datum();u.call(N,this.that,new vrt(N,{sourceEvent:this.sourceEvent,target:y,type:N,transform:this.that.__zoom,dispatch:u}),$)}};function E(N,...$){if(!r.apply(this,arguments))return;var B=F(this,$).event(N),U=this.__zoom,z=Math.max(o[0],Math.min(o[1],U.k*Math.pow(2,n.apply(this,arguments)))),j=el(N);if(B.wheel)(B.mouse[0][0]!==j[0]||B.mouse[0][1]!==j[1])&&(B.mouse[1]=U.invert(B.mouse[0]=j)),clearTimeout(B.wheel);else{if(U.k===z)return;B.mouse=[j,U.invert(j)],hb(this),B.start()}Hv(N),B.wheel=setTimeout(Q,f),B.zoom("mouse",t(w(C(U,z),B.mouse[0],B.mouse[1]),B.extent,s));function Q(){B.wheel=null,B.end()}}function T(N,...$){if(h||!r.apply(this,arguments))return;var B=N.currentTarget,U=F(this,$,!0).event(N),z=aa(N.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",ce,!0),j=el(N,B),Q=N.clientX,X=N.clientY;due(N.view),QF(N),U.mouse=[j,this.__zoom.invert(j)],hb(this),U.start();function Z(oe){if(Hv(oe),!U.moved){var de=oe.clientX-Q,Ee=oe.clientY-X;U.moved=de*de+Ee*Ee>g}U.event(oe).zoom("mouse",t(w(U.that.__zoom,U.mouse[0]=el(oe,B),U.mouse[1]),U.extent,s))}function ce(oe){z.on("mousemove.zoom mouseup.zoom",null),hue(oe.view,U.moved),Hv(oe),U.event(oe).end()}}function O(N,...$){if(r.apply(this,arguments)){var B=this.__zoom,U=el(N.changedTouches?N.changedTouches[0]:N,this),z=B.invert(U),j=B.k*(N.shiftKey?.5:2),Q=t(w(C(B,j),U,z),e.apply(this,$),s);Hv(N),a>0?aa(this).transition().duration(a).call(P,Q,U,N):aa(this).call(y.transform,Q,U,N)}}function L(N,...$){if(r.apply(this,arguments)){var B=N.touches,U=B.length,z=F(this,$,N.changedTouches.length===U).event(N),j,Q,X,Z;for(QF(N),Q=0;Q<U;++Q)X=B[Q],Z=el(X,this),Z=[Z,this.__zoom.invert(Z),X.identifier],z.touch0?!z.touch1&&z.touch0[2]!==Z[2]&&(z.touch1=Z,z.taps=0):(z.touch0=Z,j=!0,z.taps=1+!!c);c&&(c=clearTimeout(c)),j&&(z.taps<2&&(d=Z[0],c=setTimeout(function(){c=null},p)),hb(this),z.start())}}function V(N,...$){if(this.__zooming){var B=F(this,$).event(N),U=N.changedTouches,z=U.length,j,Q,X,Z;for(Hv(N),j=0;j<z;++j)Q=U[j],X=el(Q,this),B.touch0&&B.touch0[2]===Q.identifier?B.touch0[0]=X:B.touch1&&B.touch1[2]===Q.identifier&&(B.touch1[0]=X);if(Q=B.that.__zoom,B.touch1){var ce=B.touch0[0],oe=B.touch0[1],de=B.touch1[0],Ee=B.touch1[1],Pe=(Pe=de[0]-ce[0])*Pe+(Pe=de[1]-ce[1])*Pe,$e=($e=Ee[0]-oe[0])*$e+($e=Ee[1]-oe[1])*$e;Q=C(Q,Math.sqrt(Pe/$e)),X=[(ce[0]+de[0])/2,(ce[1]+de[1])/2],Z=[(oe[0]+Ee[0])/2,(oe[1]+Ee[1])/2]}else if(B.touch0)X=B.touch0[0],Z=B.touch0[1];else return;B.zoom("touch",t(w(Q,X,Z),B.extent,s))}}function M(N,...$){if(this.__zooming){var B=F(this,$).event(N),U=N.changedTouches,z=U.length,j,Q;for(QF(N),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),j=0;j<z;++j)Q=U[j],B.touch0&&B.touch0[2]===Q.identifier?delete B.touch0:B.touch1&&B.touch1[2]===Q.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(Q=el(Q,this),Math.hypot(d[0]-Q[0],d[1]-Q[1])<v)){var X=aa(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return y.wheelDelta=function(N){return arguments.length?(n=typeof N=="function"?N:g_(+N),y):n},y.filter=function(N){return arguments.length?(r=typeof N=="function"?N:g_(!!N),y):r},y.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:g_(!!N),y):i},y.extent=function(N){return arguments.length?(e=typeof N=="function"?N:g_([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),y):e},y.scaleExtent=function(N){return arguments.length?(o[0]=+N[0],o[1]=+N[1],y):[o[0],o[1]]},y.translateExtent=function(N){return arguments.length?(s[0][0]=+N[0][0],s[1][0]=+N[1][0],s[0][1]=+N[0][1],s[1][1]=+N[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(N){return arguments.length?(t=N,y):t},y.duration=function(N){return arguments.length?(a=+N,y):a},y.interpolate=function(N){return arguments.length?(l=N,y):l},y.on=function(){var N=u.on.apply(u,arguments);return N===u?y:N},y.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,y):Math.sqrt(g)},y.tapDistance=function(N){return arguments.length?(v=+N,y):v},y}const ax=Yn(null),brt=ax.Provider,Au={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:r=>`Node type "${r}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:r=>`The old edge with id=${r} does not exist.`,error009:r=>`Marker type "${r}" doesn't exist.`,error008:(r,e)=>`Couldn't create edge for ${r?"target":"source"} handle id: "${r?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:r=>`Edge type "${r}" not found. Using fallback type "default".`,error012:r=>`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Tue=Au.error001();function tr(r,e){const t=Ut(ax);if(t===null)throw new Error(Tue);return Jle(t,r,e)}const ti=()=>{const r=Ut(ax);if(r===null)throw new Error(Tue);return Rn(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe,destroy:r.destroy}),[r])},Rrt=r=>r.userSelectionActive?"none":"all";function Pue({position:r,children:e,className:t,style:n,...i}){const o=tr(Rrt),s=`${r}`.split("-");return x.createElement("div",{className:ao(["react-flow__panel",t,...s]),style:{...n,pointerEvents:o},...i},e)}function Trt({proOptions:r,position:e="bottom-right"}){return r!=null&&r.hideAttribution?null:x.createElement(Pue,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},x.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Prt=({x:r,y:e,label:t,labelStyle:n={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const d=ve(null),[h,p]=Te({x:0,y:0,width:0,height:0}),f=ao(["react-flow__edge-textwrapper",u]);return Fe(()=>{if(d.current){const g=d.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[t]),typeof t>"u"||!t?null:x.createElement("g",{transform:`translate(${r-h.width/2} ${e-h.height/2})`,className:f,visibility:h.width?"visible":"hidden",...c},i&&x.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),x.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:n},t),l)};var Ort=ur(Prt);const Rk=r=>({width:r.offsetWidth,height:r.offsetHeight}),Ng=(r,e=0,t=1)=>Math.min(Math.max(r,e),t),Tk=(r={x:0,y:0},e)=>({x:Ng(r.x,e[0][0],e[1][0]),y:Ng(r.y,e[0][1],e[1][1])}),o6=(r,e,t)=>r<e?Ng(Math.abs(r-e),1,50)/50:r>t?-Ng(Math.abs(r-t),1,50)/50:0,Oue=(r,e)=>{const t=o6(r.x,35,e.width-35)*20,n=o6(r.y,35,e.height-35)*20;return[t,n]},Due=r=>{var e;return((e=r.getRootNode)==null?void 0:e.call(r))||(window==null?void 0:window.document)},Drt=(r,e)=>({x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x2,e.x2),y2:Math.max(r.y2,e.y2)}),Pk=({x:r,y:e,width:t,height:n})=>({x:r,y:e,x2:r+t,y2:e+n}),Art=({x:r,y:e,x2:t,y2:n})=>({x:r,y:e,width:t-r,height:n-e}),s6=r=>({...r.positionAbsolute||{x:0,y:0},width:r.width||0,height:r.height||0}),MN=(r,e)=>{const t=Math.max(0,Math.min(r.x+r.width,e.x+e.width)-Math.max(r.x,e.x)),n=Math.max(0,Math.min(r.y+r.height,e.y+e.height)-Math.max(r.y,e.y));return Math.ceil(t*n)},xrt=r=>Fs(r.width)&&Fs(r.height)&&Fs(r.x)&&Fs(r.y),Fs=r=>!isNaN(r)&&isFinite(r),ar=Symbol.for("internals"),Aue=["Enter"," ","Escape"],Irt=(r,e)=>{},Frt=r=>"nativeEvent"in r;function LN(r){var i,o;const e=Frt(r)?r.nativeEvent:r,t=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||r.target;return["INPUT","SELECT","TEXTAREA"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}const xue=r=>"clientX"in r,Jc=(r,e)=>{var o,s;const t=xue(r),n=t?r.clientX:(o=r.touches)==null?void 0:o[0].clientX,i=t?r.clientY:(s=r.touches)==null?void 0:s[0].clientY;return{x:n-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},lO=()=>{var r;return typeof navigator<"u"&&((r=navigator==null?void 0:navigator.userAgent)==null?void 0:r.indexOf("Mac"))>=0},ES=({id:r,path:e,labelX:t,labelY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:p=20})=>x.createElement(x.Fragment,null,x.createElement("path",{id:r,style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),p&&x.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Fs(t)&&Fs(n)?x.createElement(Ort,{x:t,y:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u}):null);ES.displayName="BaseEdge";function kv(r,e,t){return t===void 0?t:n=>{const i=e().edges.find(o=>o.id===r);i&&t(n,{...i})}}function Iue({sourceX:r,sourceY:e,targetX:t,targetY:n}){const i=Math.abs(t-r)/2,o=t<r?t+i:t-i,s=Math.abs(n-e)/2,a=n<e?n+s:n-s;return[o,a,i,s]}function Fue({sourceX:r,sourceY:e,targetX:t,targetY:n,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=r*.125+i*.375+s*.375+t*.125,u=e*.125+o*.375+a*.375+n*.125,c=Math.abs(l-r),d=Math.abs(u-e);return[l,u,c,d]}var lp;(function(r){r.Strict="strict",r.Loose="loose"})(lp||(lp={}));var yh;(function(r){r.Free="free",r.Vertical="vertical",r.Horizontal="horizontal"})(yh||(yh={}));var GC;(function(r){r.Partial="partial",r.Full="full"})(GC||(GC={}));var Dc;(function(r){r.Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier"})(Dc||(Dc={}));var Gg;(function(r){r.Arrow="arrow",r.ArrowClosed="arrowclosed"})(Gg||(Gg={}));var tt;(function(r){r.Left="left",r.Top="top",r.Right="right",r.Bottom="bottom"})(tt||(tt={}));function a6({pos:r,x1:e,y1:t,x2:n,y2:i}){return r===tt.Left||r===tt.Right?[.5*(e+n),t]:[e,.5*(t+i)]}function Mue({sourceX:r,sourceY:e,sourcePosition:t=tt.Bottom,targetX:n,targetY:i,targetPosition:o=tt.Top}){const[s,a]=a6({pos:t,x1:r,y1:e,x2:n,y2:i}),[l,u]=a6({pos:o,x1:n,y1:i,x2:r,y2:e}),[c,d,h,p]=Fue({sourceX:r,sourceY:e,targetX:n,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${r},${e} C${s},${a} ${l},${u} ${n},${i}`,c,d,h,p]}const Ok=ur(({sourceX:r,sourceY:e,targetX:t,targetY:n,sourcePosition:i=tt.Bottom,targetPosition:o=tt.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:g})=>{const[v,y,C]=Mue({sourceX:r,sourceY:e,sourcePosition:i,targetX:t,targetY:n,targetPosition:o});return x.createElement(ES,{path:v,labelX:y,labelY:C,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:g})});Ok.displayName="SimpleBezierEdge";const l6={[tt.Left]:{x:-1,y:0},[tt.Right]:{x:1,y:0},[tt.Top]:{x:0,y:-1},[tt.Bottom]:{x:0,y:1}},Mrt=({source:r,sourcePosition:e=tt.Bottom,target:t})=>e===tt.Left||e===tt.Right?r.x<t.x?{x:1,y:0}:{x:-1,y:0}:r.y<t.y?{x:0,y:1}:{x:0,y:-1},u6=(r,e)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2));function Lrt({source:r,sourcePosition:e=tt.Bottom,target:t,targetPosition:n=tt.Top,center:i,offset:o}){const s=l6[e],a=l6[n],l={x:r.x+s.x*o,y:r.y+s.y*o},u={x:t.x+a.x*o,y:t.y+a.y*o},c=Mrt({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",h=c[d];let p=[],f,g;const v={x:0,y:0},y={x:0,y:0},[C,w,S,P]=Iue({sourceX:r.x,sourceY:r.y,targetX:t.x,targetY:t.y});if(s[d]*a[d]===-1){f=i.x??C,g=i.y??w;const _=[{x:f,y:l.y},{x:f,y:u.y}],E=[{x:l.x,y:g},{x:u.x,y:g}];s[d]===h?p=d==="x"?_:E:p=d==="x"?E:_}else{const _=[{x:l.x,y:u.y}],E=[{x:u.x,y:l.y}];if(d==="x"?p=s.x===h?E:_:p=s.y===h?_:E,e===n){const M=Math.abs(r[d]-t[d]);if(M<=o){const N=Math.min(o-1,o-M);s[d]===h?v[d]=(l[d]>r[d]?-1:1)*N:y[d]=(u[d]>t[d]?-1:1)*N}}if(e!==n){const M=d==="x"?"y":"x",N=s[d]===a[M],$=l[M]>u[M],B=l[M]<u[M];(s[d]===1&&(!N&&$||N&&B)||s[d]!==1&&(!N&&B||N&&$))&&(p=d==="x"?_:E)}const T={x:l.x+v.x,y:l.y+v.y},O={x:u.x+y.x,y:u.y+y.y},L=Math.max(Math.abs(T.x-p[0].x),Math.abs(O.x-p[0].x)),V=Math.max(Math.abs(T.y-p[0].y),Math.abs(O.y-p[0].y));L>=V?(f=(T.x+O.x)/2,g=p[0].y):(f=p[0].x,g=(T.y+O.y)/2)}return[[r,{x:l.x+v.x,y:l.y+v.y},...p,{x:u.x+y.x,y:u.y+y.y},t],f,g,S,P]}function Nrt(r,e,t,n){const i=Math.min(u6(r,e)/2,u6(e,t)/2,n),{x:o,y:s}=e;if(r.x===o&&o===t.x||r.y===s&&s===t.y)return`L${o} ${s}`;if(r.y===s){const u=r.x<t.x?-1:1,c=r.y<t.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=r.x<t.x?1:-1,l=r.y<t.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function NN({sourceX:r,sourceY:e,sourcePosition:t=tt.Bottom,targetX:n,targetY:i,targetPosition:o=tt.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,d,h,p,f]=Lrt({source:{x:r,y:e},sourcePosition:t,target:{x:n,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((v,y,C)=>{let w="";return C>0&&C<c.length-1?w=Nrt(c[C-1],y,c[C+1],s):w=`${C===0?"M":"L"}${y.x} ${y.y}`,v+=w,v},""),d,h,p,f]}const lx=ur(({sourceX:r,sourceY:e,targetX:t,targetY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:d=tt.Bottom,targetPosition:h=tt.Top,markerEnd:p,markerStart:f,pathOptions:g,interactionWidth:v})=>{const[y,C,w]=NN({sourceX:r,sourceY:e,sourcePosition:d,targetX:t,targetY:n,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return x.createElement(ES,{path:y,labelX:C,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:f,interactionWidth:v})});lx.displayName="SmoothStepEdge";const Dk=ur(r=>{var e;return x.createElement(lx,{...r,pathOptions:Rn(()=>{var t;return{borderRadius:0,offset:(t=r.pathOptions)==null?void 0:t.offset}},[(e=r.pathOptions)==null?void 0:e.offset])})});Dk.displayName="StepEdge";function Grt({sourceX:r,sourceY:e,targetX:t,targetY:n}){const[i,o,s,a]=Iue({sourceX:r,sourceY:e,targetX:t,targetY:n});return[`M ${r},${e}L ${t},${n}`,i,o,s,a]}const Ak=ur(({sourceX:r,sourceY:e,targetX:t,targetY:n,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:p})=>{const[f,g,v]=Grt({sourceX:r,sourceY:e,targetX:t,targetY:n});return x.createElement(ES,{path:f,labelX:g,labelY:v,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:h,interactionWidth:p})});Ak.displayName="StraightEdge";function m_(r,e){return r>=0?.5*r:e*25*Math.sqrt(-r)}function c6({pos:r,x1:e,y1:t,x2:n,y2:i,c:o}){switch(r){case tt.Left:return[e-m_(e-n,o),t];case tt.Right:return[e+m_(n-e,o),t];case tt.Top:return[e,t-m_(t-i,o)];case tt.Bottom:return[e,t+m_(i-t,o)]}}function Lue({sourceX:r,sourceY:e,sourcePosition:t=tt.Bottom,targetX:n,targetY:i,targetPosition:o=tt.Top,curvature:s=.25}){const[a,l]=c6({pos:t,x1:r,y1:e,x2:n,y2:i,c:s}),[u,c]=c6({pos:o,x1:n,y1:i,x2:r,y2:e,c:s}),[d,h,p,f]=Fue({sourceX:r,sourceY:e,targetX:n,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${r},${e} C${a},${l} ${u},${c} ${n},${i}`,d,h,p,f]}const uO=ur(({sourceX:r,sourceY:e,targetX:t,targetY:n,sourcePosition:i=tt.Bottom,targetPosition:o=tt.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,pathOptions:g,interactionWidth:v})=>{const[y,C,w]=Lue({sourceX:r,sourceY:e,sourcePosition:i,targetX:t,targetY:n,targetPosition:o,curvature:g==null?void 0:g.curvature});return x.createElement(ES,{path:y,labelX:C,labelY:w,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:f,interactionWidth:v})});uO.displayName="BezierEdge";const xk=Yn(null),Vrt=xk.Provider;xk.Consumer;const Hrt=()=>Ut(xk),krt=r=>"id"in r&&"source"in r&&"target"in r,$rt=({source:r,sourceHandle:e,target:t,targetHandle:n})=>`reactflow__edge-${r}${e||""}-${t}${n||""}`,GN=(r,e)=>typeof r>"u"?"":typeof r=="string"?r:`${e?`${e}__`:""}${Object.keys(r).sort().map(n=>`${n}=${r[n]}`).join("&")}`,Brt=(r,e)=>e.some(t=>t.source===r.source&&t.target===r.target&&(t.sourceHandle===r.sourceHandle||!t.sourceHandle&&!r.sourceHandle)&&(t.targetHandle===r.targetHandle||!t.targetHandle&&!r.targetHandle)),jrt=(r,e)=>{if(!r.source||!r.target)return e;let t;return krt(r)?t={...r}:t={...r,id:$rt(r)},Brt(t,e)?e:e.concat(t)},VN=({x:r,y:e},[t,n,i],o,[s,a])=>{const l={x:(r-t)/i,y:(e-n)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},Nue=({x:r,y:e},[t,n,i])=>({x:r*i+t,y:e*i+n}),Zf=(r,e=[0,0])=>{if(!r)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const t=(r.width??0)*e[0],n=(r.height??0)*e[1],i={x:r.position.x-t,y:r.position.y-n};return{...i,positionAbsolute:r.positionAbsolute?{x:r.positionAbsolute.x-t,y:r.positionAbsolute.y-n}:i}},Ik=(r,e=[0,0])=>{if(r.length===0)return{x:0,y:0,width:0,height:0};const t=r.reduce((n,i)=>{const{x:o,y:s}=Zf(i,e).positionAbsolute;return Drt(n,Pk({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Art(t)},Gue=(r,e,[t,n,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(e.x-t)/i,y:(e.y-n)/i,width:e.width/i,height:e.height/i},u=[];return r.forEach(c=>{const{width:d,height:h,selectable:p=!0,hidden:f=!1}=c;if(s&&!p||f)return!1;const{positionAbsolute:g}=Zf(c,a),v={x:g.x,y:g.y,width:d||0,height:h||0},y=MN(l,v),C=typeof d>"u"||typeof h>"u"||d===null||h===null,w=o&&y>0,S=(d||0)*(h||0);(C||w||y>=S||c.dragging)&&u.push(c)}),u},Vue=(r,e)=>{const t=r.map(n=>n.id);return e.filter(n=>t.includes(n.source)||t.includes(n.target))},Hue=(r,e,t,n,i,o=.1)=>{const s=e/(r.width*(1+o)),a=t/(r.height*(1+o)),l=Math.min(s,a),u=Ng(l,n,i),c=r.x+r.width/2,d=r.y+r.height/2,h=e/2-c*u,p=t/2-d*u;return{x:h,y:p,zoom:u}},Zd=(r,e=0)=>r.transition().duration(e);function d6(r,e,t,n){return(e[t]||[]).reduce((i,o)=>{var s,a;return`${r.id}-${o.id}-${t}`!==n&&i.push({id:o.id||null,type:t,nodeId:r.id,x:(((s=r.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=r.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function Wrt(r,e,t,n,i,o){const{x:s,y:a}=Jc(r),u=e.elementsFromPoint(s,a).find(f=>f.classList.contains("react-flow__handle"));if(u){const f=u.getAttribute("data-nodeid");if(f){const g=Fk(void 0,u),v=u.getAttribute("data-handleid"),y=o({nodeId:f,id:v,type:g});if(y){const C=i.find(w=>w.nodeId===f&&w.type===g&&w.id===v);return{handle:{id:v,type:g,nodeId:f,x:(C==null?void 0:C.x)||t.x,y:(C==null?void 0:C.y)||t.y},validHandleResult:y}}}}let c=[],d=1/0;if(i.forEach(f=>{const g=Math.sqrt((f.x-t.x)**2+(f.y-t.y)**2);if(g<=n){const v=o(f);g<=d&&(g<d?c=[{handle:f,validHandleResult:v}]:g===d&&c.push({handle:f,validHandleResult:v}),d=g)}}),!c.length)return{handle:null,validHandleResult:kue()};if(c.length===1)return c[0];const h=c.some(({validHandleResult:f})=>f.isValid),p=c.some(({handle:f})=>f.type==="target");return c.find(({handle:f,validHandleResult:g})=>p?f.type==="target":h?g.isValid:!0)||c[0]}const Urt={source:null,target:null,sourceHandle:null,targetHandle:null},kue=()=>({handleDomNode:null,isValid:!1,connection:Urt,endHandle:null});function $ue(r,e,t,n,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`),u={...kue(),handleDomNode:l};if(l){const c=Fk(void 0,l),d=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),f=l.classList.contains("connectableend"),g={source:a?d:t,sourceHandle:a?h:n,target:a?t:d,targetHandle:a?n:h};u.connection=g,p&&f&&(e===lp.Strict?a&&c==="source"||!a&&c==="target":d!==t||h!==n)&&(u.endHandle={nodeId:d,handleId:h,type:c},u.isValid=o(g))}return u}function zrt({nodes:r,nodeId:e,handleId:t,handleType:n}){return r.reduce((i,o)=>{if(o[ar]){const{handleBounds:s}=o[ar];let a=[],l=[];s&&(a=d6(o,s,"source",`${e}-${t}-${n}`),l=d6(o,s,"target",`${e}-${t}-${n}`)),i.push(...a,...l)}return i},[])}function Fk(r,e){return r||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function XF(r){r==null||r.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Krt(r,e){let t=null;return e?t="valid":r&&!e&&(t="invalid"),t}function Bue({event:r,handleId:e,nodeId:t,onConnect:n,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:u}){const c=Due(r.target),{connectionMode:d,domNode:h,autoPanOnConnect:p,connectionRadius:f,onConnectStart:g,panBy:v,getNodes:y,cancelConnection:C}=o();let w=0,S;const{x:P,y:F}=Jc(r),_=c==null?void 0:c.elementFromPoint(P,F),E=Fk(l,_),T=h==null?void 0:h.getBoundingClientRect();if(!T||!E)return;let O,L=Jc(r,T),V=!1,M=null,N=!1,$=null;const B=zrt({nodes:y(),nodeId:t,handleId:e,handleType:E}),U=()=>{if(!p)return;const[Q,X]=Oue(L,T);v({x:Q,y:X}),w=requestAnimationFrame(U)};s({connectionPosition:L,connectionStatus:null,connectionNodeId:t,connectionHandleId:e,connectionHandleType:E,connectionStartHandle:{nodeId:t,handleId:e,type:E},connectionEndHandle:null}),g==null||g(r,{nodeId:t,handleId:e,handleType:E});function z(Q){const{transform:X}=o();L=Jc(Q,T);const{handle:Z,validHandleResult:ce}=Wrt(Q,c,VN(L,X,!1,[1,1]),f,B,oe=>$ue(oe,d,t,e,i?"target":"source",a,c));if(S=Z,V||(U(),V=!0),$=ce.handleDomNode,M=ce.connection,N=ce.isValid,s({connectionPosition:S&&N?Nue({x:S.x,y:S.y},X):L,connectionStatus:Krt(!!S,N),connectionEndHandle:ce.endHandle}),!S&&!N&&!$)return XF(O);M.source!==M.target&&$&&(XF(O),O=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",N),$.classList.toggle("react-flow__handle-valid",N))}function j(Q){var X,Z;(S||$)&&M&&N&&(n==null||n(M)),(Z=(X=o()).onConnectEnd)==null||Z.call(X,Q),l&&(u==null||u(Q)),XF(O),C(),cancelAnimationFrame(w),V=!1,N=!1,M=null,$=null,c.removeEventListener("mousemove",z),c.removeEventListener("mouseup",j),c.removeEventListener("touchmove",z),c.removeEventListener("touchend",j)}c.addEventListener("mousemove",z),c.addEventListener("mouseup",j),c.addEventListener("touchmove",z),c.addEventListener("touchend",j)}const h6=()=>!0,Yrt=r=>({connectionStartHandle:r.connectionStartHandle,connectOnClick:r.connectOnClick,noPanClassName:r.noPanClassName}),qrt=(r,e,t)=>n=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=n;return{connecting:(i==null?void 0:i.nodeId)===r&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===t||(o==null?void 0:o.nodeId)===r&&(o==null?void 0:o.handleId)===e&&(o==null?void 0:o.type)===t,clickConnecting:(s==null?void 0:s.nodeId)===r&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===t}},jue=Ce(({type:r="source",position:e=tt.Top,isValidConnection:t,isConnectable:n=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...h},p)=>{var T,O;const f=s||null,g=r==="target",v=ti(),y=Hrt(),{connectOnClick:C,noPanClassName:w}=tr(Yrt,Wi),{connecting:S,clickConnecting:P}=tr(qrt(y,f,r),Wi);y||(O=(T=v.getState()).onError)==null||O.call(T,"010",Au.error010());const F=L=>{const{defaultEdgeOptions:V,onConnect:M,hasDefaultEdges:N}=v.getState(),$={...V,...L};if(N){const{edges:B,setEdges:U}=v.getState();U(jrt($,B))}M==null||M($),a==null||a($)},_=L=>{if(!y)return;const V=xue(L);i&&(V&&L.button===0||!V)&&Bue({event:L,handleId:f,nodeId:y,onConnect:F,isTarget:g,getState:v.getState,setState:v.setState,isValidConnection:t||v.getState().isValidConnection||h6}),V?c==null||c(L):d==null||d(L)},E=L=>{const{onClickConnectStart:V,onClickConnectEnd:M,connectionClickStartHandle:N,connectionMode:$,isValidConnection:B}=v.getState();if(!y||!N&&!i)return;if(!N){V==null||V(L,{nodeId:y,handleId:f,handleType:r}),v.setState({connectionClickStartHandle:{nodeId:y,type:r,handleId:f}});return}const U=Due(L.target),z=t||B||h6,{connection:j,isValid:Q}=$ue({nodeId:y,id:f,type:r},$,N.nodeId,N.handleId||null,N.type,z,U);Q&&F(j),M==null||M(L),v.setState({connectionClickStartHandle:null})};return x.createElement("div",{"data-handleid":f,"data-nodeid":y,"data-handlepos":e,"data-id":`${y}-${f}-${r}`,className:ao(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",w,u,{source:!g,target:g,connectable:n,connectablestart:i,connectableend:o,connecting:P,connectionindicator:n&&(i&&!S||o&&S)}]),onMouseDown:_,onTouchStart:_,onClick:C?E:void 0,ref:p,...h},l)});jue.displayName="Handle";var Vg=ur(jue);const Wue=({data:r,isConnectable:e,targetPosition:t=tt.Top,sourcePosition:n=tt.Bottom})=>x.createElement(x.Fragment,null,x.createElement(Vg,{type:"target",position:t,isConnectable:e}),r==null?void 0:r.label,x.createElement(Vg,{type:"source",position:n,isConnectable:e}));Wue.displayName="DefaultNode";var HN=ur(Wue);const Uue=({data:r,isConnectable:e,sourcePosition:t=tt.Bottom})=>x.createElement(x.Fragment,null,r==null?void 0:r.label,x.createElement(Vg,{type:"source",position:t,isConnectable:e}));Uue.displayName="InputNode";var zue=ur(Uue);const Kue=({data:r,isConnectable:e,targetPosition:t=tt.Top})=>x.createElement(x.Fragment,null,x.createElement(Vg,{type:"target",position:t,isConnectable:e}),r==null?void 0:r.label);Kue.displayName="OutputNode";var Yue=ur(Kue);const Mk=()=>null;Mk.displayName="GroupNode";const Qrt=r=>({selectedNodes:r.getNodes().filter(e=>e.selected),selectedEdges:r.edges.filter(e=>e.selected).map(e=>({...e}))}),v_=r=>r.id;function Xrt(r,e){return Wi(r.selectedNodes.map(v_),e.selectedNodes.map(v_))&&Wi(r.selectedEdges.map(v_),e.selectedEdges.map(v_))}const que=ur(({onSelectionChange:r})=>{const e=ti(),{selectedNodes:t,selectedEdges:n}=tr(Qrt,Xrt);return Fe(()=>{const i={nodes:t,edges:n};r==null||r(i),e.getState().onSelectionChange.forEach(o=>o(i))},[t,n,r]),null});que.displayName="SelectionListener";const Jrt=r=>!!r.onSelectionChange;function Zrt({onSelectionChange:r}){const e=tr(Jrt);return r||e?x.createElement(que,{onSelectionChange:r}):null}const eit=r=>({setNodes:r.setNodes,setEdges:r.setEdges,setDefaultNodesAndEdges:r.setDefaultNodesAndEdges,setMinZoom:r.setMinZoom,setMaxZoom:r.setMaxZoom,setTranslateExtent:r.setTranslateExtent,setNodeExtent:r.setNodeExtent,reset:r.reset});function af(r,e){Fe(()=>{typeof r<"u"&&e(r)},[r])}function Nt(r,e,t){Fe(()=>{typeof e<"u"&&t({[r]:e})},[e])}const tit=({nodes:r,edges:e,defaultNodes:t,defaultEdges:n,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:f,minZoom:g,maxZoom:v,nodeExtent:y,onNodesChange:C,onEdgesChange:w,elementsSelectable:S,connectionMode:P,snapGrid:F,snapToGrid:_,translateExtent:E,connectOnClick:T,defaultEdgeOptions:O,fitView:L,fitViewOptions:V,onNodesDelete:M,onEdgesDelete:N,onNodeDrag:$,onNodeDragStart:B,onNodeDragStop:U,onSelectionDrag:z,onSelectionDragStart:j,onSelectionDragStop:Q,noPanClassName:X,nodeOrigin:Z,rfId:ce,autoPanOnConnect:oe,autoPanOnNodeDrag:de,onError:Ee,connectionRadius:Pe,isValidConnection:$e,nodeDragThreshold:Ne})=>{const{setNodes:xe,setEdges:st,setDefaultNodesAndEdges:Ue,setMinZoom:_t,setMaxZoom:Rt,setTranslateExtent:Ct,setNodeExtent:Sn,reset:qe}=tr(eit,Wi),Ie=ti();return Fe(()=>{const sn=n==null?void 0:n.map(bt=>({...bt,...O}));return Ue(t,sn),()=>{qe()}},[]),Nt("defaultEdgeOptions",O,Ie.setState),Nt("connectionMode",P,Ie.setState),Nt("onConnect",i,Ie.setState),Nt("onConnectStart",o,Ie.setState),Nt("onConnectEnd",s,Ie.setState),Nt("onClickConnectStart",a,Ie.setState),Nt("onClickConnectEnd",l,Ie.setState),Nt("nodesDraggable",u,Ie.setState),Nt("nodesConnectable",c,Ie.setState),Nt("nodesFocusable",d,Ie.setState),Nt("edgesFocusable",h,Ie.setState),Nt("edgesUpdatable",p,Ie.setState),Nt("elementsSelectable",S,Ie.setState),Nt("elevateNodesOnSelect",f,Ie.setState),Nt("snapToGrid",_,Ie.setState),Nt("snapGrid",F,Ie.setState),Nt("onNodesChange",C,Ie.setState),Nt("onEdgesChange",w,Ie.setState),Nt("connectOnClick",T,Ie.setState),Nt("fitViewOnInit",L,Ie.setState),Nt("fitViewOnInitOptions",V,Ie.setState),Nt("onNodesDelete",M,Ie.setState),Nt("onEdgesDelete",N,Ie.setState),Nt("onNodeDrag",$,Ie.setState),Nt("onNodeDragStart",B,Ie.setState),Nt("onNodeDragStop",U,Ie.setState),Nt("onSelectionDrag",z,Ie.setState),Nt("onSelectionDragStart",j,Ie.setState),Nt("onSelectionDragStop",Q,Ie.setState),Nt("noPanClassName",X,Ie.setState),Nt("nodeOrigin",Z,Ie.setState),Nt("rfId",ce,Ie.setState),Nt("autoPanOnConnect",oe,Ie.setState),Nt("autoPanOnNodeDrag",de,Ie.setState),Nt("onError",Ee,Ie.setState),Nt("connectionRadius",Pe,Ie.setState),Nt("isValidConnection",$e,Ie.setState),Nt("nodeDragThreshold",Ne,Ie.setState),af(r,xe),af(e,st),af(g,_t),af(v,Rt),af(E,Ct),af(y,Sn),null},p6={display:"none"},nit={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Que="react-flow__node-desc",Xue="react-flow__edge-desc",rit="react-flow__aria-live",iit=r=>r.ariaLiveMessage;function oit({rfId:r}){const e=tr(iit);return x.createElement("div",{id:`${rit}-${r}`,"aria-live":"assertive","aria-atomic":"true",style:nit},e)}function sit({rfId:r,disableKeyboardA11y:e}){return x.createElement(x.Fragment,null,x.createElement("div",{id:`${Que}-${r}`,style:p6},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),x.createElement("div",{id:`${Xue}-${r}`,style:p6},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&x.createElement(oit,{rfId:r}))}var VC=(r=null,e={actInsideInputWithModifier:!0})=>{const[t,n]=Te(!1),i=ve(!1),o=ve(new Set([])),[s,a]=Rn(()=>{if(r!==null){const u=(Array.isArray(r)?r:[r]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,h)=>d.concat(...h),[]);return[u,c]}return[[],[]]},[r]);return Fe(()=>{const l=typeof document<"u"?document:null,u=(e==null?void 0:e.target)||l;if(r!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&LN(p))return!1;const g=g6(p.code,a);o.current.add(p[g]),f6(s,o.current,!1)&&(p.preventDefault(),n(!0))},d=p=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&LN(p))return!1;const g=g6(p.code,a);f6(s,o.current,!0)?(n(!1),o.current.clear()):o.current.delete(p[g]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[r,n]),t};function f6(r,e,t){return r.filter(n=>t||n.length===e.size).some(n=>n.every(i=>e.has(i)))}function g6(r,e){return e.includes(r)?"code":"key"}function Jue(r,e,t,n){var a,l;const i=r.parentNode||r.parentId;if(!i)return t;const o=e.get(i),s=Zf(o,n);return Jue(o,e,{x:(t.x??0)+s.x,y:(t.y??0)+s.y,z:(((a=o[ar])==null?void 0:a.z)??0)>(t.z??0)?((l=o[ar])==null?void 0:l.z)??0:t.z??0},n)}function Zue(r,e,t){r.forEach(n=>{var o;const i=n.parentNode||n.parentId;if(i&&!r.has(i))throw new Error(`Parent node ${i} not found`);if(i||t!=null&&t[n.id]){const{x:s,y:a,z:l}=Jue(n,r,{...n.position,z:((o=n[ar])==null?void 0:o.z)??0},e);n.positionAbsolute={x:s,y:a},n[ar].z=l,t!=null&&t[n.id]&&(n[ar].isParent=!0)}})}function JF(r,e,t,n){const i=new Map,o={},s=n?1e3:0;return r.forEach(a=>{var p;const l=(Fs(a.zIndex)?a.zIndex:0)+(a.selected?s:0),u=e.get(a.id),c={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(o[d]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==a.type;Object.defineProperty(c,ar,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[ar])==null?void 0:p.handleBounds,z:l}}),i.set(a.id,c)}),Zue(i,t,o),i}function ece(r,e={}){const{getNodes:t,width:n,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=r(),h=e.initial&&!u&&c;if(a&&l&&(h||!e.initial)){const f=t().filter(v=>{var C;const y=e.includeHiddenNodes?v.width&&v.height:!v.hidden;return(C=e.nodes)!=null&&C.length?y&&e.nodes.some(w=>w.id===v.id):y}),g=f.every(v=>v.width&&v.height);if(f.length>0&&g){const v=Ik(f,d),{x:y,y:C,zoom:w}=Hue(v,n,i,e.minZoom??o,e.maxZoom??s,e.padding??.1),S=Xc.translate(y,C).scale(w);return typeof e.duration=="number"&&e.duration>0?a.transform(Zd(l,e.duration),S):a.transform(l,S),!0}}return!1}function ait(r,e){return r.forEach(t=>{const n=e.get(t.id);n&&e.set(n.id,{...n,[ar]:n[ar],selected:t.selected})}),new Map(e)}function lit(r,e){return e.map(t=>{const n=r.find(i=>i.id===t.id);return n&&(t.selected=n.selected),t})}function y_({changedNodes:r,changedEdges:e,get:t,set:n}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=t();r!=null&&r.length&&(l&&n({nodeInternals:ait(r,i)}),s==null||s(r)),e!=null&&e.length&&(u&&n({edges:lit(e,o)}),a==null||a(e))}const lf=()=>{},uit={zoomIn:lf,zoomOut:lf,zoomTo:lf,getZoom:()=>1,setViewport:lf,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:lf,fitBounds:lf,project:r=>r,screenToFlowPosition:r=>r,flowToScreenPosition:r=>r,viewportInitialized:!1},cit=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection}),dit=()=>{const r=ti(),{d3Zoom:e,d3Selection:t}=tr(cit,Wi);return Rn(()=>t&&e?{zoomIn:i=>e.scaleBy(Zd(t,i==null?void 0:i.duration),1.2),zoomOut:i=>e.scaleBy(Zd(t,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>e.scaleTo(Zd(t,o==null?void 0:o.duration),i),getZoom:()=>r.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=r.getState().transform,u=Xc.translate(i.x??s,i.y??a).scale(i.zoom??l);e.transform(Zd(t,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=r.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>ece(r.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:u}=r.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=a/2-i*c,h=l/2-o*c,p=Xc.translate(d,h).scale(c);e.transform(Zd(t,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:u}=r.getState(),{x:c,y:d,zoom:h}=Hue(i,s,a,l,u,(o==null?void 0:o.padding)??.1),p=Xc.translate(c,d).scale(h);e.transform(Zd(t,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=r.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),VN(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=r.getState();if(!l)return i;const{x:u,y:c}=l.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return VN(d,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=r.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),u=Nue(i,o);return{x:u.x+a,y:u.y+l}},viewportInitialized:!0}:uit,[e,t])};function Lk(){const r=dit(),e=ti(),t=at(()=>e.getState().getNodes().map(g=>({...g})),[]),n=at(g=>e.getState().nodeInternals.get(g),[]),i=at(()=>{const{edges:g=[]}=e.getState();return g.map(v=>({...v}))},[]),o=at(g=>{const{edges:v=[]}=e.getState();return v.find(y=>y.id===g)},[]),s=at(g=>{const{getNodes:v,setNodes:y,hasDefaultNodes:C,onNodesChange:w}=e.getState(),S=v(),P=typeof g=="function"?g(S):g;if(C)y(P);else if(w){const F=P.length===0?S.map(_=>({type:"remove",id:_.id})):P.map(_=>({item:_,type:"reset"}));w(F)}},[]),a=at(g=>{const{edges:v=[],setEdges:y,hasDefaultEdges:C,onEdgesChange:w}=e.getState(),S=typeof g=="function"?g(v):g;if(C)y(S);else if(w){const P=S.length===0?v.map(F=>({type:"remove",id:F.id})):S.map(F=>({item:F,type:"reset"}));w(P)}},[]),l=at(g=>{const v=Array.isArray(g)?g:[g],{getNodes:y,setNodes:C,hasDefaultNodes:w,onNodesChange:S}=e.getState();if(w){const F=[...y(),...v];C(F)}else if(S){const P=v.map(F=>({item:F,type:"add"}));S(P)}},[]),u=at(g=>{const v=Array.isArray(g)?g:[g],{edges:y=[],setEdges:C,hasDefaultEdges:w,onEdgesChange:S}=e.getState();if(w)C([...y,...v]);else if(S){const P=v.map(F=>({item:F,type:"add"}));S(P)}},[]),c=at(()=>{const{getNodes:g,edges:v=[],transform:y}=e.getState(),[C,w,S]=y;return{nodes:g().map(P=>({...P})),edges:v.map(P=>({...P})),viewport:{x:C,y:w,zoom:S}}},[]),d=at(({nodes:g,edges:v})=>{const{nodeInternals:y,getNodes:C,edges:w,hasDefaultNodes:S,hasDefaultEdges:P,onNodesDelete:F,onEdgesDelete:_,onNodesChange:E,onEdgesChange:T}=e.getState(),O=(g||[]).map($=>$.id),L=(v||[]).map($=>$.id),V=C().reduce(($,B)=>{const U=B.parentNode||B.parentId,z=!O.includes(B.id)&&U&&$.find(Q=>Q.id===U);return(typeof B.deletable=="boolean"?B.deletable:!0)&&(O.includes(B.id)||z)&&$.push(B),$},[]),M=w.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),N=M.filter($=>L.includes($.id));if(V||N){const $=Vue(V,M),B=[...N,...$],U=B.reduce((z,j)=>(z.includes(j.id)||z.push(j.id),z),[]);if((P||S)&&(P&&e.setState({edges:w.filter(z=>!U.includes(z.id))}),S&&(V.forEach(z=>{y.delete(z.id)}),e.setState({nodeInternals:new Map(y)}))),U.length>0&&(_==null||_(B),T&&T(U.map(z=>({id:z,type:"remove"})))),V.length>0&&(F==null||F(V),E)){const z=V.map(j=>({id:j.id,type:"remove"}));E(z)}}},[]),h=at(g=>{const v=xrt(g),y=v?null:e.getState().nodeInternals.get(g.id);return!v&&!y?[null,null,v]:[v?g:s6(y),y,v]},[]),p=at((g,v=!0,y)=>{const[C,w,S]=h(g);return C?(y||e.getState().getNodes()).filter(P=>{if(!S&&(P.id===w.id||!P.positionAbsolute))return!1;const F=s6(P),_=MN(F,C);return v&&_>0||_>=C.width*C.height}):[]},[]),f=at((g,v,y=!0)=>{const[C]=h(g);if(!C)return!1;const w=MN(C,v);return y&&w>0||w>=C.width*C.height},[]);return Rn(()=>({...r,getNodes:t,getNode:n,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:f}),[r,t,n,i,o,s,a,l,u,c,d,p,f])}const hit={actInsideInputWithModifier:!1};var pit=({deleteKeyCode:r,multiSelectionKeyCode:e})=>{const t=ti(),{deleteElements:n}=Lk(),i=VC(r,hit),o=VC(e);Fe(()=>{if(i){const{edges:s,getNodes:a}=t.getState(),l=a().filter(c=>c.selected),u=s.filter(c=>c.selected);n({nodes:l,edges:u}),t.setState({nodesSelectionActive:!1})}},[i]),Fe(()=>{t.setState({multiSelectionActive:o})},[o])};function fit(r){const e=ti();Fe(()=>{let t;const n=()=>{var o,s;if(!r.current)return;const i=Rk(r.current);(i.height===0||i.width===0)&&((s=(o=e.getState()).onError)==null||s.call(o,"004",Au.error004())),e.setState({width:i.width||500,height:i.height||500})};return n(),window.addEventListener("resize",n),r.current&&(t=new ResizeObserver(()=>n()),t.observe(r.current)),()=>{window.removeEventListener("resize",n),t&&r.current&&t.unobserve(r.current)}},[])}const Nk={position:"absolute",width:"100%",height:"100%",top:0,left:0},git=(r,e)=>r.x!==e.x||r.y!==e.y||r.zoom!==e.k,C_=r=>({x:r.x,y:r.y,zoom:r.k}),uf=(r,e)=>r.target.closest(`.${e}`),m6=(r,e)=>e===2&&Array.isArray(r)&&r.includes(2),v6=r=>{const e=r.ctrlKey&&lO()?10:1;return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*e},mit=r=>({d3Zoom:r.d3Zoom,d3Selection:r.d3Selection,d3ZoomHandler:r.d3ZoomHandler,userSelectionActive:r.userSelectionActive}),vit=({onMove:r,onMoveStart:e,onMoveEnd:t,onPaneContextMenu:n,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=yh.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:h,translateExtent:p,minZoom:f,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:y=!0,children:C,noWheelClassName:w,noPanClassName:S})=>{const P=ve(),F=ti(),_=ve(!1),E=ve(!1),T=ve(null),O=ve({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:V,d3ZoomHandler:M,userSelectionActive:N}=tr(mit,Wi),$=VC(v),B=ve(0),U=ve(!1),z=ve();return fit(T),Fe(()=>{if(T.current){const j=T.current.getBoundingClientRect(),Q=_rt().scaleExtent([f,g]).translateExtent(p),X=aa(T.current).call(Q),Z=Xc.translate(h.x,h.y).scale(Ng(h.zoom,f,g)),ce=[[0,0],[j.width,j.height]],oe=Q.constrain()(Z,ce,p);Q.transform(X,oe),Q.wheelDelta(v6),F.setState({d3Zoom:Q,d3Selection:X,d3ZoomHandler:X.on("wheel.zoom"),transform:[oe.x,oe.y,oe.k],domNode:T.current.closest(".react-flow")})}},[]),Fe(()=>{V&&L&&(s&&!$&&!N?V.on("wheel.zoom",j=>{if(uf(j,w))return!1;j.preventDefault(),j.stopImmediatePropagation();const Q=V.property("__zoom").k||1;if(j.ctrlKey&&o){const $e=el(j),Ne=v6(j),xe=Q*Math.pow(2,Ne);L.scaleTo(V,xe,$e,j);return}const X=j.deltaMode===1?20:1;let Z=l===yh.Vertical?0:j.deltaX*X,ce=l===yh.Horizontal?0:j.deltaY*X;!lO()&&j.shiftKey&&l!==yh.Vertical&&(Z=j.deltaY*X,ce=0),L.translateBy(V,-(Z/Q)*a,-(ce/Q)*a,{internal:!0});const oe=C_(V.property("__zoom")),{onViewportChangeStart:de,onViewportChange:Ee,onViewportChangeEnd:Pe}=F.getState();clearTimeout(z.current),U.current||(U.current=!0,e==null||e(j,oe),de==null||de(oe)),U.current&&(r==null||r(j,oe),Ee==null||Ee(oe),z.current=setTimeout(()=>{t==null||t(j,oe),Pe==null||Pe(oe),U.current=!1},150))},{passive:!1}):typeof M<"u"&&V.on("wheel.zoom",function(j,Q){if(!y&&j.type==="wheel"&&!j.ctrlKey||uf(j,w))return null;j.preventDefault(),M.call(this,j,Q)},{passive:!1}))},[N,s,l,V,L,M,$,o,y,w,e,r,t]),Fe(()=>{L&&L.on("start",j=>{var Z,ce;if(!j.sourceEvent||j.sourceEvent.internal)return null;B.current=(Z=j.sourceEvent)==null?void 0:Z.button;const{onViewportChangeStart:Q}=F.getState(),X=C_(j.transform);_.current=!0,O.current=X,((ce=j.sourceEvent)==null?void 0:ce.type)==="mousedown"&&F.setState({paneDragging:!0}),Q==null||Q(X),e==null||e(j.sourceEvent,X)})},[L,e]),Fe(()=>{L&&(N&&!_.current?L.on("zoom",null):N||L.on("zoom",j=>{var X;const{onViewportChange:Q}=F.getState();if(F.setState({transform:[j.transform.x,j.transform.y,j.transform.k]}),E.current=!!(n&&m6(d,B.current??0)),(r||Q)&&!((X=j.sourceEvent)!=null&&X.internal)){const Z=C_(j.transform);Q==null||Q(Z),r==null||r(j.sourceEvent,Z)}}))},[N,L,r,d,n]),Fe(()=>{L&&L.on("end",j=>{if(!j.sourceEvent||j.sourceEvent.internal)return null;const{onViewportChangeEnd:Q}=F.getState();if(_.current=!1,F.setState({paneDragging:!1}),n&&m6(d,B.current??0)&&!E.current&&n(j.sourceEvent),E.current=!1,(t||Q)&&git(O.current,j.transform)){const X=C_(j.transform);O.current=X,clearTimeout(P.current),P.current=setTimeout(()=>{Q==null||Q(X),t==null||t(j.sourceEvent,X)},s?150:0)}})},[L,s,d,t,n]),Fe(()=>{L&&L.filter(j=>{const Q=$||i,X=o&&j.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&j.button===1&&j.type==="mousedown"&&(uf(j,"react-flow__node")||uf(j,"react-flow__edge")))return!0;if(!d&&!Q&&!s&&!u&&!o||N||!u&&j.type==="dblclick"||uf(j,w)&&j.type==="wheel"||uf(j,S)&&(j.type!=="wheel"||s&&j.type==="wheel"&&!$)||!o&&j.ctrlKey&&j.type==="wheel"||!Q&&!s&&!X&&j.type==="wheel"||!d&&(j.type==="mousedown"||j.type==="touchstart")||Array.isArray(d)&&!d.includes(j.button)&&j.type==="mousedown")return!1;const Z=Array.isArray(d)&&d.includes(j.button)||!j.button||j.button<=1;return(!j.ctrlKey||j.type==="wheel")&&Z})},[N,L,i,o,s,u,d,c,$]),x.createElement("div",{className:"react-flow__renderer",ref:T,style:Nk},C)},yit=r=>({userSelectionActive:r.userSelectionActive,userSelectionRect:r.userSelectionRect});function Cit(){const{userSelectionActive:r,userSelectionRect:e}=tr(yit,Wi);return r&&e?x.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function y6(r,e){const t=e.parentNode||e.parentId,n=r.find(i=>i.id===t);if(n){const i=e.position.x+e.width-n.width,o=e.position.y+e.height-n.height;if(i>0||o>0||e.position.x<0||e.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,i>0&&(n.style.width+=i),o>0&&(n.style.height+=o),e.position.x<0){const s=Math.abs(e.position.x);n.position.x=n.position.x-s,n.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);n.position.y=n.position.y-s,n.style.height+=s,e.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function wit(r,e){if(r.some(n=>n.type==="reset"))return r.filter(n=>n.type==="reset").map(n=>n.item);const t=r.filter(n=>n.type==="add").map(n=>n.item);return e.reduce((n,i)=>{const o=r.filter(a=>a.id===i.id);if(o.length===0)return n.push(i),n;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&y6(n,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&y6(n,s);break}case"remove":return n}return n.push(s),n},t)}function Sit(r,e){return wit(r,e)}const _c=(r,e)=>({id:r,type:"select",selected:e});function Ff(r,e){return r.reduce((t,n)=>{const i=e.includes(n.id);return!n.selected&&i?(n.selected=!0,t.push(_c(n.id,!0))):n.selected&&!i&&(n.selected=!1,t.push(_c(n.id,!1))),t},[])}const ZF=(r,e)=>t=>{t.target===e.current&&(r==null||r(t))},Eit=r=>({userSelectionActive:r.userSelectionActive,elementsSelectable:r.elementsSelectable,dragging:r.paneDragging}),tce=ur(({isSelecting:r,selectionMode:e=GC.Full,panOnDrag:t,onSelectionStart:n,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const h=ve(null),p=ti(),f=ve(0),g=ve(0),v=ve(),{userSelectionActive:y,elementsSelectable:C,dragging:w}=tr(Eit,Wi),S=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),f.current=0,g.current=0},P=M=>{o==null||o(M),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},F=M=>{if(Array.isArray(t)&&(t!=null&&t.includes(2))){M.preventDefault();return}s==null||s(M)},_=a?M=>a(M):void 0,E=M=>{const{resetSelectedElements:N,domNode:$}=p.getState();if(v.current=$==null?void 0:$.getBoundingClientRect(),!C||!r||M.button!==0||M.target!==h.current||!v.current)return;const{x:B,y:U}=Jc(M,v.current);N(),p.setState({userSelectionRect:{width:0,height:0,startX:B,startY:U,x:B,y:U}}),n==null||n(M)},T=M=>{const{userSelectionRect:N,nodeInternals:$,edges:B,transform:U,onNodesChange:z,onEdgesChange:j,nodeOrigin:Q,getNodes:X}=p.getState();if(!r||!v.current||!N)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Z=Jc(M,v.current),ce=N.startX??0,oe=N.startY??0,de={...N,x:Z.x<ce?Z.x:ce,y:Z.y<oe?Z.y:oe,width:Math.abs(Z.x-ce),height:Math.abs(Z.y-oe)},Ee=X(),Pe=Gue($,de,U,e===GC.Partial,!0,Q),$e=Vue(Pe,B).map(xe=>xe.id),Ne=Pe.map(xe=>xe.id);if(f.current!==Ne.length){f.current=Ne.length;const xe=Ff(Ee,Ne);xe.length&&(z==null||z(xe))}if(g.current!==$e.length){g.current=$e.length;const xe=Ff(B,$e);xe.length&&(j==null||j(xe))}p.setState({userSelectionRect:de})},O=M=>{if(M.button!==0)return;const{userSelectionRect:N}=p.getState();!y&&N&&M.target===h.current&&(P==null||P(M)),p.setState({nodesSelectionActive:f.current>0}),S(),i==null||i(M)},L=M=>{y&&(p.setState({nodesSelectionActive:f.current>0}),i==null||i(M)),S()},V=C&&(r||y);return x.createElement("div",{className:ao(["react-flow__pane",{dragging:w,selection:r}]),onClick:V?void 0:ZF(P,h),onContextMenu:ZF(F,h),onWheel:ZF(_,h),onMouseEnter:V?void 0:l,onMouseDown:V?E:void 0,onMouseMove:V?T:u,onMouseUp:V?O:void 0,onMouseLeave:V?L:c,ref:h,style:Nk},d,x.createElement(Cit,null))});tce.displayName="Pane";function nce(r,e){const t=r.parentNode||r.parentId;if(!t)return!1;const n=e.get(t);return n?n.selected?!0:nce(n,e):!1}function C6(r,e,t){let n=r;do{if(n!=null&&n.matches(e))return!0;if(n===t.current)return!1;n=n.parentElement}while(n);return!1}function _it(r,e,t,n){return Array.from(r.values()).filter(i=>(i.selected||i.id===n)&&(!i.parentNode||i.parentId||!nce(i,r))&&(i.draggable||e&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:t.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:t.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function bit(r,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(r.width||0),e[1][1]-(r.height||0)]]}function rce(r,e,t,n,i=[0,0],o){const s=bit(r,r.extent||n);let a=s;const l=r.parentNode||r.parentId;if(r.extent==="parent"&&!r.expandParent)if(l&&r.width&&r.height){const d=t.get(l),{x:h,y:p}=Zf(d,i).positionAbsolute;a=d&&Fs(h)&&Fs(p)&&Fs(d.width)&&Fs(d.height)?[[h+r.width*i[0],p+r.height*i[1]],[h+d.width-r.width+r.width*i[0],p+d.height-r.height+r.height*i[1]]]:a}else o==null||o("005",Au.error005()),a=s;else if(r.extent&&l&&r.extent!=="parent"){const d=t.get(l),{x:h,y:p}=Zf(d,i).positionAbsolute;a=[[r.extent[0][0]+h,r.extent[0][1]+p],[r.extent[1][0]+h,r.extent[1][1]+p]]}let u={x:0,y:0};if(l){const d=t.get(l);u=Zf(d,i).positionAbsolute}const c=a&&a!=="parent"?Tk(e,a):e;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function eM({nodeId:r,dragItems:e,nodeInternals:t}){const n=e.map(i=>({...t.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[r?n.find(i=>i.id===r):n[0],n]}const w6=(r,e,t,n)=>{const i=e.querySelectorAll(r);if(!i||!i.length)return null;const o=Array.from(i),s=e.getBoundingClientRect(),a={x:s.width*n[0],y:s.height*n[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-a.x)/t,y:(u.top-s.top-a.y)/t,...Rk(l)}})};function $v(r,e,t){return t===void 0?t:n=>{const i=e().nodeInternals.get(r);i&&t(n,{...i})}}function kN({id:r,store:e,unselect:t=!1,nodeRef:n}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=e.getState(),u=a.get(r);if(!u){l==null||l("012",Au.error012(r));return}e.setState({nodesSelectionActive:!1}),u.selected?(t||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=n==null?void 0:n.current)==null?void 0:c.blur()})):i([r])}function Rit(){const r=ti();return at(({sourceEvent:t})=>{const{transform:n,snapGrid:i,snapToGrid:o}=r.getState(),s=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,l={x:(s-n[0])/n[2],y:(a-n[1])/n[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function tM(r){return(e,t,n)=>r==null?void 0:r(e,n)}function ice({nodeRef:r,disabled:e=!1,noDragClassName:t,handleSelector:n,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=ti(),[l,u]=Te(!1),c=ve([]),d=ve({x:null,y:null}),h=ve(0),p=ve(null),f=ve({x:0,y:0}),g=ve(null),v=ve(!1),y=ve(!1),C=ve(!1),w=Rit();return Fe(()=>{if(r!=null&&r.current){const S=aa(r.current),P=({x:E,y:T})=>{const{nodeInternals:O,onNodeDrag:L,onSelectionDrag:V,updateNodePositions:M,nodeExtent:N,snapGrid:$,snapToGrid:B,nodeOrigin:U,onError:z}=a.getState();d.current={x:E,y:T};let j=!1,Q={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&N){const Z=Ik(c.current,U);Q=Pk(Z)}if(c.current=c.current.map(Z=>{const ce={x:E-Z.distance.x,y:T-Z.distance.y};B&&(ce.x=$[0]*Math.round(ce.x/$[0]),ce.y=$[1]*Math.round(ce.y/$[1]));const oe=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];c.current.length>1&&N&&!Z.extent&&(oe[0][0]=Z.positionAbsolute.x-Q.x+N[0][0],oe[1][0]=Z.positionAbsolute.x+(Z.width??0)-Q.x2+N[1][0],oe[0][1]=Z.positionAbsolute.y-Q.y+N[0][1],oe[1][1]=Z.positionAbsolute.y+(Z.height??0)-Q.y2+N[1][1]);const de=rce(Z,ce,O,oe,U,z);return j=j||Z.position.x!==de.position.x||Z.position.y!==de.position.y,Z.position=de.position,Z.positionAbsolute=de.positionAbsolute,Z}),!j)return;M(c.current,!0,!0),u(!0);const X=i?L:tM(V);if(X&&g.current){const[Z,ce]=eM({nodeId:i,dragItems:c.current,nodeInternals:O});X(g.current,Z,ce)}},F=()=>{if(!p.current)return;const[E,T]=Oue(f.current,p.current);if(E!==0||T!==0){const{transform:O,panBy:L}=a.getState();d.current.x=(d.current.x??0)-E/O[2],d.current.y=(d.current.y??0)-T/O[2],L({x:E,y:T})&&P(d.current)}h.current=requestAnimationFrame(F)},_=E=>{var U;const{nodeInternals:T,multiSelectionActive:O,nodesDraggable:L,unselectNodesAndEdges:V,onNodeDragStart:M,onSelectionDragStart:N}=a.getState();y.current=!0;const $=i?M:tM(N);(!s||!o)&&!O&&i&&((U=T.get(i))!=null&&U.selected||V()),i&&o&&s&&kN({id:i,store:a,nodeRef:r});const B=w(E);if(d.current=B,c.current=_it(T,L,B,i),$&&c.current){const[z,j]=eM({nodeId:i,dragItems:c.current,nodeInternals:T});$(E.sourceEvent,z,j)}};if(e)S.on(".drag",null);else{const E=Ftt().on("start",T=>{const{domNode:O,nodeDragThreshold:L}=a.getState();L===0&&_(T),C.current=!1;const V=w(T);d.current=V,p.current=(O==null?void 0:O.getBoundingClientRect())||null,f.current=Jc(T.sourceEvent,p.current)}).on("drag",T=>{var M,N;const O=w(T),{autoPanOnNodeDrag:L,nodeDragThreshold:V}=a.getState();if(T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1&&(C.current=!0),!C.current){if(!v.current&&y.current&&L&&(v.current=!0,F()),!y.current){const $=O.xSnapped-(((M=d==null?void 0:d.current)==null?void 0:M.x)??0),B=O.ySnapped-(((N=d==null?void 0:d.current)==null?void 0:N.y)??0);Math.sqrt($*$+B*B)>V&&_(T)}(d.current.x!==O.xSnapped||d.current.y!==O.ySnapped)&&c.current&&y.current&&(g.current=T.sourceEvent,f.current=Jc(T.sourceEvent,p.current),P(O))}}).on("end",T=>{if(!(!y.current||C.current)&&(u(!1),v.current=!1,y.current=!1,cancelAnimationFrame(h.current),c.current)){const{updateNodePositions:O,nodeInternals:L,onNodeDragStop:V,onSelectionDragStop:M}=a.getState(),N=i?V:tM(M);if(O(c.current,!1,!1),N){const[$,B]=eM({nodeId:i,dragItems:c.current,nodeInternals:L});N(T.sourceEvent,$,B)}}}).filter(T=>{const O=T.target;return!T.button&&(!t||!C6(O,`.${t}`,r))&&(!n||C6(O,n,r))});return S.call(E),()=>{S.on(".drag",null)}}}},[r,e,t,n,o,a,i,s,w]),l}function oce(){const r=ti();return at(t=>{const{nodeInternals:n,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:u,nodesDraggable:c}=r.getState(),d=s().filter(C=>C.selected&&(C.draggable||c&&typeof C.draggable>"u")),h=a?l[0]:5,p=a?l[1]:5,f=t.isShiftPressed?4:1,g=t.x*h*f,v=t.y*p*f,y=d.map(C=>{if(C.positionAbsolute){const w={x:C.positionAbsolute.x+g,y:C.positionAbsolute.y+v};a&&(w.x=l[0]*Math.round(w.x/l[0]),w.y=l[1]*Math.round(w.y/l[1]));const{positionAbsolute:S,position:P}=rce(C,w,n,i,void 0,u);C.position=P,C.positionAbsolute=S}return C});o(y,!0,!1)},[])}const eg={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Bv=r=>{const e=({id:t,type:n,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:p,onContextMenu:f,onDoubleClick:g,style:v,className:y,isDraggable:C,isSelectable:w,isConnectable:S,isFocusable:P,selectNodesOnDrag:F,sourcePosition:_,targetPosition:E,hidden:T,resizeObserver:O,dragHandle:L,zIndex:V,isParent:M,noDragClassName:N,noPanClassName:$,initialized:B,disableKeyboardA11y:U,ariaLabel:z,rfId:j,hasHandleBounds:Q})=>{const X=ti(),Z=ve(null),ce=ve(null),oe=ve(_),de=ve(E),Ee=ve(n),Pe=w||C||c||d||h||p,$e=oce(),Ne=$v(t,X.getState,d),xe=$v(t,X.getState,h),st=$v(t,X.getState,p),Ue=$v(t,X.getState,f),_t=$v(t,X.getState,g),Rt=qe=>{const{nodeDragThreshold:Ie}=X.getState();if(w&&(!F||!C||Ie>0)&&kN({id:t,store:X,nodeRef:Z}),c){const sn=X.getState().nodeInternals.get(t);sn&&c(qe,{...sn})}},Ct=qe=>{if(!LN(qe)&&!U)if(Aue.includes(qe.key)&&w){const Ie=qe.key==="Escape";kN({id:t,store:X,unselect:Ie,nodeRef:Z})}else C&&u&&Object.prototype.hasOwnProperty.call(eg,qe.key)&&(X.setState({ariaLiveMessage:`Moved selected node ${qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),$e({x:eg[qe.key].x,y:eg[qe.key].y,isShiftPressed:qe.shiftKey}))};Fe(()=>()=>{ce.current&&(O==null||O.unobserve(ce.current),ce.current=null)},[]),Fe(()=>{if(Z.current&&!T){const qe=Z.current;(!B||!Q||ce.current!==qe)&&(ce.current&&(O==null||O.unobserve(ce.current)),O==null||O.observe(qe),ce.current=qe)}},[T,B,Q]),Fe(()=>{const qe=Ee.current!==n,Ie=oe.current!==_,sn=de.current!==E;Z.current&&(qe||Ie||sn)&&(qe&&(Ee.current=n),Ie&&(oe.current=_),sn&&(de.current=E),X.getState().updateNodeDimensions([{id:t,nodeElement:Z.current,forceUpdate:!0}]))},[t,n,_,E]);const Sn=ice({nodeRef:Z,disabled:T||!C,noDragClassName:N,handleSelector:L,nodeId:t,isSelectable:w,selectNodesOnDrag:F});return T?null:x.createElement("div",{className:ao(["react-flow__node",`react-flow__node-${n}`,{[$]:C},y,{selected:u,selectable:w,parent:M,dragging:Sn}]),ref:Z,style:{zIndex:V,transform:`translate(${a}px,${l}px)`,pointerEvents:Pe?"all":"none",visibility:B?"visible":"hidden",...v},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Ne,onMouseMove:xe,onMouseLeave:st,onContextMenu:Ue,onClick:Rt,onDoubleClick:_t,onKeyDown:P?Ct:void 0,tabIndex:P?0:void 0,role:P?"button":void 0,"aria-describedby":U?void 0:`${Que}-${j}`,"aria-label":z},x.createElement(Vrt,{value:t},x.createElement(r,{id:t,data:i,type:n,xPos:o,yPos:s,selected:u,isConnectable:S,sourcePosition:_,targetPosition:E,dragging:Sn,dragHandle:L,zIndex:V})))};return e.displayName="NodeWrapper",ur(e)};const Tit=r=>{const e=r.getNodes().filter(t=>t.selected);return{...Ik(e,r.nodeOrigin),transformString:`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`,userSelectionActive:r.userSelectionActive}};function Pit({onSelectionContextMenu:r,noPanClassName:e,disableKeyboardA11y:t}){const n=ti(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:u}=tr(Tit,Wi),c=oce(),d=ve(null);if(Fe(()=>{var f;t||(f=d.current)==null||f.focus({preventScroll:!0})},[t]),ice({nodeRef:d}),u||!i||!o)return null;const h=r?f=>{const g=n.getState().getNodes().filter(v=>v.selected);r(f,g)}:void 0,p=f=>{Object.prototype.hasOwnProperty.call(eg,f.key)&&c({x:eg[f.key].x,y:eg[f.key].y,isShiftPressed:f.shiftKey})};return x.createElement("div",{className:ao(["react-flow__nodesselection","react-flow__container",e]),style:{transform:l}},x.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:t?void 0:-1,onKeyDown:t?void 0:p,style:{width:i,height:o,top:a,left:s}}))}var Oit=ur(Pit);const Dit=r=>r.nodesSelectionActive,sce=({children:r,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:h,selectionMode:p,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:C,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:P,panOnScroll:F,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:T,panOnDrag:O,defaultViewport:L,translateExtent:V,minZoom:M,maxZoom:N,preventScrolling:$,onSelectionContextMenu:B,noWheelClassName:U,noPanClassName:z,disableKeyboardA11y:j})=>{const Q=tr(Dit),X=VC(d),Z=VC(y),ce=Z||O,oe=Z||F,de=X||h&&ce!==!0;return pit({deleteKeyCode:a,multiSelectionKeyCode:v}),x.createElement(vit,{onMove:l,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:S,zoomOnPinch:P,panOnScroll:oe,panOnScrollSpeed:_,panOnScrollMode:E,zoomOnDoubleClick:T,panOnDrag:!X&&ce,defaultViewport:L,translateExtent:V,minZoom:M,maxZoom:N,zoomActivationKeyCode:C,preventScrolling:$,noWheelClassName:U,noPanClassName:z},x.createElement(tce,{onSelectionStart:f,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:n,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:ce,isSelecting:!!de,selectionMode:p},r,Q&&x.createElement(Oit,{onSelectionContextMenu:B,noPanClassName:z,disableKeyboardA11y:j})))};sce.displayName="FlowRenderer";var Ait=ur(sce);function xit(r){return tr(at(t=>r?Gue(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):t.getNodes(),[r]))}function Iit(r){const e={input:Bv(r.input||zue),default:Bv(r.default||HN),output:Bv(r.output||Yue),group:Bv(r.group||Mk)},t={},n=Object.keys(r).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=Bv(r[o]||HN),i),t);return{...e,...n}}const Fit=({x:r,y:e,width:t,height:n,origin:i})=>!t||!n?{x:r,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:r,y:e}:{x:r-t*i[0],y:e-n*i[1]},Mit=r=>({nodesDraggable:r.nodesDraggable,nodesConnectable:r.nodesConnectable,nodesFocusable:r.nodesFocusable,elementsSelectable:r.elementsSelectable,updateNodeDimensions:r.updateNodeDimensions,onError:r.onError}),ace=r=>{const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:n,elementsSelectable:i,updateNodeDimensions:o,onError:s}=tr(Mit,Wi),a=xit(r.onlyRenderVisibleElements),l=ve(),u=Rn(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const h=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(h)});return l.current=c,c},[]);return Fe(()=>()=>{var c;(c=l==null?void 0:l.current)==null||c.disconnect()},[]),x.createElement("div",{className:"react-flow__nodes",style:Nk},a.map(c=>{var P,F,_;let d=c.type||"default";r.nodeTypes[d]||(s==null||s("003",Au.error003(d)),d="default");const h=r.nodeTypes[d]||r.nodeTypes.default,p=!!(c.draggable||e&&typeof c.draggable>"u"),f=!!(c.selectable||i&&typeof c.selectable>"u"),g=!!(c.connectable||t&&typeof c.connectable>"u"),v=!!(c.focusable||n&&typeof c.focusable>"u"),y=r.nodeExtent?Tk(c.positionAbsolute,r.nodeExtent):c.positionAbsolute,C=(y==null?void 0:y.x)??0,w=(y==null?void 0:y.y)??0,S=Fit({x:C,y:w,width:c.width??0,height:c.height??0,origin:r.nodeOrigin});return x.createElement(h,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||tt.Bottom,targetPosition:c.targetPosition||tt.Top,hidden:c.hidden,xPos:C,yPos:w,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:r.selectNodesOnDrag,onClick:r.onNodeClick,onMouseEnter:r.onNodeMouseEnter,onMouseMove:r.onNodeMouseMove,onMouseLeave:r.onNodeMouseLeave,onContextMenu:r.onNodeContextMenu,onDoubleClick:r.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:f,isConnectable:g,isFocusable:v,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((P=c[ar])==null?void 0:P.z)??0,isParent:!!((F=c[ar])!=null&&F.isParent),noDragClassName:r.noDragClassName,noPanClassName:r.noPanClassName,initialized:!!c.width&&!!c.height,rfId:r.rfId,disableKeyboardA11y:r.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((_=c[ar])!=null&&_.handleBounds)})}))};ace.displayName="NodeRenderer";var Lit=ur(ace);const Nit=(r,e,t)=>t===tt.Left?r-e:t===tt.Right?r+e:r,Git=(r,e,t)=>t===tt.Top?r-e:t===tt.Bottom?r+e:r,S6="react-flow__edgeupdater",E6=({position:r,centerX:e,centerY:t,radius:n=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>x.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:ao([S6,`${S6}-${a}`]),cx:Nit(e,n,r),cy:Git(t,n,r),r:n,stroke:"transparent",fill:"transparent"}),Vit=()=>!0;var cf=r=>{const e=({id:t,className:n,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:g,style:v,source:y,target:C,sourceX:w,sourceY:S,targetX:P,targetY:F,sourcePosition:_,targetPosition:E,elementsSelectable:T,hidden:O,sourceHandleId:L,targetHandleId:V,onContextMenu:M,onMouseEnter:N,onMouseMove:$,onMouseLeave:B,reconnectRadius:U,onReconnect:z,onReconnectStart:j,onReconnectEnd:Q,markerEnd:X,markerStart:Z,rfId:ce,ariaLabel:oe,isFocusable:de,isReconnectable:Ee,pathOptions:Pe,interactionWidth:$e,disableKeyboardA11y:Ne})=>{const xe=ve(null),[st,Ue]=Te(!1),[_t,Rt]=Te(!1),Ct=ti(),Sn=Rn(()=>`url('#${GN(Z,ce)}')`,[Z,ce]),qe=Rn(()=>`url('#${GN(X,ce)}')`,[X,ce]);if(O)return null;const Ie=Lt=>{var Ot;const{edges:_n,addSelectedEdges:mn,unselectNodesAndEdges:cr,multiSelectionActive:nr}=Ct.getState(),Pt=_n.find(kt=>kt.id===t);Pt&&(T&&(Ct.setState({nodesSelectionActive:!1}),Pt.selected&&nr?(cr({nodes:[],edges:[Pt]}),(Ot=xe.current)==null||Ot.blur()):mn([t])),s&&s(Lt,Pt))},sn=kv(t,Ct.getState,a),bt=kv(t,Ct.getState,M),ni=kv(t,Ct.getState,N),jn=kv(t,Ct.getState,$),nn=kv(t,Ct.getState,B),we=(Lt,_n)=>{if(Lt.button!==0)return;const{edges:mn,isValidConnection:cr}=Ct.getState(),nr=_n?C:y,Pt=(_n?V:L)||null,Ot=_n?"target":"source",kt=cr||Vit,lt=_n,an=mn.find(Go=>Go.id===t);Rt(!0),j==null||j(Lt,an,Ot);const tn=Go=>{Rt(!1),Q==null||Q(Go,an,Ot)};Bue({event:Lt,handleId:Pt,nodeId:nr,onConnect:Go=>z==null?void 0:z(an,Go),isTarget:lt,getState:Ct.getState,setState:Ct.setState,isValidConnection:kt,edgeUpdaterType:Ot,onReconnectEnd:tn})},Le=Lt=>we(Lt,!0),Je=Lt=>we(Lt,!1),Ze=()=>Ue(!0),It=()=>Ue(!1),En=!T&&!s,vt=Lt=>{var _n;if(!Ne&&Aue.includes(Lt.key)&&T){const{unselectNodesAndEdges:mn,addSelectedEdges:cr,edges:nr}=Ct.getState();Lt.key==="Escape"?((_n=xe.current)==null||_n.blur(),mn({edges:[nr.find(Ot=>Ot.id===t)]})):cr([t])}};return x.createElement("g",{className:ao(["react-flow__edge",`react-flow__edge-${i}`,n,{selected:l,animated:u,inactive:En,updating:st}]),onClick:Ie,onDoubleClick:sn,onContextMenu:bt,onMouseEnter:ni,onMouseMove:jn,onMouseLeave:nn,onKeyDown:de?vt:void 0,tabIndex:de?0:void 0,role:de?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":oe===null?void 0:oe||`Edge from ${y} to ${C}`,"aria-describedby":de?`${Xue}-${ce}`:void 0,ref:xe},!_t&&x.createElement(r,{id:t,source:y,target:C,selected:l,animated:u,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:g,data:o,style:v,sourceX:w,sourceY:S,targetX:P,targetY:F,sourcePosition:_,targetPosition:E,sourceHandleId:L,targetHandleId:V,markerStart:Sn,markerEnd:qe,pathOptions:Pe,interactionWidth:$e}),Ee&&x.createElement(x.Fragment,null,(Ee==="source"||Ee===!0)&&x.createElement(E6,{position:_,centerX:w,centerY:S,radius:U,onMouseDown:Le,onMouseEnter:Ze,onMouseOut:It,type:"source"}),(Ee==="target"||Ee===!0)&&x.createElement(E6,{position:E,centerX:P,centerY:F,radius:U,onMouseDown:Je,onMouseEnter:Ze,onMouseOut:It,type:"target"})))};return e.displayName="EdgeWrapper",ur(e)};function Hit(r){const e={default:cf(r.default||uO),straight:cf(r.bezier||Ak),step:cf(r.step||Dk),smoothstep:cf(r.step||lx),simplebezier:cf(r.simplebezier||Ok)},t={},n=Object.keys(r).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=cf(r[o]||uO),i),t);return{...e,...n}}function _6(r,e,t=null){const n=((t==null?void 0:t.x)||0)+e.x,i=((t==null?void 0:t.y)||0)+e.y,o=(t==null?void 0:t.width)||e.width,s=(t==null?void 0:t.height)||e.height;switch(r){case tt.Top:return{x:n+o/2,y:i};case tt.Right:return{x:n+o,y:i+s/2};case tt.Bottom:return{x:n+o/2,y:i+s};case tt.Left:return{x:n,y:i+s/2}}}function b6(r,e){return r?r.length===1||!e?r[0]:e&&r.find(t=>t.id===e)||null:null}const kit=(r,e,t,n,i,o)=>{const s=_6(t,r,e),a=_6(o,n,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function $it({sourcePos:r,targetPos:e,sourceWidth:t,sourceHeight:n,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const u={x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x+t,e.x+i),y2:Math.max(r.y+n,e.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Pk({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*h)>0}function R6(r){var n,i,o,s,a;const e=((n=r==null?void 0:r[ar])==null?void 0:n.handleBounds)||null,t=e&&(r==null?void 0:r.width)&&(r==null?void 0:r.height)&&typeof((i=r==null?void 0:r.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=r==null?void 0:r.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=r==null?void 0:r.positionAbsolute)==null?void 0:s.x)||0,y:((a=r==null?void 0:r.positionAbsolute)==null?void 0:a.y)||0,width:(r==null?void 0:r.width)||0,height:(r==null?void 0:r.height)||0},e,!!t]}const Bit=[{level:0,isMaxLevel:!0,edges:[]}];function jit(r,e,t=!1){let n=-1;const i=r.reduce((s,a)=>{var c,d;const l=Fs(a.zIndex);let u=l?a.zIndex:0;if(t){const h=e.get(a.target),p=e.get(a.source),f=a.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),g=Math.max(((c=p==null?void 0:p[ar])==null?void 0:c.z)||0,((d=h==null?void 0:h[ar])==null?void 0:d.z)||0,1e3);u=(l?a.zIndex:0)+(f?g:0)}return s[u]?s[u].push(a):s[u]=[a],n=u>n?u:n,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===n}});return o.length===0?Bit:o}function Wit(r,e,t){const n=tr(at(i=>r?i.edges.filter(o=>{const s=e.get(o.source),a=e.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&$it({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[r,e]));return jit(n,e,t)}const Uit=({color:r="none",strokeWidth:e=1})=>x.createElement("polyline",{style:{stroke:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zit=({color:r="none",strokeWidth:e=1})=>x.createElement("polyline",{style:{stroke:r,fill:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),T6={[Gg.Arrow]:Uit,[Gg.ArrowClosed]:zit};function Kit(r){const e=ti();return Rn(()=>{var i,o;return Object.prototype.hasOwnProperty.call(T6,r)?T6[r]:((o=(i=e.getState()).onError)==null||o.call(i,"009",Au.error009(r)),null)},[r])}const Yit=({id:r,type:e,color:t,width:n=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Kit(e);return l?x.createElement("marker",{className:"react-flow__arrowhead",id:r,markerWidth:`${n}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},x.createElement(l,{color:t,strokeWidth:s})):null},qit=({defaultColor:r,rfId:e})=>t=>{const n=[];return t.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=GN(s,e);n.includes(a)||(i.push({id:a,color:s.color||r,...s}),n.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},lce=({defaultColor:r,rfId:e})=>{const t=tr(at(qit({defaultColor:r,rfId:e}),[r,e]),(n,i)=>!(n.length!==i.length||n.some((o,s)=>o.id!==i[s].id)));return x.createElement("defs",null,t.map(n=>x.createElement(Yit,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};lce.displayName="MarkerDefinitions";var Qit=ur(lce);const Xit=r=>({nodesConnectable:r.nodesConnectable,edgesFocusable:r.edgesFocusable,edgesUpdatable:r.edgesUpdatable,elementsSelectable:r.elementsSelectable,width:r.width,height:r.height,connectionMode:r.connectionMode,nodeInternals:r.nodeInternals,onError:r.onError}),uce=({defaultMarkerColor:r,onlyRenderVisibleElements:e,elevateEdgesOnSelect:t,rfId:n,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:f,reconnectRadius:g,children:v,disableKeyboardA11y:y})=>{const{edgesFocusable:C,edgesUpdatable:w,elementsSelectable:S,width:P,height:F,connectionMode:_,nodeInternals:E,onError:T}=tr(Xit,Wi),O=Wit(e,E,t);return P?x.createElement(x.Fragment,null,O.map(({level:L,edges:V,isMaxLevel:M})=>x.createElement("svg",{key:L,style:{zIndex:L},width:P,height:F,className:"react-flow__edges react-flow__container"},M&&x.createElement(Qit,{defaultColor:r,rfId:n}),x.createElement("g",null,V.map(N=>{const[$,B,U]=R6(E.get(N.source)),[z,j,Q]=R6(E.get(N.target));if(!U||!Q)return null;let X=N.type||"default";i[X]||(T==null||T("011",Au.error011(X)),X="default");const Z=i[X]||i.default,ce=_===lp.Strict?j.target:(j.target??[]).concat(j.source??[]),oe=b6(B.source,N.sourceHandle),de=b6(ce,N.targetHandle),Ee=(oe==null?void 0:oe.position)||tt.Bottom,Pe=(de==null?void 0:de.position)||tt.Top,$e=!!(N.focusable||C&&typeof N.focusable>"u"),Ne=N.reconnectable||N.updatable,xe=typeof h<"u"&&(Ne||w&&typeof Ne>"u");if(!oe||!de)return T==null||T("008",Au.error008(oe,N)),null;const{sourceX:st,sourceY:Ue,targetX:_t,targetY:Rt}=kit($,oe,Ee,z,de,Pe);return x.createElement(Z,{key:N.id,id:N.id,className:ao([N.className,o]),type:X,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:st,sourceY:Ue,targetX:_t,targetY:Rt,sourcePosition:Ee,targetPosition:Pe,elementsSelectable:S,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:p,onReconnectEnd:f,reconnectRadius:g,rfId:n,ariaLabel:N.ariaLabel,isFocusable:$e,isReconnectable:xe,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:y})})))),v):null};uce.displayName="EdgeRenderer";var Jit=ur(uce);const Zit=r=>`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`;function eot({children:r}){const e=tr(Zit);return x.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},r)}function tot(r){const e=Lk(),t=ve(!1);Fe(()=>{!t.current&&e.viewportInitialized&&r&&(setTimeout(()=>r(e),1),t.current=!0)},[r,e.viewportInitialized])}const not={[tt.Left]:tt.Right,[tt.Right]:tt.Left,[tt.Top]:tt.Bottom,[tt.Bottom]:tt.Top},cce=({nodeId:r,handleType:e,style:t,type:n=Dc.Bezier,CustomComponent:i,connectionStatus:o})=>{var F,_,E;const{fromNode:s,handleId:a,toX:l,toY:u,connectionMode:c}=tr(at(T=>({fromNode:T.nodeInternals.get(r),handleId:T.connectionHandleId,toX:(T.connectionPosition.x-T.transform[0])/T.transform[2],toY:(T.connectionPosition.y-T.transform[1])/T.transform[2],connectionMode:T.connectionMode}),[r]),Wi),d=(F=s==null?void 0:s[ar])==null?void 0:F.handleBounds;let h=d==null?void 0:d[e];if(c===lp.Loose&&(h=h||(d==null?void 0:d[e==="source"?"target":"source"])),!s||!h)return null;const p=a?h.find(T=>T.id===a):h[0],f=p?p.x+p.width/2:(s.width??0)/2,g=p?p.y+p.height/2:s.height??0,v=(((_=s.positionAbsolute)==null?void 0:_.x)??0)+f,y=(((E=s.positionAbsolute)==null?void 0:E.y)??0)+g,C=p==null?void 0:p.position,w=C?not[C]:null;if(!C||!w)return null;if(i)return x.createElement(i,{connectionLineType:n,connectionLineStyle:t,fromNode:s,fromHandle:p,fromX:v,fromY:y,toX:l,toY:u,fromPosition:C,toPosition:w,connectionStatus:o});let S="";const P={sourceX:v,sourceY:y,sourcePosition:C,targetX:l,targetY:u,targetPosition:w};return n===Dc.Bezier?[S]=Lue(P):n===Dc.Step?[S]=NN({...P,borderRadius:0}):n===Dc.SmoothStep?[S]=NN(P):n===Dc.SimpleBezier?[S]=Mue(P):S=`M${v},${y} ${l},${u}`,x.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:t})};cce.displayName="ConnectionLine";const rot=r=>({nodeId:r.connectionNodeId,handleType:r.connectionHandleType,nodesConnectable:r.nodesConnectable,connectionStatus:r.connectionStatus,width:r.width,height:r.height});function iot({containerStyle:r,style:e,type:t,component:n}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:u}=tr(rot,Wi);return!(i&&o&&a&&s)?null:x.createElement("svg",{style:r,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},x.createElement("g",{className:ao(["react-flow__connection",u])},x.createElement(cce,{nodeId:i,handleType:o,style:e,type:t,CustomComponent:n,connectionStatus:u})))}function P6(r,e){return ve(null),ti(),Rn(()=>e(r),[r])}const dce=({nodeTypes:r,edgeTypes:e,onMove:t,onMoveStart:n,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:f,onSelectionStart:g,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:C,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:P,selectionOnDrag:F,selectionMode:_,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:O,deleteKeyCode:L,onlyRenderVisibleElements:V,elementsSelectable:M,selectNodesOnDrag:N,defaultViewport:$,translateExtent:B,minZoom:U,maxZoom:z,preventScrolling:j,defaultMarkerColor:Q,zoomOnScroll:X,zoomOnPinch:Z,panOnScroll:ce,panOnScrollSpeed:oe,panOnScrollMode:de,zoomOnDoubleClick:Ee,panOnDrag:Pe,onPaneClick:$e,onPaneMouseEnter:Ne,onPaneMouseMove:xe,onPaneMouseLeave:st,onPaneScroll:Ue,onPaneContextMenu:_t,onEdgeContextMenu:Rt,onEdgeMouseEnter:Ct,onEdgeMouseMove:Sn,onEdgeMouseLeave:qe,onReconnect:Ie,onReconnectStart:sn,onReconnectEnd:bt,reconnectRadius:ni,noDragClassName:jn,noWheelClassName:nn,noPanClassName:we,elevateEdgesOnSelect:Le,disableKeyboardA11y:Je,nodeOrigin:Ze,nodeExtent:It,rfId:En})=>{const vt=P6(r,Iit),Lt=P6(e,Hit);return tot(o),x.createElement(Ait,{onPaneClick:$e,onPaneMouseEnter:Ne,onPaneMouseMove:xe,onPaneMouseLeave:st,onPaneContextMenu:_t,onPaneScroll:Ue,deleteKeyCode:L,selectionKeyCode:P,selectionOnDrag:F,selectionMode:_,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:E,panActivationKeyCode:T,zoomActivationKeyCode:O,elementsSelectable:M,onMove:t,onMoveStart:n,onMoveEnd:i,zoomOnScroll:X,zoomOnPinch:Z,zoomOnDoubleClick:Ee,panOnScroll:ce,panOnScrollSpeed:oe,panOnScrollMode:de,panOnDrag:Pe,defaultViewport:$,translateExtent:B,minZoom:U,maxZoom:z,onSelectionContextMenu:f,preventScrolling:j,noDragClassName:jn,noWheelClassName:nn,noPanClassName:we,disableKeyboardA11y:Je},x.createElement(eot,null,x.createElement(Jit,{edgeTypes:Lt,onEdgeClick:a,onEdgeDoubleClick:u,onlyRenderVisibleElements:V,onEdgeContextMenu:Rt,onEdgeMouseEnter:Ct,onEdgeMouseMove:Sn,onEdgeMouseLeave:qe,onReconnect:Ie,onReconnectStart:sn,onReconnectEnd:bt,reconnectRadius:ni,defaultMarkerColor:Q,noPanClassName:we,elevateEdgesOnSelect:!!Le,disableKeyboardA11y:Je,rfId:En},x.createElement(iot,{style:C,type:y,component:w,containerStyle:S})),x.createElement("div",{className:"react-flow__edgelabel-renderer"}),x.createElement(Lit,{nodeTypes:vt,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:N,onlyRenderVisibleElements:V,noPanClassName:we,noDragClassName:jn,disableKeyboardA11y:Je,nodeOrigin:Ze,nodeExtent:It,rfId:En})))};dce.displayName="GraphView";var oot=ur(dce);const $N=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],gc={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:$N,nodeExtent:$N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:lp.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Irt,isValidConnection:void 0},sot=()=>jZe((r,e)=>({...gc,setNodes:t=>{const{nodeInternals:n,nodeOrigin:i,elevateNodesOnSelect:o}=e();r({nodeInternals:JF(t,n,i,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:t=>{const{defaultEdgeOptions:n={}}=e();r({edges:t.map(i=>({...n,...i}))})},setDefaultNodesAndEdges:(t,n)=>{const i=typeof t<"u",o=typeof n<"u",s=i?JF(t,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;r({nodeInternals:s,edges:o?n:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:t=>{const{onNodesChange:n,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=e(),c=l==null?void 0:l.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(d.transform),p=t.reduce((g,v)=>{const y=i.get(v.id);if(y!=null&&y.hidden)i.set(y.id,{...y,[ar]:{...y[ar],handleBounds:void 0}});else if(y){const C=Rk(v.nodeElement);!!(C.width&&C.height&&(y.width!==C.width||y.height!==C.height||v.forceUpdate))&&(i.set(y.id,{...y,[ar]:{...y[ar],handleBounds:{source:w6(".source",v.nodeElement,h,u),target:w6(".target",v.nodeElement,h,u)}},...C}),g.push({id:y.id,type:"dimensions",dimensions:C}))}return g},[]);Zue(i,u);const f=s||o&&!s&&ece(e,{initial:!0,...a});r({nodeInternals:new Map(i),fitViewOnInitDone:f}),(p==null?void 0:p.length)>0&&(n==null||n(p))},updateNodePositions:(t,n=!0,i=!1)=>{const{triggerNodeChanges:o}=e(),s=t.map(a=>{const l={id:a.id,type:"position",dragging:i};return n&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:t=>{const{onNodesChange:n,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=e();if(t!=null&&t.length){if(o){const u=Sit(t,a()),c=JF(u,i,s,l);r({nodeInternals:c})}n==null||n(t)}},addSelectedNodes:t=>{const{multiSelectionActive:n,edges:i,getNodes:o}=e();let s,a=null;n?s=t.map(l=>_c(l,!0)):(s=Ff(o(),t),a=Ff(i,[])),y_({changedNodes:s,changedEdges:a,get:e,set:r})},addSelectedEdges:t=>{const{multiSelectionActive:n,edges:i,getNodes:o}=e();let s,a=null;n?s=t.map(l=>_c(l,!0)):(s=Ff(i,t),a=Ff(o(),[])),y_({changedNodes:a,changedEdges:s,get:e,set:r})},unselectNodesAndEdges:({nodes:t,edges:n}={})=>{const{edges:i,getNodes:o}=e(),s=t||o(),a=n||i,l=s.map(c=>(c.selected=!1,_c(c.id,!1))),u=a.map(c=>_c(c.id,!1));y_({changedNodes:l,changedEdges:u,get:e,set:r})},setMinZoom:t=>{const{d3Zoom:n,maxZoom:i}=e();n==null||n.scaleExtent([t,i]),r({minZoom:t})},setMaxZoom:t=>{const{d3Zoom:n,minZoom:i}=e();n==null||n.scaleExtent([i,t]),r({maxZoom:t})},setTranslateExtent:t=>{var n;(n=e().d3Zoom)==null||n.translateExtent(t),r({translateExtent:t})},resetSelectedElements:()=>{const{edges:t,getNodes:n}=e(),o=n().filter(a=>a.selected).map(a=>_c(a.id,!1)),s=t.filter(a=>a.selected).map(a=>_c(a.id,!1));y_({changedNodes:o,changedEdges:s,get:e,set:r})},setNodeExtent:t=>{const{nodeInternals:n}=e();n.forEach(i=>{i.positionAbsolute=Tk(i.position,t)}),r({nodeExtent:t,nodeInternals:new Map(n)})},panBy:t=>{const{transform:n,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=e();if(!s||!a||!t.x&&!t.y)return!1;const u=Xc.translate(n[0]+t.x,n[1]+t.y).scale(n[2]),c=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,c,l);return s.transform(a,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>r({connectionNodeId:gc.connectionNodeId,connectionHandleId:gc.connectionHandleId,connectionHandleType:gc.connectionHandleType,connectionStatus:gc.connectionStatus,connectionStartHandle:gc.connectionStartHandle,connectionEndHandle:gc.connectionEndHandle}),reset:()=>r({...gc})}),Object.is),hce=({children:r})=>{const e=ve(null);return e.current||(e.current=sot()),x.createElement(brt,{value:e.current},r)};hce.displayName="ReactFlowProvider";const pce=({children:r})=>Ut(ax)?x.createElement(x.Fragment,null,r):x.createElement(hce,null,r);pce.displayName="ReactFlowWrapper";const aot={input:zue,default:HN,output:Yue,group:Mk},lot={default:uO,straight:Ak,step:Dk,smoothstep:lx,simplebezier:Ok},uot=[0,0],cot=[15,15],dot={x:0,y:0,zoom:1},hot={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},fce=Ce(({nodes:r,edges:e,defaultNodes:t,defaultEdges:n,className:i,nodeTypes:o=aot,edgeTypes:s=lot,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onConnect:p,onConnectStart:f,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:y,onNodeMouseEnter:C,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:P,onNodeDoubleClick:F,onNodeDragStart:_,onNodeDrag:E,onNodeDragStop:T,onNodesDelete:O,onEdgesDelete:L,onSelectionChange:V,onSelectionDragStart:M,onSelectionDrag:N,onSelectionDragStop:$,onSelectionContextMenu:B,onSelectionStart:U,onSelectionEnd:z,connectionMode:j=lp.Strict,connectionLineType:Q=Dc.Bezier,connectionLineStyle:X,connectionLineComponent:Z,connectionLineContainerStyle:ce,deleteKeyCode:oe="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:Ee=!1,selectionMode:Pe=GC.Full,panActivationKeyCode:$e="Space",multiSelectionKeyCode:Ne=lO()?"Meta":"Control",zoomActivationKeyCode:xe=lO()?"Meta":"Control",snapToGrid:st=!1,snapGrid:Ue=cot,onlyRenderVisibleElements:_t=!1,selectNodesOnDrag:Rt=!0,nodesDraggable:Ct,nodesConnectable:Sn,nodesFocusable:qe,nodeOrigin:Ie=uot,edgesFocusable:sn,edgesUpdatable:bt,elementsSelectable:ni,defaultViewport:jn=dot,minZoom:nn=.5,maxZoom:we=2,translateExtent:Le=$N,preventScrolling:Je=!0,nodeExtent:Ze,defaultMarkerColor:It="#b1b1b7",zoomOnScroll:En=!0,zoomOnPinch:vt=!0,panOnScroll:Lt=!1,panOnScrollSpeed:_n=.5,panOnScrollMode:mn=yh.Free,zoomOnDoubleClick:cr=!0,panOnDrag:nr=!0,onPaneClick:Pt,onPaneMouseEnter:Ot,onPaneMouseMove:kt,onPaneMouseLeave:lt,onPaneScroll:an,onPaneContextMenu:tn,children:Tn,onEdgeContextMenu:Go,onEdgeDoubleClick:ri,onEdgeMouseEnter:Vp,onEdgeMouseMove:Xs,onEdgeMouseLeave:qn,onEdgeUpdate:Ma,onEdgeUpdateStart:La,onEdgeUpdateEnd:vn,onReconnect:Fd,onReconnectStart:Na,onReconnectEnd:Es,reconnectRadius:Om=10,edgeUpdaterRadius:Dm=10,onNodesChange:Ga,onEdgesChange:Am,noDragClassName:xm="nodrag",noWheelClassName:ze="nowheel",noPanClassName:ln="nopan",fitView:Fr=!1,fitViewOptions:Er,connectOnClick:Va=!0,attributionPosition:_S,proOptions:bS,defaultEdgeOptions:Im,elevateNodesOnSelect:Fm=!0,elevateEdgesOnSelect:RS=!1,disableKeyboardA11y:Mm=!1,autoPanOnConnect:ux=!0,autoPanOnNodeDrag:Hp=!0,connectionRadius:TS=20,isValidConnection:Lm,onError:Md,style:Wl,id:kp,nodeDragThreshold:cx,...PS},OS)=>{const $p=kp||"1";return x.createElement("div",{...PS,style:{...Wl,...hot},ref:OS,className:ao(["react-flow",i]),"data-testid":"rf__wrapper",id:kp},x.createElement(pce,null,x.createElement(oot,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:C,onNodeMouseMove:w,onNodeMouseLeave:S,onNodeContextMenu:P,onNodeDoubleClick:F,nodeTypes:o,edgeTypes:s,connectionLineType:Q,connectionLineStyle:X,connectionLineComponent:Z,connectionLineContainerStyle:ce,selectionKeyCode:de,selectionOnDrag:Ee,selectionMode:Pe,deleteKeyCode:oe,multiSelectionKeyCode:Ne,panActivationKeyCode:$e,zoomActivationKeyCode:xe,onlyRenderVisibleElements:_t,selectNodesOnDrag:Rt,defaultViewport:jn,translateExtent:Le,minZoom:nn,maxZoom:we,preventScrolling:Je,zoomOnScroll:En,zoomOnPinch:vt,zoomOnDoubleClick:cr,panOnScroll:Lt,panOnScrollSpeed:_n,panOnScrollMode:mn,panOnDrag:nr,onPaneClick:Pt,onPaneMouseEnter:Ot,onPaneMouseMove:kt,onPaneMouseLeave:lt,onPaneScroll:an,onPaneContextMenu:tn,onSelectionContextMenu:B,onSelectionStart:U,onSelectionEnd:z,onEdgeContextMenu:Go,onEdgeDoubleClick:ri,onEdgeMouseEnter:Vp,onEdgeMouseMove:Xs,onEdgeMouseLeave:qn,onReconnect:Fd??Ma,onReconnectStart:Na??La,onReconnectEnd:Es??vn,reconnectRadius:Om??Dm,defaultMarkerColor:It,noDragClassName:xm,noWheelClassName:ze,noPanClassName:ln,elevateEdgesOnSelect:RS,rfId:$p,disableKeyboardA11y:Mm,nodeOrigin:Ie,nodeExtent:Ze}),x.createElement(tit,{nodes:r,edges:e,defaultNodes:t,defaultEdges:n,onConnect:p,onConnectStart:f,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:y,nodesDraggable:Ct,nodesConnectable:Sn,nodesFocusable:qe,edgesFocusable:sn,edgesUpdatable:bt,elementsSelectable:ni,elevateNodesOnSelect:Fm,minZoom:nn,maxZoom:we,nodeExtent:Ze,onNodesChange:Ga,onEdgesChange:Am,snapToGrid:st,snapGrid:Ue,connectionMode:j,translateExtent:Le,connectOnClick:Va,defaultEdgeOptions:Im,fitView:Fr,fitViewOptions:Er,onNodesDelete:O,onEdgesDelete:L,onNodeDragStart:_,onNodeDrag:E,onNodeDragStop:T,onSelectionDrag:N,onSelectionDragStart:M,onSelectionDragStop:$,noPanClassName:ln,nodeOrigin:Ie,rfId:$p,autoPanOnConnect:ux,autoPanOnNodeDrag:Hp,onError:Md,connectionRadius:TS,isValidConnection:Lm,nodeDragThreshold:cx}),x.createElement(Zrt,{onSelectionChange:V}),Tn,x.createElement(Trt,{proOptions:bS,position:_S}),x.createElement(sit,{rfId:$p,disableKeyboardA11y:Mm})))});fce.displayName="ReactFlow";function pot(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},x.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function fot(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},x.createElement("path",{d:"M0 0h32v4.2H0z"}))}function got(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},x.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function mot(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},x.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function vot(){return x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},x.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const hy=({children:r,className:e,...t})=>x.createElement("button",{type:"button",className:ao(["react-flow__controls-button",e]),...t},r);hy.displayName="ControlButton";const yot=r=>({isInteractive:r.nodesDraggable||r.nodesConnectable||r.elementsSelectable,minZoomReached:r.transform[2]<=r.minZoom,maxZoomReached:r.transform[2]>=r.maxZoom}),gce=({style:r,showZoom:e=!0,showFitView:t=!0,showInteractive:n=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left"})=>{const h=ti(),[p,f]=Te(!1),{isInteractive:g,minZoomReached:v,maxZoomReached:y}=tr(yot,Wi),{zoomIn:C,zoomOut:w,fitView:S}=Lk();if(Fe(()=>{f(!0)},[]),!p)return null;const P=()=>{C(),o==null||o()},F=()=>{w(),s==null||s()},_=()=>{S(i),a==null||a()},E=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)};return x.createElement(Pue,{className:ao(["react-flow__controls",u]),position:d,style:r,"data-testid":"rf__controls"},e&&x.createElement(x.Fragment,null,x.createElement(hy,{onClick:P,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},x.createElement(pot,null)),x.createElement(hy,{onClick:F,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v},x.createElement(fot,null))),t&&x.createElement(hy,{className:"react-flow__controls-fitview",onClick:_,title:"fit view","aria-label":"fit view"},x.createElement(got,null)),n&&x.createElement(hy,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity"},g?x.createElement(vot,null):x.createElement(mot,null)),c)};gce.displayName="Controls";var Cot=ur(gce),ma;(function(r){r.Lines="lines",r.Dots="dots",r.Cross="cross"})(ma||(ma={}));function wot({color:r,dimensions:e,lineWidth:t}){return x.createElement("path",{stroke:r,strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function Sot({color:r,radius:e}){return x.createElement("circle",{cx:e,cy:e,r:e,fill:r})}const Eot={[ma.Dots]:"#91919a",[ma.Lines]:"#eee",[ma.Cross]:"#e2e2e2"},_ot={[ma.Dots]:1,[ma.Lines]:1,[ma.Cross]:6},bot=r=>({transform:r.transform,patternId:`pattern-${r.rfId}`});function mce({id:r,variant:e=ma.Dots,gap:t=20,size:n,lineWidth:i=1,offset:o=2,color:s,style:a,className:l}){const u=ve(null),{transform:c,patternId:d}=tr(bot,Wi),h=s||Eot[e],p=n||_ot[e],f=e===ma.Dots,g=e===ma.Cross,v=Array.isArray(t)?t:[t,t],y=[v[0]*c[2]||1,v[1]*c[2]||1],C=p*c[2],w=g?[C,C]:y,S=f?[C/o,C/o]:[w[0]/o,w[1]/o];return x.createElement("svg",{className:ao(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},x.createElement("pattern",{id:d+r,x:c[0]%y[0],y:c[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},f?x.createElement(Sot,{color:h,radius:C/o}):x.createElement(wot,{dimensions:w,color:h,lineWidth:i})),x.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+r})`}))}mce.displayName="Background";var Rot=ur(mce);const Tot=({data:r})=>{const e=t=>{switch(t){case"condition":return{background:"#e03131",color:"white",border:"2px solid #c92a2a"};case"current":return{background:"#228be6",color:"white",border:"2px solid #1c7ed6"};case"recommended":return{background:"#40c057",color:"white",border:"2px solid #37b24d"};case"alternative":return{background:"#fab005",color:"white",border:"2px solid #f59f00"};default:return{background:"#868e96",color:"white",border:"2px solid #495057"}}};return b.jsxs("div",{style:{padding:"12px 20px",borderRadius:"8px",minWidth:"180px",textAlign:"center",...e(r.type)},children:[b.jsx(Vg,{type:"target",position:tt.Left}),b.jsxs("div",{children:[b.jsx(Se,{size:"sm",weight:500,children:r.label}),r.severity&&b.jsx(to,{size:"sm",variant:"filled",color:"red",children:r.severity}),r.probability&&b.jsxs(to,{size:"sm",variant:"light",color:r.type==="current"?"blue":"gray",children:[Math.round(r.probability*100),"% probability"]}),r.details&&b.jsx(Se,{size:"xs",color:"gray.2",mt:4,children:r.details})]}),b.jsx(Vg,{type:"source",position:tt.Right})]})},Pot={pathway:Tot},Oot=({patient:r})=>{const{nodes:e,edges:t}=Rn(()=>{const n=[{id:"diabetes",name:"Type 2 Diabetes",severity:"Uncontrolled",actions:[{id:"diabetes-med",label:"Medication Adjustment",type:"recommended",probability:.85,details:"Increase Metformin to 1000mg BID",outcomes:[{id:"diabetes-outcome",label:"Target HbA1c",probability:.75,details:"HbA1c < 7.0%"}]},{id:"diabetes-lifestyle",label:"Lifestyle Program",type:"alternative",probability:.65,details:"Diet & Exercise Plan",outcomes:[{id:"diabetes-outcome",label:"Target HbA1c",probability:.75,details:"HbA1c < 7.0%"}]}]},{id:"hypertension",name:"Hypertension",severity:"Stage 2",actions:[{id:"htn-med",label:"Add ACE Inhibitor",type:"recommended",probability:.9,details:"Start Lisinopril 10mg daily",outcomes:[{id:"htn-outcome",label:"BP Control",probability:.8,details:"BP < 130/80"}]}]}];let i=[],o=[];return n.forEach((s,a)=>{const l=a*200;i.push({id:s.id,type:"pathway",position:{x:50,y:l},data:{label:s.name,type:"condition",severity:s.severity}}),s.actions.forEach((u,c)=>{const d=l+c*100-(s.actions.length-1)*50;i.push({id:u.id,type:"pathway",position:{x:300,y:d},data:{label:u.label,type:u.type,probability:u.probability,details:u.details}}),o.push({id:`${s.id}-${u.id}`,source:s.id,target:u.id,type:"smoothstep",markerEnd:{type:Gg.ArrowClosed},style:{stroke:u.type==="recommended"?"#40c057":"#fab005"}}),u.outcomes.forEach(h=>{const p={id:`${u.id}-${h.id}`,type:"pathway",position:{x:550,y:d},data:{label:h.label,type:"recommended",probability:h.probability,details:h.details}};i.find(f=>f.id===p.id)||i.push(p),o.push({id:`${u.id}-${h.id}`,source:u.id,target:`${u.id}-${h.id}`,type:"smoothstep",markerEnd:{type:Gg.ArrowClosed},style:{stroke:"#40c057"}})})})}),{nodes:i,edges:o}},[r]);return b.jsxs(Nn,{p:"xl",radius:"md",children:[b.jsxs(Ke,{position:"apart",mb:"lg",children:[b.jsx($r,{order:3,children:"Care Pathway"}),b.jsx(Se,{size:"sm",color:"dimmed",children:"Based on current conditions"})]}),b.jsx("div",{style:{height:500},children:b.jsxs(fce,{nodes:e,edges:t,nodeTypes:Pot,fitView:!0,minZoom:.5,maxZoom:1.5,defaultViewport:{zoom:1},children:[b.jsx(Rot,{}),b.jsx(Cot,{})]})})]})},vce=()=>{var i;const{id:r}=Hce(),{patients:e,loading:t}=lV(),n=e==null?void 0:e.find(o=>o.id===r);return t?b.jsx(EY,{style:{height:"calc(100vh - 200px)"},children:b.jsx(dd,{size:"xl"})}):n?b.jsxs(Gi,{size:"xl",py:"xl",children:[b.jsxs(Nn,{p:"xl",radius:"md",mb:"lg",children:[b.jsxs(Ke,{position:"apart",mb:"xl",children:[b.jsxs(Dn,{spacing:4,children:[b.jsxs($r,{order:2,children:[n.firstName," ",n.lastName]}),b.jsxs(Se,{color:"dimmed",size:"sm",children:["DOB: ",new Date(n.dateOfBirth).toLocaleDateString()]})]}),b.jsxs(Ke,{children:[b.jsx(Se,{weight:500,children:"Risk Level:"}),b.jsx(Se,{weight:600,color:n.riskLevel==="high"?"red":n.riskLevel==="medium"?"yellow":"green",children:(i=n.riskLevel)==null?void 0:i.toUpperCase()})]})]}),b.jsxs(sr,{children:[b.jsx(sr.Col,{span:4,children:b.jsx(uJe,{patient:n})}),b.jsx(sr.Col,{span:8,children:b.jsx(cJe,{patient:n})}),b.jsx(sr.Col,{span:12,children:b.jsx(HZe,{patient:n})}),b.jsx(sr.Col,{span:12,children:b.jsx(Oot,{patient:n})})]})]}),b.jsxs(sr,{children:[b.jsx(sr.Col,{span:6,children:b.jsx(Nn,{p:"xl",radius:"md",children:b.jsx($r,{order:3,mb:"lg",children:"Recent Activity"})})}),b.jsx(sr.Col,{span:6,children:b.jsx(Nn,{p:"xl",radius:"md",children:b.jsx($r,{order:3,mb:"lg",children:"Care Plan"})})})]})]}):b.jsx(Gi,{size:"xl",py:"xl",children:b.jsx(Nn,{p:"xl",radius:"md",children:b.jsx(Se,{align:"center",color:"dimmed",children:"Patient not found"})})})},Dot=()=>{var n;const{user:r}=nm(),e=up(),t=async()=>{try{await Wy.signOut(),e("/login")}catch(i){console.error("Error logging out:",i)}};return b.jsx(C7,{height:60,children:b.jsx(Ge,{className:"animated-header",children:b.jsxs(Ke,{position:"apart",px:"md",h:"100%",w:"100%",children:[b.jsx(Ke,{spacing:"xs",align:"left",ml:"0",children:b.jsx("img",{src:"/arcadia-logo.svg",alt:"Arcadia.io",style:{height:24},className:"arcadia-logo"})}),b.jsx(Se,{size:"xl",weight:700,className:"header-content",color:"white",children:"Galaxy Health"}),b.jsxs(Ke,{spacing:"md",children:[b.jsx(sJe,{}),b.jsxs(Un,{width:200,position:"bottom-end",shadow:"md",withArrow:!0,children:[b.jsx(Un.Target,{children:b.jsx(DO,{children:b.jsx(b0,{size:"md",radius:"xl",src:r==null?void 0:r.photoURL,sx:i=>({border:`2px solid ${i.white}`,cursor:"pointer"}),children:(n=r==null?void 0:r.displayName)==null?void 0:n.charAt(0)})})}),b.jsxs(Un.Dropdown,{children:[b.jsxs(Un.Label,{children:[b.jsx(Se,{size:"sm",weight:500,children:r==null?void 0:r.displayName}),b.jsx(Se,{size:"xs",color:"dimmed",children:r==null?void 0:r.email})]}),b.jsx(Oo,{my:"xs"}),b.jsx(Un.Item,{icon:b.jsx(CZ,{size:14}),onClick:()=>e("/settings/profile"),children:"Profile"}),b.jsx(Un.Item,{icon:b.jsx(GG,{size:14}),onClick:()=>e("/settings"),children:"Settings"}),b.jsx(Oo,{my:"xs"}),b.jsx(Un.Item,{color:"red",icon:b.jsx(W0e,{size:14}),onClick:t,children:"Logout"})]})]})]})]})})})},Aot=We(r=>({appShell:{main:{[r.fn.smallerThan("sm")]:{paddingBottom:"60px"}}}})),Mi=({children:r})=>{const{user:e,loading:t}=nm();return t?b.jsx(wT,{}):e?r:b.jsx(jN,{to:"/login"})},xot=()=>{const{classes:r}=Aot(),{user:e}=nm(),t=A6(),n=Yy(i=>i.initialize);return Fe(()=>{const i=n();return()=>i==null?void 0:i()},[n]),e?b.jsx(_7,{padding:"md",navbar:b.jsx(yke,{}),header:b.jsx(Dot,{}),classNames:{main:r.appShell.main},children:b.jsx(Uee,{mode:"wait",children:b.jsxs($ce,{location:t,children:[b.jsx(Kl,{path:"/dashboard",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(ste,{})})})}),b.jsx(Kl,{path:"/patients",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(Dle,{})})})}),b.jsx(Kl,{path:"/patients/:id",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(vce,{})})})}),b.jsx(Kl,{path:"/settings",element:b.jsx(Mi,{children:b.jsx(Ale,{})})}),b.jsx(Kl,{path:"/performance",element:b.jsx(Mi,{children:b.jsx(xle,{})})}),b.jsx(Kl,{path:"/ehr-alerts",element:b.jsx(Mi,{children:b.jsx(Ile,{})})}),b.jsx(Kl,{path:"/ai-recommendations",element:b.jsx(Mi,{children:b.jsx(Fle,{})})}),b.jsx(Kl,{path:"/patient-context",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(Mle,{})})})}),b.jsx(Kl,{path:"/",element:b.jsx(jN,{to:"/dashboard",replace:!0})})]},t.pathname)})}):b.jsx(Eke,{})},Iot=kce([{path:"/*",element:b.jsx(tGe,{children:b.jsx(x$e,{children:b.jsx(xot,{})})}),children:[{path:"dashboard",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(ste,{})})})},{path:"patients",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(Dle,{})})})},{path:"patients/:id",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(vce,{})})})},{path:"settings",element:b.jsx(Mi,{children:b.jsx(Ale,{})})},{path:"performance",element:b.jsx(Mi,{children:b.jsx(xle,{})})},{path:"ehr-alerts",element:b.jsx(Mi,{children:b.jsx(Ile,{})})},{path:"ai-recommendations",element:b.jsx(Mi,{children:b.jsx(Fle,{})})},{path:"patient-context",element:b.jsx(Mi,{children:b.jsx(Hc,{children:b.jsx(Mle,{})})})},{path:"",element:b.jsx(jN,{to:"/dashboard",replace:!0})}]}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}}),Fot=()=>b.jsx(oJe,{children:b.jsxs(e0,{withGlobalStyles:!0,withNormalizeCSS:!0,theme:{colorScheme:"light",primaryColor:"blue"},children:[b.jsx(Cp,{position:"top-right"}),b.jsx(Bce,{router:Iot})]})});console.log("Starting app initialization...");nM.createRoot(document.getElementById("root")).render(b.jsx(x.StrictMode,{children:b.jsx(Fot,{})}));
//# sourceMappingURL=index.jaVZ8_q2.js.map
